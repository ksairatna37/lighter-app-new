var ASe=Object.defineProperty;var AY=t=>{throw TypeError(t)};var CSe=(t,e,n)=>e in t?ASe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>CSe(t,typeof e!="symbol"?e+"":e,n),EP=(t,e,n)=>e.has(t)||AY("Cannot "+n);var H=(t,e,n)=>(EP(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>e.has(t)?AY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(EP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Fe=(t,e,n)=>(EP(t,e,"access private method"),n);var c0=(t,e,n,r)=>({set _(i){te(t,e,i,n)},get _(){return H(t,e,r)}});function kSe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Ks(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function y3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var zce={exports:{}},DI={},Wce={exports:{}},_n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=Symbol.for("react.element"),SSe=Symbol.for("react.portal"),_Se=Symbol.for("react.fragment"),ISe=Symbol.for("react.strict_mode"),TSe=Symbol.for("react.profiler"),$Se=Symbol.for("react.provider"),NSe=Symbol.for("react.context"),PSe=Symbol.for("react.forward_ref"),RSe=Symbol.for("react.suspense"),jSe=Symbol.for("react.memo"),OSe=Symbol.for("react.lazy"),CY=Symbol.iterator;function MSe(t){return t===null||typeof t!="object"?null:(t=CY&&t[CY]||t["@@iterator"],typeof t=="function"?t:null)}var Hce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vce=Object.assign,qce={};function w3(t,e,n){this.props=t,this.context=e,this.refs=qce,this.updater=n||Hce}w3.prototype.isReactComponent={};w3.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};w3.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gce(){}Gce.prototype=w3.prototype;function Kz(t,e,n){this.props=t,this.context=e,this.refs=qce,this.updater=n||Hce}var Yz=Kz.prototype=new Gce;Yz.constructor=Kz;Vce(Yz,w3.prototype);Yz.isPureReactComponent=!0;var kY=Array.isArray,Kce=Object.prototype.hasOwnProperty,Qz={current:null},Yce={key:!0,ref:!0,__self:!0,__source:!0};function Qce(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Kce.call(e,r)&&!Yce.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cA,type:t,key:s,ref:o,props:i,_owner:Qz.current}}function DSe(t,e){return{$$typeof:cA,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zz(t){return typeof t=="object"&&t!==null&&t.$$typeof===cA}function BSe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SY=/\/+/g;function AP(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BSe(""+t.key):e.toString(36)}function g9(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cA:case SSe:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+AP(o,0):r,kY(i)?(n="",t!=null&&(n=t.replace(SY,"$&/")+"/"),g9(i,e,n,"",function(c){return c})):i!=null&&(Zz(i)&&(i=DSe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(SY,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kY(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+AP(s,a);o+=g9(s,e,n,l,i)}else if(l=MSe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+AP(s,a++),o+=g9(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $C(t,e,n){if(t==null)return t;var r=[],i=0;return g9(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LSe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ga={current:null},y9={transition:null},FSe={ReactCurrentDispatcher:ga,ReactCurrentBatchConfig:y9,ReactCurrentOwner:Qz};function Zce(){throw Error("act(...) is not supported in production builds of React.")}_n.Children={map:$C,forEach:function(t,e,n){$C(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $C(t,function(){e++}),e},toArray:function(t){return $C(t,function(e){return e})||[]},only:function(t){if(!Zz(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_n.Component=w3;_n.Fragment=_Se;_n.Profiler=TSe;_n.PureComponent=Kz;_n.StrictMode=ISe;_n.Suspense=RSe;_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FSe;_n.act=Zce;_n.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vce({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qz.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kce.call(e,l)&&!Yce.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cA,type:t.type,key:i,ref:s,props:r,_owner:o}};_n.createContext=function(t){return t={$$typeof:NSe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$Se,_context:t},t.Consumer=t};_n.createElement=Qce;_n.createFactory=function(t){var e=Qce.bind(null,t);return e.type=t,e};_n.createRef=function(){return{current:null}};_n.forwardRef=function(t){return{$$typeof:PSe,render:t}};_n.isValidElement=Zz;_n.lazy=function(t){return{$$typeof:OSe,_payload:{_status:-1,_result:t},_init:LSe}};_n.memo=function(t,e){return{$$typeof:jSe,type:t,compare:e===void 0?null:e}};_n.startTransition=function(t){var e=y9.transition;y9.transition={};try{t()}finally{y9.transition=e}};_n.unstable_act=Zce;_n.useCallback=function(t,e){return ga.current.useCallback(t,e)};_n.useContext=function(t){return ga.current.useContext(t)};_n.useDebugValue=function(){};_n.useDeferredValue=function(t){return ga.current.useDeferredValue(t)};_n.useEffect=function(t,e){return ga.current.useEffect(t,e)};_n.useId=function(){return ga.current.useId()};_n.useImperativeHandle=function(t,e,n){return ga.current.useImperativeHandle(t,e,n)};_n.useInsertionEffect=function(t,e){return ga.current.useInsertionEffect(t,e)};_n.useLayoutEffect=function(t,e){return ga.current.useLayoutEffect(t,e)};_n.useMemo=function(t,e){return ga.current.useMemo(t,e)};_n.useReducer=function(t,e,n){return ga.current.useReducer(t,e,n)};_n.useRef=function(t){return ga.current.useRef(t)};_n.useState=function(t){return ga.current.useState(t)};_n.useSyncExternalStore=function(t,e,n){return ga.current.useSyncExternalStore(t,e,n)};_n.useTransition=function(){return ga.current.useTransition()};_n.version="18.3.1";Wce.exports=_n;var x=Wce.exports;const Ae=Ks(x),$4=kSe({__proto__:null,default:Ae},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var USe=x,zSe=Symbol.for("react.element"),WSe=Symbol.for("react.fragment"),HSe=Object.prototype.hasOwnProperty,VSe=USe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qSe={key:!0,ref:!0,__self:!0,__source:!0};function Jce(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HSe.call(e,r)&&!qSe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zSe,type:t,key:s,ref:o,props:i,_owner:VSe.current}}DI.Fragment=WSe;DI.jsx=Jce;DI.jsxs=Jce;zce.exports=DI;var d=zce.exports,Xce={exports:{}},nc={},eue={exports:{}},tue={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,P){var D=_.length;_.push(P);e:for(;0<D;){var j=D-1>>>1,I=_[j];if(0<i(I,P))_[j]=P,_[D]=I,D=j;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],D=_.pop();if(D!==P){_[0]=D;e:for(var j=0,I=_.length,L=I>>>1;j<L;){var J=2*(j+1)-1,O=_[J],G=J+1,Z=_[G];if(0>i(O,D))G<I&&0>i(Z,O)?(_[j]=Z,_[G]=D,j=G):(_[j]=O,_[J]=D,j=J);else if(G<I&&0>i(Z,D))_[j]=Z,_[G]=D,j=G;else break e}}return P}function i(_,P){var D=_.sortIndex-P.sortIndex;return D!==0?D:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=_)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function A(_){if(g=!1,b(_),!m)if(n(l)!==null)m=!0,S(E);else{var P=n(c);P!==null&&T(A,P.startTime-_)}}function E(_,P){m=!1,g&&(g=!1,w(R),R=-1),p=!0;var D=f;try{for(b(P),h=n(l);h!==null&&(!(h.expirationTime>P)||_&&!W());){var j=h.callback;if(typeof j=="function"){h.callback=null,f=h.priorityLevel;var I=j(h.expirationTime<=P);P=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),b(P)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var J=n(c);J!==null&&T(A,J.startTime-P),L=!1}return L}finally{h=null,f=D,p=!1}}var $=!1,N=null,R=-1,M=5,F=-1;function W(){return!(t.unstable_now()-F<M)}function V(){if(N!==null){var _=t.unstable_now();F=_;var P=!0;try{P=N(!0,_)}finally{P?B():($=!1,N=null)}}else $=!1}var B;if(typeof v=="function")B=function(){v(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,C=k.port2;k.port1.onmessage=V,B=function(){C.postMessage(null)}}else B=function(){y(V,0)};function S(_){N=_,$||($=!0,B())}function T(_,P){R=y(function(){_(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,S(E))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var D=f;f=P;try{return _()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var D=f;f=_;try{return P()}finally{f=D}},t.unstable_scheduleCallback=function(_,P,D){var j=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?j+D:j):D=j,_){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=D+I,_={id:u++,callback:P,priorityLevel:_,startTime:D,expirationTime:I,sortIndex:-1},D>j?(_.sortIndex=D,e(c,_),n(l)===null&&_===n(c)&&(g?(w(R),R=-1):g=!0,T(A,D-j))):(_.sortIndex=I,e(l,_),m||p||(m=!0,S(E))),_},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(_){var P=f;return function(){var D=f;f=P;try{return _.apply(this,arguments)}finally{f=D}}}})(tue);eue.exports=tue;var GSe=eue.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KSe=x,Gl=GSe;function Ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nue=new Set,N4={};function xw(t,e){dx(t,e),dx(t+"Capture",e)}function dx(t,e){for(N4[t]=e,t=0;t<e.length;t++)nue.add(e[t])}var Pp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HM=Object.prototype.hasOwnProperty,YSe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_Y={},IY={};function QSe(t){return HM.call(IY,t)?!0:HM.call(_Y,t)?!1:YSe.test(t)?IY[t]=!0:(_Y[t]=!0,!1)}function ZSe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JSe(t,e,n,r){if(e===null||typeof e>"u"||ZSe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ya(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qs[t]=new ya(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qs[e]=new ya(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qs[t]=new ya(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qs[t]=new ya(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qs[t]=new ya(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qs[t]=new ya(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qs[t]=new ya(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qs[t]=new ya(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qs[t]=new ya(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jz=/[\-:]([a-z])/g;function Xz(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jz,Xz);qs[e]=new ya(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jz,Xz);qs[e]=new ya(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jz,Xz);qs[e]=new ya(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qs[t]=new ya(t,1,!1,t.toLowerCase(),null,!1,!1)});qs.xlinkHref=new ya("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qs[t]=new ya(t,1,!1,t.toLowerCase(),null,!0,!0)});function eW(t,e,n,r){var i=qs.hasOwnProperty(e)?qs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JSe(e,n,i,r)&&(n=null),r||i===null?QSe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var r0=KSe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,NC=Symbol.for("react.element"),Xb=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tW=Symbol.for("react.strict_mode"),VM=Symbol.for("react.profiler"),rue=Symbol.for("react.provider"),iue=Symbol.for("react.context"),nW=Symbol.for("react.forward_ref"),qM=Symbol.for("react.suspense"),GM=Symbol.for("react.suspense_list"),rW=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),sue=Symbol.for("react.offscreen"),TY=Symbol.iterator;function g5(t){return t===null||typeof t!="object"?null:(t=TY&&t[TY]||t["@@iterator"],typeof t=="function"?t:null)}var ii=Object.assign,CP;function h6(t){if(CP===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);CP=e&&e[1]||""}return`
`+CP+t}var kP=!1;function SP(t,e){if(!t||kP)return"";kP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kP=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?h6(t):""}function XSe(t){switch(t.tag){case 5:return h6(t.type);case 16:return h6("Lazy");case 13:return h6("Suspense");case 19:return h6("SuspenseList");case 0:case 2:case 15:return t=SP(t.type,!1),t;case 11:return t=SP(t.type.render,!1),t;case 1:return t=SP(t.type,!0),t;default:return""}}function KM(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ev:return"Fragment";case Xb:return"Portal";case VM:return"Profiler";case tW:return"StrictMode";case qM:return"Suspense";case GM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iue:return(t.displayName||"Context")+".Consumer";case rue:return(t._context.displayName||"Context")+".Provider";case nW:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rW:return e=t.displayName||null,e!==null?e:KM(t.type)||"Memo";case Y0:e=t._payload,t=t._init;try{return KM(t(e))}catch{}}return null}function e_e(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KM(e);case 8:return e===tW?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lg(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oue(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t_e(t){var e=oue(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function PC(t){t._valueTracker||(t._valueTracker=t_e(t))}function aue(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oue(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function DS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function YM(t,e){var n=e.checked;return ii({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $Y(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lg(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lue(t,e){e=e.checked,e!=null&&eW(t,"checked",e,!1)}function QM(t,e){lue(t,e);var n=lg(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ZM(t,e.type,n):e.hasOwnProperty("defaultValue")&&ZM(t,e.type,lg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NY(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ZM(t,e,n){(e!=="number"||DS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var f6=Array.isArray;function Bv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lg(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function JM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return ii({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PY(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ze(92));if(f6(n)){if(1<n.length)throw Error(Ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lg(n)}}function cue(t,e){var n=lg(e.value),r=lg(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RY(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uue(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uue(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var RC,due=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(RC=RC||document.createElement("div"),RC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=RC.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function P4(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var U6={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n_e=["Webkit","ms","Moz","O"];Object.keys(U6).forEach(function(t){n_e.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),U6[e]=U6[t]})});function hue(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||U6.hasOwnProperty(t)&&U6[t]?(""+e).trim():e+"px"}function fue(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hue(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var r_e=ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eD(t,e){if(e){if(r_e[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ze(62))}}function tD(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nD=null;function iW(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rD=null,Lv=null,Fv=null;function jY(t){if(t=hA(t)){if(typeof rD!="function")throw Error(Ze(280));var e=t.stateNode;e&&(e=zI(e),rD(t.stateNode,t.type,e))}}function pue(t){Lv?Fv?Fv.push(t):Fv=[t]:Lv=t}function mue(){if(Lv){var t=Lv,e=Fv;if(Fv=Lv=null,jY(t),e)for(t=0;t<e.length;t++)jY(e[t])}}function gue(t,e){return t(e)}function yue(){}var _P=!1;function wue(t,e,n){if(_P)return t(e,n);_P=!0;try{return gue(t,e,n)}finally{_P=!1,(Lv!==null||Fv!==null)&&(yue(),mue())}}function R4(t,e){var n=t.stateNode;if(n===null)return null;var r=zI(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ze(231,e,typeof n));return n}var iD=!1;if(Pp)try{var y5={};Object.defineProperty(y5,"passive",{get:function(){iD=!0}}),window.addEventListener("test",y5,y5),window.removeEventListener("test",y5,y5)}catch{iD=!1}function i_e(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var z6=!1,BS=null,LS=!1,sD=null,s_e={onError:function(t){z6=!0,BS=t}};function o_e(t,e,n,r,i,s,o,a,l){z6=!1,BS=null,i_e.apply(s_e,arguments)}function a_e(t,e,n,r,i,s,o,a,l){if(o_e.apply(this,arguments),z6){if(z6){var c=BS;z6=!1,BS=null}else throw Error(Ze(198));LS||(LS=!0,sD=c)}}function Ew(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bue(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function OY(t){if(Ew(t)!==t)throw Error(Ze(188))}function l_e(t){var e=t.alternate;if(!e){if(e=Ew(t),e===null)throw Error(Ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return OY(i),t;if(s===r)return OY(i),e;s=s.sibling}throw Error(Ze(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ze(189))}}if(n.alternate!==r)throw Error(Ze(190))}if(n.tag!==3)throw Error(Ze(188));return n.stateNode.current===n?t:e}function vue(t){return t=l_e(t),t!==null?xue(t):null}function xue(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xue(t);if(e!==null)return e;t=t.sibling}return null}var Eue=Gl.unstable_scheduleCallback,MY=Gl.unstable_cancelCallback,c_e=Gl.unstable_shouldYield,u_e=Gl.unstable_requestPaint,$i=Gl.unstable_now,d_e=Gl.unstable_getCurrentPriorityLevel,sW=Gl.unstable_ImmediatePriority,Aue=Gl.unstable_UserBlockingPriority,FS=Gl.unstable_NormalPriority,h_e=Gl.unstable_LowPriority,Cue=Gl.unstable_IdlePriority,BI=null,Nh=null;function f_e(t){if(Nh&&typeof Nh.onCommitFiberRoot=="function")try{Nh.onCommitFiberRoot(BI,t,void 0,(t.current.flags&128)===128)}catch{}}var id=Math.clz32?Math.clz32:g_e,p_e=Math.log,m_e=Math.LN2;function g_e(t){return t>>>=0,t===0?32:31-(p_e(t)/m_e|0)|0}var jC=64,OC=4194304;function p6(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function US(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=p6(a):(s&=o,s!==0&&(r=p6(s)))}else o=n&~i,o!==0?r=p6(o):s!==0&&(r=p6(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-id(e),i=1<<n,r|=t[n],e&=~i;return r}function y_e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w_e(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-id(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=y_e(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function oD(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kue(){var t=jC;return jC<<=1,!(jC&4194240)&&(jC=64),t}function IP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uA(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-id(e),t[e]=n}function b_e(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-id(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oW(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-id(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var lr=0;function Sue(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _ue,aW,Iue,Tue,$ue,aD=!1,MC=[],Gm=null,Km=null,Ym=null,j4=new Map,O4=new Map,sm=[],v_e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DY(t,e){switch(t){case"focusin":case"focusout":Gm=null;break;case"dragenter":case"dragleave":Km=null;break;case"mouseover":case"mouseout":Ym=null;break;case"pointerover":case"pointerout":j4.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":O4.delete(e.pointerId)}}function w5(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hA(e),e!==null&&aW(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x_e(t,e,n,r,i){switch(e){case"focusin":return Gm=w5(Gm,t,e,n,r,i),!0;case"dragenter":return Km=w5(Km,t,e,n,r,i),!0;case"mouseover":return Ym=w5(Ym,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return j4.set(s,w5(j4.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,O4.set(s,w5(O4.get(s)||null,t,e,n,r,i)),!0}return!1}function Nue(t){var e=ky(t.target);if(e!==null){var n=Ew(e);if(n!==null){if(e=n.tag,e===13){if(e=bue(n),e!==null){t.blockedOn=e,$ue(t.priority,function(){Iue(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function w9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lD(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nD=r,n.target.dispatchEvent(r),nD=null}else return e=hA(n),e!==null&&aW(e),t.blockedOn=n,!1;e.shift()}return!0}function BY(t,e,n){w9(t)&&n.delete(e)}function E_e(){aD=!1,Gm!==null&&w9(Gm)&&(Gm=null),Km!==null&&w9(Km)&&(Km=null),Ym!==null&&w9(Ym)&&(Ym=null),j4.forEach(BY),O4.forEach(BY)}function b5(t,e){t.blockedOn===e&&(t.blockedOn=null,aD||(aD=!0,Gl.unstable_scheduleCallback(Gl.unstable_NormalPriority,E_e)))}function M4(t){function e(i){return b5(i,t)}if(0<MC.length){b5(MC[0],t);for(var n=1;n<MC.length;n++){var r=MC[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gm!==null&&b5(Gm,t),Km!==null&&b5(Km,t),Ym!==null&&b5(Ym,t),j4.forEach(e),O4.forEach(e),n=0;n<sm.length;n++)r=sm[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sm.length&&(n=sm[0],n.blockedOn===null);)Nue(n),n.blockedOn===null&&sm.shift()}var Uv=r0.ReactCurrentBatchConfig,zS=!0;function A_e(t,e,n,r){var i=lr,s=Uv.transition;Uv.transition=null;try{lr=1,lW(t,e,n,r)}finally{lr=i,Uv.transition=s}}function C_e(t,e,n,r){var i=lr,s=Uv.transition;Uv.transition=null;try{lr=4,lW(t,e,n,r)}finally{lr=i,Uv.transition=s}}function lW(t,e,n,r){if(zS){var i=lD(t,e,n,r);if(i===null)BP(t,e,r,WS,n),DY(t,r);else if(x_e(i,t,e,n,r))r.stopPropagation();else if(DY(t,r),e&4&&-1<v_e.indexOf(t)){for(;i!==null;){var s=hA(i);if(s!==null&&_ue(s),s=lD(t,e,n,r),s===null&&BP(t,e,r,WS,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else BP(t,e,r,null,n)}}var WS=null;function lD(t,e,n,r){if(WS=null,t=iW(r),t=ky(t),t!==null)if(e=Ew(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bue(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return WS=t,null}function Pue(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d_e()){case sW:return 1;case Aue:return 4;case FS:case h_e:return 16;case Cue:return 536870912;default:return 16}default:return 16}}var Mm=null,cW=null,b9=null;function Rue(){if(b9)return b9;var t,e=cW,n=e.length,r,i="value"in Mm?Mm.value:Mm.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return b9=i.slice(t,1<r?1-r:void 0)}function v9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function DC(){return!0}function LY(){return!1}function rc(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?DC:LY,this.isPropagationStopped=LY,this}return ii(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=DC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=DC)},persist:function(){},isPersistent:DC}),e}var b3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uW=rc(b3),dA=ii({},b3,{view:0,detail:0}),k_e=rc(dA),TP,$P,v5,LI=ii({},dA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dW,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==v5&&(v5&&t.type==="mousemove"?(TP=t.screenX-v5.screenX,$P=t.screenY-v5.screenY):$P=TP=0,v5=t),TP)},movementY:function(t){return"movementY"in t?t.movementY:$P}}),FY=rc(LI),S_e=ii({},LI,{dataTransfer:0}),__e=rc(S_e),I_e=ii({},dA,{relatedTarget:0}),NP=rc(I_e),T_e=ii({},b3,{animationName:0,elapsedTime:0,pseudoElement:0}),$_e=rc(T_e),N_e=ii({},b3,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P_e=rc(N_e),R_e=ii({},b3,{data:0}),UY=rc(R_e),j_e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O_e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M_e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D_e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M_e[t])?!!e[t]:!1}function dW(){return D_e}var B_e=ii({},dA,{key:function(t){if(t.key){var e=j_e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=v9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O_e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dW,charCode:function(t){return t.type==="keypress"?v9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?v9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L_e=rc(B_e),F_e=ii({},LI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zY=rc(F_e),U_e=ii({},dA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dW}),z_e=rc(U_e),W_e=ii({},b3,{propertyName:0,elapsedTime:0,pseudoElement:0}),H_e=rc(W_e),V_e=ii({},LI,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q_e=rc(V_e),G_e=[9,13,27,32],hW=Pp&&"CompositionEvent"in window,W6=null;Pp&&"documentMode"in document&&(W6=document.documentMode);var K_e=Pp&&"TextEvent"in window&&!W6,jue=Pp&&(!hW||W6&&8<W6&&11>=W6),WY=" ",HY=!1;function Oue(t,e){switch(t){case"keyup":return G_e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tv=!1;function Y_e(t,e){switch(t){case"compositionend":return Mue(e);case"keypress":return e.which!==32?null:(HY=!0,WY);case"textInput":return t=e.data,t===WY&&HY?null:t;default:return null}}function Q_e(t,e){if(tv)return t==="compositionend"||!hW&&Oue(t,e)?(t=Rue(),b9=cW=Mm=null,tv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jue&&e.locale!=="ko"?null:e.data;default:return null}}var Z_e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VY(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z_e[t.type]:e==="textarea"}function Due(t,e,n,r){pue(r),e=HS(e,"onChange"),0<e.length&&(n=new uW("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var H6=null,D4=null;function J_e(t){Kue(t,0)}function FI(t){var e=iv(t);if(aue(e))return t}function X_e(t,e){if(t==="change")return e}var Bue=!1;if(Pp){var PP;if(Pp){var RP="oninput"in document;if(!RP){var qY=document.createElement("div");qY.setAttribute("oninput","return;"),RP=typeof qY.oninput=="function"}PP=RP}else PP=!1;Bue=PP&&(!document.documentMode||9<document.documentMode)}function GY(){H6&&(H6.detachEvent("onpropertychange",Lue),D4=H6=null)}function Lue(t){if(t.propertyName==="value"&&FI(D4)){var e=[];Due(e,D4,t,iW(t)),wue(J_e,e)}}function e7e(t,e,n){t==="focusin"?(GY(),H6=e,D4=n,H6.attachEvent("onpropertychange",Lue)):t==="focusout"&&GY()}function t7e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return FI(D4)}function n7e(t,e){if(t==="click")return FI(e)}function r7e(t,e){if(t==="input"||t==="change")return FI(e)}function i7e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hd=typeof Object.is=="function"?Object.is:i7e;function B4(t,e){if(hd(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!HM.call(e,i)||!hd(t[i],e[i]))return!1}return!0}function KY(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YY(t,e){var n=KY(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=KY(n)}}function Fue(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fue(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uue(){for(var t=window,e=DS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=DS(t.document)}return e}function fW(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s7e(t){var e=Uue(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fue(n.ownerDocument.documentElement,n)){if(r!==null&&fW(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=YY(n,s);var o=YY(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o7e=Pp&&"documentMode"in document&&11>=document.documentMode,nv=null,cD=null,V6=null,uD=!1;function QY(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uD||nv==null||nv!==DS(r)||(r=nv,"selectionStart"in r&&fW(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),V6&&B4(V6,r)||(V6=r,r=HS(cD,"onSelect"),0<r.length&&(e=new uW("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nv)))}function BC(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rv={animationend:BC("Animation","AnimationEnd"),animationiteration:BC("Animation","AnimationIteration"),animationstart:BC("Animation","AnimationStart"),transitionend:BC("Transition","TransitionEnd")},jP={},zue={};Pp&&(zue=document.createElement("div").style,"AnimationEvent"in window||(delete rv.animationend.animation,delete rv.animationiteration.animation,delete rv.animationstart.animation),"TransitionEvent"in window||delete rv.transitionend.transition);function UI(t){if(jP[t])return jP[t];if(!rv[t])return t;var e=rv[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zue)return jP[t]=e[n];return t}var Wue=UI("animationend"),Hue=UI("animationiteration"),Vue=UI("animationstart"),que=UI("transitionend"),Gue=new Map,ZY="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kg(t,e){Gue.set(t,e),xw(e,[t])}for(var OP=0;OP<ZY.length;OP++){var MP=ZY[OP],a7e=MP.toLowerCase(),l7e=MP[0].toUpperCase()+MP.slice(1);kg(a7e,"on"+l7e)}kg(Wue,"onAnimationEnd");kg(Hue,"onAnimationIteration");kg(Vue,"onAnimationStart");kg("dblclick","onDoubleClick");kg("focusin","onFocus");kg("focusout","onBlur");kg(que,"onTransitionEnd");dx("onMouseEnter",["mouseout","mouseover"]);dx("onMouseLeave",["mouseout","mouseover"]);dx("onPointerEnter",["pointerout","pointerover"]);dx("onPointerLeave",["pointerout","pointerover"]);xw("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xw("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xw("onBeforeInput",["compositionend","keypress","textInput","paste"]);xw("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xw("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xw("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var m6="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c7e=new Set("cancel close invalid load scroll toggle".split(" ").concat(m6));function JY(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a_e(r,e,void 0,t),t.currentTarget=null}function Kue(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;JY(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;JY(i,a,c),s=l}}}if(LS)throw t=sD,LS=!1,sD=null,t}function Rr(t,e){var n=e[mD];n===void 0&&(n=e[mD]=new Set);var r=t+"__bubble";n.has(r)||(Yue(e,t,2,!1),n.add(r))}function DP(t,e,n){var r=0;e&&(r|=4),Yue(n,t,r,e)}var LC="_reactListening"+Math.random().toString(36).slice(2);function L4(t){if(!t[LC]){t[LC]=!0,nue.forEach(function(n){n!=="selectionchange"&&(c7e.has(n)||DP(n,!1,t),DP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[LC]||(e[LC]=!0,DP("selectionchange",!1,e))}}function Yue(t,e,n,r){switch(Pue(e)){case 1:var i=A_e;break;case 4:i=C_e;break;default:i=lW}n=i.bind(null,e,n,t),i=void 0,!iD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function BP(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ky(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}wue(function(){var c=s,u=iW(n),h=[];e:{var f=Gue.get(t);if(f!==void 0){var p=uW,m=t;switch(t){case"keypress":if(v9(n)===0)break e;case"keydown":case"keyup":p=L_e;break;case"focusin":m="focus",p=NP;break;case"focusout":m="blur",p=NP;break;case"beforeblur":case"afterblur":p=NP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FY;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=__e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=z_e;break;case Wue:case Hue:case Vue:p=$_e;break;case que:p=H_e;break;case"scroll":p=k_e;break;case"wheel":p=q_e;break;case"copy":case"cut":case"paste":p=P_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zY}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,b;v!==null;){b=v;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,w!==null&&(A=R4(v,w),A!=null&&g.push(F4(v,A,b)))),y)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==nD&&(m=n.relatedTarget||n.fromElement)&&(ky(m)||m[Rp]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ky(m):null,m!==null&&(y=Ew(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=FY,A="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=zY,A="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?f:iv(p),b=m==null?f:iv(m),f=new g(A,v+"leave",p,n,u),f.target=y,f.relatedTarget=b,A=null,ky(u)===c&&(g=new g(w,v+"enter",m,n,u),g.target=b,g.relatedTarget=y,A=g),y=A,p&&m)t:{for(g=p,w=m,v=0,b=g;b;b=rb(b))v++;for(b=0,A=w;A;A=rb(A))b++;for(;0<v-b;)g=rb(g),v--;for(;0<b-v;)w=rb(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=rb(g),w=rb(w)}g=null}else g=null;p!==null&&XY(h,f,p,g,!1),m!==null&&y!==null&&XY(h,y,m,g,!0)}}e:{if(f=c?iv(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=X_e;else if(VY(f))if(Bue)E=r7e;else{E=t7e;var $=e7e}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=n7e);if(E&&(E=E(t,c))){Due(h,E,n,u);break e}$&&$(t,f,c),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&ZM(f,"number",f.value)}switch($=c?iv(c):window,t){case"focusin":(VY($)||$.contentEditable==="true")&&(nv=$,cD=c,V6=null);break;case"focusout":V6=cD=nv=null;break;case"mousedown":uD=!0;break;case"contextmenu":case"mouseup":case"dragend":uD=!1,QY(h,n,u);break;case"selectionchange":if(o7e)break;case"keydown":case"keyup":QY(h,n,u)}var N;if(hW)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else tv?Oue(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(jue&&n.locale!=="ko"&&(tv||R!=="onCompositionStart"?R==="onCompositionEnd"&&tv&&(N=Rue()):(Mm=u,cW="value"in Mm?Mm.value:Mm.textContent,tv=!0)),$=HS(c,R),0<$.length&&(R=new UY(R,t,null,n,u),h.push({event:R,listeners:$}),N?R.data=N:(N=Mue(n),N!==null&&(R.data=N)))),(N=K_e?Y_e(t,n):Q_e(t,n))&&(c=HS(c,"onBeforeInput"),0<c.length&&(u=new UY("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=N))}Kue(h,e)})}function F4(t,e,n){return{instance:t,listener:e,currentTarget:n}}function HS(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=R4(t,n),s!=null&&r.unshift(F4(t,s,i)),s=R4(t,e),s!=null&&r.push(F4(t,s,i))),t=t.return}return r}function rb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XY(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=R4(n,s),l!=null&&o.unshift(F4(n,l,a))):i||(l=R4(n,s),l!=null&&o.push(F4(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var u7e=/\r\n?/g,d7e=/\u0000|\uFFFD/g;function eQ(t){return(typeof t=="string"?t:""+t).replace(u7e,`
`).replace(d7e,"")}function FC(t,e,n){if(e=eQ(e),eQ(t)!==e&&n)throw Error(Ze(425))}function VS(){}var dD=null,hD=null;function fD(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pD=typeof setTimeout=="function"?setTimeout:void 0,h7e=typeof clearTimeout=="function"?clearTimeout:void 0,tQ=typeof Promise=="function"?Promise:void 0,f7e=typeof queueMicrotask=="function"?queueMicrotask:typeof tQ<"u"?function(t){return tQ.resolve(null).then(t).catch(p7e)}:pD;function p7e(t){setTimeout(function(){throw t})}function LP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),M4(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);M4(e)}function Qm(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nQ(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var v3=Math.random().toString(36).slice(2),xh="__reactFiber$"+v3,U4="__reactProps$"+v3,Rp="__reactContainer$"+v3,mD="__reactEvents$"+v3,m7e="__reactListeners$"+v3,g7e="__reactHandles$"+v3;function ky(t){var e=t[xh];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rp]||n[xh]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nQ(t);t!==null;){if(n=t[xh])return n;t=nQ(t)}return e}t=n,n=t.parentNode}return null}function hA(t){return t=t[xh]||t[Rp],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ze(33))}function zI(t){return t[U4]||null}var gD=[],sv=-1;function Sg(t){return{current:t}}function Lr(t){0>sv||(t.current=gD[sv],gD[sv]=null,sv--)}function Sr(t,e){sv++,gD[sv]=t.current,t.current=e}var cg={},Mo=Sg(cg),Ga=Sg(!1),M1=cg;function hx(t,e){var n=t.type.contextTypes;if(!n)return cg;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ka(t){return t=t.childContextTypes,t!=null}function qS(){Lr(Ga),Lr(Mo)}function rQ(t,e,n){if(Mo.current!==cg)throw Error(Ze(168));Sr(Mo,e),Sr(Ga,n)}function Que(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ze(108,e_e(t)||"Unknown",i));return ii({},n,r)}function GS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cg,M1=Mo.current,Sr(Mo,t),Sr(Ga,Ga.current),!0}function iQ(t,e,n){var r=t.stateNode;if(!r)throw Error(Ze(169));n?(t=Que(t,e,M1),r.__reactInternalMemoizedMergedChildContext=t,Lr(Ga),Lr(Mo),Sr(Mo,t)):Lr(Ga),Sr(Ga,n)}var Uf=null,WI=!1,FP=!1;function Zue(t){Uf===null?Uf=[t]:Uf.push(t)}function y7e(t){WI=!0,Zue(t)}function _g(){if(!FP&&Uf!==null){FP=!0;var t=0,e=lr;try{var n=Uf;for(lr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Uf=null,WI=!1}catch(i){throw Uf!==null&&(Uf=Uf.slice(t+1)),Eue(sW,_g),i}finally{lr=e,FP=!1}}return null}var ov=[],av=0,KS=null,YS=0,Fc=[],Uc=0,D1=null,fp=1,pp="";function ey(t,e){ov[av++]=YS,ov[av++]=KS,KS=t,YS=e}function Jue(t,e,n){Fc[Uc++]=fp,Fc[Uc++]=pp,Fc[Uc++]=D1,D1=t;var r=fp;t=pp;var i=32-id(r)-1;r&=~(1<<i),n+=1;var s=32-id(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fp=1<<32-id(e)+i|n<<i|r,pp=s+t}else fp=1<<s|n<<i|r,pp=t}function pW(t){t.return!==null&&(ey(t,1),Jue(t,1,0))}function mW(t){for(;t===KS;)KS=ov[--av],ov[av]=null,YS=ov[--av],ov[av]=null;for(;t===D1;)D1=Fc[--Uc],Fc[Uc]=null,pp=Fc[--Uc],Fc[Uc]=null,fp=Fc[--Uc],Fc[Uc]=null}var Wl=null,Ul=null,qr=!1,Yu=null;function Xue(t,e){var n=qc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sQ(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wl=t,Ul=Qm(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wl=t,Ul=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=D1!==null?{id:fp,overflow:pp}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wl=t,Ul=null,!0):!1;default:return!1}}function yD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wD(t){if(qr){var e=Ul;if(e){var n=e;if(!sQ(t,e)){if(yD(t))throw Error(Ze(418));e=Qm(n.nextSibling);var r=Wl;e&&sQ(t,e)?Xue(r,n):(t.flags=t.flags&-4097|2,qr=!1,Wl=t)}}else{if(yD(t))throw Error(Ze(418));t.flags=t.flags&-4097|2,qr=!1,Wl=t}}}function oQ(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wl=t}function UC(t){if(t!==Wl)return!1;if(!qr)return oQ(t),qr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fD(t.type,t.memoizedProps)),e&&(e=Ul)){if(yD(t))throw ede(),Error(Ze(418));for(;e;)Xue(t,e),e=Qm(e.nextSibling)}if(oQ(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ul=Qm(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ul=null}}else Ul=Wl?Qm(t.stateNode.nextSibling):null;return!0}function ede(){for(var t=Ul;t;)t=Qm(t.nextSibling)}function fx(){Ul=Wl=null,qr=!1}function gW(t){Yu===null?Yu=[t]:Yu.push(t)}var w7e=r0.ReactCurrentBatchConfig;function x5(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ze(309));var r=n.stateNode}if(!r)throw Error(Ze(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ze(284));if(!n._owner)throw Error(Ze(290,t))}return t}function zC(t,e){throw t=Object.prototype.toString.call(e),Error(Ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aQ(t){var e=t._init;return e(t._payload)}function tde(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=eg(w,v),w.index=0,w.sibling=null,w}function s(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,A){return v===null||v.tag!==6?(v=GP(b,w.mode,A),v.return=w,v):(v=i(v,b),v.return=w,v)}function l(w,v,b,A){var E=b.type;return E===ev?u(w,v,b.props.children,A,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Y0&&aQ(E)===v.type)?(A=i(v,b.props),A.ref=x5(w,v,b),A.return=w,A):(A=_9(b.type,b.key,b.props,null,w.mode,A),A.ref=x5(w,v,b),A.return=w,A)}function c(w,v,b,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=KP(b,w.mode,A),v.return=w,v):(v=i(v,b.children||[]),v.return=w,v)}function u(w,v,b,A,E){return v===null||v.tag!==7?(v=w1(b,w.mode,A,E),v.return=w,v):(v=i(v,b),v.return=w,v)}function h(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=GP(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case NC:return b=_9(v.type,v.key,v.props,null,w.mode,b),b.ref=x5(w,null,v),b.return=w,b;case Xb:return v=KP(v,w.mode,b),v.return=w,v;case Y0:var A=v._init;return h(w,A(v._payload),b)}if(f6(v)||g5(v))return v=w1(v,w.mode,b,null),v.return=w,v;zC(w,v)}return null}function f(w,v,b,A){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(w,v,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case NC:return b.key===E?l(w,v,b,A):null;case Xb:return b.key===E?c(w,v,b,A):null;case Y0:return E=b._init,f(w,v,E(b._payload),A)}if(f6(b)||g5(b))return E!==null?null:u(w,v,b,A,null);zC(w,b)}return null}function p(w,v,b,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(b)||null,a(v,w,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case NC:return w=w.get(A.key===null?b:A.key)||null,l(v,w,A,E);case Xb:return w=w.get(A.key===null?b:A.key)||null,c(v,w,A,E);case Y0:var $=A._init;return p(w,v,b,$(A._payload),E)}if(f6(A)||g5(A))return w=w.get(b)||null,u(v,w,A,E,null);zC(v,A)}return null}function m(w,v,b,A){for(var E=null,$=null,N=v,R=v=0,M=null;N!==null&&R<b.length;R++){N.index>R?(M=N,N=null):M=N.sibling;var F=f(w,N,b[R],A);if(F===null){N===null&&(N=M);break}t&&N&&F.alternate===null&&e(w,N),v=s(F,v,R),$===null?E=F:$.sibling=F,$=F,N=M}if(R===b.length)return n(w,N),qr&&ey(w,R),E;if(N===null){for(;R<b.length;R++)N=h(w,b[R],A),N!==null&&(v=s(N,v,R),$===null?E=N:$.sibling=N,$=N);return qr&&ey(w,R),E}for(N=r(w,N);R<b.length;R++)M=p(N,w,R,b[R],A),M!==null&&(t&&M.alternate!==null&&N.delete(M.key===null?R:M.key),v=s(M,v,R),$===null?E=M:$.sibling=M,$=M);return t&&N.forEach(function(W){return e(w,W)}),qr&&ey(w,R),E}function g(w,v,b,A){var E=g5(b);if(typeof E!="function")throw Error(Ze(150));if(b=E.call(b),b==null)throw Error(Ze(151));for(var $=E=null,N=v,R=v=0,M=null,F=b.next();N!==null&&!F.done;R++,F=b.next()){N.index>R?(M=N,N=null):M=N.sibling;var W=f(w,N,F.value,A);if(W===null){N===null&&(N=M);break}t&&N&&W.alternate===null&&e(w,N),v=s(W,v,R),$===null?E=W:$.sibling=W,$=W,N=M}if(F.done)return n(w,N),qr&&ey(w,R),E;if(N===null){for(;!F.done;R++,F=b.next())F=h(w,F.value,A),F!==null&&(v=s(F,v,R),$===null?E=F:$.sibling=F,$=F);return qr&&ey(w,R),E}for(N=r(w,N);!F.done;R++,F=b.next())F=p(N,w,R,F.value,A),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?R:F.key),v=s(F,v,R),$===null?E=F:$.sibling=F,$=F);return t&&N.forEach(function(V){return e(w,V)}),qr&&ey(w,R),E}function y(w,v,b,A){if(typeof b=="object"&&b!==null&&b.type===ev&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case NC:e:{for(var E=b.key,$=v;$!==null;){if($.key===E){if(E=b.type,E===ev){if($.tag===7){n(w,$.sibling),v=i($,b.props.children),v.return=w,w=v;break e}}else if($.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Y0&&aQ(E)===$.type){n(w,$.sibling),v=i($,b.props),v.ref=x5(w,$,b),v.return=w,w=v;break e}n(w,$);break}else e(w,$);$=$.sibling}b.type===ev?(v=w1(b.props.children,w.mode,A,b.key),v.return=w,w=v):(A=_9(b.type,b.key,b.props,null,w.mode,A),A.ref=x5(w,v,b),A.return=w,w=A)}return o(w);case Xb:e:{for($=b.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=i(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=KP(b,w.mode,A),v.return=w,w=v}return o(w);case Y0:return $=b._init,y(w,v,$(b._payload),A)}if(f6(b))return m(w,v,b,A);if(g5(b))return g(w,v,b,A);zC(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,b),v.return=w,w=v):(n(w,v),v=GP(b,w.mode,A),v.return=w,w=v),o(w)):n(w,v)}return y}var px=tde(!0),nde=tde(!1),QS=Sg(null),ZS=null,lv=null,yW=null;function wW(){yW=lv=ZS=null}function bW(t){var e=QS.current;Lr(QS),t._currentValue=e}function bD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zv(t,e){ZS=t,yW=lv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(za=!0),t.firstContext=null)}function Zc(t){var e=t._currentValue;if(yW!==t)if(t={context:t,memoizedValue:e,next:null},lv===null){if(ZS===null)throw Error(Ze(308));lv=t,ZS.dependencies={lanes:0,firstContext:t}}else lv=lv.next=t;return e}var Sy=null;function vW(t){Sy===null?Sy=[t]:Sy.push(t)}function rde(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vW(e)):(n.next=i.next,i.next=n),e.interleaved=n,jp(t,r)}function jp(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Q0=!1;function xW(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ide(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yp(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zm(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Vn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jp(t,n)}return i=r.interleaved,i===null?(e.next=e,vW(r)):(e.next=i.next,i.next=e),r.interleaved=e,jp(t,n)}function x9(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oW(t,n)}}function lQ(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function JS(t,e,n,r){var i=t.updateQueue;Q0=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=ii({},h,f);break e;case 2:Q0=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);L1|=o,t.lanes=o,t.memoizedState=h}}function cQ(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ze(191,i));i.call(r)}}}var fA={},Ph=Sg(fA),z4=Sg(fA),W4=Sg(fA);function _y(t){if(t===fA)throw Error(Ze(174));return t}function EW(t,e){switch(Sr(W4,e),Sr(z4,t),Sr(Ph,fA),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:XM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=XM(e,t)}Lr(Ph),Sr(Ph,e)}function mx(){Lr(Ph),Lr(z4),Lr(W4)}function sde(t){_y(W4.current);var e=_y(Ph.current),n=XM(e,t.type);e!==n&&(Sr(z4,t),Sr(Ph,n))}function AW(t){z4.current===t&&(Lr(Ph),Lr(z4))}var Jr=Sg(0);function XS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var UP=[];function CW(){for(var t=0;t<UP.length;t++)UP[t]._workInProgressVersionPrimary=null;UP.length=0}var E9=r0.ReactCurrentDispatcher,zP=r0.ReactCurrentBatchConfig,B1=0,ri=null,ts=null,ys=null,e_=!1,q6=!1,H4=0,b7e=0;function no(){throw Error(Ze(321))}function kW(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hd(t[n],e[n]))return!1;return!0}function SW(t,e,n,r,i,s){if(B1=s,ri=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E9.current=t===null||t.memoizedState===null?A7e:C7e,t=n(r,i),q6){s=0;do{if(q6=!1,H4=0,25<=s)throw Error(Ze(301));s+=1,ys=ts=null,e.updateQueue=null,E9.current=k7e,t=n(r,i)}while(q6)}if(E9.current=t_,e=ts!==null&&ts.next!==null,B1=0,ys=ts=ri=null,e_=!1,e)throw Error(Ze(300));return t}function _W(){var t=H4!==0;return H4=0,t}function eh(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?ri.memoizedState=ys=t:ys=ys.next=t,ys}function Jc(){if(ts===null){var t=ri.alternate;t=t!==null?t.memoizedState:null}else t=ts.next;var e=ys===null?ri.memoizedState:ys.next;if(e!==null)ys=e,ts=t;else{if(t===null)throw Error(Ze(310));ts=t,t={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},ys===null?ri.memoizedState=ys=t:ys=ys.next=t}return ys}function V4(t,e){return typeof e=="function"?e(t):e}function WP(t){var e=Jc(),n=e.queue;if(n===null)throw Error(Ze(311));n.lastRenderedReducer=t;var r=ts,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((B1&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ri.lanes|=u,L1|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hd(r,e.memoizedState)||(za=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ri.lanes|=s,L1|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function HP(t){var e=Jc(),n=e.queue;if(n===null)throw Error(Ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hd(s,e.memoizedState)||(za=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ode(){}function ade(t,e){var n=ri,r=Jc(),i=e(),s=!hd(r.memoizedState,i);if(s&&(r.memoizedState=i,za=!0),r=r.queue,IW(ude.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ys!==null&&ys.memoizedState.tag&1){if(n.flags|=2048,q4(9,cde.bind(null,n,r,i,e),void 0,null),Cs===null)throw Error(Ze(349));B1&30||lde(n,e,i)}return i}function lde(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cde(t,e,n,r){e.value=n,e.getSnapshot=r,dde(e)&&hde(t)}function ude(t,e,n){return n(function(){dde(e)&&hde(t)})}function dde(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hd(t,n)}catch{return!0}}function hde(t){var e=jp(t,1);e!==null&&sd(e,t,1,-1)}function uQ(t){var e=eh();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V4,lastRenderedState:t},e.queue=t,t=t.dispatch=E7e.bind(null,ri,t),[e.memoizedState,t]}function q4(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fde(){return Jc().memoizedState}function A9(t,e,n,r){var i=eh();ri.flags|=t,i.memoizedState=q4(1|e,n,void 0,r===void 0?null:r)}function HI(t,e,n,r){var i=Jc();r=r===void 0?null:r;var s=void 0;if(ts!==null){var o=ts.memoizedState;if(s=o.destroy,r!==null&&kW(r,o.deps)){i.memoizedState=q4(e,n,s,r);return}}ri.flags|=t,i.memoizedState=q4(1|e,n,s,r)}function dQ(t,e){return A9(8390656,8,t,e)}function IW(t,e){return HI(2048,8,t,e)}function pde(t,e){return HI(4,2,t,e)}function mde(t,e){return HI(4,4,t,e)}function gde(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yde(t,e,n){return n=n!=null?n.concat([t]):null,HI(4,4,gde.bind(null,e,t),n)}function TW(){}function wde(t,e){var n=Jc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kW(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bde(t,e){var n=Jc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kW(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vde(t,e,n){return B1&21?(hd(n,e)||(n=kue(),ri.lanes|=n,L1|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,za=!0),t.memoizedState=n)}function v7e(t,e){var n=lr;lr=n!==0&&4>n?n:4,t(!0);var r=zP.transition;zP.transition={};try{t(!1),e()}finally{lr=n,zP.transition=r}}function xde(){return Jc().memoizedState}function x7e(t,e,n){var r=Xm(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ede(t))Ade(e,n);else if(n=rde(t,e,n,r),n!==null){var i=ca();sd(n,t,r,i),Cde(n,e,r)}}function E7e(t,e,n){var r=Xm(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ede(t))Ade(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hd(a,o)){var l=e.interleaved;l===null?(i.next=i,vW(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rde(t,e,i,r),n!==null&&(i=ca(),sd(n,t,r,i),Cde(n,e,r))}}function Ede(t){var e=t.alternate;return t===ri||e!==null&&e===ri}function Ade(t,e){q6=e_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cde(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oW(t,n)}}var t_={readContext:Zc,useCallback:no,useContext:no,useEffect:no,useImperativeHandle:no,useInsertionEffect:no,useLayoutEffect:no,useMemo:no,useReducer:no,useRef:no,useState:no,useDebugValue:no,useDeferredValue:no,useTransition:no,useMutableSource:no,useSyncExternalStore:no,useId:no,unstable_isNewReconciler:!1},A7e={readContext:Zc,useCallback:function(t,e){return eh().memoizedState=[t,e===void 0?null:e],t},useContext:Zc,useEffect:dQ,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,A9(4194308,4,gde.bind(null,e,t),n)},useLayoutEffect:function(t,e){return A9(4194308,4,t,e)},useInsertionEffect:function(t,e){return A9(4,2,t,e)},useMemo:function(t,e){var n=eh();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=eh();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x7e.bind(null,ri,t),[r.memoizedState,t]},useRef:function(t){var e=eh();return t={current:t},e.memoizedState=t},useState:uQ,useDebugValue:TW,useDeferredValue:function(t){return eh().memoizedState=t},useTransition:function(){var t=uQ(!1),e=t[0];return t=v7e.bind(null,t[1]),eh().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ri,i=eh();if(qr){if(n===void 0)throw Error(Ze(407));n=n()}else{if(n=e(),Cs===null)throw Error(Ze(349));B1&30||lde(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,dQ(ude.bind(null,r,s,t),[t]),r.flags|=2048,q4(9,cde.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=eh(),e=Cs.identifierPrefix;if(qr){var n=pp,r=fp;n=(r&~(1<<32-id(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=H4++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b7e++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C7e={readContext:Zc,useCallback:wde,useContext:Zc,useEffect:IW,useImperativeHandle:yde,useInsertionEffect:pde,useLayoutEffect:mde,useMemo:bde,useReducer:WP,useRef:fde,useState:function(){return WP(V4)},useDebugValue:TW,useDeferredValue:function(t){var e=Jc();return vde(e,ts.memoizedState,t)},useTransition:function(){var t=WP(V4)[0],e=Jc().memoizedState;return[t,e]},useMutableSource:ode,useSyncExternalStore:ade,useId:xde,unstable_isNewReconciler:!1},k7e={readContext:Zc,useCallback:wde,useContext:Zc,useEffect:IW,useImperativeHandle:yde,useInsertionEffect:pde,useLayoutEffect:mde,useMemo:bde,useReducer:HP,useRef:fde,useState:function(){return HP(V4)},useDebugValue:TW,useDeferredValue:function(t){var e=Jc();return ts===null?e.memoizedState=t:vde(e,ts.memoizedState,t)},useTransition:function(){var t=HP(V4)[0],e=Jc().memoizedState;return[t,e]},useMutableSource:ode,useSyncExternalStore:ade,useId:xde,unstable_isNewReconciler:!1};function Ou(t,e){if(t&&t.defaultProps){e=ii({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ii({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var VI={isMounted:function(t){return(t=t._reactInternals)?Ew(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ca(),i=Xm(t),s=yp(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zm(t,s,i),e!==null&&(sd(e,t,i,r),x9(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ca(),i=Xm(t),s=yp(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zm(t,s,i),e!==null&&(sd(e,t,i,r),x9(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ca(),r=Xm(t),i=yp(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zm(t,i,r),e!==null&&(sd(e,t,r,n),x9(e,t,r))}};function hQ(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!B4(n,r)||!B4(i,s):!0}function kde(t,e,n){var r=!1,i=cg,s=e.contextType;return typeof s=="object"&&s!==null?s=Zc(s):(i=Ka(e)?M1:Mo.current,r=e.contextTypes,s=(r=r!=null)?hx(t,i):cg),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=VI,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fQ(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&VI.enqueueReplaceState(e,e.state,null)}function xD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xW(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zc(s):(s=Ka(e)?M1:Mo.current,i.context=hx(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vD(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&VI.enqueueReplaceState(i,i.state,null),JS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gx(t,e){try{var n="",r=e;do n+=XSe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function VP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ED(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var S7e=typeof WeakMap=="function"?WeakMap:Map;function Sde(t,e,n){n=yp(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){r_||(r_=!0,PD=r),ED(t,e)},n}function _de(t,e,n){n=yp(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ED(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ED(t,e),typeof r!="function"&&(Jm===null?Jm=new Set([this]):Jm.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pQ(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new S7e;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F7e.bind(null,t,e,n),e.then(t,t))}function mQ(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gQ(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yp(-1,1),e.tag=2,Zm(n,e,1))),n.lanes|=1),t)}var _7e=r0.ReactCurrentOwner,za=!1;function Ho(t,e,n,r){e.child=t===null?nde(e,null,n,r):px(e,t.child,n,r)}function yQ(t,e,n,r,i){n=n.render;var s=e.ref;return zv(e,i),r=SW(t,e,n,r,s,i),n=_W(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Op(t,e,i)):(qr&&n&&pW(e),e.flags|=1,Ho(t,e,r,i),e.child)}function wQ(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!DW(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ide(t,e,s,r,i)):(t=_9(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:B4,n(o,r)&&t.ref===e.ref)return Op(t,e,i)}return e.flags|=1,t=eg(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ide(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(B4(s,r)&&t.ref===e.ref)if(za=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(za=!0);else return e.lanes=t.lanes,Op(t,e,i)}return AD(t,e,n,r,i)}function Tde(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(uv,Il),Il|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Sr(uv,Il),Il|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Sr(uv,Il),Il|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Sr(uv,Il),Il|=r;return Ho(t,e,i,n),e.child}function $de(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function AD(t,e,n,r,i){var s=Ka(n)?M1:Mo.current;return s=hx(e,s),zv(e,i),n=SW(t,e,n,r,s,i),r=_W(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Op(t,e,i)):(qr&&r&&pW(e),e.flags|=1,Ho(t,e,n,i),e.child)}function bQ(t,e,n,r,i){if(Ka(n)){var s=!0;GS(e)}else s=!1;if(zv(e,i),e.stateNode===null)C9(t,e),kde(e,n,r),xD(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zc(c):(c=Ka(n)?M1:Mo.current,c=hx(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fQ(e,o,r,c),Q0=!1;var f=e.memoizedState;o.state=f,JS(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ga.current||Q0?(typeof u=="function"&&(vD(e,n,u,r),l=e.memoizedState),(a=Q0||hQ(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ide(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ou(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zc(l):(l=Ka(n)?M1:Mo.current,l=hx(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&fQ(e,o,r,l),Q0=!1,f=e.memoizedState,o.state=f,JS(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||Ga.current||Q0?(typeof p=="function"&&(vD(e,n,p,r),m=e.memoizedState),(c=Q0||hQ(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return CD(t,e,n,r,s,i)}function CD(t,e,n,r,i,s){$de(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iQ(e,n,!1),Op(t,e,s);r=e.stateNode,_7e.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=px(e,t.child,null,s),e.child=px(e,null,a,s)):Ho(t,e,a,s),e.memoizedState=r.state,i&&iQ(e,n,!0),e.child}function Nde(t){var e=t.stateNode;e.pendingContext?rQ(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rQ(t,e.context,!1),EW(t,e.containerInfo)}function vQ(t,e,n,r,i){return fx(),gW(i),e.flags|=256,Ho(t,e,n,r),e.child}var kD={dehydrated:null,treeContext:null,retryLane:0};function SD(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pde(t,e,n){var r=e.pendingProps,i=Jr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Sr(Jr,i&1),t===null)return wD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=KI(o,r,0,null),t=w1(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=SD(n),e.memoizedState=kD,t):$W(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return I7e(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=eg(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=eg(a,s):(s=w1(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?SD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kD,r}return s=t.child,t=s.sibling,r=eg(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $W(t,e){return e=KI({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function WC(t,e,n,r){return r!==null&&gW(r),px(e,t.child,null,n),t=$W(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I7e(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=VP(Error(Ze(422))),WC(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=KI({mode:"visible",children:r.children},i,0,null),s=w1(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&px(e,t.child,null,o),e.child.memoizedState=SD(o),e.memoizedState=kD,s);if(!(e.mode&1))return WC(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ze(419)),r=VP(s,r,void 0),WC(t,e,o,r)}if(a=(o&t.childLanes)!==0,za||a){if(r=Cs,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jp(t,i),sd(r,t,i,-1))}return MW(),r=VP(Error(Ze(421))),WC(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U7e.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ul=Qm(i.nextSibling),Wl=e,qr=!0,Yu=null,t!==null&&(Fc[Uc++]=fp,Fc[Uc++]=pp,Fc[Uc++]=D1,fp=t.id,pp=t.overflow,D1=e),e=$W(e,r.children),e.flags|=4096,e)}function xQ(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bD(t.return,e,n)}function qP(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Rde(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ho(t,e,r.children,n),r=Jr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xQ(t,n,e);else if(t.tag===19)xQ(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Sr(Jr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&XS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qP(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&XS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qP(e,!0,n,null,s);break;case"together":qP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function C9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Op(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),L1|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ze(153));if(e.child!==null){for(t=e.child,n=eg(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=eg(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T7e(t,e,n){switch(e.tag){case 3:Nde(e),fx();break;case 5:sde(e);break;case 1:Ka(e.type)&&GS(e);break;case 4:EW(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Sr(QS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Sr(Jr,Jr.current&1),e.flags|=128,null):n&e.child.childLanes?Pde(t,e,n):(Sr(Jr,Jr.current&1),t=Op(t,e,n),t!==null?t.sibling:null);Sr(Jr,Jr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rde(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Jr,Jr.current),r)break;return null;case 22:case 23:return e.lanes=0,Tde(t,e,n)}return Op(t,e,n)}var jde,_D,Ode,Mde;jde=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_D=function(){};Ode=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_y(Ph.current);var s=null;switch(n){case"input":i=YM(t,i),r=YM(t,r),s=[];break;case"select":i=ii({},i,{value:void 0}),r=ii({},r,{value:void 0}),s=[];break;case"textarea":i=JM(t,i),r=JM(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=VS)}eD(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(N4.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(N4.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Mde=function(t,e,n,r){n!==r&&(e.flags|=4)};function E5(t,e){if(!qr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ro(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $7e(t,e,n){var r=e.pendingProps;switch(mW(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ro(e),null;case 1:return Ka(e.type)&&qS(),ro(e),null;case 3:return r=e.stateNode,mx(),Lr(Ga),Lr(Mo),CW(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(UC(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yu!==null&&(OD(Yu),Yu=null))),_D(t,e),ro(e),null;case 5:AW(e);var i=_y(W4.current);if(n=e.type,t!==null&&e.stateNode!=null)Ode(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ze(166));return ro(e),null}if(t=_y(Ph.current),UC(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xh]=e,r[U4]=s,t=(e.mode&1)!==0,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(i=0;i<m6.length;i++)Rr(m6[i],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":$Y(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":PY(r,s),Rr("invalid",r)}eD(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&FC(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&FC(r.textContent,a,t),i=["children",""+a]):N4.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rr("scroll",r)}switch(n){case"input":PC(r),NY(r,s,!0);break;case"textarea":PC(r),RY(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=VS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uue(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xh]=e,t[U4]=r,jde(t,e,!1,!1),e.stateNode=t;e:{switch(o=tD(n,r),n){case"dialog":Rr("cancel",t),Rr("close",t),i=r;break;case"iframe":case"object":case"embed":Rr("load",t),i=r;break;case"video":case"audio":for(i=0;i<m6.length;i++)Rr(m6[i],t);i=r;break;case"source":Rr("error",t),i=r;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),i=r;break;case"details":Rr("toggle",t),i=r;break;case"input":$Y(t,r),i=YM(t,r),Rr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ii({},r,{value:void 0}),Rr("invalid",t);break;case"textarea":PY(t,r),i=JM(t,r),Rr("invalid",t);break;default:i=r}eD(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fue(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&due(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&P4(t,l):typeof l=="number"&&P4(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(N4.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rr("scroll",t):l!=null&&eW(t,s,l,o))}switch(n){case"input":PC(t),NY(t,r,!1);break;case"textarea":PC(t),RY(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lg(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bv(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=VS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ro(e),null;case 6:if(t&&e.stateNode!=null)Mde(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ze(166));if(n=_y(W4.current),_y(Ph.current),UC(e)){if(r=e.stateNode,n=e.memoizedProps,r[xh]=e,(s=r.nodeValue!==n)&&(t=Wl,t!==null))switch(t.tag){case 3:FC(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&FC(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xh]=e,e.stateNode=r}return ro(e),null;case 13:if(Lr(Jr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qr&&Ul!==null&&e.mode&1&&!(e.flags&128))ede(),fx(),e.flags|=98560,s=!1;else if(s=UC(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ze(317));s[xh]=e}else fx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ro(e),s=!1}else Yu!==null&&(OD(Yu),Yu=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jr.current&1?rs===0&&(rs=3):MW())),e.updateQueue!==null&&(e.flags|=4),ro(e),null);case 4:return mx(),_D(t,e),t===null&&L4(e.stateNode.containerInfo),ro(e),null;case 10:return bW(e.type._context),ro(e),null;case 17:return Ka(e.type)&&qS(),ro(e),null;case 19:if(Lr(Jr),s=e.memoizedState,s===null)return ro(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)E5(s,!1);else{if(rs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=XS(t),o!==null){for(e.flags|=128,E5(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Sr(Jr,Jr.current&1|2),e.child}t=t.sibling}s.tail!==null&&$i()>yx&&(e.flags|=128,r=!0,E5(s,!1),e.lanes=4194304)}else{if(!r)if(t=XS(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),E5(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qr)return ro(e),null}else 2*$i()-s.renderingStartTime>yx&&n!==1073741824&&(e.flags|=128,r=!0,E5(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$i(),e.sibling=null,n=Jr.current,Sr(Jr,r?n&1|2:n&1),e):(ro(e),null);case 22:case 23:return OW(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Il&1073741824&&(ro(e),e.subtreeFlags&6&&(e.flags|=8192)):ro(e),null;case 24:return null;case 25:return null}throw Error(Ze(156,e.tag))}function N7e(t,e){switch(mW(e),e.tag){case 1:return Ka(e.type)&&qS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mx(),Lr(Ga),Lr(Mo),CW(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AW(e),null;case 13:if(Lr(Jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ze(340));fx()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lr(Jr),null;case 4:return mx(),null;case 10:return bW(e.type._context),null;case 22:case 23:return OW(),null;case 24:return null;default:return null}}var HC=!1,ko=!1,P7e=typeof WeakSet=="function"?WeakSet:Set,xt=null;function cv(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fi(t,e,r)}else n.current=null}function ID(t,e,n){try{n()}catch(r){fi(t,e,r)}}var EQ=!1;function R7e(t,e){if(dD=zS,t=Uue(),fW(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hD={focusedElem:t,selectionRange:n},zS=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ou(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(A){fi(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return m=EQ,EQ=!1,m}function G6(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ID(e,n,s)}i=i.next}while(i!==r)}}function qI(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function TD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dde(t){var e=t.alternate;e!==null&&(t.alternate=null,Dde(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xh],delete e[U4],delete e[mD],delete e[m7e],delete e[g7e])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bde(t){return t.tag===5||t.tag===3||t.tag===4}function AQ(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bde(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $D(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=VS));else if(r!==4&&(t=t.child,t!==null))for($D(t,e,n),t=t.sibling;t!==null;)$D(t,e,n),t=t.sibling}function ND(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ND(t,e,n),t=t.sibling;t!==null;)ND(t,e,n),t=t.sibling}var Os=null,Ku=!1;function u0(t,e,n){for(n=n.child;n!==null;)Lde(t,e,n),n=n.sibling}function Lde(t,e,n){if(Nh&&typeof Nh.onCommitFiberUnmount=="function")try{Nh.onCommitFiberUnmount(BI,n)}catch{}switch(n.tag){case 5:ko||cv(n,e);case 6:var r=Os,i=Ku;Os=null,u0(t,e,n),Os=r,Ku=i,Os!==null&&(Ku?(t=Os,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Os.removeChild(n.stateNode));break;case 18:Os!==null&&(Ku?(t=Os,n=n.stateNode,t.nodeType===8?LP(t.parentNode,n):t.nodeType===1&&LP(t,n),M4(t)):LP(Os,n.stateNode));break;case 4:r=Os,i=Ku,Os=n.stateNode.containerInfo,Ku=!0,u0(t,e,n),Os=r,Ku=i;break;case 0:case 11:case 14:case 15:if(!ko&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ID(n,e,o),i=i.next}while(i!==r)}u0(t,e,n);break;case 1:if(!ko&&(cv(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fi(n,e,a)}u0(t,e,n);break;case 21:u0(t,e,n);break;case 22:n.mode&1?(ko=(r=ko)||n.memoizedState!==null,u0(t,e,n),ko=r):u0(t,e,n);break;default:u0(t,e,n)}}function CQ(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P7e),e.forEach(function(r){var i=z7e.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yu(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Os=a.stateNode,Ku=!1;break e;case 3:Os=a.stateNode.containerInfo,Ku=!0;break e;case 4:Os=a.stateNode.containerInfo,Ku=!0;break e}a=a.return}if(Os===null)throw Error(Ze(160));Lde(s,o,i),Os=null,Ku=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fi(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fde(e,t),e=e.sibling}function Fde(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yu(e,t),Md(t),r&4){try{G6(3,t,t.return),qI(3,t)}catch(g){fi(t,t.return,g)}try{G6(5,t,t.return)}catch(g){fi(t,t.return,g)}}break;case 1:yu(e,t),Md(t),r&512&&n!==null&&cv(n,n.return);break;case 5:if(yu(e,t),Md(t),r&512&&n!==null&&cv(n,n.return),t.flags&32){var i=t.stateNode;try{P4(i,"")}catch(g){fi(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lue(i,s),tD(a,o);var c=tD(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?fue(i,h):u==="dangerouslySetInnerHTML"?due(i,h):u==="children"?P4(i,h):eW(i,u,h,c)}switch(a){case"input":QM(i,s);break;case"textarea":cue(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Bv(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Bv(i,!!s.multiple,s.defaultValue,!0):Bv(i,!!s.multiple,s.multiple?[]:"",!1))}i[U4]=s}catch(g){fi(t,t.return,g)}}break;case 6:if(yu(e,t),Md(t),r&4){if(t.stateNode===null)throw Error(Ze(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){fi(t,t.return,g)}}break;case 3:if(yu(e,t),Md(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{M4(e.containerInfo)}catch(g){fi(t,t.return,g)}break;case 4:yu(e,t),Md(t);break;case 13:yu(e,t),Md(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(RW=$i())),r&4&&CQ(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ko=(c=ko)||u,yu(e,t),ko=c):yu(e,t),Md(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(h=xt=u;xt!==null;){switch(f=xt,p=f.child,f.tag){case 0:case 11:case 14:case 15:G6(4,f,f.return);break;case 1:cv(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){fi(r,n,g)}}break;case 5:cv(f,f.return);break;case 22:if(f.memoizedState!==null){SQ(h);continue}}p!==null?(p.return=f,xt=p):SQ(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hue("display",o))}catch(g){fi(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){fi(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(e,t),Md(t),r&4&&CQ(t);break;case 21:break;default:yu(e,t),Md(t)}}function Md(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bde(n)){var r=n;break e}n=n.return}throw Error(Ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(P4(i,""),r.flags&=-33);var s=AQ(t);ND(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=AQ(t);$D(t,a,o);break;default:throw Error(Ze(161))}}catch(l){fi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j7e(t,e,n){xt=t,Ude(t)}function Ude(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||HC;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ko;a=HC;var c=ko;if(HC=o,(ko=l)&&!c)for(xt=i;xt!==null;)o=xt,l=o.child,o.tag===22&&o.memoizedState!==null?_Q(i):l!==null?(l.return=o,xt=l):_Q(i);for(;s!==null;)xt=s,Ude(s),s=s.sibling;xt=i,HC=a,ko=c}kQ(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):kQ(t)}}function kQ(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ko||qI(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ko)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ou(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cQ(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cQ(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&M4(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}ko||e.flags&512&&TD(e)}catch(f){fi(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function SQ(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function _Q(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qI(4,e)}catch(l){fi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fi(e,i,l)}}var s=e.return;try{TD(e)}catch(l){fi(e,s,l)}break;case 5:var o=e.return;try{TD(e)}catch(l){fi(e,o,l)}}}catch(l){fi(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var O7e=Math.ceil,n_=r0.ReactCurrentDispatcher,NW=r0.ReactCurrentOwner,Kc=r0.ReactCurrentBatchConfig,Vn=0,Cs=null,qi=null,Hs=0,Il=0,uv=Sg(0),rs=0,G4=null,L1=0,GI=0,PW=0,K6=null,Da=null,RW=0,yx=1/0,Of=null,r_=!1,PD=null,Jm=null,VC=!1,Dm=null,i_=0,Y6=0,RD=null,k9=-1,S9=0;function ca(){return Vn&6?$i():k9!==-1?k9:k9=$i()}function Xm(t){return t.mode&1?Vn&2&&Hs!==0?Hs&-Hs:w7e.transition!==null?(S9===0&&(S9=kue()),S9):(t=lr,t!==0||(t=window.event,t=t===void 0?16:Pue(t.type)),t):1}function sd(t,e,n,r){if(50<Y6)throw Y6=0,RD=null,Error(Ze(185));uA(t,n,r),(!(Vn&2)||t!==Cs)&&(t===Cs&&(!(Vn&2)&&(GI|=n),rs===4&&om(t,Hs)),Ya(t,r),n===1&&Vn===0&&!(e.mode&1)&&(yx=$i()+500,WI&&_g()))}function Ya(t,e){var n=t.callbackNode;w_e(t,e);var r=US(t,t===Cs?Hs:0);if(r===0)n!==null&&MY(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MY(n),e===1)t.tag===0?y7e(IQ.bind(null,t)):Zue(IQ.bind(null,t)),f7e(function(){!(Vn&6)&&_g()}),n=null;else{switch(Sue(r)){case 1:n=sW;break;case 4:n=Aue;break;case 16:n=FS;break;case 536870912:n=Cue;break;default:n=FS}n=Yde(n,zde.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zde(t,e){if(k9=-1,S9=0,Vn&6)throw Error(Ze(327));var n=t.callbackNode;if(Wv()&&t.callbackNode!==n)return null;var r=US(t,t===Cs?Hs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=s_(t,r);else{e=r;var i=Vn;Vn|=2;var s=Hde();(Cs!==t||Hs!==e)&&(Of=null,yx=$i()+500,y1(t,e));do try{B7e();break}catch(a){Wde(t,a)}while(!0);wW(),n_.current=s,Vn=i,qi!==null?e=0:(Cs=null,Hs=0,e=rs)}if(e!==0){if(e===2&&(i=oD(t),i!==0&&(r=i,e=jD(t,i))),e===1)throw n=G4,y1(t,0),om(t,r),Ya(t,$i()),n;if(e===6)om(t,r);else{if(i=t.current.alternate,!(r&30)&&!M7e(i)&&(e=s_(t,r),e===2&&(s=oD(t),s!==0&&(r=s,e=jD(t,s))),e===1))throw n=G4,y1(t,0),om(t,r),Ya(t,$i()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ze(345));case 2:ty(t,Da,Of);break;case 3:if(om(t,r),(r&130023424)===r&&(e=RW+500-$i(),10<e)){if(US(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ca(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pD(ty.bind(null,t,Da,Of),e);break}ty(t,Da,Of);break;case 4:if(om(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-id(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$i()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O7e(r/1960))-r,10<r){t.timeoutHandle=pD(ty.bind(null,t,Da,Of),r);break}ty(t,Da,Of);break;case 5:ty(t,Da,Of);break;default:throw Error(Ze(329))}}}return Ya(t,$i()),t.callbackNode===n?zde.bind(null,t):null}function jD(t,e){var n=K6;return t.current.memoizedState.isDehydrated&&(y1(t,e).flags|=256),t=s_(t,e),t!==2&&(e=Da,Da=n,e!==null&&OD(e)),t}function OD(t){Da===null?Da=t:Da.push.apply(Da,t)}function M7e(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hd(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function om(t,e){for(e&=~PW,e&=~GI,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-id(e),r=1<<n;t[n]=-1,e&=~r}}function IQ(t){if(Vn&6)throw Error(Ze(327));Wv();var e=US(t,0);if(!(e&1))return Ya(t,$i()),null;var n=s_(t,e);if(t.tag!==0&&n===2){var r=oD(t);r!==0&&(e=r,n=jD(t,r))}if(n===1)throw n=G4,y1(t,0),om(t,e),Ya(t,$i()),n;if(n===6)throw Error(Ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ty(t,Da,Of),Ya(t,$i()),null}function jW(t,e){var n=Vn;Vn|=1;try{return t(e)}finally{Vn=n,Vn===0&&(yx=$i()+500,WI&&_g())}}function F1(t){Dm!==null&&Dm.tag===0&&!(Vn&6)&&Wv();var e=Vn;Vn|=1;var n=Kc.transition,r=lr;try{if(Kc.transition=null,lr=1,t)return t()}finally{lr=r,Kc.transition=n,Vn=e,!(Vn&6)&&_g()}}function OW(){Il=uv.current,Lr(uv)}function y1(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h7e(n)),qi!==null)for(n=qi.return;n!==null;){var r=n;switch(mW(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qS();break;case 3:mx(),Lr(Ga),Lr(Mo),CW();break;case 5:AW(r);break;case 4:mx();break;case 13:Lr(Jr);break;case 19:Lr(Jr);break;case 10:bW(r.type._context);break;case 22:case 23:OW()}n=n.return}if(Cs=t,qi=t=eg(t.current,null),Hs=Il=e,rs=0,G4=null,PW=GI=L1=0,Da=K6=null,Sy!==null){for(e=0;e<Sy.length;e++)if(n=Sy[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sy=null}return t}function Wde(t,e){do{var n=qi;try{if(wW(),E9.current=t_,e_){for(var r=ri.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}e_=!1}if(B1=0,ys=ts=ri=null,q6=!1,H4=0,NW.current=null,n===null||n.return===null){rs=1,G4=e,qi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Hs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mQ(o);if(p!==null){p.flags&=-257,gQ(p,o,a,s,e),p.mode&1&&pQ(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){pQ(s,c,e),MW();break e}l=Error(Ze(426))}}else if(qr&&a.mode&1){var y=mQ(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),gQ(y,o,a,s,e),gW(gx(l,a));break e}}s=l=gx(l,a),rs!==4&&(rs=2),K6===null?K6=[s]:K6.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Sde(s,l,e);lQ(s,w);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Jm===null||!Jm.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=_de(s,a,e);lQ(s,A);break e}}s=s.return}while(s!==null)}qde(n)}catch(E){e=E,qi===n&&n!==null&&(qi=n=n.return);continue}break}while(!0)}function Hde(){var t=n_.current;return n_.current=t_,t===null?t_:t}function MW(){(rs===0||rs===3||rs===2)&&(rs=4),Cs===null||!(L1&268435455)&&!(GI&268435455)||om(Cs,Hs)}function s_(t,e){var n=Vn;Vn|=2;var r=Hde();(Cs!==t||Hs!==e)&&(Of=null,y1(t,e));do try{D7e();break}catch(i){Wde(t,i)}while(!0);if(wW(),Vn=n,n_.current=r,qi!==null)throw Error(Ze(261));return Cs=null,Hs=0,rs}function D7e(){for(;qi!==null;)Vde(qi)}function B7e(){for(;qi!==null&&!c_e();)Vde(qi)}function Vde(t){var e=Kde(t.alternate,t,Il);t.memoizedProps=t.pendingProps,e===null?qde(t):qi=e,NW.current=null}function qde(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N7e(n,e),n!==null){n.flags&=32767,qi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rs=6,qi=null;return}}else if(n=$7e(n,e,Il),n!==null){qi=n;return}if(e=e.sibling,e!==null){qi=e;return}qi=e=t}while(e!==null);rs===0&&(rs=5)}function ty(t,e,n){var r=lr,i=Kc.transition;try{Kc.transition=null,lr=1,L7e(t,e,n,r)}finally{Kc.transition=i,lr=r}return null}function L7e(t,e,n,r){do Wv();while(Dm!==null);if(Vn&6)throw Error(Ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ze(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(b_e(t,s),t===Cs&&(qi=Cs=null,Hs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||VC||(VC=!0,Yde(FS,function(){return Wv(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kc.transition,Kc.transition=null;var o=lr;lr=1;var a=Vn;Vn|=4,NW.current=null,R7e(t,n),Fde(n,t),s7e(hD),zS=!!dD,hD=dD=null,t.current=n,j7e(n),u_e(),Vn=a,lr=o,Kc.transition=s}else t.current=n;if(VC&&(VC=!1,Dm=t,i_=i),s=t.pendingLanes,s===0&&(Jm=null),f_e(n.stateNode),Ya(t,$i()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(r_)throw r_=!1,t=PD,PD=null,t;return i_&1&&t.tag!==0&&Wv(),s=t.pendingLanes,s&1?t===RD?Y6++:(Y6=0,RD=t):Y6=0,_g(),null}function Wv(){if(Dm!==null){var t=Sue(i_),e=Kc.transition,n=lr;try{if(Kc.transition=null,lr=16>t?16:t,Dm===null)var r=!1;else{if(t=Dm,Dm=null,i_=0,Vn&6)throw Error(Ze(331));var i=Vn;for(Vn|=4,xt=t.current;xt!==null;){var s=xt,o=s.child;if(xt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:G6(8,u,s)}var h=u.child;if(h!==null)h.return=u,xt=h;else for(;xt!==null;){u=xt;var f=u.sibling,p=u.return;if(Dde(u),u===c){xt=null;break}if(f!==null){f.return=p,xt=f;break}xt=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xt=o;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:G6(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,xt=w;break e}xt=s.return}}var v=t.current;for(xt=v;xt!==null;){o=xt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,xt=b;else e:for(o=v;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qI(9,a)}}catch(E){fi(a,a.return,E)}if(a===o){xt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,xt=A;break e}xt=a.return}}if(Vn=i,_g(),Nh&&typeof Nh.onPostCommitFiberRoot=="function")try{Nh.onPostCommitFiberRoot(BI,t)}catch{}r=!0}return r}finally{lr=n,Kc.transition=e}}return!1}function TQ(t,e,n){e=gx(n,e),e=Sde(t,e,1),t=Zm(t,e,1),e=ca(),t!==null&&(uA(t,1,e),Ya(t,e))}function fi(t,e,n){if(t.tag===3)TQ(t,t,n);else for(;e!==null;){if(e.tag===3){TQ(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jm===null||!Jm.has(r))){t=gx(n,t),t=_de(e,t,1),e=Zm(e,t,1),t=ca(),e!==null&&(uA(e,1,t),Ya(e,t));break}}e=e.return}}function F7e(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ca(),t.pingedLanes|=t.suspendedLanes&n,Cs===t&&(Hs&n)===n&&(rs===4||rs===3&&(Hs&130023424)===Hs&&500>$i()-RW?y1(t,0):PW|=n),Ya(t,e)}function Gde(t,e){e===0&&(t.mode&1?(e=OC,OC<<=1,!(OC&130023424)&&(OC=4194304)):e=1);var n=ca();t=jp(t,e),t!==null&&(uA(t,e,n),Ya(t,n))}function U7e(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gde(t,n)}function z7e(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ze(314))}r!==null&&r.delete(e),Gde(t,n)}var Kde;Kde=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ga.current)za=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return za=!1,T7e(t,e,n);za=!!(t.flags&131072)}else za=!1,qr&&e.flags&1048576&&Jue(e,YS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;C9(t,e),t=e.pendingProps;var i=hx(e,Mo.current);zv(e,n),i=SW(null,e,r,t,i,n);var s=_W();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ka(r)?(s=!0,GS(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xW(e),i.updater=VI,e.stateNode=i,i._reactInternals=e,xD(e,r,t,n),e=CD(null,e,r,!0,s,n)):(e.tag=0,qr&&s&&pW(e),Ho(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(C9(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=H7e(r),t=Ou(r,t),i){case 0:e=AD(null,e,r,t,n);break e;case 1:e=bQ(null,e,r,t,n);break e;case 11:e=yQ(null,e,r,t,n);break e;case 14:e=wQ(null,e,r,Ou(r.type,t),n);break e}throw Error(Ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),AD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),bQ(t,e,r,i,n);case 3:e:{if(Nde(e),t===null)throw Error(Ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ide(t,e),JS(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gx(Error(Ze(423)),e),e=vQ(t,e,r,n,i);break e}else if(r!==i){i=gx(Error(Ze(424)),e),e=vQ(t,e,r,n,i);break e}else for(Ul=Qm(e.stateNode.containerInfo.firstChild),Wl=e,qr=!0,Yu=null,n=nde(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fx(),r===i){e=Op(t,e,n);break e}Ho(t,e,r,n)}e=e.child}return e;case 5:return sde(e),t===null&&wD(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fD(r,i)?o=null:s!==null&&fD(r,s)&&(e.flags|=32),$de(t,e),Ho(t,e,o,n),e.child;case 6:return t===null&&wD(e),null;case 13:return Pde(t,e,n);case 4:return EW(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=px(e,null,r,n):Ho(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),yQ(t,e,r,i,n);case 7:return Ho(t,e,e.pendingProps,n),e.child;case 8:return Ho(t,e,e.pendingProps.children,n),e.child;case 12:return Ho(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Sr(QS,r._currentValue),r._currentValue=o,s!==null)if(hd(s.value,o)){if(s.children===i.children&&!Ga.current){e=Op(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yp(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bD(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bD(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ho(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zv(e,n),i=Zc(i),r=r(i),e.flags|=1,Ho(t,e,r,n),e.child;case 14:return r=e.type,i=Ou(r,e.pendingProps),i=Ou(r.type,i),wQ(t,e,r,i,n);case 15:return Ide(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ou(r,i),C9(t,e),e.tag=1,Ka(r)?(t=!0,GS(e)):t=!1,zv(e,n),kde(e,r,i),xD(e,r,i,n),CD(null,e,r,!0,t,n);case 19:return Rde(t,e,n);case 22:return Tde(t,e,n)}throw Error(Ze(156,e.tag))};function Yde(t,e){return Eue(t,e)}function W7e(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(t,e,n,r){return new W7e(t,e,n,r)}function DW(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H7e(t){if(typeof t=="function")return DW(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nW)return 11;if(t===rW)return 14}return 2}function eg(t,e){var n=t.alternate;return n===null?(n=qc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _9(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")DW(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ev:return w1(n.children,i,s,e);case tW:o=8,i|=8;break;case VM:return t=qc(12,n,e,i|2),t.elementType=VM,t.lanes=s,t;case qM:return t=qc(13,n,e,i),t.elementType=qM,t.lanes=s,t;case GM:return t=qc(19,n,e,i),t.elementType=GM,t.lanes=s,t;case sue:return KI(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rue:o=10;break e;case iue:o=9;break e;case nW:o=11;break e;case rW:o=14;break e;case Y0:o=16,r=null;break e}throw Error(Ze(130,t==null?t:typeof t,""))}return e=qc(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function w1(t,e,n,r){return t=qc(7,t,r,e),t.lanes=n,t}function KI(t,e,n,r){return t=qc(22,t,r,e),t.elementType=sue,t.lanes=n,t.stateNode={isHidden:!1},t}function GP(t,e,n){return t=qc(6,t,null,e),t.lanes=n,t}function KP(t,e,n){return e=qc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V7e(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=IP(0),this.expirationTimes=IP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=IP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BW(t,e,n,r,i,s,o,a,l){return t=new V7e(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xW(s),t}function q7e(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xb,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qde(t){if(!t)return cg;t=t._reactInternals;e:{if(Ew(t)!==t||t.tag!==1)throw Error(Ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ka(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ze(171))}if(t.tag===1){var n=t.type;if(Ka(n))return Que(t,n,e)}return e}function Zde(t,e,n,r,i,s,o,a,l){return t=BW(n,r,!0,t,i,s,o,a,l),t.context=Qde(null),n=t.current,r=ca(),i=Xm(n),s=yp(r,i),s.callback=e??null,Zm(n,s,i),t.current.lanes=i,uA(t,i,r),Ya(t,r),t}function YI(t,e,n,r){var i=e.current,s=ca(),o=Xm(i);return n=Qde(n),e.context===null?e.context=n:e.pendingContext=n,e=yp(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zm(i,e,o),t!==null&&(sd(t,i,o,s),x9(t,i,o)),o}function o_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $Q(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LW(t,e){$Q(t,e),(t=t.alternate)&&$Q(t,e)}function G7e(){return null}var Jde=typeof reportError=="function"?reportError:function(t){console.error(t)};function FW(t){this._internalRoot=t}QI.prototype.render=FW.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ze(409));YI(t,e,null,null)};QI.prototype.unmount=FW.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;F1(function(){YI(null,t,null,null)}),e[Rp]=null}};function QI(t){this._internalRoot=t}QI.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tue();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sm.length&&e!==0&&e<sm[n].priority;n++);sm.splice(n,0,t),n===0&&Nue(t)}};function UW(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ZI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NQ(){}function K7e(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=o_(o);s.call(c)}}var o=Zde(e,r,t,0,null,!1,!1,"",NQ);return t._reactRootContainer=o,t[Rp]=o.current,L4(t.nodeType===8?t.parentNode:t),F1(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=o_(l);a.call(c)}}var l=BW(t,0,!1,null,null,!1,!1,"",NQ);return t._reactRootContainer=l,t[Rp]=l.current,L4(t.nodeType===8?t.parentNode:t),F1(function(){YI(e,l,n,r)}),l}function JI(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=o_(o);a.call(l)}}YI(e,o,t,i)}else o=K7e(n,e,t,i,r);return o_(o)}_ue=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=p6(e.pendingLanes);n!==0&&(oW(e,n|1),Ya(e,$i()),!(Vn&6)&&(yx=$i()+500,_g()))}break;case 13:F1(function(){var r=jp(t,1);if(r!==null){var i=ca();sd(r,t,1,i)}}),LW(t,1)}};aW=function(t){if(t.tag===13){var e=jp(t,134217728);if(e!==null){var n=ca();sd(e,t,134217728,n)}LW(t,134217728)}};Iue=function(t){if(t.tag===13){var e=Xm(t),n=jp(t,e);if(n!==null){var r=ca();sd(n,t,e,r)}LW(t,e)}};Tue=function(){return lr};$ue=function(t,e){var n=lr;try{return lr=t,e()}finally{lr=n}};rD=function(t,e,n){switch(e){case"input":if(QM(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zI(r);if(!i)throw Error(Ze(90));aue(r),QM(r,i)}}}break;case"textarea":cue(t,n);break;case"select":e=n.value,e!=null&&Bv(t,!!n.multiple,e,!1)}};gue=jW;yue=F1;var Y7e={usingClientEntryPoint:!1,Events:[hA,iv,zI,pue,mue,jW]},A5={findFiberByHostInstance:ky,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q7e={bundleType:A5.bundleType,version:A5.version,rendererPackageName:A5.rendererPackageName,rendererConfig:A5.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:r0.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vue(t),t===null?null:t.stateNode},findFiberByHostInstance:A5.findFiberByHostInstance||G7e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qC.isDisabled&&qC.supportsFiber)try{BI=qC.inject(Q7e),Nh=qC}catch{}}nc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y7e;nc.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UW(e))throw Error(Ze(200));return q7e(t,e,null,n)};nc.createRoot=function(t,e){if(!UW(t))throw Error(Ze(299));var n=!1,r="",i=Jde;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BW(t,1,!1,null,null,n,!1,r,i),t[Rp]=e.current,L4(t.nodeType===8?t.parentNode:t),new FW(e)};nc.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ze(188)):(t=Object.keys(t).join(","),Error(Ze(268,t)));return t=vue(e),t=t===null?null:t.stateNode,t};nc.flushSync=function(t){return F1(t)};nc.hydrate=function(t,e,n){if(!ZI(e))throw Error(Ze(200));return JI(null,t,e,!0,n)};nc.hydrateRoot=function(t,e,n){if(!UW(t))throw Error(Ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Jde;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zde(e,null,t,1,n??null,i,!1,s,o),t[Rp]=e.current,L4(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new QI(e)};nc.render=function(t,e,n){if(!ZI(e))throw Error(Ze(200));return JI(null,t,e,!1,n)};nc.unmountComponentAtNode=function(t){if(!ZI(t))throw Error(Ze(40));return t._reactRootContainer?(F1(function(){JI(null,null,t,!1,function(){t._reactRootContainer=null,t[Rp]=null})}),!0):!1};nc.unstable_batchedUpdates=jW;nc.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ZI(n))throw Error(Ze(200));if(t==null||t._reactInternals===void 0)throw Error(Ze(38));return JI(t,e,n,!1,r)};nc.version="18.3.1-next-f1338f8080-20240426";function Xde(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xde)}catch(t){console.error(t)}}Xde(),Xce.exports=nc;var Kl=Xce.exports;const ehe=Ks(Kl);var the,PQ=Kl;the=PQ.createRoot,PQ.hydrateRoot;const Z7e=1,J7e=1e6;let YP=0;function X7e(){return YP=(YP+1)%Number.MAX_SAFE_INTEGER,YP.toString()}const QP=new Map,RQ=t=>{if(QP.has(t))return;const e=setTimeout(()=>{QP.delete(t),Q6({type:"REMOVE_TOAST",toastId:t})},J7e);QP.set(t,e)},eIe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Z7e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RQ(n):t.toasts.forEach(r=>{RQ(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},I9=[];let T9={toasts:[]};function Q6(t){T9=eIe(T9,t),I9.forEach(e=>{e(T9)})}function a_({...t}){const e=X7e(),n=i=>Q6({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Q6({type:"DISMISS_TOAST",toastId:e});return Q6({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function wa(){const[t,e]=x.useState(T9);return x.useEffect(()=>(I9.push(e),()=>{const n=I9.indexOf(e);n>-1&&I9.splice(n,1)}),[t]),{...t,toast:a_,dismiss:n=>Q6({type:"DISMISS_TOAST",toastId:n})}}function Ni(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function jQ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nhe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=jQ(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():jQ(t[i],null)}}}}function Yl(...t){return x.useCallback(nhe(...t),t)}function pA(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:f,children:p,...m}=h,g=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,y=x.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:y,children:p})};c.displayName=s+"Provider";function u(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,m=x.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,tIe(i,...e)]}function tIe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function l_(t){const e=rIe(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(sIe);if(l){const c=l.props.children,u=a.map(h=>h===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var nIe=l_("Slot");function rIe(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=aIe(i),a=oIe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nhe(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rhe=Symbol("radix.slottable");function iIe(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rhe,e}function sIe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rhe}function oIe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function aIe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lIe(t){const e=t+"CollectionProvider",[n,r]=pA(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,v=Ae.useRef(null),b=Ae.useRef(new Map).current;return d.jsx(i,{scope:y,itemMap:b,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=l_(a),c=Ae.forwardRef((g,y)=>{const{scope:w,children:v}=g,b=s(a,w),A=Yl(y,b.collectionRef);return d.jsx(l,{ref:A,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=l_(u),p=Ae.forwardRef((g,y)=>{const{scope:w,children:v,...b}=g,A=Ae.useRef(null),E=Yl(y,A),$=s(u,w);return Ae.useEffect(()=>($.itemMap.set(A,{ref:A,...b}),()=>void $.itemMap.delete(A))),d.jsx(f,{[h]:"",ref:E,children:v})});p.displayName=u;function m(g){const y=s(t+"CollectionConsumer",g);return Ae.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort(($,N)=>b.indexOf($.ref.current)-b.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},m,r]}var cIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ys=cIe.reduce((t,e)=>{const n=l_(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ihe(t,e){t&&Kl.flushSync(()=>t.dispatchEvent(e))}function ug(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function uIe(t,e=globalThis==null?void 0:globalThis.document){const n=ug(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dIe="DismissableLayer",MD="dismissableLayer.update",hIe="dismissableLayer.pointerDownOutside",fIe="dismissableLayer.focusOutside",OQ,she=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zW=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(she),[u,h]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),m=Yl(e,N=>h(N)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=v>=w,E=mIe(N=>{const R=N.target,M=[...c.branches].some(F=>F.contains(R));!A||M||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},f),$=gIe(N=>{const R=N.target;[...c.branches].some(F=>F.contains(R))||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},f);return uIe(N=>{v===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},f),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(OQ=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),MQ(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=OQ)}},[u,f,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),MQ())},[u,c]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(MD,N),()=>document.removeEventListener(MD,N)},[]),d.jsx(Ys.div,{...l,ref:m,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Ni(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Ni(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ni(t.onPointerDownCapture,E.onPointerDownCapture)})});zW.displayName=dIe;var pIe="DismissableLayerBranch",ohe=x.forwardRef((t,e)=>{const n=x.useContext(she),r=x.useRef(null),i=Yl(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx(Ys.div,{...t,ref:i})});ohe.displayName=pIe;function mIe(t,e=globalThis==null?void 0:globalThis.document){const n=ug(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){ahe(hIe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gIe(t,e=globalThis==null?void 0:globalThis.document){const n=ug(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&ahe(fIe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MQ(){const t=new CustomEvent(MD);document.dispatchEvent(t)}function ahe(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ihe(i,s):i.dispatchEvent(s)}var yIe=zW,wIe=ohe,dg=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},bIe="Portal",lhe=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);dg(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ehe.createPortal(d.jsx(Ys.div,{...r,ref:e}),o):null});lhe.displayName=bIe;function vIe(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var XI=t=>{const{present:e,children:n}=t,r=xIe(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=Yl(r.ref,EIe(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};XI.displayName="Presence";function xIe(t){const[e,n]=x.useState(),r=x.useRef(null),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=vIe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=GC(r.current);s.current=a==="mounted"?c:"none"},[a]),dg(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,p=GC(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),dg(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=GC(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(s.current=GC(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function GC(t){return(t==null?void 0:t.animationName)||"none"}function EIe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AIe=$4[" useInsertionEffect ".trim().toString()]||dg;function che({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=CIe({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=x.useRef(t!==void 0);x.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=x.useCallback(u=>{var h;if(a){const f=kIe(u)?u(t):u;f!==t&&((h=o.current)==null||h.call(o,f))}else s(u)},[a,t,s,o]);return[l,c]}function CIe({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),i=x.useRef(n),s=x.useRef(e);return AIe(()=>{s.current=e},[e]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function kIe(t){return typeof t=="function"}var SIe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_Ie="VisuallyHidden",eT=x.forwardRef((t,e)=>d.jsx(Ys.span,{...t,ref:e,style:{...SIe,...t.style}}));eT.displayName=_Ie;var IIe=eT,WW="ToastProvider",[HW,TIe,$Ie]=lIe("Toast"),[uhe,wKt]=pA("Toast",[$Ie]),[NIe,tT]=uhe(WW),dhe=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=x.useState(null),[c,u]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${WW}\`. Expected non-empty \`string\`.`),d.jsx(HW.Provider,{scope:e,children:d.jsx(NIe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};dhe.displayName=WW;var hhe="ToastViewport",PIe=["F8"],DD="toast.viewportPause",BD="toast.viewportResume",fhe=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=PIe,label:i="Notifications ({hotkey})",...s}=t,o=tT(hhe,n),a=TIe(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),h=x.useRef(null),f=Yl(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;x.useEffect(()=>{const y=w=>{var b;r.length!==0&&r.every(A=>w[A]||w.code===A)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=l.current,w=h.current;if(m&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(DD);w.dispatchEvent($),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(BD);w.dispatchEvent($),o.isClosePausedRef.current=!1}},A=$=>{!y.contains($.relatedTarget)&&b()},E=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",A),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const v=a().map(b=>{const A=b.ref.current,E=[A,...VIe(A)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return x.useEffect(()=>{const y=h.current;if(y){const w=v=>{var E,$,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const R=document.activeElement,M=v.shiftKey;if(v.target===y&&M){(E=c.current)==null||E.focus();return}const V=g({tabbingDirection:M?"backwards":"forwards"}),B=V.findIndex(k=>k===R);ZP(V.slice(B+1))?v.preventDefault():M?($=c.current)==null||$.focus():(N=u.current)==null||N.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,g]),d.jsxs(wIe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&d.jsx(LD,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});ZP(y)}}),d.jsx(HW.Slot,{scope:n,children:d.jsx(Ys.ol,{tabIndex:-1,...s,ref:f})}),m&&d.jsx(LD,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});ZP(y)}})]})});fhe.displayName=hhe;var phe="ToastFocusProxy",LD=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=tT(phe,n);return d.jsx(eT,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});LD.displayName=phe;var mA="Toast",RIe="toast.swipeStart",jIe="toast.swipeMove",OIe="toast.swipeCancel",MIe="toast.swipeEnd",mhe=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=che({prop:r,defaultProp:i??!0,onChange:s,caller:mA});return d.jsx(XI,{present:n||a,children:d.jsx(LIe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ug(t.onPause),onResume:ug(t.onResume),onSwipeStart:Ni(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ni(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ni(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ni(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});mhe.displayName=mA;var[DIe,BIe]=uhe(mA,{onClose(){}}),LIe=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...m}=t,g=tT(mA,n),[y,w]=x.useState(null),v=Yl(e,k=>w(k)),b=x.useRef(null),A=x.useRef(null),E=i||g.duration,$=x.useRef(0),N=x.useRef(E),R=x.useRef(0),{onToastAdd:M,onToastRemove:F}=g,W=ug(()=>{var C;(y==null?void 0:y.contains(document.activeElement))&&((C=g.viewport)==null||C.focus()),o()}),V=x.useCallback(k=>{!k||k===1/0||(window.clearTimeout(R.current),$.current=new Date().getTime(),R.current=window.setTimeout(W,k))},[W]);x.useEffect(()=>{const k=g.viewport;if(k){const C=()=>{V(N.current),c==null||c()},S=()=>{const T=new Date().getTime()-$.current;N.current=N.current-T,window.clearTimeout(R.current),l==null||l()};return k.addEventListener(DD,S),k.addEventListener(BD,C),()=>{k.removeEventListener(DD,S),k.removeEventListener(BD,C)}}},[g.viewport,E,l,c,V]),x.useEffect(()=>{s&&!g.isClosePausedRef.current&&V(E)},[s,E,g.isClosePausedRef,V]),x.useEffect(()=>(M(),()=>F()),[M,F]);const B=x.useMemo(()=>y?Ehe(y):null,[y]);return g.viewport?d.jsxs(d.Fragment,{children:[B&&d.jsx(FIe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),d.jsx(DIe,{scope:n,onClose:W,children:Kl.createPortal(d.jsx(HW.ItemSlot,{scope:n,children:d.jsx(yIe,{asChild:!0,onEscapeKeyDown:Ni(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ys.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ni(t.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Ni(t.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:Ni(t.onPointerMove,k=>{if(!b.current)return;const C=k.clientX-b.current.x,S=k.clientY-b.current.y,T=!!A.current,_=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=_?P(0,C):0,j=_?0:P(0,S),I=k.pointerType==="touch"?10:2,L={x:D,y:j},J={originalEvent:k,delta:L};T?(A.current=L,KC(jIe,h,J,{discrete:!1})):DQ(L,g.swipeDirection,I)?(A.current=L,KC(RIe,u,J,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(C)>I||Math.abs(S)>I)&&(b.current=null)}),onPointerUp:Ni(t.onPointerUp,k=>{const C=A.current,S=k.target;if(S.hasPointerCapture(k.pointerId)&&S.releasePointerCapture(k.pointerId),A.current=null,b.current=null,C){const T=k.currentTarget,_={originalEvent:k,delta:C};DQ(C,g.swipeDirection,g.swipeThreshold)?KC(MIe,p,_,{discrete:!0}):KC(OIe,f,_,{discrete:!0}),T.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),FIe=t=>{const{__scopeToast:e,children:n,...r}=t,i=tT(mA,e),[s,o]=x.useState(!1),[a,l]=x.useState(!1);return WIe(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(lhe,{asChild:!0,children:d.jsx(eT,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},UIe="ToastTitle",ghe=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ys.div,{...r,ref:e})});ghe.displayName=UIe;var zIe="ToastDescription",yhe=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ys.div,{...r,ref:e})});yhe.displayName=zIe;var whe="ToastAction",bhe=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(xhe,{altText:n,asChild:!0,children:d.jsx(VW,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${whe}\`. Expected non-empty \`string\`.`),null)});bhe.displayName=whe;var vhe="ToastClose",VW=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=BIe(vhe,n);return d.jsx(xhe,{asChild:!0,children:d.jsx(Ys.button,{type:"button",...r,ref:e,onClick:Ni(t.onClick,i.onClose)})})});VW.displayName=vhe;var xhe=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx(Ys.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Ehe(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HIe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ehe(r))}}),e}function KC(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ihe(i,s):i.dispatchEvent(s)}var DQ=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function WIe(t=()=>{}){const e=ug(t);dg(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function HIe(t){return t.nodeType===t.ELEMENT_NODE}function VIe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZP(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qIe=dhe,Ahe=fhe,Che=mhe,khe=ghe,She=yhe,_he=bhe,Ihe=VW;function The(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=The(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $he(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=The(t))&&(r&&(r+=" "),r+=e);return r}const BQ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LQ=$he,Nhe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LQ(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const f=BQ(u)||BQ(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...c,h,f]:c},[]);return LQ(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GIe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Phe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KIe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YIe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...KIe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Phe("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(YIe,{ref:s,iconNode:e,className:Phe(`lucide-${GIe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=Xt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Xt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Xt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QIe=Xt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZIe=Xt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=Xt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JIe=Xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=Xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XIe=Xt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=Xt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eTe=Xt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=Xt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=Xt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Xt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tTe=Xt("Diff",[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=Xt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=Xt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nTe=Xt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=Xt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rTe=Xt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Xt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iTe=Xt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sTe=Xt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oTe=Xt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=Xt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aTe=Xt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lTe=Xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cTe=Xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Xt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Xt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uTe=Xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Xt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=Xt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=Xt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dTe=Xt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hTe=Xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=Xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=Xt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),KW="-",fTe=t=>{const e=mTe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(KW);return a[0]===""&&a.length!==1&&a.shift(),Lhe(a,e)||pTe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Lhe=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Lhe(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(KW);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},HQ=/^\[(.+)\]$/,pTe=t=>{if(HQ.test(t)){const e=HQ.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mTe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yTe(Object.entries(t.classGroups),n).forEach(([s,o])=>{zD(o,r,s,e)}),r},zD=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VQ(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(gTe(i)){zD(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{zD(o,VQ(e,s),n,r)})})},VQ=(t,e)=>{let n=t;return e.split(KW).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gTe=t=>t.isThemeGetter,yTe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,wTe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Fhe="!",bTe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let y=0;y<a.length;y++){let w=a[y];if(c===0){if(w===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(w==="/"){h=y;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(Fhe),m=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},vTe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},xTe=t=>({cache:wTe(t.cacheSize),parseClassName:bTe(t),...fTe(t)}),ETe=/\s+/,ATe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ETe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=vTe(u).join(":"),w=h?y+Fhe:y,v=w+g;if(s.includes(v))continue;s.push(v);const b=i(g,m);for(let A=0;A<b.length;++A){const E=b[A];s.push(w+E)}a=c+(a.length>0?" "+a:a)}return a};function CTe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Uhe(e))&&(r&&(r+=" "),r+=n);return r}const Uhe=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Uhe(t[r]))&&(n&&(n+=" "),n+=e);return n};function kTe(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=xTe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=ATe(l,n);return i(l,u),u}return function(){return s(CTe.apply(null,arguments))}}const Nr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zhe=/^\[(?:([a-z-]+):)?(.+)\]$/i,STe=/^\d+\/\d+$/,_Te=new Set(["px","full","screen"]),ITe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TTe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$Te=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NTe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PTe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gf=t=>Hv(t)||_Te.has(t)||STe.test(t),d0=t=>E3(t,"length",FTe),Hv=t=>!!t&&!Number.isNaN(Number(t)),XP=t=>E3(t,"number",Hv),C5=t=>!!t&&Number.isInteger(Number(t)),RTe=t=>t.endsWith("%")&&Hv(t.slice(0,-1)),ln=t=>zhe.test(t),h0=t=>ITe.test(t),jTe=new Set(["length","size","percentage"]),OTe=t=>E3(t,jTe,Whe),MTe=t=>E3(t,"position",Whe),DTe=new Set(["image","url"]),BTe=t=>E3(t,DTe,zTe),LTe=t=>E3(t,"",UTe),k5=()=>!0,E3=(t,e,n)=>{const r=zhe.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},FTe=t=>TTe.test(t)&&!$Te.test(t),Whe=()=>!1,UTe=t=>NTe.test(t),zTe=t=>PTe.test(t),WTe=()=>{const t=Nr("colors"),e=Nr("spacing"),n=Nr("blur"),r=Nr("brightness"),i=Nr("borderColor"),s=Nr("borderRadius"),o=Nr("borderSpacing"),a=Nr("borderWidth"),l=Nr("contrast"),c=Nr("grayscale"),u=Nr("hueRotate"),h=Nr("invert"),f=Nr("gap"),p=Nr("gradientColorStops"),m=Nr("gradientColorStopPositions"),g=Nr("inset"),y=Nr("margin"),w=Nr("opacity"),v=Nr("padding"),b=Nr("saturate"),A=Nr("scale"),E=Nr("sepia"),$=Nr("skew"),N=Nr("space"),R=Nr("translate"),M=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ln,e],V=()=>[ln,e],B=()=>["",gf,d0],k=()=>["auto",Hv,ln],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ln],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[Hv,ln];return{cacheSize:500,separator:":",theme:{colors:[k5],spacing:[gf,d0],blur:["none","",h0,ln],brightness:j(),borderColor:[t],borderRadius:["none","","full",h0,ln],borderSpacing:V(),borderWidth:B(),contrast:j(),grayscale:P(),hueRotate:j(),invert:P(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[RTe,d0],inset:W(),margin:W(),opacity:j(),padding:V(),saturate:j(),scale:j(),sepia:P(),skew:j(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",ln]}],container:["container"],columns:[{columns:[h0]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ln]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",C5,ln]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ln]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",C5,ln]}],"grid-cols":[{"grid-cols":[k5]}],"col-start-end":[{col:["auto",{span:["full",C5,ln]},ln]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[k5]}],"row-start-end":[{row:["auto",{span:[C5,ln]},ln]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ln]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ln]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ln,e]}],"min-w":[{"min-w":[ln,e,"min","max","fit"]}],"max-w":[{"max-w":[ln,e,"none","full","min","max","fit","prose",{screen:[h0]},h0]}],h:[{h:[ln,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ln,e,"auto","min","max","fit"]}],"font-size":[{text:["base",h0,d0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",XP]}],"font-family":[{font:[k5]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ln]}],"line-clamp":[{"line-clamp":["none",Hv,XP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gf,ln]}],"list-image":[{"list-image":["none",ln]}],"list-style-type":[{list:["none","disc","decimal",ln]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...S(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gf,d0]}],"underline-offset":[{"underline-offset":["auto",gf,ln]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ln]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ln]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),MTe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OTe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BTe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...S(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:S()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...S()]}],"outline-offset":[{"outline-offset":[gf,ln]}],"outline-w":[{outline:[gf,d0]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gf,d0]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",h0,LTe]}],"shadow-color":[{shadow:[k5]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",h0,ln]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ln]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",ln]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",ln]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[C5,ln]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ln]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ln]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ln]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gf,d0,XP]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HTe=kTe(WTe);function ua(...t){return HTe($he(t))}const VTe=qIe,Hhe=x.forwardRef(({className:t,...e},n)=>d.jsx(Ahe,{ref:n,className:ua("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Hhe.displayName=Ahe.displayName;const qTe=Nhe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vhe=x.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(Che,{ref:r,className:ua(qTe({variant:e}),t),...n}));Vhe.displayName=Che.displayName;const GTe=x.forwardRef(({className:t,...e},n)=>d.jsx(_he,{ref:n,className:ua("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));GTe.displayName=_he.displayName;const qhe=x.forwardRef(({className:t,...e},n)=>d.jsx(Ihe,{ref:n,className:ua("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(wA,{className:"h-4 w-4"})}));qhe.displayName=Ihe.displayName;const Ghe=x.forwardRef(({className:t,...e},n)=>d.jsx(khe,{ref:n,className:ua("text-sm font-semibold",t),...e}));Ghe.displayName=khe.displayName;const Khe=x.forwardRef(({className:t,...e},n)=>d.jsx(She,{ref:n,className:ua("text-sm opacity-90",t),...e}));Khe.displayName=She.displayName;function KTe(){const{toasts:t}=wa();return d.jsxs(VTe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return d.jsxs(Vhe,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(Ghe,{children:n}),r&&d.jsx(Khe,{children:r})]}),i,d.jsx(qhe,{})]},e)}),d.jsx(Hhe,{})]})}var qQ=["light","dark"],YTe="(prefers-color-scheme: dark)",QTe=x.createContext(void 0),ZTe={setTheme:t=>{},themes:[]},JTe=()=>{var t;return(t=x.useContext(QTe))!=null?t:ZTe};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?qQ.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,g=!1,y=!0)=>{let w=o?o[m]:m,v=g?m+"|| ''":`'${w}'`,b="";return i&&y&&!g&&qQ.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?g||w?b+=`c.add(${v})`:b+="null":w&&(b+=`d[s](n,${v})`),b},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${YTe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var XTe=t=>{switch(t){case"success":return n$e;case"info":return i$e;case"warning":return r$e;case"error":return s$e;default:return null}},e$e=Array(12).fill(0),t$e=({visible:t,className:e})=>Ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ae.createElement("div",{className:"sonner-spinner"},e$e.map((n,r)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),n$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),r$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),i$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),s$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),o$e=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),a$e=()=>{let[t,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},WD=1,l$e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:WD++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Ae.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(u$e(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||WD++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Na=new l$e,c$e=(t,e)=>{let n=(e==null?void 0:e.id)||WD++;return Na.addToast({title:t,...e,id:n}),n},u$e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",d$e=c$e,h$e=()=>Na.toasts,f$e=()=>Na.getActiveToasts();Object.assign(d$e,{success:Na.success,info:Na.info,warning:Na.warning,error:Na.error,custom:Na.custom,message:Na.message,promise:Na.promise,dismiss:Na.dismiss,loading:Na.loading},{getHistory:h$e,getToasts:f$e});function p$e(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}p$e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function YC(t){return t.label!==void 0}var m$e=3,g$e="32px",y$e="16px",GQ=4e3,w$e=356,b$e=14,v$e=20,x$e=200;function wu(...t){return t.filter(Boolean).join(" ")}function E$e(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var A$e=t=>{var e,n,r,i,s,o,a,l,c,u,h;let{invert:f,toast:p,unstyled:m,interacting:g,setHeights:y,visibleToasts:w,heights:v,index:b,toasts:A,expanded:E,removeToast:$,defaultRichColors:N,closeButton:R,style:M,cancelButtonStyle:F,actionButtonStyle:W,className:V="",descriptionClassName:B="",duration:k,position:C,gap:S,loadingIcon:T,expandByDefault:_,classNames:P,icons:D,closeButtonAriaLabel:j="Close toast",pauseWhenPageIsHidden:I}=t,[L,J]=Ae.useState(null),[O,G]=Ae.useState(null),[Z,Q]=Ae.useState(!1),[ie,de]=Ae.useState(!1),[oe,he]=Ae.useState(!1),[we,fe]=Ae.useState(!1),[ke,be]=Ae.useState(!1),[Ue,Me]=Ae.useState(0),[Se,xe]=Ae.useState(0),Ne=Ae.useRef(p.duration||k||GQ),Be=Ae.useRef(null),Ce=Ae.useRef(null),De=b===0,Ve=b+1<=w,rt=p.type,K=p.dismissible!==!1,U=p.className||"",z=p.descriptionClassName||"",ee=Ae.useMemo(()=>v.findIndex(ot=>ot.toastId===p.id)||0,[v,p.id]),ne=Ae.useMemo(()=>{var ot;return(ot=p.closeButton)!=null?ot:R},[p.closeButton,R]),se=Ae.useMemo(()=>p.duration||k||GQ,[p.duration,k]),ce=Ae.useRef(0),Le=Ae.useRef(0),Xe=Ae.useRef(0),Ye=Ae.useRef(null),[et,Re]=C.split("-"),Tt=Ae.useMemo(()=>v.reduce((ot,Qt,q)=>q>=ee?ot:ot+Qt.height,0),[v,ee]),dn=a$e(),Bt=p.invert||f,He=rt==="loading";Le.current=Ae.useMemo(()=>ee*S+Tt,[ee,Tt]),Ae.useEffect(()=>{Ne.current=se},[se]),Ae.useEffect(()=>{Q(!0)},[]),Ae.useEffect(()=>{let ot=Ce.current;if(ot){let Qt=ot.getBoundingClientRect().height;return xe(Qt),y(q=>[{toastId:p.id,height:Qt,position:p.position},...q]),()=>y(q=>q.filter(Y=>Y.toastId!==p.id))}},[y,p.id]),Ae.useLayoutEffect(()=>{if(!Z)return;let ot=Ce.current,Qt=ot.style.height;ot.style.height="auto";let q=ot.getBoundingClientRect().height;ot.style.height=Qt,xe(q),y(Y=>Y.find(ae=>ae.toastId===p.id)?Y.map(ae=>ae.toastId===p.id?{...ae,height:q}:ae):[{toastId:p.id,height:q,position:p.position},...Y])},[Z,p.title,p.description,y,p.id]);let Ln=Ae.useCallback(()=>{de(!0),Me(Le.current),y(ot=>ot.filter(Qt=>Qt.toastId!==p.id)),setTimeout(()=>{$(p)},x$e)},[p,$,y,Le]);Ae.useEffect(()=>{if(p.promise&&rt==="loading"||p.duration===1/0||p.type==="loading")return;let ot;return E||g||I&&dn?(()=>{if(Xe.current<ce.current){let Qt=new Date().getTime()-ce.current;Ne.current=Ne.current-Qt}Xe.current=new Date().getTime()})():Ne.current!==1/0&&(ce.current=new Date().getTime(),ot=setTimeout(()=>{var Qt;(Qt=p.onAutoClose)==null||Qt.call(p,p),Ln()},Ne.current)),()=>clearTimeout(ot)},[E,g,p,rt,I,dn,Ln]),Ae.useEffect(()=>{p.delete&&Ln()},[Ln,p.delete]);function En(){var ot,Qt,q;return D!=null&&D.loading?Ae.createElement("div",{className:wu(P==null?void 0:P.loader,(ot=p==null?void 0:p.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":rt==="loading"},D.loading):T?Ae.createElement("div",{className:wu(P==null?void 0:P.loader,(Qt=p==null?void 0:p.classNames)==null?void 0:Qt.loader,"sonner-loader"),"data-visible":rt==="loading"},T):Ae.createElement(t$e,{className:wu(P==null?void 0:P.loader,(q=p==null?void 0:p.classNames)==null?void 0:q.loader),visible:rt==="loading"})}return Ae.createElement("li",{tabIndex:0,ref:Ce,className:wu(V,U,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[rt],(n=p==null?void 0:p.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":Z,"data-promise":!!p.promise,"data-swiped":ke,"data-removed":ie,"data-visible":Ve,"data-y-position":et,"data-x-position":Re,"data-index":b,"data-front":De,"data-swiping":oe,"data-dismissible":K,"data-type":rt,"data-invert":Bt,"data-swipe-out":we,"data-swipe-direction":O,"data-expanded":!!(E||_&&Z),style:{"--index":b,"--toasts-before":b,"--z-index":A.length-b,"--offset":`${ie?Ue:Le.current}px`,"--initial-height":_?"auto":`${Se}px`,...M,...p.style},onDragEnd:()=>{he(!1),J(null),Ye.current=null},onPointerDown:ot=>{He||!K||(Be.current=new Date,Me(Le.current),ot.target.setPointerCapture(ot.pointerId),ot.target.tagName!=="BUTTON"&&(he(!0),Ye.current={x:ot.clientX,y:ot.clientY}))},onPointerUp:()=>{var ot,Qt,q,Y;if(we||!K)return;Ye.current=null;let ae=Number(((ot=Ce.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),re=Number(((Qt=Ce.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),le=new Date().getTime()-((q=Be.current)==null?void 0:q.getTime()),me=L==="x"?ae:re,$e=Math.abs(me)/le;if(Math.abs(me)>=v$e||$e>.11){Me(Le.current),(Y=p.onDismiss)==null||Y.call(p,p),G(L==="x"?ae>0?"right":"left":re>0?"down":"up"),Ln(),fe(!0),be(!1);return}he(!1),J(null)},onPointerMove:ot=>{var Qt,q,Y,ae;if(!Ye.current||!K||((Qt=window.getSelection())==null?void 0:Qt.toString().length)>0)return;let re=ot.clientY-Ye.current.y,le=ot.clientX-Ye.current.x,me=(q=t.swipeDirections)!=null?q:E$e(C);!L&&(Math.abs(le)>1||Math.abs(re)>1)&&J(Math.abs(le)>Math.abs(re)?"x":"y");let $e={x:0,y:0};L==="y"?(me.includes("top")||me.includes("bottom"))&&(me.includes("top")&&re<0||me.includes("bottom")&&re>0)&&($e.y=re):L==="x"&&(me.includes("left")||me.includes("right"))&&(me.includes("left")&&le<0||me.includes("right")&&le>0)&&($e.x=le),(Math.abs($e.x)>0||Math.abs($e.y)>0)&&be(!0),(Y=Ce.current)==null||Y.style.setProperty("--swipe-amount-x",`${$e.x}px`),(ae=Ce.current)==null||ae.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},ne&&!p.jsx?Ae.createElement("button",{"aria-label":j,"data-disabled":He,"data-close-button":!0,onClick:He||!K?()=>{}:()=>{var ot;Ln(),(ot=p.onDismiss)==null||ot.call(p,p)},className:wu(P==null?void 0:P.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=D==null?void 0:D.close)!=null?s:o$e):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ae.createElement(Ae.Fragment,null,rt||p.icon||p.promise?Ae.createElement("div",{"data-icon":"",className:wu(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||En():null,p.type!=="loading"?p.icon||(D==null?void 0:D[rt])||XTe(rt):null):null,Ae.createElement("div",{"data-content":"",className:wu(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},Ae.createElement("div",{"data-title":"",className:wu(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?Ae.createElement("div",{"data-description":"",className:wu(B,z,P==null?void 0:P.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&YC(p.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:ot=>{var Qt,q;YC(p.cancel)&&K&&((q=(Qt=p.cancel).onClick)==null||q.call(Qt,ot),Ln())},className:wu(P==null?void 0:P.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&YC(p.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:ot=>{var Qt,q;YC(p.action)&&((q=(Qt=p.action).onClick)==null||q.call(Qt,ot),!ot.defaultPrevented&&Ln())},className:wu(P==null?void 0:P.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function KQ(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function C$e(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?y$e:g$e;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var k$e=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:p,visibleToasts:m=m$e,toastOptions:g,dir:y=KQ(),gap:w=b$e,loadingIcon:v,icons:b,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:E}=t,[$,N]=Ae.useState([]),R=Ae.useMemo(()=>Array.from(new Set([r].concat($.filter(I=>I.position).map(I=>I.position)))),[$,r]),[M,F]=Ae.useState([]),[W,V]=Ae.useState(!1),[B,k]=Ae.useState(!1),[C,S]=Ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=Ae.useRef(null),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=Ae.useRef(null),D=Ae.useRef(!1),j=Ae.useCallback(I=>{N(L=>{var J;return(J=L.find(O=>O.id===I.id))!=null&&J.delete||Na.dismiss(I.id),L.filter(({id:O})=>O!==I.id)})},[]);return Ae.useEffect(()=>Na.subscribe(I=>{if(I.dismiss){N(L=>L.map(J=>J.id===I.id?{...J,delete:!0}:J));return}setTimeout(()=>{ehe.flushSync(()=>{N(L=>{let J=L.findIndex(O=>O.id===I.id);return J!==-1?[...L.slice(0,J),{...L[J],...I},...L.slice(J+1)]:[I,...L]})})})}),[]),Ae.useEffect(()=>{if(u!=="system"){S(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?S("dark"):S("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:L})=>{S(L?"dark":"light")})}catch{I.addListener(({matches:J})=>{try{S(J?"dark":"light")}catch(O){console.error(O)}})}},[u]),Ae.useEffect(()=>{$.length<=1&&V(!1)},[$]),Ae.useEffect(()=>{let I=L=>{var J,O;i.every(G=>L[G]||L.code===G)&&(V(!0),(J=T.current)==null||J.focus()),L.code==="Escape"&&(document.activeElement===T.current||(O=T.current)!=null&&O.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[i]),Ae.useEffect(()=>{if(T.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,D.current=!1)}},[T.current]),Ae.createElement("section",{ref:e,"aria-label":`${A} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((I,L)=>{var J;let[O,G]=I.split("-");return $.length?Ae.createElement("ol",{key:I,dir:y==="auto"?KQ():y,tabIndex:-1,ref:T,className:a,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":O,"data-lifted":W&&$.length>1&&!s,"data-x-position":G,style:{"--front-toast-height":`${((J=M[0])==null?void 0:J.height)||0}px`,"--width":`${w$e}px`,"--gap":`${w}px`,...p,...C$e(l,c)},onBlur:Z=>{D.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(D.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||D.current||(D.current=!0,P.current=Z.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{B||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},$.filter(Z=>!Z.position&&L===0||Z.position===I).map((Z,Q)=>{var ie,de;return Ae.createElement(A$e,{key:Z.id,icons:b,index:Q,toast:Z,defaultRichColors:h,duration:(ie=g==null?void 0:g.duration)!=null?ie:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:o,interacting:B,position:I,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:j,toasts:$.filter(oe=>oe.position==Z.position),heights:M.filter(oe=>oe.position==Z.position),setHeights:F,expandByDefault:s,gap:w,loadingIcon:v,expanded:W,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const S$e=({...t})=>{const{theme:e="system"}=JTe();return d.jsx(k$e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},_$e=["top","right","bottom","left"],Mp=Math.min,So=Math.max,K4=Math.round,QC=Math.floor,Rh=t=>({x:t,y:t}),I$e={left:"right",right:"left",bottom:"top",top:"bottom"},T$e={start:"end",end:"start"};function HD(t,e,n){return So(t,Mp(e,n))}function Yh(t,e){return typeof t=="function"?t(e):t}function Dp(t){return t.split("-")[0]}function A3(t){return t.split("-")[1]}function YW(t){return t==="x"?"y":"x"}function QW(t){return t==="y"?"height":"width"}const $$e=new Set(["top","bottom"]);function Sh(t){return $$e.has(Dp(t))?"y":"x"}function ZW(t){return YW(Sh(t))}function N$e(t,e,n){n===void 0&&(n=!1);const r=A3(t),i=ZW(t),s=QW(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=u_(o)),[o,u_(o)]}function P$e(t){const e=u_(t);return[VD(t),e,VD(e)]}function VD(t){return t.replace(/start|end/g,e=>T$e[e])}const YQ=["left","right"],QQ=["right","left"],R$e=["top","bottom"],j$e=["bottom","top"];function O$e(t,e,n){switch(t){case"top":case"bottom":return n?e?QQ:YQ:e?YQ:QQ;case"left":case"right":return e?R$e:j$e;default:return[]}}function M$e(t,e,n,r){const i=A3(t);let s=O$e(Dp(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(VD)))),s}function u_(t){return t.replace(/left|right|bottom|top/g,e=>I$e[e])}function D$e(t){return{top:0,right:0,bottom:0,left:0,...t}}function Yhe(t){return typeof t!="number"?D$e(t):{top:t,right:t,bottom:t,left:t}}function d_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ZQ(t,e,n){let{reference:r,floating:i}=t;const s=Sh(e),o=ZW(e),a=QW(o),l=Dp(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(A3(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const B$e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=ZQ(c,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:w}=a[g],{x:v,y:b,data:A,reset:E}=await w({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,h=b??h,p={...p,[y]:{...p[y],...A}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:h}=ZQ(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function wx(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Yh(e,t),m=Yhe(p),y=a[f?h==="floating"?"reference":"floating":h],w=d_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=d_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(w.top-E.top+m.top)/A.y,bottom:(E.bottom-w.bottom+m.bottom)/A.y,left:(w.left-E.left+m.left)/A.x,right:(E.right-w.right+m.right)/A.x}}const L$e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Yh(t,e)||{};if(c==null)return{};const h=Yhe(u),f={x:n,y:r},p=ZW(i),m=QW(p),g=await o.getDimensions(c),y=p==="y",w=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",A=s.reference[m]+s.reference[p]-f[p]-s.floating[m],E=f[p]-s.reference[p],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=$?$[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement($)))&&(N=a.floating[b]||s.floating[m]);const R=A/2-E/2,M=N/2-g[m]/2-1,F=Mp(h[w],M),W=Mp(h[v],M),V=F,B=N-g[m]-W,k=N/2-g[m]/2+R,C=HD(V,k,B),S=!l.arrow&&A3(i)!=null&&k!==C&&s.reference[m]/2-(k<V?F:W)-g[m]/2<0,T=S?k<V?k-V:k-B:0;return{[p]:f[p]+T,data:{[p]:C,centerOffset:k-C-T,...S&&{alignmentOffset:T}},reset:S}}}),F$e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Yh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Dp(i),v=Sh(a),b=Dp(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(b||!g?[u_(a)]:P$e(a)),$=m!=="none";!f&&$&&E.push(...M$e(a,g,m,A));const N=[a,...E],R=await wx(e,y),M=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&M.push(R[w]),h){const k=N$e(i,o,A);M.push(R[k[0]],R[k[1]])}if(F=[...F,{placement:i,overflows:M}],!M.every(k=>k<=0)){var W,V;const k=(((W=s.flip)==null?void 0:W.index)||0)+1,C=N[k];if(C&&(!(h==="alignment"?v!==Sh(C):!1)||F.every(_=>_.overflows[0]>0&&Sh(_.placement)===v)))return{data:{index:k,overflows:F},reset:{placement:C}};let S=(V=F.filter(T=>T.overflows[0]<=0).sort((T,_)=>T.overflows[1]-_.overflows[1])[0])==null?void 0:V.placement;if(!S)switch(p){case"bestFit":{var B;const T=(B=F.filter(_=>{if($){const P=Sh(_.placement);return P===v||P==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(P=>P>0).reduce((P,D)=>P+D,0)]).sort((_,P)=>_[1]-P[1])[0])==null?void 0:B[0];T&&(S=T);break}case"initialPlacement":S=a;break}if(i!==S)return{reset:{placement:S}}}return{}}}};function JQ(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XQ(t){return _$e.some(e=>t[e]>=0)}const U$e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yh(t,e);switch(r){case"referenceHidden":{const s=await wx(e,{...i,elementContext:"reference"}),o=JQ(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XQ(o)}}}case"escaped":{const s=await wx(e,{...i,altBoundary:!0}),o=JQ(s,n.floating);return{data:{escapedOffsets:o,escaped:XQ(o)}}}default:return{}}}}},Qhe=new Set(["left","top"]);async function z$e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Dp(n),a=A3(n),l=Sh(n)==="y",c=Qhe.has(o)?-1:1,u=s&&l?-1:1,h=Yh(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const W$e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await z$e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},H$e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...l}=Yh(t,e),c={x:n,y:r},u=await wx(e,l),h=Sh(Dp(i)),f=YW(h);let p=c[f],m=c[h];if(s){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=p+u[y],b=p-u[w];p=HD(v,p,b)}if(o){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=m+u[y],b=m-u[w];m=HD(v,m,b)}const g=a.fn({...e,[f]:p,[h]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[h]:o}}}}}},V$e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Yh(t,e),u={x:n,y:r},h=Sh(i),f=YW(h);let p=u[f],m=u[h];const g=Yh(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=f==="y"?"height":"width",A=s.reference[f]-s.floating[b]+y.mainAxis,E=s.reference[f]+s.reference[b]-y.mainAxis;p<A?p=A:p>E&&(p=E)}if(c){var w,v;const b=f==="y"?"width":"height",A=Qhe.has(Dp(i)),E=s.reference[h]-s.floating[b]+(A&&((w=o.offset)==null?void 0:w[h])||0)+(A?0:y.crossAxis),$=s.reference[h]+s.reference[b]+(A?0:((v=o.offset)==null?void 0:v[h])||0)-(A?y.crossAxis:0);m<E?m=E:m>$&&(m=$)}return{[f]:p,[h]:m}}}},q$e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Yh(t,e),u=await wx(e,c),h=Dp(i),f=A3(i),p=Sh(i)==="y",{width:m,height:g}=s.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,y=f==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=m-u.left-u.right,A=Mp(g-u[y],v),E=Mp(m-u[w],b),$=!e.middlewareData.shift;let N=A,R=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=v),$&&!f){const F=So(u.left,0),W=So(u.right,0),V=So(u.top,0),B=So(u.bottom,0);p?R=m-2*(F!==0||W!==0?F+W:So(u.left,u.right)):N=g-2*(V!==0||B!==0?V+B:So(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:N});const M=await o.getDimensions(a.floating);return m!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function rT(){return typeof window<"u"}function C3(t){return Zhe(t)?(t.nodeName||"").toLowerCase():"#document"}function Hl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function af(t){var e;return(e=(Zhe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Zhe(t){return rT()?t instanceof Node||t instanceof Hl(t).Node:!1}function ta(t){return rT()?t instanceof Element||t instanceof Hl(t).Element:!1}function Qh(t){return rT()?t instanceof HTMLElement||t instanceof Hl(t).HTMLElement:!1}function eZ(t){return!rT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hl(t).ShadowRoot}const G$e=new Set(["inline","contents"]);function bA(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fd(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!G$e.has(i)}const K$e=new Set(["table","td","th"]);function Y$e(t){return K$e.has(C3(t))}const Q$e=[":popover-open",":modal"];function iT(t){return Q$e.some(e=>{try{return t.matches(e)}catch{return!1}})}const Z$e=["transform","translate","scale","rotate","perspective"],J$e=["transform","translate","scale","rotate","perspective","filter"],X$e=["paint","layout","strict","content"];function JW(t){const e=XW(),n=ta(t)?fd(t):t;return Z$e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||J$e.some(r=>(n.willChange||"").includes(r))||X$e.some(r=>(n.contain||"").includes(r))}function eNe(t){let e=hg(t);for(;Qh(e)&&!bx(e);){if(JW(e))return e;if(iT(e))return null;e=hg(e)}return null}function XW(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tNe=new Set(["html","body","#document"]);function bx(t){return tNe.has(C3(t))}function fd(t){return Hl(t).getComputedStyle(t)}function sT(t){return ta(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function hg(t){if(C3(t)==="html")return t;const e=t.assignedSlot||t.parentNode||eZ(t)&&t.host||af(t);return eZ(e)?e.host:e}function Jhe(t){const e=hg(t);return bx(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qh(e)&&bA(e)?e:Jhe(e)}function Y4(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Jhe(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Hl(i);if(s){const a=qD(o);return e.concat(o,o.visualViewport||[],bA(i)?i:[],a&&n?Y4(a):[])}return e.concat(i,Y4(i,[],n))}function qD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xhe(t){const e=fd(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qh(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=K4(n)!==s||K4(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function eH(t){return ta(t)?t:t.contextElement}function Vv(t){const e=eH(t);if(!Qh(e))return Rh(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Xhe(e);let o=(s?K4(n.width):n.width)/r,a=(s?K4(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nNe=Rh(0);function efe(t){const e=Hl(t);return!XW()||!e.visualViewport?nNe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rNe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hl(t)?!1:e}function U1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=eH(t);let o=Rh(1);e&&(r?ta(r)&&(o=Vv(r)):o=Vv(t));const a=rNe(s,n,r)?efe(s):Rh(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=Hl(s),p=r&&ta(r)?Hl(r):r;let m=f,g=qD(m);for(;g&&r&&p!==m;){const y=Vv(g),w=g.getBoundingClientRect(),v=fd(g),b=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,A=w.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=b,c+=A,m=Hl(g),g=qD(m)}}return d_({width:u,height:h,x:l,y:c})}function tH(t,e){const n=sT(t).scrollLeft;return e?e.left+n:U1(af(t)).left+n}function tfe(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:tH(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function iNe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=af(r),a=e?iT(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Rh(1);const u=Rh(0),h=Qh(r);if((h||!h&&!s)&&((C3(r)!=="body"||bA(o))&&(l=sT(r)),Qh(r))){const p=U1(r);c=Vv(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!s?tfe(o,l,!0):Rh(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function sNe(t){return Array.from(t.getClientRects())}function oNe(t){const e=af(t),n=sT(t),r=t.ownerDocument.body,i=So(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=So(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tH(t);const a=-n.scrollTop;return fd(r).direction==="rtl"&&(o+=So(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function aNe(t,e){const n=Hl(t),r=af(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=XW();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const lNe=new Set(["absolute","fixed"]);function cNe(t,e){const n=U1(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Qh(t)?Vv(t):Rh(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function tZ(t,e,n){let r;if(e==="viewport")r=aNe(t,n);else if(e==="document")r=oNe(af(t));else if(ta(e))r=cNe(e,n);else{const i=efe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return d_(r)}function nfe(t,e){const n=hg(t);return n===e||!ta(n)||bx(n)?!1:fd(n).position==="fixed"||nfe(n,e)}function uNe(t,e){const n=e.get(t);if(n)return n;let r=Y4(t,[],!1).filter(a=>ta(a)&&C3(a)!=="body"),i=null;const s=fd(t).position==="fixed";let o=s?hg(t):t;for(;ta(o)&&!bx(o);){const a=fd(o),l=JW(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&lNe.has(i.position)||bA(o)&&!l&&nfe(t,o))?r=r.filter(u=>u!==o):i=a,o=hg(o)}return e.set(t,r),r}function dNe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?iT(e)?[]:uNe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=tZ(e,u,i);return c.top=So(h.top,c.top),c.right=Mp(h.right,c.right),c.bottom=Mp(h.bottom,c.bottom),c.left=So(h.left,c.left),c},tZ(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hNe(t){const{width:e,height:n}=Xhe(t);return{width:e,height:n}}function fNe(t,e,n){const r=Qh(e),i=af(e),s=n==="fixed",o=U1(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Rh(0);function c(){l.x=tH(i)}if(r||!r&&!s)if((C3(e)!=="body"||bA(i))&&(a=sT(e)),r){const p=U1(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?tfe(i,a):Rh(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function eR(t){return fd(t).position==="static"}function nZ(t,e){if(!Qh(t)||fd(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return af(t)===n&&(n=n.ownerDocument.body),n}function rfe(t,e){const n=Hl(t);if(iT(t))return n;if(!Qh(t)){let i=hg(t);for(;i&&!bx(i);){if(ta(i)&&!eR(i))return i;i=hg(i)}return n}let r=nZ(t,e);for(;r&&Y$e(r)&&eR(r);)r=nZ(r,e);return r&&bx(r)&&eR(r)&&!JW(r)?n:r||eNe(t)||n}const pNe=async function(t){const e=this.getOffsetParent||rfe,n=this.getDimensions,r=await n(t.floating);return{reference:fNe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mNe(t){return fd(t).direction==="rtl"}const gNe={convertOffsetParentRelativeRectToViewportRelativeRect:iNe,getDocumentElement:af,getClippingRect:dNe,getOffsetParent:rfe,getElementRects:pNe,getClientRects:sNe,getDimensions:hNe,getScale:Vv,isElement:ta,isRTL:mNe};function ife(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yNe(t,e){let n=null,r;const i=af(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const m=QC(h),g=QC(i.clientWidth-(u+f)),y=QC(i.clientHeight-(h+p)),w=QC(u),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:So(0,Mp(1,l))||1};let A=!0;function E($){const N=$[0].intersectionRatio;if(N!==l){if(!A)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!ife(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return o(!0),s}function sfe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=eH(t),u=i||s?[...c?Y4(c):[],...Y4(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=c&&a?yNe(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?U1(t):null;l&&y();function y(){const w=U1(t);g&&!ife(g,w)&&n(),g=w,m=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const tR=wx,wNe=W$e,bNe=H$e,vNe=F$e,xNe=q$e,ENe=U$e,rZ=L$e,ANe=V$e,CNe=(t,e,n)=>{const r=new Map,i={platform:gNe,...n},s={...i.platform,_c:r};return B$e(t,e,{...i,platform:s})};var kNe=typeof document<"u",SNe=function(){},P9=kNe?x.useLayoutEffect:SNe;function h_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!h_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!h_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function ofe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function iZ(t,e){const n=ofe(t);return Math.round(e*n)/n}function nR(t){const e=x.useRef(t);return P9(()=>{e.current=t}),e}function afe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(r);h_(f,r)||p(r);const[m,g]=x.useState(null),[y,w]=x.useState(null),v=x.useCallback(_=>{_!==$.current&&($.current=_,g(_))},[]),b=x.useCallback(_=>{_!==N.current&&(N.current=_,w(_))},[]),A=s||m,E=o||y,$=x.useRef(null),N=x.useRef(null),R=x.useRef(u),M=l!=null,F=nR(l),W=nR(i),V=nR(c),B=x.useCallback(()=>{if(!$.current||!N.current)return;const _={placement:e,strategy:n,middleware:f};W.current&&(_.platform=W.current),CNe($.current,N.current,_).then(P=>{const D={...P,isPositioned:V.current!==!1};k.current&&!h_(R.current,D)&&(R.current=D,Kl.flushSync(()=>{h(D)}))})},[f,e,n,W,V]);P9(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[c]);const k=x.useRef(!1);P9(()=>(k.current=!0,()=>{k.current=!1}),[]),P9(()=>{if(A&&($.current=A),E&&(N.current=E),A&&E){if(F.current)return F.current(A,E,B);B()}},[A,E,B,F,M]);const C=x.useMemo(()=>({reference:$,floating:N,setReference:v,setFloating:b}),[v,b]),S=x.useMemo(()=>({reference:A,floating:E}),[A,E]),T=x.useMemo(()=>{const _={position:n,left:0,top:0};if(!S.floating)return _;const P=iZ(S.floating,u.x),D=iZ(S.floating,u.y);return a?{..._,transform:"translate("+P+"px, "+D+"px)",...ofe(S.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:D}},[n,a,S.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:B,refs:C,elements:S,floatingStyles:T}),[u,B,C,S,T])}const _Ne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rZ({element:r.current,padding:i}).fn(n):{}:r?rZ({element:r,padding:i}).fn(n):{}}}},nH=(t,e)=>({...wNe(t),options:[t,e]}),lfe=(t,e)=>({...bNe(t),options:[t,e]}),INe=(t,e)=>({...ANe(t),options:[t,e]}),cfe=(t,e)=>({...vNe(t),options:[t,e]}),ufe=(t,e)=>({...xNe(t),options:[t,e]}),TNe=(t,e)=>({...ENe(t),options:[t,e]}),$Ne=(t,e)=>({..._Ne(t),options:[t,e]});var NNe="Arrow",dfe=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return d.jsx(Ys.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});dfe.displayName=NNe;var PNe=dfe;function hfe(t){const[e,n]=x.useState(void 0);return dg(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ffe="Popper",[pfe,mfe]=pA(ffe),[vKt,gfe]=pfe(ffe),yfe="PopperAnchor",wfe=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=gfe(yfe,n),o=x.useRef(null),a=Yl(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ys.div,{...i,ref:a})});wfe.displayName=yfe;var rH="PopperContent",[RNe,jNe]=pfe(rH),bfe=x.forwardRef((t,e)=>{var Z,Q,ie,de,oe,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,y=gfe(rH,n),[w,v]=x.useState(null),b=Yl(e,we=>v(we)),[A,E]=x.useState(null),$=hfe(A),N=($==null?void 0:$.width)??0,R=($==null?void 0:$.height)??0,M=r+(s!=="center"?"-"+s:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(c)?c:[c],V=W.length>0,B={padding:F,boundary:W.filter(MNe),altBoundary:V},{refs:k,floatingStyles:C,placement:S,isPositioned:T,middlewareData:_}=afe({strategy:"fixed",placement:M,whileElementsMounted:(...we)=>sfe(...we,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[nH({mainAxis:i+R,alignmentAxis:o}),l&&lfe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?INe():void 0,...B}),l&&cfe({...B}),ufe({...B,apply:({elements:we,rects:fe,availableWidth:ke,availableHeight:be})=>{const{width:Ue,height:Me}=fe.reference,Se=we.floating.style;Se.setProperty("--radix-popper-available-width",`${ke}px`),Se.setProperty("--radix-popper-available-height",`${be}px`),Se.setProperty("--radix-popper-anchor-width",`${Ue}px`),Se.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),A&&$Ne({element:A,padding:a}),DNe({arrowWidth:N,arrowHeight:R}),f&&TNe({strategy:"referenceHidden",...B})]}),[P,D]=Efe(S),j=ug(m);dg(()=>{T&&(j==null||j())},[T,j]);const I=(Z=_.arrow)==null?void 0:Z.x,L=(Q=_.arrow)==null?void 0:Q.y,J=((ie=_.arrow)==null?void 0:ie.centerOffset)!==0,[O,G]=x.useState();return dg(()=>{w&&G(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:T?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(de=_.transformOrigin)==null?void 0:de.x,(oe=_.transformOrigin)==null?void 0:oe.y].join(" "),...((he=_.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(RNe,{scope:n,placedSide:P,onArrowChange:E,arrowX:I,arrowY:L,shouldHideArrow:J,children:d.jsx(Ys.div,{"data-side":P,"data-align":D,...g,ref:b,style:{...g.style,animation:T?void 0:"none"}})})})});bfe.displayName=rH;var vfe="PopperArrow",ONe={top:"bottom",right:"left",bottom:"top",left:"right"},xfe=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=jNe(vfe,r),o=ONe[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(PNe,{...i,ref:n,style:{...i.style,display:"block"}})})});xfe.displayName=vfe;function MNe(t){return t!==null}var DNe=t=>({name:"transformOrigin",options:t,fn(e){var y,w,v;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Efe(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?h:`${f}px`,g=`${-l}px`):c==="top"?(m=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?h:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:m,y:g}}}});function Efe(t){const[e,n="center"]=t.split("-");return[e,n]}var BNe=wfe,LNe=bfe,FNe=xfe,[oT,xKt]=pA("Tooltip",[mfe]),iH=mfe(),Afe="TooltipProvider",UNe=700,sZ="tooltip.open",[zNe,Cfe]=oT(Afe),kfe=t=>{const{__scopeTooltip:e,delayDuration:n=UNe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(zNe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};kfe.displayName=Afe;var Sfe="Tooltip",[EKt,aT]=oT(Sfe),GD="TooltipTrigger",WNe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=aT(GD,n),s=Cfe(GD,n),o=iH(n),a=x.useRef(null),l=Yl(e,a,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(BNe,{asChild:!0,...o,children:d.jsx(Ys.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ni(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ni(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ni(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ni(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ni(t.onBlur,i.onClose),onClick:Ni(t.onClick,i.onClose)})})});WNe.displayName=GD;var HNe="TooltipPortal",[AKt,VNe]=oT(HNe,{forceMount:void 0}),vx="TooltipContent",_fe=x.forwardRef((t,e)=>{const n=VNe(vx,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=aT(vx,t.__scopeTooltip);return d.jsx(XI,{present:r||o.open,children:o.disableHoverableContent?d.jsx(Ife,{side:i,...s,ref:e}):d.jsx(qNe,{side:i,...s,ref:e})})}),qNe=x.forwardRef((t,e)=>{const n=aT(vx,t.__scopeTooltip),r=Cfe(vx,t.__scopeTooltip),i=x.useRef(null),s=Yl(e,i),[o,a]=x.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,f=x.useCallback(()=>{a(null),h(!1)},[h]),p=x.useCallback((m,g)=>{const y=m.currentTarget,w={x:m.clientX,y:m.clientY},v=ZNe(w,y.getBoundingClientRect()),b=JNe(w,v),A=XNe(g.getBoundingClientRect()),E=tPe([...b,...A]);a(E),h(!0)},[h]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&u){const m=y=>p(y,u),g=y=>p(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,f]),x.useEffect(()=>{if(o){const m=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!ePe(w,o);v?f():b&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),d.jsx(Ife,{...t,ref:s})}),[GNe,KNe]=oT(Sfe,{isInside:!1}),YNe=iIe("TooltipContent"),Ife=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=aT(vx,n),c=iH(n),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(sZ,u),()=>document.removeEventListener(sZ,u)),[u]),x.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(zW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(LNe,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(YNe,{children:r}),d.jsx(GNe,{scope:n,isInside:!0,children:d.jsx(IIe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});_fe.displayName=vx;var Tfe="TooltipArrow",QNe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=iH(n);return KNe(Tfe,n).isInside?null:d.jsx(FNe,{...i,...r,ref:e})});QNe.displayName=Tfe;function ZNe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function JNe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function XNe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function ePe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,f=l.y;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function tPe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nPe(e)}function nPe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var rPe=kfe,$fe=_fe;const iPe=rPe,sPe=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx($fe,{ref:r,sideOffset:e,className:ua("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));sPe.displayName=$fe.displayName;var lT=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oPe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},fm,Gz,Pce,aPe=(Pce=class{constructor(){ve(this,fm,oPe);ve(this,Gz,!1)}setTimeoutProvider(t){te(this,fm,t)}setTimeout(t,e){return H(this,fm).setTimeout(t,e)}clearTimeout(t){H(this,fm).clearTimeout(t)}setInterval(t,e){return H(this,fm).setInterval(t,e)}clearInterval(t){H(this,fm).clearInterval(t)}},fm=new WeakMap,Gz=new WeakMap,Pce),KD=new aPe;function lPe(t){setTimeout(t,0)}var cT=typeof window>"u"||"Deno"in globalThis;function Mu(){}function cPe(t,e){return typeof t=="function"?t(e):t}function uPe(t){return typeof t=="number"&&t>=0&&t!==1/0}function dPe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function YD(t,e){return typeof t=="function"?t(e):t}function hPe(t,e){return typeof t=="function"?t(e):t}function oZ(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==sH(o,e.options))return!1}else if(!Z4(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function aZ(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Q4(e.options.mutationKey)!==Q4(s))return!1}else if(!Z4(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function sH(t,e){return((e==null?void 0:e.queryKeyHashFn)||Q4)(t)}function Q4(t){return JSON.stringify(t,(e,n)=>QD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Z4(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Z4(t[n],e[n])):!1}var fPe=Object.prototype.hasOwnProperty;function Nfe(t,e){if(t===e)return t;const n=lZ(t)&&lZ(e);if(!n&&!(QD(t)&&QD(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c],h=t[u],f=e[u];if(h===f){a[u]=h,(n?c<i:fPe.call(t,u))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[u]=f;continue}const p=Nfe(h,f);a[u]=p,p===h&&l++}return i===o&&l===i?t:a}function lZ(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function QD(t){if(!cZ(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!cZ(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cZ(t){return Object.prototype.toString.call(t)==="[object Object]"}function pPe(t){return new Promise(e=>{KD.setTimeout(e,t)})}function mPe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Nfe(t,e):e}function gPe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yPe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var oH=Symbol();function Pfe(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oH?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Vy,pm,w2,Rce,wPe=(Rce=class extends lT{constructor(){super();ve(this,Vy);ve(this,pm);ve(this,w2);te(this,w2,e=>{if(!cT&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,pm)||this.setEventListener(H(this,w2))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,pm))==null||e.call(this),te(this,pm,void 0))}setEventListener(e){var n;te(this,w2,e),(n=H(this,pm))==null||n.call(this),te(this,pm,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Vy)!==e&&(te(this,Vy,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Vy)=="boolean"?H(this,Vy):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vy=new WeakMap,pm=new WeakMap,w2=new WeakMap,Rce),Rfe=new wPe;function bPe(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var vPe=lPe;function xPe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=vPe;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yo=xPe(),b2,mm,v2,jce,EPe=(jce=class extends lT{constructor(){super();ve(this,b2,!0);ve(this,mm);ve(this,v2);te(this,v2,e=>{if(!cT&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,mm)||this.setEventListener(H(this,v2))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,mm))==null||e.call(this),te(this,mm,void 0))}setEventListener(e){var n;te(this,v2,e),(n=H(this,mm))==null||n.call(this),te(this,mm,e(this.setOnline.bind(this)))}setOnline(e){H(this,b2)!==e&&(te(this,b2,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,b2)}},b2=new WeakMap,mm=new WeakMap,v2=new WeakMap,jce),f_=new EPe;function APe(t){return Math.min(1e3*2**t,3e4)}function jfe(t){return(t??"online")==="online"?f_.isOnline():!0}var ZD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ofe(t){let e=!1,n=0,r;const i=bPe(),s=()=>i.status!=="pending",o=g=>{var y;if(!s()){const w=new ZD(g);f(w),(y=t.onCancel)==null||y.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>Rfe.isFocused()&&(t.networkMode==="always"||f_.isOnline())&&t.canRun(),u=()=>jfe(t.networkMode)&&t.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},f=g=>{s()||(r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var y;r=w=>{(s()||c())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;r=void 0,s()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(s())return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var $;if(s())return;const v=t.retry??(cT?0:3),b=t.retryDelay??APe,A=typeof b=="function"?b(n,w):b,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!E){f(w);return}n++,($=t.onFail)==null||$.call(t,n,w),pPe(A).then(()=>c()?void 0:p()).then(()=>{e?f(w):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}var qy,Oce,Mfe=(Oce=class{constructor(){ve(this,qy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uPe(this.gcTime)&&te(this,qy,KD.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cT?1/0:5*60*1e3))}clearGcTimeout(){H(this,qy)&&(KD.clearTimeout(H(this,qy)),te(this,qy,void 0))}},qy=new WeakMap,Oce),Gy,x2,$c,Ky,hs,K8,Yy,Fu,$f,Mce,CPe=(Mce=class extends Mfe{constructor(e){super();ve(this,Fu);ve(this,Gy);ve(this,x2);ve(this,$c);ve(this,Ky);ve(this,hs);ve(this,K8);ve(this,Yy);te(this,Yy,!1),te(this,K8,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,Ky,e.client),te(this,$c,H(this,Ky).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,Gy,uZ(this.options)),this.state=e.state??H(this,Gy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=H(this,hs))==null?void 0:e.promise}setOptions(e){if(this.options={...H(this,K8),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=uZ(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),te(this,Gy,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,$c).remove(this)}setData(e,n){const r=mPe(this.state.data,e,this.options);return Fe(this,Fu,$f).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Fe(this,Fu,$f).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=H(this,hs))==null?void 0:r.promise;return(i=H(this,hs))==null||i.cancel(e),n?n.then(Mu).catch(Mu):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Gy))}isActive(){return this.observers.some(e=>hPe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oH||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>YD(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dPe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=H(this,hs))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=H(this,hs))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),H(this,$c).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(H(this,hs)&&(H(this,Yy)?H(this,hs).cancel({revert:!0}):H(this,hs).cancelRetry()),this.scheduleGc()),H(this,$c).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,Fu,$f).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,h,f,p,m,g,y,w,v,b;if(this.state.fetchStatus!=="idle"&&((l=H(this,hs))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,hs))return H(this,hs).continueRetry(),H(this,hs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(E=>E.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(te(this,Yy,!0),r.signal)})},s=()=>{const A=Pfe(this.options,n),$=(()=>{const N={client:H(this,Ky),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return te(this,Yy,!1),this.options.persister?this.options.persister(A,$,this):A($)},a=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:H(this,Ky),state:this.state,fetchFn:s};return i(A),A})();(c=this.options.behavior)==null||c.onFetch(a,this),te(this,x2,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Fe(this,Fu,$f).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),te(this,hs,Ofe({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:A=>{A instanceof ZD&&A.revert&&this.setState({...H(this,x2),fetchStatus:"idle"}),r.abort()},onFail:(A,E)=>{Fe(this,Fu,$f).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Fe(this,Fu,$f).call(this,{type:"pause"})},onContinue:()=>{Fe(this,Fu,$f).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const A=await H(this,hs).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(p=(f=H(this,$c).config).onSuccess)==null||p.call(f,A,this),(g=(m=H(this,$c).config).onSettled)==null||g.call(m,A,this.state.error,this),A}catch(A){if(A instanceof ZD){if(A.silent)return H(this,hs).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Fe(this,Fu,$f).call(this,{type:"error",error:A}),(w=(y=H(this,$c).config).onError)==null||w.call(y,A,this),(b=(v=H(this,$c).config).onSettled)==null||b.call(v,this.state.data,A,this),A}finally{this.scheduleGc()}}},Gy=new WeakMap,x2=new WeakMap,$c=new WeakMap,Ky=new WeakMap,hs=new WeakMap,K8=new WeakMap,Yy=new WeakMap,Fu=new WeakSet,$f=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kPe(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,x2,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Yo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,$c).notify({query:this,type:"updated",action:e})})},Mce);function kPe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jfe(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function dZ(t){return{onFetch:(e,n)=>{var u,h,f,p,m;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=Pfe(e.options,e.fetchOptions),v=async(b,A,E)=>{if(g)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};return y(W),W})(),R=await w(N),{maxPages:M}=e.options,F=E?yPe:gPe;return{pages:F(b.pages,R,M),pageParams:F(b.pageParams,A,M)}};if(i&&s.length){const b=i==="backward",A=b?SPe:hZ,E={pages:s,pageParams:o},$=A(r,E);a=await v(E,$,b)}else{const b=t??s.length;do{const A=l===0?o[0]??r.initialPageParam:hZ(r,a);if(l>0&&A==null)break;a=await v(a,A),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function hZ(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function SPe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Y8,oh,Uo,Qy,ah,H0,Dce,_Pe=(Dce=class extends Mfe{constructor(e){super();ve(this,ah);ve(this,Y8);ve(this,oh);ve(this,Uo);ve(this,Qy);te(this,Y8,e.client),this.mutationId=e.mutationId,te(this,Uo,e.mutationCache),te(this,oh,[]),this.state=e.state||IPe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){H(this,oh).includes(e)||(H(this,oh).push(e),this.clearGcTimeout(),H(this,Uo).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,oh,H(this,oh).filter(n=>n!==e)),this.scheduleGc(),H(this,Uo).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){H(this,oh).length||(this.state.status==="pending"?this.scheduleGc():H(this,Uo).remove(this))}continue(){var e;return((e=H(this,Qy))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,f,p,m,g,y,w,v,b,A,E,$,N,R,M;const n=()=>{Fe(this,ah,H0).call(this,{type:"continue"})},r={client:H(this,Y8),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,Qy,Ofe({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{Fe(this,ah,H0).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{Fe(this,ah,H0).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Uo).canRun(this)}));const i=this.state.status==="pending",s=!H(this,Qy).canStart();try{if(i)n();else{Fe(this,ah,H0).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=H(this,Uo).config).onMutate)==null?void 0:a.call(o,e,this,r));const W=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));W!==this.state.context&&Fe(this,ah,H0).call(this,{type:"pending",context:W,variables:e,isPaused:s})}const F=await H(this,Qy).start();return await((h=(u=H(this,Uo).config).onSuccess)==null?void 0:h.call(u,F,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,F,e,this.state.context,r)),await((g=(m=H(this,Uo).config).onSettled)==null?void 0:g.call(m,F,null,this.state.variables,this.state.context,this,r)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,F,null,e,this.state.context,r)),Fe(this,ah,H0).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(v=H(this,Uo).config).onError)==null?void 0:b.call(v,F,e,this.state.context,this,r)),await((E=(A=this.options).onError)==null?void 0:E.call(A,F,e,this.state.context,r)),await((N=($=H(this,Uo).config).onSettled)==null?void 0:N.call($,void 0,F,this.state.variables,this.state.context,this,r)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,F,e,this.state.context,r)),F}finally{Fe(this,ah,H0).call(this,{type:"error",error:F})}}finally{H(this,Uo).runNext(this)}}},Y8=new WeakMap,oh=new WeakMap,Uo=new WeakMap,Qy=new WeakMap,ah=new WeakSet,H0=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yo.batch(()=>{H(this,oh).forEach(r=>{r.onMutationUpdate(e)}),H(this,Uo).notify({mutation:this,type:"updated",action:e})})},Dce);function IPe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qf,Uu,Q8,Bce,TPe=(Bce=class extends lT{constructor(e={}){super();ve(this,Qf);ve(this,Uu);ve(this,Q8);this.config=e,te(this,Qf,new Set),te(this,Uu,new Map),te(this,Q8,0)}build(e,n,r){const i=new _Pe({client:e,mutationCache:this,mutationId:++c0(this,Q8)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){H(this,Qf).add(e);const n=ZC(e);if(typeof n=="string"){const r=H(this,Uu).get(n);r?r.push(e):H(this,Uu).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,Qf).delete(e)){const n=ZC(e);if(typeof n=="string"){const r=H(this,Uu).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&H(this,Uu).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ZC(e);if(typeof n=="string"){const r=H(this,Uu).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=ZC(e);if(typeof n=="string"){const i=(r=H(this,Uu).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yo.batch(()=>{H(this,Qf).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,Qf).clear(),H(this,Uu).clear()})}getAll(){return Array.from(H(this,Qf))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aZ(n,r))}findAll(e={}){return this.getAll().filter(n=>aZ(e,n))}notify(e){Yo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yo.batch(()=>Promise.all(e.map(n=>n.continue().catch(Mu))))}},Qf=new WeakMap,Uu=new WeakMap,Q8=new WeakMap,Bce);function ZC(t){var e;return(e=t.options.scope)==null?void 0:e.id}var lh,Lce,$Pe=(Lce=class extends lT{constructor(e={}){super();ve(this,lh);this.config=e,te(this,lh,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??sH(i,n);let o=this.get(s);return o||(o=new CPe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){H(this,lh).has(e.queryHash)||(H(this,lh).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,lh).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,lh).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,lh).get(e)}getAll(){return[...H(this,lh).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oZ(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oZ(e,r)):n}notify(e){Yo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lh=new WeakMap,Lce),ai,gm,ym,E2,A2,wm,C2,k2,Fce,NPe=(Fce=class{constructor(t={}){ve(this,ai);ve(this,gm);ve(this,ym);ve(this,E2);ve(this,A2);ve(this,wm);ve(this,C2);ve(this,k2);te(this,ai,t.queryCache||new $Pe),te(this,gm,t.mutationCache||new TPe),te(this,ym,t.defaultOptions||{}),te(this,E2,new Map),te(this,A2,new Map),te(this,wm,0)}mount(){c0(this,wm)._++,H(this,wm)===1&&(te(this,C2,Rfe.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,ai).onFocus())})),te(this,k2,f_.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,ai).onOnline())})))}unmount(){var t,e;c0(this,wm)._--,H(this,wm)===0&&((t=H(this,C2))==null||t.call(this),te(this,C2,void 0),(e=H(this,k2))==null||e.call(this),te(this,k2,void 0))}isFetching(t){return H(this,ai).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,gm).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,ai).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,ai).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(YD(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,ai).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=H(this,ai).get(r.queryHash),s=i==null?void 0:i.state.data,o=cPe(e,s);if(o!==void 0)return H(this,ai).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yo.batch(()=>H(this,ai).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,ai).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,ai);Yo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,ai);return Yo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Yo.batch(()=>H(this,ai).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Mu).catch(Mu)}invalidateQueries(t,e={}){return Yo.batch(()=>(H(this,ai).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Yo.batch(()=>H(this,ai).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Mu)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Mu)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,ai).build(this,e);return n.isStaleByTime(YD(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mu).catch(Mu)}fetchInfiniteQuery(t){return t.behavior=dZ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mu).catch(Mu)}ensureInfiniteQueryData(t){return t.behavior=dZ(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return f_.isOnline()?H(this,gm).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,ai)}getMutationCache(){return H(this,gm)}getDefaultOptions(){return H(this,ym)}setDefaultOptions(t){te(this,ym,t)}setQueryDefaults(t,e){H(this,E2).set(Q4(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,E2).values()],n={};return e.forEach(r=>{Z4(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,A2).set(Q4(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,A2).values()],n={};return e.forEach(r=>{Z4(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,ym).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sH(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oH&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,ym).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,ai).clear(),H(this,gm).clear()}},ai=new WeakMap,gm=new WeakMap,ym=new WeakMap,E2=new WeakMap,A2=new WeakMap,wm=new WeakMap,C2=new WeakMap,k2=new WeakMap,Fce),PPe=x.createContext(void 0),RPe=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(PPe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J4(){return J4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J4.apply(this,arguments)}var Bm;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bm||(Bm={}));const fZ="popstate";function jPe(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return JD("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bfe(i)}return MPe(e,n,null,t)}function Ki(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dfe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OPe(){return Math.random().toString(36).substr(2,8)}function pZ(t,e){return{usr:t.state,key:t.key,idx:e}}function JD(t,e,n,r){return n===void 0&&(n=null),J4({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?k3(e):e,{state:n,key:e&&e.key||r||OPe()})}function Bfe(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function k3(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MPe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Bm.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(J4({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Bm.Pop;let y=u(),w=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:w})}function f(y,w){a=Bm.Push;let v=JD(g.location,y,w);c=u()+1;let b=pZ(v,c),A=g.createHref(v);try{o.pushState(b,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function p(y,w){a=Bm.Replace;let v=JD(g.location,y,w);c=u();let b=pZ(v,c),A=g.createHref(v);o.replaceState(b,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Bfe(y);return v=v.replace(/ $/,"%20"),Ki(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fZ,h),l=y,()=>{i.removeEventListener(fZ,h),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var mZ;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mZ||(mZ={}));function DPe(t,e,n){return n===void 0&&(n="/"),BPe(t,e,n,!1)}function BPe(t,e,n,r){let i=typeof e=="string"?k3(e):e,s=Ufe(i.pathname||"/",n);if(s==null)return null;let o=Lfe(t);LPe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=QPe(s);a=KPe(o[l],c,r)}return a}function Lfe(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ki(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=b1([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ki(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Lfe(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qPe(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Ffe(s.path))i(s,o,l)}),e}function Ffe(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ffe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LPe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GPe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FPe=/^:[\w-]+$/,UPe=3,zPe=2,WPe=1,HPe=10,VPe=-2,gZ=t=>t==="*";function qPe(t,e){let n=t.split("/"),r=n.length;return n.some(gZ)&&(r+=VPe),e&&(r+=zPe),n.filter(i=>!gZ(i)).reduce((i,s)=>i+(FPe.test(s)?UPe:s===""?WPe:HPe),r)}function GPe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KPe(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=yZ({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=yZ({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:b1([s,h.pathname]),pathnameBase:eRe(b1([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=b1([s,h.pathnameBase]))}return o}function yZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YPe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function YPe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dfe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QPe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dfe(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ufe(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZPe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?k3(t):t;return{pathname:n?n.startsWith("/")?n:JPe(n,e):e,search:tRe(r),hash:nRe(i)}}function JPe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rR(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XPe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zfe(t,e){let n=XPe(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wfe(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=k3(t):(i=J4({},t),Ki(!i.pathname||!i.pathname.includes("?"),rR("?","pathname","search",i)),Ki(!i.pathname||!i.pathname.includes("#"),rR("#","pathname","hash",i)),Ki(!i.search||!i.search.includes("#"),rR("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=ZPe(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const b1=t=>t.join("/").replace(/\/\/+/g,"/"),eRe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tRe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nRe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rRe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hfe=["post","put","patch","delete"];new Set(Hfe);const iRe=["get",...Hfe];new Set(iRe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X4(){return X4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X4.apply(this,arguments)}const aH=x.createContext(null),sRe=x.createContext(null),vA=x.createContext(null),uT=x.createContext(null),Cw=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Vfe=x.createContext(null);function xA(){return x.useContext(uT)!=null}function i0(){return xA()||Ki(!1),x.useContext(uT).location}function qfe(t){x.useContext(vA).static||x.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=x.useContext(Cw);return t?wRe():oRe()}function oRe(){xA()||Ki(!1);let t=x.useContext(aH),{basename:e,future:n,navigator:r}=x.useContext(vA),{matches:i}=x.useContext(Cw),{pathname:s}=i0(),o=JSON.stringify(zfe(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return qfe(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Wfe(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:b1([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function aRe(t,e){return lRe(t,e)}function lRe(t,e,n,r){xA()||Ki(!1);let{navigator:i}=x.useContext(vA),{matches:s}=x.useContext(Cw),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=i0(),u;if(e){var h;let y=typeof e=="string"?k3(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Ki(!1),u=y}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=DPe(t,{pathname:p}),g=fRe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:b1([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:b1([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&g?x.createElement(uT.Provider,{value:{location:X4({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Bm.Pop}},g):g}function cRe(){let t=yRe(),e=rRe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const uRe=x.createElement(cRe,null);class dRe extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Cw.Provider,{value:this.props.routeContext},x.createElement(Vfe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hRe(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(aH);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Cw.Provider,{value:e},r)}function fRe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ki(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,g=null,y=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||uRe,l&&(c<0&&f===0?(m=!0,y=null):c===f&&(m=!0,y=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let b;return p?b=g:m?b=y:h.route.Component?b=x.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,x.createElement(hRe,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(dRe,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Gfe=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gfe||{}),p_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(p_||{});function pRe(t){let e=x.useContext(aH);return e||Ki(!1),e}function mRe(t){let e=x.useContext(sRe);return e||Ki(!1),e}function gRe(t){let e=x.useContext(Cw);return e||Ki(!1),e}function Kfe(t){let e=gRe(),n=e.matches[e.matches.length-1];return n.route.id||Ki(!1),n.route.id}function yRe(){var t;let e=x.useContext(Vfe),n=mRe(p_.UseRouteError),r=Kfe(p_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wRe(){let{router:t}=pRe(Gfe.UseNavigateStable),e=Kfe(p_.UseNavigateStable),n=x.useRef(!1);return qfe(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,X4({fromRouteId:e},s)))},[t,e])}function bRe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function XD(t){let{to:e,replace:n,state:r,relative:i}=t;xA()||Ki(!1);let{future:s,static:o}=x.useContext(vA),{matches:a}=x.useContext(Cw),{pathname:l}=i0(),c=ur(),u=Wfe(e,zfe(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function xi(t){Ki(!1)}function vRe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bm.Pop,navigator:s,static:o=!1,future:a}=t;xA()&&Ki(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:X4({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=k3(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let y=Ufe(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:m},navigationType:i}},[l,u,h,f,p,m,i]);return g==null?null:x.createElement(vA.Provider,{value:c},x.createElement(uT.Provider,{children:n,value:g}))}function xRe(t){let{children:e,location:n}=t;return aRe(eB(e),n)}new Promise(()=>{});function eB(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,eB(r.props.children,s));return}r.type!==xi&&Ki(!1),!r.props.index||!r.props.children||Ki(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=eB(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ERe="6";try{window.__reactRouterVersion=ERe}catch{}const ARe="startTransition",wZ=$4[ARe];function CRe(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=jPe({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(h=>{c&&wZ?wZ(()=>l(h)):l(h)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>bRe(r),[r]),x.createElement(vRe,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var bZ;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bZ||(bZ={}));var vZ;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vZ||(vZ={}));const lH=x.createContext({});function cH(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const dT=x.createContext(null),uH=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class kRe extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function SRe({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(uH);return x.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(kRe,{isPresent:e,childRef:r,sizeRef:i,children:x.cloneElement(t,{ref:r})})}const _Re=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=cH(IRe),l=x.useId(),c=x.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return x.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(SRe,{isPresent:n,children:t})),d.jsx(dT.Provider,{value:u,children:t})};function IRe(){return new Map}function Yfe(t=!0){const e=x.useContext(dT);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{t&&i(s)},[t]);const o=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const JC=t=>t.key||"";function xZ(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const dH=typeof window<"u",Qfe=dH?x.useLayoutEffect:x.useEffect,kw=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=Yfe(o),c=x.useMemo(()=>xZ(t),[t]),u=o&&!a?[]:c.map(JC),h=x.useRef(!0),f=x.useRef(c),p=cH(()=>new Map),[m,g]=x.useState(c),[y,w]=x.useState(c);Qfe(()=>{h.current=!1,f.current=c;for(let A=0;A<y.length;A++){const E=JC(y[A]);u.includes(E)?p.delete(E):p.get(E)!==!0&&p.set(E,!1)}},[y,u.length,u.join("-")]);const v=[];if(c!==m){let A=[...c];for(let E=0;E<y.length;E++){const $=y[E],N=JC($);u.includes(N)||(A.splice(E,0,$),v.push($))}s==="wait"&&v.length&&(A=v),w(xZ(A)),g(c);return}const{forceRender:b}=x.useContext(lH);return d.jsx(d.Fragment,{children:y.map(A=>{const E=JC(A),$=o&&!a?!1:c===y||u.includes(E),N=()=>{if(p.has(E))p.set(E,!0);else return;let R=!0;p.forEach(M=>{M||(R=!1)}),R&&(b==null||b(),w(f.current),o&&(l==null||l()),r&&r())};return d.jsx(_Re,{isPresent:$,initial:!h.current||n?void 0:!1,custom:$?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:$?void 0:N,children:A},E)})})},Vl=t=>t;let tB=Vl;function hH(t){let e;return()=>(e===void 0&&(e=t()),e)}const xx=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vp=t=>t*1e3,xp=t=>t/1e3,TRe={skipAnimations:!1,useManualTiming:!1};function $Re(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const p=h&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const XC=["read","resolveKeyframes","update","preRender","render","postRender"],NRe=40;function Zfe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=XC.reduce((w,v)=>(w[v]=$Re(s),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=o,p=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,NRe),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:XC.reduce((w,v)=>{const b=o[v];return w[v]=(A,E=!1,$=!1)=>(n||m(),b.schedule(A,E,$)),w},{}),cancel:w=>{for(let v=0;v<XC.length;v++)o[XC[v]].cancel(w)},state:i,steps:o}}const{schedule:Ur,cancel:fg,state:Ms,steps:iR}=Zfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vl,!0),Jfe=x.createContext({strict:!1}),EZ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ex={};for(const t in EZ)Ex[t]={isEnabled:e=>EZ[t].some(n=>!!e[n])};function PRe(t){for(const e in t)Ex[e]={...Ex[e],...t[e]}}const RRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function m_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RRe.has(t)}let Xfe=t=>!m_(t);function jRe(t){t&&(Xfe=e=>e.startsWith("on")?!m_(e):t(e))}try{jRe(require("@emotion/is-prop-valid").default)}catch{}function ORe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Xfe(i)||n===!0&&m_(i)||!e&&!m_(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function MRe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const hT=x.createContext({});function eE(t){return typeof t=="string"||Array.isArray(t)}function fT(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fH=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pH=["initial",...fH];function pT(t){return fT(t.animate)||pH.some(e=>eE(t[e]))}function epe(t){return!!(pT(t)||t.variants)}function DRe(t,e){if(pT(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eE(n)?n:void 0,animate:eE(r)?r:void 0}}return t.inherit!==!1?e:{}}function BRe(t){const{initial:e,animate:n}=DRe(t,x.useContext(hT));return x.useMemo(()=>({initial:e,animate:n}),[AZ(e),AZ(n)])}function AZ(t){return Array.isArray(t)?t.join(" "):t}const LRe=Symbol.for("motionComponentSymbol");function dv(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FRe(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dv(n)&&(n.current=r))},[e])}const mH=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),URe="framerAppearId",tpe="data-"+mH(URe),{schedule:gH,cancel:CKt}=Zfe(queueMicrotask,!1),npe=x.createContext({});function zRe(t,e,n,r,i){var s,o;const{visualElement:a}=x.useContext(hT),l=x.useContext(Jfe),c=x.useContext(dT),u=x.useContext(uH).reducedMotion,h=x.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=x.useContext(npe);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&WRe(h.current,n,i,p);const m=x.useRef(!1);x.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const g=n[tpe],y=x.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return Qfe(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),gH.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),y.current=!1))}),f}function WRe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rpe(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&dv(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function rpe(t){if(t)return t.options.allowProjection!==!1?t.projection:rpe(t.parent)}function HRe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&PRe(t);function a(c,u){let h;const f={...x.useContext(uH),...c,layoutId:VRe(c)},{isStatic:p}=f,m=BRe(c),g=r(c,p);if(!p&&dH){qRe();const y=GRe(f);h=y.MeasureLayout,m.visualElement=zRe(i,g,f,e,y.ProjectionNode)}return d.jsxs(hT.Provider,{value:m,children:[h&&m.visualElement?d.jsx(h,{visualElement:m.visualElement,...f}):null,n(i,c,FRe(g,m.visualElement,u),g,p,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=x.forwardRef(a);return l[LRe]=i,l}function VRe({layoutId:t}){const e=x.useContext(lH).id;return e&&t!==void 0?e+"-"+t:t}function qRe(t,e){x.useContext(Jfe).strict}function GRe(t){const{drag:e,layout:n}=Ex;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const KRe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yH(t){return typeof t!="string"||t.includes("-")?!1:!!(KRe.indexOf(t)>-1||/[A-Z]/u.test(t))}function CZ(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wH(t,e,n,r){if(typeof e=="function"){const[i,s]=CZ(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=CZ(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const nB=t=>Array.isArray(t),YRe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QRe=t=>nB(t)?t[t.length-1]||0:t,To=t=>!!(t&&t.getVelocity);function R9(t){const e=To(t)?t.get():t;return YRe(e)?e.toValue():e}function ZRe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:JRe(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const ipe=t=>(e,n)=>{const r=x.useContext(hT),i=x.useContext(dT),s=()=>ZRe(t,e,r,i);return n?s():cH(s)};function JRe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=R9(s[f]);let{initial:o,animate:a}=t;const l=pT(t),c=epe(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!fT(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const m=wH(t,f[p]);if(m){const{transitionEnd:g,transition:y,...w}=m;for(const v in w){let b=w[v];if(Array.isArray(b)){const A=u?b.length-1:0;b=b[A]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const S3=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sw=new Set(S3),spe=t=>e=>typeof e=="string"&&e.startsWith(t),ope=spe("--"),XRe=spe("var(--"),bH=t=>XRe(t)?eje.test(t.split("/*")[0].trim()):!1,eje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ape=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Bp=(t,e,n)=>n>e?e:n<t?t:n,_3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tE={..._3,transform:t=>Bp(0,1,t)},ek={..._3,default:1},EA=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),V0=EA("deg"),jh=EA("%"),Ut=EA("px"),tje=EA("vh"),nje=EA("vw"),kZ={...jh,parse:t=>jh.parse(t)/100,transform:t=>jh.transform(t*100)},rje={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut},ije={rotate:V0,rotateX:V0,rotateY:V0,rotateZ:V0,scale:ek,scaleX:ek,scaleY:ek,scaleZ:ek,skew:V0,skewX:V0,skewY:V0,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:tE,originX:kZ,originY:kZ,originZ:Ut},SZ={..._3,transform:Math.round},vH={...rje,...ije,zIndex:SZ,size:Ut,fillOpacity:tE,strokeOpacity:tE,numOctaves:SZ},sje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oje=S3.length;function aje(t,e,n){let r="",i=!0;for(let s=0;s<oje;s++){const o=S3[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ape(a,vH[o]);if(!l){i=!1;const u=sje[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xH(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Sw.has(l)){o=!0;continue}else if(ope(l)){i[l]=c;continue}else{const u=ape(c,vH[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=aje(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const lje={offset:"stroke-dashoffset",array:"stroke-dasharray"},cje={offset:"strokeDashoffset",array:"strokeDasharray"};function uje(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?lje:cje;t[s.offset]=Ut.transform(-r);const o=Ut.transform(e),a=Ut.transform(n);t[s.array]=`${o} ${a}`}function _Z(t,e,n){return typeof t=="string"?t:Ut.transform(e+n*t)}function dje(t,e,n){const r=_Z(e,t.x,t.width),i=_Z(n,t.y,t.height);return`${r} ${i}`}function EH(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(xH(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=dje(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&uje(f,o,a,l,!1)}const AH=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lpe=()=>({...AH(),attrs:{}}),CH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cpe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const upe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dpe(t,e,n,r){cpe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(upe.has(i)?i:mH(i),e.attrs[i])}const g_={};function hje(t){Object.assign(g_,t)}function hpe(t,{layout:e,layoutId:n}){return Sw.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!g_[t]||t==="opacity")}function kH(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(To(i[o])||e.style&&To(e.style[o])||hpe(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function fpe(t,e,n){const r=kH(t,e,n);for(const i in t)if(To(t[i])||To(e[i])){const s=S3.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function fje(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const IZ=["x","y","width","height","cx","cy","r"],pje={useVisualState:ipe({scrapeMotionValuesFromProps:fpe,createRenderState:lpe,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Sw.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<IZ.length;a++){const l=IZ[a];t[l]!==e[l]&&(o=!0)}o&&Ur.read(()=>{fje(n,r),Ur.render(()=>{EH(r,i,CH(n.tagName),t.transformTemplate),dpe(n,r)})})}})},mje={useVisualState:ipe({scrapeMotionValuesFromProps:kH,createRenderState:AH})};function ppe(t,e,n){for(const r in e)!To(e[r])&&!hpe(r,n)&&(t[r]=e[r])}function gje({transformTemplate:t},e){return x.useMemo(()=>{const n=AH();return xH(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yje(t,e){const n=t.style||{},r={};return ppe(r,n,t),Object.assign(r,gje(t,e)),r}function wje(t,e){const n={},r=yje(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function bje(t,e,n,r){const i=x.useMemo(()=>{const s=lpe();return EH(s,e,CH(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ppe(s,t.style,t),i.style={...s,...i.style}}return i}function vje(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(yH(n)?bje:wje)(r,s,o,n),c=ORe(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=x.useMemo(()=>To(h)?h.get():h,[h]);return x.createElement(n,{...u,children:f})}}function xje(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...yH(r)?pje:mje,preloadedFeatures:t,useRender:vje(i),createVisualElement:e,Component:r};return HRe(o)}}function mpe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function mT(t,e,n){const r=t.getProps();return wH(r,e,n!==void 0?n:r.custom,t)}const Eje=hH(()=>window.ScrollTimeline!==void 0);class Aje{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Eje()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Cje extends Aje{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function SH(t,e){return t?t[e]||t.default||t:void 0}const rB=2e4;function gpe(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rB;)e+=n,r=t.next(e);return e>=rB?1/0:e}function _H(t){return typeof t=="function"}function TZ(t,e){t.timeline=e,t.onfinish=null}const IH=t=>Array.isArray(t)&&typeof t[0]=="number",kje={linearEasing:void 0};function Sje(t,e){const n=hH(t);return()=>{var r;return(r=kje[e])!==null&&r!==void 0?r:n()}}const y_=Sje(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ype=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(xx(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function wpe(t){return!!(typeof t=="function"&&y_()||!t||typeof t=="string"&&(t in iB||y_())||IH(t)||Array.isArray(t)&&t.every(wpe))}const g6=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g6([0,.65,.55,1]),circOut:g6([.55,0,1,.45]),backIn:g6([.31,.01,.66,-.59]),backOut:g6([.33,1.53,.69,.99])};function bpe(t,e){if(t)return typeof t=="function"&&y_()?ype(t,e):IH(t)?g6(t):Array.isArray(t)?t.map(n=>bpe(n,e)||iB.easeOut):iB[t]}const $u={x:!1,y:!1};function vpe(){return $u.x||$u.y}function _je(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function xpe(t,e){const n=_je(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $Z(t){return e=>{e.pointerType==="touch"||vpe()||t(e)}}function Ije(t,e,n={}){const[r,i,s]=xpe(t,n),o=$Z(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=$Z(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Epe=(t,e)=>e?t===e?!0:Epe(t,e.parentElement):!1,TH=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Tje=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $je(t){return Tje.has(t.tagName)||t.tabIndex!==-1}const y6=new WeakSet;function NZ(t){return e=>{e.key==="Enter"&&t(e)}}function sR(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Nje=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=NZ(()=>{if(y6.has(n))return;sR(n,"down");const i=NZ(()=>{sR(n,"up")}),s=()=>sR(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function PZ(t){return TH(t)&&!vpe()}function Pje(t,e,n={}){const[r,i,s]=xpe(t,n),o=a=>{const l=a.currentTarget;if(!PZ(a)||y6.has(l))return;y6.add(l);const c=e(a),u=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!PZ(p)||!y6.has(l))&&(y6.delete(l),typeof c=="function"&&c(p,{success:m}))},h=p=>{u(p,n.useGlobalTarget||Epe(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!$je(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>Nje(c,i),i)}),s}function Rje(t){return t==="x"||t==="y"?$u[t]?null:($u[t]=!0,()=>{$u[t]=!1}):$u.x||$u.y?null:($u.x=$u.y=!0,()=>{$u.x=$u.y=!1})}const Ape=new Set(["width","height","top","left","right","bottom",...S3]);let j9;function jje(){j9=void 0}const Oh={now:()=>(j9===void 0&&Oh.set(Ms.isProcessing||TRe.useManualTiming?Ms.timestamp:performance.now()),j9),set:t=>{j9=t,queueMicrotask(jje)}};function $H(t,e){t.indexOf(e)===-1&&t.push(e)}function NH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class PH{constructor(){this.subscriptions=[]}add(e){return $H(this.subscriptions,e),()=>NH(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Cpe(t,e){return e?t*(1e3/e):0}const RZ=30,Oje=t=>!isNaN(parseFloat(t));class Mje{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Oh.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Oh.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Oje(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new PH);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Oh.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RZ)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RZ);return Cpe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nE(t,e){return new Mje(t,e)}function Dje(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nE(n))}function Bje(t,e){const n=mT(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=QRe(s[o]);Dje(t,o,a)}}function Lje(t){return!!(To(t)&&t.add)}function sB(t,e){const n=t.getValue("willChange");if(Lje(n))return n.add(e)}function kpe(t){return t.props[tpe]}const Spe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Fje=1e-7,Uje=12;function zje(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Spe(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Fje&&++a<Uje);return o}function AA(t,e,n,r){if(t===e&&n===r)return Vl;const i=s=>zje(s,0,1,t,n);return s=>s===0||s===1?s:Spe(i(s),e,r)}const _pe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ipe=t=>e=>1-t(1-e),Tpe=AA(.33,1.53,.69,.99),RH=Ipe(Tpe),$pe=_pe(RH),Npe=t=>(t*=2)<1?.5*RH(t):.5*(2-Math.pow(2,-10*(t-1))),jH=t=>1-Math.sin(Math.acos(t)),Ppe=Ipe(jH),Rpe=_pe(jH),jpe=t=>/^0[^.\s]+$/u.test(t);function Wje(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jpe(t):!0}const Z6=t=>Math.round(t*1e5)/1e5,OH=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hje(t){return t==null}const Vje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MH=(t,e)=>n=>!!(typeof n=="string"&&Vje.test(n)&&n.startsWith(t)||e&&!Hje(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ope=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(OH);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qje=t=>Bp(0,255,t),oR={..._3,transform:t=>Math.round(qje(t))},Iy={test:MH("rgb","red"),parse:Ope("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+oR.transform(t)+", "+oR.transform(e)+", "+oR.transform(n)+", "+Z6(tE.transform(r))+")"};function Gje(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oB={test:MH("#"),parse:Gje,transform:Iy.transform},hv={test:MH("hsl","hue"),parse:Ope("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jh.transform(Z6(e))+", "+jh.transform(Z6(n))+", "+Z6(tE.transform(r))+")"},vo={test:t=>Iy.test(t)||oB.test(t)||hv.test(t),parse:t=>Iy.test(t)?Iy.parse(t):hv.test(t)?hv.parse(t):oB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Iy.transform(t):hv.transform(t)},Kje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yje(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(OH))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Kje))===null||n===void 0?void 0:n.length)||0)>0}const Mpe="number",Dpe="color",Qje="var",Zje="var(",jZ="${}",Jje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rE(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Jje,l=>(vo.test(l)?(r.color.push(s),i.push(Dpe),n.push(vo.parse(l))):l.startsWith(Zje)?(r.var.push(s),i.push(Qje),n.push(l)):(r.number.push(s),i.push(Mpe),n.push(parseFloat(l))),++s,jZ)).split(jZ);return{values:n,split:a,indexes:r,types:i}}function Bpe(t){return rE(t).values}function Lpe(t){const{split:e,types:n}=rE(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Mpe?s+=Z6(i[o]):a===Dpe?s+=vo.transform(i[o]):s+=i[o]}return s}}const Xje=t=>typeof t=="number"?0:t;function eOe(t){const e=Bpe(t);return Lpe(t)(e.map(Xje))}const pg={test:Yje,parse:Bpe,createTransformer:Lpe,getAnimatableNone:eOe},tOe=new Set(["brightness","contrast","saturate","opacity"]);function nOe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(OH)||[];if(!r)return t;const i=n.replace(r,"");let s=tOe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const rOe=/\b([a-z-]*)\(.*?\)/gu,aB={...pg,getAnimatableNone:t=>{const e=t.match(rOe);return e?e.map(nOe).join(" "):t}},iOe={...vH,color:vo,backgroundColor:vo,outlineColor:vo,fill:vo,stroke:vo,borderColor:vo,borderTopColor:vo,borderRightColor:vo,borderBottomColor:vo,borderLeftColor:vo,filter:aB,WebkitFilter:aB},DH=t=>iOe[t];function Fpe(t,e){let n=DH(t);return n!==aB&&(n=pg),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sOe=new Set(["auto","none","0"]);function oOe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!sOe.has(s)&&rE(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Fpe(n,i)}const OZ=t=>t===_3||t===Ut,MZ=(t,e)=>parseFloat(t.split(", ")[e]),DZ=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return MZ(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?MZ(s[1],t):0}},aOe=new Set(["x","y","z"]),lOe=S3.filter(t=>!aOe.has(t));function cOe(t){const e=[];return lOe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ax={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:DZ(4,13),y:DZ(5,14)};Ax.translateX=Ax.x;Ax.translateY=Ax.y;const v1=new Set;let lB=!1,cB=!1;function Upe(){if(cB){const t=Array.from(v1).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=cOe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cB=!1,lB=!1,v1.forEach(t=>t.complete()),v1.clear()}function zpe(){v1.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cB=!0)})}function uOe(){zpe(),Upe()}class BH{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(v1.add(this),lB||(lB=!0,Ur.read(zpe),Ur.resolveKeyframes(Upe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),v1.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,v1.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Wpe=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),dOe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hOe(t){const e=dOe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Hpe(t,e,n=1){const[r,i]=hOe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Wpe(o)?parseFloat(o):o}return bH(i)?Hpe(i,e,n+1):i}const Vpe=t=>e=>e.test(t),fOe={test:t=>t==="auto",parse:t=>t},qpe=[_3,Ut,jh,V0,nje,tje,fOe],BZ=t=>qpe.find(Vpe(t));class Gpe extends BH{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),bH(c))){const u=Hpe(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Ape.has(r)||e.length!==2)return;const[i,s]=e,o=BZ(i),a=BZ(s);if(o!==a)if(OZ(o)&&OZ(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Wje(e[i])&&r.push(i);r.length&&oOe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ax[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ax[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const LZ=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pg.test(t)||t==="0")&&!t.startsWith("url("));function pOe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mOe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=LZ(i,e),a=LZ(s,e);return!o||!a?!1:pOe(t)||(n==="spring"||_H(n))&&r}const gOe=t=>t!==null;function gT(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(gOe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const yOe=40;class Kpe{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Oh.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yOe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uOe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Oh.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!mOe(e,r,i,s))if(o)this.options.duration=0;else{l&&l(gT(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ni=(t,e,n)=>t+(e-t)*n;function aR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wOe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=aR(l,a,t+1/3),s=aR(l,a,t),o=aR(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function w_(t,e){return n=>n>0?e:t}const lR=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},bOe=[oB,Iy,hv],vOe=t=>bOe.find(e=>e.test(t));function FZ(t){const e=vOe(t);if(!e)return!1;let n=e.parse(t);return e===hv&&(n=wOe(n)),n}const UZ=(t,e)=>{const n=FZ(t),r=FZ(e);if(!n||!r)return w_(t,e);const i={...n};return s=>(i.red=lR(n.red,r.red,s),i.green=lR(n.green,r.green,s),i.blue=lR(n.blue,r.blue,s),i.alpha=ni(n.alpha,r.alpha,s),Iy.transform(i))},xOe=(t,e)=>n=>e(t(n)),CA=(...t)=>t.reduce(xOe),uB=new Set(["none","hidden"]);function EOe(t,e){return uB.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function AOe(t,e){return n=>ni(t,e,n)}function LH(t){return typeof t=="number"?AOe:typeof t=="string"?bH(t)?w_:vo.test(t)?UZ:SOe:Array.isArray(t)?Ype:typeof t=="object"?vo.test(t)?UZ:COe:w_}function Ype(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>LH(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function COe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=LH(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function kOe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const SOe=(t,e)=>{const n=pg.createTransformer(e),r=rE(t),i=rE(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uB.has(t)&&!i.values.length||uB.has(e)&&!r.values.length?EOe(t,e):CA(Ype(kOe(r,i),i.values),n):w_(t,e)};function Qpe(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ni(t,e,n):LH(t)(t,e)}const _Oe=5;function Zpe(t,e,n){const r=Math.max(e-_Oe,0);return Cpe(n-t(r),e-r)}const ui={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cR=.001;function IOe({duration:t=ui.duration,bounce:e=ui.bounce,velocity:n=ui.velocity,mass:r=ui.mass}){let i,s,o=1-e;o=Bp(ui.minDamping,ui.maxDamping,o),t=Bp(ui.minDuration,ui.maxDuration,xp(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-n,p=dB(c,o),m=Math.exp(-h);return cR-f/p*m},s=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-h),g=dB(Math.pow(c,2),o);return(-i(c)+cR>0?-1:1)*((f-p)*m)/g}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-cR+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=$Oe(i,s,a);if(t=vp(t),isNaN(l))return{stiffness:ui.stiffness,damping:ui.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const TOe=12;function $Oe(t,e,n){let r=n;for(let i=1;i<TOe;i++)r=r-t(r)/e(r);return r}function dB(t,e){return t*Math.sqrt(1-e*e)}const NOe=["duration","bounce"],POe=["stiffness","damping","mass"];function zZ(t,e){return e.some(n=>t[n]!==void 0)}function ROe(t){let e={velocity:ui.velocity,stiffness:ui.stiffness,damping:ui.damping,mass:ui.mass,isResolvedFromDuration:!1,...t};if(!zZ(t,POe)&&zZ(t,NOe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Bp(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ui.mass,stiffness:i,damping:s}}else{const n=IOe(t);e={...e,...n,mass:ui.mass},e.isResolvedFromDuration=!0}return e}function Jpe(t=ui.visualDuration,e=ui.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=ROe({...n,velocity:-xp(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),y=o-s,w=xp(Math.sqrt(l/u)),v=Math.abs(y)<5;r||(r=v?ui.restSpeed.granular:ui.restSpeed.default),i||(i=v?ui.restDelta.granular:ui.restDelta.default);let b;if(g<1){const E=dB(w,g);b=$=>{const N=Math.exp(-g*w*$);return o-N*((m+g*w*y)/E*Math.sin(E*$)+y*Math.cos(E*$))}}else if(g===1)b=E=>o-Math.exp(-w*E)*(y+(m+w*y)*E);else{const E=w*Math.sqrt(g*g-1);b=$=>{const N=Math.exp(-g*w*$),R=Math.min(E*$,300);return o-N*((m+g*w*y)*Math.sinh(R)+E*y*Math.cosh(R))/E}}const A={calculatedDuration:p&&h||null,next:E=>{const $=b(E);if(p)a.done=E>=h;else{let N=0;g<1&&(N=E===0?vp(m):Zpe(b,E,$));const R=Math.abs(N)<=r,M=Math.abs(o-$)<=i;a.done=R&&M}return a.value=a.done?o:$,a},toString:()=>{const E=Math.min(gpe(A),rB),$=ype(N=>A.next(E*N).value,E,30);return E+"ms "+$}};return A}function WZ({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=R=>a!==void 0&&R<a||l!==void 0&&R>l,m=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let g=n*e;const y=h+g,w=o===void 0?y:o(y);w!==y&&(g=w-h);const v=R=>-g*Math.exp(-R/r),b=R=>w+v(R),A=R=>{const M=v(R),F=b(R);f.done=Math.abs(M)<=c,f.value=f.done?w:F};let E,$;const N=R=>{p(f.value)&&(E=R,$=Jpe({keyframes:[f.value,m(f.value)],velocity:Zpe(b,R,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:R=>{let M=!1;return!$&&E===void 0&&(M=!0,A(R),N(R)),E!==void 0&&R>=E?$.next(R-E):(!M&&A(R),f)}}}const jOe=AA(.42,0,1,1),OOe=AA(0,0,.58,1),Xpe=AA(.42,0,.58,1),MOe=t=>Array.isArray(t)&&typeof t[0]!="number",HZ={linear:Vl,easeIn:jOe,easeInOut:Xpe,easeOut:OOe,circIn:jH,circInOut:Rpe,circOut:Ppe,backIn:RH,backInOut:$pe,backOut:Tpe,anticipate:Npe},VZ=t=>{if(IH(t)){tB(t.length===4);const[e,n,r,i]=t;return AA(e,n,r,i)}else if(typeof t=="string")return tB(HZ[t]!==void 0),HZ[t];return t};function DOe(t,e,n){const r=[],i=n||Qpe,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vl:e;a=CA(l,a)}r.push(a)}return r}function BOe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(tB(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=DOe(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=xx(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Bp(t[0],t[s-1],u)):c}function LOe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xx(0,e,r);t.push(ni(n,1,i))}}function FOe(t){const e=[0];return LOe(e,t.length-1),e}function UOe(t,e){return t.map(n=>n*e)}function zOe(t,e){return t.map(()=>e||Xpe).splice(0,t.length-1)}function b_({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=MOe(r)?r.map(VZ):VZ(r),s={done:!1,value:e[0]},o=UOe(n&&n.length===e.length?n:FOe(e),t),a=BOe(o,e,{ease:Array.isArray(i)?i:zOe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const WOe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ur.update(e,!0),stop:()=>fg(e),now:()=>Ms.isProcessing?Ms.timestamp:Oh.now()}},HOe={decay:WZ,inertia:WZ,tween:b_,keyframes:b_,spring:Jpe},VOe=t=>t/100;class FH extends Kpe{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||BH,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=_H(n)?n:HOe[n]||b_;let l,c;a!==b_&&typeof e[0]!="number"&&(l=CA(VOe,Qpe(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=gpe(u));const{calculatedDuration:h}=u,f=h+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,A=s;if(p){const R=Math.min(this.currentTime,u)/h;let M=Math.floor(R),F=R%1;!F&&R>=1&&(F=1),F===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/h)):m==="mirror"&&(A=o)),b=Bp(0,1,F)*h}const E=v?{done:!1,value:l[0]}:A.next(b);a&&(E.value=a(E.value));let{done:$}=E;!v&&c!==null&&($=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return N&&i!==void 0&&(E.value=gT(l,this.options,i)),y&&y(E.value),N&&this.finish(),E}get duration(){const{resolved:e}=this;return e?xp(e.calculatedDuration):0}get time(){return xp(this.currentTime)}set time(e){e=vp(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xp(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WOe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qOe=new Set(["opacity","clipPath","filter","transform"]);function GOe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=bpe(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const KOe=hH(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),v_=10,YOe=2e4;function QOe(t){return _H(t.type)||t.type==="spring"||!wpe(t.ease)}function ZOe(t,e){const n=new FH({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<YOe;)r=n.sample(s),i.push(r.value),s+=v_;return{times:void 0,keyframes:i,duration:s-v_,ease:"linear"}}const e0e={anticipate:Npe,backInOut:$pe,circInOut:Rpe};function JOe(t){return t in e0e}class qZ extends Kpe{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Gpe(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&y_()&&JOe(s)&&(s=e0e[s]),QOe(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:m,...g}=this.options,y=ZOe(e,g);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const u=GOe(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(TZ(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(gT(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xp(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xp(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vp(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vl;const{animation:r}=n;TZ(r,e)}return Vl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...p}=this.options,m=new FH({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=vp(this.time);c.setWithVelocity(m.sample(g-v_).value,m.sample(g).value,v_)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return KOe()&&r&&qOe.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const XOe={type:"spring",stiffness:500,damping:25,restSpeed:10},eMe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tMe={type:"keyframes",duration:.8},nMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rMe=(t,{keyframes:e})=>e.length>2?tMe:Sw.has(t)?t.startsWith("scale")?eMe(e[1]):XOe:nMe;function iMe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const UH=(t,e,n,r={},i,s)=>o=>{const a=SH(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-vp(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};iMe(a)||(u={...u,...rMe(t,u)}),u.duration&&(u.duration=vp(u.duration)),u.repeatDelay&&(u.repeatDelay=vp(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=gT(u.keyframes,a);if(f!==void 0)return Ur.update(()=>{u.onUpdate(f),u.onComplete()}),new Cje([])}return!s&&qZ.supports(u)?new qZ(u):new FH(u)};function sMe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function t0e(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||u&&sMe(u,h))continue;const m={delay:n,...SH(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const w=kpe(t);if(w){const v=window.MotionHandoffAnimation(w,h,Ur);v!==null&&(m.startTime=v,g=!0)}}sB(t,h),f.start(UH(h,f,p,t.shouldReduceMotion&&Ape.has(h)?{type:!1}:m,t,g));const y=f.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{Ur.update(()=>{a&&Bje(t,a)})}),c}function hB(t,e,n={}){var r;const i=mT(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(t0e(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return oMe(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function oMe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(aMe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(hB(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function aMe(t,e){return t.sortNodePosition(e)}function lMe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>hB(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=hB(t,e,n);else{const i=typeof e=="function"?mT(t,e,n.custom):e;r=Promise.all(t0e(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const cMe=pH.length;function n0e(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?n0e(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cMe;n++){const r=pH[n],i=t.props[r];(eE(i)||i===!1)&&(e[r]=i)}return e}const uMe=[...fH].reverse(),dMe=fH.length;function hMe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lMe(t,n,r)))}function fMe(t){let e=hMe(t),n=GZ(),r=!0;const i=l=>(c,u)=>{var h;const f=mT(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=n0e(t.parent)||{},h=[],f=new Set;let p={},m=1/0;for(let y=0;y<dMe;y++){const w=uMe[y],v=n[w],b=c[w]!==void 0?c[w]:u[w],A=eE(b),E=w===l?v.isActive:null;E===!1&&(m=y);let $=b===u[w]&&b!==c[w]&&A;if($&&r&&t.manuallyAnimateOnMount&&($=!1),v.protectedKeys={...p},!v.isActive&&E===null||!b&&!v.prevProp||fT(b)||typeof b=="boolean")continue;const N=pMe(v.prevProp,b);let R=N||w===l&&v.isActive&&!$&&A||y>m&&A,M=!1;const F=Array.isArray(b)?b:[b];let W=F.reduce(i(w),{});E===!1&&(W={});const{prevResolvedValues:V={}}=v,B={...V,...W},k=T=>{R=!0,f.has(T)&&(M=!0,f.delete(T)),v.needsAnimating[T]=!0;const _=t.getValue(T);_&&(_.liveStyle=!1)};for(const T in B){const _=W[T],P=V[T];if(p.hasOwnProperty(T))continue;let D=!1;nB(_)&&nB(P)?D=!mpe(_,P):D=_!==P,D?_!=null?k(T):f.add(T):_!==void 0&&f.has(T)?k(T):v.protectedKeys[T]=!0}v.prevProp=b,v.prevResolvedValues=W,v.isActive&&(p={...p,...W}),r&&t.blockInitialAnimation&&(R=!1),R&&(!($&&N)||M)&&h.push(...F.map(T=>({animation:T,options:{type:w}})))}if(f.size){const y={};f.forEach(w=>{const v=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),y[w]=v??null}),h.push({animation:y})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=GZ(),r=!0}}}function pMe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mpe(e,t):!1}function Wg(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GZ(){return{animate:Wg(!0),whileInView:Wg(),whileHover:Wg(),whileTap:Wg(),whileDrag:Wg(),whileFocus:Wg(),exit:Wg()}}class Ig{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mMe extends Ig{constructor(e){super(e),e.animationState||(e.animationState=fMe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fT(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let gMe=0;class yMe extends Ig{constructor(){super(...arguments),this.id=gMe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wMe={animation:{Feature:mMe},exit:{Feature:yMe}};function iE(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kA(t){return{point:{x:t.pageX,y:t.pageY}}}const bMe=t=>e=>TH(e)&&t(e,kA(e));function J6(t,e,n,r){return iE(t,e,bMe(n),r)}const KZ=(t,e)=>Math.abs(t-e);function vMe(t,e){const n=KZ(t.x,e.x),r=KZ(t.y,e.y);return Math.sqrt(n**2+r**2)}class r0e{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=dR(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=vMe(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:g}=Ms;this.history.push({...m,timestamp:g});const{onStart:y,onMove:w}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=uR(f,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=dR(h.type==="pointercancel"?this.lastMoveEventInfo:uR(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),m&&m(h,y)},!TH(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=kA(e),a=uR(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ms;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,dR(a,this.history)),this.removeListeners=CA(J6(this.contextWindow,"pointermove",this.handlePointerMove),J6(this.contextWindow,"pointerup",this.handlePointerUp),J6(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fg(this.updatePoint)}}function uR(t,e){return e?{point:e(t.point)}:t}function YZ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dR({point:t},e){return{point:t,delta:YZ(t,i0e(e)),offset:YZ(t,xMe(e)),velocity:EMe(e,.1)}}function xMe(t){return t[0]}function i0e(t){return t[t.length-1]}function EMe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=i0e(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>vp(e)));)n--;if(!r)return{x:0,y:0};const s=xp(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const s0e=1e-4,AMe=1-s0e,CMe=1+s0e,o0e=.01,kMe=0-o0e,SMe=0+o0e;function Ql(t){return t.max-t.min}function _Me(t,e,n){return Math.abs(t-e)<=n}function QZ(t,e,n,r=.5){t.origin=r,t.originPoint=ni(e.min,e.max,t.origin),t.scale=Ql(n)/Ql(e),t.translate=ni(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AMe&&t.scale<=CMe||isNaN(t.scale))&&(t.scale=1),(t.translate>=kMe&&t.translate<=SMe||isNaN(t.translate))&&(t.translate=0)}function X6(t,e,n,r){QZ(t.x,e.x,n.x,r?r.originX:void 0),QZ(t.y,e.y,n.y,r?r.originY:void 0)}function ZZ(t,e,n){t.min=n.min+e.min,t.max=t.min+Ql(e)}function IMe(t,e,n){ZZ(t.x,e.x,n.x),ZZ(t.y,e.y,n.y)}function JZ(t,e,n){t.min=e.min-n.min,t.max=t.min+Ql(e)}function e4(t,e,n){JZ(t.x,e.x,n.x),JZ(t.y,e.y,n.y)}function TMe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ni(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ni(n,t,r.max):Math.min(t,n)),t}function XZ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $Me(t,{top:e,left:n,bottom:r,right:i}){return{x:XZ(t.x,n,i),y:XZ(t.y,e,r)}}function eJ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NMe(t,e){return{x:eJ(t.x,e.x),y:eJ(t.y,e.y)}}function PMe(t,e){let n=.5;const r=Ql(t),i=Ql(e);return i>r?n=xx(e.min,e.max-r,t.min):r>i&&(n=xx(t.min,t.max-i,e.min)),Bp(0,1,n)}function RMe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fB=.35;function jMe(t=fB){return t===!1?t=0:t===!0&&(t=fB),{x:tJ(t,"left","right"),y:tJ(t,"top","bottom")}}function tJ(t,e,n){return{min:nJ(t,e),max:nJ(t,n)}}function nJ(t,e){return typeof t=="number"?t:t[e]||0}const rJ=()=>({translate:0,scale:1,origin:0,originPoint:0}),fv=()=>({x:rJ(),y:rJ()}),iJ=()=>({min:0,max:0}),Ai=()=>({x:iJ(),y:iJ()});function Cc(t){return[t("x"),t("y")]}function a0e({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OMe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MMe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hR(t){return t===void 0||t===1}function pB({scale:t,scaleX:e,scaleY:n}){return!hR(t)||!hR(e)||!hR(n)}function ny(t){return pB(t)||l0e(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l0e(t){return sJ(t.x)||sJ(t.y)}function sJ(t){return t&&t!=="0%"}function x_(t,e,n){const r=t-n,i=e*r;return n+i}function oJ(t,e,n,r,i){return i!==void 0&&(t=x_(t,i,r)),x_(t,n,r)+e}function mB(t,e=0,n=1,r,i){t.min=oJ(t.min,e,n,r,i),t.max=oJ(t.max,e,n,r,i)}function c0e(t,{x:e,y:n}){mB(t.x,e.translate,e.scale,e.originPoint),mB(t.y,n.translate,n.scale,n.originPoint)}const aJ=.999999999999,lJ=1.0000000000001;function DMe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mv(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,c0e(t,o)),r&&ny(s.latestValues)&&mv(t,s.latestValues))}e.x<lJ&&e.x>aJ&&(e.x=1),e.y<lJ&&e.y>aJ&&(e.y=1)}function pv(t,e){t.min=t.min+e,t.max=t.max+e}function cJ(t,e,n,r,i=.5){const s=ni(t.min,t.max,i);mB(t,e,n,s,r)}function mv(t,e){cJ(t.x,e.x,e.scaleX,e.scale,e.originX),cJ(t.y,e.y,e.scaleY,e.scale,e.originY)}function u0e(t,e){return a0e(MMe(t.getBoundingClientRect(),e))}function BMe(t,e,n){const r=u0e(t,n),{scroll:i}=e;return i&&(pv(r.x,i.offset.x),pv(r.y,i.offset.y)),r}const d0e=({current:t})=>t?t.ownerDocument.defaultView:null,LMe=new WeakMap;class FMe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ai(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kA(u).point)},s=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rje(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cc(y=>{let w=this.getAxisMotionValue(y).get()||0;if(jh.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[y];b&&(w=Ql(b)*(parseFloat(w)/100))}}this.originPoint[y]=w}),m&&Ur.postRender(()=>m(u,h)),sB(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=UMe(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(u,h)},a=(u,h)=>this.stop(u,h),l=()=>Cc(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new r0e(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:d0e(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ur.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!tk(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=TMe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&dv(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=$Me(i.layoutBox,n):this.constraints=!1,this.elastic=jMe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=RMe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dv(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BMe(r,i.root,this.visualElement.getTransformPagePoint());let o=NMe(i.layout.layoutBox,s);if(n){const a=n(OMe(o));this.hasMutatedConstraints=!!a,a&&(o=a0e(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cc(u=>{if(!tk(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sB(this.visualElement,e),r.start(UH(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cc(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cc(n=>{const{drag:r}=this.getProps();if(!tk(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ni(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dv(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cc(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=PMe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cc(o=>{if(!tk(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ni(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;LMe.set(this.visualElement,this);const e=this.visualElement.current,n=J6(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dv(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ur.read(r);const o=iE(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cc(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fB,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function tk(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UMe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zMe extends Ig{constructor(e){super(e),this.removeGroupControls=Vl,this.removeListeners=Vl,this.controls=new FMe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vl}unmount(){this.removeGroupControls(),this.removeListeners()}}const uJ=t=>(e,n)=>{t&&Ur.postRender(()=>t(e,n))};class WMe extends Ig{constructor(){super(...arguments),this.removePointerDownListener=Vl}onPointerDown(e){this.session=new r0e(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d0e(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:uJ(e),onStart:uJ(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ur.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=J6(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const O9={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dJ(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const S5={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ut.test(t))t=parseFloat(t);else return t;const n=dJ(t,e.target.x),r=dJ(t,e.target.y);return`${n}% ${r}%`}},HMe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=pg.parse(t);if(i.length>5)return r;const s=pg.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ni(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class VMe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;hje(qMe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),O9.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ur.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gH.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h0e(t){const[e,n]=Yfe(),r=x.useContext(lH);return d.jsx(VMe,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(npe),isPresent:e,safeToRemove:n})}const qMe={borderRadius:{...S5,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:S5,borderTopRightRadius:S5,borderBottomLeftRadius:S5,borderBottomRightRadius:S5,boxShadow:HMe};function GMe(t,e,n){const r=To(t)?t:nE(t);return r.start(UH("",r,e,n)),r.animation}function KMe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const YMe=(t,e)=>t.depth-e.depth;class QMe{constructor(){this.children=[],this.isDirty=!1}add(e){$H(this.children,e),this.isDirty=!0}remove(e){NH(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YMe),this.isDirty=!1,this.children.forEach(e)}}function ZMe(t,e){const n=Oh.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(fg(r),t(s-e))};return Ur.read(r,!0),()=>fg(r)}const f0e=["TopLeft","TopRight","BottomLeft","BottomRight"],JMe=f0e.length,hJ=t=>typeof t=="string"?parseFloat(t):t,fJ=t=>typeof t=="number"||Ut.test(t);function XMe(t,e,n,r,i,s){i?(t.opacity=ni(0,n.opacity!==void 0?n.opacity:1,eDe(r)),t.opacityExit=ni(e.opacity!==void 0?e.opacity:1,0,tDe(r))):s&&(t.opacity=ni(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<JMe;o++){const a=`border${f0e[o]}Radius`;let l=pJ(e,a),c=pJ(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fJ(l)===fJ(c)?(t[a]=Math.max(ni(hJ(l),hJ(c),r),0),(jh.test(c)||jh.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ni(e.rotate||0,n.rotate||0,r))}function pJ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eDe=p0e(0,.5,Ppe),tDe=p0e(.5,.95,Vl);function p0e(t,e,n){return r=>r<t?0:r>e?1:n(xx(t,e,r))}function mJ(t,e){t.min=e.min,t.max=e.max}function hc(t,e){mJ(t.x,e.x),mJ(t.y,e.y)}function gJ(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yJ(t,e,n,r,i){return t-=e,t=x_(t,1/n,r),i!==void 0&&(t=x_(t,1/i,r)),t}function nDe(t,e=0,n=1,r=.5,i,s=t,o=t){if(jh.test(e)&&(e=parseFloat(e),e=ni(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ni(s.min,s.max,r);t===s&&(a-=e),t.min=yJ(t.min,e,n,a,i),t.max=yJ(t.max,e,n,a,i)}function wJ(t,e,[n,r,i],s,o){nDe(t,e[n],e[r],e[i],e.scale,s,o)}const rDe=["x","scaleX","originX"],iDe=["y","scaleY","originY"];function bJ(t,e,n,r){wJ(t.x,e,rDe,n?n.x:void 0,r?r.x:void 0),wJ(t.y,e,iDe,n?n.y:void 0,r?r.y:void 0)}function vJ(t){return t.translate===0&&t.scale===1}function m0e(t){return vJ(t.x)&&vJ(t.y)}function xJ(t,e){return t.min===e.min&&t.max===e.max}function sDe(t,e){return xJ(t.x,e.x)&&xJ(t.y,e.y)}function EJ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function g0e(t,e){return EJ(t.x,e.x)&&EJ(t.y,e.y)}function AJ(t){return Ql(t.x)/Ql(t.y)}function CJ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class oDe{constructor(){this.members=[]}add(e){$H(this.members,e),e.scheduleRender()}remove(e){if(NH(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aDe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ry={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},w6=typeof window<"u"&&window.MotionDebug!==void 0,fR=["","X","Y","Z"],lDe={visibility:"hidden"},kJ=1e3;let cDe=0;function pR(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function y0e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kpe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ur,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&y0e(r)}function w0e({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=cDe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,w6&&(ry.totalNodes=ry.resolvedTargetDeltas=ry.recalculatedProjection=0),this.nodes.forEach(hDe),this.nodes.forEach(yDe),this.nodes.forEach(wDe),this.nodes.forEach(fDe),w6&&window.MotionDebug.record(ry)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QMe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new PH),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KMe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=ZMe(f,250),O9.hasAnimatedSinceResize&&(O9.hasAnimatedSinceResize=!1,this.nodes.forEach(_J))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||ADe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!g0e(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const A={...SH(g,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||_J(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bDe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y0e(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SJ);return}this.isUpdating||this.nodes.forEach(mDe),this.isUpdating=!1,this.nodes.forEach(gDe),this.nodes.forEach(uDe),this.nodes.forEach(dDe),this.clearAllSnapshots();const a=Oh.now();Ms.delta=Bp(0,1e3/60,a-Ms.timestamp),Ms.timestamp=a,Ms.isProcessing=!0,iR.update.process(Ms),iR.preRender.process(Ms),iR.render.process(Ms),Ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gH.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pDe),this.sharedNodes.forEach(vDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ai(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!m0e(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ny(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),CDe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ai();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(kDe))){const{scroll:u}=this.root;u&&(pv(l.x,u.offset.x),pv(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Ai();if(hc(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&hc(l,o),pv(l.x,h.offset.x),pv(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ai();hc(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mv(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ny(u.latestValues)&&mv(l,u.latestValues)}return ny(this.latestValues)&&mv(l,this.latestValues),l}removeTransform(o){const a=Ai();hc(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ny(c.latestValues))continue;pB(c.latestValues)&&c.updateSnapshot();const u=Ai(),h=c.measurePageBox();hc(u,h),bJ(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ny(this.latestValues)&&bJ(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ms.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),e4(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ai(),this.targetWithTransforms=Ai()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IMe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hc(this.target,this.layout.layoutBox),c0e(this.target,this.targetDelta)):hc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ai(),this.relativeTargetOrigin=Ai(),e4(this.relativeTargetOrigin,this.target,p.target),hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}w6&&ry.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pB(this.parent.latestValues)||l0e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ms.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;hc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;DMe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ai());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gJ(this.prevProjectionDelta.x,this.projectionDelta.x),gJ(this.prevProjectionDelta.y,this.projectionDelta.y)),X6(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!CJ(this.projectionDelta.x,this.prevProjectionDelta.x)||!CJ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),w6&&ry.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fv(),this.projectionDelta=fv(),this.projectionDeltaWithTransform=fv()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=fv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ai(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),w=!y||y.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(EDe));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const E=A/1e3;IJ(h.x,o.x,E),IJ(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(e4(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xDe(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&sDe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ai()),hc(b,this.relativeTarget)),g&&(this.animationValues=u,XMe(u,c,this.latestValues,E,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update(()=>{O9.hasAnimatedSinceResize=!0,this.currentAnimation=GMe(0,kJ,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&b0e(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ai();const h=Ql(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ql(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}hc(a,l),mv(a,u),X6(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oDe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&pR("z",o,c,this.animationValues);for(let u=0;u<fR.length;u++)pR(`rotate${fR[u]}`,o,c,this.animationValues),pR(`skew${fR[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lDe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=R9(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=R9(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ny(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=aDe(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in g_){if(f[g]===void 0)continue;const{correct:y,applyTo:w}=g_[g],v=c.transform==="none"?f[g]:y(f[g],h);if(w){const b=w.length;for(let A=0;A<b;A++)c[w[A]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=h===this?R9(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(SJ),this.root.sharedNodes.clear()}}}function uDe(t){t.updateLayout()}function dDe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Cc(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Ql(f);f.min=r[h].min,f.max=f.min+p}):b0e(s,n.layoutBox,r)&&Cc(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Ql(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=fv();X6(a,r,n.layoutBox);const l=fv();o?X6(l,t.applyTransform(i,!0),n.measuredBox):X6(l,r,n.layoutBox);const c=!m0e(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=Ai();e4(m,n.layoutBox,f.layoutBox);const g=Ai();e4(g,r,p.layoutBox),g0e(m,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hDe(t){w6&&ry.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fDe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pDe(t){t.clearSnapshot()}function SJ(t){t.clearMeasurements()}function mDe(t){t.isLayoutDirty=!1}function gDe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _J(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yDe(t){t.resolveTargetDelta()}function wDe(t){t.calcProjection()}function bDe(t){t.resetSkewAndRotation()}function vDe(t){t.removeLeadSnapshot()}function IJ(t,e,n){t.translate=ni(e.translate,0,n),t.scale=ni(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TJ(t,e,n,r){t.min=ni(e.min,n.min,r),t.max=ni(e.max,n.max,r)}function xDe(t,e,n,r){TJ(t.x,e.x,n.x,r),TJ(t.y,e.y,n.y,r)}function EDe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ADe={duration:.45,ease:[.4,0,.1,1]},$J=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NJ=$J("applewebkit/")&&!$J("chrome/")?Math.round:Vl;function PJ(t){t.min=NJ(t.min),t.max=NJ(t.max)}function CDe(t){PJ(t.x),PJ(t.y)}function b0e(t,e,n){return t==="position"||t==="preserve-aspect"&&!_Me(AJ(e),AJ(n),.2)}function kDe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const SDe=w0e({attachResizeListener:(t,e)=>iE(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mR={current:void 0},v0e=w0e({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mR.current){const t=new SDe({});t.mount(window),t.setOptions({layoutScroll:!0}),mR.current=t}return mR.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_De={pan:{Feature:WMe},drag:{Feature:zMe,ProjectionNode:v0e,MeasureLayout:h0e}};function RJ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ur.postRender(()=>s(e,kA(e)))}class IDe extends Ig{mount(){const{current:e}=this.node;e&&(this.unmount=Ije(e,n=>(RJ(this.node,n,"Start"),r=>RJ(this.node,r,"End"))))}unmount(){}}class TDe extends Ig{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=CA(iE(this.node.current,"focus",()=>this.onFocus()),iE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jJ(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ur.postRender(()=>s(e,kA(e)))}class $De extends Ig{mount(){const{current:e}=this.node;e&&(this.unmount=Pje(e,n=>(jJ(this.node,n,"Start"),(r,{success:i})=>jJ(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gB=new WeakMap,gR=new WeakMap,NDe=t=>{const e=gB.get(t.target);e&&e(t)},PDe=t=>{t.forEach(NDe)};function RDe({root:t,...e}){const n=t||document;gR.has(n)||gR.set(n,{});const r=gR.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(PDe,{root:t,...e})),r[i]}function jDe(t,e,n){const r=RDe(e);return gB.set(t,n),r.observe(t),()=>{gB.delete(t),r.unobserve(t)}}const ODe={some:0,all:1};class MDe extends Ig{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ODe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return jDe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DDe(e,n))&&this.startObserver()}unmount(){}}function DDe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const BDe={inView:{Feature:MDe},tap:{Feature:$De},focus:{Feature:TDe},hover:{Feature:IDe}},LDe={layout:{ProjectionNode:v0e,MeasureLayout:h0e}},yB={current:null},x0e={current:!1};function FDe(){if(x0e.current=!0,!!dH)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yB.current=t.matches;t.addListener(e),e()}else yB.current=!1}const UDe=[...qpe,vo,pg],zDe=t=>UDe.find(Vpe(t)),OJ=new WeakMap;function WDe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(To(i))t.addValue(r,i);else if(To(s))t.addValue(r,nE(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,nE(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const MJ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HDe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Oh.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ur.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=pT(n),this.isVariantNode=epe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&To(m)&&m.set(l[p],!1)}}mount(e){this.current=e,OJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),x0e.current||FDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yB.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OJ.delete(this.current),this.projection&&this.projection.unmount(),fg(this.notifyUpdate),fg(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sw.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ur.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ex){const n=Ex[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ai()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<MJ.length;r++){const i=MJ[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=WDe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nE(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Wpe(i)||jpe(i))?i=parseFloat(i):!zDe(i)&&pg.test(n)&&(i=Fpe(e,n)),this.setBaseTarget(e,To(i)?i.get():i)),To(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=wH(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!To(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new PH),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class E0e extends HDe{constructor(){super(...arguments),this.KeyframeResolver=Gpe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;To(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VDe(t){return window.getComputedStyle(t)}class qDe extends E0e{constructor(){super(...arguments),this.type="html",this.renderInstance=cpe}readValueFromInstance(e,n){if(Sw.has(n)){const r=DH(n);return r&&r.default||0}else{const r=VDe(e),i=(ope(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return u0e(e,n)}build(e,n,r){xH(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kH(e,n,r)}}class GDe extends E0e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ai}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sw.has(n)){const r=DH(n);return r&&r.default||0}return n=upe.has(n)?n:mH(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fpe(e,n,r)}build(e,n,r){EH(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){dpe(e,n,r,i)}mount(e){this.isSVGTag=CH(e.tagName),super.mount(e)}}const KDe=(t,e)=>yH(t)?new GDe(e):new qDe(e,{allowProjection:t!==x.Fragment}),YDe=xje({...wMe,...BDe,..._De,...LDe},KDe),ye=MRe(YDe),si="/assets/logo-fa6wkVlV.png";function QDe(){const t=ur(),e=x.useCallback(()=>{t("/onboarding/1")},[t]);return x.useEffect(()=>{const n=setTimeout(e,4e3);return()=>clearTimeout(n)},[e]),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-center w-full max-w-md relative z-10",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:si,alt:"Lighter Farm",className:"w-auto h-20"}),d.jsx(ye.div,{initial:{opacity:0},animate:{opacity:[0,.4,0],scale:[.8,1.2,.8]},transition:{duration:3,repeat:1/0,delay:1.5,ease:"easeInOut"},className:"absolute inset-0 w-20 h-20 bg-[#D4B679]/30 rounded-full blur-xl"})]})}),d.jsxs(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:[d.jsxs(ye.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},className:"inline-block",children:["Farm."," "]}),d.jsxs(ye.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7,duration:.6},className:"inline-block",children:["Buy."," "]}),d.jsx(ye.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.9,duration:.6},className:"inline-block",children:"Trade."})]}),d.jsx(ye.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"Lighter Points."}),d.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3,duration:.6},className:"text-md w-[80%] mb-6 font-extralight leading-relaxed text-golden-light/80",children:"The future of DeFi farming is here with zero hassle."}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.6},className:"flex items-center gap-2 text-golden-light/70 flex-wrap mb-6",children:[d.jsx(Bhe,{className:"w-5 h-5"}),d.jsx("span",{className:"text-md font-medium tracking-wider",children:"LIGHTERFARM"}),d.jsx("span",{className:"text-xs bg-golden-light/20 px-2 py-1 rounded-full",children:"v1.0.0"})]}),[...Array(4)].map((n,r)=>d.jsx(ye.div,{className:"absolute w-1 h-1 bg-[#D4B679]/30 rounded-full",style:{left:`${20+r*20}%`,top:`${10+r%2*30}%`},animate:{y:[-10,-20,-10],opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:2+r*.3,repeat:1/0,delay:r*.4,ease:"easeInOut"}},r))]}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8,duration:.6},className:"w-full max-w-md space-y-4",children:[d.jsxs(ye.button,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-3 group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("span",{children:"Continue"}),d.jsx(Rhe,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]}),d.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2.5,duration:.5},className:"flex justify-center",children:d.jsx("div",{className:"flex gap-1.5",children:[0,.2,.4,.6].map((n,r)=>d.jsx(ye.div,{className:"w-1.5 h-1.5 bg-[#D4B679]/40 rounded-full",animate:{backgroundColor:["rgba(212, 182, 121, 0.4)","rgba(212, 182, 121, 1)","rgba(212, 182, 121, 0.4)"],scale:[.8,1.2,.8]},transition:{duration:1.2,repeat:1/0,delay:n,ease:"easeInOut"}},r))})})]})]})}const ZDe=Nhe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",farm:"bg-gradient-to-r from-accent-primary to-accent-blue text-primary-foreground hover:shadow-[var(--glow-primary)] transition-all duration-300 font-semibold animate-pulse-glow",danger:"bg-error text-foreground hover:bg-error/90 border border-error/30",success:"bg-success text-primary-foreground hover:bg-success/90",wallet:"bg-card border border-accent-primary/30 text-foreground hover:bg-accent-primary/10 hover:border-accent-primary/50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qt=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?nIe:"button";return d.jsx(o,{className:ua(ZDe({variant:e,size:n,className:t})),ref:s,...i})});qt.displayName="Button";const JDe="/assets/lighter-DCUR7OiV.png",XDe=()=>{const t=ur();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:si,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"LighterFarm"}),d.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-md w-[80%]  mb-6 font-extralight leading-relaxed",children:"The smartest way to farm, buy, and trade Lighter Points with zero hassle."}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"flex items-center gap-2 text-white flex-wrap mb-6",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"text-md text-golden-light font-medium",children:"Built on top of"}),d.jsx("img",{src:JDe,alt:"",className:"h-16 w-auto mb-1"}),d.jsx("span",{className:"text-md text-golden-light font-medium",children:"Protocol ecosystem"})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:d.jsx(qt,{onClick:()=>t("/onboarding/2"),className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Get Started"})})]})},eBe=()=>{const t=ur(),[e,n]=x.useState(0),r=[{title:"Stake USDL, earn Lighter Points",description:"Deposit your USDL and watch your Lighter Points grow automatically"},{title:"Trade instantly with zero hassle",description:"Buy and sell Lighter Points seamlessly with our intuitive interface"},{title:"Earn 10% from referrals",description:"Invite friends and earn 10% of their points forever"}];return x.useEffect(()=>{const i=setInterval(()=>{n(s=>(s+1)%r.length)},3e3);return()=>clearInterval(i)},[r.length]),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-between py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:si,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"LighterFarm"}),d.jsx("div",{className:"mb-8 min-h-[120px] flex flex-col justify-center",children:d.jsxs(ye.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeInOut"},children:[d.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},className:"text-xl font-semibold text-golden-light mb-0",children:r[e].title}),d.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-base text-golden-light/80 leading-relaxed",children:r[e].description})]},e)})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:d.jsx(qt,{onClick:()=>t("/onboarding/3"),className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Next"})}),d.jsx(ye.div,{className:"absolute top-8 left-1/2 transform -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:d.jsx("div",{className:"flex gap-1",children:r.map((i,s)=>d.jsx("div",{className:"h-1 bg-golden-light/20 rounded-full overflow-hidden",style:{width:"60px"},children:d.jsx(ye.div,{className:"h-full bg-golden-light rounded-full",initial:{width:"0%"},animate:{width:s===e?"100%":"0%"},transition:{duration:s===e?3:0,ease:"linear"}})},s))})})]})},tBe=()=>{const t=ur(),e=()=>{t("/wallet-connect")},n=()=>{t("/wallet-connect")};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-between py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:si,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-12",children:"LighterFarm"}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"flex items-center gap-3 text-golden-light mb-8",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center",children:d.jsx(nT,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xl font-semibold",children:"Stay Connected"})]}),d.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg text-golden-light/80 mb-12 leading-relaxed",children:"Get alpha, exclusive drops, and community support."}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex gap-4 mb-12",children:[d.jsx("a",{href:"https://x.com/LighterFarm",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-[#7D5A02] to-[#A07715] flex items-center justify-center hover:opacity-90 transition-opacity shadow-lg",children:d.jsx("svg",{className:"w-7 h-7 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),d.jsx("a",{href:"https://t.me/+sKmppf_5gNo5YzRl",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-[#7D5A02] to-[#A07715] flex items-center justify-center hover:opacity-90 transition-opacity shadow-lg",children:d.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})})})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-full max-w-md flex gap-4",children:[d.jsx(qt,{onClick:e,className:"flex-1 h-14 bg-transparent border-2 border-golden-light/30 text-golden-light hover:bg-golden-light/10 rounded-xl text-lg font-semibold transition-all",children:"Skip"}),d.jsx(qt,{onClick:n,className:"flex-1 h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Get Started"})]})]})},nk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1oSURBVHgB7V1rcFRXHT/7yGM3Dx5JkZBgAyGhJTUYiNCURgjt8GhpVSx0+qFjv+ooHXFGp36R+kU/6Ti1ok5VGJU6RSmDLVSqA0PHQigZoJQU5GFqIo+keWxCkt3s4/T3Y29aCPdu9nHu3ptwfzNn7t3s5t5zz//9P/9zrhAOHDhw4MCBgykBj3AgFixYkOfxeHzTpk3zNjQ0yPb29piwCC5xl0NK+bmhoaHnY7FYIz52er3ePT6f78i8efOGQJgQfyIcZAcgRjEIcQTHEFoUbRRtCH/rBJFeHh4efnDRokWFwmHcrMAdDAbXgQA3pD5GQZjAjRs33hoZGVnlEMZkVFZW5g8MDPxck4pEiIAwAyDM2+FweEVZWZlfOFCPhQsXFg0ODp7GgMdkcoiCMP34n+04LxOOQ6QULgzqvWh9MnVQoi6BME8tXbrUkRZF8MIufAMDOyzTRDQaHYThp7TMEA4yQ2Njow82YScGMywzQxDtTbRy4Rj89IEBnA570C6Ttx+JQKN/JhQK1eLcIUoacI2Ojn4Rgzcg1YGEvQyifCFTorjFXQbEEzkgSDNOc4Q6kAiVubm5e3C8T2SgvrzCfnCtWrXKg7SFFxznjkQi7pkzZ7pgRF085w/cbvfNdAY8nSjPkeqIJpvmwG+9UDGrhVqC3Ow3WhXa3yAlT7hcrssijbSLHXSei1yLHFLO6dOnfQi+qtCoj+/HwC3C8R483DQ0Hz7TzXTjnMY0ivOPcd6B4yX8/6tNTU0nW1tbw4luhv8rRfsA/zdLmPP8TEweQ3sS9+gRkwUgQi6DM0jBA/B4vgduP4gB79V0O91RDnpEJja8Ue03jA26cY2NkK5EUu9mGkQap0tUYTQQCGynNydsDldFRYUPSbtyEGErUhcfgAiDGgEiMjPEcL0zJLLRzZlmB9F+LOPENhV4riH057kJGMQ6oGP5MKaLQYhX0Nlu9HlEqnE7P0V/f//HyFFNN+oDE4Tg3H+rvq8R8Jxd0AAZGXnlIFciq1oFzvw1s6dy4mRe2s8PjjxXWlpqKCH4TRn60COzhwj69IYtUizoDPNFJZCIn+BIiTCLEGMI415/pEo06JKXNkaabz9uAxgAGnr4a5s2bbIuGUmpQCca0Z/3ZXzyJxsYwYBvATfqurNMt+P7X0rzGWM8QJPYeRxLhBXAjYuRdPsRU9UyS7pawwCYYLkw0NdgkmKoj7NZ7tMYRtC3LfQsRRZBFTULba/MghczHggcu6QxF7pox/CbgLQOF9CmTzSISlInMm4v5uP072iPo+WJ7CIGqWybPXt20OB7L/rXjKhedXSeCsrRxycmcoMzJgiJgci6HseD+NggrEnHRNCOFxUVRfS+RIDmRdrFjHRJKsiHGt/S1dWVL0yEi2ln3Oi/0hrdPIYh6OinjLhPxtPtHRb3UWpu/6yEAyoyIAYuXoX2BnI2NcLC4IdFCFBHdejH/8SdCT2m25fk5OQcwnmRsBAYq+vo4yK0XqPfpK2ycPEytNetJga7At3cU11d3Sd0sqtaut1qdUUwHtmJfg4l+lFa+h6EKEZ7GcSwQ1ogin4cB1F07QezyPCuHhHWEISZZ04TX4GX91JBQcHvLl68OJroH1KWEAZYoPS3MQjrhD3mU5iUPD5jxgxdgjClD2NfL7JXtsN+MFl6DUyyCzb2GYzVUkwNbMeR0qG0NJXp69XQ2emUz5iFQTDICqHPXG54gI9K89MldBZGGAwj+NyH/jyDzyVM45iaMuFNZDwdYqm3Mg6GASFTOMhv/VSal74JcfqABXe4zw/w+V4mEjNJuSf9jwz7Qflv+v3+amGfdDIzvBdqamp0A0LMcedgwFTPn1Ml0Q5cg7bYBxv1p+XLl5/n39ra2kZFlnDTxcXDXZP2QggE+RklQa/T+L5cm4XMFDTMrIrnrORfYBuexOdi2lOhmDmTkpCysjIWlr1YWFhoTcbSGBFw6HvQ1VF4L+O/88LdfQhSkm4ah8aXqi6EZ38Hcc6r8JIOQh0Nz58/P7R79+6osAiUjhq4jio4TSm0yHee0OFSLd3+G5l6ul25XUgFE94ED0bDuBXSYWmUqwOJfvUvWbKElR13uJLg6DzNfiQzkIwXqP+v0y6ACH+GXTgnsmwXkgGl4/PaHLidPCsiDPvxV4P1Gky312gSZATGL8O0i7jO70GIR3t6ekyxC6kgIfdAVL0wYE9Dd9px9VAEUtDCgPDq1avjv/Mi/ngkLy9v/ITQmF0YhUo65vF4duHZDsCDHERGeNRKu5AUWFID7jku7ScdxCC4eqXQCQhZD0XpkZ9Vt99hF+rq6gqMpnutRCKuZ2r9PmRJjyHkLxY2Awa1R8ucdul8NxOHM2jTcX4N8dNuPMeu+vp6lnembRdIwM7OzlxI1U3NAi9uFJ8ZAylLhxiqLPj2ubjf1zNwG82EBLdfRh+Hdb5z9/b2zoa6OgCX+DWo3GMw0CEtqZfqwLk4DgwwW1tb78Ek11oQeANaA5qAytsLZ+cFMEWfMBsU6UAg8E8ZL9e0G2gDXtIMsB486eaRtm3b5uZ1qa6h3haDoD+E+ntXcxDGV1iy0uW3CUqP1AE3m2nDyHwMw7Afz6qKDUg4DiquW8zkKaN/tA9lvM6YFZaJmJKFd8oCZiMbwlm2L0Hv/gvnhcJ+GERrgKq4INLU35pBzzl8+HABvLVGMN9jsA3rcE0OLr+jh5aMZ8m+rMb/tQoFtsRr0FkuilwOgtiyUBgcGcAAXBcpDgATpJywamlpmaXZg8dBhEZci6pvjAipgqHBA5DWUyBuRGQI3QFHgETdu0DYc4VVFANwAhne8EQ/pD3YsWNHLgw8157MARHWQxI25ufn14n44LNlOl/hwTVr4W3xOuYQBB0H07i4stSOBKFRfQ+crRvE0R4cPXo0t6OjIwfResPWrVs34M/rQZRyND6vCiLcCl7rfjCJkmvqEqS4uJgXLxf23K0gAlXaAjf2UwkZsweHDh3ywxVdAY5dj89rIQmlaKnYg3TA65aOLbfLFLoEgUF3y/j2EXZEEIN8Bjqb8YZPswdr0N8NiAkytQfpgIQo4jrI7u5ukSl0CQIOc2kPZrf8FdfvdYBhSvbv3/80CLHpFntAIljihIAZirgoVSiAPZdbGYPcWIvIuUXE+67aHqQFEMRPJhYKMNkIQuQI64vebgO0iVRFEENDBKoLB0kjiPhGyT6NugTRFuYHhYNkICEhg/39/Uo4WJcg0NG06pz1ccRkYjCfNUC1JRRAlyB9fX0xrZLc3jNo9oCERukyVWUhoiVBOkXczXSQGExrtBllDlKFLkH8fj+nbD8SDkGSAcfoQ9aGCQUwctVYVP0wgq43hT3T73bCYDgcXg27qyT9buT2xkCMNkhJxtnLqQ7EHyHk1qhNzDPqRG1tbRBTmP8RjqeVCFz9e2LOnDlDQhEMCYJ8URjGiitrbVW5ZzOMwrt6y2ixUDpIWAYEonDW8G3h2BFdMP6A/XgQXinLTs1VWSJeakM7cl040ANri9vr6uoYHihT6wknVZqamoJcJ4fTkHAwHiGo9FcwB6M0xTRhhpJFy3DpTuDmdqt+txTQHF0Yk3q0K0IhJpx2bG5u7oBoshzIcYE/QxiaY+/cuXOVVywmk8N388UmiEsOghsKhAPGHn2YrfwyjPlZoXqZcxK/icGWnOKyLuEkG4kI1PhrVVVVl4QJMVqys1x0gevgcx+xYyV8NsGNLZHdXYZx+EiYgGRLV+SaNWvOax7XhAVqUxgQjuCvqqurrwmTkNI8MDyLCrR3wB2V4u4D1dNJtDVm7lidUnHX5s2br8KWfBenynI3kwQkRi+i8m8l2lrJEnBD5DSXG09WcG5oGIz4gtEGBSqRVumKjK+H4P6K3AV0qr/ygrXE3KTtObSAMBlp1xLBuFUjgv8HOjlPTF1QQo7jGb+iLX8wHZkUd7H+l2+q2adVyk81kBiXuS8Y2kWRJWSibmIw8qfhCj+L86mWEaYRJzE2ol0SkwlcjwEj34yA6YqcGqARP4fGl8lMzpd8caUS1yTaYLvYTMB+h/EM78M+cvWYJcRQeVPui0IDvxNtmcje+gxV4PboB6CivqOl1KdGLQEeqhR2hXGKytfSmQlKRi9fu4Tj1Jyq5v5SAwMDX8UD8uWNdg4gKRUnMb3wsB33PVENDx62gu+L1XYxtdOOENyU5jqk4vs4TqcNFHcLuDMPiNKAhz/ALcGltYShtPZBev9Aw303SIUR+K7CQqiGh+Ai79EkhvtWZcMjG9tTtxtM8QtmGCbD6+yyBTc3tcEA8SVhL+J4CY2vzQtKtcRh/ol7lAwEAoF3wQjPo81NsFmNbWBZ4MNtLs6ePetHSnsh2mPRaHRtYWFhNVxOZlS5kNOtNU+CfsZuaZxevrnNN4h9CrN6hzHD+fqyZcs6Mf8dttveiUawQyTqRlo7B5yc09XV5YNKYYS8GINYyRwZziugbir4dhx5+7rHINewoP1faxf8fn9Lf39/+8qVK8OQiEiae2RZCjumBtwwth4QyA3i8MXErHrxjF/lynWQXHrn8/liPT09sZKSkmhrayslxCkOd+DAgQMHDhxYj08AfirQRGsl1YgAAAAASUVORK5CYII=",nBe="modulepreload",rBe=function(t){return"/"+t},DJ={},Mh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=rBe(l),l in DJ)return;DJ[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":nBe,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function iBe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function sBe(){const t=new Set;let e=[];const n=()=>iBe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var At={},wB={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",h="major",f="model",p="name",m="type",g="vendor",y="version",w="architecture",v="console",b="mobile",A="tablet",E="smarttv",$="wearable",N="embedded",R=500,M="Amazon",F="Apple",W="ASUS",V="BlackBerry",B="Browser",k="Chrome",C="Edge",S="Firefox",T="Google",_="Honor",P="Huawei",D="Lenovo",j="LG",I="Microsoft",L="Motorola",J="Nvidia",O="OnePlus",G="Opera",Z="OPPO",Q="Samsung",ie="Sharp",de="Sony",oe="Xiaomi",he="Zebra",we="Facebook",fe="Chromium OS",ke="Mac OS",be=" Browser",Ue=function(ne,se){var ce={};for(var Le in ne)se[Le]&&se[Le].length%2===0?ce[Le]=se[Le].concat(ne[Le]):ce[Le]=ne[Le];return ce},Me=function(ne){for(var se={},ce=0;ce<ne.length;ce++)se[ne[ce].toUpperCase()]=ne[ce];return se},Se=function(ne,se){return typeof ne===u?xe(se).indexOf(xe(ne))!==-1:!1},xe=function(ne){return ne.toLowerCase()},Ne=function(ne){return typeof ne===u?ne.replace(/[^\d\.]/g,s).split(".")[0]:r},Be=function(ne,se){if(typeof ne===u)return ne=ne.replace(/^\s\s*/,s),typeof se===l?ne:ne.substring(0,R)},Ce=function(ne,se){for(var ce=0,Le,Xe,Ye,et,Re,Tt;ce<se.length&&!Re;){var dn=se[ce],Bt=se[ce+1];for(Le=Xe=0;Le<dn.length&&!Re&&dn[Le];)if(Re=dn[Le++].exec(ne),Re)for(Ye=0;Ye<Bt.length;Ye++)Tt=Re[++Xe],et=Bt[Ye],typeof et===c&&et.length>0?et.length===2?typeof et[1]==a?this[et[0]]=et[1].call(this,Tt):this[et[0]]=et[1]:et.length===3?typeof et[1]===a&&!(et[1].exec&&et[1].test)?this[et[0]]=Tt?et[1].call(this,Tt,et[2]):r:this[et[0]]=Tt?Tt.replace(et[1],et[2]):r:et.length===4&&(this[et[0]]=Tt?et[3].call(this,Tt.replace(et[1],et[2])):r):this[et]=Tt||r;ce+=2}},De=function(ne,se){for(var ce in se)if(typeof se[ce]===c&&se[ce].length>0){for(var Le=0;Le<se[ce].length;Le++)if(Se(se[ce][Le],ne))return ce===o?r:ce}else if(Se(se[ce],ne))return ce===o?r:ce;return se.hasOwnProperty("*")?se["*"]:ne},Ve={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},rt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,G+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+B],y],[/\bfocus\/([\w\.]+)/i],[y,[p,S+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI"+be]],[/fxios\/([\w\.-]+)/i],[y,[p,S]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+be],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,Q+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,we],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,k+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,De,Ve]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,S+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[w,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[w,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[w,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[w,/ower/,s,xe]],[/ sun4\w[;\)]/i],[[w,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[w,xe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,Q],[m,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,Q],[m,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,F],[m,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,F],[m,A]],[/(macintosh);/i],[f,[g,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,ie],[m,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[g,_],[m,A]],[/honor([-\w ]+)[;\)]/i],[f,[g,_],[m,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[g,P],[m,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,P],[m,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[g,oe],[m,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[g,oe],[m,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,Z],[m,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[g,De,{OnePlus:["304","403","203"],"*":Z}],[m,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,L],[m,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,L],[m,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,j],[m,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,j],[m,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[g,D],[m,A]],[/(nokia) (t[12][01])/i],[g,f,[m,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,b],[g,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[g,T],[m,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,T],[m,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,de],[m,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,de],[m,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,O],[m,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,M],[m,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,M],[m,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,V],[m,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,W],[m,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,W],[m,b]],[/(nexus 9)/i],[f,[g,"HTC"],[m,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,A]],[/(itel) ((\w+))/i],[[g,xe],f,[m,De,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[g,"Energizer"],[m,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[g,"Cat"],[m,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[g,"Smartfren"],[m,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[g,"Archos"],[m,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[g,"Archos"],[m,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[g,f,[m,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,A]],[/(surface duo)/i],[f,[g,I],[m,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,b]],[/(u304aa)/i],[f,[g,"AT&T"],[m,b]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,b]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,A]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,A]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,A]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,A]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,A]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,b]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,b]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,A]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,A]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,b]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,A]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,A]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[g,J],[m,A]],[/(sprint) (\w+)/i],[g,f,[m,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,I],[m,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,he],[m,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,he],[m,b]],[/smart-tv.+(samsung)/i],[g,[m,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,Q],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,j],[m,E]],[/(apple) ?tv/i],[g,[f,F+" TV"],[m,E]],[/crkey/i],[[f,k+"cast"],[g,T],[m,E]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,M],[m,E]],[/(shield \w+ tv)/i],[f,[g,J],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,ie],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,de],[m,E]],[/(mi(tv|box)-?\w+) bui/i],[f,[g,oe],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Be],[f,Be],[m,E]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,v]],[/droid.+; (shield)( bui|\))/i],[f,[g,J],[m,v]],[/(playstation \w+)/i],[f,[g,de],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,I],[m,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[g,Q],[m,$]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[g,f,[m,$]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[g,Z],[m,$]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,F],[m,$]],[/(opwwe\d{3})/i],[f,[g,O],[m,$]],[/(moto 360)/i],[f,[g,L],[m,$]],[/(smartwatch 3)/i],[f,[g,de],[m,$]],[/(g watch r)/i],[f,[g,j],[m,$]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,he],[m,$]],[/droid.+; (glass) \d/i],[f,[g,T],[m,$]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,f,[m,$]],[/; (quest( \d| pro)?)/i],[f,[g,we],[m,$]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,N]],[/(aeobc)\b/i],[f,[g,M],[m,N]],[/(homepod).+mac os/i],[f,[g,F],[m,N]],[/windows iot/i],[[m,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,C+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[y,De,rt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,De,rt],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,ke],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,y],[/\(bb(10);/i],[y,[p,V]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,S+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,fe],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},U=function(ne,se){if(typeof ne===c&&(se=ne,ne=r),!(this instanceof U))return new U(ne,se).getResult();var ce=typeof n!==l&&n.navigator?n.navigator:r,Le=ne||(ce&&ce.userAgent?ce.userAgent:s),Xe=ce&&ce.userAgentData?ce.userAgentData:r,Ye=se?Ue(K,se):K,et=ce&&ce.userAgent==Le;return this.getBrowser=function(){var Re={};return Re[p]=r,Re[y]=r,Ce.call(Re,Le,Ye.browser),Re[h]=Ne(Re[y]),et&&ce&&ce.brave&&typeof ce.brave.isBrave==a&&(Re[p]="Brave"),Re},this.getCPU=function(){var Re={};return Re[w]=r,Ce.call(Re,Le,Ye.cpu),Re},this.getDevice=function(){var Re={};return Re[g]=r,Re[f]=r,Re[m]=r,Ce.call(Re,Le,Ye.device),et&&!Re[m]&&Xe&&Xe.mobile&&(Re[m]=b),et&&Re[f]=="Macintosh"&&ce&&typeof ce.standalone!==l&&ce.maxTouchPoints&&ce.maxTouchPoints>2&&(Re[f]="iPad",Re[m]=A),Re},this.getEngine=function(){var Re={};return Re[p]=r,Re[y]=r,Ce.call(Re,Le,Ye.engine),Re},this.getOS=function(){var Re={};return Re[p]=r,Re[y]=r,Ce.call(Re,Le,Ye.os),et&&!Re[p]&&Xe&&Xe.platform&&Xe.platform!="Unknown"&&(Re[p]=Xe.platform.replace(/chrome os/i,fe).replace(/macos/i,ke)),Re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(Re){return Le=typeof Re===u&&Re.length>R?Be(Re,R):Re,this},this.setUA(Le),this};U.VERSION=i,U.BROWSER=Me([p,y,h]),U.CPU=Me([w]),U.DEVICE=Me([f,g,m,v,b,E,A,$,N]),U.ENGINE=U.OS=Me([p,y]),t.exports&&(e=t.exports=U),e.UAParser=U;var z=typeof n!==l&&(n.jQuery||n.Zepto);if(z&&!z.ua){var ee=new U;z.ua=ee.getResult(),z.ua.get=function(){return ee.getUA()},z.ua.set=function(ne){ee.setUA(ne);var se=ee.getResult();for(var ce in se)z.ua[ce]=se[ce]}}})(typeof window=="object"?window:ql)})(wB,wB.exports);var oBe=wB.exports;Object.defineProperty(At,"__esModule",{value:!0});function aBe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Po=x,Ir=aBe(Po),A0e=oBe,Tg=new A0e,Bo=Tg.getBrowser(),lBe=Tg.getCPU(),ic=Tg.getDevice(),zH=Tg.getEngine(),$g=Tg.getOS(),SA=Tg.getUA(),C0e=function(e){return Tg.setUA(e)},_A=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new A0e(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},k0e=Object.freeze({ClientUAInstance:Tg,browser:Bo,cpu:lBe,device:ic,engine:zH,os:$g,ua:SA,setUa:C0e,parseUserAgent:_A});function BJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cBe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BJ(Object(n),!0).forEach(function(r){fBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t4=function(e){return typeof e}:t4=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t4(t)}function uBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hBe(t,e,n){return e&&dBe(t.prototype,e),t}function fBe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bB(){return bB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bB.apply(this,arguments)}function pBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xB(t,e)}function vB(t){return vB=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vB(t)}function xB(t,e){return xB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xB(t,e)}function mBe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ou(t,e){if(t==null)return{};var n=mBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gBe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M9(t)}function yBe(t,e){return wBe(t)||bBe(t,e)||vBe(t,e)||xBe()}function wBe(t){if(Array.isArray(t))return t}function bBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function vBe(t,e){if(t){if(typeof t=="string")return LJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LJ(t,e)}}function LJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Eo={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},tl={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},I3={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},EBe={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},ABe=function(e){switch(e){case Eo.Mobile:return{isMobile:!0};case Eo.Tablet:return{isTablet:!0};case Eo.SmartTv:return{isSmartTV:!0};case Eo.Console:return{isConsole:!0};case Eo.Wearable:return{isWearable:!0};case Eo.Browser:return{isBrowser:!0};case Eo.Embedded:return{isEmbedded:!0};default:return EBe}},CBe=function(e){return C0e(e)},Kt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},WH=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},HH=function(e){var n=WH();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},kBe=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:Kt(n.major),browserFullVersion:Kt(n.version),browserName:Kt(n.name),engineName:Kt(r.name),engineVersion:Kt(r.version),osName:Kt(i.name),osVersion:Kt(i.version),userAgent:Kt(s)}},FJ=function(e,n,r,i){return cBe({},e,{vendor:Kt(n.vendor),model:Kt(n.model),os:Kt(r.name),osVersion:Kt(r.version),ua:Kt(i)})},SBe=function(e,n,r,i){return{isSmartTV:e,engineName:Kt(n.name),engineVersion:Kt(n.version),osName:Kt(r.name),osVersion:Kt(r.version),userAgent:Kt(i)}},_Be=function(e,n,r,i){return{isConsole:e,engineName:Kt(n.name),engineVersion:Kt(n.version),osName:Kt(r.name),osVersion:Kt(r.version),userAgent:Kt(i)}},IBe=function(e,n,r,i){return{isWearable:e,engineName:Kt(n.name),engineVersion:Kt(n.version),osName:Kt(r.name),osVersion:Kt(r.version),userAgent:Kt(i)}},TBe=function(e,n,r,i,s){return{isEmbedded:e,vendor:Kt(n.vendor),model:Kt(n.model),engineName:Kt(r.name),engineVersion:Kt(r.version),osName:Kt(i.name),osVersion:Kt(i.version),userAgent:Kt(s)}};function $Be(t){var e=t?_A(t):k0e,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=ABe(n.type),l=a.isBrowser,c=a.isMobile,u=a.isTablet,h=a.isSmartTV,f=a.isConsole,p=a.isWearable,m=a.isEmbedded;if(l)return kBe(l,r,i,s,o);if(h)return SBe(h,i,s,o);if(f)return _Be(f,i,s,o);if(c||u)return FJ(a,n,s,o);if(p)return IBe(p,i,s,o);if(m)return TBe(m,n,i,s,o)}var S0e=function(e){var n=e.type;return n===Eo.Mobile},_0e=function(e){var n=e.type;return n===Eo.Tablet},I0e=function(e){var n=e.type;return n===Eo.Mobile||n===Eo.Tablet},T0e=function(e){var n=e.type;return n===Eo.SmartTv},E_=function(e){var n=e.type;return n===Eo.Browser},$0e=function(e){var n=e.type;return n===Eo.Wearable},N0e=function(e){var n=e.type;return n===Eo.Console},P0e=function(e){var n=e.type;return n===Eo.Embedded},R0e=function(e){var n=e.vendor;return Kt(n)},j0e=function(e){var n=e.model;return Kt(n)},O0e=function(e){var n=e.type;return Kt(n,"browser")},M0e=function(e){var n=e.name;return n===I3.Android},D0e=function(e){var n=e.name;return n===I3.Windows},B0e=function(e){var n=e.name;return n===I3.MAC_OS},L0e=function(e){var n=e.name;return n===I3.WindowsPhone},F0e=function(e){var n=e.name;return n===I3.IOS},U0e=function(e){var n=e.version;return Kt(n)},z0e=function(e){var n=e.name;return Kt(n)},W0e=function(e){var n=e.name;return n===tl.Chrome},H0e=function(e){var n=e.name;return n===tl.Firefox},V0e=function(e){var n=e.name;return n===tl.Chromium},A_=function(e){var n=e.name;return n===tl.Edge},q0e=function(e){var n=e.name;return n===tl.Yandex},G0e=function(e){var n=e.name;return n===tl.Safari||n===tl.MobileSafari},K0e=function(e){var n=e.name;return n===tl.MobileSafari},Y0e=function(e){var n=e.name;return n===tl.Opera},Q0e=function(e){var n=e.name;return n===tl.InternetExplorer||n===tl.Ie},Z0e=function(e){var n=e.name;return n===tl.MIUI},J0e=function(e){var n=e.name;return n===tl.SamsungBrowser},X0e=function(e){var n=e.version;return Kt(n)},eme=function(e){var n=e.major;return Kt(n)},tme=function(e){var n=e.name;return Kt(n)},nme=function(e){var n=e.name;return Kt(n)},rme=function(e){var n=e.version;return Kt(n)},ime=function(){var e=WH(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},qv=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},sme=function(){var e=WH();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Eh=function(){return HH("iPad")},ome=function(){return HH("iPhone")},ame=function(){return HH("iPod")},lme=function(e){return Kt(e)};function cme(t){var e=t||k0e,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:T0e(n),isConsole:N0e(n),isWearable:$0e(n),isEmbedded:P0e(n),isMobileSafari:K0e(r)||Eh(),isChromium:V0e(r),isMobile:I0e(n)||Eh(),isMobileOnly:S0e(n),isTablet:_0e(n)||Eh(),isBrowser:E_(n),isDesktop:E_(n),isAndroid:M0e(i),isWinPhone:L0e(i),isIOS:F0e(i)||Eh(),isChrome:W0e(r),isFirefox:H0e(r),isSafari:G0e(r),isOpera:Y0e(r),isIE:Q0e(r),osVersion:U0e(i),osName:z0e(i),fullBrowserVersion:X0e(r),browserVersion:eme(r),browserName:tme(r),mobileVendor:R0e(n),mobileModel:j0e(n),engineName:nme(s),engineVersion:rme(s),getUA:lme(o),isEdge:A_(r)||qv(o),isYandex:q0e(r),deviceType:O0e(n),isIOS13:sme(),isIPad13:Eh(),isIPhone13:ome(),isIPod13:ame(),isElectron:ime(),isEdgeChromium:qv(o),isLegacyEdge:A_(r)&&!qv(o),isWindows:D0e(i),isMacOs:B0e(i),isMIUI:Z0e(r),isSamsungBrowser:J0e(r)}}var ume=T0e(ic),dme=N0e(ic),hme=$0e(ic),NBe=P0e(ic),PBe=K0e(Bo)||Eh(),RBe=V0e(Bo),yT=I0e(ic)||Eh(),fme=S0e(ic),pme=_0e(ic)||Eh(),mme=E_(ic),jBe=E_(ic),gme=M0e($g),yme=L0e($g),wme=F0e($g)||Eh(),OBe=W0e(Bo),MBe=H0e(Bo),DBe=G0e(Bo),BBe=Y0e(Bo),bme=Q0e(Bo),LBe=U0e($g),FBe=z0e($g),UBe=X0e(Bo),zBe=eme(Bo),WBe=tme(Bo),HBe=R0e(ic),VBe=j0e(ic),qBe=nme(zH),GBe=rme(zH),KBe=lme(SA),YBe=A_(Bo)||qv(SA),QBe=q0e(Bo),ZBe=O0e(ic),JBe=sme(),XBe=Eh(),eLe=ome(),tLe=ame(),nLe=ime(),rLe=qv(SA),iLe=A_(Bo)&&!qv(SA),sLe=D0e($g),oLe=B0e($g),aLe=Z0e(Bo),lLe=J0e(Bo),cLe=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=_A(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return cme({device:r,browser:i,os:s,engine:o,ua:a})},uLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return gme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},dLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return mme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},hLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return bme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},fLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return wme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},pLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return yT?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},mLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return pme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},gLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return yme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},yLe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=ou(e,["renderWithFragment","children","viewClassName","style"]);return fme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},wLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return ume?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},bLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return dme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},vLe=function(e){var n=e.renderWithFragment,r=e.children,i=ou(e,["renderWithFragment","children"]);return hme?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",i,r):null},xLe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=ou(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Ir.createElement(Po.Fragment,null,r):Ir.createElement("div",s,r):null};function ELe(t){return function(e){pBe(n,e);function n(r){var i;return uBe(this,n),i=gBe(this,vB(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(M9(i)),i.onOrientationChange=i.onOrientationChange.bind(M9(i)),i.onPageLoad=i.onPageLoad.bind(M9(i)),i.state={isLandscape:!1,isPortrait:!1},i}return hBe(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":t4(window))!==void 0&&yT&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Ir.createElement(t,bB({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Ir.Component)}function ALe(){var t=Po.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=yBe(t,2),n=e[0],r=e[1],i=Po.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return Po.useEffect(function(){return(typeof window>"u"?"undefined":t4(window))!==void 0&&yT&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function vme(t){var e=t||window.navigator.userAgent;return _A(e)}function CLe(t){var e=t||window.navigator.userAgent,n=vme(e),r=cme(n);return[r,n]}At.AndroidView=uLe;At.BrowserTypes=tl;At.BrowserView=dLe;At.ConsoleView=bLe;At.CustomView=xLe;At.IEView=hLe;At.IOSView=fLe;At.MobileOnlyView=yLe;At.MobileView=pLe;At.OsTypes=I3;At.SmartTVView=wLe;At.TabletView=mLe;At.WearableView=vLe;At.WinPhoneView=gLe;At.browserName=WBe;At.browserVersion=zBe;At.deviceDetect=$Be;At.deviceType=ZBe;At.engineName=qBe;At.engineVersion=GBe;At.fullBrowserVersion=UBe;At.getSelectorsByUserAgent=cLe;At.getUA=KBe;var kLe=At.isAndroid=gme;At.isBrowser=mme;At.isChrome=OBe;At.isChromium=RBe;At.isConsole=dme;At.isDesktop=jBe;At.isEdge=YBe;At.isEdgeChromium=rLe;At.isElectron=nLe;At.isEmbedded=NBe;var UJ=At.isFirefox=MBe;At.isIE=bme;var VH=At.isIOS=wme;At.isIOS13=JBe;At.isIPad13=XBe;At.isIPhone13=eLe;At.isIPod13=tLe;At.isLegacyEdge=iLe;At.isMIUI=aLe;At.isMacOs=oLe;var Cr=At.isMobile=yT;At.isMobileOnly=fme;At.isMobileSafari=PBe;At.isOpera=BBe;var SLe=At.isSafari=DBe;At.isSamsungBrowser=lLe;At.isSmartTV=ume;At.isTablet=pme;At.isWearable=hme;At.isWinPhone=yme;At.isWindows=sLe;At.isYandex=QBe;At.mobileModel=VBe;At.mobileVendor=HBe;At.osName=FBe;At.osVersion=LBe;At.parseUserAgent=_A;At.setUserAgent=CBe;At.useDeviceData=vme;At.useDeviceSelectors=CLe;At.useMobileOrientation=ALe;At.withOrientationChange=ELe;const _Le="1.1.0";let sl=class EB extends Error{constructor(e,n={}){var o;const r=n.cause instanceof EB?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof EB&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${_Le}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function s0(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const xme=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Eme=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ame=/^\(.+?\).*?$/,zJ=/^tuple(?<array>(\[(\d*)\])*)$/;function AB(t){let e=t.type;if(zJ.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=AB(s),i<n-1&&(e+=", ")}const r=s0(zJ,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,AB({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Wb(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=AB(i),r!==n-1&&(e+=", ")}return e}function C_(t){var e;return t.type==="function"?`function ${t.name}(${Wb(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Wb(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Wb(t.inputs)})`:t.type==="error"?`error ${t.name}(${Wb(t.inputs)})`:t.type==="constructor"?`constructor(${Wb(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Cme=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ILe(t){return Cme.test(t)}function TLe(t){return s0(Cme,t)}const kme=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $Le(t){return kme.test(t)}function NLe(t){return s0(kme,t)}const Sme=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function PLe(t){return Sme.test(t)}function RLe(t){return s0(Sme,t)}const _me=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function wT(t){return _me.test(t)}function jLe(t){return s0(_me,t)}const Ime=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function OLe(t){return Ime.test(t)}function MLe(t){return s0(Ime,t)}const Tme=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function DLe(t){return Tme.test(t)}function BLe(t){return s0(Tme,t)}const LLe=/^receive\(\) external payable$/;function FLe(t){return LLe.test(t)}const WJ=new Set(["memory","indexed","storage","calldata"]),ULe=new Set(["indexed"]),CB=new Set(["calldata","memory","storage"]);class zLe extends sl{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class WLe extends sl{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class HLe extends sl{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class VLe extends sl{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class qLe extends sl{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class GLe extends sl{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class KLe extends sl{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class YLe extends sl{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class QLe extends sl{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class T3 extends sl{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ZLe extends sl{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class JLe extends sl{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class XLe extends sl{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class eFe extends sl{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function tFe(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const yR=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function kB(t,e={}){if(PLe(t))return nFe(t,e);if($Le(t))return rFe(t,e);if(ILe(t))return iFe(t,e);if(OLe(t))return sFe(t,e);if(DLe(t))return oFe(t);if(FLe(t))return{type:"receive",stateMutability:"payable"};throw new ZLe({signature:t})}function nFe(t,e={}){const n=RLe(t);if(!n)throw new T3({signature:t,type:"function"});const r=Ll(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Lp(r[a],{modifiers:CB,structs:e,type:"function"}));const o=[];if(n.returns){const a=Ll(n.returns),l=a.length;for(let c=0;c<l;c++)o.push(Lp(a[c],{modifiers:CB,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function rFe(t,e={}){const n=NLe(t);if(!n)throw new T3({signature:t,type:"event"});const r=Ll(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Lp(r[o],{modifiers:ULe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function iFe(t,e={}){const n=TLe(t);if(!n)throw new T3({signature:t,type:"error"});const r=Ll(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Lp(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function sFe(t,e={}){const n=MLe(t);if(!n)throw new T3({signature:t,type:"constructor"});const r=Ll(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Lp(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function oFe(t){const e=BLe(t);if(!e)throw new T3({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const aFe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lFe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,cFe=/^u?int$/;function Lp(t,e){var h,f;const n=tFe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(yR.has(n))return yR.get(n);const r=Ame.test(t),i=s0(r?lFe:aFe,t);if(!i)throw new qLe({param:t});if(i.name&&dFe(i.name))throw new GLe({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(r){l="tuple";const p=Ll(i.type),m=[],g=p.length;for(let y=0;y<g;y++)m.push(Lp(p[y],{structs:a}));c={components:m}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(cFe.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!$me(l))throw new HLe({type:l});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new KLe({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(CB.has(i.modifier)&&!hFe(l,!!i.array))throw new YLe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return yR.set(n,u),u}function Ll(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Ll(a,[...e,n.trim()]):Ll(a,e,`${n}${o}`,r);case"(":return Ll(a,e,`${n}${o}`,r+1);case")":return Ll(a,e,`${n}${o}`,r-1);default:return Ll(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new eFe({current:n,depth:r});return e.push(n.trim()),e}function $me(t){return t==="address"||t==="bool"||t==="function"||t==="string"||xme.test(t)||Eme.test(t)}const uFe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function dFe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||xme.test(t)||Eme.test(t)||uFe.test(t)}function hFe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function qH(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!wT(a))continue;const l=jLe(a);if(!l)throw new T3({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const m=c[f].trim();if(!m)continue;const g=Lp(m,{type:"struct"});u.push(g)}if(!u.length)throw new JLe({signature:a});e[l.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];r[a]=Nme(l,e)}return r}const fFe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Nme(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Ame.test(o.type))r.push(o);else{const l=s0(fFe,o.type);if(!(l!=null&&l.type))throw new QLe({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new XLe({type:u});r.push({...o,type:`tuple${c??""}`,components:Nme(e[u]??[],e,new Set([...n,u]))})}else if($me(u))r.push(o);else throw new WLe({type:u})}}return r}function Pme(t){const e=qH(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];wT(s)||n.push(kB(s,e))}return n}function HJ(t){let e;if(typeof t=="string")e=kB(t);else{const n=qH(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!wT(s)){e=kB(s,n);break}}}if(!e)throw new zLe({signature:t});return e}function VJ(t){const e=[];if(typeof t=="string"){const n=Ll(t),r=n.length;for(let i=0;i<r;i++)e.push(Lp(n[i],{modifiers:WJ}))}else{const n=qH(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(wT(s))continue;const o=Ll(s),a=o.length;for(let l=0;l<a;l++)e.push(Lp(o[l],{modifiers:WJ,structs:n}))}}if(e.length===0)throw new VLe({params:t});return e}function Oi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Rme="2.37.12";let _5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Rme}`},ze=class SB extends Error{constructor(e,n={}){var a;const r=(()=>{var l;return n.cause instanceof SB?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof SB&&n.cause.docsPath||n.docsPath,s=(a=_5.getDocsUrl)==null?void 0:a.call(_5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],..._5.version?[`Version: ${_5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Rme}walk(e){return jme(this,e)}};function jme(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jme(t.cause,e):e?null:t}let mg=class extends ze{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Ro(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let Ome=class extends ze{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Mme=class extends ze{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class qJ extends ze{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function $3(t,{dir:e,size:n=32}={}){return typeof t=="string"?tg(t,{dir:e,size:n}):pFe(t,{dir:e,size:n})}function tg(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Mme({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function pFe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Mme({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let Dme=class extends ze{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},mFe=class extends ze{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class gFe extends ze{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let yFe=class extends ze{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function pi(t){return Ro(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Ep(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function au(t,{size:e}){if(pi(t)>e)throw new yFe({givenSize:pi(t),maxSize:e})}function Zl(t,e={}){const{signed:n}=e;e.size&&au(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function wFe(t,e={}){let n=t;if(e.size&&(au(n,{size:e.size}),n=Ep(n)),Ep(n)==="0x00")return!1;if(Ep(n)==="0x01")return!0;throw new gFe(n)}function pd(t,e={}){return Number(Zl(t,e))}function bFe(t,e={}){let n=md(t);return e.size&&(au(n,{size:e.size}),n=Ep(n,{dir:"right"})),new TextDecoder().decode(n)}const vFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _i(t,e={}){return typeof t=="number"||typeof t=="bigint"?$t(t,e):typeof t=="string"?Cx(t,e):typeof t=="boolean"?Bme(t,e):os(t,e)}function Bme(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(au(n,{size:e.size}),$3(n,{size:e.size})):n}function os(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=vFe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(au(r,{size:e.size}),$3(r,{dir:"right",size:e.size})):r}function $t(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new Dme({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?$3(a,{size:r}):a}const xFe=new TextEncoder;function Cx(t,e={}){const n=xFe.encode(t);return os(n,e)}const EFe=new TextEncoder;function N3(t,e={}){return typeof t=="number"||typeof t=="bigint"?CFe(t,e):typeof t=="boolean"?AFe(t,e):Ro(t)?md(t,e):x1(t,e)}function AFe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(au(n,{size:e.size}),$3(n,{size:e.size})):n}const yf={zero:48,nine:57,A:65,F:70,a:97,f:102};function GJ(t){if(t>=yf.zero&&t<=yf.nine)return t-yf.zero;if(t>=yf.A&&t<=yf.F)return t-(yf.A-10);if(t>=yf.a&&t<=yf.f)return t-(yf.a-10)}function md(t,e={}){let n=t;e.size&&(au(n,{size:e.size}),n=$3(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=GJ(r.charCodeAt(a++)),c=GJ(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new ze(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function CFe(t,e){const n=$t(t,e);return md(n)}function x1(t,e={}){const n=EFe.encode(t);return typeof e.size=="number"?(au(n,{size:e.size}),$3(n,{dir:"right",size:e.size})):n}const rk=BigInt(2**32-1),KJ=BigInt(32);function kFe(t,e=!1){return e?{h:Number(t&rk),l:Number(t>>KJ&rk)}:{h:Number(t>>KJ&rk)|0,l:Number(t&rk)|0}}function SFe(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=kFe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const _Fe=(t,e,n)=>t<<n|e>>>32-n,IFe=(t,e,n)=>e<<n|t>>>32-n,TFe=(t,e,n)=>e<<n-32|t>>>64-n,$Fe=(t,e,n)=>t<<n-32|e>>>64-n,ib=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NFe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function z1(t,...e){if(!NFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function PFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sE(t.outputLen),sE(t.blockLen)}function kx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Lme(t,e){z1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function RFe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Sx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function wR(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Dd(t,e){return t<<32-e|t>>>e}const jFe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function OFe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function MFe(t){for(let e=0;e<t.length;e++)t[e]=OFe(t[e]);return t}const YJ=jFe?t=>t:MFe;function DFe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function bT(t){return typeof t=="string"&&(t=DFe(t)),z1(t),t}function BFe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];z1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let GH=class{};function Fme(t){const e=r=>t().update(bT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function LFe(t=32){if(ib&&typeof ib.getRandomValues=="function")return ib.getRandomValues(new Uint8Array(t));if(ib&&typeof ib.randomBytes=="function")return Uint8Array.from(ib.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const FFe=BigInt(0),I5=BigInt(1),UFe=BigInt(2),zFe=BigInt(7),WFe=BigInt(256),HFe=BigInt(113),Ume=[],zme=[],Wme=[];for(let t=0,e=I5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ume.push(2*(5*r+n)),zme.push((t+1)*(t+2)/2%64);let i=FFe;for(let s=0;s<7;s++)e=(e<<I5^(e>>zFe)*HFe)%WFe,e&UFe&&(i^=I5<<(I5<<BigInt(s))-I5);Wme.push(i)}const Hme=SFe(Wme,!0),VFe=Hme[0],qFe=Hme[1],QJ=(t,e,n)=>n>32?TFe(t,e,n):_Fe(t,e,n),ZJ=(t,e,n)=>n>32?$Fe(t,e,n):IFe(t,e,n);function GFe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=QJ(c,u,1)^n[a],f=ZJ(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=zme[o],l=QJ(i,s,a),c=ZJ(i,s,a),u=Ume[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=VFe[r],t[1]^=qFe[r]}Sx(n)}let KFe=class Vme extends GH{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,sE(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=RFe(this.state)}clone(){return this._cloneInto()}keccak(){YJ(this.state32),GFe(this.state32,this.rounds),YJ(this.state32),this.posOut=0,this.pos=0}update(e){kx(this),e=bT(e),z1(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){kx(this,!1),z1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Lme(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Sx(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Vme(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const YFe=(t,e,n)=>Fme(()=>new KFe(e,t,n)),qme=YFe(1,136,256/8);function Ws(t,e){const n=e||"hex",r=qme(Ro(t,{strict:!1})?N3(t):t);return n==="bytes"?r:_i(r)}let vT=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const QFe=/^0x[a-fA-F0-9]{40}$/,bR=new vT(8192);function nl(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(bR.has(r))return bR.get(r);const i=QFe.test(t)?t.toLowerCase()===t?!0:n?IA(t)===t:!0:!1;return bR.set(r,i),i}const vR=new vT(8192);function IA(t,e){if(vR.has(`${t}.${e}`))return vR.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Ws(x1(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return vR.set(`${t}.${e}`,s),s}function Bi(t,e){if(!nl(t,{strict:!1}))throw new mg({address:t});return IA(t,e)}function ZFe(t){const e=Ws(`0x${t.substring(4)}`).substring(26);return IA(`0x${e}`)}function gd(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new uUe(t.type);return`${t.name}(${xT(t.inputs,{includeName:e})})`}function xT(t,{includeName:e=!1}={}){return t?t.map(n=>JFe(n,{includeName:e})).join(e?", ":","):""}function JFe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${xT(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class XFe extends ze{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class JJ extends ze{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Gme extends ze{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${xT(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class TA extends ze{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class eUe extends ze{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class tUe extends ze{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${pi(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class nUe extends ze{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class rUe extends ze{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class XJ extends ze{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Kme extends ze{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class iUe extends ze{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Yme extends ze{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class eX extends ze{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class _x extends ze{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Qme extends ze{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class sUe extends ze{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class oUe extends ze{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${gd(e.abiItem)}\`, and`,`\`${n.type}\` in \`${gd(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let aUe=class extends ze{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class oE extends ze{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${xT(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class ET extends ze{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${gd(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class lUe extends ze{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class cUe extends ze{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Zme=class extends ze{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class uUe extends ze{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class MKt extends ze{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let tX=class extends ze{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Jme=class extends ze{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},dUe=class extends ze{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const hUe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new dUe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Jme({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new tX({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new tX({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function KH(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(hUe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Ix(t,e,n,{strict:r}={}){return Ro(t,{strict:!1})?_B(t,e,n,{strict:r}):tge(t,e,n,{strict:r})}function Xme(t,e){if(typeof e=="number"&&e>0&&e>pi(t)-1)throw new Ome({offset:e,position:"start",size:pi(t)})}function ege(t,e,n){if(typeof e=="number"&&typeof n=="number"&&pi(t)!==n-e)throw new Ome({offset:n,position:"end",size:pi(t)})}function tge(t,e,n,{strict:r}={}){Xme(t,e);const i=t.slice(e,n);return r&&ege(i,e,n),i}function _B(t,e,n,{strict:r}={}){Xme(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&ege(i,e,n),i}function fUe(t,e={}){typeof e.size<"u"&&au(t,{size:e.size});const n=os(t,e);return Zl(n,e)}function pUe(t,e={}){let n=t;if(typeof e.size<"u"&&(au(n,{size:e.size}),n=Ep(n)),n.length>1||n[0]>1)throw new mFe(n);return!!n[0]}function Ap(t,e={}){typeof e.size<"u"&&au(t,{size:e.size});const n=os(t,e);return pd(n,e)}function mUe(t,e={}){let n=t;return typeof e.size<"u"&&(au(n,{size:e.size}),n=Ep(n,{dir:"right"})),new TextDecoder().decode(n)}function Xc(t){return typeof t[0]=="string"?P3(t):gUe(t)}function gUe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function P3(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const FKt=/^(.*)\[([0-9]*)\]$/,yUe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nge=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function _w(t,e){if(t.length!==e.length)throw new nUe({expectedLength:t.length,givenLength:e.length});const n=wUe({params:t,values:e}),r=QH(n);return r.length===0?"0x":r}function wUe({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(YH({param:t[r],value:e[r]}));return n}function YH({param:t,value:e}){const n=ZH(t.type);if(n){const[r,i]=n;return vUe(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return kUe(e,{param:t});if(t.type==="address")return bUe(e);if(t.type==="bool")return EUe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=nge.exec(t.type)??[];return AUe(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return xUe(e,{param:t});if(t.type==="string")return CUe(e);throw new lUe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function QH(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=pi(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push($t(e+i,{size:32})),r.push(a),i+=pi(a)):n.push(a)}return Xc([...n,...r])}function bUe(t){if(!nl(t))throw new mg({address:t});return{dynamic:!1,encoded:tg(t.toLowerCase())}}function vUe(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Zme(t);if(!r&&t.length!==e)throw new eUe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=YH({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=QH(s);if(r){const a=$t(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Xc([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Xc(s.map(({encoded:o})=>o))}}function xUe(t,{param:e}){const[,n]=e.type.split("bytes"),r=pi(t);if(!n){let i=t;return r%32!==0&&(i=tg(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Xc([tg($t(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new tUe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:tg(t,{dir:"right"})}}function EUe(t){if(typeof t!="boolean")throw new ze(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:tg(Bme(t))}}function AUe(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Dme({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:$t(t,{size:32,signed:e})}}function CUe(t){const e=Cx(t),n=Math.ceil(pi(e)/32),r=[];for(let i=0;i<n;i++)r.push(tg(Ix(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Xc([tg($t(pi(e),{size:32})),...r])}}function kUe(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=YH({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?QH(r):Xc(r.map(({encoded:i})=>i))}}function ZH(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function R3(t,e){const n=typeof e=="string"?md(e):e,r=KH(n);if(pi(n)===0&&t.length>0)throw new TA;if(pi(e)&&pi(e)<32)throw new Gme({data:typeof e=="string"?e:os(e),params:t,size:pi(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[l,c]=Gv(r,a,{staticPosition:0});i+=c,s.push(l)}return s}function Gv(t,e,{staticPosition:n}){const r=ZH(e.type);if(r){const[i,s]=r;return _Ue(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return NUe(t,e,{staticPosition:n});if(e.type==="address")return SUe(t);if(e.type==="bool")return IUe(t);if(e.type.startsWith("bytes"))return TUe(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return $Ue(t,e);if(e.type==="string")return PUe(t,{staticPosition:n});throw new cUe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const nX=32,IB=32;function SUe(t){const e=t.readBytes(32);return[IA(os(tge(e,-20))),32]}function _Ue(t,e,{length:n,staticPosition:r}){if(!n){const o=Ap(t.readBytes(IB)),a=r+o,l=a+nX;t.setPosition(a);const c=Ap(t.readBytes(nX)),u=aE(e);let h=0;const f=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:h));const[m,g]=Gv(t,e,{staticPosition:l});h+=g,f.push(m)}return t.setPosition(r+32),[f,32]}if(aE(e)){const o=Ap(t.readBytes(IB)),a=r+o,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=Gv(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,l]=Gv(t,e,{staticPosition:r+i});i+=l,s.push(a)}return[s,i]}function IUe(t){return[pUe(t.readBytes(32),{size:32}),32]}function TUe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Ap(t.readBytes(32));t.setPosition(n+o);const a=Ap(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[os(l),32]}return[os(t.readBytes(Number.parseInt(i,10),32)),32]}function $Ue(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?fUe(i,{signed:n}):Ap(i,{signed:n}),32]}function NUe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(aE(e)){const o=Ap(t.readBytes(IB)),a=n+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,h]=Gv(t,c,{staticPosition:a});s+=h,i[r?l:c==null?void 0:c.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=Gv(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=l,s+=c}return[i,s]}function PUe(t,{staticPosition:e}){const n=Ap(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ap(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=mUe(Ep(s));return t.setPosition(e+32),[o,32]}function aE(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(aE);const n=ZH(t.type);return!!(n&&aE({...t,type:n[1]}))}const RUe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},rge={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},jUe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},OUe=t=>Ws(N3(t));function MUe(t){return OUe(t)}function DUe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new ze("Unable to normalize signature.");return i}const BUe=t=>{const e=typeof t=="string"?t:C_(t);return DUe(e)};function ige(t){return MUe(BUe(t))}const $A=t=>Ix(ige(t),0,4);function LUe(t){const{abi:e,data:n}=t,r=Ix(n,0,4);if(r==="0x")throw new TA;const s=[...e||[],rge,jUe].find(o=>o.type==="error"&&r===$A(gd(o)));if(!s)throw new Kme(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?R3(s.inputs,Ix(n,4)):void 0,errorName:s.name}}const AT=ige,rX="/docs/contract/decodeEventLog";function JH(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new iUe({docsPath:rX});const l=e.find(g=>g.type==="event"&&o===AT(gd(g)));if(!(l&&"name"in l)||l.type!=="event")throw new Yme(o,{docsPath:rX});const{name:c,inputs:u}=l,h=u==null?void 0:u.some(g=>!("name"in g&&g.name)),f=h?[]:{},p=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<p.length;g++){const[y,w]=p[g],v=a[g];if(!v)throw new ET({abiItem:l,param:y});f[h?w:y.name||w]=FUe({param:y,value:v})}const m=u.filter(g=>!("indexed"in g&&g.indexed));if(m.length>0){if(n&&n!=="0x")try{const g=R3(m,n);if(g)if(h)for(let y=0;y<u.length;y++)f[y]=f[y]??g.shift();else for(let y=0;y<m.length;y++)f[m[y].name]=g[y]}catch(g){if(s)throw g instanceof Gme||g instanceof Jme?new oE({abiItem:l,data:n,params:m,size:pi(n)}):g}else if(s)throw new oE({abiItem:l,data:"0x",params:m,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function FUe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(R3([t],e)||[])[0]}function sge(t){const{abi:e,data:n}=t,r=Ix(n,0,4),i=e.find(s=>s.type==="function"&&r===$A(gd(s)));if(!i)throw new sUe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?R3(i.inputs,Ix(n,4)):void 0}}function Iw(t){const{abi:e,args:n=[],name:r}=t,i=Ro(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?$A(a)===r:a.type==="event"?AT(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const h="inputs"in a&&a.inputs[u];return h?TB(c,h):!1})){if(o&&"inputs"in o&&o.inputs){const c=oge(a.inputs,o.inputs,n);if(c)throw new oUe({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function TB(t,e){const n=typeof t,r=e.type;switch(r){case"address":return nl(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>TB(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>TB(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function oge(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return oge(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?nl(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?nl(n[r],{strict:!1}):!1)return o}}const xR="/docs/contract/decodeFunctionResult";function Tw(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=Iw({abi:e,args:n,name:r});if(!a)throw new _x(r,{docsPath:xR});s=a}if(s.type!=="function")throw new _x(void 0,{docsPath:xR});if(!s.outputs)throw new Qme(s.name,{docsPath:xR});const o=R3(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const ER="/docs/contract/encodeDeployData";function CT(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new XFe({docsPath:ER});if(!("inputs"in i))throw new JJ({docsPath:ER});if(!i.inputs||i.inputs.length===0)throw new JJ({docsPath:ER});const s=_w(i.inputs,n);return P3([r,s])}const AR="/docs/contract/encodeErrorResult";function iX(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=Iw({abi:e,args:r,name:n});if(!l)throw new XJ(n,{docsPath:AR});i=l}if(i.type!=="error")throw new XJ(void 0,{docsPath:AR});const s=gd(i),o=$A(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new rUe(i.name,{docsPath:AR});a=_w(i.inputs,r)}return P3([o,a])}class UUe extends ze{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const sX="/docs/contract/encodeEventTopics";function NA(t){var l;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const c=Iw({abi:e,name:n});if(!c)throw new eX(n,{docsPath:sX});i=c}if(i.type!=="event")throw new eX(void 0,{docsPath:sX});const s=gd(i),o=AT(s);let a=[];if(r&&"inputs"in i){const c=(l=i.inputs)==null?void 0:l.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(c==null?void 0:c.map(h=>r[h.name]))??[]:[];u.length>0&&(a=(c==null?void 0:c.map((h,f)=>Array.isArray(u[f])?u[f].map((p,m)=>oX({param:h,value:u[f][m]})):typeof u[f]<"u"&&u[f]!==null?oX({param:h,value:u[f]}):null))??[])}return[o,...a]}function oX({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Ws(N3(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new UUe(t.type);return _w([t],[e])}const aX="/docs/contract/encodeFunctionData";function zUe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=Iw({abi:e,args:n,name:r});if(!s)throw new _x(r,{docsPath:aX});i=s}if(i.type!=="function")throw new _x(void 0,{docsPath:aX});return{abi:[i],functionName:$A(gd(i))}}function ol(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:zUe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?_w(i.inputs,e??[]):void 0;return P3([s,o??"0x"])}const CR="/docs/contract/encodeFunctionResult";function WUe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=Iw({abi:e,name:n});if(!o)throw new _x(n,{docsPath:CR});i=o}if(i.type!=="function")throw new _x(void 0,{docsPath:CR});if(!i.outputs)throw new Qme(i.name,{docsPath:CR});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Zme(r)})();return _w(i.outputs,s)}const ss=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function age({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?ss(e[s]):e[s]}`).join(", ")})`}function PA(t,e){if(!nl(t,{strict:!1}))throw new mg({address:t});if(!nl(e,{strict:!1}))throw new mg({address:e});return t.toLowerCase()===e.toLowerCase()}function XH(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const l=e.find(u=>u.type==="event"&&o.topics[0]===AT(u));if(!l)return null;const c=JH({...o,abi:[l],strict:i});return s&&!s.includes(c.eventName)||!HUe({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...o}}catch(l){let c,u;if(l instanceof Yme)return null;if(l instanceof oE||l instanceof ET){if(i)return null;c=l.abiItem.name,u=(a=l.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function HUe(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?PA(o,a):s.type==="string"||s.type==="bytes"?Ws(N3(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function VUe(t,e="hex"){const n=lge(t),r=KH(new Uint8Array(n.length));return n.encode(r),e==="hex"?os(r.bytes):r.bytes}function lge(t){return Array.isArray(t)?qUe(t.map(e=>lge(e))):GUe(t)}function qUe(t){const e=t.reduce((i,s)=>i+s.length,0),n=cge(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function GUe(t){const e=typeof t=="string"?md(t):t,n=cge(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function cge(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ze("Length is too large.")}function KUe(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Ws(P3(["0x05",VUe([e?$t(e):"0x",i,n?$t(n):"0x"])]));return r==="bytes"?md(s):s}async function YUe({hash:t,signature:e}){const n=Ro(t)?t:_i(t),{secp256k1:r}=await Mh(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>UHe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=lX(p);return new r.Signature(Zl(c),Zl(u)).addRecoveryBit(m)}const o=Ro(e)?e:_i(e);if(pi(o)!==65)throw new Error("invalid signature length");const a=pd(`0x${o.slice(130)}`),l=lX(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function lX(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function uge({hash:t,signature:e}){return ZFe(await YUe({hash:t,signature:e}))}async function eV(t){const{authorization:e,signature:n}=t;return uge({hash:KUe(e),signature:n??e})}const dge={gwei:9,wei:18},QUe={ether:-9,wei:9};function Wa(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function $w(t,e="wei"){return Wa(t,dge[e])}function Qa(t,e="wei"){return Wa(t,QUe[e])}function RA(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class ZUe extends ze{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class JUe extends ze{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",RA(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class XUe extends ze{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var m;const p=RA({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${$w(f)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Qa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Qa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Qa(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class hge extends ze{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class fge extends ze{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class eze extends ze{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function pge(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>md(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>os(s))}function mge(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>md(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>md(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?s:s.map(o=>os(o))}function tze(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function nze(t,e,n){return t&e^~t&n}function rze(t,e,n){return t&e^t&n^e&n}let ize=class extends GH{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=wR(this.buffer)}update(e){kx(this),e=bT(e),z1(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=wR(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kx(this),Lme(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Sx(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;tze(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=wR(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const f0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sze=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),p0=new Uint32Array(64);let oze=class extends ize{constructor(e=32){super(64,e,8,!1),this.A=f0[0]|0,this.B=f0[1]|0,this.C=f0[2]|0,this.D=f0[3]|0,this.E=f0[4]|0,this.F=f0[5]|0,this.G=f0[6]|0,this.H=f0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)p0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=p0[h-15],p=p0[h-2],m=Dd(f,7)^Dd(f,18)^f>>>3,g=Dd(p,17)^Dd(p,19)^p>>>10;p0[h]=g+p0[h-7]+m+p0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Dd(a,6)^Dd(a,11)^Dd(a,25),p=u+f+nze(a,l,c)+sze[h]+p0[h]|0,g=(Dd(r,2)^Dd(r,13)^Dd(r,22))+rze(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){Sx(p0)}destroy(){this.set(0,0,0,0,0,0,0,0),Sx(this.buffer)}};const gge=Fme(()=>new oze),aze=gge;function lze(t,e){return aze(Ro(t,{strict:!1})?N3(t):t)}function cze(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=lze(e);return i.set([n],0),r==="bytes"?i:os(i)}function uze(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(cze({commitment:s,to:r,version:n}));return i}const cX=6,yge=32,tV=4096,wge=yge*tV,uX=wge*cX-1-1*tV*cX;class dze extends ze{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class hze extends ze{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function fze(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?md(t.data):t.data,r=pi(n);if(!r)throw new hze;if(r>uX)throw new dze({maxSize:uX,size:r});const i=[];let s=!0,o=0;for(;s;){const a=KH(new Uint8Array(wge));let l=0;for(;l<tV;){const c=n.slice(o,o+(yge-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>os(a.bytes))}function pze(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??fze({data:e,to:r}),s=t.commitments??pge({blobs:i,kzg:n,to:r}),o=t.proofs??mge({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const mze=2n**256n-1n;class $B extends ze{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class gze extends ze{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class yze extends ze{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class bge extends ze{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class gv extends ze{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(gv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class k_ extends ze{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qa(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(k_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class NB extends ze{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Qa(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(NB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class PB extends ze{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(PB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class RB extends ze{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(RB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class jB extends ze{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(jB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class OB extends ze{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(OB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class MB extends ze{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(MB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class DB extends ze{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(DB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class BB extends ze{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(BB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class S_ extends ze{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Qa(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Qa(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(S_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class jA extends ze{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function wze(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new JUe({transaction:t})}async function bze({address:t,authorization:e,signature:n}){return PA(Bi(t),await eV({authorization:e,signature:n}))}const vze=t=>t,nV=t=>t;class n4 extends ze{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${nV(o)}`,e&&`Request body: ${ss(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class rV extends ze{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${nV(r)}`,`Request body: ${ss(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class dX extends ze{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${nV(n)}`,`Request body: ${ss(e)}`],name:"TimeoutError"})}}const xze=-1;class al extends ze{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof rV?e.code:n??xze}}let sc=class extends al{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class lE extends al{constructor(e){super(e,{code:lE.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(lE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class cE extends al{constructor(e){super(e,{code:cE.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(cE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class uE extends al{constructor(e,{method:n}={}){super(e,{code:uE.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(uE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class dE extends al{constructor(e){super(e,{code:dE.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class W1 extends al{constructor(e){super(e,{code:W1.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(W1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class H1 extends al{constructor(e){super(e,{code:H1.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(H1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class hE extends al{constructor(e){super(e,{code:hE.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(hE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class fE extends al{constructor(e){super(e,{code:fE.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(fE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class pE extends al{constructor(e){super(e,{code:pE.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(pE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ty extends al{constructor(e,{method:n}={}){super(e,{code:Ty.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ty,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Tx extends al{constructor(e){super(e,{code:Tx.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Tx,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class mE extends al{constructor(e){super(e,{code:mE.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(mE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let D9=class vge extends sc{constructor(e){super(e,{code:vge.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(D9,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class gE extends sc{constructor(e){super(e,{code:gE.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(gE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class yE extends sc{constructor(e,{method:n}={}){super(e,{code:yE.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(yE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class wE extends sc{constructor(e){super(e,{code:wE.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(wE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let LB=class xge extends sc{constructor(e){super(e,{code:xge.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(LB,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class bE extends sc{constructor(e){super(e,{code:bE.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(bE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class $x extends sc{constructor(e){super(e,{code:$x.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty($x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class vE extends sc{constructor(e){super(e,{code:vE.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(vE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class xE extends sc{constructor(e){super(e,{code:xE.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(xE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class EE extends sc{constructor(e){super(e,{code:EE.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(EE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class AE extends sc{constructor(e){super(e,{code:AE.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(AE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class CE extends sc{constructor(e){super(e,{code:CE.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(CE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Nx extends sc{constructor(e){super(e,{code:Nx.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Nx,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Eze extends al{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ik=new vT(8192);function Aze(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ik.get(n))return ik.get(n);const r=t().finally(()=>ik.delete(n));return ik.set(n,r),r}async function FB(t){return new Promise(e=>setTimeout(e,t))}function __(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await FB(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});s(c)}};o()})}function Cze(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new Ty(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new Ty(new Error("method not supported"),{method:c});const u=i?Cx(`${l}.${ss(n)}`):void 0;return Aze(()=>__(async()=>{try{return await t(n)}catch(f){const p=f;switch(p.code){case lE.code:throw new lE(p);case cE.code:throw new cE(p);case uE.code:throw new uE(p,{method:n.method});case dE.code:throw new dE(p);case W1.code:throw new W1(p);case H1.code:throw new H1(p);case hE.code:throw new hE(p);case fE.code:throw new fE(p);case pE.code:throw new pE(p);case Ty.code:throw new Ty(p,{method:n.method});case Tx.code:throw new Tx(p);case mE.code:throw new mE(p);case D9.code:throw new D9(p);case gE.code:throw new gE(p);case yE.code:throw new yE(p);case wE.code:throw new wE(p);case LB.code:throw new LB(p);case bE.code:throw new bE(p);case $x.code:throw new $x(p);case vE.code:throw new vE(p);case xE.code:throw new xE(p);case EE.code:throw new EE(p);case AE.code:throw new AE(p);case CE.code:throw new CE(p);case Nx.code:throw new Nx(p);case 5e3:throw new D9(p);default:throw f instanceof ze?f:new Eze(p)}}},{delay:({count:f,error:p})=>{var m;if(p&&p instanceof n4){const g=(m=p==null?void 0:p.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>kze(f)}),{enabled:i,id:u})}}function kze(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Tx.code||t.code===W1.code:t instanceof n4&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iV=BigInt(0),UB=BigInt(1);function OA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sV(t){if(!OA(t))throw new Error("Uint8Array expected")}function kE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function sk(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ege(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?iV:BigInt("0x"+t)}const Age=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Sze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function SE(t){if(sV(t),Age)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Sze[t[n]];return e}const wf={_0:48,_9:57,A:65,F:70,a:97,f:102};function hX(t){if(t>=wf._0&&t<=wf._9)return t-wf._0;if(t>=wf.A&&t<=wf.F)return t-(wf.A-10);if(t>=wf.a&&t<=wf.f)return t-(wf.a-10)}function I_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Age)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=hX(t.charCodeAt(s)),a=hX(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function E1(t){return Ege(SE(t))}function Cge(t){return sV(t),Ege(SE(Uint8Array.from(t).reverse()))}function MA(t,e){return I_(t.toString(16).padStart(e*2,"0"))}function kge(t,e){return MA(t,e).reverse()}function Ic(t,e,n){let r;if(typeof e=="string")try{r=I_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(OA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function T_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sV(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const kR=t=>typeof t=="bigint"&&iV<=t;function oV(t,e,n){return kR(t)&&kR(e)&&kR(n)&&e<=t&&t<n}function Kv(t,e,n,r){if(!oV(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function _ze(t){let e;for(e=0;t>iV;t>>=UB,e+=1);return e}const kT=t=>(UB<<BigInt(t))-UB,SR=t=>new Uint8Array(t),fX=t=>Uint8Array.from(t);function Ize(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=SR(t),i=SR(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=SR(0))=>{i=a(fX([0]),h),r=a(),h.length!==0&&(i=a(fX([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return T_(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const Tze={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||OA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ST(t,e,n={}){const r=(i,s,o)=>{const a=Tze[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function pX(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const $ze="0.1.1";function Nze(){return $ze}let Bn=class zB extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof zB){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof zB&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Nze()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return Sge(this,e)}};function Sge(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Sge(t.cause,e):e?null:t}function DA(t,e){if(yv(t)>e)throw new Kze({givenSize:yv(t),maxSize:e})}const bf={zero:48,nine:57,A:65,F:70,a:97,f:102};function mX(t){if(t>=bf.zero&&t<=bf.nine)return t-bf.zero;if(t>=bf.A&&t<=bf.F)return t-(bf.A-10);if(t>=bf.a&&t<=bf.f)return t-(bf.a-10)}function Pze(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Yze({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function _ge(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function _T(t,e){if(Jl(t)>e)throw new tWe({givenSize:Jl(t),maxSize:e})}function Rze(t,e){if(typeof e=="number"&&e>0&&e>Jl(t)-1)throw new Mge({offset:e,position:"start",size:Jl(t)})}function jze(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Jl(t)!==n-e)throw new Mge({offset:n,position:"end",size:Jl(t)})}function Ige(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new nWe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Oze="#__bigint";function Tge(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Oze:i,n)}const Mze=new TextDecoder,Dze=new TextEncoder;function Bze(t){return t instanceof Uint8Array?t:typeof t=="string"?$ge(t):Lze(t)}function Lze(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function $ge(t,e={}){const{size:n}=e;let r=t;n&&(_T(t,n),r=q1(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=mX(i.charCodeAt(l++)),u=mX(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Bn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function Fze(t,e={}){const{size:n}=e,r=Dze.encode(t);return typeof n=="number"?(DA(r,n),Uze(r,n)):r}function Uze(t,e){return Pze(t,{dir:"right",size:e})}function yv(t){return t.length}function zze(t,e,n,r={}){return t.slice(e,n)}function Wze(t,e={}){const{size:n}=e;typeof n<"u"&&DA(t,n);const r=wd(t,e);return Rge(r,e)}function Hze(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(DA(r,n),r=Nge(r)),r.length>1||r[0]>1)throw new Gze(r);return!!r[0]}function Cp(t,e={}){const{size:n}=e;typeof n<"u"&&DA(t,n);const r=wd(t,e);return jge(r,e)}function Vze(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(DA(r,n),r=qze(r)),Mze.decode(r)}function Nge(t){return _ge(t,{dir:"left"})}function qze(t){return _ge(t,{dir:"right"})}class Gze extends Bn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Kze=class extends Bn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Yze=class extends Bn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Qze=new TextEncoder,Zze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jze(t,e={}){const{strict:n=!1}=e;if(!t)throw new gX(t);if(typeof t!="string")throw new gX(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new yX(t);if(!t.startsWith("0x"))throw new yX(t)}function yd(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Xze(t){return t instanceof Uint8Array?wd(t):Array.isArray(t)?wd(new Uint8Array(t)):t}function Pge(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(_T(n,e.size),V1(n,e.size)):n}function wd(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Zze[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(_T(r,e.size),q1(r,e.size)):r}function Qo(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Oge({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?V1(l,r):l}function aV(t,e={}){return wd(Qze.encode(t),e)}function V1(t,e){return Ige(t,{dir:"left",size:e})}function q1(t,e){return Ige(t,{dir:"right",size:e})}function Dh(t,e,n,r={}){const{strict:i}=r;Rze(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&jze(s,e,n),s}function Jl(t){return Math.ceil((t.length-2)/2)}function Rge(t,e={}){const{signed:n}=e;e.size&&_T(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function jge(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:Rge(t,e))}function eWe(t,e={}){const{strict:n=!1}=e;try{return Jze(t,{strict:n}),!0}catch{return!1}}let Oge=class extends Bn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class gX extends Bn{constructor(e){super(`Value \`${typeof e=="object"?Tge(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class yX extends Bn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let tWe=class extends Bn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Mge extends Bn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let nWe=class extends Bn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function rWe(t){return{address:t.address,amount:Qo(t.amount),index:Qo(t.index),validatorIndex:Qo(t.validatorIndex)}}function Dge(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Qo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Qo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Qo(t.gasLimit)},...typeof t.number=="bigint"&&{number:Qo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Qo(t.prevRandao)},...typeof t.time=="bigint"&&{time:Qo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(rWe)}}}const $_=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],WB=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Bge=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Lge=[...Bge,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],iWe=[...Bge,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],wX=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],bX=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Fge=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],vX=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],YKt=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],sWe="0x82ad56cb",Uge="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",oWe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",aWe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",lV="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class lWe extends ze{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class cWe extends ze{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function xX(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function uWe(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=xX(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=xX(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}class zge extends ze{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){var y;const m=n?Oi(n):void 0;let g=RA({from:m==null?void 0:m.address,to:h,value:typeof f<"u"&&`${$w(f)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Qa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Qa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Qa(c)} gwei`,nonce:u});p&&(g+=`
${uWe(p)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Wge extends ze{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=Iw({abi:n,args:r,name:o}),c=l?age({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?gd(l,{includeName:!0}):void 0,h=RA({address:i&&vze(i),function:u,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class HB extends ze{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,l;if(n&&n!=="0x")try{o=LUe({abi:e,data:n});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")l=f[0];else if(h==="Panic"){const[p]=f;l=RUe[p]}else{const p=u?gd(u,{includeName:!0}):void 0,m=u&&f?age({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof Kme&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=l,this.signature=c}}class dWe extends ze{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class hWe extends ze{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class IT extends ze{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function j3({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new $B({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new $B({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function TT(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ze?t.walk(i=>(i==null?void 0:i.code)===gv.code):t;return r instanceof ze?new gv({cause:t,message:r.details}):gv.nodeMessage.test(n)?new gv({cause:t,message:t.details}):k_.nodeMessage.test(n)?new k_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):NB.nodeMessage.test(n)?new NB({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):PB.nodeMessage.test(n)?new PB({cause:t,nonce:e==null?void 0:e.nonce}):RB.nodeMessage.test(n)?new RB({cause:t,nonce:e==null?void 0:e.nonce}):jB.nodeMessage.test(n)?new jB({cause:t,nonce:e==null?void 0:e.nonce}):OB.nodeMessage.test(n)?new OB({cause:t}):MB.nodeMessage.test(n)?new MB({cause:t,gas:e==null?void 0:e.gas}):DB.nodeMessage.test(n)?new DB({cause:t,gas:e==null?void 0:e.gas}):BB.nodeMessage.test(n)?new BB({cause:t}):S_.nodeMessage.test(n)?new S_({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new jA({cause:t})}function Hge(t,{docsPath:e,...n}){const r=(()=>{const i=TT(t,n);return i instanceof jA?t:i})();return new zge(r,{docsPath:e,...n})}function $T(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const fWe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function O3(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=pWe(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>os(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=$t(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=$t(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=$t(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=$t(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=$t(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=$t(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=fWe[t.type]),typeof t.value<"u"&&(n.value=$t(t.value)),n}function pWe(t){return t.map(e=>({address:e.address,r:e.r?$t(BigInt(e.r)):e.r,s:e.s?$t(BigInt(e.s)):e.s,chainId:$t(e.chainId),nonce:$t(e.nonce),...typeof e.yParity<"u"?{yParity:$t(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:$t(e.v)}:{}}))}function cV(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const _R=new Map;function Vge({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:m}=u[p];m==null||m([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:m}=u[p];m==null||m(f)}})},o=()=>_R.delete(e),a=()=>l().map(({args:u})=>u),l=()=>_R.get(e)||[],c=u=>_R.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=cV();return(n==null?void 0:n([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:f,reject:p}),h):(c({args:u,resolve:f,reject:p}),setTimeout(s,r),h)}}}function EX(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new qJ({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new qJ({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function mWe(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=$t(e)),n!==void 0&&(o.nonce=$t(n)),r!==void 0&&(o.state=EX(r)),i!==void 0){if(o.state)throw new cWe;o.stateDiff=EX(i)}return o}function uV(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!nl(n,{strict:!1}))throw new mg({address:n});if(e[n])throw new lWe({address:n});e[n]=mWe(r)}return e}function Nw(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?Oi(e):void 0;if(o&&!nl(o.address))throw new mg({address:o.address});if(s&&!nl(s))throw new mg({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new ZUe;if(r&&r>mze)throw new k_({maxFeePerGas:r});if(i&&r&&i>r)throw new S_({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function NT(t,e){var B,k,C,S;const{account:n=t.account,authorizationList:r,batch:i=!!((B=t.batch)!=null&&B.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:h,factory:f,factoryData:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:A,value:E,stateOverride:$,...N}=e,R=n?Oi(n):void 0;if(u&&(f||p))throw new ze("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&A)throw new ze("Cannot provide both `code` & `to` as parameters.");const M=u&&h,F=f&&p&&A&&h,W=M||F,V=M?qge({code:u,data:h}):F?wWe({data:h,factory:f,factoryData:p,to:A}):h;try{Nw(e);const _=(typeof s=="bigint"?$t(s):void 0)||o,P=c?Dge(c):void 0,D=uV($),j=(S=(C=(k=t.chain)==null?void 0:k.formatters)==null?void 0:C.transactionRequest)==null?void 0:S.format,L=(j||O3)({...$T(N,{format:j}),from:R==null?void 0:R.address,accessList:a,authorizationList:r,blobs:l,data:V,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:W?void 0:A,value:E},"call");if(i&&gWe({request:L})&&!D&&!P)try{return await yWe(t,{...L,blockNumber:s,blockTag:o})}catch(G){if(!(G instanceof bge)&&!(G instanceof $B))throw G}const J=(()=>{const G=[L,_];return D&&P?[...G,D,P]:D?[...G,D]:P?[...G,{},P]:G})(),O=await t.request({method:"eth_call",params:J});return O==="0x"?{data:void 0}:{data:O}}catch(T){const _=bWe(T),{offchainLookup:P,offchainLookupSignature:D}=await Mh(async()=>{const{offchainLookup:j,offchainLookupSignature:I}=await import("./ccip-DflQU6n6.js");return{offchainLookup:j,offchainLookupSignature:I}},[]);if(t.ccipRead!==!1&&(_==null?void 0:_.slice(0,10))===D&&A)return{data:await P(t,{data:_,to:A})};throw W&&(_==null?void 0:_.slice(0,10))==="0x101bb98d"?new hWe({factory:f}):Hge(T,{...e,account:R,chain:t.chain})}}function gWe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(sWe)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function yWe(t,e){var g;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return j3({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new bge})(),h=(typeof s=="bigint"?$t(s):void 0)||o,{schedule:f}=Vge({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(y){return y.reduce((v,{data:b})=>v+(b.length-2),0)>n*2},fn:async y=>{const w=y.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),v=ol({abi:$_,args:[w],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{...c===null?{data:qge({code:lV,data:v})}:{to:c,data:v}},h]});return Tw({abi:$_,args:[w],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:p,success:m}]=await f({data:a,to:l});if(!m)throw new IT({data:p});return p==="0x"?{data:void 0}:{data:p}}function qge(t){const{code:e,data:n}=t;return CT({abi:Pme(["constructor(bytes, bytes)"]),bytecode:Uge,args:[e,n]})}function wWe(t){const{data:e,factory:n,factoryData:r,to:i}=t;return CT({abi:Pme(["constructor(address, bytes, address, bytes)"]),bytecode:oWe,args:[i,e,n,r]})}function bWe(t){var n;if(!(t instanceof ze))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}const PT="x-batch-gateway:true";async function vWe(t){const{data:e,ccipRequest:n}=t,{args:[r]}=sge({abi:WB,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(PT)?await vWe({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(l){i[a]=!0,s[a]=xWe(l)}})),WUe({abi:WB,functionName:"query",result:[i,s]})}function xWe(t){return t.name==="HttpRequestError"&&t.status?iX({abi:WB,errorName:"HttpError",args:[t.status,t.shortMessage]}):iX({abi:[rge],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function Gge({chain:t,currentChainId:e}){if(!t)throw new yze;if(e!==t.id)throw new gze({chain:t,currentChainId:e})}const EWe=3;function G1(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof IT?t:t instanceof ze?t.walk(m=>"data"in m)||t.walk():{},{code:l,data:c,details:u,message:h,shortMessage:f}=a,p=t instanceof TA?new dWe({functionName:s}):[EWe,W1.code].includes(l)&&(c||u||h||f)?new HB({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof rV?u:f??h}):t;return new Wge(p,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class AWe extends ze{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var m;const p=RA({from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${$w(f)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Qa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Qa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Qa(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function CWe(t,{docsPath:e,...n}){const r=(()=>{const i=TT(t,n);return i instanceof jA?t:i})();return new AWe(r,{docsPath:e,...n})}function Kge(t,{docsPath:e,...n}){const r=(()=>{const i=TT(t,n);return i instanceof jA?t:i})();return new XUe(r,{docsPath:e,...n})}const Yge={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Qge(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?pd(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?pd(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Yge[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=kWe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function kWe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Zge(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Qge(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Fp(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const Jge={"0x0":"reverted","0x1":"success"};function SWe(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Fp(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?pd(t.transactionIndex):null,status:t.status?Jge[t.status]:null,type:t.type?Yge[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function Pt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}async function dV(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?$t(r):n]},{dedupe:!!r});return pd(i)}function _We(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function IWe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const AX=IWe();function TWe(t,e={}){return{async request(n){var f;const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=l;try{const p=await _We(async({signal:g})=>{const y={...l,body:Array.isArray(r)?ss(r.map(A=>({jsonrpc:"2.0",id:A.id??AX.take(),...A}))):ss({jsonrpc:"2.0",id:r.id??AX.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(a>0?g:null)},w=new Request(t,y),v=await(s==null?void 0:s(w,y))??{...y,url:t};return await i(v.url??t,v)},{errorInstance:new dX({body:r,url:t}),timeout:a,signal:!0});o&&await o(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(g){if(p.ok)throw g;m={error:m}}}if(!p.ok)throw new n4({body:r,details:ss(m.error)||p.statusText,headers:p.headers,status:p.status,url:t});return m}catch(p){throw p instanceof n4||p instanceof dX?p:new n4({body:r,cause:p,url:t})}}}}const $We=`Ethereum Signed Message:
`;function NWe(t){const e=typeof t=="string"?Cx(t):typeof t.raw=="string"?t.raw:os(t.raw),n=Cx(`${$We}${pi(e)}`);return Xc([n,e])}function Xge(t,e){return Ws(NWe(t),e)}class PWe extends ze{constructor({domain:e}){super(`Invalid domain "${ss(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class RWe extends ze{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class jWe extends ze{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function OWe(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(l,c)=>{const u={...c};for(const h of l){const{name:f,type:p}=h;p==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return ss({domain:o,message:a,primaryType:r,types:i})}function eye(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,h=a[c],f=u.match(nge);if(f&&(typeof h=="number"||typeof h=="bigint")){const[g,y,w]=f;$t(h,{signed:y==="int",size:Number.parseInt(w,10)/8})}if(u==="address"&&typeof h=="string"&&!nl(h))throw new mg({address:h});const p=u.match(yUe);if(p){const[g,y]=p;if(y&&pi(h)!==Number.parseInt(y,10))throw new aUe({expectedSize:Number.parseInt(y,10),givenSize:pi(h)})}const m=i[u];m&&(MWe(u),s(m,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new PWe({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new RWe({primaryType:r,types:i})}function tye({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function MWe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new jWe({type:t})}function DWe(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:tye({domain:e}),...t.types};eye({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(BWe({domain:e,types:i})),r!=="EIP712Domain"&&s.push(nye({data:n,primaryType:r,types:i})),Ws(Xc(s))}function BWe({domain:t,types:e}){return nye({data:t,primaryType:"EIP712Domain",types:e})}function nye({data:t,primaryType:e,types:n}){const r=rye({data:t,primaryType:e,types:n});return Ws(r)}function rye({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[LWe({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=sye({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return _w(r,i)}function LWe({primaryType:t,types:e}){const n=_i(FWe({primaryType:t,types:e}));return Ws(n)}function FWe({primaryType:t,types:e}){let n="";const r=iye({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function iye({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])iye({primaryType:s.type,types:e},n);return n}function sye({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Ws(rye({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Ws(r)];if(n==="string")return[{type:"bytes32"},Ws(_i(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>sye({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Ws(_w(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}let UWe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const zWe={checksum:new UWe(8192)},IR=zWe.checksum;function oye(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=qme(Bze(t));return n==="Bytes"?r:wd(r)}const WWe=/^0x[a-fA-F0-9]{40}$/;function RT(t,e={}){const{strict:n=!0}=e;if(!WWe.test(t))throw new CX({address:t,cause:new HWe});if(n){if(t.toLowerCase()===t)return;if(aye(t)!==t)throw new CX({address:t,cause:new VWe})}}function aye(t){if(IR.has(t))return IR.get(t);RT(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=oye(Fze(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return IR.set(t,i),i}function VB(t,e={}){const{strict:n=!0}=e??{};try{return RT(t,{strict:n}),!0}catch{return!1}}class CX extends Bn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}let HWe=class extends Bn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}};class VWe extends Bn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const qWe=/^(.*)\[([0-9]*)\]$/,GWe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lye=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,kX=2n**256n-1n;function Yv(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=pV(e.type);if(s){const[o,a]=s;return YWe(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type==="tuple")return XWe(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return KWe(t,{checksum:r});if(e.type==="bool")return QWe(t);if(e.type.startsWith("bytes"))return ZWe(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return JWe(t,e);if(e.type==="string")return eHe(t,{staticPosition:i});throw new gV(e.type)}const SX=32,qB=32;function KWe(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?aye(s):s)(wd(zze(r,-20))),32]}function YWe(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const l=Cp(t.readBytes(qB)),c=s+l,u=c+SX;t.setPosition(c);const h=Cp(t.readBytes(SX)),f=_E(e);let p=0;const m=[];for(let g=0;g<h;++g){t.setPosition(u+(f?g*32:p));const[y,w]=Yv(t,e,{checksumAddress:r,staticPosition:u});p+=w,m.push(y)}return t.setPosition(s+32),[m,32]}if(_E(e)){const l=Cp(t.readBytes(qB)),c=s+l,u=[];for(let h=0;h<i;++h){t.setPosition(c+h*32);const[f]=Yv(t,e,{checksumAddress:r,staticPosition:c});u.push(f)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=Yv(t,e,{checksumAddress:r,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function QWe(t){return[Hze(t.readBytes(32),{size:32}),32]}function ZWe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Cp(t.readBytes(32));t.setPosition(n+o);const a=Cp(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[wd(l),32]}return[wd(t.readBytes(Number.parseInt(i,10),32)),32]}function JWe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?Wze(i,{signed:n}):Cp(i,{signed:n}),32]}function XWe(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(_E(e)){const l=Cp(t.readBytes(qB)),c=i+l;for(let u=0;u<e.components.length;++u){const h=e.components[u];t.setPosition(c+a);const[f,p]=Yv(t,h,{checksumAddress:r,staticPosition:c});a+=p,o[s?u:h==null?void 0:h.name]=f}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,h]=Yv(t,c,{checksumAddress:r,staticPosition:i});o[s?l:c==null?void 0:c.name]=u,a+=h}return[o,a]}function eHe(t,{staticPosition:e}){const n=Cp(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Cp(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=Vze(Nge(s));return t.setPosition(e+32),[o,32]}function tHe({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(hV({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function hV({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=pV(r.type);if(i){const[s,o]=i;return rHe(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return lHe(n,{checksumAddress:t,parameter:r});if(r.type==="address")return nHe(n,{checksum:t});if(r.type==="bool")return sHe(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=lye.exec(r.type)??[];return oHe(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return iHe(n,{type:r.type});if(r.type==="string")return aHe(n);throw new gV(r.type)}function fV(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Jl(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Qo(e+i,{size:32})),r.push(a),i+=Jl(a)):n.push(a)}return yd(...n,...r)}function nHe(t,e){const{checksum:n=!1}=e;return RT(t,{strict:n}),{dynamic:!1,encoded:V1(t.toLowerCase())}}function rHe(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new yHe(t);if(!s&&t.length!==r)throw new gHe({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=hV({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=fV(a);if(s){const c=Qo(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?yd(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:yd(...a.map(({encoded:l})=>l))}}function iHe(t,{type:e}){const[,n]=e.split("bytes"),r=Jl(t);if(!n){let i=t;return r%32!==0&&(i=q1(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:yd(V1(Qo(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new uye({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:q1(t)}}function sHe(t){if(typeof t!="boolean")throw new Bn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:V1(Pge(t))}}function oHe(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Oge({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Qo(t,{size:32,signed:e})}}function aHe(t){const e=aV(t),n=Math.ceil(Jl(e)/32),r=[];for(let i=0;i<n;i++)r.push(q1(Dh(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:yd(q1(Qo(Jl(e),{size:32})),...r)}}function lHe(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],l=Array.isArray(t)?o:a.name,c=hV({checksumAddress:n,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?fV(s):yd(...s.map(({encoded:o})=>o))}}function pV(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function _E(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(_E);const n=pV(t.type);return!!(n&&_E({...t,type:n[1]}))}const cHe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new hHe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new dHe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new _X({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new _X({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function uHe(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(cHe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class _X extends Bn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class dHe extends Bn{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class hHe extends Bn{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function fHe(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?$ge(e):e,o=uHe(s);if(yv(s)===0&&t.length>0)throw new mHe;if(yv(s)&&yv(s)<32)throw new pHe({data:typeof e=="string"?e:wd(e),parameters:t,size:yv(s)});let a=0;const l=r==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[h,f]=Yv(o,u,{checksumAddress:i,staticPosition:0});a+=f,r==="Array"?l.push(h):l[u.name??c]=h}return l}function mV(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new dye({expectedLength:t.length,givenLength:e.length});const i=tHe({checksumAddress:r,parameters:t,values:e}),s=fV(i);return s.length===0?"0x":s}function GB(t,e){if(t.length!==e.length)throw new dye({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(GB.encode(i,s))}return yd(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return RT(l),V1(l.toLowerCase(),i?32:0)}if(n==="string")return aV(r);if(n==="bytes")return r;if(n==="bool")return V1(Pge(r),i?32:1);const s=n.match(lye);if(s){const[l,c,u="256"]=s,h=Number.parseInt(u,10)/8;return Qo(r,{size:i?32:h,signed:c==="int"})}const o=n.match(GWe);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(r.length-2)/2)throw new uye({expectedSize:Number.parseInt(c,10),value:r});return q1(r,i?32:0)}const a=n.match(qWe);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let h=0;h<r.length;h++)u.push(e(c,r[h],!0));return u.length===0?"0x":yd(...u)}throw new gV(n)}t.encode=e})(GB||(GB={}));function cye(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?VJ(t):t}class pHe extends Bn{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Wb(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class mHe extends Bn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class gHe extends Bn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class uye extends Bn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Jl(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class dye extends Bn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class yHe extends Bn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class gV extends Bn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let hye=class extends GH{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PFe(e);const r=bT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Sx(s)}update(e){return kx(this),this.iHash.update(e),this}digestInto(e){kx(this),z1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const fye=(t,e,n)=>new hye(t,e).update(n).digest();fye.create=(t,e)=>new hye(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ha=BigInt(0),da=BigInt(1),$y=BigInt(2),wHe=BigInt(3),pye=BigInt(4),mye=BigInt(5),gye=BigInt(8);function Ra(t,e){const n=t%e;return n>=Ha?n:e+n}function fc(t,e,n){let r=t;for(;e-- >Ha;)r*=r,r%=n;return r}function KB(t,e){if(t===Ha)throw new Error("invert: expected non-zero number");if(e<=Ha)throw new Error("invert: expected positive modulus, got "+e);let n=Ra(t,e),r=e,i=Ha,s=da;for(;n!==Ha;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==da)throw new Error("invert: does not exist");return Ra(i,e)}function yye(t,e){const n=(t.ORDER+da)/pye,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function bHe(t,e){const n=(t.ORDER-mye)/gye,r=t.mul(e,$y),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,$y),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function vHe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-da,n=0;for(;e%$y===Ha;)e/=$y,n++;let r=$y;const i=yV(t);for(;IX(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return yye;let s=i.pow(r,e);const o=(e+da)/$y;return function(l,c){if(l.is0(c))return c;if(IX(l,c)!==1)throw new Error("Cannot find square root");let u=n,h=l.mul(l.ONE,s),f=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let m=1,g=l.sqr(f);for(;!l.eql(g,l.ONE);)if(m++,g=l.sqr(g),m===u)throw new Error("Cannot find square root");const y=da<<BigInt(u-m-1),w=l.pow(h,y);u=m,h=l.sqr(w),f=l.mul(f,h),p=l.mul(p,w)}return p}}function xHe(t){return t%pye===wHe?yye:t%gye===mye?bHe:vHe(t)}const EHe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function AHe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=EHe.reduce((r,i)=>(r[i]="function",r),e);return ST(t,n)}function CHe(t,e,n){if(n<Ha)throw new Error("invalid exponent, negatives unsupported");if(n===Ha)return t.ONE;if(n===da)return e;let r=t.ONE,i=e;for(;n>Ha;)n&da&&(r=t.mul(r,i)),i=t.sqr(i),n>>=da;return r}function wye(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function IX(t,e){const n=(t.ORDER-da)/$y,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function bye(t,e){e!==void 0&&sE(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yV(t,e,n=!1,r={}){if(t<=Ha)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=bye(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:kT(i),ZERO:Ha,ONE:da,create:l=>Ra(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ha<=l&&l<t},is0:l=>l===Ha,isOdd:l=>(l&da)===da,neg:l=>Ra(-l,t),eql:(l,c)=>l===c,sqr:l=>Ra(l*l,t),add:(l,c)=>Ra(l+c,t),sub:(l,c)=>Ra(l-c,t),mul:(l,c)=>Ra(l*c,t),pow:(l,c)=>CHe(a,l,c),div:(l,c)=>Ra(l*KB(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>KB(l,t),sqrt:r.sqrt||(l=>(o||(o=xHe(t)),o(a,l))),toBytes:l=>n?kge(l,s):MA(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?Cge(l):E1(l)},invertBatch:l=>wye(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function vye(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function xye(t){const e=vye(t);return e+Math.ceil(e/2)}function kHe(t,e,n=!1){const r=t.length,i=vye(e),s=xye(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Cge(t):E1(t),a=Ra(o,e-da)+da;return n?kge(a,i):MA(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TX=BigInt(0),YB=BigInt(1);function TR(t,e){const n=e.negate();return t?n:e}function Eye(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $R(t,e){Eye(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=kT(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function $X(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=YB);const c=e*r,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function SHe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function _He(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const NR=new WeakMap,Aye=new WeakMap;function PR(t){return Aye.get(t)||1}function IHe(t,e){return{constTimeNegate:TR,hasPrecomputes(n){return PR(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>TX;)r&YB&&(i=i.add(s)),s=s.double(),r>>=YB;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=$R(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=$R(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=$X(i,l,a);i=c,h?o=o.add(TR(p,r[m])):s=s.add(TR(f,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=$R(n,e);for(let a=0;a<o.windows&&i!==TX;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=$X(i,a,o);if(i=l,!u){const f=r[c];s=s.add(h?f.negate():f)}}return s},getPrecomputes(n,r,i){let s=NR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&NR.set(r,i(s))),s},wNAFCached(n,r,i){const s=PR(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=PR(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Eye(r,e),Aye.set(n,r),NR.delete(n)}}}function THe(t,e,n,r){SHe(n,t),_He(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=_ze(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=kT(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let g=0;g<s;g++){const y=r[g],w=Number(y>>BigInt(p)&c);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),p!==0)for(let g=0;g<l;g++)f=f.double()}return f}function Cye(t){return AHe(t.Fp),ST(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bye(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NX(t){t.lowS!==void 0&&kE("lowS",t.lowS),t.prehash!==void 0&&kE("prehash",t.prehash)}function $He(t){const e=Cye(t);ST(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let NHe=class extends Error{constructor(e=""){super(e)}};const zf={Err:NHe,_tlv:{encode:(t,e)=>{const{Err:n}=zf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=sk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?sk(i.length/2|128):"";return sk(t)+s+i+e},decode(t,e){const{Err:n}=zf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=zf;if(t<lp)throw new e("integer: negative integers are not allowed");let n=sk(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=zf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return E1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=zf,i=Ic("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=zf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function RR(t,e){return SE(MA(t,e))}const lp=BigInt(0),ps=BigInt(1);BigInt(2);const jR=BigInt(3),PHe=BigInt(4);function RHe(t){const e=$He(t),{Fp:n}=e,r=yV(e.n,e.nBitLength),i=e.toBytes||((b,A,E)=>{const $=A.toAffine();return T_(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),s=e.fromBytes||(b=>{const A=b.subarray(1),E=n.fromBytes(A.subarray(0,n.BYTES)),$=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:E,y:$}});function o(b){const{a:A,b:E}=e,$=n.sqr(b),N=n.mul($,b);return n.add(n.add(N,n.mul(b,A)),E)}function a(b,A){const E=n.sqr(A),$=o(b);return n.eql(E,$)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,jR),PHe),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(b){return oV(b,ps,e.n)}function h(b){const{allowedPrivateKeyLengths:A,nByteLength:E,wrapPrivateKey:$,n:N}=e;if(A&&typeof b!="bigint"){if(OA(b)&&(b=SE(b)),typeof b!="string"||!A.includes(b.length))throw new Error("invalid private key");b=b.padStart(E*2,"0")}let R;try{R=typeof b=="bigint"?b:E1(Ic("private key",b,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof b)}return $&&(R=Ra(R,N)),Kv("private key",R,ps,N),R}function f(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}const p=pX((b,A)=>{const{px:E,py:$,pz:N}=b;if(n.eql(N,n.ONE))return{x:E,y:$};const R=b.is0();A==null&&(A=R?n.ONE:n.inv(N));const M=n.mul(E,A),F=n.mul($,A),W=n.mul(N,A);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:M,y:F}}),m=pX(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:A,y:E}=b.toAffine();if(!n.isValid(A)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(A,E))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(A,E,$){if(A==null||!n.isValid(A))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=A,this.py=E,this.pz=$,Object.freeze(this)}static fromAffine(A){const{x:E,y:$}=A||{};if(!A||!n.isValid(E)||!n.isValid($))throw new Error("invalid affine point");if(A instanceof g)throw new Error("projective point not allowed");const N=R=>n.eql(R,n.ZERO);return N(E)&&N($)?g.ZERO:new g(E,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const E=wye(n,A.map($=>$.pz));return A.map(($,N)=>$.toAffine(E[N])).map(g.fromAffine)}static fromHex(A){const E=g.fromAffine(s(Ic("pointHex",A)));return E.assertValidity(),E}static fromPrivateKey(A){return g.BASE.multiply(h(A))}static msm(A,E){return THe(g,r,A,E)}_setWindowSize(A){v.setWindowSize(this,A)}assertValidity(){m(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){f(A);const{px:E,py:$,pz:N}=this,{px:R,py:M,pz:F}=A,W=n.eql(n.mul(E,F),n.mul(R,N)),V=n.eql(n.mul($,F),n.mul(M,N));return W&&V}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:E}=e,$=n.mul(E,jR),{px:N,py:R,pz:M}=this;let F=n.ZERO,W=n.ZERO,V=n.ZERO,B=n.mul(N,N),k=n.mul(R,R),C=n.mul(M,M),S=n.mul(N,R);return S=n.add(S,S),V=n.mul(N,M),V=n.add(V,V),F=n.mul(A,V),W=n.mul($,C),W=n.add(F,W),F=n.sub(k,W),W=n.add(k,W),W=n.mul(F,W),F=n.mul(S,F),V=n.mul($,V),C=n.mul(A,C),S=n.sub(B,C),S=n.mul(A,S),S=n.add(S,V),V=n.add(B,B),B=n.add(V,B),B=n.add(B,C),B=n.mul(B,S),W=n.add(W,B),C=n.mul(R,M),C=n.add(C,C),B=n.mul(C,S),F=n.sub(F,B),V=n.mul(C,k),V=n.add(V,V),V=n.add(V,V),new g(F,W,V)}add(A){f(A);const{px:E,py:$,pz:N}=this,{px:R,py:M,pz:F}=A;let W=n.ZERO,V=n.ZERO,B=n.ZERO;const k=e.a,C=n.mul(e.b,jR);let S=n.mul(E,R),T=n.mul($,M),_=n.mul(N,F),P=n.add(E,$),D=n.add(R,M);P=n.mul(P,D),D=n.add(S,T),P=n.sub(P,D),D=n.add(E,N);let j=n.add(R,F);return D=n.mul(D,j),j=n.add(S,_),D=n.sub(D,j),j=n.add($,N),W=n.add(M,F),j=n.mul(j,W),W=n.add(T,_),j=n.sub(j,W),B=n.mul(k,D),W=n.mul(C,_),B=n.add(W,B),W=n.sub(T,B),B=n.add(T,B),V=n.mul(W,B),T=n.add(S,S),T=n.add(T,S),_=n.mul(k,_),D=n.mul(C,D),T=n.add(T,_),_=n.sub(S,_),_=n.mul(k,_),D=n.add(D,_),S=n.mul(T,D),V=n.add(V,S),S=n.mul(j,D),W=n.mul(P,W),W=n.sub(W,S),S=n.mul(P,T),B=n.mul(j,B),B=n.add(B,S),new g(W,V,B)}subtract(A){return this.add(A.negate())}is0(){return this.equals(g.ZERO)}wNAF(A){return v.wNAFCached(this,A,g.normalizeZ)}multiplyUnsafe(A){const{endo:E,n:$}=e;Kv("scalar",A,lp,$);const N=g.ZERO;if(A===lp)return N;if(this.is0()||A===ps)return this;if(!E||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,A,g.normalizeZ);let{k1neg:R,k1:M,k2neg:F,k2:W}=E.splitScalar(A),V=N,B=N,k=this;for(;M>lp||W>lp;)M&ps&&(V=V.add(k)),W&ps&&(B=B.add(k)),k=k.double(),M>>=ps,W>>=ps;return R&&(V=V.negate()),F&&(B=B.negate()),B=new g(n.mul(B.px,E.beta),B.py,B.pz),V.add(B)}multiply(A){const{endo:E,n:$}=e;Kv("scalar",A,ps,$);let N,R;if(E){const{k1neg:M,k1:F,k2neg:W,k2:V}=E.splitScalar(A);let{p:B,f:k}=this.wNAF(F),{p:C,f:S}=this.wNAF(V);B=v.constTimeNegate(M,B),C=v.constTimeNegate(W,C),C=new g(n.mul(C.px,E.beta),C.py,C.pz),N=B.add(C),R=k.add(S)}else{const{p:M,f:F}=this.wNAF(A);N=M,R=F}return g.normalizeZ([N,R])[0]}multiplyAndAddUnsafe(A,E,$){const N=g.BASE,R=(F,W)=>W===lp||W===ps||!F.equals(N)?F.multiplyUnsafe(W):F.multiply(W),M=R(this,E).add(R(A,$));return M.is0()?void 0:M}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:E}=e;if(A===ps)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:E}=e;return A===ps?this:E?E(g,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return kE("isCompressed",A),this.assertValidity(),i(g,this,A)}toHex(A=!0){return kE("isCompressed",A),SE(this.toRawBytes(A))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:w}=e,v=IHe(g,y?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function jHe(t){const e=Cye(t);return ST(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function OHe(t){const e=jHe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(C){return Ra(C,r)}function c(C){return KB(C,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=RHe({...e,toBytes(C,S,T){const _=S.toAffine(),P=n.toBytes(_.x),D=T_;return kE("isCompressed",T),T?D(Uint8Array.from([S.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,n.toBytes(_.y))},fromBytes(C){const S=C.length,T=C[0],_=C.subarray(1);if(S===o&&(T===2||T===3)){const P=E1(_);if(!oV(P,ps,n.ORDER))throw new Error("Point is not on curve");const D=f(P);let j;try{j=n.sqrt(D)}catch(J){const O=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+O)}const I=(j&ps)===ps;return(T&1)===1!==I&&(j=n.neg(j)),{x:P,y:j}}else if(S===a&&T===4){const P=n.fromBytes(_.subarray(0,n.BYTES)),D=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:P,y:D}}else{const P=o,D=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+D+", got "+S)}}});function m(C){const S=r>>ps;return C>S}function g(C){return m(C)?l(-C):C}const y=(C,S,T)=>E1(C.slice(S,T));class w{constructor(S,T,_){Kv("r",S,ps,r),Kv("s",T,ps,r),this.r=S,this.s=T,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(S){const T=i;return S=Ic("compactSignature",S,T*2),new w(y(S,0,T),y(S,T,2*T))}static fromDER(S){const{r:T,s:_}=zf.toSig(Ic("DER",S));return new w(T,_)}assertValidity(){}addRecoveryBit(S){return new w(this.r,this.s,S)}recoverPublicKey(S){const{r:T,s:_,recovery:P}=this,D=N(Ic("msgHash",S));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const j=P===2||P===3?T+e.n:T;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=P&1?"03":"02",L=u.fromHex(I+RR(j,n.BYTES)),J=c(j),O=l(-D*J),G=l(_*J),Z=u.BASE.multiplyAndAddUnsafe(L,O,G);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return I_(this.toDERHex())}toDERHex(){return zf.hexFromSig(this)}toCompactRawBytes(){return I_(this.toCompactHex())}toCompactHex(){const S=i;return RR(this.r,S)+RR(this.s,S)}}const v={isValidPrivateKey(C){try{return h(C),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const C=xye(e.n);return kHe(e.randomBytes(C),e.n)},precompute(C=8,S=u.BASE){return S._setWindowSize(C),S.multiply(BigInt(3)),S}};function b(C,S=!0){return u.fromPrivateKey(C).toRawBytes(S)}function A(C){if(typeof C=="bigint")return!1;if(C instanceof u)return!0;const T=Ic("key",C).length,_=n.BYTES,P=_+1,D=2*_+1;if(!(e.allowedPrivateKeyLengths||i===P))return T===P||T===D}function E(C,S,T=!0){if(A(C)===!0)throw new Error("first arg must be private key");if(A(S)===!1)throw new Error("second arg must be public key");return u.fromHex(S).multiply(h(C)).toRawBytes(T)}const $=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const S=E1(C),T=C.length*8-s;return T>0?S>>BigInt(T):S},N=e.bits2int_modN||function(C){return l($(C))},R=kT(s);function M(C){return Kv("num < 2^"+s,C,lp,R),MA(C,i)}function F(C,S,T=W){if(["recovered","canonical"].some(ie=>ie in T))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:P}=e;let{lowS:D,prehash:j,extraEntropy:I}=T;D==null&&(D=!0),C=Ic("msgHash",C),NX(T),j&&(C=Ic("prehashed msgHash",_(C)));const L=N(C),J=h(S),O=[M(J),M(L)];if(I!=null&&I!==!1){const ie=I===!0?P(n.BYTES):I;O.push(Ic("extraEntropy",ie))}const G=T_(...O),Z=L;function Q(ie){const de=$(ie);if(!p(de))return;const oe=c(de),he=u.BASE.multiply(de).toAffine(),we=l(he.x);if(we===lp)return;const fe=l(oe*l(Z+we*J));if(fe===lp)return;let ke=(he.x===we?0:2)|Number(he.y&ps),be=fe;return D&&m(fe)&&(be=g(fe),ke^=1),new w(we,be,ke)}return{seed:G,k2sig:Q}}const W={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function B(C,S,T=W){const{seed:_,k2sig:P}=F(C,S,T),D=e;return Ize(D.hash.outputLen,D.nByteLength,D.hmac)(_,P)}u.BASE._setWindowSize(8);function k(C,S,T,_=V){var ke;const P=C;S=Ic("msgHash",S),T=Ic("publicKey",T);const{lowS:D,prehash:j,format:I}=_;if(NX(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&I!=="compact"&&I!=="der")throw new Error("format must be compact or der");const L=typeof P=="string"||OA(P),J=!L&&!I&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!L&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,G;try{if(J&&(O=new w(P.r,P.s)),L){try{I!=="compact"&&(O=w.fromDER(P))}catch(be){if(!(be instanceof zf.Err))throw be}!O&&I!=="der"&&(O=w.fromCompact(P))}G=u.fromHex(T)}catch{return!1}if(!O||D&&O.hasHighS())return!1;j&&(S=e.hash(S));const{r:Z,s:Q}=O,ie=N(S),de=c(Q),oe=l(ie*de),he=l(Z*de),we=(ke=u.BASE.multiplyAndAddUnsafe(G,oe,he))==null?void 0:ke.toAffine();return we?l(we.x)===Z:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:k,ProjectivePoint:u,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MHe(t){return{hash:t,hmac:(e,...n)=>fye(t,e,BFe(...n)),randomBytes:LFe}}function DHe(t,e){const n=r=>OHe({...t,...MHe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kye=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),PX=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BHe=BigInt(0),LHe=BigInt(1),QB=BigInt(2),RX=(t,e)=>(t+e/QB)/e;function FHe(t){const e=kye,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=fc(u,n,e)*u%e,f=fc(h,n,e)*u%e,p=fc(f,QB,e)*c%e,m=fc(p,i,e)*p%e,g=fc(m,s,e)*m%e,y=fc(g,a,e)*g%e,w=fc(y,l,e)*y%e,v=fc(w,a,e)*g%e,b=fc(v,n,e)*u%e,A=fc(b,o,e)*m%e,E=fc(A,r,e)*c%e,$=fc(E,QB,e);if(!ZB.eql(ZB.sqr($),t))throw new Error("Cannot find square root");return $}const ZB=yV(kye,void 0,void 0,{sqrt:FHe}),Sye=DHe({a:BHe,b:BigInt(7),Fp:ZB,n:PX,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=PX,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-LHe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=RX(s*t,e),l=RX(-r*t,e);let c=Ra(t-a*n-l*i,e),u=Ra(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},gge),UHe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Sye},Symbol.toStringTag,{value:"Module"}));function _ye(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new OR({signature:t});if(typeof t.s>"u")throw new OR({signature:t});if(n&&typeof t.yParity>"u")throw new OR({signature:t});if(t.r<0n||t.r>kX)throw new KHe({value:t.r});if(t.s<0n||t.s>kX)throw new YHe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new bV({value:t.yParity})}function zHe(t){return Iye(wd(t))}function Iye(t){if(t.length!==130&&t.length!==132)throw new GHe({signature:t});const e=BigInt(Dh(t,0,32)),n=BigInt(Dh(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return wV(i)}catch{throw new bV({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function WHe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return HHe(t)}function HHe(t){const e=typeof t=="string"?Iye(t):t instanceof Uint8Array?zHe(t):typeof t.r=="string"?qHe(t):t.v?VHe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return _ye(e),e}function VHe(t){return{r:t.r,s:t.s,yParity:wV(t.v)}}function qHe(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=wV(n)),typeof r!="number")throw new bV({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function wV(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new QHe({value:t})}class GHe extends Bn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Jl(Xze(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class OR extends Bn{constructor({signature:e}){super(`Signature \`${Tge(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class KHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class YHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class bV extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class QHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ZHe(t,e={}){return typeof t.chainId=="string"?JHe(t):{...t,...e.signature}}function JHe(t){const{address:e,chainId:n,nonce:r}=t,i=WHe(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const XHe="0x8010801080108010801080108010801080108010801080108010801080108010",eVe=cye("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Tye(t){if(typeof t=="string"){if(Dh(t,-32)!==XHe)throw new rVe(t)}else _ye(t.authorization)}function tVe(t){Tye(t);const e=jge(Dh(t,-64,-32)),n=Dh(t,-e-64,-64),r=Dh(t,0,-e-64),[i,s,o]=fHe(eVe,n);return{authorization:ZHe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function nVe(t){try{return Tye(t),!0}catch{return!1}}let rVe=class extends Bn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class iVe extends ze{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function sVe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new iVe({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],l=Math.round(+`${o}.${a}`);l>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${l}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function $ye(t,e="wei"){return sVe(t,dge[e])}const oVe={path:"/api/v1/analytics_events",method:"POST"},aVe={path:"/api/v1/apps/:app_id",method:"GET"},lVe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},cVe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},uVe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},dVe={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},hVe={path:"/api/v1/farcaster/init",method:"POST"},fVe={path:"/api/v1/farcaster/authenticate",method:"POST"},pVe={path:"/api/v1/farcaster/link",method:"POST"},mVe={path:"/api/v1/farcaster/unlink",method:"POST"},gVe={path:"/api/v1/farcaster/status",method:"GET"},yVe={path:"/api/v2/farcaster/init",method:"POST"},wVe={path:"/api/v2/farcaster/authenticate",method:"POST"},bVe={path:"/api/v1/guest/authenticate",method:"POST"},vVe={path:"/api/v1/mfa/passkeys/init",method:"POST"},xVe={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},EVe={path:"/api/v1/oauth/authenticate",method:"POST"},AVe={path:"/api/v1/oauth/init",method:"POST"},CVe={path:"/api/v1/oauth/link",method:"POST"},kVe={path:"/api/v1/oauth/unlink",method:"POST"},SVe={path:"/api/v1/passkeys/link",method:"POST"},_Ve={path:"/api/v1/passkeys/authenticate",method:"POST"},IVe={path:"/api/v1/passkeys/register",method:"POST"},TVe={path:"/api/v1/passkeys/authenticate/init",method:"POST"},$Ve={path:"/api/v1/passkeys/register/init",method:"POST"},NVe={path:"/api/v1/passkeys/link/init",method:"POST"},PVe={path:"/api/v1/passwordless/authenticate",method:"POST"},RVe={path:"/api/v1/passwordless/init",method:"POST"},jVe={path:"/api/v1/passwordless/link",method:"POST"},OVe={path:"/api/v1/passwordless/unlink",method:"POST"},MVe={path:"/api/v1/passwordless/update",method:"POST"},DVe={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},BVe={path:"/api/v1/passwordless_sms/init",method:"POST"},LVe={path:"/api/v1/passwordless_sms/link",method:"POST"},FVe={path:"/api/v1/passwordless_sms/unlink",method:"POST"},UVe={path:"/api/v1/passwordless_sms/update",method:"POST"},zVe={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},WVe={path:"/api/v1/recovery/oauth/init",method:"POST"},HVe={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},VVe={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},qVe={path:"/api/v1/recovery/configuration_icloud",method:"POST"},GVe=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,jX={path:"/api/v1/sessions",method:"POST"},KVe={path:"/api/v1/sessions/logout",method:"POST"},YVe={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Nye={path:"/api/v1/siwe/init",method:"POST"},QVe={path:"/api/v1/siwe/authenticate",method:"POST"},ZVe={path:"/api/v1/siwe/link",method:"POST"},JVe={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},XVe={path:"/api/v1/siwe/unlink",method:"POST"},eqe={path:"/api/v1/siws/init",method:"POST"},tqe={path:"/api/v1/siws/authenticate",method:"POST"},nqe={path:"/api/v1/siws/link",method:"POST"},rqe={path:"/api/v1/siws/unlink",method:"POST"},iqe={path:"/api/v1/users/me/accept_terms",method:"POST"},sqe={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},oqe={path:"/api/v1/wallets",method:"POST"},MR={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},aqe={path:"/api/v1/wallets/revoke",method:"POST"};var Hn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Hn||(Hn={}));var OX;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(OX||(OX={}));const Ct=Hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Z0=t=>{switch(typeof t){case"undefined":return Ct.undefined;case"string":return Ct.string;case"number":return Number.isNaN(t)?Ct.nan:Ct.number;case"boolean":return Ct.boolean;case"function":return Ct.function;case"bigint":return Ct.bigint;case"symbol":return Ct.symbol;case"object":return Array.isArray(t)?Ct.array:t===null?Ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ct.promise:typeof Map<"u"&&t instanceof Map?Ct.map:typeof Set<"u"&&t instanceof Set?Ct.set:typeof Date<"u"&&t instanceof Date?Ct.date:Ct.object;default:return Ct.unknown}},Je=Hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Up extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Up))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Up.create=t=>new Up(t);const JB=(t,e)=>{let n;switch(t.code){case Je.invalid_type:t.received===Ct.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Je.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Hn.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:n=`Unrecognized key(s) in object: ${Hn.joinValues(t.keys,", ")}`;break;case Je.invalid_union:n="Invalid input";break;case Je.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Hn.joinValues(t.options)}`;break;case Je.invalid_enum_value:n=`Invalid enum value. Expected ${Hn.joinValues(t.options)}, received '${t.received}'`;break;case Je.invalid_arguments:n="Invalid function arguments";break;case Je.invalid_return_type:n="Invalid function return type";break;case Je.invalid_date:n="Invalid date";break;case Je.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Hn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Je.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Je.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Je.custom:n="Invalid input";break;case Je.invalid_intersection_types:n="Intersection results could not be merged";break;case Je.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Je.not_finite:n="Number must be finite";break;default:n=e.defaultError,Hn.assertNever(t)}return{message:n}};let lqe=JB;function cqe(){return lqe}const uqe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function mt(t,e){const n=cqe(),r=uqe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===JB?void 0:JB].filter(i=>!!i)});t.common.issues.push(r)}class Xl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Yt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Xl.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Yt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Yt=Object.freeze({status:"aborted"}),b6=t=>({status:"dirty",value:t}),lu=t=>({status:"valid",value:t}),MX=t=>t.status==="aborted",DX=t=>t.status==="dirty",Px=t=>t.status==="valid",N_=t=>typeof Promise<"u"&&t instanceof Promise;var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_t||(_t={}));class gg{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BX=(t,e)=>{if(Px(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Up(t.common.issues);return this._error=n,this._error}}};function xn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Un{get description(){return this._def.description}_getType(e){return Z0(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Z0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xl,ctx:{common:e.parent.common,data:e.data,parsedType:Z0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(N_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z0(e)},i=this._parseSync({data:e,path:r.path,parent:r});return BX(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z0(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Px(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Px(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z0(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(N_(i)?i:Promise.resolve(i));return BX(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Je.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new zp({schema:this,typeName:Zt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return kp.create(this,this._def)}nullable(){return Q1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bh.create(this)}promise(){return F_.create(this,this._def)}or(e){return O_.create([this,e],this._def)}and(e){return M_.create(this,e,this._def)}transform(e){return new zp({...xn(this._def),schema:this,typeName:Zt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new U_({...xn(this._def),innerType:this,defaultValue:n,typeName:Zt.ZodDefault})}brand(){return new Oye({typeName:Zt.ZodBranded,type:this,...xn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new z_({...xn(this._def),innerType:this,catchValue:n,typeName:Zt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return xV.create(this,e)}readonly(){return W_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dqe=/^c[^\s-]{8,}$/i,hqe=/^[0-9a-z]+$/,fqe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pqe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mqe=/^[a-z0-9_-]{21}$/i,gqe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yqe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wqe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bqe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DR;const vqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Eqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Aqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cqe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kqe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Pye="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Sqe=new RegExp(`^${Pye}$`);function Rye(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function _qe(t){return new RegExp(`^${Rye(t)}$`)}function Iqe(t){let e=`${Pye}T${Rye(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Tqe(t,e){return!!((e==="v4"||!e)&&vqe.test(t)||(e==="v6"||!e)&&Eqe.test(t))}function $qe(t,e){if(!gqe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Nqe(t,e){return!!((e==="v4"||!e)&&xqe.test(t)||(e==="v6"||!e)&&Aqe.test(t))}class Lm extends Un{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ct.string){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.string,received:s.parsedType}),Yt}const r=new Xl;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?mt(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&mt(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")wqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"email",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")DR||(DR=new RegExp(bqe,"u")),DR.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"emoji",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")pqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"uuid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")mqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"nanoid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")dqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")hqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid2",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")fqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ulid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),mt(i,{validation:"url",code:Je.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"regex",code:Je.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Iqe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Sqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?_qe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?yqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"duration",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Tqe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ip",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?$qe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"jwt",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Nqe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cidr",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Cqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?kqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64url",code:Je.invalid_string,message:s.message}),r.dirty()):Hn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Je.invalid_string,..._t.errToObj(r)})}_addCheck(e){return new Lm({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._t.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._t.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._t.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._t.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._t.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._t.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._t.errToObj(n)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new Lm({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lm({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lm({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Lm.create=t=>new Lm({checks:[],typeName:Zt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xn(t)});function Pqe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Rx extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ct.number){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.number,received:s.parsedType}),Yt}let r;const i=new Xl;for(const s of this._def.checks)s.kind==="int"?Hn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Pqe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_finite,message:s.message}),i.dirty()):Hn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new Rx({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new Rx({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Hn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Rx.create=t=>new Rx({checks:[],typeName:Zt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xn(t)});class IE extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ct.bigint)return this._getInvalidInput(e);let r;const i=new Xl;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Hn.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return mt(n,{code:Je.invalid_type,expected:Ct.bigint,received:n.parsedType}),Yt}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new IE({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new IE({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}IE.create=t=>new IE({checks:[],typeName:Zt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xn(t)});class XB extends Un{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ct.boolean){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.boolean,received:r.parsedType}),Yt}return lu(e.data)}}XB.create=t=>new XB({typeName:Zt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xn(t)});class P_ extends Un{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ct.date){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.date,received:s.parsedType}),Yt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_date}),Yt}const r=new Xl;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Hn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new P_({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}P_.create=t=>new P_({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Zt.ZodDate,...xn(t)});class LX extends Un{_parse(e){if(this._getType(e)!==Ct.symbol){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.symbol,received:r.parsedType}),Yt}return lu(e.data)}}LX.create=t=>new LX({typeName:Zt.ZodSymbol,...xn(t)});class R_ extends Un{_parse(e){if(this._getType(e)!==Ct.undefined){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.undefined,received:r.parsedType}),Yt}return lu(e.data)}}R_.create=t=>new R_({typeName:Zt.ZodUndefined,...xn(t)});class j_ extends Un{_parse(e){if(this._getType(e)!==Ct.null){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.null,received:r.parsedType}),Yt}return lu(e.data)}}j_.create=t=>new j_({typeName:Zt.ZodNull,...xn(t)});class FX extends Un{constructor(){super(...arguments),this._any=!0}_parse(e){return lu(e.data)}}FX.create=t=>new FX({typeName:Zt.ZodAny,...xn(t)});class UX extends Un{constructor(){super(...arguments),this._unknown=!0}_parse(e){return lu(e.data)}}UX.create=t=>new UX({typeName:Zt.ZodUnknown,...xn(t)});class yg extends Un{_parse(e){const n=this._getOrReturnCtx(e);return mt(n,{code:Je.invalid_type,expected:Ct.never,received:n.parsedType}),Yt}}yg.create=t=>new yg({typeName:Zt.ZodNever,...xn(t)});class zX extends Un{_parse(e){if(this._getType(e)!==Ct.undefined){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.void,received:r.parsedType}),Yt}return lu(e.data)}}zX.create=t=>new zX({typeName:Zt.ZodVoid,...xn(t)});class Bh extends Un{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ct.array)return mt(n,{code:Je.invalid_type,expected:Ct.array,received:n.parsedType}),Yt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(mt(n,{code:o?Je.too_big:Je.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(mt(n,{code:Je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(mt(n,{code:Je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new gg(n,o,n.path,a)))).then(o=>Xl.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new gg(n,o,n.path,a)));return Xl.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Bh({...this._def,minLength:{value:e,message:_t.toString(n)}})}max(e,n){return new Bh({...this._def,maxLength:{value:e,message:_t.toString(n)}})}length(e,n){return new Bh({...this._def,exactLength:{value:e,message:_t.toString(n)}})}nonempty(e){return this.min(1,e)}}Bh.create=(t,e)=>new Bh({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Zt.ZodArray,...xn(e)});function Hb(t){if(t instanceof di){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=kp.create(Hb(r))}return new di({...t._def,shape:()=>e})}else return t instanceof Bh?new Bh({...t._def,type:Hb(t.element)}):t instanceof kp?kp.create(Hb(t.unwrap())):t instanceof Q1?Q1.create(Hb(t.unwrap())):t instanceof K1?K1.create(t.items.map(e=>Hb(e))):t}class di extends Un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Hn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ct.object){const c=this._getOrReturnCtx(e);return mt(c,{code:Je.invalid_type,expected:Ct.object,received:c.parsedType}),Yt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof yg&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new gg(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof yg){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(mt(i,{code:Je.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new gg(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Xl.mergeObjectSync(r,c)):Xl.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new di({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:_t.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new di({...this._def,unknownKeys:"strip"})}passthrough(){return new di({...this._def,unknownKeys:"passthrough"})}extend(e){return new di({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new di({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Zt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new di({...this._def,catchall:e})}pick(e){const n={};for(const r of Hn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new di({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Hn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new di({...this._def,shape:()=>n})}deepPartial(){return Hb(this)}partial(e){const n={};for(const r of Hn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new di({...this._def,shape:()=>n})}required(e){const n={};for(const r of Hn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof kp;)s=s._def.innerType;n[r]=s}return new di({...this._def,shape:()=>n})}keyof(){return jye(Hn.objectKeys(this.shape))}}di.create=(t,e)=>new di({shape:()=>t,unknownKeys:"strip",catchall:yg.create(),typeName:Zt.ZodObject,...xn(e)});di.strictCreate=(t,e)=>new di({shape:()=>t,unknownKeys:"strict",catchall:yg.create(),typeName:Zt.ZodObject,...xn(e)});di.lazycreate=(t,e)=>new di({shape:t,unknownKeys:"strip",catchall:yg.create(),typeName:Zt.ZodObject,...xn(e)});class O_ extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Up(a.ctx.common.issues));return mt(n,{code:Je.invalid_union,unionErrors:o}),Yt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Up(l));return mt(n,{code:Je.invalid_union,unionErrors:a}),Yt}}get options(){return this._def.options}}O_.create=(t,e)=>new O_({options:t,typeName:Zt.ZodUnion,...xn(e)});const Nf=t=>t instanceof D_?Nf(t.schema):t instanceof zp?Nf(t.innerType()):t instanceof B_?[t.value]:t instanceof Y1?t.options:t instanceof L_?Hn.objectValues(t.enum):t instanceof U_?Nf(t._def.innerType):t instanceof R_?[void 0]:t instanceof j_?[null]:t instanceof kp?[void 0,...Nf(t.unwrap())]:t instanceof Q1?[null,...Nf(t.unwrap())]:t instanceof Oye||t instanceof W_?Nf(t.unwrap()):t instanceof z_?Nf(t._def.innerType):[];class vV extends Un{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.object)return mt(n,{code:Je.invalid_type,expected:Ct.object,received:n.parsedType}),Yt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(mt(n,{code:Je.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Nf(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new vV({typeName:Zt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...xn(r)})}}function eL(t,e){const n=Z0(t),r=Z0(e);if(t===e)return{valid:!0,data:t};if(n===Ct.object&&r===Ct.object){const i=Hn.objectKeys(e),s=Hn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=eL(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Ct.array&&r===Ct.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=eL(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ct.date&&r===Ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class M_ extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(MX(s)||MX(o))return Yt;const a=eL(s.value,o.value);return a.valid?((DX(s)||DX(o))&&n.dirty(),{status:n.value,value:a.data}):(mt(r,{code:Je.invalid_intersection_types}),Yt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}M_.create=(t,e,n)=>new M_({left:t,right:e,typeName:Zt.ZodIntersection,...xn(n)});class K1 extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.array)return mt(r,{code:Je.invalid_type,expected:Ct.array,received:r.parsedType}),Yt;if(r.data.length<this._def.items.length)return mt(r,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yt;!this._def.rest&&r.data.length>this._def.items.length&&(mt(r,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new gg(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Xl.mergeArray(n,o)):Xl.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new K1({...this._def,rest:e})}}K1.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K1({items:t,typeName:Zt.ZodTuple,rest:null,...xn(e)})};class WX extends Un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.map)return mt(r,{code:Je.invalid_type,expected:Ct.map,received:r.parsedType}),Yt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new gg(r,a,r.path,[c,"key"])),value:s._parse(new gg(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Yt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Yt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}WX.create=(t,e,n)=>new WX({valueType:e,keyType:t,typeName:Zt.ZodMap,...xn(n)});class TE extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.set)return mt(r,{code:Je.invalid_type,expected:Ct.set,received:r.parsedType}),Yt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(mt(r,{code:Je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(mt(r,{code:Je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Yt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new gg(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new TE({...this._def,minSize:{value:e,message:_t.toString(n)}})}max(e,n){return new TE({...this._def,maxSize:{value:e,message:_t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}TE.create=(t,e)=>new TE({valueType:t,minSize:null,maxSize:null,typeName:Zt.ZodSet,...xn(e)});class D_ extends Un{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}D_.create=(t,e)=>new D_({getter:t,typeName:Zt.ZodLazy,...xn(e)});class B_ extends Un{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return mt(n,{received:n.data,code:Je.invalid_literal,expected:this._def.value}),Yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}B_.create=(t,e)=>new B_({value:t,typeName:Zt.ZodLiteral,...xn(e)});function jye(t,e){return new Y1({values:t,typeName:Zt.ZodEnum,...xn(e)})}class Y1 extends Un{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return mt(n,{expected:Hn.joinValues(r),received:n.parsedType,code:Je.invalid_type}),Yt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return mt(n,{received:n.data,code:Je.invalid_enum_value,options:r}),Yt}return lu(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Y1.create(e,{...this._def,...n})}exclude(e,n=this._def){return Y1.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Y1.create=jye;class L_ extends Un{_parse(e){const n=Hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ct.string&&r.parsedType!==Ct.number){const i=Hn.objectValues(n);return mt(r,{expected:Hn.joinValues(i),received:r.parsedType,code:Je.invalid_type}),Yt}if(this._cache||(this._cache=new Set(Hn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Hn.objectValues(n);return mt(r,{received:r.data,code:Je.invalid_enum_value,options:i}),Yt}return lu(e.data)}get enum(){return this._def.values}}L_.create=(t,e)=>new L_({values:t,typeName:Zt.ZodNativeEnum,...xn(e)});class F_ extends Un{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.promise&&n.common.async===!1)return mt(n,{code:Je.invalid_type,expected:Ct.promise,received:n.parsedType}),Yt;const r=n.parsedType===Ct.promise?n.data:Promise.resolve(n.data);return lu(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}F_.create=(t,e)=>new F_({type:t,typeName:Zt.ZodPromise,...xn(e)});class zp extends Un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{mt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Yt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Yt:l.status==="dirty"||n.value==="dirty"?b6(l.value):l});{if(n.value==="aborted")return Yt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Yt:a.status==="dirty"||n.value==="dirty"?b6(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Yt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Yt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Px(o))return Yt;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Px(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Yt);Hn.assertNever(i)}}zp.create=(t,e,n)=>new zp({schema:t,typeName:Zt.ZodEffects,effect:e,...xn(n)});zp.createWithPreprocess=(t,e,n)=>new zp({schema:e,effect:{type:"preprocess",transform:t},typeName:Zt.ZodEffects,...xn(n)});class kp extends Un{_parse(e){return this._getType(e)===Ct.undefined?lu(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kp.create=(t,e)=>new kp({innerType:t,typeName:Zt.ZodOptional,...xn(e)});class Q1 extends Un{_parse(e){return this._getType(e)===Ct.null?lu(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Q1.create=(t,e)=>new Q1({innerType:t,typeName:Zt.ZodNullable,...xn(e)});class U_ extends Un{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}U_.create=(t,e)=>new U_({innerType:t,typeName:Zt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xn(e)});class z_ extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return N_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Up(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Up(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}z_.create=(t,e)=>new z_({innerType:t,typeName:Zt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xn(e)});class HX extends Un{_parse(e){if(this._getType(e)!==Ct.nan){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.nan,received:r.parsedType}),Yt}return{status:"valid",value:e.data}}}HX.create=t=>new HX({typeName:Zt.ZodNaN,...xn(t)});class Oye extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class xV extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Yt:s.status==="dirty"?(n.dirty(),b6(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new xV({in:e,out:n,typeName:Zt.ZodPipeline})}}class W_ extends Un{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Px(i)&&(i.value=Object.freeze(i.value)),i);return N_(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}W_.create=(t,e)=>new W_({innerType:t,typeName:Zt.ZodReadonly,...xn(e)});di.lazycreate;var Zt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Zt||(Zt={}));const mi=Lm.create,Mye=Rx.create,Rqe=XB.create;R_.create;j_.create;yg.create;const A1=Bh.create,Gs=di.create;di.strictCreate;const H_=O_.create,Dye=vV.create;M_.create;K1.create;D_.create;const $o=B_.create,EV=Y1.create;L_.create;F_.create;zp.create;kp.create;Q1.create;zp.createWithPreprocess;var jt,VX=((jt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",jt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",jt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",jt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",jt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",jt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",jt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",jt.INVALID_DATA="invalid_data",jt.INVALID_CREDENTIALS="invalid_credentials",jt.INVALID_CAPTCHA="invalid_captcha",jt.LINKED_TO_ANOTHER_USER="linked_to_another_user",jt.ALLOWLIST_REJECTED="allowlist_rejected",jt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",jt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",jt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",jt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",jt.TOO_MANY_REQUESTS="too_many_requests",jt.RESOURCE_CONFLICT="resource_conflict",jt.INVALID_ORIGIN="invalid_origin",jt.MISSING_ORIGIN="missing_origin",jt.INVALID_NATIVE_APP_ID="invalid_native_app_id",jt.TOKEN_ALREADY_USED="token_already_used",jt.ALREADY_LOGGED_OUT="already_logged_out",jt.NOT_SUPPORTED="not_supported",jt.USER_UNSUBSCRIBED="user_unsubscribed",jt.MAX_APPS_REACHED="max_apps_reached",jt.USER_LIMIT_REACHED="max_accounts_reached",jt.DEVICE_REVOKED="device_revoked",jt.WALLET_PASSWORD_EXISTS="wallet_password_exists",jt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",jt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",jt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",jt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",jt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",jt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",jt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",jt.CANNOT_SET_PASSWORD="cannot_set_password",jt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",jt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",jt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",jt.USER_DOES_NOT_EXIST="user_does_not_exist",jt.ALREADY_EXISTS="resource_already_exists",jt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",jt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",jt.FEATURE_NOT_ENABLED="feature_not_enabled",jt.INSUFFICIENT_FUNDS="insufficient_funds",jt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",jt.INVALID_POLICY_FORMAT="invalid_policy_format",jt.POLICY_VIOLATION="policy_violation",jt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",jt.INVALID_REQUEST="invalid_request",jt.SIGNUP_DISABLED="signup_disabled",jt);function qX(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var jqe={}.constructor;function C1(t){return t!=null&&t.constructor===jqe}function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function jT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mqe(r.key),r)}}function OT(t,e,n){return e&&Oqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mqe(t){var e=Dqe(t,"string");return jx(e)=="symbol"?e:e+""}function Dqe(t,e){if(jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bqe="1.2.0",Lqe="1.7.35",GX=" ext. ",Fqe=/^\d+$/,as=function(){function t(e){jT(this,t),Bye(e),this.metadata=e,Lye.call(this,e)}return OT(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&Fqe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new KX(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new KX(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),KX=function(){function t(e,n){jT(this,t),this.globalMetadataObject=n,this.metadata=e,Lye.call(this,n.metadata)}return OT(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new Uqe(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&YX(this.types(),n))return new Wqe(YX(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?GX:this.metadata[13]||GX}}])}(),Uqe=function(){function t(e,n){jT(this,t),this._format=e,this.metadata=n}return OT(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!zqe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),zqe=/^\(?\$1\)?$/,Wqe=function(){function t(e,n){jT(this,t),this.type=e,this.metadata=n}return OT(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function YX(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Bye(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!C1(t)||!C1(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(C1(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Hqe(t)+": "+t,"."))}var Hqe=function(e){return jx(e)};function MT(t,e){if(e=new as(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function Vqe(t,e){return e.countries.hasOwnProperty(t)}function Lye(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?qX(e,Bqe)===-1?this.v2=!0:qX(e,Lqe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function DT(t,e,n){return qqe(t,e,void 0,n)}function qqe(t,e,n,r){e&&(r=new as(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Gqe(t,e,n){if(e===void 0&&(e={}),n=new as(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return Fye(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Fye(t,e,n){switch(DT(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function Wp(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Kqe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Yqe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yqe(t,e){if(t){if(typeof t=="string")return QX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QX(t,e):void 0}}function QX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Qqe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function AV(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new as(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(Wp(r,n.nationalNumberPattern())){if(BR(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||BR(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=Kqe(Qqe),s;!(s=i()).done;){var o=s.value;if(BR(r,o,n))return o}}}}function BR(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Wp(t,e.pattern())}function Zqe(t,e,n){if(e=e||{},n=new as(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return AV(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return Wp(r,n.nationalNumberPattern())}function Jqe(t,e,n){var r=new as(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return Xqe(e,s,n)}):[]}function Xqe(t,e,n){var r=new as(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var CV=2,eGe=17,tGe=3,pa="0-9---",nGe="--",rGe="/",iGe=".",sGe=" ",oGe="()\\[\\]",aGe="~",od="".concat(nGe).concat(rGe).concat(iGe).concat(sGe).concat(oGe).concat(aGe),BT="+",lGe=new RegExp("(["+pa+"])");function Uye(t,e,n,r){if(e){var i=new as(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(lGe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function tL(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(s=r[1]);else{var l=r[0];i=t.slice(l.length),a&&(s=r[1])}var c;if(a){var u=t.indexOf(r[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=r[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function cGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=uGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uGe(t,e){if(t){if(typeof t=="string")return ZX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZX(t,e):void 0}}function ZX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zye(t,e){var n=e.countries,r=e.metadata;r=new as(r);for(var i=cGe(n),s;!(s=i()).done;){var o=s.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return o}else if(AV({phone:t,country:o},void 0,r.metadata))return o}}function kV(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:zye(n,{countries:i,metadata:r.metadata})}function nL(t,e,n){var r=tL(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!dGe(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=kV(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!hGe(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function dGe(t,e,n){return!(Wp(t,n.nationalNumberPattern())&&!Wp(e,n.nationalNumberPattern()))}function hGe(t,e,n){switch(DT(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Wye(t,e,n,r,i){var s=e||n?MT(e||n,i):r;if(t.indexOf(s)===0){i=new as(i),i.selectNumberingPlan(e||n,s);var o=t.slice(s.length),a=nL(o,e,i),l=a.nationalNumber,c=nL(t,e,i),u=c.nationalNumber;if(!Wp(u,i.nationalNumberPattern())&&Wp(l,i.nationalNumberPattern())||DT(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function SV(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var o=Uye(t,e||n,r,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||n||r){var a=Wye(t,e,n,r,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new as(i);for(var u=2;u-1<=tGe&&u<=t.length;){var h=t.slice(1,u);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(u)};u++}return{}}function Hye(t){return t.replace(new RegExp("[".concat(od,"]+"),"g")," ").trim()}var Vye=/(\$\d)/;function qye(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(Vye,e.nationalPrefixFormattingRule()):e.format());return r?Hye(s):s}var fGe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function pGe(t,e,n){var r=new as(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(fGe.test(r.IDDPrefix()))return r.IDDPrefix()}var mGe=";ext=",sb=function(e){return"([".concat(pa,"]{1,").concat(e,"})")};function Gye(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",f="(?:,{2}|;)",p=mGe+sb(e),m=s+l+o+sb(e)+a,g=s+c+o+sb(r)+a,y=u+sb(i)+"#",w=h+f+o+sb(n)+a,v=h+"(?:,)+"+o+sb(r)+a;return p+"|"+m+"|"+g+"|"+y+"|"+w+"|"+v}var gGe="["+pa+"]{"+CV+"}",yGe="["+BT+"]{0,1}(?:["+od+"]*["+pa+"]){3,}["+od+pa+"]*",wGe=new RegExp("^["+BT+"]{0,1}(?:["+od+"]*["+pa+"]){1,2}$","i"),bGe=yGe+"(?:"+Gye()+")?",vGe=new RegExp("^"+gGe+"$|^"+bGe+"$","i");function xGe(t){return t.length>=CV&&vGe.test(t)}function EGe(t){return wGe.test(t)}function AGe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var JX={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function CGe(t,e,n,r){if(n?n=_Ge({},JX,n):n=JX,r=new as(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=V_(s,t.carrierCode,"NATIONAL",r,n),LR(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=V_(s,null,"INTERNATIONAL",r,n),o="+".concat(i," ").concat(o),LR(o,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return AGe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=SGe(s,t.carrierCode,i,n.fromCountry,r);return LR(a,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function V_(t,e,n,r,i){var s=kGe(r.formats(),t);return s?qye(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function kGe(t,e){return IGe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return Wp(e,n.pattern())})}function LR(t,e,n,r){return e?r(t,e,n):t}function SGe(t,e,n,r,i){var s=MT(r,i.metadata);if(s===n){var o=V_(t,e,"NATIONAL",i);return n==="1"?n+" "+o:o}var a=pGe(r,void 0,i.metadata);if(a)return"".concat(a," ").concat(n," ").concat(V_(t,null,"INTERNATIONAL",i))}function _Ge(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function IGe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function $E(t){"@babel/helpers - typeof";return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}function XX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XX(Object(n),!0).forEach(function(r){TGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TGe(t,e,n){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kye(r.key),r)}}function PGe(t,e,n){return e&&NGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kye(t){var e=RGe(t,"string");return $E(e)=="symbol"?e:e+""}function RGe(t,e){if($E(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($E(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _V=function(){function t(e,n,r){if($Ge(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(C1(n)&&C1(n.countries)){r=n;var i=e;if(!MGe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=SV(i,void 0,void 0,void 0,r),o=s.countryCallingCode,a=s.number;if(n=a,e=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");Bye(r);var l=OGe(e,r),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return PGe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Jqe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Gqe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Zqe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new as(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return AV(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return CGe(this,n,r?eee(eee({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),jGe=function(e){return/^[A-Z]{2}$/.test(e)};function OGe(t,e){var n,r,i=new as(e);return jGe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var MGe=/^\+\d+$/;function rL(t){"@babel/helpers - typeof";return rL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rL(t)}function DGe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function BGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LGe(t,e,n){return e=PE(e),FGe(t,IV()?Reflect.construct(e,n||[],PE(t).constructor):e.apply(t,n))}function FGe(t,e){if(e&&(rL(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UGe(t)}function UGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function iL(t){var e=typeof Map=="function"?new Map:void 0;return iL=function(r){if(r===null||!HGe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return WGe(r,arguments,PE(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),NE(i,r)},iL(t)}function WGe(t,e,n){if(IV())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&NE(i,n.prototype),i}function IV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IV=function(){return!!t})()}function HGe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},NE(t,e)}function PE(t){return PE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PE(t)}var Wf=function(t){function e(n){var r;return BGe(this,e),r=LGe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return zGe(e,t),DGe(e)}(iL(Error)),tee=new RegExp("(?:"+Gye()+")$","i");function VGe(t){var e=t.search(tee);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(tee),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function qGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=GGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GGe(t,e){if(t){if(typeof t=="string")return nee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nee(t,e):void 0}}function nee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var KGe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Yye(t){return KGe[t]}function q_(t){for(var e="",n=qGe(t.split("")),r;!(r=n()).done;){var i=r.value,s=Yye(i);s&&(e+=s)}return e}function YGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=QGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QGe(t,e){if(t){if(typeof t=="string")return ree(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ree(t,e):void 0}}function ree(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iee(t){for(var e="",n=YGe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=ZGe(i,e)||""}return e}function ZGe(t,e,n){return t==="+"?e?void 0:"+":Yye(t)}var Qye="+",JGe="[\\-\\.\\(\\)]?",see="(["+pa+"]|"+JGe+")",XGe="^\\"+Qye+see+"*["+pa+"]"+see+"*$",eKe=new RegExp(XGe,"g"),sL=pa,tKe="["+sL+"]+((\\-)*["+sL+"])*",nKe="a-zA-Z",rKe="["+nKe+"]+((\\-)*["+sL+"])*",iKe="^("+tKe+"\\.)*"+rKe+"\\.?$",sKe=new RegExp(iKe,"g"),oee="tel:",oL=";phone-context=",oKe=";isub=";function aKe(t){var e=t.indexOf(oL);if(e<0)return null;var n=e+oL.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function lKe(t){return t===null?!0:t.length===0?!1:eKe.test(t)||sKe.test(t)}function cKe(t,e){var n=e.extractFormattedPhoneNumber,r=aKe(t);if(!lKe(r))throw new Wf("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===Qye&&(i+=r);var s=t.indexOf(oee),o;s>=0?o=s+oee.length:o=0;var a=t.indexOf(oL);i+=t.substring(o,a)}var l=i.indexOf(oKe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var uKe=250,dKe=new RegExp("["+BT+pa+"]"),hKe=new RegExp("[^"+pa+"#]+$");function fKe(t,e,n){if(e=e||{},n=new as(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Wf("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=mKe(t,e.v2,e.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Wf("TOO_SHORT"):new Wf("NOT_A_NUMBER");return{}}var a=yKe(i,e.defaultCountry,e.defaultCallingCode,n),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,h=a.countryCallingCodeSource,f=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Wf("INVALID_COUNTRY");return{}}if(!c||c.length<CV){if(e.v2)throw new Wf("TOO_SHORT");return{}}if(c.length>eGe){if(e.v2)throw new Wf("TOO_LONG");return{}}if(e.v2){var p=new _V(u,c,n.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=h,p}var m=(e.extended?n.hasSelectedNumberingPlan():l)?Wp(c,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:f,valid:m,possible:m?!0:!!(e.extended===!0&&n.possibleLengths()&&Fye(c,l,n)),phone:c,ext:s}:m?gKe(l,c,s):{}}function pKe(t,e,n){if(t){if(t.length>uKe){if(n)throw new Wf("TOO_LONG");return}if(e===!1)return t;var r=t.search(dKe);if(!(r<0))return t.slice(r).replace(hKe,"")}}function mKe(t,e,n){var r=cKe(t,{extractFormattedPhoneNumber:function(o){return pKe(o,n,e)}});if(!r)return{};if(!xGe(r))return EGe(r)?{error:"TOO_SHORT"}:{};var i=VGe(r);return i.ext?i:{number:r}}function gKe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function yKe(t,e,n,r){var i=SV(iee(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),o=n||MT(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=nL(iee(a),l,r),u=c.nationalNumber,h=c.carrierCode,f=kV(o,{nationalNumber:u,metadata:r});return f&&(l=f,f==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function RE(t){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(t)}function aee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aee(Object(n),!0).forEach(function(r){wKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wKe(t,e,n){return(e=bKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bKe(t){var e=vKe(t,"string");return RE(e)=="symbol"?e:e+""}function vKe(t,e){if(RE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(RE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xKe(t,e,n){return fKe(t,lee(lee({},e),{},{v2:!0}),n)}function jE(t){"@babel/helpers - typeof";return jE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jE(t)}function cee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EKe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cee(Object(n),!0).forEach(function(r){AKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AKe(t,e,n){return(e=CKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CKe(t){var e=kKe(t,"string");return jE(e)=="symbol"?e:e+""}function kKe(t,e){if(jE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SKe(t,e){return $Ke(t)||TKe(t,e)||IKe(t,e)||_Ke()}function _Ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IKe(t,e){if(t){if(typeof t=="string")return uee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uee(t,e):void 0}}function uee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function $Ke(t){if(Array.isArray(t))return t}function NKe(t){var e=Array.prototype.slice.call(t),n=SKe(e,4),r=n[0],i=n[1],s=n[2],o=n[3],a,l,c;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=EKe({defaultCountry:i},l));else if(C1(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function OE(t){"@babel/helpers - typeof";return OE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OE(t)}function dee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dee(Object(n),!0).forEach(function(r){PKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PKe(t,e,n){return(e=RKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RKe(t){var e=jKe(t,"string");return OE(e)=="symbol"?e:e+""}function jKe(t,e){if(OE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(OE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OKe(t,e,n){e&&e.defaultCountry&&!Vqe(e.defaultCountry,n)&&(e=hee(hee({},e),{},{defaultCountry:void 0}));try{return xKe(t,e,n)}catch(r){if(!(r instanceof Wf))throw r}}function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}function fee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fee(Object(n),!0).forEach(function(r){MKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MKe(t,e,n){return(e=DKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DKe(t){var e=BKe(t,"string");return ME(e)=="symbol"?e:e+""}function BKe(t,e){if(ME(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ME(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LKe(){var t=NKe(arguments),e=t.text,n=t.options,r=t.metadata;n=pee(pee({},n),{},{extract:!1});var i=OKe(e,n,r);return i&&i.isPossible()||!1}function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}function FKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WKe(r.key),r)}}function zKe(t,e,n){return e&&UKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WKe(t){var e=HKe(t,"string");return DE(e)=="symbol"?e:e+""}function HKe(t,e){if(DE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(DE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VKe=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;FKe(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return zKe(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function qKe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=GKe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GKe(t,e){if(t){if(typeof t=="string")return mee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mee(t,e):void 0}}function mee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Nu="x",FR=new RegExp(Nu);function B9(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function gee(t,e){return t[e]===")"&&e++,KKe(t.slice(0,e))}function KKe(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(r,a),r=a+1}return i}function YKe(t,e,n){for(var r=qKe(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(FR)<0)return;e=t.search(FR),t=t.replace(FR,s)}return[t,e]}function QKe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return JKe(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function ZKe(t,e,n){return DT(t,e,n)==="IS_POSSIBLE"}function JKe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=yee(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return yee(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function yee(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=qye(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),XKe(o,t))return o}function XKe(t,e){return q_(t)===e.getNationalDigits()}function BE(t){"@babel/helpers - typeof";return BE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BE(t)}function eYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rYe(r.key),r)}}function nYe(t,e,n){return e&&tYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rYe(t){var e=iYe(t,"string");return BE(e)=="symbol"?e:e+""}function iYe(t,e){if(BE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(BE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sYe=function(){function t(){eYe(this,t)}return nYe(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([UR(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(lYe);if(!r){if(aYe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),o=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(UR(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(UR(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:oYe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function oYe(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var aYe=/[\(\)\[\]\?\:\|]/,lYe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function UR(t){return t.length===1?t[0]:t}function wee(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=cYe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cYe(t,e){if(t){if(typeof t=="string")return bee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bee(t,e):void 0}}function bee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function LE(t){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(t)}function uYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fYe(r.key),r)}}function hYe(t,e,n){return e&&dYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fYe(t){var e=pYe(t,"string");return LE(e)=="symbol"?e:e+""}function pYe(t,e){if(LE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(LE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mYe=function(){function t(e){uYe(this,t),this.matchTree=new sYe().parse(e)}return hYe(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=aL(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function aL(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=aL(i,o,n&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=wee(e.args),u;!(u=c()).done;){var h=u.value,f=aL(t,h,n);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=wee(e.args),m;!(m=p()).done;){var g=m.value;if(t[0]===g)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[g]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function FE(t){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FE(t)}function vee(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=gYe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gYe(t,e){if(t){if(typeof t=="string")return xee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xee(t,e):void 0}}function xee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vYe(r.key),r)}}function bYe(t,e,n){return e&&wYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vYe(t){var e=xYe(t,"string");return FE(e)=="symbol"?e:e+""}function xYe(t,e){if(FE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(FE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lL="9",EYe=15,AYe=B9(lL,EYe),CYe=/[- ]/,kYe=function(){return/\[([^\[\]])*\]/g},SYe=function(){return/\d(?=[^,}][^,}])/g},_Ye=new RegExp("["+od+"]*\\$1["+od+"]*(\\$\\d["+od+"]*)*$"),Eee=3,IYe=function(){function t(e){e.state;var n=e.metadata;yYe(this,t),this.metadata=n,this.resetFormat()}return bYe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(ZKe(r.nationalSignificantNumber,r.country,this.metadata))for(var s=vee(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=QKe(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Nu),r),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Nu),l}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,o=n.international,a=i,l=a.length-Eee;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return r.formatSuits(c,o,s)&&r.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=n.leadingDigitsPatterns()[i];if(r.length<Eee)try{return new mYe(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var c=a.value;return r.chosenFormat===c?0:_Ye.test(r.getFormatFormat(c,n.international))?r.createTemplateForFormat(c,n)?(r.chosenFormat=c,0):(r.matchingFormats=r.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=vee(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&CYe.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Nu,r+1),i++;return gee(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Nu)+B9(Nu,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,o=r.nationalPrefix,a=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=n.pattern();l=l.replace(kYe(),"\\d").replace(SYe(),"\\d");var c=AYe.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,lL);u.test(h)&&(c=h);var f=this.getFormatFormat(n,s),p;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:o})){var m=f.replace(Vye,n.nationalPrefixFormattingRule());if(q_(n.nationalPrefixFormattingRule())===(o||"")+q_("$1")&&(f=m,p=!0,o))for(var g=o.length;g>0;)f=f.replace(/\d/,Nu),g--}var y=c.replace(new RegExp(l),f).replace(new RegExp(lL,"g"),Nu);return p||(a?y=B9(Nu,a.length)+" "+y:o&&(y=B9(Nu,o.length)+this.getSeparatorAfterNationalPrefix(n)+y)),s&&(y=Hye(y)),y}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=YKe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],gee(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function UE(t){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UE(t)}function Zye(t,e){return PYe(t)||NYe(t,e)||$Ye(t,e)||TYe()}function TYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ye(t,e){if(t){if(typeof t=="string")return Aee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aee(t,e):void 0}}function Aee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function NYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function PYe(t){if(Array.isArray(t))return t}function RYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MYe(r.key),r)}}function OYe(t,e,n){return e&&jYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MYe(t){var e=DYe(t,"string");return UE(e)=="symbol"?e:e+""}function DYe(t,e){if(UE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(UE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BYe="["+od+pa+"]+",LYe=new RegExp("^"+BYe+"$","i"),FYe="(?:["+BT+"]["+od+pa+"]*|["+od+pa+"]+)",UYe=new RegExp("[^"+od+pa+"]+.*$"),zYe=/[^\d\[\]]/,WYe=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;RYe(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return OYe(t,[{key:"input",value:function(n,r){var i=qYe(n),s=Zye(i,2),o=s[0],a=s[1],l=q_(o),c;return a&&(r.digits||(r.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,r),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=SV("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&zYe.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=tL(n,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=tL(n,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,l,a,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var u=s.slice(0,c);u&&u!==n&&(l=u)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var o=Uye(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return n.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=Wye(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])}();function HYe(t){var e=t.search(FYe);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(UYe,""),n&&(t="+"+t),t}}function VYe(t){var e=HYe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function qYe(t){var e=VYe(t),n=Zye(e,2),r=n[0],i=n[1];return LYe.test(r)||(r=""),[r,i]}function zE(t){"@babel/helpers - typeof";return zE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zE(t)}function GYe(t,e){return ZYe(t)||QYe(t,e)||YYe(t,e)||KYe()}function KYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YYe(t,e){if(t){if(typeof t=="string")return Cee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cee(t,e):void 0}}function Cee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function QYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function ZYe(t){if(Array.isArray(t))return t}function JYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tQe(r.key),r)}}function eQe(t,e,n){return e&&XYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tQe(t){var e=nQe(t,"string");return zE(e)=="symbol"?e:e+""}function nQe(t,e){if(zE(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jye=function(){function t(e,n){JYe(this,t),this.metadata=new as(n);var r=this.getCountryAndCallingCode(e),i=GYe(r,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return eQe(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(C1(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new VKe({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new IYe({state:this.state,metadata:this.metadata}),this.parser=new WYe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,o=r,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Nu)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(kV(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,o=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+o:"+"+r;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,o=this._getCountry();if(r&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new as(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=zye(r,{countries:c,metadata:this.metadata.metadata});u&&(o=u)}}var h=new _V(o||s,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function rQe(t){return new as(t).getCountries()}function iQe(t,e,n){if(e[t])return new _V(t,e[t],n)}function LT(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:l})=>{a==="success"&&e===s&&(n[o]=l.request)})),s=>n[s]||t.request}async function Xye(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=LT(t,{method:"eth_newFilter"}),u=s?NA({abi:r,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?$t(o):o,toBlock:typeof l=="bigint"?$t(l):l,topics:u}]});return{abi:r,args:i,eventName:s,id:h,request:c(h),strict:!!a,type:"event"}}class sQe extends ze{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class TV extends ze{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class oQe extends ze{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Qa(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class e1e extends ze{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function _h(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var c,u,h;const s=i??!1,o=n!==void 0?$t(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new e1e({blockHash:e,blockNumber:n});return(((h=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:h.format)||Zge)(a,"getBlock")}async function $V(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function aQe(t,e){return t1e(t,e)}async function t1e(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const c=n||await Pt(t,_h,"getBlock")({}),u=await a({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return Zl(l)}catch{const[a,l]=await Promise.all([n?Promise.resolve(n):Pt(t,_h,"getBlock")({}),Pt(t,$V,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new TV;const c=l-a.baseFeePerGas;return c<0n?0n:c}}async function lQe(t,e){return cL(t,e)}async function cL(t,e){var f,p;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var m,g;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new sQe;const l=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),c=m=>m*BigInt(Math.ceil(o*l))/BigInt(l),u=n||await Pt(t,_h,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new TV;const m=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await t1e(t,{block:u,chain:r,request:i}),g=c(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??g+m,maxPriorityFeePerGas:m}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await Pt(t,$V,"getGasPrice")({}))}}async function M3(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return pd(e)}const n1e=["blobVersionedHashes","chainId","fees","gas","nonce","type"],kee=new Map;async function FT(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:l,parameters:c=n1e,type:u}=e,h=n&&Oi(n),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function m(){return p||(p=await Pt(t,_h,"getBlock")({blockTag:"latest"}),p)}let g;async function y(){return g||(i?i.id:typeof e.chainId<"u"?e.chainId:(g=await Pt(t,M3,"getChainId")({}),g))}if(c.includes("nonce")&&typeof a>"u"&&h)if(l){const w=await y();f.nonce=await l.consume({address:h.address,chainId:w,client:t})}else f.nonce=await Pt(t,dV,"getTransactionCount")({address:h.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&o){const w=pge({blobs:r,kzg:o});if(c.includes("blobVersionedHashes")){const v=uze({commitments:w,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=mge({blobs:r,commitments:w,kzg:o}),b=pze({blobs:r,commitments:w,proofs:v,to:"hex"});f.sidecars=b}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=wze(f)}catch{let w=kee.get(t.uid);if(typeof w>"u"){const v=await m();w=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",kee.set(t.uid,w)}f.type=w?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const w=await m(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await cL(t,{block:w,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new oQe({maxPriorityFeePerGas:b});f.maxPriorityFeePerGas=b,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new TV;if(typeof e.gasPrice>"u"){const w=await m(),{gasPrice:v}=await cL(t,{block:w,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof s>"u"&&(f.gas=await Pt(t,NV,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),Nw(f),delete f.parameters,f}async function NV(t,e){var i,s,o;const{account:n=t.account}=e,r=n?Oi(n):void 0;try{const{accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,value:A,stateOverride:E,...$}=await FT(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),R=(typeof h=="bigint"?$t(h):void 0)||f,M=uV(E),F=await(async()=>{if($.to)return $.to;if(l&&l.length>0)return await eV({authorization:l[0]}).catch(()=>{throw new ze("`to` is required. Could not infer from `authorizationList`")})})();Nw(e);const W=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,B=(W||O3)({...$T($,{format:W}),from:r==null?void 0:r.address,accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:F,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:M?[B,R??t.experimental_blockTag??"latest",M]:R?[B,R]:[B]}))}catch(a){throw CWe(a,{...e,account:r,chain:t.chain})}}async function cQe(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,l=ol({abi:n,args:i,functionName:s});try{return await Pt(t,NV,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Oi(a.account):void 0;throw G1(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function PV(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(g=>NA({abi:[g],eventName:g.name,args:o?void 0:a}))],s&&(h=h[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof r=="bigint"?$t(r):r,toBlock:typeof i=="bigint"?$t(i):i}]});const p=f.map(m=>Fp(m));return u?XH({abi:u,args:a,logs:p,strict:c}):p}async function r1e(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?Iw({abi:n,name:o}):void 0,h=u?void 0:n.filter(f=>f.type==="event");return Pt(t,PV,"getLogs")({address:r,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:l,strict:c})}async function bd(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=ol({abi:n,args:i,functionName:s});try{const{data:l}=await Pt(t,NT,"call")({...o,data:a,to:r});return Tw({abi:n,args:i,functionName:s,data:l||"0x"})}catch(l){throw G1(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function uQe(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?Oi(a.account):t.account,c=ol({abi:n,args:i,functionName:o});try{const{data:u}=await Pt(t,NT,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:r,...a,account:l}),h=Tw({abi:n,args:i,functionName:o,data:u||"0x"}),f=n.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:r,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw G1(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const zR=new Map,See=new Map;let dQe=0;function Hp(t,e,n){const r=++dQe,i=()=>zR.get(t)||[],s=()=>{const u=i();zR.set(t,u.filter(h=>h.id!==r))},o=()=>{const u=i();if(!u.some(f=>f.id===r))return;const h=See.get(t);if(u.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(zR.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=(...h)=>{var p,m;const f=i();if(f.length!==0)for(const g of f)(m=(p=g.fns)[u])==null||m.call(p,...h)};const c=n(l);return typeof c=="function"&&See.set(t,c),o}function D3(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await(n==null?void 0:n(a))??r;await FB(l);const c=async()=>{i&&(await t({unpoll:s}),await FB(r),c())};c()})(),s}const hQe=new Map,fQe=new Map;function pQe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,hQe),r=e(t,fQe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function mQe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=pQe(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const gQe=t=>`blockNumber.${t}`;async function BA(t,{cacheTime:e=t.cacheTime}={}){const n=await mQe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:gQe(t.uid),cacheTime:e});return BigInt(n)}async function UT(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Fp(s));return!("abi"in e)||!e.abi?i:XH({abi:e.abi,logs:i,strict:n})}async function zT(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function yQe(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,w=ss(["watchContractEvent",r,i,s,t.uid,o,h,y,a]);return Hp(w,{onLogs:c,onError:l},v=>{let b;a!==void 0&&(b=a-1n);let A,E=!1;const $=D3(async()=>{var N;if(!E){try{A=await Pt(t,Xye,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:y,fromBlock:a})}catch{}E=!0;return}try{let R;if(A)R=await Pt(t,UT,"getFilterChanges")({filter:A});else{const M=await Pt(t,BA,"getBlockNumber")({});b&&b<M?R=await Pt(t,r1e,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:b+1n,toBlock:M,strict:y}):R=[],b=M}if(R.length===0)return;if(s)v.onLogs(R);else for(const M of R)v.onLogs([M])}catch(R){A&&R instanceof H1&&(E=!1),(N=v.onError)==null||N.call(v,R)}},{emitOnBegin:!0,interval:h});return async()=>{A&&await Pt(t,zT,"uninstallFilter")({filter:A}),$()}})})():(()=>{const y=f??!1,w=ss(["watchContractEvent",r,i,s,t.uid,o,h,y]);let v=!0,b=()=>v=!1;return Hp(w,{onLogs:c,onError:l},A=>((async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),$=o?NA({abi:n,eventName:o,args:i}):[],{unsubscribe:N}=await E.subscribe({params:["logs",{address:r,topics:$}],onData(R){var F;if(!v)return;const M=R.result;try{const{eventName:W,args:V}=JH({abi:n,data:M.data,topics:M.topics,strict:f}),B=Fp(M,{args:V,eventName:W});A.onLogs([B])}catch(W){let V,B;if(W instanceof oE||W instanceof ET){if(f)return;V=W.abiItem.name,B=(F=W.abiItem.inputs)==null?void 0:F.some(C=>!("name"in C&&C.name))}const k=Fp(M,{args:B?[]:{},eventName:V});A.onLogs([k])}},onError(R){var M;(M=A.onError)==null||M.call(A,R)}});b=N,v||b()}catch(E){l==null||l(E)}})(),()=>b()))})()}class Pw extends ze{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class L9 extends ze{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function RV(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const WR=new vT(128);async function WT(t,e){var v,b,A,E;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,type:m,value:g,...y}=e;if(typeof n>"u")throw new Pw({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Oi(n):null;try{Nw(e);const $=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await eV({authorization:s[0]}).catch(()=>{throw new ze("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let N;r!==null&&(N=await Pt(t,M3,"getChainId")({}),Gge({currentChainId:N,chain:r}));const R=(A=(b=(v=t.chain)==null?void 0:v.formatters)==null?void 0:b.transactionRequest)==null?void 0:A.format,F=(R||O3)({...$T(y,{format:R}),accessList:i,authorizationList:s,blobs:o,chainId:N,data:a,from:w==null?void 0:w.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:$,type:m,value:g},"sendTransaction"),W=WR.get(t.uid),V=W?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:V,params:[F]},{retryCount:0})}catch(B){if(W===!1)throw B;const k=B;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(C=>(WR.set(t.uid,!0),C)).catch(C=>{const S=C;throw S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"?(WR.set(t.uid,!1),k):S});throw k}}if((w==null?void 0:w.type)==="local"){const N=await Pt(t,FT,"prepareTransactionRequest")({account:w,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:w.nonceManager,parameters:[...n1e,"sidecars"],type:m,value:g,...y,to:$}),R=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,M=await w.signTransaction(N,{serializer:R});return await Pt(t,RV,"sendRawTransaction")({serializedTransaction:M})}throw(w==null?void 0:w.type)==="smart"?new L9({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new L9({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch($){throw $ instanceof L9?$:Kge($,{...e,account:w,chain:e.chain||void 0})}}async function wQe(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...l}=e;if(typeof r>"u")throw new Pw({docsPath:"/docs/contract/writeContract"});const c=r?Oi(r):null,u=ol({abi:n,args:s,functionName:a});try{return await Pt(t,WT,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:c,...l})}catch(h){throw G1(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:c==null?void 0:c.address})}}class bQe extends ze{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const i1e="0x5792579257925792579257925792579257925792579257925792579257925792",s1e=$t(0,{size:32});async function vQe(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Oi(n):null,h=e.calls.map(f=>{const p=f,m=p.abi?ol({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&m?Xc([m,p.dataSuffix]):m,to:p.to,value:p.value?$t(p.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:r,chainId:$t(i.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new $x(new ze(v,{details:v}))}if(a&&h.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Nx(new ze(w,{details:w}))}const m=[];for(const w of h){const v=WT(t,{account:u,chain:i,data:w.data,to:w.to,value:w.value?Zl(w.value):void 0});m.push(v),o>0&&await new Promise(b=>setTimeout(b,o))}const g=await Promise.allSettled(m);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:s1e);return{id:Xc([...y,$t(i.id,{size:32}),i1e])}}throw Kge(f,{...e,account:u,chain:e.chain})}}async function o1e(t,e){async function n(u){if(u.endsWith(i1e.slice(2))){const f=Ep(_B(u,-64,-32)),p=_B(u,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(p.map(y=>s1e.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=m.some(y=>y===null)?100:m.every(y=>(y==null?void 0:y.status)==="0x1")?200:m.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:pd(f),receipts:m.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?pd(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:Zl(u.blockNumber),gasUsed:Zl(u.gasUsed),status:Jge[u.status]})))??[],statusCode:c,status:l,version:o}}async function xQe(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:g})=>g===200||g>=300,retryCount:s=4,retryDelay:o=({count:g})=>~~(1<<g)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=ss(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:h,reject:f}=cV();let p;const m=Hp(c,{resolve:h,reject:f},g=>{const y=D3(async()=>{const w=v=>{clearTimeout(p),y(),v(),m()};try{const v=await __(async()=>{const b=await Pt(t,o1e,"getCallsStatus")({id:n});if(l&&b.status==="failure")throw new bQe(b);return b},{retryCount:s,delay:o});if(!i(v))return;w(()=>g.resolve(v))}catch(v){w(()=>g.reject(v))}},{interval:r,emitOnBegin:!0});return y});return p=a?setTimeout(()=>{m(),clearTimeout(p),f(new EQe({id:n}))},a):void 0,await u}class EQe extends ze{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const uL=256;let ok=uL,ak;function a1e(t=11){if(!ak||ok+t>uL*2){ak="",ok=0;for(let e=0;e<uL;e++)ak+=(256+Math.random()*256|0).toString(16).substring(1)}return ak.substring(ok,ok+++t)}function l1e(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,h=t.cacheTime??u,f=t.account?Oi(t.account):void 0,{config:p,request:m,value:g}=t.transport({chain:n,pollingInterval:u}),y={...p,...g},w={account:f,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:u,request:m,transport:y,type:o,uid:a1e(),...a?{experimental_blockTag:a}:{}};function v(b){return A=>{const E=A(b);for(const N in w)delete E[N];const $={...b,...E};return Object.assign($,{extend:v($)})}}return Object.assign(w,{extend:v(w)})}function jV(t){var n,r,i,s,o,a;if(!(t instanceof ze))return!1;const e=t.walk(l=>l instanceof HB);return e instanceof HB?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function c1e(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ro(e)?e:null}function dL(t){let e=new Uint8Array(32).fill(0);if(!t)return os(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=c1e(n[r]),s=i?N3(i):Ws(x1(n[r]),"bytes");e=Ws(Xc([e,s]),"bytes")}return os(e)}function AQe(t){return`[${t.slice(2)}]`}function CQe(t){const e=new Uint8Array(32).fill(0);return t?c1e(t)||Ws(x1(t)):os(e)}function OV(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(x1(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=x1(i[s]);o.byteLength>255&&(o=x1(AQe(CQe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function kQe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return j3({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const h=i!=null?[dL(s),BigInt(i)]:[dL(s)];try{const f=ol({abi:bX,functionName:"addr",args:h}),p={address:c,abi:Lge,functionName:"resolveWithGateways",args:[_i(OV(s)),f,o??[PT]],blockNumber:n,blockTag:r},g=await Pt(t,bd,"readContract")(p);if(g[0]==="0x")return null;const y=Tw({abi:bX,args:h,functionName:"addr",data:g[0]});return y==="0x"||Ep(y)==="0x00"?null:y}catch(f){if(a)throw f;if(jV(f))return null;throw f}}class SQe extends ze{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class T5 extends ze{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class MV extends ze{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class _Qe extends ze{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const IQe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,TQe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,$Qe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,NQe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function PQe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function _ee(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function u1e({uri:t,gatewayUrls:e}){const n=$Qe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=_ee(e==null?void 0:e.ipfs,"https://ipfs.io"),i=_ee(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(IQe),{protocol:o,subpath:a,target:l,subtarget:c=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||TQe.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(NQe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new MV({uri:t})}function d1e(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new SQe({data:t});return t.image||t.image_url||t.image_data}async function RQe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await DV({gatewayUrls:t,uri:d1e(n)})}catch{throw new MV({uri:e})}}async function DV({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=u1e({uri:e,gatewayUrls:t});if(r||await PQe(n))return n;throw new MV({uri:e})}function jQe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,l]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new T5({reason:"Only EIP-155 supported"});if(!o)throw new T5({reason:"Chain ID not found"});if(!l)throw new T5({reason:"Contract address not found"});if(!i)throw new T5({reason:"Token ID not found"});if(!a)throw new T5({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function OQe(t,{nft:e}){if(e.namespace==="erc721")return bd(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return bd(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new _Qe({namespace:e.namespace})}async function MQe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?DQe(t,{gatewayUrls:e,record:n}):DV({uri:n,gatewayUrls:e})}async function DQe(t,{gatewayUrls:e,record:n}){const r=jQe(n),i=await OQe(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=u1e({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return DV({uri:d1e(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),RQe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function h1e(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return j3({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:c,abi:Lge,args:[_i(OV(s)),ol({abi:wX,functionName:"text",args:[dL(s),i]}),o??[PT]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await Pt(t,bd,"readContract")(h);if(p[0]==="0x")return null;const m=Tw({abi:wX,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(a)throw h;if(jV(h))return null;throw h}}async function BQe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await Pt(t,h1e,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await MQe(t,{record:l,gatewayUrls:r})}catch{return null}}async function LQe(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return j3({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:iWe,args:[n,s,o??[PT]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},h=Pt(t,bd,"readContract"),[f]=await h(u);return f||null}catch(u){if(a)throw u;if(jV(u))return null;throw u}}async function FQe(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return j3({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await Pt(t,bd,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_i(OV(i))],blockNumber:n,blockTag:r});return l}async function f1e(t,e){var y,w,v;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,g=n?Oi(n):void 0;try{Nw(e);const A=(typeof r=="bigint"?$t(r):void 0)||i,E=(v=(w=(y=t.chain)==null?void 0:y.formatters)==null?void 0:w.transactionRequest)==null?void 0:v.format,N=(E||O3)({...$T(m,{format:E}),from:g==null?void 0:g.address,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[N,A]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(b){throw Hge(b,{...e,account:g,chain:t.chain})}}async function UQe(t){const e=LT(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function p1e(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(r?[r]:void 0),c=LT(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>NA({abi:[p],eventName:p.name,args:n}))],r&&(u=u[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?$t(s):s,toBlock:typeof a=="bigint"?$t(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:c(h),strict:!!o,toBlock:a,type:"event"}}async function m1e(t){const e=LT(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function zQe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?$t(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function WQe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function HQe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?$t(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),pd(s)}async function hL(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?$t(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class VQe extends ze{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function qQe(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,l,c,u,h]=await Pt(t,bd,"readContract")({abi:GQe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new VQe({address:n}):o}}const GQe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function KQe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function YQe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?$t(n):void 0,o=await t.request({method:"eth_feeHistory",params:[$t(e),s||r,i]},{dedupe:!!s});return KQe(o)}async function QQe(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Fp(s));return e.abi?XH({abi:e.abi,logs:i,strict:n}):i}function ZQe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function JQe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?pd(t.nonce):void 0,storageProof:t.storageProof?ZQe(t.storageProof):void 0}}async function XQe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?$t(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return JQe(a)}async function eZe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?$t(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function BV(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,f;const o=r||"latest",a=n!==void 0?$t(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,$t(s)]},{dedupe:!0}):(a||o)&&(l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,$t(s)]},{dedupe:!!a})),!l)throw new hge({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||Qge)(l,"getTransaction")}async function tZe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Pt(t,BA,"getBlockNumber")({}),e?Pt(t,BV,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function F9(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new fge({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||SWe)(n,"getTransactionReceipt")}async function nZe(t,e){var v;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((v=t.batch)==null?void 0:v.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return j3({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,g=0;for(let b=0;b<c.length;b++){const{abi:A,address:E,args:$,functionName:N}=c[b];try{const R=ol({abi:A,args:$,functionName:N});g+=(R.length-2)/2,u>0&&g>u&&p[m].length>0&&(m++,g=(R.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:R,target:E}]}catch(R){const M=G1(R,{abi:A,address:E,args:$,docsPath:"/docs/contract/multicall",functionName:N,sender:n});if(!i)throw M;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:E}]}}const y=await Promise.allSettled(p.map(b=>Pt(t,bd,"readContract")({...f===null?{code:lV}:{address:f},abi:$_,account:n,args:[b],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),w=[];for(let b=0;b<y.length;b++){const A=y[b];if(A.status==="rejected"){if(!i)throw A.reason;for(let $=0;$<p[b].length;$++)w.push({status:"failure",error:A.reason,result:void 0});continue}const E=A.value;for(let $=0;$<E.length;$++){const{returnData:N,success:R}=E[$],{callData:M}=p[b][$],{abi:F,address:W,functionName:V,args:B}=c[w.length];try{if(M==="0x")throw new TA;if(!R)throw new IT({data:N});const k=Tw({abi:F,args:B,data:N,functionName:V});w.push(i?{result:k,status:"success"}:k)}catch(k){const C=G1(k,{abi:F,address:W,args:B,docsPath:"/docs/contract/multicall",functionName:V});if(!i)throw C;w.push({error:C,result:void 0,status:"failure"})}}}if(w.length!==c.length)throw new ze("multicall results mismatch");return w}async function fL(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const f of i){const p=f.blockOverrides?Dge(f.blockOverrides):void 0,m=f.calls.map(y=>{const w=y,v=w.account?Oi(w.account):void 0,b=w.abi?ol(w):w.data,A={...w,data:w.dataSuffix?Xc([b||"0x",w.dataSuffix]):b,from:w.from??(v==null?void 0:v.address)};return Nw(A),O3(A)}),g=f.stateOverrides?uV(f.stateOverrides):void 0;l.push({blockOverrides:p,calls:m,stateOverrides:g})}const u=(typeof n=="bigint"?$t(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,p)=>({...Zge(f),calls:f.calls.map((m,g)=>{var F,W;const{abi:y,args:w,functionName:v,to:b}=i[p].calls[g],A=((F=m.error)==null?void 0:F.data)??m.returnData,E=BigInt(m.gasUsed),$=(W=m.logs)==null?void 0:W.map(V=>Fp(V)),N=m.status==="0x1"?"success":"failure",R=y&&N==="success"&&A!=="0x"?Tw({abi:y,data:A,functionName:v}):null,M=(()=>{var B;if(N==="success")return;let V;if(((B=m.error)==null?void 0:B.data)==="0x"?V=new TA:m.error&&(V=new IT(m.error)),!!V)return G1(V,{abi:y??[],address:b??"0x",args:w,functionName:v??"<unknown>"})})();return{data:A,gasUsed:E,logs:$,status:N,...N==="success"?{result:R}:{error:M}}})}))}catch(l){const c=l,u=TT(c,{});throw u instanceof jA?c:u}}function pL(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Bn("Unable to normalize signature.");return i}function mL(t,e){const n=typeof t,r=e.type;switch(r){case"address":return VB(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>mL(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>mL(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function g1e(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return g1e(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?VB(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?VB(n[r],{strict:!1}):!1)return o}}function y1e(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?HJ(t):t;return{...r,...n?{hash:wv(r)}:{}}}function HT(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=eWe(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?w1e(c)===Dh(e,0,4):c.type==="event"?wv(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new G_({name:e});if(o.length===1)return{...o[0],...i?{hash:wv(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:wv(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((h,f)=>{const p="inputs"in c&&c.inputs[f];return p?mL(h,p):!1})){if(a&&"inputs"in a&&a.inputs){const h=g1e(c.inputs,a.inputs,r);if(h)throw new iZe({abiItem:c,type:h[0]},{abiItem:a,type:h[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new G_({name:e});return{...l,...i?{hash:wv(l)}:{}}}function w1e(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return HT(n,r)}return t[0]})();return Dh(wv(e),0,4)}function rZe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return HT(r,i)}return t[0]})(),n=typeof e=="string"?e:C_(e);return pL(n)}function wv(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return HT(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:oye(aV(rZe(e)))}class iZe extends Bn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${pL(C_(e.abiItem))}\`, and`,`\`${n.type}\` in \`${pL(C_(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class G_ extends Bn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function sZe(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[aZe(o),a]}return t})(),{bytecode:r,args:i}=n;return yd(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?mV(e.inputs,i):"0x")}function oZe(t){return y1e(t)}function aZe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new G_({name:"constructor"});return e}function lZe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[c,u,h]=t;return[Iee(c,u,{args:h}),h]}const[a,l]=t;return[a,l]})(),{overloads:r}=e,i=r?Iee([e,...r],e.name,{args:n}):e,s=cZe(i),o=n.length>0?mV(i.inputs,n):void 0;return o?yd(s,o):s}function ob(t,e={}){return y1e(t,e)}function Iee(t,e,n){const r=HT(t,e,n);if(r.type!=="function")throw new G_({name:e,type:"function"});return r}function cZe(t){return w1e(t)}const uZe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Bd="0x0000000000000000000000000000000000000000",dZe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function hZe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?Oi(e.account):void 0;if(o&&!c)throw new ze("`account` is required when `traceAssetChanges` is true");const u=c?sZe(oZe("constructor(bytes, bytes)"),{bytecode:Uge,args:[dZe,lZe(ob("function getBalance(address)"),[c.address])]}):void 0,h=o?await Promise.all(e.calls.map(async _=>{if(!_.data&&!_.abi)return;const{accessList:P}=await f1e(t,{account:c.address,..._,data:_.abi?ol(_):_.data});return P.map(({address:D,storageKeys:j})=>j.length>0?D:null)})).then(_=>_.flat().filter(Boolean)):[],f=await fL(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:h.map((_,P)=>({abi:[ob("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:_,from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]}]:[],{calls:[...i,{}].map(_=>({..._,from:c==null?void 0:c.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:h.map((_,P)=>({abi:[ob("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:_,from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]},{calls:h.map((_,P)=>({to:_,abi:[ob("function decimals() returns (uint256)")],functionName:"decimals",from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]},{calls:h.map((_,P)=>({to:_,abi:[ob("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]},{calls:h.map((_,P)=>({to:_,abi:[ob("function symbol() returns (string)")],functionName:"symbol",from:Bd,nonce:P})),stateOverrides:[{address:Bd,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?f[2]:f[0],[m,g,,y,w,v,b,A]=o?f:[],{calls:E,...$}=p,N=E.slice(0,-1)??[],R=(m==null?void 0:m.calls)??[],M=(g==null?void 0:g.calls)??[],F=[...R,...M].map(_=>_.status==="success"?Zl(_.data):null),W=(y==null?void 0:y.calls)??[],V=(w==null?void 0:w.calls)??[],B=[...W,...V].map(_=>_.status==="success"?Zl(_.data):null),k=((v==null?void 0:v.calls)??[]).map(_=>_.status==="success"?_.result:null),C=((A==null?void 0:A.calls)??[]).map(_=>_.status==="success"?_.result:null),S=((b==null?void 0:b.calls)??[]).map(_=>_.status==="success"?_.result:null),T=[];for(const[_,P]of B.entries()){const D=F[_];if(typeof P!="bigint"||typeof D!="bigint")continue;const j=k[_-1],I=C[_-1],L=S[_-1],J=_===0?{address:uZe,decimals:18,symbol:"ETH"}:{address:h[_-1],decimals:L||j?Number(j??1):void 0,symbol:I??void 0};T.some(O=>O.token.address===J.address)||T.push({token:J,value:{pre:D,post:P,diff:P-D}})}return{assetChanges:T,block:$,results:N}}const b1e="0x6492649264926492649264926492649264926492649264926492649264926492";function fZe(t){if(Dh(t,-32)!==b1e)throw new gZe(t)}function pZe(t){const{data:e,signature:n,to:r}=t;return yd(mV(cye("address, bytes, bytes"),[r,e,n]),b1e)}function mZe(t){try{return fZe(t),!0}catch{return!1}}class gZe extends Bn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function yZe({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Sye.Signature(Zl(t),Zl(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:md(o)}async function VT(t,e){var a,l,c,u,h,f;const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((c=(l=(a=t.chain)==null?void 0:a.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:s=e.multicallAddress??((f=(h=(u=t.chain)==null?void 0:u.contracts)==null?void 0:h.multicall3)==null?void 0:f.address)}=e,o=(()=>{const p=e.signature;return Ro(p)?p:typeof p=="object"&&"r"in p&&"s"in p?yZe(p):os(p)})();try{return nVe(o)?await wZe(t,{...e,multicallAddress:s,signature:o}):await bZe(t,{...e,verifierAddress:i,signature:o})}catch(p){try{if(PA(Bi(n),await uge({hash:r,signature:o})))return!0}catch{}if(p instanceof Z1)return!1;throw p}}async function wZe(t,e){var y;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=tVe(e.signature);if(await hL(t,{address:n,blockNumber:r,blockTag:i})===P3(["0xef0100",a.address]))return await vZe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:c});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:$t(a.r,{size:32}),s:$t(a.s,{size:32}),yParity:a.yParity};if(!await bze({address:n,authorization:f}))throw new Z1;const m=await Pt(t,bd,"readContract")({...o?{address:o}:{code:lV},authorizationList:[f],abi:$_,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??n,callData:l}]:[],{allowFailure:!0,target:n,callData:ol({abi:Fge,functionName:"isValidSignature",args:[s,c]})}]]}),g=(y=m[m.length-1])==null?void 0:y.returnData;if(g!=null&&g.startsWith("0x1626ba7e"))return!0;throw new Z1}async function bZe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!r&&!i||mZe(o)?o:pZe({data:i,signature:o,to:r}))(),u=a?{to:a,data:ol({abi:vX,functionName:"isValidSig",args:[n,s,c]}),...l}:{data:CT({abi:vX,args:[n,s,c],bytecode:aWe}),...l},{data:h}=await Pt(t,NT,"call")(u).catch(f=>{throw f instanceof zge?new Z1:f});if(wFe(h??"0x0"))return!0;throw new Z1}async function vZe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await Pt(t,bd,"readContract")({address:n,abi:Fge,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof Wge?new Z1:l})).startsWith("0x1626ba7e"))return!0;throw new Z1}class Z1 extends Error{}async function xZe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=Xge(n);return VT(t,{address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function EZe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,h=DWe({message:o,primaryType:a,types:l,domain:c});return VT(t,{address:n,factory:r,factoryData:i,hash:h,signature:s,...u})}function v1e(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=ss(["watchBlockNumber",t.uid,e,n,o]);return Hp(h,{onBlockNumber:r,onError:i},f=>D3(async()=>{var p;try{const m=await Pt(t,BA,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(m===l)return;if(m-l>1&&n)for(let g=l+1n;g<m;g++)f.onBlockNumber(g,l),l=g}(l===void 0||m>l)&&(f.onBlockNumber(m,l),l=m)}catch(m){(p=f.onError)==null||p.call(f,m)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=ss(["watchBlockNumber",t.uid,e,n]);return Hp(h,{onBlockNumber:r,onError:i},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var b;if(!p)return;const v=Zl((b=w.result)==null?void 0:b.number);f.onBlockNumber(v,l),l=v},onError(w){var v;(v=f.onError)==null||v.call(f,w)}});m=y,p||m()}catch(g){i==null||i(g)}})(),()=>m()})})()}async function AZe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:l=18e4}=e,c=ss(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var E;return e.pollingInterval?e.pollingInterval:(E=t.chain)!=null&&E.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,f,p,m=!1,g,y;const{promise:w,resolve:v,reject:b}=cV(),A=l?setTimeout(()=>{y==null||y(),g==null||g(),b(new eze({hash:i}))},l):void 0;return g=Hp(c,{onReplaced:s,resolve:v,reject:b},async E=>{if(p=await Pt(t,F9,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&r<=1){clearTimeout(A),E.resolve(p),g==null||g();return}y=Pt(t,v1e,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber($){const N=M=>{clearTimeout(A),y==null||y(),M(),g==null||g()};let R=$;if(!m)try{if(p){if(r>1&&(!p.blockNumber||R-p.blockNumber+1n<r))return;N(()=>E.resolve(p));return}if(n&&!h&&(m=!0,await __(async()=>{h=await Pt(t,BV,"getTransaction")({hash:i}),h.blockNumber&&(R=h.blockNumber)},{delay:a,retryCount:o}),m=!1),p=await Pt(t,F9,"getTransactionReceipt")({hash:i}),r>1&&(!p.blockNumber||R-p.blockNumber+1n<r))return;N(()=>E.resolve(p))}catch(M){if(M instanceof hge||M instanceof fge){if(!h){m=!1;return}try{f=h,m=!0;const F=await __(()=>Pt(t,_h,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:B})=>B instanceof e1e});m=!1;const W=F.transactions.find(({from:B,nonce:k})=>B===f.from&&k===f.nonce);if(!W||(p=await Pt(t,F9,"getTransactionReceipt")({hash:W.hash}),r>1&&(!p.blockNumber||R-p.blockNumber+1n<r)))return;let V="replaced";W.to===f.to&&W.value===f.value&&W.input===f.input?V="repriced":W.from===W.to&&W.value===0n&&(V="cancelled"),N(()=>{var B;(B=E.onReplaced)==null||B.call(E,{reason:V,replacedTransaction:f,transaction:W,transactionReceipt:p}),E.resolve(p)})}catch(F){N(()=>E.reject(F))}}else N(()=>E.reject(M))}}})}),w}function CZe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let h;return c?(()=>{const m=ss(["watchBlocks",t.uid,e,n,r,u,l]);return Hp(m,{onBlock:i,onError:s},g=>D3(async()=>{var y;try{const w=await Pt(t,_h,"getBlock")({blockTag:e,includeTransactions:u});if(w.number!==null&&(h==null?void 0:h.number)!=null){if(w.number===h.number)return;if(w.number-h.number>1&&n)for(let v=(h==null?void 0:h.number)+1n;v<w.number;v++){const b=await Pt(t,_h,"getBlock")({blockNumber:v,includeTransactions:u});g.onBlock(b,h),h=b}}((h==null?void 0:h.number)==null||e==="pending"&&(w==null?void 0:w.number)==null||w.number!==null&&w.number>h.number)&&(g.onBlock(w,h),h=w)}catch(w){(y=g.onError)==null||y.call(g,w)}},{emitOnBegin:r,interval:l}))})():(()=>{let m=!0,g=!0,y=()=>m=!1;return(async()=>{try{r&&Pt(t,_h,"getBlock")({blockTag:e,includeTransactions:u}).then(b=>{m&&g&&(i(b,void 0),g=!1)}).catch(s);const w=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await w.subscribe({params:["newHeads"],async onData(b){var E;if(!m)return;const A=await Pt(t,_h,"getBlock")({blockNumber:(E=b.result)==null?void 0:E.number,includeTransactions:u}).catch(()=>{});m&&(i(A,h),g=!1,h=A)},onError(b){s==null||s(b)}});y=v,m||y()}catch(w){s==null||s(w)}})(),()=>y()})()}function kZe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:h}){const f=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const y=ss(["watchEvent",e,n,r,t.uid,i,u,o]);return Hp(y,{onLogs:l,onError:a},w=>{let v;o!==void 0&&(v=o-1n);let b,A=!1;const E=D3(async()=>{var $;if(!A){try{b=await Pt(t,p1e,"createEventFilter")({address:e,args:n,event:i,events:s,strict:p,fromBlock:o})}catch{}A=!0;return}try{let N;if(b)N=await Pt(t,UT,"getFilterChanges")({filter:b});else{const R=await Pt(t,BA,"getBlockNumber")({});v&&v!==R?N=await Pt(t,PV,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:v+1n,toBlock:R}):N=[],v=R}if(N.length===0)return;if(r)w.onLogs(N);else for(const R of N)w.onLogs([R])}catch(N){b&&N instanceof H1&&(A=!1),($=w.onError)==null||$.call(w,N)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await Pt(t,zT,"uninstallFilter")({filter:b}),E()}})})():(()=>{let y=!0,w=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const $=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return $?$.value:t.transport}return t.transport})(),b=s??(i?[i]:void 0);let A=[];b&&(A=[b.flatMap(N=>NA({abi:[N],eventName:N.name,args:n}))],i&&(A=A[0]));const{unsubscribe:E}=await v.subscribe({params:["logs",{address:e,topics:A}],onData($){var R;if(!y)return;const N=$.result;try{const{eventName:M,args:F}=JH({abi:b??[],data:N.data,topics:N.topics,strict:p}),W=Fp(N,{args:F,eventName:M});l([W])}catch(M){let F,W;if(M instanceof oE||M instanceof ET){if(h)return;F=M.abiItem.name,W=(R=M.abiItem.inputs)==null?void 0:R.some(B=>!("name"in B&&B.name))}const V=Fp(N,{args:W?[]:{},eventName:F});l([V])}},onError($){a==null||a($)}});w=E,y||w()}catch(v){a==null||a(v)}})(),()=>w()})()}function SZe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=ss(["watchPendingTransactions",t.uid,e,s]);return Hp(c,{onTransactions:r,onError:n},u=>{let h;const f=D3(async()=>{var p;try{if(!h)try{h=await Pt(t,m1e,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const m=await Pt(t,UT,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)u.onTransactions(m);else for(const g of m)u.onTransactions([g])}catch(m){(p=u.onError)==null||p.call(u,m)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await Pt(t,zT,"uninstallFilter")({filter:h}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});u=h,c||u()}catch(h){n==null||n(h)}})(),()=>u()})()}function _Ze(t){var h,f,p;const{scheme:e,statement:n,...r}=((h=t.match(IZe))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(TZe))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const IZe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,TZe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function $Ze(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!nl(r.address,{strict:!1})||e&&!PA(r.address,e))return!1}catch{return!1}return!0}async function NZe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=_Ze(i);if(!u.address||!$Ze({address:n,domain:r,message:u,nonce:s,scheme:o,time:l}))return!1;const f=Xge(i);return VT(t,{address:u.address,hash:f,signature:a,...c})}function LV(t){return{call:e=>NT(t,e),createAccessList:e=>f1e(t,e),createBlockFilter:()=>UQe(t),createContractEventFilter:e=>Xye(t,e),createEventFilter:e=>p1e(t,e),createPendingTransactionFilter:()=>m1e(t),estimateContractGas:e=>cQe(t,e),estimateGas:e=>NV(t,e),getBalance:e=>zQe(t,e),getBlobBaseFee:()=>WQe(t),getBlock:e=>_h(t,e),getBlockNumber:e=>BA(t,e),getBlockTransactionCount:e=>HQe(t,e),getBytecode:e=>hL(t,e),getChainId:()=>M3(t),getCode:e=>hL(t,e),getContractEvents:e=>r1e(t,e),getEip712Domain:e=>qQe(t,e),getEnsAddress:e=>kQe(t,e),getEnsAvatar:e=>BQe(t,e),getEnsName:e=>LQe(t,e),getEnsResolver:e=>FQe(t,e),getEnsText:e=>h1e(t,e),getFeeHistory:e=>YQe(t,e),estimateFeesPerGas:e=>lQe(t,e),getFilterChanges:e=>UT(t,e),getFilterLogs:e=>QQe(t,e),getGasPrice:()=>$V(t),getLogs:e=>PV(t,e),getProof:e=>XQe(t,e),estimateMaxPriorityFeePerGas:e=>aQe(t,e),getStorageAt:e=>eZe(t,e),getTransaction:e=>BV(t,e),getTransactionConfirmations:e=>tZe(t,e),getTransactionCount:e=>dV(t,e),getTransactionReceipt:e=>F9(t,e),multicall:e=>nZe(t,e),prepareTransactionRequest:e=>FT(t,e),readContract:e=>bd(t,e),sendRawTransaction:e=>RV(t,e),simulate:e=>fL(t,e),simulateBlocks:e=>fL(t,e),simulateCalls:e=>hZe(t,e),simulateContract:e=>uQe(t,e),verifyHash:e=>VT(t,e),verifyMessage:e=>xZe(t,e),verifySiweMessage:e=>NZe(t,e),verifyTypedData:e=>EZe(t,e),uninstallFilter:e=>zT(t,e),waitForTransactionReceipt:e=>AZe(t,e),watchBlocks:e=>CZe(t,e),watchBlockNumber:e=>v1e(t,e),watchContractEvent:e=>yQe(t,e),watchEvent:e=>kZe(t,e),watchPendingTransactions:e=>SZe(t,e)}}function Vp(t){const{key:e="public",name:n="Public Client"}=t;return l1e({...t,key:e,name:n,type:"publicClient"}).extend(LV)}async function PZe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:$t(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function RZe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=CT({abi:n,args:r,bytecode:i});return WT(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function jZe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>IA(r))}async function OZe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Oi(n):void 0,s=r?[i==null?void 0:i.address,[$t(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,h]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=h}return typeof r=="number"?a[r]:a}async function MZe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function x1e(t,e){var l;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Pw({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Oi(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Oi(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((l=t.chain)==null?void 0:l.id)??await Pt(t,M3,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Pt(t,dV,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&PA(o.address,s.address))&&(a.nonce+=1)),a}async function DZe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Bi(n))}async function BZe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function LZe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function FZe(t,e){const{account:n=t.account}=e;if(!n)throw new Pw({docsPath:"/docs/eip7702/signAuthorization"});const r=Oi(n);if(!r.signAuthorization)throw new L9({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await x1e(t,e);return r.signAuthorization(i)}async function UZe(t,{account:e=t.account,message:n}){if(!e)throw new Pw({docsPath:"/docs/actions/wallet/signMessage"});const r=Oi(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Cx(n):n.raw instanceof Uint8Array?_i(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function zZe(t,e){var c,u,h,f;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Pw({docsPath:"/docs/actions/wallet/signTransaction"});const s=Oi(n);Nw({account:s,...e});const o=await Pt(t,M3,"getChainId")({});r!==null&&Gge({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((c=t.chain)==null?void 0:c.formatters),l=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||O3;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(f=(h=t.chain)==null?void 0:h.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i,"signTransaction"),chainId:$t(o),from:s.address}]},{retryCount:0})}async function WZe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Pw({docsPath:"/docs/actions/wallet/signTypedData"});const o=Oi(n),a={EIP712Domain:tye({domain:r}),...e.types};if(eye({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const l=OWe({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function HZe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:$t(e)}]},{retryCount:0})}async function VZe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function qZe(t){return{addChain:e=>PZe(t,e),deployContract:e=>RZe(t,e),getAddresses:()=>jZe(t),getCallsStatus:e=>o1e(t,e),getCapabilities:e=>OZe(t,e),getChainId:()=>M3(t),getPermissions:()=>MZe(t),prepareAuthorization:e=>x1e(t,e),prepareTransactionRequest:e=>FT(t,e),requestAddresses:()=>DZe(t),requestPermissions:e=>BZe(t,e),sendCalls:e=>vQe(t,e),sendRawTransaction:e=>RV(t,e),sendTransaction:e=>WT(t,e),showCallsStatus:e=>LZe(t,e),signAuthorization:e=>FZe(t,e),signMessage:e=>UZe(t,e),signTransaction:e=>zZe(t,e),signTypedData:e=>WZe(t,e),switchChain:e=>HZe(t,e),waitForCallsStatus:e=>xQe(t,e),watchAsset:e=>VZe(t,e),writeContract:e=>wQe(t,e)}}function E1e(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return l1e({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(qZe)}function A1e({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=a1e();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:Cze(r,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function C1e(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>A1e({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class GZe extends ze{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function qp(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},w=e.retryCount??p,v=m??e.timeout??1e4,b=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!b)throw new GZe;const A=TWe(b,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:c,timeout:v});return A1e({key:s,methods:o,name:a,async request({method:E,params:$}){const N={method:E,params:$},{schedule:R}=Vge({id:b,wait:y,shouldSplitBatch(V){return V.length>g},fn:V=>A.request({body:V}),sort:(V,B)=>V.id-B.id}),M=async V=>n?R(V):[await A.request({body:V})],[{error:F,result:W}]=await M(N);if(h)return{error:F,result:W};if(F)throw new rV({body:N,error:F,url:b});return W},retryCount:w,retryDelay:u,timeout:v,type:"http"},{fetchOptions:i,url:b})}}let KZe=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(YVe,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const YZe=new TextEncoder,k1e=new TextDecoder,QZe=t=>{let e=t;typeof e=="string"&&(e=YZe.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},ZZe=t=>QZe(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),JZe=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},XZe=t=>{let e=t;e instanceof Uint8Array&&(e=k1e.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return JZe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};let eJe=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}},Hg=class extends eJe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};function tJe(t){return typeof t=="object"&&t!==null}function nJe(t){if(!tJe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const J1=ZZe,rJe=XZe;function gL(t){if(typeof t!="string")throw new Hg("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Hg("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Hg("Invalid JWT");if(!e)throw new Hg("JWTs must contain a payload");let r;try{r=rJe(e)}catch{throw new Hg("Failed to base64url decode the payload")}let i;try{i=JSON.parse(k1e.decode(r))}catch{throw new Hg("Failed to parse the decoded payload as JSON")}if(!nJe(i))throw new Hg("Invalid JWT Claims Set");return i}let v6=class S1e{static parse(e){try{return new S1e(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=gL(e)}},_1e=class yL{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=yL.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=yL.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new v6(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(uVe,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};_1e.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let iJe=class{async revoke(){await this._privyInternal.fetch(aqe,{})}constructor(e){this._privyInternal=e}};function sJe(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const cu={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},qT={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},B3={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},FV={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},uu={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},GT={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},oJe={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},KT={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},aJe={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},lJe={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},cJe={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},uJe={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},dJe={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},I1e={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},hJe={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},fJe={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},du={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},lf={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},YT={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},ll={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},LA={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},pJe={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},UV={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},zV={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},T1e={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},$1e={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},FA=[du,UV,dJe,cu,qT,lf,YT,ll,LA,KT,aJe,lJe,cJe,uu,GT,oJe,fJe,I1e,hJe,B3,FV,zV,$1e,T1e,pJe,uJe],N1e=new Set(FA.map(t=>t.id));function WV(t){let e=t.filter(n=>!N1e.has(n.id));return FA.concat(e)}const P1e=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=FA.find(s=>s.id===e.id),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?sJe(e,r):e});let HR=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Qn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},mJe=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const am=t=>!!t.id&&t.recovery_method==="privy-v2";let gJe=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(am(this._account))throw new Qn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const yJe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Ea;(Ea={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ea.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ea.INVALID_DATA="invalid_data",Ea.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ea.ALLOWLIST_REJECTED="allowlist_rejected",Ea.OAUTH_USER_DENIED="oauth_user_denied",Ea.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ea.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ea.MUST_BE_AUTHENTICATED="must_be_authenticated",Ea.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ea.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ea.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ea.INVALID_CREDENTIALS="invalid_credentials";let wJe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},U9=class extends Error{constructor(e,n){super(n),this.type=e}},R1e=class extends wJe{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Tee=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Xu={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function bJe(t){let e=t.type;return typeof e=="string"&&yJe.includes(e)}function HV(t){return bJe(t)&&t.type==="wallet_not_on_device"}async function wL(t,{request:e}){return await t.fetchPrivyRoute(oqe,{body:e})}async function VR({context:t,chainType:e}){return{wallet:await wL(t,{request:{chain_type:e,owner_id:void 0}})}}const vJe="logger/5.8.0";let $ee=!1,Nee=!1;const z9={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pee=z9.default,qR=null;function xJe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const Ree=xJe();var bL;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(bL||(bL={}));var Du;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Du||(Du={}));const jee="0123456789abcdef";class je{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();z9[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Pee>z9[r])&&console.log.apply(console,n)}debug(...e){this._log(je.levels.DEBUG,e)}info(...e){this._log(je.levels.INFO,e)}warn(...e){this._log(je.levels.WARNING,e)}makeError(e,n,r){if(Nee)return this.makeError("censored error",n,{});n||(n=je.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=jee[c[h]>>4],u+=jee[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case Du.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Du.CALL_EXCEPTION:case Du.INSUFFICIENT_FUNDS:case Du.MISSING_NEW:case Du.NONCE_EXPIRED:case Du.REPLACEMENT_UNDERPRICED:case Du.TRANSACTION_REPLACED:case Du.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,je.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){Ree&&this.throwError("platform missing String.prototype.normalize",je.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ree})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,je.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,je.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",je.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",je.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",je.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return qR||(qR=new je(vJe)),qR}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$ee){if(!e)return;this.globalLogger().throwError("error censorship permanent",je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Nee=!!e,$ee=!!n}static setLogLevel(e){const n=z9[e.toLowerCase()];if(n==null){je.globalLogger().warn("invalid log level - "+e);return}Pee=n}static from(e){return new je(e)}}je.errors=Du;je.levels=bL;const EJe="properties/5.8.0";var AJe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const K_=new je(EJe);function $n(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function x6(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ds(t){return AJe(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function CJe(t,e){(!t||typeof t!="object")&&K_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||K_.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function Va(t){const e={};for(const n in t)e[n]=t[n];return e}const kJe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function j1e(t){if(t==null||kJe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!j1e(r))return!1}return!0}return K_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function SJe(t){if(j1e(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>WE(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&$n(e,n,WE(r))}return e}return K_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function WE(t){return SJe(t)}class _Je{constructor(e){for(const n in e)this[n]=WE(e[n])}}const IJe="abstract-signer/5.8.0";var bu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ac=new je(IJe),TJe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],$Je=[je.errors.INSUFFICIENT_FUNDS,je.errors.NONCE_EXPIRED,je.errors.REPLACEMENT_UNDERPRICED];class QT{constructor(){Ac.checkAbstract(new.target,QT),$n(this,"_isSigner",!0)}getBalance(e){return bu(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return bu(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return bu(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Ds(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return bu(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Ds(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return bu(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return bu(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return bu(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return bu(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return bu(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)TJe.indexOf(r)===-1&&Ac.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=Va(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Ac.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return bu(this,void 0,void 0,function*(){const n=yield Ds(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>bu(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ac.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?Ac.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&Ac.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Ac.throwError("network does not support EIP-1559",je.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):Ac.throwError("failed to get consistent fee data",je.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if($Je.indexOf(i.code)>=0)throw i;return Ac.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",je.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ac.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ds(n)})}_checkProvider(e){this.provider||Ac.throwError("missing provider",je.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class VV extends QT{constructor(e,n){super(),$n(this,"address",e),$n(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{Ac.throwError(e,je.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new VV(this.address,e)}}var qV={exports:{}};const NJe={},PJe=Object.freeze(Object.defineProperty({__proto__:null,default:NJe},Symbol.toStringTag,{value:"Module"})),RJe=y3(PJe);qV.exports;(function(t){(function(e,n){function r(B,k){if(!B)throw new Error(k||"Assertion failed")}function i(B,k){B.super_=k;var C=function(){};C.prototype=k.prototype,B.prototype=new C,B.prototype.constructor=B}function s(B,k,C){if(s.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((k==="le"||k==="be")&&(C=k,k=10),this._init(B||0,k||10,C||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=RJe.Buffer}catch{}s.isBN=function(k){return k instanceof s?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===s.wordSize&&Array.isArray(k.words)},s.max=function(k,C){return k.cmp(C)>0?k:C},s.min=function(k,C){return k.cmp(C)<0?k:C},s.prototype._init=function(k,C,S){if(typeof k=="number")return this._initNumber(k,C,S);if(typeof k=="object")return this._initArray(k,C,S);C==="hex"&&(C=16),r(C===(C|0)&&C>=2&&C<=36),k=k.toString().replace(/\s+/g,"");var T=0;k[0]==="-"&&(T++,this.negative=1),T<k.length&&(C===16?this._parseHex(k,T,S):(this._parseBase(k,C,T),S==="le"&&this._initArray(this.toArray(),C,S)))},s.prototype._initNumber=function(k,C,S){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(r(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),C,S)},s.prototype._initArray=function(k,C,S){if(r(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var _,P,D=0;if(S==="be")for(T=k.length-1,_=0;T>=0;T-=3)P=k[T]|k[T-1]<<8|k[T-2]<<16,this.words[_]|=P<<D&67108863,this.words[_+1]=P>>>26-D&67108863,D+=24,D>=26&&(D-=26,_++);else if(S==="le")for(T=0,_=0;T<k.length;T+=3)P=k[T]|k[T+1]<<8|k[T+2]<<16,this.words[_]|=P<<D&67108863,this.words[_+1]=P>>>26-D&67108863,D+=24,D>=26&&(D-=26,_++);return this._strip()};function a(B,k){var C=B.charCodeAt(k);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;r(!1,"Invalid character in "+B)}function l(B,k,C){var S=a(B,C);return C-1>=k&&(S|=a(B,C-1)<<4),S}s.prototype._parseHex=function(k,C,S){this.length=Math.ceil((k.length-C)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var _=0,P=0,D;if(S==="be")for(T=k.length-1;T>=C;T-=2)D=l(k,C,T)<<_,this.words[P]|=D&67108863,_>=18?(_-=18,P+=1,this.words[P]|=D>>>26):_+=8;else{var j=k.length-C;for(T=j%2===0?C+1:C;T<k.length;T+=2)D=l(k,C,T)<<_,this.words[P]|=D&67108863,_>=18?(_-=18,P+=1,this.words[P]|=D>>>26):_+=8}this._strip()};function c(B,k,C,S){for(var T=0,_=0,P=Math.min(B.length,C),D=k;D<P;D++){var j=B.charCodeAt(D)-48;T*=S,j>=49?_=j-49+10:j>=17?_=j-17+10:_=j,r(j>=0&&_<S,"Invalid character"),T+=_}return T}s.prototype._parseBase=function(k,C,S){this.words=[0],this.length=1;for(var T=0,_=1;_<=67108863;_*=C)T++;T--,_=_/C|0;for(var P=k.length-S,D=P%T,j=Math.min(P,P-D)+S,I=0,L=S;L<j;L+=T)I=c(k,L,L+T,C),this.imuln(_),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(D!==0){var J=1;for(I=c(k,L,k.length,C),L=0;L<D;L++)J*=C;this.imuln(J),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(k){k.words=new Array(this.length);for(var C=0;C<this.length;C++)k.words[C]=this.words[C];k.length=this.length,k.negative=this.negative,k.red=this.red};function u(B,k){B.words=k.words,B.length=k.length,B.negative=k.negative,B.red=k.red}if(s.prototype._move=function(k){u(k,this)},s.prototype.clone=function(){var k=new s(null);return this.copy(k),k},s.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(k,C){k=k||10,C=C|0||1;var S;if(k===16||k==="hex"){S="";for(var T=0,_=0,P=0;P<this.length;P++){var D=this.words[P],j=((D<<T|_)&16777215).toString(16);_=D>>>24-T&16777215,T+=2,T>=26&&(T-=26,P--),_!==0||P!==this.length-1?S=f[6-j.length]+j+S:S=j+S}for(_!==0&&(S=_.toString(16)+S);S.length%C!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(k===(k|0)&&k>=2&&k<=36){var I=p[k],L=m[k];S="";var J=this.clone();for(J.negative=0;!J.isZero();){var O=J.modrn(L).toString(k);J=J.idivn(L),J.isZero()?S=O+S:S=f[I-O.length]+O+S}for(this.isZero()&&(S="0"+S);S.length%C!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(k,C){return this.toArrayLike(o,k,C)}),s.prototype.toArray=function(k,C){return this.toArrayLike(Array,k,C)};var g=function(k,C){return k.allocUnsafe?k.allocUnsafe(C):new k(C)};s.prototype.toArrayLike=function(k,C,S){this._strip();var T=this.byteLength(),_=S||Math.max(1,T);r(T<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0");var P=g(k,_),D=C==="le"?"LE":"BE";return this["_toArrayLike"+D](P,T),P},s.prototype._toArrayLikeLE=function(k,C){for(var S=0,T=0,_=0,P=0;_<this.length;_++){var D=this.words[_]<<P|T;k[S++]=D&255,S<k.length&&(k[S++]=D>>8&255),S<k.length&&(k[S++]=D>>16&255),P===6?(S<k.length&&(k[S++]=D>>24&255),T=0,P=0):(T=D>>>24,P+=2)}if(S<k.length)for(k[S++]=T;S<k.length;)k[S++]=0},s.prototype._toArrayLikeBE=function(k,C){for(var S=k.length-1,T=0,_=0,P=0;_<this.length;_++){var D=this.words[_]<<P|T;k[S--]=D&255,S>=0&&(k[S--]=D>>8&255),S>=0&&(k[S--]=D>>16&255),P===6?(S>=0&&(k[S--]=D>>24&255),T=0,P=0):(T=D>>>24,P+=2)}if(S>=0)for(k[S--]=T;S>=0;)k[S--]=0},Math.clz32?s.prototype._countBits=function(k){return 32-Math.clz32(k)}:s.prototype._countBits=function(k){var C=k,S=0;return C>=4096&&(S+=13,C>>>=13),C>=64&&(S+=7,C>>>=7),C>=8&&(S+=4,C>>>=4),C>=2&&(S+=2,C>>>=2),S+C},s.prototype._zeroBits=function(k){if(k===0)return 26;var C=k,S=0;return C&8191||(S+=13,C>>>=13),C&127||(S+=7,C>>>=7),C&15||(S+=4,C>>>=4),C&3||(S+=2,C>>>=2),C&1||S++,S},s.prototype.bitLength=function(){var k=this.words[this.length-1],C=this._countBits(k);return(this.length-1)*26+C};function y(B){for(var k=new Array(B.bitLength()),C=0;C<k.length;C++){var S=C/26|0,T=C%26;k[C]=B.words[S]>>>T&1}return k}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,C=0;C<this.length;C++){var S=this._zeroBits(this.words[C]);if(k+=S,S!==26)break}return k},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},s.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var C=0;C<k.length;C++)this.words[C]=this.words[C]|k.words[C];return this._strip()},s.prototype.ior=function(k){return r((this.negative|k.negative)===0),this.iuor(k)},s.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},s.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},s.prototype.iuand=function(k){var C;this.length>k.length?C=k:C=this;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]&k.words[S];return this.length=C.length,this._strip()},s.prototype.iand=function(k){return r((this.negative|k.negative)===0),this.iuand(k)},s.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},s.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},s.prototype.iuxor=function(k){var C,S;this.length>k.length?(C=this,S=k):(C=k,S=this);for(var T=0;T<S.length;T++)this.words[T]=C.words[T]^S.words[T];if(this!==C)for(;T<C.length;T++)this.words[T]=C.words[T];return this.length=C.length,this._strip()},s.prototype.ixor=function(k){return r((this.negative|k.negative)===0),this.iuxor(k)},s.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},s.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},s.prototype.inotn=function(k){r(typeof k=="number"&&k>=0);var C=Math.ceil(k/26)|0,S=k%26;this._expand(C),S>0&&C--;for(var T=0;T<C;T++)this.words[T]=~this.words[T]&67108863;return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},s.prototype.notn=function(k){return this.clone().inotn(k)},s.prototype.setn=function(k,C){r(typeof k=="number"&&k>=0);var S=k/26|0,T=k%26;return this._expand(S+1),C?this.words[S]=this.words[S]|1<<T:this.words[S]=this.words[S]&~(1<<T),this._strip()},s.prototype.iadd=function(k){var C;if(this.negative!==0&&k.negative===0)return this.negative=0,C=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,C=this.isub(k),k.negative=1,C._normSign();var S,T;this.length>k.length?(S=this,T=k):(S=k,T=this);for(var _=0,P=0;P<T.length;P++)C=(S.words[P]|0)+(T.words[P]|0)+_,this.words[P]=C&67108863,_=C>>>26;for(;_!==0&&P<S.length;P++)C=(S.words[P]|0)+_,this.words[P]=C&67108863,_=C>>>26;if(this.length=S.length,_!==0)this.words[this.length]=_,this.length++;else if(S!==this)for(;P<S.length;P++)this.words[P]=S.words[P];return this},s.prototype.add=function(k){var C;return k.negative!==0&&this.negative===0?(k.negative=0,C=this.sub(k),k.negative^=1,C):k.negative===0&&this.negative!==0?(this.negative=0,C=k.sub(this),this.negative=1,C):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},s.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var C=this.iadd(k);return k.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var S=this.cmp(k);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,_;S>0?(T=this,_=k):(T=k,_=this);for(var P=0,D=0;D<_.length;D++)C=(T.words[D]|0)-(_.words[D]|0)+P,P=C>>26,this.words[D]=C&67108863;for(;P!==0&&D<T.length;D++)C=(T.words[D]|0)+P,P=C>>26,this.words[D]=C&67108863;if(P===0&&D<T.length&&T!==this)for(;D<T.length;D++)this.words[D]=T.words[D];return this.length=Math.max(this.length,D),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(k){return this.clone().isub(k)};function w(B,k,C){C.negative=k.negative^B.negative;var S=B.length+k.length|0;C.length=S,S=S-1|0;var T=B.words[0]|0,_=k.words[0]|0,P=T*_,D=P&67108863,j=P/67108864|0;C.words[0]=D;for(var I=1;I<S;I++){for(var L=j>>>26,J=j&67108863,O=Math.min(I,k.length-1),G=Math.max(0,I-B.length+1);G<=O;G++){var Z=I-G|0;T=B.words[Z]|0,_=k.words[G]|0,P=T*_+J,L+=P/67108864|0,J=P&67108863}C.words[I]=J|0,j=L|0}return j!==0?C.words[I]=j|0:C.length--,C._strip()}var v=function(k,C,S){var T=k.words,_=C.words,P=S.words,D=0,j,I,L,J=T[0]|0,O=J&8191,G=J>>>13,Z=T[1]|0,Q=Z&8191,ie=Z>>>13,de=T[2]|0,oe=de&8191,he=de>>>13,we=T[3]|0,fe=we&8191,ke=we>>>13,be=T[4]|0,Ue=be&8191,Me=be>>>13,Se=T[5]|0,xe=Se&8191,Ne=Se>>>13,Be=T[6]|0,Ce=Be&8191,De=Be>>>13,Ve=T[7]|0,rt=Ve&8191,K=Ve>>>13,U=T[8]|0,z=U&8191,ee=U>>>13,ne=T[9]|0,se=ne&8191,ce=ne>>>13,Le=_[0]|0,Xe=Le&8191,Ye=Le>>>13,et=_[1]|0,Re=et&8191,Tt=et>>>13,dn=_[2]|0,Bt=dn&8191,He=dn>>>13,Ln=_[3]|0,En=Ln&8191,ot=Ln>>>13,Qt=_[4]|0,q=Qt&8191,Y=Qt>>>13,ae=_[5]|0,re=ae&8191,le=ae>>>13,me=_[6]|0,$e=me&8191,Oe=me>>>13,Mt=_[7]|0,bt=Mt&8191,St=Mt>>>13,rn=_[8]|0,Qe=rn&8191,ut=rn>>>13,at=_[9]|0,ct=at&8191,ht=at>>>13;S.negative=k.negative^C.negative,S.length=19,j=Math.imul(O,Xe),I=Math.imul(O,Ye),I=I+Math.imul(G,Xe)|0,L=Math.imul(G,Ye);var an=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(an>>>26)|0,an&=67108863,j=Math.imul(Q,Xe),I=Math.imul(Q,Ye),I=I+Math.imul(ie,Xe)|0,L=Math.imul(ie,Ye),j=j+Math.imul(O,Re)|0,I=I+Math.imul(O,Tt)|0,I=I+Math.imul(G,Re)|0,L=L+Math.imul(G,Tt)|0;var zn=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(zn>>>26)|0,zn&=67108863,j=Math.imul(oe,Xe),I=Math.imul(oe,Ye),I=I+Math.imul(he,Xe)|0,L=Math.imul(he,Ye),j=j+Math.imul(Q,Re)|0,I=I+Math.imul(Q,Tt)|0,I=I+Math.imul(ie,Re)|0,L=L+Math.imul(ie,Tt)|0,j=j+Math.imul(O,Bt)|0,I=I+Math.imul(O,He)|0,I=I+Math.imul(G,Bt)|0,L=L+Math.imul(G,He)|0;var Ht=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,j=Math.imul(fe,Xe),I=Math.imul(fe,Ye),I=I+Math.imul(ke,Xe)|0,L=Math.imul(ke,Ye),j=j+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Tt)|0,I=I+Math.imul(he,Re)|0,L=L+Math.imul(he,Tt)|0,j=j+Math.imul(Q,Bt)|0,I=I+Math.imul(Q,He)|0,I=I+Math.imul(ie,Bt)|0,L=L+Math.imul(ie,He)|0,j=j+Math.imul(O,En)|0,I=I+Math.imul(O,ot)|0,I=I+Math.imul(G,En)|0,L=L+Math.imul(G,ot)|0;var Ft=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,j=Math.imul(Ue,Xe),I=Math.imul(Ue,Ye),I=I+Math.imul(Me,Xe)|0,L=Math.imul(Me,Ye),j=j+Math.imul(fe,Re)|0,I=I+Math.imul(fe,Tt)|0,I=I+Math.imul(ke,Re)|0,L=L+Math.imul(ke,Tt)|0,j=j+Math.imul(oe,Bt)|0,I=I+Math.imul(oe,He)|0,I=I+Math.imul(he,Bt)|0,L=L+Math.imul(he,He)|0,j=j+Math.imul(Q,En)|0,I=I+Math.imul(Q,ot)|0,I=I+Math.imul(ie,En)|0,L=L+Math.imul(ie,ot)|0,j=j+Math.imul(O,q)|0,I=I+Math.imul(O,Y)|0,I=I+Math.imul(G,q)|0,L=L+Math.imul(G,Y)|0;var An=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(An>>>26)|0,An&=67108863,j=Math.imul(xe,Xe),I=Math.imul(xe,Ye),I=I+Math.imul(Ne,Xe)|0,L=Math.imul(Ne,Ye),j=j+Math.imul(Ue,Re)|0,I=I+Math.imul(Ue,Tt)|0,I=I+Math.imul(Me,Re)|0,L=L+Math.imul(Me,Tt)|0,j=j+Math.imul(fe,Bt)|0,I=I+Math.imul(fe,He)|0,I=I+Math.imul(ke,Bt)|0,L=L+Math.imul(ke,He)|0,j=j+Math.imul(oe,En)|0,I=I+Math.imul(oe,ot)|0,I=I+Math.imul(he,En)|0,L=L+Math.imul(he,ot)|0,j=j+Math.imul(Q,q)|0,I=I+Math.imul(Q,Y)|0,I=I+Math.imul(ie,q)|0,L=L+Math.imul(ie,Y)|0,j=j+Math.imul(O,re)|0,I=I+Math.imul(O,le)|0,I=I+Math.imul(G,re)|0,L=L+Math.imul(G,le)|0;var oi=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(oi>>>26)|0,oi&=67108863,j=Math.imul(Ce,Xe),I=Math.imul(Ce,Ye),I=I+Math.imul(De,Xe)|0,L=Math.imul(De,Ye),j=j+Math.imul(xe,Re)|0,I=I+Math.imul(xe,Tt)|0,I=I+Math.imul(Ne,Re)|0,L=L+Math.imul(Ne,Tt)|0,j=j+Math.imul(Ue,Bt)|0,I=I+Math.imul(Ue,He)|0,I=I+Math.imul(Me,Bt)|0,L=L+Math.imul(Me,He)|0,j=j+Math.imul(fe,En)|0,I=I+Math.imul(fe,ot)|0,I=I+Math.imul(ke,En)|0,L=L+Math.imul(ke,ot)|0,j=j+Math.imul(oe,q)|0,I=I+Math.imul(oe,Y)|0,I=I+Math.imul(he,q)|0,L=L+Math.imul(he,Y)|0,j=j+Math.imul(Q,re)|0,I=I+Math.imul(Q,le)|0,I=I+Math.imul(ie,re)|0,L=L+Math.imul(ie,le)|0,j=j+Math.imul(O,$e)|0,I=I+Math.imul(O,Oe)|0,I=I+Math.imul(G,$e)|0,L=L+Math.imul(G,Oe)|0;var uc=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(uc>>>26)|0,uc&=67108863,j=Math.imul(rt,Xe),I=Math.imul(rt,Ye),I=I+Math.imul(K,Xe)|0,L=Math.imul(K,Ye),j=j+Math.imul(Ce,Re)|0,I=I+Math.imul(Ce,Tt)|0,I=I+Math.imul(De,Re)|0,L=L+Math.imul(De,Tt)|0,j=j+Math.imul(xe,Bt)|0,I=I+Math.imul(xe,He)|0,I=I+Math.imul(Ne,Bt)|0,L=L+Math.imul(Ne,He)|0,j=j+Math.imul(Ue,En)|0,I=I+Math.imul(Ue,ot)|0,I=I+Math.imul(Me,En)|0,L=L+Math.imul(Me,ot)|0,j=j+Math.imul(fe,q)|0,I=I+Math.imul(fe,Y)|0,I=I+Math.imul(ke,q)|0,L=L+Math.imul(ke,Y)|0,j=j+Math.imul(oe,re)|0,I=I+Math.imul(oe,le)|0,I=I+Math.imul(he,re)|0,L=L+Math.imul(he,le)|0,j=j+Math.imul(Q,$e)|0,I=I+Math.imul(Q,Oe)|0,I=I+Math.imul(ie,$e)|0,L=L+Math.imul(ie,Oe)|0,j=j+Math.imul(O,bt)|0,I=I+Math.imul(O,St)|0,I=I+Math.imul(G,bt)|0,L=L+Math.imul(G,St)|0;var Gt=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,j=Math.imul(z,Xe),I=Math.imul(z,Ye),I=I+Math.imul(ee,Xe)|0,L=Math.imul(ee,Ye),j=j+Math.imul(rt,Re)|0,I=I+Math.imul(rt,Tt)|0,I=I+Math.imul(K,Re)|0,L=L+Math.imul(K,Tt)|0,j=j+Math.imul(Ce,Bt)|0,I=I+Math.imul(Ce,He)|0,I=I+Math.imul(De,Bt)|0,L=L+Math.imul(De,He)|0,j=j+Math.imul(xe,En)|0,I=I+Math.imul(xe,ot)|0,I=I+Math.imul(Ne,En)|0,L=L+Math.imul(Ne,ot)|0,j=j+Math.imul(Ue,q)|0,I=I+Math.imul(Ue,Y)|0,I=I+Math.imul(Me,q)|0,L=L+Math.imul(Me,Y)|0,j=j+Math.imul(fe,re)|0,I=I+Math.imul(fe,le)|0,I=I+Math.imul(ke,re)|0,L=L+Math.imul(ke,le)|0,j=j+Math.imul(oe,$e)|0,I=I+Math.imul(oe,Oe)|0,I=I+Math.imul(he,$e)|0,L=L+Math.imul(he,Oe)|0,j=j+Math.imul(Q,bt)|0,I=I+Math.imul(Q,St)|0,I=I+Math.imul(ie,bt)|0,L=L+Math.imul(ie,St)|0,j=j+Math.imul(O,Qe)|0,I=I+Math.imul(O,ut)|0,I=I+Math.imul(G,Qe)|0,L=L+Math.imul(G,ut)|0;var vr=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(vr>>>26)|0,vr&=67108863,j=Math.imul(se,Xe),I=Math.imul(se,Ye),I=I+Math.imul(ce,Xe)|0,L=Math.imul(ce,Ye),j=j+Math.imul(z,Re)|0,I=I+Math.imul(z,Tt)|0,I=I+Math.imul(ee,Re)|0,L=L+Math.imul(ee,Tt)|0,j=j+Math.imul(rt,Bt)|0,I=I+Math.imul(rt,He)|0,I=I+Math.imul(K,Bt)|0,L=L+Math.imul(K,He)|0,j=j+Math.imul(Ce,En)|0,I=I+Math.imul(Ce,ot)|0,I=I+Math.imul(De,En)|0,L=L+Math.imul(De,ot)|0,j=j+Math.imul(xe,q)|0,I=I+Math.imul(xe,Y)|0,I=I+Math.imul(Ne,q)|0,L=L+Math.imul(Ne,Y)|0,j=j+Math.imul(Ue,re)|0,I=I+Math.imul(Ue,le)|0,I=I+Math.imul(Me,re)|0,L=L+Math.imul(Me,le)|0,j=j+Math.imul(fe,$e)|0,I=I+Math.imul(fe,Oe)|0,I=I+Math.imul(ke,$e)|0,L=L+Math.imul(ke,Oe)|0,j=j+Math.imul(oe,bt)|0,I=I+Math.imul(oe,St)|0,I=I+Math.imul(he,bt)|0,L=L+Math.imul(he,St)|0,j=j+Math.imul(Q,Qe)|0,I=I+Math.imul(Q,ut)|0,I=I+Math.imul(ie,Qe)|0,L=L+Math.imul(ie,ut)|0,j=j+Math.imul(O,ct)|0,I=I+Math.imul(O,ht)|0,I=I+Math.imul(G,ct)|0,L=L+Math.imul(G,ht)|0;var en=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(en>>>26)|0,en&=67108863,j=Math.imul(se,Re),I=Math.imul(se,Tt),I=I+Math.imul(ce,Re)|0,L=Math.imul(ce,Tt),j=j+Math.imul(z,Bt)|0,I=I+Math.imul(z,He)|0,I=I+Math.imul(ee,Bt)|0,L=L+Math.imul(ee,He)|0,j=j+Math.imul(rt,En)|0,I=I+Math.imul(rt,ot)|0,I=I+Math.imul(K,En)|0,L=L+Math.imul(K,ot)|0,j=j+Math.imul(Ce,q)|0,I=I+Math.imul(Ce,Y)|0,I=I+Math.imul(De,q)|0,L=L+Math.imul(De,Y)|0,j=j+Math.imul(xe,re)|0,I=I+Math.imul(xe,le)|0,I=I+Math.imul(Ne,re)|0,L=L+Math.imul(Ne,le)|0,j=j+Math.imul(Ue,$e)|0,I=I+Math.imul(Ue,Oe)|0,I=I+Math.imul(Me,$e)|0,L=L+Math.imul(Me,Oe)|0,j=j+Math.imul(fe,bt)|0,I=I+Math.imul(fe,St)|0,I=I+Math.imul(ke,bt)|0,L=L+Math.imul(ke,St)|0,j=j+Math.imul(oe,Qe)|0,I=I+Math.imul(oe,ut)|0,I=I+Math.imul(he,Qe)|0,L=L+Math.imul(he,ut)|0,j=j+Math.imul(Q,ct)|0,I=I+Math.imul(Q,ht)|0,I=I+Math.imul(ie,ct)|0,L=L+Math.imul(ie,ht)|0;var $r=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+($r>>>26)|0,$r&=67108863,j=Math.imul(se,Bt),I=Math.imul(se,He),I=I+Math.imul(ce,Bt)|0,L=Math.imul(ce,He),j=j+Math.imul(z,En)|0,I=I+Math.imul(z,ot)|0,I=I+Math.imul(ee,En)|0,L=L+Math.imul(ee,ot)|0,j=j+Math.imul(rt,q)|0,I=I+Math.imul(rt,Y)|0,I=I+Math.imul(K,q)|0,L=L+Math.imul(K,Y)|0,j=j+Math.imul(Ce,re)|0,I=I+Math.imul(Ce,le)|0,I=I+Math.imul(De,re)|0,L=L+Math.imul(De,le)|0,j=j+Math.imul(xe,$e)|0,I=I+Math.imul(xe,Oe)|0,I=I+Math.imul(Ne,$e)|0,L=L+Math.imul(Ne,Oe)|0,j=j+Math.imul(Ue,bt)|0,I=I+Math.imul(Ue,St)|0,I=I+Math.imul(Me,bt)|0,L=L+Math.imul(Me,St)|0,j=j+Math.imul(fe,Qe)|0,I=I+Math.imul(fe,ut)|0,I=I+Math.imul(ke,Qe)|0,L=L+Math.imul(ke,ut)|0,j=j+Math.imul(oe,ct)|0,I=I+Math.imul(oe,ht)|0,I=I+Math.imul(he,ct)|0,L=L+Math.imul(he,ht)|0;var to=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(to>>>26)|0,to&=67108863,j=Math.imul(se,En),I=Math.imul(se,ot),I=I+Math.imul(ce,En)|0,L=Math.imul(ce,ot),j=j+Math.imul(z,q)|0,I=I+Math.imul(z,Y)|0,I=I+Math.imul(ee,q)|0,L=L+Math.imul(ee,Y)|0,j=j+Math.imul(rt,re)|0,I=I+Math.imul(rt,le)|0,I=I+Math.imul(K,re)|0,L=L+Math.imul(K,le)|0,j=j+Math.imul(Ce,$e)|0,I=I+Math.imul(Ce,Oe)|0,I=I+Math.imul(De,$e)|0,L=L+Math.imul(De,Oe)|0,j=j+Math.imul(xe,bt)|0,I=I+Math.imul(xe,St)|0,I=I+Math.imul(Ne,bt)|0,L=L+Math.imul(Ne,St)|0,j=j+Math.imul(Ue,Qe)|0,I=I+Math.imul(Ue,ut)|0,I=I+Math.imul(Me,Qe)|0,L=L+Math.imul(Me,ut)|0,j=j+Math.imul(fe,ct)|0,I=I+Math.imul(fe,ht)|0,I=I+Math.imul(ke,ct)|0,L=L+Math.imul(ke,ht)|0;var dc=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(dc>>>26)|0,dc&=67108863,j=Math.imul(se,q),I=Math.imul(se,Y),I=I+Math.imul(ce,q)|0,L=Math.imul(ce,Y),j=j+Math.imul(z,re)|0,I=I+Math.imul(z,le)|0,I=I+Math.imul(ee,re)|0,L=L+Math.imul(ee,le)|0,j=j+Math.imul(rt,$e)|0,I=I+Math.imul(rt,Oe)|0,I=I+Math.imul(K,$e)|0,L=L+Math.imul(K,Oe)|0,j=j+Math.imul(Ce,bt)|0,I=I+Math.imul(Ce,St)|0,I=I+Math.imul(De,bt)|0,L=L+Math.imul(De,St)|0,j=j+Math.imul(xe,Qe)|0,I=I+Math.imul(xe,ut)|0,I=I+Math.imul(Ne,Qe)|0,L=L+Math.imul(Ne,ut)|0,j=j+Math.imul(Ue,ct)|0,I=I+Math.imul(Ue,ht)|0,I=I+Math.imul(Me,ct)|0,L=L+Math.imul(Me,ht)|0;var fl=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(fl>>>26)|0,fl&=67108863,j=Math.imul(se,re),I=Math.imul(se,le),I=I+Math.imul(ce,re)|0,L=Math.imul(ce,le),j=j+Math.imul(z,$e)|0,I=I+Math.imul(z,Oe)|0,I=I+Math.imul(ee,$e)|0,L=L+Math.imul(ee,Oe)|0,j=j+Math.imul(rt,bt)|0,I=I+Math.imul(rt,St)|0,I=I+Math.imul(K,bt)|0,L=L+Math.imul(K,St)|0,j=j+Math.imul(Ce,Qe)|0,I=I+Math.imul(Ce,ut)|0,I=I+Math.imul(De,Qe)|0,L=L+Math.imul(De,ut)|0,j=j+Math.imul(xe,ct)|0,I=I+Math.imul(xe,ht)|0,I=I+Math.imul(Ne,ct)|0,L=L+Math.imul(Ne,ht)|0;var p5=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(p5>>>26)|0,p5&=67108863,j=Math.imul(se,$e),I=Math.imul(se,Oe),I=I+Math.imul(ce,$e)|0,L=Math.imul(ce,Oe),j=j+Math.imul(z,bt)|0,I=I+Math.imul(z,St)|0,I=I+Math.imul(ee,bt)|0,L=L+Math.imul(ee,St)|0,j=j+Math.imul(rt,Qe)|0,I=I+Math.imul(rt,ut)|0,I=I+Math.imul(K,Qe)|0,L=L+Math.imul(K,ut)|0,j=j+Math.imul(Ce,ct)|0,I=I+Math.imul(Ce,ht)|0,I=I+Math.imul(De,ct)|0,L=L+Math.imul(De,ht)|0;var m5=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(m5>>>26)|0,m5&=67108863,j=Math.imul(se,bt),I=Math.imul(se,St),I=I+Math.imul(ce,bt)|0,L=Math.imul(ce,St),j=j+Math.imul(z,Qe)|0,I=I+Math.imul(z,ut)|0,I=I+Math.imul(ee,Qe)|0,L=L+Math.imul(ee,ut)|0,j=j+Math.imul(rt,ct)|0,I=I+Math.imul(rt,ht)|0,I=I+Math.imul(K,ct)|0,L=L+Math.imul(K,ht)|0;var bP=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(bP>>>26)|0,bP&=67108863,j=Math.imul(se,Qe),I=Math.imul(se,ut),I=I+Math.imul(ce,Qe)|0,L=Math.imul(ce,ut),j=j+Math.imul(z,ct)|0,I=I+Math.imul(z,ht)|0,I=I+Math.imul(ee,ct)|0,L=L+Math.imul(ee,ht)|0;var vP=(D+j|0)+((I&8191)<<13)|0;D=(L+(I>>>13)|0)+(vP>>>26)|0,vP&=67108863,j=Math.imul(se,ct),I=Math.imul(se,ht),I=I+Math.imul(ce,ct)|0,L=Math.imul(ce,ht);var xP=(D+j|0)+((I&8191)<<13)|0;return D=(L+(I>>>13)|0)+(xP>>>26)|0,xP&=67108863,P[0]=an,P[1]=zn,P[2]=Ht,P[3]=Ft,P[4]=An,P[5]=oi,P[6]=uc,P[7]=Gt,P[8]=vr,P[9]=en,P[10]=$r,P[11]=to,P[12]=dc,P[13]=fl,P[14]=p5,P[15]=m5,P[16]=bP,P[17]=vP,P[18]=xP,D!==0&&(P[19]=D,S.length++),S};Math.imul||(v=w);function b(B,k,C){C.negative=k.negative^B.negative,C.length=B.length+k.length;for(var S=0,T=0,_=0;_<C.length-1;_++){var P=T;T=0;for(var D=S&67108863,j=Math.min(_,k.length-1),I=Math.max(0,_-B.length+1);I<=j;I++){var L=_-I,J=B.words[L]|0,O=k.words[I]|0,G=J*O,Z=G&67108863;P=P+(G/67108864|0)|0,Z=Z+D|0,D=Z&67108863,P=P+(Z>>>26)|0,T+=P>>>26,P&=67108863}C.words[_]=D,S=P,P=T}return S!==0?C.words[_]=S:C.length--,C._strip()}function A(B,k,C){return b(B,k,C)}s.prototype.mulTo=function(k,C){var S,T=this.length+k.length;return this.length===10&&k.length===10?S=v(this,k,C):T<63?S=w(this,k,C):T<1024?S=b(this,k,C):S=A(this,k,C),S},s.prototype.mul=function(k){var C=new s(null);return C.words=new Array(this.length+k.length),this.mulTo(k,C)},s.prototype.mulf=function(k){var C=new s(null);return C.words=new Array(this.length+k.length),A(this,k,C)},s.prototype.imul=function(k){return this.clone().mulTo(k,this)},s.prototype.imuln=function(k){var C=k<0;C&&(k=-k),r(typeof k=="number"),r(k<67108864);for(var S=0,T=0;T<this.length;T++){var _=(this.words[T]|0)*k,P=(_&67108863)+(S&67108863);S>>=26,S+=_/67108864|0,S+=P>>>26,this.words[T]=P&67108863}return S!==0&&(this.words[T]=S,this.length++),this.length=k===0?1:this.length,C?this.ineg():this},s.prototype.muln=function(k){return this.clone().imuln(k)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(k){var C=y(k);if(C.length===0)return new s(1);for(var S=this,T=0;T<C.length&&C[T]===0;T++,S=S.sqr());if(++T<C.length)for(var _=S.sqr();T<C.length;T++,_=_.sqr())C[T]!==0&&(S=S.mul(_));return S},s.prototype.iushln=function(k){r(typeof k=="number"&&k>=0);var C=k%26,S=(k-C)/26,T=67108863>>>26-C<<26-C,_;if(C!==0){var P=0;for(_=0;_<this.length;_++){var D=this.words[_]&T,j=(this.words[_]|0)-D<<C;this.words[_]=j|P,P=D>>>26-C}P&&(this.words[_]=P,this.length++)}if(S!==0){for(_=this.length-1;_>=0;_--)this.words[_+S]=this.words[_];for(_=0;_<S;_++)this.words[_]=0;this.length+=S}return this._strip()},s.prototype.ishln=function(k){return r(this.negative===0),this.iushln(k)},s.prototype.iushrn=function(k,C,S){r(typeof k=="number"&&k>=0);var T;C?T=(C-C%26)/26:T=0;var _=k%26,P=Math.min((k-_)/26,this.length),D=67108863^67108863>>>_<<_,j=S;if(T-=P,T=Math.max(0,T),j){for(var I=0;I<P;I++)j.words[I]=this.words[I];j.length=P}if(P!==0)if(this.length>P)for(this.length-=P,I=0;I<this.length;I++)this.words[I]=this.words[I+P];else this.words[0]=0,this.length=1;var L=0;for(I=this.length-1;I>=0&&(L!==0||I>=T);I--){var J=this.words[I]|0;this.words[I]=L<<26-_|J>>>_,L=J&D}return j&&L!==0&&(j.words[j.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(k,C,S){return r(this.negative===0),this.iushrn(k,C,S)},s.prototype.shln=function(k){return this.clone().ishln(k)},s.prototype.ushln=function(k){return this.clone().iushln(k)},s.prototype.shrn=function(k){return this.clone().ishrn(k)},s.prototype.ushrn=function(k){return this.clone().iushrn(k)},s.prototype.testn=function(k){r(typeof k=="number"&&k>=0);var C=k%26,S=(k-C)/26,T=1<<C;if(this.length<=S)return!1;var _=this.words[S];return!!(_&T)},s.prototype.imaskn=function(k){r(typeof k=="number"&&k>=0);var C=k%26,S=(k-C)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(C!==0&&S++,this.length=Math.min(S,this.length),C!==0){var T=67108863^67108863>>>C<<C;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(k){return this.clone().imaskn(k)},s.prototype.iaddn=function(k){return r(typeof k=="number"),r(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<=k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},s.prototype._iaddn=function(k){this.words[0]+=k;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},s.prototype.isubn=function(k){if(r(typeof k=="number"),r(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},s.prototype.addn=function(k){return this.clone().iaddn(k)},s.prototype.subn=function(k){return this.clone().isubn(k)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(k,C,S){var T=k.length+S,_;this._expand(T);var P,D=0;for(_=0;_<k.length;_++){P=(this.words[_+S]|0)+D;var j=(k.words[_]|0)*C;P-=j&67108863,D=(P>>26)-(j/67108864|0),this.words[_+S]=P&67108863}for(;_<this.length-S;_++)P=(this.words[_+S]|0)+D,D=P>>26,this.words[_+S]=P&67108863;if(D===0)return this._strip();for(r(D===-1),D=0,_=0;_<this.length;_++)P=-(this.words[_]|0)+D,D=P>>26,this.words[_]=P&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(k,C){var S=this.length-k.length,T=this.clone(),_=k,P=_.words[_.length-1]|0,D=this._countBits(P);S=26-D,S!==0&&(_=_.ushln(S),T.iushln(S),P=_.words[_.length-1]|0);var j=T.length-_.length,I;if(C!=="mod"){I=new s(null),I.length=j+1,I.words=new Array(I.length);for(var L=0;L<I.length;L++)I.words[L]=0}var J=T.clone()._ishlnsubmul(_,1,j);J.negative===0&&(T=J,I&&(I.words[j]=1));for(var O=j-1;O>=0;O--){var G=(T.words[_.length+O]|0)*67108864+(T.words[_.length+O-1]|0);for(G=Math.min(G/P|0,67108863),T._ishlnsubmul(_,G,O);T.negative!==0;)G--,T.negative=0,T._ishlnsubmul(_,1,O),T.isZero()||(T.negative^=1);I&&(I.words[O]=G)}return I&&I._strip(),T._strip(),C!=="div"&&S!==0&&T.iushrn(S),{div:I||null,mod:T}},s.prototype.divmod=function(k,C,S){if(r(!k.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,_,P;return this.negative!==0&&k.negative===0?(P=this.neg().divmod(k,C),C!=="mod"&&(T=P.div.neg()),C!=="div"&&(_=P.mod.neg(),S&&_.negative!==0&&_.iadd(k)),{div:T,mod:_}):this.negative===0&&k.negative!==0?(P=this.divmod(k.neg(),C),C!=="mod"&&(T=P.div.neg()),{div:T,mod:P.mod}):this.negative&k.negative?(P=this.neg().divmod(k.neg(),C),C!=="div"&&(_=P.mod.neg(),S&&_.negative!==0&&_.isub(k)),{div:P.div,mod:_}):k.length>this.length||this.cmp(k)<0?{div:new s(0),mod:this}:k.length===1?C==="div"?{div:this.divn(k.words[0]),mod:null}:C==="mod"?{div:null,mod:new s(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new s(this.modrn(k.words[0]))}:this._wordDiv(k,C)},s.prototype.div=function(k){return this.divmod(k,"div",!1).div},s.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},s.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},s.prototype.divRound=function(k){var C=this.divmod(k);if(C.mod.isZero())return C.div;var S=C.div.negative!==0?C.mod.isub(k):C.mod,T=k.ushrn(1),_=k.andln(1),P=S.cmp(T);return P<0||_===1&&P===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},s.prototype.modrn=function(k){var C=k<0;C&&(k=-k),r(k<=67108863);for(var S=(1<<26)%k,T=0,_=this.length-1;_>=0;_--)T=(S*T+(this.words[_]|0))%k;return C?-T:T},s.prototype.modn=function(k){return this.modrn(k)},s.prototype.idivn=function(k){var C=k<0;C&&(k=-k),r(k<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var _=(this.words[T]|0)+S*67108864;this.words[T]=_/k|0,S=_%k}return this._strip(),C?this.ineg():this},s.prototype.divn=function(k){return this.clone().idivn(k)},s.prototype.egcd=function(k){r(k.negative===0),r(!k.isZero());var C=this,S=k.clone();C.negative!==0?C=C.umod(k):C=C.clone();for(var T=new s(1),_=new s(0),P=new s(0),D=new s(1),j=0;C.isEven()&&S.isEven();)C.iushrn(1),S.iushrn(1),++j;for(var I=S.clone(),L=C.clone();!C.isZero();){for(var J=0,O=1;!(C.words[0]&O)&&J<26;++J,O<<=1);if(J>0)for(C.iushrn(J);J-- >0;)(T.isOdd()||_.isOdd())&&(T.iadd(I),_.isub(L)),T.iushrn(1),_.iushrn(1);for(var G=0,Z=1;!(S.words[0]&Z)&&G<26;++G,Z<<=1);if(G>0)for(S.iushrn(G);G-- >0;)(P.isOdd()||D.isOdd())&&(P.iadd(I),D.isub(L)),P.iushrn(1),D.iushrn(1);C.cmp(S)>=0?(C.isub(S),T.isub(P),_.isub(D)):(S.isub(C),P.isub(T),D.isub(_))}return{a:P,b:D,gcd:S.iushln(j)}},s.prototype._invmp=function(k){r(k.negative===0),r(!k.isZero());var C=this,S=k.clone();C.negative!==0?C=C.umod(k):C=C.clone();for(var T=new s(1),_=new s(0),P=S.clone();C.cmpn(1)>0&&S.cmpn(1)>0;){for(var D=0,j=1;!(C.words[0]&j)&&D<26;++D,j<<=1);if(D>0)for(C.iushrn(D);D-- >0;)T.isOdd()&&T.iadd(P),T.iushrn(1);for(var I=0,L=1;!(S.words[0]&L)&&I<26;++I,L<<=1);if(I>0)for(S.iushrn(I);I-- >0;)_.isOdd()&&_.iadd(P),_.iushrn(1);C.cmp(S)>=0?(C.isub(S),T.isub(_)):(S.isub(C),_.isub(T))}var J;return C.cmpn(1)===0?J=T:J=_,J.cmpn(0)<0&&J.iadd(k),J},s.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var C=this.clone(),S=k.clone();C.negative=0,S.negative=0;for(var T=0;C.isEven()&&S.isEven();T++)C.iushrn(1),S.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;S.isEven();)S.iushrn(1);var _=C.cmp(S);if(_<0){var P=C;C=S,S=P}else if(_===0||S.cmpn(1)===0)break;C.isub(S)}while(!0);return S.iushln(T)},s.prototype.invm=function(k){return this.egcd(k).a.umod(k)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(k){return this.words[0]&k},s.prototype.bincn=function(k){r(typeof k=="number");var C=k%26,S=(k-C)/26,T=1<<C;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var _=T,P=S;_!==0&&P<this.length;P++){var D=this.words[P]|0;D+=_,_=D>>>26,D&=67108863,this.words[P]=D}return _!==0&&(this.words[P]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(k){var C=k<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var S;if(this.length>1)S=1;else{C&&(k=-k),r(k<=67108863,"Number is too big");var T=this.words[0]|0;S=T===k?0:T<k?-1:1}return this.negative!==0?-S|0:S},s.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var C=this.ucmp(k);return this.negative!==0?-C|0:C},s.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var C=0,S=this.length-1;S>=0;S--){var T=this.words[S]|0,_=k.words[S]|0;if(T!==_){T<_?C=-1:T>_&&(C=1);break}}return C},s.prototype.gtn=function(k){return this.cmpn(k)===1},s.prototype.gt=function(k){return this.cmp(k)===1},s.prototype.gten=function(k){return this.cmpn(k)>=0},s.prototype.gte=function(k){return this.cmp(k)>=0},s.prototype.ltn=function(k){return this.cmpn(k)===-1},s.prototype.lt=function(k){return this.cmp(k)===-1},s.prototype.lten=function(k){return this.cmpn(k)<=0},s.prototype.lte=function(k){return this.cmp(k)<=0},s.prototype.eqn=function(k){return this.cmpn(k)===0},s.prototype.eq=function(k){return this.cmp(k)===0},s.red=function(k){return new W(k)},s.prototype.toRed=function(k){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(k){return this.red=k,this},s.prototype.forceRed=function(k){return r(!this.red,"Already a number in reduction context"),this._forceRed(k)},s.prototype.redAdd=function(k){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},s.prototype.redIAdd=function(k){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},s.prototype.redSub=function(k){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},s.prototype.redISub=function(k){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},s.prototype.redShl=function(k){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},s.prototype.redMul=function(k){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},s.prototype.redIMul=function(k){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(k){return r(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var E={k256:null,p224:null,p192:null,p25519:null};function $(B,k){this.name=B,this.p=new s(k,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var k=new s(null);return k.words=new Array(Math.ceil(this.n/13)),k},$.prototype.ireduce=function(k){var C=k,S;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),S=C.bitLength();while(S>this.n);var T=S<this.n?-1:C.ucmp(this.p);return T===0?(C.words[0]=0,C.length=1):T>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},$.prototype.split=function(k,C){k.iushrn(this.n,0,C)},$.prototype.imulK=function(k){return k.imul(this.k)};function N(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,$),N.prototype.split=function(k,C){for(var S=4194303,T=Math.min(k.length,9),_=0;_<T;_++)C.words[_]=k.words[_];if(C.length=T,k.length<=9){k.words[0]=0,k.length=1;return}var P=k.words[9];for(C.words[C.length++]=P&S,_=10;_<k.length;_++){var D=k.words[_]|0;k.words[_-10]=(D&S)<<4|P>>>22,P=D}P>>>=22,k.words[_-10]=P,P===0&&k.length>10?k.length-=10:k.length-=9},N.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var C=0,S=0;S<k.length;S++){var T=k.words[S]|0;C+=T*977,k.words[S]=C&67108863,C=T*64+(C/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function R(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,$);function M(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(M,$);function F(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,$),F.prototype.imulK=function(k){for(var C=0,S=0;S<k.length;S++){var T=(k.words[S]|0)*19+C,_=T&67108863;T>>>=26,k.words[S]=_,C=T}return C!==0&&(k.words[k.length++]=C),k},s._prime=function(k){if(E[k])return E[k];var C;if(k==="k256")C=new N;else if(k==="p224")C=new R;else if(k==="p192")C=new M;else if(k==="p25519")C=new F;else throw new Error("Unknown prime "+k);return E[k]=C,C};function W(B){if(typeof B=="string"){var k=s._prime(B);this.m=k.p,this.prime=k}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}W.prototype._verify1=function(k){r(k.negative===0,"red works only with positives"),r(k.red,"red works only with red numbers")},W.prototype._verify2=function(k,C){r((k.negative|C.negative)===0,"red works only with positives"),r(k.red&&k.red===C.red,"red works only with red numbers")},W.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(u(k,k.umod(this.m)._forceRed(this)),k)},W.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},W.prototype.add=function(k,C){this._verify2(k,C);var S=k.add(C);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},W.prototype.iadd=function(k,C){this._verify2(k,C);var S=k.iadd(C);return S.cmp(this.m)>=0&&S.isub(this.m),S},W.prototype.sub=function(k,C){this._verify2(k,C);var S=k.sub(C);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},W.prototype.isub=function(k,C){this._verify2(k,C);var S=k.isub(C);return S.cmpn(0)<0&&S.iadd(this.m),S},W.prototype.shl=function(k,C){return this._verify1(k),this.imod(k.ushln(C))},W.prototype.imul=function(k,C){return this._verify2(k,C),this.imod(k.imul(C))},W.prototype.mul=function(k,C){return this._verify2(k,C),this.imod(k.mul(C))},W.prototype.isqr=function(k){return this.imul(k,k.clone())},W.prototype.sqr=function(k){return this.mul(k,k)},W.prototype.sqrt=function(k){if(k.isZero())return k.clone();var C=this.m.andln(3);if(r(C%2===1),C===3){var S=this.m.add(new s(1)).iushrn(2);return this.pow(k,S)}for(var T=this.m.subn(1),_=0;!T.isZero()&&T.andln(1)===0;)_++,T.iushrn(1);r(!T.isZero());var P=new s(1).toRed(this),D=P.redNeg(),j=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,j).cmp(D)!==0;)I.redIAdd(D);for(var L=this.pow(I,T),J=this.pow(k,T.addn(1).iushrn(1)),O=this.pow(k,T),G=_;O.cmp(P)!==0;){for(var Z=O,Q=0;Z.cmp(P)!==0;Q++)Z=Z.redSqr();r(Q<G);var ie=this.pow(L,new s(1).iushln(G-Q-1));J=J.redMul(ie),L=ie.redSqr(),O=O.redMul(L),G=Q}return J},W.prototype.invm=function(k){var C=k._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},W.prototype.pow=function(k,C){if(C.isZero())return new s(1).toRed(this);if(C.cmpn(1)===0)return k.clone();var S=4,T=new Array(1<<S);T[0]=new s(1).toRed(this),T[1]=k;for(var _=2;_<T.length;_++)T[_]=this.mul(T[_-1],k);var P=T[0],D=0,j=0,I=C.bitLength()%26;for(I===0&&(I=26),_=C.length-1;_>=0;_--){for(var L=C.words[_],J=I-1;J>=0;J--){var O=L>>J&1;if(P!==T[0]&&(P=this.sqr(P)),O===0&&D===0){j=0;continue}D<<=1,D|=O,j++,!(j!==S&&(_!==0||J!==0))&&(P=this.mul(P,T[D]),j=0,D=0)}I=26}return P},W.prototype.convertTo=function(k){var C=k.umod(this.m);return C===k?C.clone():C},W.prototype.convertFrom=function(k){var C=k.clone();return C.red=null,C},s.mont=function(k){return new V(k)};function V(B){W.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,W),V.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},V.prototype.convertFrom=function(k){var C=this.imod(k.mul(this.rinv));return C.red=null,C},V.prototype.imul=function(k,C){if(k.isZero()||C.isZero())return k.words[0]=0,k.length=1,k;var S=k.imul(C),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=S.isub(T).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},V.prototype.mul=function(k,C){if(k.isZero()||C.isZero())return new s(0)._forceRed(this);var S=k.mul(C),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=S.isub(T).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},V.prototype.invm=function(k){var C=this.imod(k._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,ql)})(qV);var O1e=qV.exports;const zt=Ks(O1e),jJe="bytes/5.8.0",ci=new je(jJe);function M1e(t){return!!t.toHexString}function Qv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Qv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function GV(t){return br(t)&&!(t.length%2)||L3(t)}function Oee(t){return typeof t=="number"&&t==t&&t%1===0}function L3(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Oee(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!Oee(n)||n<0||n>=256)return!1}return!0}function un(t,e){if(e||(e={}),typeof t=="number"){ci.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Qv(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),M1e(t)&&(t=t.toHexString()),br(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":ci.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Qv(new Uint8Array(r))}return L3(t)?Qv(new Uint8Array(t)):ci.throwArgumentError("invalid arrayify value","value",t)}function Ny(t){const e=t.map(i=>un(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Qv(r)}function Ox(t){let e=un(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function OJe(t,e){t=un(t),t.length>e&&ci.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Qv(n)}function br(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const GR="0123456789abcdef";function cn(t,e){if(e||(e={}),typeof t=="number"){ci.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=GR[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),M1e(t))return t.toHexString();if(br(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ci.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(L3(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=GR[(i&240)>>4]+GR[i&15]}return n}return ci.throwArgumentError("invalid hexlify value","value",t)}function X1(t){if(typeof t!="string")t=cn(t);else if(!br(t)||t.length%2)return null;return(t.length-2)/2}function Go(t,e,n){return typeof t!="string"?t=cn(t):(!br(t)||t.length%2)&&ci.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Fl(t){let e="0x";return t.forEach(n=>{e+=cn(n).substring(2)}),e}function KV(t){const e=MJe(cn(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function MJe(t){typeof t!="string"&&(t=cn(t)),br(t)||ci.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function gi(t,e){for(typeof t!="string"?t=cn(t):br(t)||ci.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ci.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ZT(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(GV(t)){let n=un(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64))):n.length===65?(e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64)),e.v=n[64]):ci.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:ci.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=cn(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=OJe(un(e._vs),32);e._vs=cn(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ci.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=cn(i);e.s==null?e.s=o:e.s!==o&&ci.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ci.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ci.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!br(e.r)?ci.throwArgumentError("signature missing or invalid r","signature",t):e.r=gi(e.r,32),e.s==null||!br(e.s)?ci.throwArgumentError("signature missing or invalid s","signature",t):e.s=gi(e.s,32);const n=un(e.s);n[0]>=128&&ci.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=cn(n);e._vs&&(br(e._vs)||ci.throwArgumentError("signature invalid _vs","signature",t),e._vs=gi(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&ci.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const D1e="bignumber/5.8.0";var Y_=zt.BN;const Mf=new je(D1e),KR={},Mee=9007199254740991;function DJe(t){return t!=null&&(dt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||br(t)||typeof t=="bigint"||L3(t))}let Dee=!1;class dt{constructor(e,n){e!==KR&&Mf.throwError("cannot call constructor directly; use BigNumber.from",je.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Aa(In(this).fromTwos(e))}toTwos(e){return Aa(In(this).toTwos(e))}abs(){return this._hex[0]==="-"?dt.from(this._hex.substring(1)):this}add(e){return Aa(In(this).add(In(e)))}sub(e){return Aa(In(this).sub(In(e)))}div(e){return dt.from(e).isZero()&&pc("division-by-zero","div"),Aa(In(this).div(In(e)))}mul(e){return Aa(In(this).mul(In(e)))}mod(e){const n=In(e);return n.isNeg()&&pc("division-by-zero","mod"),Aa(In(this).umod(n))}pow(e){const n=In(e);return n.isNeg()&&pc("negative-power","pow"),Aa(In(this).pow(n))}and(e){const n=In(e);return(this.isNegative()||n.isNeg())&&pc("unbound-bitwise-result","and"),Aa(In(this).and(n))}or(e){const n=In(e);return(this.isNegative()||n.isNeg())&&pc("unbound-bitwise-result","or"),Aa(In(this).or(n))}xor(e){const n=In(e);return(this.isNegative()||n.isNeg())&&pc("unbound-bitwise-result","xor"),Aa(In(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&pc("negative-width","mask"),Aa(In(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&pc("negative-width","shl"),Aa(In(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&pc("negative-width","shr"),Aa(In(this).shrn(e))}eq(e){return In(this).eq(In(e))}lt(e){return In(this).lt(In(e))}lte(e){return In(this).lte(In(e))}gt(e){return In(this).gt(In(e))}gte(e){return In(this).gte(In(e))}isNegative(){return this._hex[0]==="-"}isZero(){return In(this).isZero()}toNumber(){try{return In(this).toNumber()}catch{pc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Mf.throwError("this platform does not support BigInt",je.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Dee||(Dee=!0,Mf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Mf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",je.errors.UNEXPECTED_ARGUMENT,{}):Mf.throwError("BigNumber.toString does not accept parameters",je.errors.UNEXPECTED_ARGUMENT,{})),In(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof dt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new dt(KR,HE(e)):e.match(/^-?[0-9]+$/)?new dt(KR,HE(new Y_(e))):Mf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&pc("underflow","BigNumber.from",e),(e>=Mee||e<=-Mee)&&pc("overflow","BigNumber.from",e),dt.from(String(e));const n=e;if(typeof n=="bigint")return dt.from(n.toString());if(L3(n))return dt.from(cn(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return dt.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(br(r)||r[0]==="-"&&br(r.substring(1))))return dt.from(r)}return Mf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function HE(t){if(typeof t!="string")return HE(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Mf.throwArgumentError("invalid hex","value",t),t=HE(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Aa(t){return dt.from(HE(t))}function In(t){const e=dt.from(t).toHexString();return e[0]==="-"?new Y_("-"+e.substring(3),16):new Y_(e.substring(2),16)}function pc(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Mf.throwError(t,je.errors.NUMERIC_FAULT,r)}function BJe(t){return new Y_(t,36).toString(16)}const Jo=new je(D1e),r4={},B1e=dt.from(0),L1e=dt.from(-1);function F1e(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Jo.throwError(t,je.errors.NUMERIC_FAULT,i)}let i4="0";for(;i4.length<256;)i4+=i4;function YV(t){if(typeof t!="number")try{t=dt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+i4.substring(0,t):Jo.throwArgumentError("invalid decimal size","decimals",t)}function YR(t,e){e==null&&(e=0);const n=YV(e);t=dt.from(t);const r=t.lt(B1e);r&&(t=t.mul(L1e));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function Zd(t,e){e==null&&(e=0);const n=YV(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Jo.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Jo.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Jo.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&F1e("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=dt.from(s),l=dt.from(o);let c=a.mul(n).add(l);return r&&(c=c.mul(L1e)),c}class Zv{constructor(e,n,r,i){e!==r4&&Jo.throwError("cannot use FixedFormat constructor; use FixedFormat.from",je.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=YV(i),Object.freeze(this)}static from(e){if(e instanceof Zv)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Jo.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Jo.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&Jo.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Jo.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Zv(r4,n,r,i)}}let U1e=class Fo{constructor(e,n,r,i){e!==r4&&Jo.throwError("cannot use FixedNumber constructor; use FixedNumber.from",je.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Jo.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Zd(this._value,this.format.decimals),r=Zd(e._value,e.format.decimals);return Fo.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Fo.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(Bee.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Fo.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(Bee.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Jo.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Fo.from("1"+i4.substring(0,e),this.format),i=LJe.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Jo.throwArgumentError("invalid byte width","width",e);const n=dt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return gi(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Fo.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!DJe(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Fo.fromString(YR(e,n),Zv.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Zv.from(n),i=Zd(e,r.decimals);!r.signed&&i.lt(B1e)&&F1e("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=gi(s,r.width/8));const o=YR(i,r.decimals);return new Fo(r4,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Zv.from(n);if(un(e).length>r.width/8)throw new Error("overflow");let i=dt.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=YR(i,r.decimals);return new Fo(r4,s,o,r)}static from(e,n){if(typeof e=="string")return Fo.fromString(e,n);if(L3(e))return Fo.fromBytes(e,n);try{return Fo.fromValue(e,0,n)}catch(r){if(r.code!==je.errors.INVALID_ARGUMENT)throw r}return Jo.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}};const Bee=U1e.from(1),LJe=U1e.from("0.5"),FJe="abstract-provider/5.8.0";var UJe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const zJe=new je(FJe);class WJe extends _Je{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class QV{constructor(){zJe.checkAbstract(new.target,QV),$n(this,"_isProvider",!0)}getFeeData(){return UJe(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Ds({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=dt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const HJe="networks/5.8.0",Lee=new je(HJe);function VJe(t){return t&&typeof t.renetwork=="function"}function Bu(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return Bu(n)},e}function Q_(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return Q_(t,r)},n}const Fee={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Bu("homestead")},Uee={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Bu("ropsten")},zee={chainId:63,name:"classicMordor",_defaultProvider:Q_("https://www.ethercluster.com/mordor","classicMordor")},lk={unspecified:{chainId:0,name:"unspecified"},homestead:Fee,mainnet:Fee,morden:{chainId:2,name:"morden"},ropsten:Uee,testnet:Uee,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Bu("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Bu("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Bu("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Bu("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Bu("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Q_("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:zee,classicTestnet:zee,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Q_("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Bu("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Bu("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Bu("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function qJe(t){if(t==null)return null;if(typeof t=="number"){for(const r in lk){const i=lk[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=lk[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=lk[t.name];if(!e)return typeof t.chainId!="number"&&Lee.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Lee.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(VJe(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}function z1e(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return un(e)}function W1e(t){t=un(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class H1e{constructor(e){$n(this,"alphabet",e),$n(this,"base",e.length),$n(this,"_alphabetMap",{}),$n(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=un(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return un(new Uint8Array(n.reverse()))}}new H1e("abcdefghijklmnopqrstuvwxyz234567");const vL=new H1e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),GJe="0x0000000000000000000000000000000000000000",KJe=dt.from(0),YJe="0x0000000000000000000000000000000000000000000000000000000000000000";var V1e={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],w=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});for(var A=function(O,G,Z){return function(Q){return new I(O,G,O).update(Q)[Z]()}},E=function(O,G,Z){return function(Q,ie){return new I(O,G,ie).update(Q)[Z]()}},$=function(O,G,Z){return function(Q,ie,de,oe){return k["cshake"+O].update(Q,ie,de,oe)[Z]()}},N=function(O,G,Z){return function(Q,ie,de,oe){return k["kmac"+O].update(Q,ie,de,oe)[Z]()}},R=function(O,G,Z,Q){for(var ie=0;ie<v.length;++ie){var de=v[ie];O[de]=G(Z,Q,de)}return O},M=function(O,G){var Z=A(O,G,"hex");return Z.create=function(){return new I(O,G,O)},Z.update=function(Q){return Z.create().update(Q)},R(Z,A,O,G)},F=function(O,G){var Z=E(O,G,"hex");return Z.create=function(Q){return new I(O,G,Q)},Z.update=function(Q,ie){return Z.create(ie).update(Q)},R(Z,E,O,G)},W=function(O,G){var Z=b[O],Q=$(O,G,"hex");return Q.create=function(ie,de,oe){return!de&&!oe?k["shake"+O].create(ie):new I(O,G,ie).bytepad([de,oe],Z)},Q.update=function(ie,de,oe,he){return Q.create(de,oe,he).update(ie)},R(Q,$,O,G)},V=function(O,G){var Z=b[O],Q=N(O,G,"hex");return Q.create=function(ie,de,oe){return new L(O,G,de).bytepad(["KMAC",oe],Z).bytepad([ie],Z)},Q.update=function(ie,de,oe,he){return Q.create(ie,oe,he).update(de)},R(Q,N,O,G)},B=[{name:"keccak",padding:f,bits:y,createMethod:M},{name:"sha3",padding:p,bits:y,createMethod:M},{name:"shake",padding:u,bits:w,createMethod:F},{name:"cshake",padding:h,bits:w,createMethod:W},{name:"kmac",padding:h,bits:w,createMethod:V}],k={},C=[],S=0;S<B.length;++S)for(var T=B[S],_=T.bits,P=0;P<_.length;++P){var D=T.name+"_"+_[P];if(C.push(D),k[D]=T.createMethod(_[P],T.padding),T.name!=="sha3"){var j=T.name+_[P];C.push(j),k[j]=k[D]}}function I(O,G,Z){this.blocks=[],this.s=[],this.padding=G,this.outputBits=Z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(O<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Z>>5,this.extraBytes=(Z&31)>>3;for(var Q=0;Q<50;++Q)this.s[Q]=0}I.prototype.update=function(O){if(this.finalized)throw new Error(n);var G,Z=typeof O;if(Z!=="string"){if(Z==="object"){if(O===null)throw new Error(e);if(l&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!l||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);G=!0}for(var Q=this.blocks,ie=this.byteCount,de=O.length,oe=this.blockCount,he=0,we=this.s,fe,ke;he<de;){if(this.reset)for(this.reset=!1,Q[0]=this.block,fe=1;fe<oe+1;++fe)Q[fe]=0;if(G)for(fe=this.start;he<de&&fe<ie;++he)Q[fe>>2]|=O[he]<<m[fe++&3];else for(fe=this.start;he<de&&fe<ie;++he)ke=O.charCodeAt(he),ke<128?Q[fe>>2]|=ke<<m[fe++&3]:ke<2048?(Q[fe>>2]|=(192|ke>>6)<<m[fe++&3],Q[fe>>2]|=(128|ke&63)<<m[fe++&3]):ke<55296||ke>=57344?(Q[fe>>2]|=(224|ke>>12)<<m[fe++&3],Q[fe>>2]|=(128|ke>>6&63)<<m[fe++&3],Q[fe>>2]|=(128|ke&63)<<m[fe++&3]):(ke=65536+((ke&1023)<<10|O.charCodeAt(++he)&1023),Q[fe>>2]|=(240|ke>>18)<<m[fe++&3],Q[fe>>2]|=(128|ke>>12&63)<<m[fe++&3],Q[fe>>2]|=(128|ke>>6&63)<<m[fe++&3],Q[fe>>2]|=(128|ke&63)<<m[fe++&3]);if(this.lastByteIndex=fe,fe>=ie){for(this.start=fe-ie,this.block=Q[oe],fe=0;fe<oe;++fe)we[fe]^=Q[fe];J(we),this.reset=!0}else this.start=fe}return this},I.prototype.encode=function(O,G){var Z=O&255,Q=1,ie=[Z];for(O=O>>8,Z=O&255;Z>0;)ie.unshift(Z),O=O>>8,Z=O&255,++Q;return G?ie.push(Q):ie.unshift(Q),this.update(ie),ie.length},I.prototype.encodeString=function(O){var G,Z=typeof O;if(Z!=="string"){if(Z==="object"){if(O===null)throw new Error(e);if(l&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!l||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);G=!0}var Q=0,ie=O.length;if(G)Q=ie;else for(var de=0;de<O.length;++de){var oe=O.charCodeAt(de);oe<128?Q+=1:oe<2048?Q+=2:oe<55296||oe>=57344?Q+=3:(oe=65536+((oe&1023)<<10|O.charCodeAt(++de)&1023),Q+=4)}return Q+=this.encode(Q*8),this.update(O),Q},I.prototype.bytepad=function(O,G){for(var Z=this.encode(G),Q=0;Q<O.length;++Q)Z+=this.encodeString(O[Q]);var ie=G-Z%G,de=[];return de.length=ie,this.update(de),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,G=this.lastByteIndex,Z=this.blockCount,Q=this.s;if(O[G>>2]|=this.padding[G&3],this.lastByteIndex===this.byteCount)for(O[0]=O[Z],G=1;G<Z+1;++G)O[G]=0;for(O[Z-1]|=2147483648,G=0;G<Z;++G)Q[G]^=O[G];J(Q)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var O=this.blockCount,G=this.s,Z=this.outputBlocks,Q=this.extraBytes,ie=0,de=0,oe="",he;de<Z;){for(ie=0;ie<O&&de<Z;++ie,++de)he=G[ie],oe+=c[he>>4&15]+c[he&15]+c[he>>12&15]+c[he>>8&15]+c[he>>20&15]+c[he>>16&15]+c[he>>28&15]+c[he>>24&15];de%O===0&&(J(G),ie=0)}return Q&&(he=G[ie],oe+=c[he>>4&15]+c[he&15],Q>1&&(oe+=c[he>>12&15]+c[he>>8&15]),Q>2&&(oe+=c[he>>20&15]+c[he>>16&15])),oe},I.prototype.arrayBuffer=function(){this.finalize();var O=this.blockCount,G=this.s,Z=this.outputBlocks,Q=this.extraBytes,ie=0,de=0,oe=this.outputBits>>3,he;Q?he=new ArrayBuffer(Z+1<<2):he=new ArrayBuffer(oe);for(var we=new Uint32Array(he);de<Z;){for(ie=0;ie<O&&de<Z;++ie,++de)we[de]=G[ie];de%O===0&&J(G)}return Q&&(we[ie]=G[ie],he=he.slice(0,oe)),he},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var O=this.blockCount,G=this.s,Z=this.outputBlocks,Q=this.extraBytes,ie=0,de=0,oe=[],he,we;de<Z;){for(ie=0;ie<O&&de<Z;++ie,++de)he=de<<2,we=G[ie],oe[he]=we&255,oe[he+1]=we>>8&255,oe[he+2]=we>>16&255,oe[he+3]=we>>24&255;de%O===0&&J(G)}return Q&&(he=de<<2,we=G[ie],oe[he]=we&255,Q>1&&(oe[he+1]=we>>8&255),Q>2&&(oe[he+2]=we>>16&255)),oe};function L(O,G,Z){I.call(this,O,G,Z)}L.prototype=new I,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var J=function(O){var G,Z,Q,ie,de,oe,he,we,fe,ke,be,Ue,Me,Se,xe,Ne,Be,Ce,De,Ve,rt,K,U,z,ee,ne,se,ce,Le,Xe,Ye,et,Re,Tt,dn,Bt,He,Ln,En,ot,Qt,q,Y,ae,re,le,me,$e,Oe,Mt,bt,St,rn,Qe,ut,at,ct,ht,an,zn,Ht,Ft,An;for(Q=0;Q<48;Q+=2)ie=O[0]^O[10]^O[20]^O[30]^O[40],de=O[1]^O[11]^O[21]^O[31]^O[41],oe=O[2]^O[12]^O[22]^O[32]^O[42],he=O[3]^O[13]^O[23]^O[33]^O[43],we=O[4]^O[14]^O[24]^O[34]^O[44],fe=O[5]^O[15]^O[25]^O[35]^O[45],ke=O[6]^O[16]^O[26]^O[36]^O[46],be=O[7]^O[17]^O[27]^O[37]^O[47],Ue=O[8]^O[18]^O[28]^O[38]^O[48],Me=O[9]^O[19]^O[29]^O[39]^O[49],G=Ue^(oe<<1|he>>>31),Z=Me^(he<<1|oe>>>31),O[0]^=G,O[1]^=Z,O[10]^=G,O[11]^=Z,O[20]^=G,O[21]^=Z,O[30]^=G,O[31]^=Z,O[40]^=G,O[41]^=Z,G=ie^(we<<1|fe>>>31),Z=de^(fe<<1|we>>>31),O[2]^=G,O[3]^=Z,O[12]^=G,O[13]^=Z,O[22]^=G,O[23]^=Z,O[32]^=G,O[33]^=Z,O[42]^=G,O[43]^=Z,G=oe^(ke<<1|be>>>31),Z=he^(be<<1|ke>>>31),O[4]^=G,O[5]^=Z,O[14]^=G,O[15]^=Z,O[24]^=G,O[25]^=Z,O[34]^=G,O[35]^=Z,O[44]^=G,O[45]^=Z,G=we^(Ue<<1|Me>>>31),Z=fe^(Me<<1|Ue>>>31),O[6]^=G,O[7]^=Z,O[16]^=G,O[17]^=Z,O[26]^=G,O[27]^=Z,O[36]^=G,O[37]^=Z,O[46]^=G,O[47]^=Z,G=ke^(ie<<1|de>>>31),Z=be^(de<<1|ie>>>31),O[8]^=G,O[9]^=Z,O[18]^=G,O[19]^=Z,O[28]^=G,O[29]^=Z,O[38]^=G,O[39]^=Z,O[48]^=G,O[49]^=Z,Se=O[0],xe=O[1],le=O[11]<<4|O[10]>>>28,me=O[10]<<4|O[11]>>>28,ce=O[20]<<3|O[21]>>>29,Le=O[21]<<3|O[20]>>>29,zn=O[31]<<9|O[30]>>>23,Ht=O[30]<<9|O[31]>>>23,q=O[40]<<18|O[41]>>>14,Y=O[41]<<18|O[40]>>>14,Tt=O[2]<<1|O[3]>>>31,dn=O[3]<<1|O[2]>>>31,Ne=O[13]<<12|O[12]>>>20,Be=O[12]<<12|O[13]>>>20,$e=O[22]<<10|O[23]>>>22,Oe=O[23]<<10|O[22]>>>22,Xe=O[33]<<13|O[32]>>>19,Ye=O[32]<<13|O[33]>>>19,Ft=O[42]<<2|O[43]>>>30,An=O[43]<<2|O[42]>>>30,Qe=O[5]<<30|O[4]>>>2,ut=O[4]<<30|O[5]>>>2,Bt=O[14]<<6|O[15]>>>26,He=O[15]<<6|O[14]>>>26,Ce=O[25]<<11|O[24]>>>21,De=O[24]<<11|O[25]>>>21,Mt=O[34]<<15|O[35]>>>17,bt=O[35]<<15|O[34]>>>17,et=O[45]<<29|O[44]>>>3,Re=O[44]<<29|O[45]>>>3,z=O[6]<<28|O[7]>>>4,ee=O[7]<<28|O[6]>>>4,at=O[17]<<23|O[16]>>>9,ct=O[16]<<23|O[17]>>>9,Ln=O[26]<<25|O[27]>>>7,En=O[27]<<25|O[26]>>>7,Ve=O[36]<<21|O[37]>>>11,rt=O[37]<<21|O[36]>>>11,St=O[47]<<24|O[46]>>>8,rn=O[46]<<24|O[47]>>>8,ae=O[8]<<27|O[9]>>>5,re=O[9]<<27|O[8]>>>5,ne=O[18]<<20|O[19]>>>12,se=O[19]<<20|O[18]>>>12,ht=O[29]<<7|O[28]>>>25,an=O[28]<<7|O[29]>>>25,ot=O[38]<<8|O[39]>>>24,Qt=O[39]<<8|O[38]>>>24,K=O[48]<<14|O[49]>>>18,U=O[49]<<14|O[48]>>>18,O[0]=Se^~Ne&Ce,O[1]=xe^~Be&De,O[10]=z^~ne&ce,O[11]=ee^~se&Le,O[20]=Tt^~Bt&Ln,O[21]=dn^~He&En,O[30]=ae^~le&$e,O[31]=re^~me&Oe,O[40]=Qe^~at&ht,O[41]=ut^~ct&an,O[2]=Ne^~Ce&Ve,O[3]=Be^~De&rt,O[12]=ne^~ce&Xe,O[13]=se^~Le&Ye,O[22]=Bt^~Ln&ot,O[23]=He^~En&Qt,O[32]=le^~$e&Mt,O[33]=me^~Oe&bt,O[42]=at^~ht&zn,O[43]=ct^~an&Ht,O[4]=Ce^~Ve&K,O[5]=De^~rt&U,O[14]=ce^~Xe&et,O[15]=Le^~Ye&Re,O[24]=Ln^~ot&q,O[25]=En^~Qt&Y,O[34]=$e^~Mt&St,O[35]=Oe^~bt&rn,O[44]=ht^~zn&Ft,O[45]=an^~Ht&An,O[6]=Ve^~K&Se,O[7]=rt^~U&xe,O[16]=Xe^~et&z,O[17]=Ye^~Re&ee,O[26]=ot^~q&Tt,O[27]=Qt^~Y&dn,O[36]=Mt^~St&ae,O[37]=bt^~rn&re,O[46]=zn^~Ft&Qe,O[47]=Ht^~An&ut,O[8]=K^~Se&Ne,O[9]=U^~xe&Be,O[18]=et^~z&ne,O[19]=Re^~ee&se,O[28]=q^~Tt&Bt,O[29]=Y^~dn&He,O[38]=St^~ae&le,O[39]=rn^~re&me,O[48]=Ft^~Qe&at,O[49]=An^~ut&ct,O[0]^=g[Q],O[1]^=g[Q+1]};if(a)t.exports=k;else for(S=0;S<C.length;++S)i[C[S]]=k[C[S]]})()})(V1e);var QJe=V1e.exports;const ZJe=Ks(QJe);function Us(t){return"0x"+ZJe.keccak_256(un(t))}const JJe="strings/5.8.0",q1e=new je(JJe);var VE;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(VE||(VE={}));var Nl;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Nl||(Nl={}));function XJe(t,e,n,r,i){return q1e.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function G1e(t,e,n,r,i){if(t===Nl.BAD_PREFIX||t===Nl.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===Nl.OVERRUN?n.length-e-1:0}function eXe(t,e,n,r,i){return t===Nl.OVERLONG?(r.push(i),0):(r.push(65533),G1e(t,e,n))}const tXe=Object.freeze({error:XJe,ignore:G1e,replace:eXe});function K1e(t,e){e==null&&(e=tXe.error),t=un(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Nl.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Nl.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(Nl.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[r];if((c&192)!=128){r+=e(Nl.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|c&63,r++}if(a!==null){if(a>1114111){r+=e(Nl.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(Nl.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(Nl.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function Gp(t,e=VE.current){e!=VE.current&&(q1e.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return un(n)}function nXe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function JT(t,e){return nXe(K1e(t,e))}function rXe(t,e=VE.current){return K1e(Gp(t,e))}function Y1e(t){return Us(Gp(t))}const Q1e="hash/5.8.0";function Z1e(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function iXe(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function sXe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,m=p>>1,g=f-1;let y=0;for(let E=0;E<h;E++)y=y<<1|u();let w=[],v=0,b=f;for(;;){let E=Math.floor(((y-v+1)*i-1)/b),$=0,N=r;for(;N-$>1;){let F=$+N>>>1;E<s[F]?N=F:$=F}if($==0)break;w.push($);let R=v+Math.floor(b*s[$]/i),M=v+Math.floor(b*s[$+1]/i)-1;for(;!((R^M)&p);)y=y<<1&g|u(),R=R<<1&g,M=M<<1&g|1;for(;R&~M&m;)y=y&p|y<<1&g>>>1|u(),R=R<<1^p,M=(M^p)<<1|p|1;v=R,b=1+M-R}let A=r-4;return w.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function oXe(t){let e=0;return()=>t[e++]}function aXe(t){return oXe(sXe(t))}function lXe(t){return t&1?~t>>1:t>>1}function cXe(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function Wee(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function uXe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=lXe(e());return n}function Z_(t,e){let n=Wee(t(),t),r=t(),i=Wee(r,t),s=cXe(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function dXe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(fXe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(pXe(n,t))}return iXe(Z1e(e))}function hXe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function J1e(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)uXe(t,n).forEach((s,o)=>r[o].push(s));return r}function fXe(t,e){let n=1+e(),r=e(),i=hXe(e),s=J1e(i.length,1+t,e);return Z1e(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let f=h*r;return[l+h*n,c.map(p=>p+f)]})}))}function pXe(t,e){let n=1+e();return J1e(n,1+t,e).map(i=>[i[0],i.slice(1)])}function mXe(t){let e=Z_(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let c=Z_(t,e);if(c.length==0)break;r.push({set:new Set(c),node:n()})}r.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function gXe(){return aXe(z1e("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const XT=gXe(),yXe=new Set(Z_(XT)),wXe=new Set(Z_(XT)),bXe=dXe(XT),vXe=mXe(XT),Hee=45,Vee=95;function X1e(t){return rXe(t)}function xXe(t){return t.filter(e=>e!=65039)}function ewe(t){for(let e of t.split(".")){let n=X1e(e);try{for(let r=n.lastIndexOf(Vee)-1;r>=0;r--)if(n[r]!==Vee)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===Hee&&n[3]===Hee)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function EXe(t){return ewe(AXe(t,xXe))}function AXe(t,e){let n=X1e(t).reverse(),r=[];for(;n.length;){let i=kXe(n);if(i){r.push(...e(i));continue}let s=n.pop();if(yXe.has(s)){r.push(s);continue}if(wXe.has(s))continue;let o=bXe[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return ewe(CXe(String.fromCodePoint(...r)))}function CXe(t){return t.normalize("NFC")}function kXe(t,e){var n;let r=vXe,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(r=(n=r.branches.find(c=>c.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const SXe=new je(Q1e),twe=new Uint8Array(32);twe.fill(0);function qee(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function nwe(t){const e=Gp(EXe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(qee(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(qee(e.slice(r))),n}function W9(t){typeof t!="string"&&SXe.throwArgumentError("invalid ENS name; not a string","name",t);let e=twe;const n=nwe(t);for(;n.length;)e=Us(Ny([e,Us(n.pop())]));return cn(e)}function _Xe(t){return cn(Ny(nwe(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const IXe="rlp/5.8.0",sh=new je(IXe);function Gee(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Kee(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function rwe(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(rwe(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=Gee(r.length);return i.unshift(247+i.length),i.concat(r)}GV(t)||sh.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(un(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=Gee(e.length);return n.unshift(183+n.length),n.concat(e)}function e$(t){return cn(rwe(t))}function Yee(t,e,n,r){const i=[];for(;n<e+1+r;){const s=iwe(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&sh.throwError("child data too short",je.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function iwe(t,e){if(t.length===0&&sh.throwError("data too short",je.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&sh.throwError("data short segment too short",je.errors.BUFFER_OVERRUN,{});const r=Kee(t,e+1,n);return e+1+n+r>t.length&&sh.throwError("data long segment too short",je.errors.BUFFER_OVERRUN,{}),Yee(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&sh.throwError("data array too short",je.errors.BUFFER_OVERRUN,{}),Yee(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&sh.throwError("data array too short",je.errors.BUFFER_OVERRUN,{});const r=Kee(t,e+1,n);e+1+n+r>t.length&&sh.throwError("data array too short",je.errors.BUFFER_OVERRUN,{});const i=cn(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&sh.throwError("data too short",je.errors.BUFFER_OVERRUN,{});const r=cn(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:cn(t[e])}}function ZV(t){const e=un(t),n=iwe(e,0);return n.consumed!==e.length&&sh.throwArgumentError("invalid rlp data","data",t),n.result}const TXe="address/5.8.0",bv=new je(TXe);function Qee(t){br(t,20)||bv.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=un(Us(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const $Xe=9007199254740991;function NXe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const JV={};for(let t=0;t<10;t++)JV[String(t)]=String(t);for(let t=0;t<26;t++)JV[String.fromCharCode(65+t)]=String(10+t);const Zee=Math.floor(NXe($Xe));function PXe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>JV[r]).join("");for(;e.length>=Zee;){let r=e.substring(0,Zee);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function vd(t){let e=null;if(typeof t!="string"&&bv.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Qee(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&bv.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==PXe(t)&&bv.throwArgumentError("bad icap checksum","address",t),e=BJe(t.substring(4));e.length<40;)e="0"+e;e=Qee("0x"+e)}else bv.throwArgumentError("invalid address","address",t);return e}function RXe(t){let e=null;try{e=vd(t.from)}catch{bv.throwArgumentError("missing from address","transaction",t)}const n=Ox(un(dt.from(t.nonce).toHexString()));return vd(Go(Us(e$([e,n])),12))}var jXe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Qr=new je(Q1e),swe=new Uint8Array(32);swe.fill(0);const OXe=dt.from(-1),owe=dt.from(0),awe=dt.from(1),MXe=dt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function DXe(t){const e=un(t),n=e.length%32;return n?Fl([e,swe.slice(n)]):cn(e)}const BXe=gi(awe.toHexString(),32),LXe=gi(owe.toHexString(),32),Jee={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},QR=["name","version","chainId","verifyingContract","salt"];function Xee(t){return function(e){return typeof e!="string"&&Qr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const FXe={name:Xee("name"),version:Xee("version"),chainId:function(t){try{return dt.from(t).toString()}catch{}return Qr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return vd(t).toLowerCase()}catch{}return Qr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=un(t);if(e.length!==32)throw new Error("bad length");return cn(e)}catch{}return Qr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ZR(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Qr.throwArgumentError("invalid numeric width","type",t);const i=MXe.mask(n?r-1:r),s=n?i.add(awe).mul(OXe):owe;return function(o){const a=dt.from(o);return(a.lt(s)||a.gt(i))&&Qr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),gi(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Qr.throwArgumentError("invalid bytes width","type",t),function(r){return un(r).length!==n&&Qr.throwArgumentError(`invalid length for ${t}`,"value",r),DXe(r)}}}switch(t){case"address":return function(e){return gi(vd(e),32)};case"bool":return function(e){return e?BXe:LXe};case"bytes":return function(e){return Us(e)};case"string":return function(e){return Y1e(e)}}return null}function ete(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}let tte=class ku{constructor(e){$n(this,"types",Object.freeze(WE(e))),$n(this,"_encoderCache",{}),$n(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Qr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Qr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!ZR(u)&&(r[u]||Qr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),n[a][u]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?Qr.throwArgumentError("missing primary type","types",e):s.length>1&&Qr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),$n(this,"primaryType",s[0]);function o(a,l){l[a]&&Qr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(n[a]).forEach(c=>{r[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=ete(a,e[a])+l.map(c=>ete(c,e[c])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=ZR(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&Qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(Us)),Us(Fl(l))}}const r=this.types[e];if(r){const i=Y1e(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?Us(c):c});return o.unshift(i),Fl(o)}}return Qr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Qr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Us(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(ZR(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&Qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{}):Qr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new ku(e)}static getPrimaryType(e){return ku.from(e).primaryType}static hashStruct(e,n,r){return ku.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=Jee[r];i||Qr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>QR.indexOf(r.name)-QR.indexOf(i.name)),ku.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Fl(["0x1901",ku.hashDomain(e),ku.from(n).hash(r)])}static hash(e,n,r){return Us(ku.encode(e,n,r))}static resolveNames(e,n,r,i){return jXe(this,void 0,void 0,function*(){e=Va(e);const s={};e.verifyingContract&&!br(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=ku.from(n);o.visit(r,(a,l)=>(a==="address"&&!br(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){ku.hashDomain(e);const i={},s=[];QR.forEach(l=>{const c=e[l];c!=null&&(i[l]=FXe[l](c),s.push({name:l,type:Jee[l]}))});const o=ku.from(n),a=Va(n);return a.EIP712Domain?Qr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return cn(un(c));if(l.match(/^u?int/))return dt.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Qr.throwArgumentError("invalid string","value",c),c}return Qr.throwArgumentError("unsupported type","type",l)})}}};var lwe={},Pn={},UA=cwe;function cwe(t,e){if(!t)throw new Error(e||"Assertion failed")}cwe.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var xL={exports:{}};typeof Object.create=="function"?xL.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xL.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var UXe=xL.exports,zXe=UA,WXe=UXe;Pn.inherits=WXe;function HXe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function VXe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):HXe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Pn.toArray=VXe;function qXe(t){for(var e="",n=0;n<t.length;n++)e+=dwe(t[n].toString(16));return e}Pn.toHex=qXe;function uwe(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Pn.htonl=uwe;function GXe(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=uwe(i)),n+=hwe(i.toString(16))}return n}Pn.toHex32=GXe;function dwe(t){return t.length===1?"0"+t:t}Pn.zero2=dwe;function hwe(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Pn.zero8=hwe;function KXe(t,e,n,r){var i=n-e;zXe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}Pn.join32=KXe;function YXe(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}Pn.split32=YXe;function QXe(t,e){return t>>>e|t<<32-e}Pn.rotr32=QXe;function ZXe(t,e){return t<<e|t>>>32-e}Pn.rotl32=ZXe;function JXe(t,e){return t+e>>>0}Pn.sum32=JXe;function XXe(t,e,n){return t+e+n>>>0}Pn.sum32_3=XXe;function eet(t,e,n,r){return t+e+n+r>>>0}Pn.sum32_4=eet;function tet(t,e,n,r,i){return t+e+n+r+i>>>0}Pn.sum32_5=tet;function net(t,e,n,r){var i=t[e],s=t[e+1],o=r+s>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o}Pn.sum64=net;function ret(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}Pn.sum64_hi=ret;function iet(t,e,n,r){var i=e+r;return i>>>0}Pn.sum64_lo=iet;function set(t,e,n,r,i,s,o,a){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+n+i+o+l;return u>>>0}Pn.sum64_4_hi=set;function oet(t,e,n,r,i,s,o,a){var l=e+r+s+a;return l>>>0}Pn.sum64_4_lo=oet;function aet(t,e,n,r,i,s,o,a,l,c){var u=0,h=e;h=h+r>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var f=t+n+i+o+l+u;return f>>>0}Pn.sum64_5_hi=aet;function cet(t,e,n,r,i,s,o,a,l,c){var u=e+r+s+a+c;return u>>>0}Pn.sum64_5_lo=cet;function uet(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Pn.rotr64_hi=uet;function det(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Pn.rotr64_lo=det;function het(t,e,n){return t>>>n}Pn.shr64_hi=het;function fet(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Pn.shr64_lo=fet;var F3={},nte=Pn,pet=UA;function t$(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}F3.BlockHash=t$;t$.prototype.update=function(e,n){if(e=nte.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=nte.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};t$.prototype.digest=function(e){return this.update(this._pad()),pet(this.pending===null),this._digest(e)};t$.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var U3={},cf={},met=Pn,Lh=met.rotr32;function get(t,e,n,r){if(t===0)return fwe(e,n,r);if(t===1||t===3)return mwe(e,n,r);if(t===2)return pwe(e,n,r)}cf.ft_1=get;function fwe(t,e,n){return t&e^~t&n}cf.ch32=fwe;function pwe(t,e,n){return t&e^t&n^e&n}cf.maj32=pwe;function mwe(t,e,n){return t^e^n}cf.p32=mwe;function yet(t){return Lh(t,2)^Lh(t,13)^Lh(t,22)}cf.s0_256=yet;function wet(t){return Lh(t,6)^Lh(t,11)^Lh(t,25)}cf.s1_256=wet;function bet(t){return Lh(t,7)^Lh(t,18)^t>>>3}cf.g0_256=bet;function vet(t){return Lh(t,17)^Lh(t,19)^t>>>10}cf.g1_256=vet;var Mx=Pn,xet=F3,Eet=cf,JR=Mx.rotl32,$5=Mx.sum32,Aet=Mx.sum32_5,Cet=Eet.ft_1,gwe=xet.BlockHash,ket=[1518500249,1859775393,2400959708,3395469782];function Zh(){if(!(this instanceof Zh))return new Zh;gwe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Mx.inherits(Zh,gwe);var _et=Zh;Zh.blockSize=512;Zh.outSize=160;Zh.hmacStrength=80;Zh.padLength=64;Zh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=JR(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),h=Aet(JR(s,5),Cet(u,o,a,l),c,r[i],ket[u]);c=l,l=a,a=JR(o,30),o=s,s=h}this.h[0]=$5(this.h[0],s),this.h[1]=$5(this.h[1],o),this.h[2]=$5(this.h[2],a),this.h[3]=$5(this.h[3],l),this.h[4]=$5(this.h[4],c)};Zh.prototype._digest=function(e){return e==="hex"?Mx.toHex32(this.h,"big"):Mx.split32(this.h,"big")};var Dx=Pn,Iet=F3,z3=cf,Tet=UA,vu=Dx.sum32,$et=Dx.sum32_4,Net=Dx.sum32_5,Pet=z3.ch32,Ret=z3.maj32,jet=z3.s0_256,Oet=z3.s1_256,Met=z3.g0_256,Det=z3.g1_256,ywe=Iet.BlockHash,Bet=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Jh(){if(!(this instanceof Jh))return new Jh;ywe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Bet,this.W=new Array(64)}Dx.inherits(Jh,ywe);var wwe=Jh;Jh.blockSize=512;Jh.outSize=256;Jh.hmacStrength=192;Jh.padLength=64;Jh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=$et(Det(r[i-2]),r[i-7],Met(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(Tet(this.k.length===r.length),i=0;i<r.length;i++){var p=Net(f,Oet(c),Pet(c,u,h),this.k[i],r[i]),m=vu(jet(s),Ret(s,o,a));f=h,h=u,u=c,c=vu(l,p),l=a,a=o,o=s,s=vu(p,m)}this.h[0]=vu(this.h[0],s),this.h[1]=vu(this.h[1],o),this.h[2]=vu(this.h[2],a),this.h[3]=vu(this.h[3],l),this.h[4]=vu(this.h[4],c),this.h[5]=vu(this.h[5],u),this.h[6]=vu(this.h[6],h),this.h[7]=vu(this.h[7],f)};Jh.prototype._digest=function(e){return e==="hex"?Dx.toHex32(this.h,"big"):Dx.split32(this.h,"big")};var EL=Pn,bwe=wwe;function Kp(){if(!(this instanceof Kp))return new Kp;bwe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}EL.inherits(Kp,bwe);var Let=Kp;Kp.blockSize=512;Kp.outSize=224;Kp.hmacStrength=192;Kp.padLength=64;Kp.prototype._digest=function(e){return e==="hex"?EL.toHex32(this.h.slice(0,7),"big"):EL.split32(this.h.slice(0,7),"big")};var rl=Pn,Fet=F3,Uet=UA,Fh=rl.rotr64_hi,Uh=rl.rotr64_lo,vwe=rl.shr64_hi,xwe=rl.shr64_lo,m0=rl.sum64,XR=rl.sum64_hi,ej=rl.sum64_lo,zet=rl.sum64_4_hi,Wet=rl.sum64_4_lo,Het=rl.sum64_5_hi,Vet=rl.sum64_5_lo,Ewe=Fet.BlockHash,qet=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xd(){if(!(this instanceof xd))return new xd;Ewe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=qet,this.W=new Array(160)}rl.inherits(xd,Ewe);var Awe=xd;xd.blockSize=1024;xd.outSize=512;xd.hmacStrength=192;xd.padLength=128;xd.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=rtt(r[i-4],r[i-3]),o=itt(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],c=ttt(r[i-30],r[i-29]),u=ntt(r[i-30],r[i-29]),h=r[i-32],f=r[i-31];r[i]=zet(s,o,a,l,c,u,h,f),r[i+1]=Wet(s,o,a,l,c,u,h,f)}};xd.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],m=this.h[10],g=this.h[11],y=this.h[12],w=this.h[13],v=this.h[14],b=this.h[15];Uet(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var E=v,$=b,N=Xet(f,p),R=ett(f,p),M=Get(f,p,m,g,y),F=Ket(f,p,m,g,y,w),W=this.k[A],V=this.k[A+1],B=r[A],k=r[A+1],C=Het(E,$,N,R,M,F,W,V,B,k),S=Vet(E,$,N,R,M,F,W,V,B,k);E=Zet(i,s),$=Jet(i,s),N=Yet(i,s,o,a,l),R=Qet(i,s,o,a,l,c);var T=XR(E,$,N,R),_=ej(E,$,N,R);v=y,b=w,y=m,w=g,m=f,g=p,f=XR(u,h,C,S),p=ej(h,h,C,S),u=l,h=c,l=o,c=a,o=i,a=s,i=XR(C,S,T,_),s=ej(C,S,T,_)}m0(this.h,0,i,s),m0(this.h,2,o,a),m0(this.h,4,l,c),m0(this.h,6,u,h),m0(this.h,8,f,p),m0(this.h,10,m,g),m0(this.h,12,y,w),m0(this.h,14,v,b)};xd.prototype._digest=function(e){return e==="hex"?rl.toHex32(this.h,"big"):rl.split32(this.h,"big")};function Get(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function Ket(t,e,n,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function Yet(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function Qet(t,e,n,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function Zet(t,e){var n=Fh(t,e,28),r=Fh(e,t,2),i=Fh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Jet(t,e){var n=Uh(t,e,28),r=Uh(e,t,2),i=Uh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Xet(t,e){var n=Fh(t,e,14),r=Fh(t,e,18),i=Fh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function ett(t,e){var n=Uh(t,e,14),r=Uh(t,e,18),i=Uh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function ttt(t,e){var n=Fh(t,e,1),r=Fh(t,e,8),i=vwe(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function ntt(t,e){var n=Uh(t,e,1),r=Uh(t,e,8),i=xwe(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function rtt(t,e){var n=Fh(t,e,19),r=Fh(e,t,29),i=vwe(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function itt(t,e){var n=Uh(t,e,19),r=Uh(e,t,29),i=xwe(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}var AL=Pn,Cwe=Awe;function Yp(){if(!(this instanceof Yp))return new Yp;Cwe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}AL.inherits(Yp,Cwe);var stt=Yp;Yp.blockSize=1024;Yp.outSize=384;Yp.hmacStrength=192;Yp.padLength=128;Yp.prototype._digest=function(e){return e==="hex"?AL.toHex32(this.h.slice(0,12),"big"):AL.split32(this.h.slice(0,12),"big")};U3.sha1=_et;U3.sha224=Let;U3.sha256=wwe;U3.sha384=stt;U3.sha512=Awe;var kwe={},ew=Pn,ott=F3,ck=ew.rotl32,rte=ew.sum32,N5=ew.sum32_3,ite=ew.sum32_4,Swe=ott.BlockHash;function Xh(){if(!(this instanceof Xh))return new Xh;Swe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ew.inherits(Xh,Swe);kwe.ripemd160=Xh;Xh.blockSize=512;Xh.outSize=160;Xh.hmacStrength=192;Xh.padLength=64;Xh.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,c=i,u=s,h=o,f=a,p=0;p<80;p++){var m=rte(ck(ite(r,ste(p,i,s,o),e[ctt[p]+n],att(p)),dtt[p]),a);r=a,a=o,o=ck(s,10),s=i,i=m,m=rte(ck(ite(l,ste(79-p,c,u,h),e[utt[p]+n],ltt(p)),htt[p]),f),l=f,f=h,h=ck(u,10),u=c,c=m}m=N5(this.h[1],s,h),this.h[1]=N5(this.h[2],o,f),this.h[2]=N5(this.h[3],a,l),this.h[3]=N5(this.h[4],r,c),this.h[4]=N5(this.h[0],i,u),this.h[0]=m};Xh.prototype._digest=function(e){return e==="hex"?ew.toHex32(this.h,"little"):ew.split32(this.h,"little")};function ste(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function att(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ltt(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var ctt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],utt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dtt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],htt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ftt=Pn,ptt=UA;function Bx(t,e,n){if(!(this instanceof Bx))return new Bx(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(ftt.toArray(e,n))}var mtt=Bx;Bx.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ptt(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Bx.prototype.update=function(e,n){return this.inner.update(e,n),this};Bx.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Pn,e.common=F3,e.sha=U3,e.ripemd=kwe,e.hmac=mtt,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(lwe);const th=Ks(lwe);function ote(t){return"0x"+th.sha256().update(un(t)).digest("hex")}const gtt="web/5.8.0";var ytt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function wtt(t,e){return ytt(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:un(new Uint8Array(i))}})}var btt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Su=new je(gtt);function ate(t){return new Promise(e=>{setTimeout(e,t)})}function g0(t,e){if(t==null)return null;if(typeof t=="string")return t;if(GV(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return JT(t)}catch{}return cn(t)}return t}function vtt(t){return Gp(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function xtt(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Su.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Su.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Su.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Su.throwError("basic authentication requires a secure https url",je.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+W1e(Gp(w))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=Va(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?z1e(p[3]):vtt(p[3])};let v=w.body;return n&&(v=n(w.body,w)),Promise.resolve(v)}catch(w){Su.throwError("processing response error",je.errors.SERVER_ERROR,{body:g0(p[1],p[2]),error:w,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const v=a[w];m[v.key]=v.value}),c.headers=m;const g=function(){let w=null;return{promise:new Promise(function(A,E){h&&(w=setTimeout(()=>{w!=null&&(w=null,E(Su.makeError("timeout",je.errors.TIMEOUT,{requestBody:g0(c.body,m["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),y=function(){return btt(this,void 0,void 0,function*(){for(let w=0;w<r;w++){let v=null;try{if(v=yield wtt(l,c),w<r){if(v.statusCode===301||v.statusCode===302){const A=v.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=v.headers.location;continue}}else if(v.statusCode===429){let A=!0;if(i&&(A=yield i(w,l)),A){let E=0;const $=v.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?E=parseInt($)*1e3:E=s*parseInt(String(Math.random()*Math.pow(2,w))),yield ate(E);continue}}}}catch(A){v=A.response,v==null&&(g.cancel(),Su.throwError("missing response",je.errors.SERVER_ERROR,{requestBody:g0(c.body,m["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let b=v.body;if(u&&v.statusCode===304?b=null:!o&&(v.statusCode<200||v.statusCode>=300)&&(g.cancel(),Su.throwError("bad response",je.errors.SERVER_ERROR,{status:v.statusCode,headers:v.headers,body:g0(b,v.headers?v.headers["content-type"]:null),requestBody:g0(c.body,m["content-type"]),requestMethod:c.method,url:l})),n)try{const A=yield n(b,v);return g.cancel(),A}catch(A){if(A.throttleRetry&&w<r){let E=!0;if(i&&(E=yield i(w,l)),E){const $=s*parseInt(String(Math.random()*Math.pow(2,w)));yield ate($);continue}}g.cancel(),Su.throwError("processing response error",je.errors.SERVER_ERROR,{body:g0(b,v.headers?v.headers["content-type"]:null),error:A,requestBody:g0(c.body,m["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),b}return Su.throwError("failed response",je.errors.SERVER_ERROR,{requestBody:g0(c.body,m["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([g.promise,y])}function XV(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(JT(s))}catch(l){Su.throwError("invalid JSON",je.errors.SERVER_ERROR,{body:s,error:l})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=Gp(e);const s=typeof t=="string"?{url:t}:Va(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Va(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return xtt(t,i,r)}function E6(t,e){return e||(e={}),e=Va(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&r(u)})}c()})}var J_="qpzry9x8gf2tvdw0s3jn54khce6mua7l",CL={};for(var uk=0;uk<J_.length;uk++){var tj=J_.charAt(uk);if(CL[tj]!==void 0)throw new TypeError(tj+" is ambiguous");CL[tj]=uk}function Jv(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function _we(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=Jv(e)^r>>5}for(e=Jv(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=Jv(e)^i&31}return e}function Ett(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=_we(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=Jv(r)^o,i+=J_.charAt(o)}for(s=0;s<6;++s)r=Jv(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=J_.charAt(a)}return i}function Iwe(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=_we(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),h=CL[u];if(h===void 0)return"Unknown character "+u;a=Jv(a)^h,!(c+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function Att(){var t=Iwe.apply(null,arguments);if(typeof t=="object")return t}function Ctt(t){var e=Iwe.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function n$(t,e,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function ktt(t){var e=n$(t,8,5,!0);if(Array.isArray(e))return e}function Stt(t){var e=n$(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function _tt(t){var e=n$(t,5,8,!1);if(Array.isArray(e))return e}function Itt(t){var e=n$(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Ttt={decodeUnsafe:Att,decode:Ctt,encode:Ett,toWordsUnsafe:ktt,toWords:Stt,fromWordsUnsafe:_tt,fromWords:Itt};const lte=Ks(Ttt),r$="providers/5.8.0";function W3(t,e,n){return n={path:e,exports:{},require:function(r,i){return $tt(r,i??n.path)}},t(n,n.exports),n.exports}function $tt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var eq=Twe;function Twe(t,e){if(!t)throw new Error(e||"Assertion failed")}Twe.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var nd=W3(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,f=u&255;h?l.push(h,f):l.push(f)}return l}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}n.toHex=s,n.encode=function(a,l){return l==="hex"?s(a):a}}),oc=W3(function(t,e){var n=e;n.assert=eq,n.toArray=nd.toArray,n.zero2=nd.zero2,n.toHex=nd.toHex,n.encode=nd.encode;function r(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<c+1,m=l.clone();for(f=0;f<h.length;f++){var g,y=m.andln(p-1);m.isOdd()?(y>(p>>1)-1?g=(p>>1)-y:g=y,m.isubn(g)):g=0,h[f]=g,m.iushrn(1)}return h}n.getNAF=r;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||c.cmpn(-f)>0;){var m=l.andln(3)+h&3,g=c.andln(3)+f&3;m===3&&(m=-1),g===3&&(g=-1);var y;m&1?(p=l.andln(7)+h&7,(p===3||p===5)&&g===2?y=-m:y=m):y=0,u[0].push(y);var w;g&1?(p=c.andln(7)+f&7,(p===3||p===5)&&m===2?w=-g:w=g):w=0,u[1].push(w),2*h===y+1&&(h=1-h),2*f===w+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return u}n.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}n.cachedProperty=s;function o(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=o;function a(l){return new zt(l,"hex","le")}n.intFromLE=a}),X_=oc.getNAF,Ntt=oc.getJSF,e7=oc.assert;function Ng(t,e){this.type=t,this.p=new zt(e.p,16),this.red=e.prime?zt.red(e.prime):zt.mont(this.p),this.zero=new zt(0).toRed(this.red),this.one=new zt(1).toRed(this.red),this.two=new zt(2).toRed(this.red),this.n=e.n&&new zt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Rw=Ng;Ng.prototype.point=function(){throw new Error("Not implemented")};Ng.prototype.validate=function(){throw new Error("Not implemented")};Ng.prototype._fixedNafMul=function(e,n){e7(e.precomputed);var r=e._getDoubles(),i=X_(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var c=a+r.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(r.points[a]):l===-f&&(h=h.mixedAdd(r.points[a].neg()));u=u.add(h)}return u.toP()};Ng.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=X_(n,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];e7(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Ng.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,f;for(u=0;u<i;u++){f=n[u];var p=f._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){l[m]=X_(r[m],o[m],this._bitLength),l[g]=X_(r[g],o[g],this._bitLength),c=Math.max(l[m].length,c),c=Math.max(l[g].length,c);continue}var y=[n[m],null,null,n[g]];n[m].y.cmp(n[g].y)===0?(y[1]=n[m].add(n[g]),y[2]=n[m].toJ().mixedAdd(n[g].neg())):n[m].y.cmp(n[g].y.redNeg())===0?(y[1]=n[m].toJ().mixedAdd(n[g]),y[2]=n[m].add(n[g].neg())):(y[1]=n[m].toJ().mixedAdd(n[g]),y[2]=n[m].toJ().mixedAdd(n[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],v=Ntt(r[m],r[g]);for(c=Math.max(v[0].length,c),l[m]=new Array(c),l[g]=new Array(c),h=0;h<c;h++){var b=v[0][h]|0,A=v[1][h]|0;l[m][h]=w[(b+1)*3+(A+1)],l[g][h]=0,a[m]=y}}var E=this.jpoint(null,null,null),$=this._wnafT4;for(u=c;u>=0;u--){for(var N=0;u>=0;){var R=!0;for(h=0;h<i;h++)$[h]=l[h][u]|0,$[h]!==0&&(R=!1);if(!R)break;N++,u--}if(u>=0&&N++,E=E.dblp(N),u<0)break;for(h=0;h<i;h++){var M=$[h];M!==0&&(M>0?f=a[h][M-1>>1]:M<0&&(f=a[h][-M-1>>1].neg()),f.type==="affine"?E=E.mixedAdd(f):E=E.add(f))}}for(u=0;u<i;u++)a[u]=null;return s?E:E.toP()};function hu(t,e){this.curve=t,this.type=e,this.precomputed=null}Ng.BasePoint=hu;hu.prototype.eq=function(){throw new Error("Not implemented")};hu.prototype.validate=function(){return this.curve.validate(this)};Ng.prototype.decodePoint=function(e,n){e=oc.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?e7(e[e.length-1]%2===0):e[0]===7&&e7(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};hu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};hu.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};hu.prototype.encode=function(e,n){return oc.encode(this._encode(n),e)};hu.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};hu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};hu.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};hu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}};hu.prototype._getBeta=function(){return null};hu.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var tq=W3(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),Ptt=oc.assert;function fu(t){Rw.call(this,"short",t),this.a=new zt(t.a,16).toRed(this.red),this.b=new zt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}tq(fu,Rw);var Rtt=fu;fu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new zt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new zt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],Ptt(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new zt(a.a,16),b:new zt(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}};fu.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:zt.mont(e),r=new zt(2).toRed(n).redInvm(),i=r.redNeg(),s=new zt(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};fu.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new zt(1),o=new zt(0),a=new zt(0),l=new zt(1),c,u,h,f,p,m,g,y=0,w,v;r.cmpn(0)!==0;){var b=i.div(r);w=i.sub(b.mul(r)),v=a.sub(b.mul(s));var A=l.sub(b.mul(o));if(!h&&w.cmp(n)<0)c=g.neg(),u=s,h=w.neg(),f=v;else if(h&&++y===2)break;g=w,i=r,r=w,a=s,s=v,l=o,o=A}p=w.neg(),m=v;var E=h.sqr().add(f.sqr()),$=p.sqr().add(m.sqr());return $.cmp(E)>=0&&(p=c,m=u),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),m=m.neg()),[{a:h,b:f},{a:p,b:m}]};fu.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),c=s.mul(r.b),u=o.mul(i.b),h=e.sub(a).sub(l),f=c.add(u).neg();return{k1:h,k2:f}};fu.prototype.pointFromX=function(e,n){e=new zt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)};fu.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};fu.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,r),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function ks(t,e,n,r){Rw.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new zt(e,16),this.y=new zt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}tq(ks,Rw.BasePoint);fu.prototype.point=function(e,n,r){return new ks(this,e,n,r)};fu.prototype.pointFromJSON=function(e,n){return ks.fromJSON(this,e,n)};ks.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};ks.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ks.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ks.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ks.prototype.isInfinity=function(){return this.inf};ks.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};ks.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ks.prototype.getX=function(){return this.x.fromRed()};ks.prototype.getY=function(){return this.y.fromRed()};ks.prototype.mul=function(e){return e=new zt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ks.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ks.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ks.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ks.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};ks.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Qs(t,e,n,r){Rw.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new zt(0)):(this.x=new zt(e,16),this.y=new zt(n,16),this.z=new zt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tq(Qs,Rw.BasePoint);fu.prototype.jpoint=function(e,n,r){return new Qs(this,e,n,r)};Qs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};Qs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Qs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),f=i.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),m=c.redMul(f.redISub(p)).redISub(o.redMul(h)),g=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,m,g)};Qs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=r.redMul(c),f=l.redSqr().redIAdd(u).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(f,p,m)};Qs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var h=o.redSqr(),f=u.redSqr(),p=f.redSqr(),m=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),g=o.redMul(f),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),v=m.redMul(w);v=v.redIAdd(v).redISub(p);var b=u.redMul(l);n+1<e&&(c=c.redMul(p)),o=y,l=b,u=v}return this.curve.jpoint(o,u.redMul(s),l)};Qs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Qs.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(h).redISub(p);m=m.redIAdd(m);var g=h.redAdd(h).redIAdd(h),y=g.redSqr(),w=p.redIAdd(p);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),n=g.redMul(m.redISub(e)).redISub(w),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};Qs.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),m=this.x.redSub(h).redMul(this.x.redAdd(h));m=m.redAdd(m).redIAdd(m);var g=p.redIAdd(p);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var w=f.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),n=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,n,r)};Qs.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=n.redAdd(n);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=l.redMul(f).redISub(p),g=r.redAdd(r).redMul(i);return this.curve.jpoint(h,m,g)};Qs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=n.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,p,m)};Qs.prototype.mul=function(e,n){return e=new zt(e,n),this.curve._wnafMul(this,e)};Qs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Qs.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Qs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Qs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var H9=W3(function(t,e){var n=e;n.base=Rw,n.short=Rtt,n.mont=null,n.edwards=null}),V9=W3(function(t,e){var n=e,r=oc.assert;function i(a){a.type==="short"?this.curve=new H9.short(a):a.type==="edwards"?this.curve=new H9.edwards(a):this.curve=new H9.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,l){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:th.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:th.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:th.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:th.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:th.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:th.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:th.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:th.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function wg(t){if(!(this instanceof wg))return new wg(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=nd.toArray(t.entropy,t.entropyEnc||"hex"),n=nd.toArray(t.nonce,t.nonceEnc||"hex"),r=nd.toArray(t.pers,t.persEnc||"hex");eq(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var $we=wg;wg.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wg.prototype._hmac=function(){return new th.hmac(this.hash,this.K)};wg.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wg.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=nd.toArray(e,n),r=nd.toArray(r,i),eq(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};wg.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=nd.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,nd.encode(o,n)};var kL=oc.assert;function jo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var nq=jo;jo.fromPublic=function(e,n,r){return n instanceof jo?n:new jo(e,{pub:n,pubEnc:r})};jo.fromPrivate=function(e,n,r){return n instanceof jo?n:new jo(e,{priv:n,privEnc:r})};jo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};jo.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};jo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};jo.prototype._importPrivate=function(e,n){this.priv=new zt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};jo.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?kL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&kL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};jo.prototype.derive=function(e){return e.validate()||kL(e.validate(),"public point not validated"),e.mul(this.priv).getX()};jo.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};jo.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};jo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var jtt=oc.assert;function i$(t,e){if(t instanceof i$)return t;this._importDER(t,e)||(jtt(t.r&&t.s,"Signature without r or s"),this.r=new zt(t.r,16),this.s=new zt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var s$=i$;function Ott(){this.place=0}function nj(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function cte(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}i$.prototype._importDER=function(e,n){e=oc.toArray(e,n);var r=new Ott;if(e[r.place++]!==48)return!1;var i=nj(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=nj(e,r);if(s===!1||e[r.place]&128)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=nj(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new zt(o),this.s=new zt(l),this.recoveryParam=null,!0};function rj(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}i$.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=cte(n),r=cte(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];rj(i,n.length),i=i.concat(n),i.push(2),rj(i,r.length);var s=i.concat(r),o=[48];return rj(o,s.length),o=o.concat(s),oc.encode(o,e)};var Mtt=function(){throw new Error("unsupported")},cy=oc.assert;function eu(t){if(!(this instanceof eu))return new eu(t);typeof t=="string"&&(cy(Object.prototype.hasOwnProperty.call(V9,t),"Unknown curve "+t),t=V9[t]),t instanceof V9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Dtt=eu;eu.prototype.keyPair=function(e){return new nq(this,e)};eu.prototype.keyFromPrivate=function(e,n){return nq.fromPrivate(this,e,n)};eu.prototype.keyFromPublic=function(e,n){return nq.fromPublic(this,e,n)};eu.prototype.genKeyPair=function(e){e||(e={});for(var n=new $we({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Mtt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new zt(2));;){var s=new zt(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};eu.prototype._truncateToN=function(e,n,r){var i;if(zt.isBN(e)||typeof e=="number")e=new zt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new zt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new zt(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};eu.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!zt.isBN(e)){cy(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),cy(e.length>>>0===e.length);for(var s=0;s<e.length;s++)cy((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),cy(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),l=e.toArray("be",o);cy(new zt(l).eq(e),"Can not sign message");for(var c=new $we({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new zt(1)),h=0;;h++){var f=i.k?i.k(h):new zt(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var y=f.invm(this.n).mul(g.mul(n.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(p.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new s$({r:g,s:y,recoveryParam:w})}}}}}};eu.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new s$(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,r.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(c,r.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};eu.prototype.recoverPubKey=function(t,e,n,r){cy((3&n)===n,"The recovery param is more than two bits"),e=new s$(e,r);var i=this.n,s=new zt(t),o=e.r,a=e.s,l=n&1,c=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)};eu.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new s$(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var Btt=W3(function(t,e){var n=e;n.version="6.6.1",n.utils=oc,n.rand=function(){throw new Error("unsupported")},n.curve=H9,n.curves=V9,n.ec=Dtt,n.eddsa=null}),Ltt=Btt.ec;const Ftt="signing-key/5.8.0",SL=new je(Ftt);let ij=null;function J0(){return ij||(ij=new Ltt("secp256k1")),ij}let Utt=class{constructor(e){$n(this,"curve","secp256k1"),$n(this,"privateKey",cn(e)),X1(this.privateKey)!==32&&SL.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=J0().keyFromPrivate(un(this.privateKey));$n(this,"publicKey","0x"+n.getPublic(!1,"hex")),$n(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),$n(this,"_isSigningKey",!0)}_addPoint(e){const n=J0().keyFromPublic(un(this.publicKey)),r=J0().keyFromPublic(un(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=J0().keyFromPrivate(un(this.privateKey)),r=un(e);r.length!==32&&SL.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return ZT({recoveryParam:i.recoveryParam,r:gi("0x"+i.r.toString(16),32),s:gi("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=J0().keyFromPrivate(un(this.privateKey)),r=J0().keyFromPublic(un(Nwe(e)));return gi("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function ztt(t,e){const n=ZT(e),r={r:un(n.r),s:un(n.s)};return"0x"+J0().recoverPubKey(un(t),r,n.recoveryParam).encode("hex",!1)}function Nwe(t,e){const n=un(t);return n.length===32?new Utt(n).publicKey:n.length===33?"0x"+J0().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?cn(n):SL.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Wtt="transactions/5.8.0",o0=new je(Wtt);var ute;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(ute||(ute={}));function rq(t){return t==="0x"?null:vd(t)}function _o(t){return t==="0x"?KJe:dt.from(t)}function Htt(t){const e=Nwe(t);return vd(Go(Us(Go(e,1)),12))}function Pwe(t,e){return Htt(ztt(un(t),e))}function Pl(t,e){const n=Ox(dt.from(t).toHexString());return n.length>32&&o0.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function sj(t,e){return{address:vd(t),storageKeys:(e||[]).map((n,r)=>(X1(n)!==32&&o0.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function zA(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&o0.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),sj(n[0],n[1])):sj(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return sj(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function Rwe(t){return zA(t).map(e=>[e.address,e.storageKeys])}function Vtt(t,e){if(t.gasPrice!=null){const r=dt.from(t.gasPrice),i=dt.from(t.maxFeePerGas||0);r.eq(i)||o0.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[Pl(t.chainId||0,"chainId"),Pl(t.nonce||0,"nonce"),Pl(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pl(t.maxFeePerGas||0,"maxFeePerGas"),Pl(t.gasLimit||0,"gasLimit"),t.to!=null?vd(t.to):"0x",Pl(t.value||0,"value"),t.data||"0x",Rwe(t.accessList||[])];if(e){const r=ZT(e);n.push(Pl(r.recoveryParam,"recoveryParam")),n.push(Ox(r.r)),n.push(Ox(r.s))}return Fl(["0x02",e$(n)])}function qtt(t,e){const n=[Pl(t.chainId||0,"chainId"),Pl(t.nonce||0,"nonce"),Pl(t.gasPrice||0,"gasPrice"),Pl(t.gasLimit||0,"gasLimit"),t.to!=null?vd(t.to):"0x",Pl(t.value||0,"value"),t.data||"0x",Rwe(t.accessList||[])];if(e){const r=ZT(e);n.push(Pl(r.recoveryParam,"recoveryParam")),n.push(Ox(r.r)),n.push(Ox(r.s))}return Fl(["0x01",e$(n)])}function jwe(t,e,n){try{const r=_o(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{o0.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=gi(e[1],32),t.s=gi(e[2],32);try{const r=Us(n(t));t.from=Pwe(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Gtt(t){const e=ZV(t.slice(1));e.length!==9&&e.length!==12&&o0.throwArgumentError("invalid component count for transaction type: 2","payload",cn(t));const n=_o(e[2]),r=_o(e[3]),i={type:2,chainId:_o(e[0]).toNumber(),nonce:_o(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:_o(e[4]),to:rq(e[5]),value:_o(e[6]),data:e[7],accessList:zA(e[8])};return e.length===9||(i.hash=Us(t),jwe(i,e.slice(9),Vtt)),i}function Ktt(t){const e=ZV(t.slice(1));e.length!==8&&e.length!==11&&o0.throwArgumentError("invalid component count for transaction type: 1","payload",cn(t));const n={type:1,chainId:_o(e[0]).toNumber(),nonce:_o(e[1]).toNumber(),gasPrice:_o(e[2]),gasLimit:_o(e[3]),to:rq(e[4]),value:_o(e[5]),data:e[6],accessList:zA(e[7])};return e.length===8||(n.hash=Us(t),jwe(n,e.slice(8),qtt)),n}function Ytt(t){const e=ZV(t);e.length!==9&&e.length!==6&&o0.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:_o(e[0]).toNumber(),gasPrice:_o(e[1]),gasLimit:_o(e[2]),to:rq(e[3]),value:_o(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=dt.from(e[6]).toNumber()}catch{return n}if(n.r=gi(e[7],32),n.s=gi(e[8],32),dt.from(n.r).isZero()&&dt.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(cn(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=Us(e$(i));try{n.from=Pwe(s,{r:cn(n.r),s:cn(n.s),recoveryParam:r})}catch{}n.hash=Us(t)}return n.type=null,n}function Qtt(t){const e=un(t);if(e[0]>127)return Ytt(e);switch(e[0]){case 1:return Ktt(e);case 2:return Gtt(e)}return o0.throwError(`unsupported transaction type: ${e[0]}`,je.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const P5=new je(r$);class kt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:kt.allowNull(this.accessList.bind(this),null),blockHash:kt.allowNull(o,null),blockNumber:kt.allowNull(l,null),transactionIndex:kt.allowNull(l,null),confirmations:kt.allowNull(l,null),from:n,gasPrice:kt.allowNull(r),maxPriorityFeePerGas:kt.allowNull(r),maxFeePerGas:kt.allowNull(r),gasLimit:r,to:kt.allowNull(n,null),value:r,nonce:l,data:s,r:kt.allowNull(this.uint256),s:kt.allowNull(this.uint256),v:kt.allowNull(l),creates:kt.allowNull(n,null),raw:kt.allowNull(s)},e.transactionRequest={from:kt.allowNull(n),nonce:kt.allowNull(l),gasLimit:kt.allowNull(r),gasPrice:kt.allowNull(r),maxPriorityFeePerGas:kt.allowNull(r),maxFeePerGas:kt.allowNull(r),to:kt.allowNull(n),value:kt.allowNull(r),data:kt.allowNull(u),type:kt.allowNull(l),accessList:kt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:n,topics:kt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:kt.allowNull(this.address,null),from:kt.allowNull(this.address,null),contractAddress:kt.allowNull(n,null),transactionIndex:l,root:kt.allowNull(a),gasUsed:r,logsBloom:kt.allowNull(s),blockHash:o,transactionHash:o,logs:kt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:kt.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:kt.allowNull(r),status:kt.allowNull(l),type:c},e.block={hash:kt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:kt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:kt.allowNull(n),extraData:s,transactions:kt.allowNull(kt.arrayOf(o)),baseFeePerGas:kt.allowNull(r)},e.blockWithTransactions=Va(e.block),e.blockWithTransactions.transactions=kt.allowNull(kt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:kt.allowNull(i,void 0),toBlock:kt.allowNull(i,void 0),blockHash:kt.allowNull(o,void 0),address:kt.allowNull(n,void 0),topics:kt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:kt.allowNull(l),blockHash:kt.allowNull(o),transactionIndex:l,removed:kt.allowNull(this.boolean.bind(this)),address:n,data:kt.allowFalsish(s,"0x"),topics:kt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return zA(e||[])}number(e){return e==="0x"?0:dt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:dt.from(e).toNumber()}bigNumber(e){return dt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),br(e))?e.toLowerCase():P5.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return vd(e)}callAddress(e){if(!br(e,32))return null;const n=vd(Go(e,12));return n===GJe?null:n}contractAddress(e){return RXe(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||br(e))return KV(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return X1(r)!==32?P5.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=dt.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!br(e))throw new Error("invalid uint256");return gi(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=kt.check(n,e);return i._difficulty=r==null?null:dt.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return kt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&dt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=kt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;br(r)&&(r=dt.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),br(r)&&(r=dt.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return Qtt(e)}receiptLog(e){return kt.check(this.formats.receiptLog,e)}receipt(e){const n=kt.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=dt.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&P5.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):P5.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&P5.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return kt.check(this.formats.filter,e)}filterLog(e){return kt.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var Jt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Cn=new je(r$),Ztt=10;function dte(t){return t==null?"null":(X1(t)!==32&&Cn.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function hte(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[dte(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return dte(e)}).join("&")}function Jtt(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function ab(t){if(typeof t=="string"){if(t=t.toLowerCase(),X1(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+hte(t);if(WJe.isForkEvent(t))throw Cn.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+hte(t.topics||[])}throw new Error("invalid event - "+t)}function R5(){return new Date().getTime()}function fte(t){return new Promise(e=>{setTimeout(e,t)})}const Xtt=["block","network","pending","poll"];let ent=class{constructor(e,n,r){$n(this,"tag",e),$n(this,"listener",n),$n(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=Jtt(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||Xtt.indexOf(this.tag)>=0}};const tnt={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function oj(t){return gi(dt.from(t).toHexString(),32)}function pte(t){return vL.encode(Ny([t,Go(ote(ote(t)),0,4)]))}const Owe=new RegExp("^(ipfs)://(.*)$","i"),mte=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Owe,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function q9(t,e){try{return JT(qE(t,e))}catch{}return null}function qE(t,e){if(t==="0x")return null;const n=dt.from(Go(t,e,e+32)).toNumber(),r=dt.from(Go(t,n,n+32)).toNumber();return Go(t,n+32,n+32+r)}function aj(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Cn.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function gte(t){const e=un(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function nnt(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Mwe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=un(t[r]);e[r]=gte(n),e.push(gte(i.length)),e.push(nnt(i)),n+=32+Math.ceil(i.length/32)*32}return Fl(e)}class yte{constructor(e,n,r,i){$n(this,"provider",e),$n(this,"name",r),$n(this,"address",e.formatter.address(n)),$n(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>dt.from(e).eq(1)).catch(e=>{if(e.code===je.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Jt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Fl([e,W9(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Fl(["0x9061b923",Mwe([_Xe(this.name),r.data])]));try{let s=yield this.provider.call(r);return un(s).length%32===4&&Cn.throwError("resolver threw error",je.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=qE(s,0)),s}catch(s){if(s.code===je.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return Jt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?qE(r,0):null})}_getAddress(e,n){const r=tnt[String(e)];if(r==null&&Cn.throwError(`unsupported coin type: ${e}`,je.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=un(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return pte(Ny([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return pte(Ny([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=lte.toWords(i.slice(2));return a.unshift(o),lte.encode(r.prefix,a)}}return null}getAddress(e){return Jt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===YJe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===je.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",oj(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&Cn.throwError("invalid or unsupported coin data",je.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Jt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<mte.length;r++){const i=n.match(mte[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:aj(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=gi(dt.from(l[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Fl(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=dt.from(yield this.provider.call({to:c,data:Fl(["0x00fdd58e",gi(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const h={to:this.provider.formatter.address(l[0]),data:Fl([o,u])};let f=q9(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=aj(f)),e.push({type:"metadata-url",content:f});const p=yield XV(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let m=p.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Owe)==null)return null;e.push({type:"url-ipfs",content:m}),m=aj(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return Jt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+vL.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+vL.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+W1e("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Cn.throwError("invalid or unsupported content hash data",je.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Jt(this,void 0,void 0,function*(){let n=Gp(e);n=Ny([oj(64),oj(n.length),n]),n.length%32!==0&&(n=Ny([n,gi("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",cn(n));return r==null||r==="0x"?null:JT(r)})}}let lj=null,rnt=1;class int extends QV{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),$n(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=x6(new.target,"getNetwork")(e);n?($n(this,"_network",n),this.emit("network",n,null)):Cn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Jt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Cn.throwError("no network detected",je.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:$n(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return E6(()=>this._ready().then(e=>e,e=>{if(!(e.code===je.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return lj==null&&(lj=new kt),lj}static getNetwork(e){return qJe(e??"homestead")}ccipReadFetch(e,n,r){return Jt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield XV({url:c,errorPassThrough:!0},u,(p,m)=>(p.status=m.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Cn.throwError(`response not found during CCIP fetch: ${f}`,je.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return Cn.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,je.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Jt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(R5()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=R5(),r=Ds({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=R5();return i=dt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Jt(this,void 0,void 0,function*(){const e=rnt++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Cn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Cn.makeError("network block skew detected",je.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Jt(this,void 0,void 0,function*(){return Cn.throwError("provider does not support network detection",je.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Jt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield fte(0),this._network;const r=Cn.makeError("underlying network changed",je.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=R5();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=R5(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Jt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Jt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<n||u()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const m=g=>Jt(this,void 0,void 0,function*(){c||(yield fte(1e3),this.getTransactionCount(i.from).then(y=>Jt(this,void 0,void 0,function*(){if(!c){if(y<=i.nonce)f=g;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=g;){if(c)return;const w=yield this.getBlockWithTransactions(p);for(let v=0;v<w.transactions.length;v++){const b=w.transactions[v];if(b.hash===e)return;if(b.from===i.from&&b.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(b.hash,n);if(u())return;let E="replaced";b.data===i.data&&b.to===i.to&&b.value.eq(i.value)?E="repriced":b.data==="0x"&&b.from===b.to&&b.value.isZero()&&(E="cancelled"),a(Cn.makeError("transaction was replaced",je.errors.TRANSACTION_REPLACED,{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:this._wrapTransaction(b),hash:e,receipt:A}));return}}p++}}c||this.once("block",m)}}),y=>{c||this.once("block",m)}))});if(c)return;this.once("block",m),l.push(()=>{this.removeListener("block",m)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{u()||a(Cn.makeError("timeout exceeded",je.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Jt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return dt.from(e)}catch(n){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return dt.from(i)}catch(s){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return dt.from(i).toNumber()}catch(s){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return cn(i)}catch(s){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ds({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>KV(o))}),s=yield this.perform("getStorageAt",i);try{return cn(s)}catch(o){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&X1(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&Cn.throwError("Transaction hash mismatch from Provider.sendTransaction.",je.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>Jt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Cn.throwError("transaction failed",je.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>cn(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Jt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?dt.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?cn(s):null))}),this.formatter.transactionRequest(yield Ds(r))})}_getFilter(e){return Jt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Ds(n))})}_call(e,n,r){return Jt(this,void 0,void 0,function*(){r>=Ztt&&Cn.throwError("CCIP read exceeded maximum redirections",je.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&X1(s)%32===4)try{const o=Go(s,4),a=Go(o,0,32);dt.from(a).eq(i)||Cn.throwError("CCIP Read sender did not match",je.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=dt.from(Go(o,32,64)).toNumber(),u=dt.from(Go(o,c,c+32)).toNumber(),h=Go(o,c+32);for(let w=0;w<u;w++){const v=q9(h,w*32);v==null&&Cn.throwError("CCIP Read contained corrupt URL string",je.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(v)}const f=qE(o,64);dt.from(Go(o,100,128)).isZero()||Cn.throwError("CCIP Read callback selector included junk",je.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=Go(o,96,100),m=qE(o,128),g=yield this.ccipReadFetch(e,f,l);g==null&&Cn.throwError("CCIP Read disabled or provided no URLs",je.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y={to:i,data:Fl([p,Mwe([g,m])])};return this._call(y,n,r+1)}catch(o){if(o.code===je.errors.SERVER_ERROR)throw o}try{return cn(s)}catch(o){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ds({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ds({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return dt.from(r)}catch(i){return Cn.throwError("bad result from backend",je.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Jt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Cn.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Cn.throwError("ENS name not configured",je.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Jt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(br(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),br(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{Cn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return E6(()=>Jt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return E6(()=>Jt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return E6(()=>Jt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Jt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ds({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),kt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Jt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Jt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Cn.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Jt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new yte(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Jt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||Cn.throwError("network does not support ENS",je.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+W9(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Jt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(br(e))throw r}typeof e!="string"&&Cn.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Jt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=q9(yield this.call({to:r,data:"0x691f3431"+W9(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Jt(this,void 0,void 0,function*(){let n=null;if(br(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new yte(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==je.errors.CALL_EXCEPTION)throw a}try{const a=q9(yield this.call({to:o,data:"0x691f3431"+W9(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==je.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return Cn.throwError(e+" not implemented",je.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new ent(ab(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=ab(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=ab(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=ab(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=ab(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=ab(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var Df=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Li=new je(r$),snt=["call","estimateGas"];function s4(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=br(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=s4(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return s4(JSON.parse(t),e)}catch{}return null}function Dwe(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=s4(e,!0);if(s)return s.data;Li.throwError("missing revert data in call exception; Transaction reverted without a reason string",je.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=s4(e.body,!1);s==null&&(s=s4(e,!1)),s&&Li.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",je.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===je.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Li.throwError("insufficient funds for intrinsic transaction cost",je.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&Li.throwError("nonce has already been used",je.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Li.throwError("replacement fee too low",je.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&Li.throwError("legacy pre-eip-155 transactions not supported",je.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),snt.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Li.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",je.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function wte(t){return new Promise(function(e){setTimeout(e,t)})}function ont(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function j5(t){return t&&t.toLowerCase()}const _L={};let Bwe=class extends QT{constructor(e,n,r){if(super(),e!==_L)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");$n(this,"provider",n),r==null&&(r=0),typeof r=="string"?($n(this,"_address",this.provider.formatter.address(r)),$n(this,"_index",null)):typeof r=="number"?($n(this,"_index",r),$n(this,"_address",null)):Li.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Li.throwError("cannot alter JSON-RPC Signer connection",je.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new ant(_L,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Li.throwError("unknown account #"+this._index,je.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Va(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=Va(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Df(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Li.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Ds({tx:Ds(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Li.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Li.throwError("user rejected transaction",je.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),Dwe("sendTransaction",o,s)))})}signTransaction(e){return Li.throwError("signing transactions is unsupported",je.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Df(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield E6(()=>Df(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Df(this,void 0,void 0,function*(){const n=typeof e=="string"?Gp(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[cn(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Li.throwError("user rejected signing",je.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Df(this,void 0,void 0,function*(){const n=typeof e=="string"?Gp(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),cn(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Li.throwError("user rejected signing",je.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return Df(this,void 0,void 0,function*(){const i=yield tte.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(tte.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Li.throwError("user rejected signing",je.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return Df(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}};class ant extends Bwe{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const lnt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let cnt=class extends int{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=x6(this.constructor,"defaultUrl")()),typeof e=="string"?$n(this,"connection",Object.freeze({url:e})):$n(this,"connection",Object.freeze(Va(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Df(this,void 0,void 0,function*(){yield wte(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=x6(this.constructor,"getNetwork");try{return n(dt.from(e).toNumber())}catch(r){return Li.throwError("could not detect network",je.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Li.throwError("could not detect network",je.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Bwe(_L,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:WE(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=XV(this.connection,JSON.stringify(r),ont).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[j5(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[j5(n.address),n.blockTag]];case"getCode":return["eth_getCode",[j5(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[j5(n.address),gi(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[x6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[x6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=j5(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Df(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&dt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Va(n),n.transaction=Va(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Li.throwError(e+" not implemented",je.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return Dwe(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return wte(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=Va(lnt);if(n)for(const s in n)n[s]&&(r[s]=!0);CJe(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=KV(dt.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=cn(e[s]))}),e.accessList&&(i.accessList=zA(e.accessList)),i}};var unt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const dnt=new je(r$);class hnt extends cnt{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return unt(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||dnt.throwError("no network detected",je.errors.UNKNOWN_ERROR,{}),this._network==null&&($n(this,"_network",n),this.emit("network",n,null))),n})}}function IL(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const Lwe=t=>[cu.id,qT.id].includes(t),fnt=async(t,e)=>{if(!Lwe(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:n}=await e.getFeeData();if(n){let r=n.mul(dt.from(120)).div(dt.from(100));t.maxFeePerGas=IL(r),t.maxPriorityFeePerGas=IL(dt.from(0))}}catch(n){throw Error(`Failed to set gas price for Arbitrum transaction: ${n}.`)}return t},Fwe=t=>[56,97].includes(t),pnt=async(t,e)=>{var n;if(!Fwe(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=(n=r.gasPrice)==null?void 0:n.toHexString()}return t},Uwe=t=>[uu.id,GT.id,lf.id,YT.id,zV.id,$1e.id,T1e.id,81457,168587773].includes(t),mnt=async(t,e)=>{if(!Uwe(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let n=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=n}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:n}=await e.getFeeData();if(!n)throw Error("Unable to fetch baseFee for last block.");let r=dt.from(n).mul(dt.from(126)).div(dt.from(100)).add(dt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=IL(r)}}catch(n){throw Error(`Failed to set gas price for OP stack transaction: ${n}.`)}return t},gnt="units/5.8.0",ynt=new je(gnt),wnt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function bte(t,e){if(typeof t!="string"&&ynt.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=wnt.indexOf(e);n!==-1&&(e=3*n)}return Zd(t,e??18)}var zwe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ql,function(){var n=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!r(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!r(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var h=o.retries,f=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")f=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(m,g){var y=function(v){var b=typeof Request<"u"&&c instanceof Request?c.clone():c;s(b,u).then(function(A){if(Array.isArray(p)&&p.indexOf(A.status)===-1)m(A);else if(typeof p=="function")try{return Promise.resolve(p(v,null,A)).then(function(E){E?w(v,null,A):m(A)}).catch(g)}catch(E){g(E)}else v<h?w(v,null,A):m(A)}).catch(function(A){if(typeof p=="function")try{Promise.resolve(p(v,A,null)).then(function(E){E?w(v,A,null):g(A)}).catch(function(E){g(E)})}catch(E){g(E)}else v<h?w(v,A,null):g(A)})};function w(v,b,A){var E=typeof f=="function"?f(v,b,A):f;setTimeout(function(){y(++v)},E)}y(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(zwe);var bnt=zwe.exports;const iq=Ks(bnt);let vnt=iq(fetch,{retries:3,retryDelay:500});const Wwe=t=>[ll.id,LA.id].includes(t);let cj=t=>({maxPriorityFee:bte(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:bte(t.maxFee.toFixed(9),"gwei").toHexString()}),xnt=t=>({safeLow:cj(t.safeLow),standard:cj(t.standard),fast:cj(t.fast)});const Ent=async t=>{let e="";switch(t){case ll.id:e="https://gasstation.polygon.technology/v2";break;case LA.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let n=await vnt(e),r=await n.json();if(n.status>399)throw r;return xnt(r)};async function Ant(t){if(!Wwe(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await Ent(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const Cnt=async(t,e)=>{var n,r,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(n=s.maxFeePerGas)==null?void 0:n.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(r=s.maxPriorityFeePerGas)==null?void 0:r.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function knt(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!r)throw n;return r}}const vte=(t,e,n,r)=>{var o,a,l,c;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new R1e(`Unsupported chainId ${t}`,4901);return new hnt(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:n.rpcUrls&&n.rpcUrls[i]?n.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":r.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(l=s.rpcUrls.public)==null?void 0:l.http[0]:(c=s.rpcUrls.default)==null?void 0:c.http[0])},Snt=(t,e,n)=>{var o,a,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",n),r=c.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new R1e(`No RPC url found for ${i}`);return r};function Hwe(t){return/^-?0x[a-f0-9]+$/i.test(t)}function _nt(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let n=t[e];if(n!==void 0&&!function(r){let i=typeof r=="number",s=typeof r=="bigint",o=typeof r=="string"&&Hwe(r);return i||s||o}(n))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function xte(t,e,n){if(e.chainId=Number(e.chainId),_nt(e),e.from||(e.from=t),!e.nonce){let r=new VV(t,n);e.nonce=await r.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await knt(e,n)),typeof e.type=="string"&&Hwe(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=Wwe(e.chainId)?await Ant(e):Lwe(e.chainId)?await fnt(e,n):Uwe(e.chainId)?await mnt(e,n):Fwe(e.chainId)?await pnt(e,n):await Cnt(e,n)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function Int({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function Vwe(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let Tnt=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function $nt(t,e,n,r,i=!1,s,o){var u,h,f;let a=i,l=async p=>{var m;if(a){p===(i?0:1)?r():(m=n.current)==null||m.reject(new U9("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((y,w)=>{e.current={resolve:y,reject:w},setTimeout(()=>{var b;let v=new U9("mfa_timeout","Timed out waiting for MFA code");(b=n.current)==null||b.reject(v),w(v)},o)});return await t(g)}return await t()},c=null;for(let p=0;p<s;p++)try{c=await l(p),(u=n.current)==null||u.resolve(void 0);break}catch(m){if(m.type!=="missing_or_invalid_mfa")throw(h=n.current)==null||h.resolve(void 0),m;a=!0}if(c===null){let p=new U9("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=n.current)==null||f.reject(p),p}return c}var Ete;let Nnt=(Ete=0,()=>"id-"+Ete++),Pnt=(t,e)=>typeof e=="bigint"?e.toString():e,y0=(t,{ms:e,msg:n})=>Promise.race([t,Vwe(e??15e3).then(()=>Promise.reject(Error(n)))]),Ate=new Tnt,Cte=class{invokeWithMfa(e,n){return y0($nt(r=>y0(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return y0(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return y0(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return y0(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return y0(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return y0(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return y0(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=Ate.dequeue(e.event,e.id);return e.error!==void 0?n(new U9(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await Vwe(150)})}invoke(e,n){let r=((s,o)=>`${s}${JSON.stringify(o,Pnt)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,o)=>{let a=Nnt();Ate.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var qwe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(qwe);var Rnt=qwe.exports;const sq=Ks(Rnt);let jnt=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const Ont=t=>jnt.includes(t),t7=t=>/^0x[0-9a-fA-F]*$/.test(t),n7=t=>Buffer.from(t,"utf8"),GE=t=>`0x${t.toString("hex")}`;var Mnt=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const Dnt=Ks(Mnt);async function Bnt(t,e){let n=Dnt(e);if(n===void 0)throw new Qn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Qu(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(MR,{params:{wallet_id:n}}),method:MR.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await Bnt(e,i);return await t.fetchPrivyRoute(MR,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function Lnt(t){return{from:t.from,to:t.to,nonce:Vg(t.nonce),chain_id:Vg(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?t7(e)?e:GE(n7(e)):GE(Buffer.from(Uint8Array.from(e)))}(t.data),value:Vg(t.value),type:t.type,gas_limit:Vg(t.gasLimit),gas_price:Vg(t.gasPrice),max_fee_per_gas:Vg(t.maxFeePerGas),max_priority_fee_per_gas:Vg(t.maxPriorityFeePerGas)}}function Vg(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return t7(t)?t:GE(n7(t))}function Fnt(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function Gwe({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:Lnt(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:Fnt(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:t7(o)?o:GE(n7(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Qu(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:t7(o)?o:GE(n7(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Qu(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let uj=class extends sq{async request(e){var n,r;if(Ont(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(n=e.params)==null?void 0:n[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(r=e.params)==null?void 0:r[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=vte(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e);return xte(this._account.address,n,this._jsonRpcProvider)}async handleSendTransaction(e){let n=this.ensureChainId(e),r=await xte(this._account.address,n,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(n.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(r){console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from' address`);try{return delete n.from,await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),r}}}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Tee(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Tee(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(am(r)){let{data:i}=await Gwe({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=HV(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,l)=>{var c;o=setTimeout(()=>l(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((c=this._onNeedsRecovery)==null?void 0:c.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=vte(l,o,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}};function TL(t){return"version"in t}function kte(t,e){let n=(TL(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let Unt=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=HV(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!am(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await Gwe({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,o=kte(r,this._account.address),a=TL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(o,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=kte(r,this._account.address),s=TL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},znt=class{setMessagePoster(e){this._proxy=new Cte(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Qn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await VR({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return am(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new gJe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){var c,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((c=this._privyInternal.config)==null?void 0:c.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Qn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await VR({context:{app:this._appApi,fetchPrivyRoute:(...h)=>this._privyInternal.fetch(...h),getCompiledPath:(...h)=>this._privyInternal.getPath(...h)},chainType:"ethereum"})}else{let h;if(h=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(h==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let f=await this._privyInternal.getAccessToken();if(!f)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:f,recoveryMethod:h,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var n,r;if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await VR({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new Qn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return am(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new uj({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return am(e)||(!l||i||s||o||a)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new uj({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,o,a){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return am(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new Unt({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(am(n))throw new Qn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});Int({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let o;if(r.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:n.chain_type!=="ethereum"?null:new uj({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:n}),e}catch(c){if(HV(c))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw c}}constructor(e,n,r,i,s,o){if(this._chains=Array.from(FA),this._privyInternal=e,n&&(this._proxy=new Cte(n,s),i.setProxy(this._proxy)),r){let a=P1e(r);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},Wnt=class extends sq{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var dk,Hnt=new Uint8Array(16);function Kwe(){if(!dk&&(dk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dk(Hnt)}const Vnt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o$(t){return typeof t=="string"&&Vnt.test(t)}var Ns=[];for(var dj=0;dj<256;++dj)Ns.push((dj+256).toString(16).substr(1));function a$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ns[t[e+0]]+Ns[t[e+1]]+Ns[t[e+2]]+Ns[t[e+3]]+"-"+Ns[t[e+4]]+Ns[t[e+5]]+"-"+Ns[t[e+6]]+Ns[t[e+7]]+"-"+Ns[t[e+8]]+Ns[t[e+9]]+"-"+Ns[t[e+10]]+Ns[t[e+11]]+Ns[t[e+12]]+Ns[t[e+13]]+Ns[t[e+14]]+Ns[t[e+15]]).toLowerCase();if(!o$(n))throw TypeError("Stringified UUID is invalid");return n}var Ste,hj,fj=0,pj=0;function qnt(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||Ste,o=t.clockseq!==void 0?t.clockseq:hj;if(s==null||o==null){var a=t.random||(t.rng||Kwe)();s==null&&(s=Ste=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=hj=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:pj+1,u=l-fj+(c-pj)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>fj)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fj=l,pj=c,hj=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=h&255;var f=l/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return e||a$(i)}function Ywe(t){if(!o$(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Gnt(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Knt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ynt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Qwe(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=Gnt(i)),typeof s=="string"&&(s=Ywe(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return a$(l)}try{r.name=t}catch{}return r.DNS=Knt,r.URL=Ynt,r}function Qnt(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return Znt(Jnt(Xnt(t),t.length*8))}function Znt(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Zwe(t){return(t+64>>>9<<4)+14+1}function Jnt(t,e){t[e>>5]|=128<<e%32,t[Zwe(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=io(n,r,i,s,t[o],7,-680876936),s=io(s,n,r,i,t[o+1],12,-389564586),i=io(i,s,n,r,t[o+2],17,606105819),r=io(r,i,s,n,t[o+3],22,-1044525330),n=io(n,r,i,s,t[o+4],7,-176418897),s=io(s,n,r,i,t[o+5],12,1200080426),i=io(i,s,n,r,t[o+6],17,-1473231341),r=io(r,i,s,n,t[o+7],22,-45705983),n=io(n,r,i,s,t[o+8],7,1770035416),s=io(s,n,r,i,t[o+9],12,-1958414417),i=io(i,s,n,r,t[o+10],17,-42063),r=io(r,i,s,n,t[o+11],22,-1990404162),n=io(n,r,i,s,t[o+12],7,1804603682),s=io(s,n,r,i,t[o+13],12,-40341101),i=io(i,s,n,r,t[o+14],17,-1502002290),r=io(r,i,s,n,t[o+15],22,1236535329),n=so(n,r,i,s,t[o+1],5,-165796510),s=so(s,n,r,i,t[o+6],9,-1069501632),i=so(i,s,n,r,t[o+11],14,643717713),r=so(r,i,s,n,t[o],20,-373897302),n=so(n,r,i,s,t[o+5],5,-701558691),s=so(s,n,r,i,t[o+10],9,38016083),i=so(i,s,n,r,t[o+15],14,-660478335),r=so(r,i,s,n,t[o+4],20,-405537848),n=so(n,r,i,s,t[o+9],5,568446438),s=so(s,n,r,i,t[o+14],9,-1019803690),i=so(i,s,n,r,t[o+3],14,-187363961),r=so(r,i,s,n,t[o+8],20,1163531501),n=so(n,r,i,s,t[o+13],5,-1444681467),s=so(s,n,r,i,t[o+2],9,-51403784),i=so(i,s,n,r,t[o+7],14,1735328473),r=so(r,i,s,n,t[o+12],20,-1926607734),n=oo(n,r,i,s,t[o+5],4,-378558),s=oo(s,n,r,i,t[o+8],11,-2022574463),i=oo(i,s,n,r,t[o+11],16,1839030562),r=oo(r,i,s,n,t[o+14],23,-35309556),n=oo(n,r,i,s,t[o+1],4,-1530992060),s=oo(s,n,r,i,t[o+4],11,1272893353),i=oo(i,s,n,r,t[o+7],16,-155497632),r=oo(r,i,s,n,t[o+10],23,-1094730640),n=oo(n,r,i,s,t[o+13],4,681279174),s=oo(s,n,r,i,t[o],11,-358537222),i=oo(i,s,n,r,t[o+3],16,-722521979),r=oo(r,i,s,n,t[o+6],23,76029189),n=oo(n,r,i,s,t[o+9],4,-640364487),s=oo(s,n,r,i,t[o+12],11,-421815835),i=oo(i,s,n,r,t[o+15],16,530742520),r=oo(r,i,s,n,t[o+2],23,-995338651),n=ao(n,r,i,s,t[o],6,-198630844),s=ao(s,n,r,i,t[o+7],10,1126891415),i=ao(i,s,n,r,t[o+14],15,-1416354905),r=ao(r,i,s,n,t[o+5],21,-57434055),n=ao(n,r,i,s,t[o+12],6,1700485571),s=ao(s,n,r,i,t[o+3],10,-1894986606),i=ao(i,s,n,r,t[o+10],15,-1051523),r=ao(r,i,s,n,t[o+1],21,-2054922799),n=ao(n,r,i,s,t[o+8],6,1873313359),s=ao(s,n,r,i,t[o+15],10,-30611744),i=ao(i,s,n,r,t[o+6],15,-1560198380),r=ao(r,i,s,n,t[o+13],21,1309151649),n=ao(n,r,i,s,t[o+4],6,-145523070),s=ao(s,n,r,i,t[o+11],10,-1120210379),i=ao(i,s,n,r,t[o+2],15,718787259),r=ao(r,i,s,n,t[o+9],21,-343485551),n=Fm(n,a),r=Fm(r,l),i=Fm(i,c),s=Fm(s,u)}return[n,r,i,s]}function Xnt(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Zwe(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Fm(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function ert(t,e){return t<<e|t>>>32-e}function l$(t,e,n,r,i,s){return Fm(ert(Fm(Fm(e,t),Fm(r,s)),i),n)}function io(t,e,n,r,i,s,o){return l$(e&n|~e&r,t,e,i,s,o)}function so(t,e,n,r,i,s,o){return l$(e&r|n&~r,t,e,i,s,o)}function oo(t,e,n,r,i,s,o){return l$(e^n^r,t,e,i,s,o)}function ao(t,e,n,r,i,s,o){return l$(n^(e|~r),t,e,i,s,o)}var trt=Qwe("v3",48,Qnt);function r7(t,e,n){t=t||{};var r=t.random||(t.rng||Kwe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return a$(r)}function nrt(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function mj(t,e){return t<<e|t>>>32-e}function rrt(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[h][p];for(var m=16;m<80;++m)f[m]=mj(f[m-3]^f[m-8]^f[m-14]^f[m-16],1);for(var g=n[0],y=n[1],w=n[2],v=n[3],b=n[4],A=0;A<80;++A){var E=Math.floor(A/20),$=mj(g,5)+nrt(E,y,w,v)+b+e[E]+f[A]>>>0;b=v,v=w,w=mj(y,30)>>>0,y=g,g=$}n[0]=n[0]+g>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var irt=Qwe("v5",80,rrt);const srt="00000000-0000-0000-0000-000000000000";function ort(t){if(!o$(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const art=Object.freeze(Object.defineProperty({__proto__:null,NIL:srt,parse:Ywe,stringify:a$,v1:qnt,v3:trt,v4:r7,v5:irt,validate:o$,version:ort},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var lrt={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function $L(t,e){function n(i,s,o){if(!(typeof document>"u")){o=hk({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",hk({},s,{expires:-1}))},withAttributes:function(i){return $L(this.converter,hk({},this.attributes,i))},withConverter:function(i){return $L(hk({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Ci=$L(lrt,{path:"/"});const _te=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let lb="privy:token",gj="privy-token",fk="privy:refresh_token",yj="privy-refresh-token",cb="privy:id-token",wj="privy-id-token",pk="privy-session",Jwe=class extends sq{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(lb);try{return typeof e=="string"?new v6(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(fk);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(cb);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Ci.get(pk);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=v6.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await _te([this._storage.del(lb),this._storage.del(fk),this._storage.del(cb),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Ci.remove(gj),Ci.remove(yj),Ci.remove(wj),Ci.remove(pk),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(lb);if(await this._storage.put(lb,e),!this._isUsingServerCookies){let i=(n=v6.parse(e))==null?void 0:n.expiration;Ci.set(gj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(lb);await this._storage.del(lb),Ci.remove(gj),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(fk,e),this._isUsingServerCookies||(Ci.set(pk,"t",{sameSite:"Strict",secure:!0,expires:30}),Ci.set(yj,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(fk),Ci.remove(yj),Ci.remove(pk),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await _te([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(cb);if(await this._storage.put(cb,e),!this._isUsingServerCookies){let i=(n=v6.parse(e))==null?void 0:n.expiration;Ci.set(wj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(cb);await this._storage.del(cb),Ci.remove(wj),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=J1(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Jwe.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var crt=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function urt(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const mk=()=>{};let w0={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const drt=({level:t}={level:"ERROR"})=>({get level(){return t},error:w0[t]>=w0.ERROR?console.error:mk,warn:w0[t]>=w0.WARN?console.warn:mk,info:w0[t]>=w0.INFO?console.info:mk,debug:w0[t]>=w0.DEBUG?console.debug:mk});let bj="privy:caid",hrt=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${GVe(e.path,n)}${urt(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),l=await o(a),c=await this._fetch(a,l),u=await c.json();if(c.status>299)throw new HR(u);return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:crt(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(aVe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(bj);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=r7()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(bj,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(bj)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(oVe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,o,a,l,c;let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new HR({code:VX.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${jX.path}`);let u=await this.fetch(jX,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),h=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${h}`),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),h==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),h==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),h==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof HR&&u.code===VX.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((c=(l=this.callbacks)==null?void 0:l.setUser)==null||c.call(l,null))),u}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${r7()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.2",this._cache=new Map,this.logger=drt({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Jwe({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=iq(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},frt=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(iqe,{})}}constructor(e){this._privyInternal=e}};const Xwe=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",ebe=t=>t?t.linked_accounts.filter(Xwe).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],Ite=t=>ebe(t).find(e=>e.wallet_index===0)??null,tbe=t=>t?t.linked_accounts.filter(Xwe).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],prt=t=>tbe(t).find(e=>e.wallet_index===0)??null,mrt=(t,e)=>!(e==="off"||ebe(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),grt=(t,e)=>!(e==="off"||tbe(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),Ed=async(t,e,n)=>{var s,o;let r=mrt(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=grt(e.user,((o=n==null?void 0:n.solana)==null?void 0:o.createOnLogin)??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:Ite(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:prt(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:Ite(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let yrt=class{async syncWithToken(e,n,r){var o,a;let i=await this._privyInternal.fetch(dVe,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Ed(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},wrt=class{async sendCode(e,n){return this._privyInternal.fetch(RVe,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(PVe,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(jVe,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(MVe,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(OVe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},brt=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(hVe,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(gVe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},o){var c,u;let a=await this._privyInternal.fetch(fVe,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await Ed(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(pVe,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(mVe,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},vrt=class{async initializeAuth(){return await this._privyInternal.fetch(yVe,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var a,l;let s=await this._privyInternal.fetch(wVe,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}constructor(e,n){this._privyInternal=e,this._embedded=n}},xrt=class{async create(e){var s,o;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(bVe,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await Ed(this._embedded,r,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const lm="privy:state_code",cm="privy:code_verifier";async function Ert(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function Art(t){return crypto.getRandomValues(new Uint8Array(t))}function oq(){return J1(Art(36))}function nbe(){return oq()}async function rbe({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await Ert(t,n);return J1(r)}}let Crt=class{async generateURL(e,n){var o;let r=oq(),i=nbe(),s=await rbe({codeVerifier:r,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(cm,r),this._storage.put(lm,i)]),this._privyInternal.fetch(AVe,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,o){var h,f;let[a,l]=await Promise.all([this._storage.get(cm),this._storage.get(lm)]);if(l!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:l??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(EVe,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await Ed(this._embedded,c,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(cm),this._storage.del(lm)]),(f=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||f.call(h,u.user),u}async linkWithCode(e,n,r,i){let[s,o]=await Promise.all([this._storage.get(cm),this._storage.get(lm)]);if(o!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(CVe,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(cm),this._storage.del(lm)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,n){await this._privyInternal.fetch(kVe,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},krt=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(NVe,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(TVe,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch($Ve,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(_Ve,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async signupWithPasskey(e,n,r){var o,a;let i=await this._privyInternal.fetch(IVe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Ed(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(SVe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Srt=class{async sendCode(e,n){return this._privyInternal.fetch(BVe,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(DVe,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Ed(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(LVe,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(UVe,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(FVe,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},_rt=class{async unlinkWallet(e){await this._privyInternal.fetch(XVe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(ZVe,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,n,r,i,s){var u,h;let o=n||this._wallet,a=r||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(QVe,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await Ed(this._embedded,l,s==null?void 0:s.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,c.user),c}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Nye,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},Irt=class{async unlink({address:e}){await this._privyInternal.fetch(rqe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(nqe,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:o}){var c,u;let a=await this._privyInternal.fetch(tqe,{body:{signature:r,message:n,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await Ed(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(eqe,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Trt=class{async link(e,n,r,i){await this._privyInternal.fetch(JVe,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(Nye,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},$rt=class{async logout(){var e,n;try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(KVe,{body:{refresh_token:r}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(n=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||n.call(e,null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new yrt(this._privyInternal,n),this.phone=new Srt(this._privyInternal,n),this.email=new wrt(this._privyInternal,n),this.oauth=new Crt(this._privyInternal,n,r,i),this.guest=new xrt(this._privyInternal,n),this.siwe=new _rt(this._privyInternal,n),this.siws=new Irt(this._privyInternal,n),this.smartWallet=new Trt(this._privyInternal),this.passkey=new krt(this._privyInternal,n),this.farcaster=new brt(this._privyInternal,n),this.farcasterV2=new vrt(this._privyInternal,n)}},Nrt=class{async initOnRampSession(e){return await this._privyInternal.fetch(lVe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(cVe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Prt={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Rrt=new Set([du.id,cu.id,uu.id,ll.id,B3.id,KT.id]),jrt=new Set([du.id,cu.id,lf.id,uu.id,ll.id]);function Ort(t,e){switch(e){case"native-currency":return Rrt.has(t);case"USDC":return jrt.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function Mrt(t,e){switch(t){case cu.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case B3.id:return"AVAX_CCHAIN";case uu.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case KT.id:return"CELO_CELO";case ll.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case du.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Drt=class{async sign(e){return await this._privyInternal.fetch(sqe,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=Prt[n?"sandbox":"prod"],s=await iq(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new mJe({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},Brt=class{constructor(e){this.moonpay=new Drt(e),this.coinbase=new Nrt(e)}},Lrt=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(vVe,{body:e})}constructor(e){this._privyInternal=e}},Frt=class{async sendCode(e){return await this._privyInternal.fetch(xVe,{body:e})}constructor(e){this._privyInternal=e}},Urt=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new Frt(e),this.passkey=new Lrt(e)}},zrt=class{async init(e){return this._privyInternal.fetch(VVe,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(qVe,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},Wrt=class{async generateURL(e){var s;let n=oq(),r=nbe(),i=await rbe({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(cm,n),this._storage.put(lm,r)]),this._privyInternal.fetch(WVe,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(cm),this._storage.get(lm)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(HVe,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(cm),this._storage.del(lm)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},Hrt=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(zVe,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new Wrt(this._privyInternal,n,r),this.icloudAuth=new zrt(this._privyInternal)}},Vrt=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new hrt({...n,appClientId:e}),this.mfa=new Urt(this._privyInternal),this.mfaPromises=new Wnt,this.app=new KZe(this._privyInternal),this.embeddedWallet=new znt(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new frt(this._privyInternal),this.auth=new $rt(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new Hrt(this._privyInternal,n.storage,n.crypto),this.funding=new Brt(this._privyInternal),this.delegated=new iJe(this._privyInternal),this.crossApp=new _1e(this._privyInternal,n.storage)}};const qrt={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},ibe={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function c$(t,e){var n=Array.prototype.slice.call(e);return n.push(ibe),t.apply(this,n)}function Grt(){return c$(LKe,arguments)}function KE(t){return Jye.call(this,t,ibe)}KE.prototype=Object.create(Jye.prototype,{});KE.prototype.constructor=KE;function Krt(){return c$(rQe,arguments)}function aq(){return c$(MT,arguments)}function Yrt(){return c$(iQe,arguments)}const gk=(t,e)=>Grt(String(t),e),vj=(t,e)=>`+${aq(e)} ${t}`,Qrt=t=>`*${t.replaceAll("-","").slice(-4)}`,Zrt=t=>new KE(t),Jrt=Krt().map(t=>({code:t,callCode:aq(t)})),Xrt=t=>{var n;let e=(n=Yrt(t,qrt))==null?void 0:n.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},eit=t=>{let e=new KE;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},tit=(t,e=!0)=>t.reduce((n,r)=>({...n,[r]:e}),{}),nit={[du.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[UV.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[lf.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[YT.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ll.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[LA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[uu.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[GT.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[B3.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[FV.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[cu.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[qT.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let rit=new Set([du.id,uu.id,lf.id,ll.id,cu.id]),iit=new Set([du.id,uu.id,ll.id,lf.id,cu.id]),sit={buy:"CARD",send:"CRYPTO_ACCOUNT"},oit={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};du.id+"",uu.id+"",lf.id+"",ll.id+"",cu.id+"";function ait({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),o.searchParams.set("defaultNetwork",r),o.searchParams.set("defaultPaymentMethod",sit[s]),o.searchParams.set("defaultAsset",oit[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const lit=(t,e)=>{switch(e){case"native-currency":return rit.has(t);case"USDC":return iit.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function cit(t,e){return t===ll.id?"POL":"ETH"}function Tte(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function uit({wei:t,precision:e=3}){return parseFloat($w(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function NL({amount:t,decimals:e}){return Wa(BigInt(t),e)}function cs(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var dit=0;function sbe(t){return"__private_"+dit+++"_"+t}var Pr=sbe("_wallet"),pl=sbe("_account");let obe=class{get standardWallet(){return cs(this,Pr)[Pr]}get address(){return cs(this,pl)[pl].address}async disconnect(){var e;if(!((e=cs(this,Pr)[Pr].features["standard:disconnect"])!=null&&e.disconnect))throw Error("Wallet does not support disconnect");await cs(this,Pr)[Pr].features["standard:disconnect"].disconnect()}async signMessage(e){var r;if(!((r=cs(this,Pr)[Pr].features["solana:signMessage"])!=null&&r.signMessage))throw Error("Wallet does not support signMessage");let[n]=await cs(this,Pr)[Pr].features["solana:signMessage"].signMessage({...e,account:cs(this,pl)[pl]});return n}async signTransaction(e){var r;if(!((r=cs(this,Pr)[Pr].features["solana:signTransaction"])!=null&&r.signTransaction))throw Error("Wallet does not support signTransaction");let[n]=await cs(this,Pr)[Pr].features["solana:signTransaction"].signTransaction({...e,account:cs(this,pl)[pl]});return n}async signAndSendTransaction(e){var r;if(!((r=cs(this,Pr)[Pr].features["solana:signAndSendTransaction"])!=null&&r.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");let[n]=await cs(this,Pr)[Pr].features["solana:signAndSendTransaction"].signAndSendTransaction({...e,account:cs(this,pl)[pl]});return n}async signAndSendAllTransactions(e){var n;if(!((n=cs(this,Pr)[Pr].features["solana:signAndSendTransaction"])!=null&&n.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");return[...await cs(this,Pr)[Pr].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(r=>({...r,account:cs(this,pl)[pl]})))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Pr,{writable:!0,value:void 0}),Object.defineProperty(this,pl,{writable:!0,value:void 0}),cs(this,Pr)[Pr]=e,cs(this,pl)[pl]=n}};const hit=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,fit=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,pit=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function mit(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){git(t);return}return e}function git(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function A6(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!pit.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(hit.test(t)||fit.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,mit)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const yit=/#/g,wit=/&/g,bit=/\//g,vit=/=/g,lq=/\+/g,xit=/%5e/gi,Eit=/%60/gi,Ait=/%7c/gi,Cit=/%20/gi;function kit(t){return encodeURI(""+t).replace(Ait,"|")}function PL(t){return kit(typeof t=="string"?t:JSON.stringify(t)).replace(lq,"%2B").replace(Cit,"+").replace(yit,"%23").replace(wit,"%26").replace(Eit,"`").replace(xit,"^").replace(bit,"%2F")}function xj(t){return PL(t).replace(vit,"%3D")}function abe(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Sit(t){return abe(t.replace(lq," "))}function _it(t){return abe(t.replace(lq," "))}function Iit(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=Sit(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=_it(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function Tit(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${xj(t)}=${PL(n)}`).join("&"):`${xj(t)}=${PL(e)}`:xj(t)}function $it(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Tit(e,t[e])).filter(Boolean).join("&")}const Nit=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Pit=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Rit=/^([/\\]\s*){2,}[^/\\]/,jit=/^\.?\//;function lbe(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Nit.test(t):Pit.test(t)||(e.acceptRelative?Rit.test(t):!1)}function Oit(t="",e){return t.endsWith("/")}function Mit(t="",e){return(Oit(t)?t.slice(0,-1):t)||"/"}function Dit(t="",e){return t.endsWith("/")?t:t+"/"}function Bit(t,e){if(Fit(e)||lbe(t))return t;const n=Mit(e);return t.startsWith(n)?t:zit(n,t)}function Lit(t,e){const n=Wit(t),r={...Iit(n.search),...e};return n.search=$it(r),Hit(n)}function Fit(t){return!t||t==="/"}function Uit(t){return t&&t!=="/"}function zit(t,...e){let n=t||"";for(const r of e.filter(i=>Uit(i)))if(n){const i=r.replace(jit,"");n=Dit(n)+i}else n=r;return n}const cbe=Symbol.for("ufo:protocolRelative");function Wit(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,f=""]=n;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!lbe(t,{acceptRelative:!0}))return $te(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=$te(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[cbe]:!r}}function $te(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function Hit(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[cbe]?(t.protocol||"")+"//":"")+i+s+e+n+r}class ube extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Vit(t){var l,c,u,h,f;const e=((l=t.error)==null?void 0:l.message)||((c=t.error)==null?void 0:c.toString())||"",n=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",r=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new ube(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,m]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[m]}});return a}const qit=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Nte(t="GET"){return qit.has(t.toUpperCase())}function Git(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Kit=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Yit=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Qit(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Yit.test(e)?"json":Kit.has(e)||e.startsWith("text/")?"text":"blob"}function Zit(t,e,n,r){const i=Jit((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function Jit(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function yk(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const Xit=new Set([408,409,425,429,500,502,503,504]),est=new Set([101,204,205,304]);function dbe(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=Nte(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):Xit.has(h))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),s(a.request,{...a.options,retry:u-1})}}const c=Vit(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:Zit(l,c,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await yk(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=Bit(u.request,u.options.baseURL)),u.options.query&&(u.request=Lit(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&Nte(u.options.method)&&(Git(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new r;h=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await yk(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!est.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||Qit(u.response.headers.get("content-type")||"");switch(p){case"json":{const m=await u.response.text(),g=u.options.parseResponse||A6;u.response._data=g(m);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await yk(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await yk(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>dbe({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const i7=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}(),tst=i7.fetch?(...t)=>i7.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),nst=i7.Headers,rst=i7.AbortController,hbe=dbe({fetch:tst,Headers:nst,AbortController:rst});var Dt;let Do=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Rl=class extends Do{constructor(e,n,r,i,s,o){super(r,i,s),this.type=e,this.status=n,this.data=o}},ue=class extends Do{constructor(e,n,r){super(e,n,r),this.type="client_error"}},ist=class extends ue{constructor(){super("Request timed out",void 0,"client_request_timeout")}},kr=class extends Do{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Nn=t=>{if(t instanceof Do)return t;if(!(t instanceof ube))return Or(t);if(!t.response)return new Rl("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new Rl(e||"ApiError",t.response.status,n||r,t,i,t.data)},Or=t=>t instanceof Do?t:t instanceof Error?new ue(t.message,t):new ue(`Internal error: ${t}`);var pe=((Dt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Dt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Dt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Dt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Dt.INVALID_DATA="invalid_data",Dt.INVALID_CAPTCHA="invalid_captcha",Dt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Dt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Dt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Dt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Dt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Dt.ALLOWLIST_REJECTED="allowlist_rejected",Dt.OAUTH_USER_DENIED="oauth_user_denied",Dt.OAUTH_UNEXPECTED="oauth_unexpected",Dt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Dt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Dt.USER_EXITED_LINK_FLOW="exited_link_flow",Dt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Dt.MUST_BE_AUTHENTICATED="must_be_authenticated",Dt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Dt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Dt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Dt.INVALID_CREDENTIALS="invalid_credentials",Dt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Dt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Dt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Dt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Dt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Dt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Dt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Dt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Dt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Dt.TRANSACTION_FAILURE="transaction_failure",Dt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Dt.NOT_SUPPORTED="not_supported",Dt.CAPTCHA_TIMEOUT="captcha_timeout",Dt.INVALID_MESSAGE="invalid_message",Dt.UNABLE_TO_SIGN="unable_to_sign",Dt.CAPTCHA_FAILURE="captcha_failure",Dt.CAPTCHA_DISABLED="captcha_disabled",Dt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Dt.TOO_MANY_REQUESTS="too_many_requests",Dt.USER_LIMIT_REACHED="max_accounts_reached",Dt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Dt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Dt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Dt.USER_DOES_NOT_EXIST="user_does_not_exist",Dt.INSUFFICIENT_BALANCE="insufficient_balance",Dt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Dt.BUFFER_NOT_DEFINED="buffer_not_defined",Dt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Dt);let qg=class extends ue{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},ng=class extends ue{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},sst=class extends ue{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},WA=class extends ue{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const fbe="/api/v1/sessions",pbe="/api/v1/sessions/logout",ost="/api/v1/siwe/init",ast="/api/v1/siwe/authenticate",lst="/api/v1/siwe/link",cst="/api/v1/siwe/link_smart_wallet",ust="/api/v1/siwe/unlink",dst="/api/v1/siwe/transfer",hst="/api/v1/siws/init",fst="/api/v1/siws/authenticate",pst="/api/v1/siws/link",mst="/api/v1/siws/unlink",gst="/api/v1/siws/transfer",yst="/api/v1/farcaster/init",wst="/api/v1/farcaster/authenticate",bst="/api/v1/farcaster/link",vst="/api/v1/farcaster/status",xst="/api/v1/farcaster/unlink",Est="/api/v1/farcaster/transfer",Ast="/api/v1/passwordless/init",Cst="/api/v1/passwordless/authenticate",kst="/api/v1/passwordless/link",Sst="/api/v1/passwordless/unlink",_st="/api/v1/passwordless/update",Ist="/api/v1/passwordless/transfer",Tst="/api/v1/passwordless_sms/init",$st="/api/v1/passwordless_sms/link",Nst="/api/v1/passwordless_sms/unlink",Pst="/api/v1/passwordless_sms/authenticate",Rst="/api/v1/passwordless_sms/update",jst="/api/v1/passwordless_sms/transfer",mbe="/api/v1/oauth/init",gbe="/api/v1/oauth/authenticate",ybe="/api/v1/oauth/link",Ost="/api/v1/oauth/unlink",Mst="/api/v1/oauth/transfer",Dst="/api/v1/recovery/oauth/init",Bst="/api/v1/recovery/oauth/init_icloud",Lst="/api/v1/recovery/oauth/authenticate",Fst="/api/v1/passkeys/link/init",Ust="/api/v1/passkeys/authenticate/init",zst="/api/v1/passkeys/register/init",Wst="/api/v1/passkeys/link",Hst="/api/v1/passkeys/authenticate",Vst="/api/v1/passkeys/register",qst="/api/v1/telegram/authenticate",Gst="/api/v1/telegram/link",Kst="/api/v1/telegram/unlink",Yst="/api/v1/telegram/transfer",Qst="/api/v1/mfa/passwordless_sms/init",Zst="/api/v1/mfa/passkeys/init",Jst="/api/v1/users/me/accept_terms",wbe="/api/v1/analytics_events",Xst="/api/v1/custom_jwt_account/authenticate",eot="/api/v1/custom_jwt_account/link",tot="/api/v1/guest/authenticate",not="/api/v1/plugins/moonpay_on_ramp/sign",rot="/api/v1/funding/coinbase_on_ramp/init",iot="/api/v1/funding/coinbase_on_ramp/status",sot="/api/v1/wallets/revoke",oot="/api/v1/users/me",aot="/api/v1/scan/transaction";function lot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const u$=x.forwardRef(lot);function cot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const uot=x.forwardRef(cot);var No=function(){return No=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},No.apply(this,arguments)};function Lx(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var jr="-ms-",o4="-moz-",tr="-webkit-",bbe="comm",d$="rule",cq="decl",dot="@import",vbe="@keyframes",hot="@layer",xbe=Math.abs,uq=String.fromCharCode,RL=Object.assign;function fot(t,e){return ws(t,0)^45?(((e<<2^ws(t,0))<<2^ws(t,1))<<2^ws(t,2))<<2^ws(t,3):0}function Ebe(t){return t.trim()}function Bf(t,e){return(t=e.exec(t))?t[0]:t}function gn(t,e,n){return t.replace(e,n)}function G9(t,e,n){return t.indexOf(e,n)}function ws(t,e){return t.charCodeAt(e)|0}function Fx(t,e,n){return t.slice(e,n)}function wh(t){return t.length}function Abe(t){return t.length}function C6(t,e){return e.push(t),t}function pot(t,e){return t.map(e).join("")}function Pte(t,e){return t.filter(function(n){return!Bf(n,e)})}var h$=1,Ux=1,Cbe=0,tu=0,Vi=0,H3="";function f$(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:h$,column:Ux,length:o,return:"",siblings:a}}function q0(t,e){return RL(f$("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ub(t){for(;t.root;)t=q0(t.root,{children:[t]});C6(t,t.siblings)}function mot(){return Vi}function got(){return Vi=tu>0?ws(H3,--tu):0,Ux--,Vi===10&&(Ux=1,h$--),Vi}function ad(){return Vi=tu<Cbe?ws(H3,tu++):0,Ux++,Vi===10&&(Ux=1,h$++),Vi}function k1(){return ws(H3,tu)}function K9(){return tu}function p$(t,e){return Fx(H3,t,e)}function jL(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yot(t){return h$=Ux=1,Cbe=wh(H3=t),tu=0,[]}function wot(t){return H3="",t}function Ej(t){return Ebe(p$(tu-1,OL(t===91?t+2:t===40?t+1:t)))}function bot(t){for(;(Vi=k1())&&Vi<33;)ad();return jL(t)>2||jL(Vi)>3?"":" "}function vot(t,e){for(;--e&&ad()&&!(Vi<48||Vi>102||Vi>57&&Vi<65||Vi>70&&Vi<97););return p$(t,K9()+(e<6&&k1()==32&&ad()==32))}function OL(t){for(;ad();)switch(Vi){case t:return tu;case 34:case 39:t!==34&&t!==39&&OL(Vi);break;case 40:t===41&&OL(t);break;case 92:ad();break}return tu}function xot(t,e){for(;ad()&&t+Vi!==57;)if(t+Vi===84&&k1()===47)break;return"/*"+p$(e,tu-1)+"*"+uq(t===47?t:ad())}function Eot(t){for(;!jL(k1());)ad();return p$(t,tu)}function Aot(t){return wot(Y9("",null,null,null,[""],t=yot(t),0,[0],t))}function Y9(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,g=1,y=1,w=1,v=0,b="",A=i,E=s,$=r,N=b;y;)switch(m=v,v=ad()){case 40:if(m!=108&&ws(N,h-1)==58){G9(N+=gn(Ej(v),"&","&\f"),"&\f",xbe(c?a[c-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Ej(v);break;case 9:case 10:case 13:case 32:N+=bot(m);break;case 92:N+=vot(K9()-1,7);continue;case 47:switch(k1()){case 42:case 47:C6(Cot(xot(ad(),K9()),e,n,l),l);break;default:N+="/"}break;case 123*g:a[c++]=wh(N)*w;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:w==-1&&(N=gn(N,/\f/g,"")),p>0&&wh(N)-h&&C6(p>32?jte(N+";",r,n,h-1,l):jte(gn(N," ","")+";",r,n,h-2,l),l);break;case 59:N+=";";default:if(C6($=Rte(N,e,n,c,u,i,a,b,A=[],E=[],h,s),s),v===123)if(u===0)Y9(N,e,$,$,A,s,h,a,E);else switch(f===99&&ws(N,3)===110?100:f){case 100:case 108:case 109:case 115:Y9(t,$,$,r&&C6(Rte(t,$,$,0,0,i,a,b,i,A=[],h,E),E),i,E,h,a,r?A:E);break;default:Y9(N,$,$,$,[""],E,0,a,E)}}c=u=p=0,g=w=1,b=N="",h=o;break;case 58:h=1+wh(N),p=m;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&got()==125)continue}switch(N+=uq(v),v*g){case 38:w=u>0?1:(N+="\f",-1);break;case 44:a[c++]=(wh(N)-1)*w,w=1;break;case 64:k1()===45&&(N+=Ej(ad())),f=k1(),u=h=wh(b=N+=Eot(K9())),v++;break;case 45:m===45&&wh(N)==2&&(g=0)}}return s}function Rte(t,e,n,r,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],m=Abe(p),g=0,y=0,w=0;g<r;++g)for(var v=0,b=Fx(t,f+1,f=xbe(y=o[g])),A=t;v<m;++v)(A=Ebe(y>0?p[v]+" "+b:gn(b,/&\f/g,p[v])))&&(l[w++]=A);return f$(t,e,n,i===0?d$:a,l,c,u,h)}function Cot(t,e,n,r){return f$(t,e,n,bbe,uq(mot()),Fx(t,2,-2),0,r)}function jte(t,e,n,r,i){return f$(t,e,n,cq,Fx(t,0,r),Fx(t,r+1,-1),r,i)}function kbe(t,e,n){switch(fot(t,e)){case 5103:return tr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tr+t+t;case 4789:return o4+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tr+t+o4+t+jr+t+t;case 5936:switch(ws(t,e+11)){case 114:return tr+t+jr+gn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tr+t+jr+gn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tr+t+jr+gn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tr+t+jr+t+t;case 6165:return tr+t+jr+"flex-"+t+t;case 5187:return tr+t+gn(t,/(\w+).+(:[^]+)/,tr+"box-$1$2"+jr+"flex-$1$2")+t;case 5443:return tr+t+jr+"flex-item-"+gn(t,/flex-|-self/g,"")+(Bf(t,/flex-|baseline/)?"":jr+"grid-row-"+gn(t,/flex-|-self/g,""))+t;case 4675:return tr+t+jr+"flex-line-pack"+gn(t,/align-content|flex-|-self/g,"")+t;case 5548:return tr+t+jr+gn(t,"shrink","negative")+t;case 5292:return tr+t+jr+gn(t,"basis","preferred-size")+t;case 6060:return tr+"box-"+gn(t,"-grow","")+tr+t+jr+gn(t,"grow","positive")+t;case 4554:return tr+gn(t,/([^-])(transform)/g,"$1"+tr+"$2")+t;case 6187:return gn(gn(gn(t,/(zoom-|grab)/,tr+"$1"),/(image-set)/,tr+"$1"),t,"")+t;case 5495:case 3959:return gn(t,/(image-set\([^]*)/,tr+"$1$`$1");case 4968:return gn(gn(t,/(.+:)(flex-)?(.*)/,tr+"box-pack:$3"+jr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tr+t+t;case 4200:if(!Bf(t,/flex-|baseline/))return jr+"grid-column-align"+Fx(t,e)+t;break;case 2592:case 3360:return jr+gn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Bf(r.props,/grid-\w+-end/)})?~G9(t+(n=n[e].value),"span",0)?t:jr+gn(t,"-start","")+t+jr+"grid-row-span:"+(~G9(n,"span",0)?Bf(n,/\d+/):+Bf(n,/\d+/)-+Bf(t,/\d+/))+";":jr+gn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Bf(r.props,/grid-\w+-start/)})?t:jr+gn(gn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return gn(t,/(.+)-inline(.+)/,tr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wh(t)-1-e>6)switch(ws(t,e+1)){case 109:if(ws(t,e+4)!==45)break;case 102:return gn(t,/(.+:)(.+)-([^]+)/,"$1"+tr+"$2-$3$1"+o4+(ws(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~G9(t,"stretch",0)?kbe(gn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return gn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return jr+i+":"+s+c+(o?jr+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(ws(t,e+6)===121)return gn(t,":",":"+tr)+t;break;case 6444:switch(ws(t,ws(t,14)===45?18:11)){case 120:return gn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tr+(ws(t,14)===45?"inline-":"")+"box$3$1"+tr+"$2$3$1"+jr+"$2box$3")+t;case 100:return gn(t,":",":"+jr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return gn(t,"scroll-","scroll-snap-")+t}return t}function s7(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function kot(t,e,n,r){switch(t.type){case hot:if(t.children.length)break;case dot:case cq:return t.return=t.return||t.value;case bbe:return"";case vbe:return t.return=t.value+"{"+s7(t.children,r)+"}";case d$:if(!wh(t.value=t.props.join(",")))return""}return wh(n=s7(t.children,r))?t.return=t.value+"{"+n+"}":""}function Sot(t){var e=Abe(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function _ot(t){return function(e){e.root||(e=e.return)&&t(e)}}function Iot(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case cq:t.return=kbe(t.value,t.length,n);return;case vbe:return s7([q0(t,{value:gn(t.value,"@","@"+tr)})],r);case d$:if(t.length)return pot(n=t.props,function(i){switch(Bf(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ub(q0(t,{props:[gn(i,/:(read-\w+)/,":"+o4+"$1")]})),ub(q0(t,{props:[i]})),RL(t,{props:Pte(n,r)});break;case"::placeholder":ub(q0(t,{props:[gn(i,/:(plac\w+)/,":"+tr+"input-$1")]})),ub(q0(t,{props:[gn(i,/:(plac\w+)/,":"+o4+"$1")]})),ub(q0(t,{props:[gn(i,/:(plac\w+)/,jr+"input-$1")]})),ub(q0(t,{props:[i]})),RL(t,{props:Pte(n,r)});break}return""})}}var Tot={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},El={},zx=typeof process<"u"&&El!==void 0&&(El.REACT_APP_SC_ATTR||El.SC_ATTR)||"data-styled",Sbe="active",_be="data-styled-version",m$="6.1.19",dq=`/*!sc*/
`,o7=typeof window<"u"&&typeof document<"u",$ot=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&El!==void 0&&El.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&El.REACT_APP_SC_DISABLE_SPEEDY!==""?El.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&El.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&El!==void 0&&El.SC_DISABLE_SPEEDY!==void 0&&El.SC_DISABLE_SPEEDY!==""&&El.SC_DISABLE_SPEEDY!=="false"&&El.SC_DISABLE_SPEEDY),Not={},g$=Object.freeze([]),Wx=Object.freeze({});function Ibe(t,e,n){return n===void 0&&(n=Wx),t.theme!==n.theme&&t.theme||e||n.theme}var Tbe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Pot=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Rot=/(^-|-$)/g;function Ote(t){return t.replace(Pot,"-").replace(Rot,"")}var jot=/(a)(d)/gi,wk=52,Mte=function(t){return String.fromCharCode(t+(t>25?39:97))};function ML(t){var e,n="";for(e=Math.abs(t);e>wk;e=e/wk|0)n=Mte(e%wk)+n;return(Mte(e%wk)+n).replace(jot,"$1-$2")}var Aj,$be=5381,vv=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Nbe=function(t){return vv($be,t)};function hq(t){return ML(Nbe(t)>>>0)}function Oot(t){return t.displayName||t.name||"Component"}function Cj(t){return typeof t=="string"&&!0}var Pbe=typeof Symbol=="function"&&Symbol.for,Rbe=Pbe?Symbol.for("react.memo"):60115,Mot=Pbe?Symbol.for("react.forward_ref"):60112,Dot={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bot={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jbe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lot=((Aj={})[Mot]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Aj[Rbe]=jbe,Aj);function Dte(t){return("type"in(e=t)&&e.type.$$typeof)===Rbe?jbe:"$$typeof"in t?Lot[t.$$typeof]:Dot;var e}var Fot=Object.defineProperty,Uot=Object.getOwnPropertyNames,Bte=Object.getOwnPropertySymbols,zot=Object.getOwnPropertyDescriptor,Wot=Object.getPrototypeOf,Lte=Object.prototype;function Obe(t,e,n){if(typeof e!="string"){if(Lte){var r=Wot(e);r&&r!==Lte&&Obe(t,r,n)}var i=Uot(e);Bte&&(i=i.concat(Bte(e)));for(var s=Dte(t),o=Dte(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Bot||n&&n[l]||o&&l in o||s&&l in s)){var c=zot(e,l);try{Fot(t,l,c)}catch{}}}}return t}function Hx(t){return typeof t=="function"}function fq(t){return typeof t=="object"&&"styledComponentId"in t}function Py(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function a7(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function YE(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function DL(t,e,n){if(n===void 0&&(n=!1),!n&&!YE(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=DL(t[r],e[r]);else if(YE(e))for(var r in e)t[r]=DL(t[r],e[r]);return t}function pq(t,e){Object.defineProperty(t,"toString",{value:e})}function HA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Hot=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw HA(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(dq);return n},t}(),Q9=new Map,l7=new Map,Z9=1,bk=function(t){if(Q9.has(t))return Q9.get(t);for(;l7.has(Z9);)Z9++;var e=Z9++;return Q9.set(t,e),l7.set(e,t),e},Vot=function(t,e){Z9=e+1,Q9.set(t,e),l7.set(e,t)},qot="style[".concat(zx,"][").concat(_be,'="').concat(m$,'"]'),Got=new RegExp("^".concat(zx,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Kot=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Yot=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(dq),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Got);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Vot(u,c),Kot(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},Fte=function(t){for(var e=document.querySelectorAll(qot),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(zx)!==Sbe&&(Yot(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Qot(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Mbe=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(zx,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(zx,Sbe),r.setAttribute(_be,m$);var o=Qot();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Zot=function(){function t(e){this.element=Mbe(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw HA(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Jot=function(){function t(e){this.element=Mbe(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Xot=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Ute=o7,eat={isServer:!o7,useCSSOMInjection:!$ot},c7=function(){function t(e,n,r){e===void 0&&(e=Wx),n===void 0&&(n={});var i=this;this.options=No(No({},eat),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&o7&&Ute&&(Ute=!1,Fte(this)),pq(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(w){return l7.get(w)}(h);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(h);if(p===void 0||!p.size||m.length===0)return"continue";var g="".concat(zx,".g").concat(h,'[id="').concat(f,'"]'),y="";p!==void 0&&p.forEach(function(w){w.length>0&&(y+="".concat(w,","))}),l+="".concat(m).concat(g,'{content:"').concat(y,'"}').concat(dq)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return bk(e)},t.prototype.rehydrate=function(){!this.server&&o7&&Fte(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(No(No({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Xot(i):r?new Zot(i):new Jot(i)}(this.options),new Hot(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(bk(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(bk(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(bk(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),tat=/&/g,nat=/^\s*\/\/.*$/gm;function Dbe(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Dbe(n.children,e)),n})}function rat(t){var e,n,r,i=Wx,s=i.options,o=s===void 0?Wx:s,a=i.plugins,l=a===void 0?g$:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===d$&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(tat,n).replace(r,c))}),o.prefix&&u.push(Iot),u.push(kot);var h=function(f,p,m,g){p===void 0&&(p=""),m===void 0&&(m=""),g===void 0&&(g="&"),e=g,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(nat,""),w=Aot(m||p?"".concat(m," ").concat(p," { ").concat(y," }"):y);o.namespace&&(w=Dbe(w,o.namespace));var v=[];return s7(w,Sot(u.concat(_ot(function(b){return v.push(b)})))),v};return h.hash=l.length?l.reduce(function(f,p){return p.name||HA(15),vv(f,p.name)},$be).toString():"",h}var iat=new c7,BL=rat(),Bbe=Ae.createContext({shouldForwardProp:void 0,styleSheet:iat,stylis:BL});Bbe.Consumer;Ae.createContext(void 0);function LL(){return x.useContext(Bbe)}var Lbe=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=BL);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,pq(this,function(){throw HA(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=BL),this.name+e.hash},t}(),sat=function(t){return t>="A"&&t<="Z"};function zte(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;sat(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Fbe=function(t){return t==null||t===!1||t===""},Ube=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!Fbe(s)&&(Array.isArray(s)&&s.isCss||Hx(s)?r.push("".concat(zte(i),":"),s,";"):YE(s)?r.push.apply(r,Lx(Lx(["".concat(i," {")],Ube(s),!1),["}"],!1)):r.push("".concat(zte(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Tot||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function rg(t,e,n,r){if(Fbe(t))return[];if(fq(t))return[".".concat(t.styledComponentId)];if(Hx(t)){if(!Hx(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return rg(i,e,n,r)}var s;return t instanceof Lbe?n?(t.inject(n,r),[t.getName(r)]):[t]:YE(t)?Ube(t):Array.isArray(t)?Array.prototype.concat.apply(g$,t.map(function(o){return rg(o,e,n,r)})):[t.toString()]}function zbe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Hx(n)&&!fq(n))return!1}return!0}var oat=Nbe(m$),aat=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&zbe(e),this.componentId=n,this.baseHash=vv(oat,n),this.baseStyle=r,c7.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Py(i,this.staticRulesId);else{var s=a7(rg(this.rules,e,n,r)),o=ML(vv(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Py(i,o),this.staticRulesId=o}else{for(var l=vv(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=a7(rg(h,e,n,r));l=vv(l,f+u),c+=f}}if(c){var p=ML(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Py(i,p)}}return i},t}(),mq=Ae.createContext(void 0);mq.Consumer;var kj={};function lat(t,e,n){var r=fq(t),i=t,s=!Cj(t),o=e.attrs,a=o===void 0?g$:o,l=e.componentId,c=l===void 0?function(A,E){var $=typeof A!="string"?"sc":Ote(A);kj[$]=(kj[$]||0)+1;var N="".concat($,"-").concat(hq(m$+$+kj[$]));return E?"".concat(E,"-").concat(N):N}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(A){return Cj(A)?"styled.".concat(A):"Styled(".concat(Oot(A),")")}(t):u,f=e.displayName&&e.componentId?"".concat(Ote(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;m=function(A,E){return g(A,E)&&y(A,E)}}else m=g}var w=new aat(n,f,r?i.componentStyle:void 0);function v(A,E){return function($,N,R){var M=$.attrs,F=$.componentStyle,W=$.defaultProps,V=$.foldedComponentIds,B=$.styledComponentId,k=$.target,C=Ae.useContext(mq),S=LL(),T=$.shouldForwardProp||S.shouldForwardProp,_=Ibe(N,C,W)||Wx,P=function(O,G,Z){for(var Q,ie=No(No({},G),{className:void 0,theme:Z}),de=0;de<O.length;de+=1){var oe=Hx(Q=O[de])?Q(ie):Q;for(var he in oe)ie[he]=he==="className"?Py(ie[he],oe[he]):he==="style"?No(No({},ie[he]),oe[he]):oe[he]}return G.className&&(ie.className=Py(ie.className,G.className)),ie}(M,N,_),D=P.as||k,j={};for(var I in P)P[I]===void 0||I[0]==="$"||I==="as"||I==="theme"&&P.theme===_||(I==="forwardedAs"?j.as=P.forwardedAs:T&&!T(I,D)||(j[I]=P[I]));var L=function(O,G){var Z=LL(),Q=O.generateAndInjectStyles(G,Z.styleSheet,Z.stylis);return Q}(F,P),J=Py(V,B);return L&&(J+=" "+L),P.className&&(J+=" "+P.className),j[Cj(D)&&!Tbe.has(D)?"class":"className"]=J,R&&(j.ref=R),x.createElement(D,j)}(b,A,E)}v.displayName=h;var b=Ae.forwardRef(v);return b.attrs=p,b.componentStyle=w,b.displayName=h,b.shouldForwardProp=m,b.foldedComponentIds=r?Py(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=f,b.target=r?i.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(E){for(var $=[],N=1;N<arguments.length;N++)$[N-1]=arguments[N];for(var R=0,M=$;R<M.length;R++)DL(E,M[R],!0);return E}({},i.defaultProps,A):A}}),pq(b,function(){return".".concat(b.styledComponentId)}),s&&Obe(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Wte(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Hte=function(t){return Object.assign(t,{isCss:!0})};function ls(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hx(t)||YE(t))return Hte(rg(Wte(g$,Lx([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?rg(r):Hte(rg(Wte(r,e)))}function FL(t,e,n){if(n===void 0&&(n=Wx),!e)throw HA(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,ls.apply(void 0,Lx([i],s,!1)))};return r.attrs=function(i){return FL(t,e,No(No({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return FL(t,e,No(No({},n),i))},r}var Wbe=function(t){return FL(lat,t)},X=Wbe;Tbe.forEach(function(t){X[t]=Wbe(t)});var cat=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=zbe(e),c7.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(a7(rg(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&c7.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function uat(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ls.apply(void 0,Lx([t],e,!1)),i="sc-global-".concat(hq(JSON.stringify(r))),s=new cat(r,i),o=function(l){var c=LL(),u=Ae.useContext(mq),h=Ae.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,u,c.stylis),Ae.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,h,f){if(s.isStatic)s.renderStyles(l,Not,u,f);else{var p=No(No({},c),{theme:Ibe(c,h,o.defaultProps)});s.renderStyles(l,p,u,f)}}return Ae.memo(o)}function Hbe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=a7(ls.apply(void 0,Lx([t],e,!1))),i=hq(r);return new Lbe(i,r)}const Ie=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Vbe=x.createContext({setAuthenticated:Ie,setUser:Ie,setIsNewUser:Ie,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Ie,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Ie,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Ie,initializeWalletProxy:Ie,getAuthMeta:Ie,getAuthFlow:Ie,closePrivyModal:Ie,openPrivyModal:Ie,connectWallet:Ie,initLoginWithWallet:Ie,loginWithWallet:Ie,initLoginWithFarcaster:Ie,loginWithFarcaster:Ie,loginWithCode:Ie,initLoginWithEmail:Ie,initLoginWithSms:Ie,initUpdateEmail:Ie,initUpdatePhone:Ie,resendEmailCode:Ie,resendSmsCode:Ie,initLoginWithHeadlessOAuth:Ie,loginWithHeadlessOAuth:Ie,crossAppAuthFlow:Ie,initLoginWithOAuth:Ie,loginWithOAuth:Ie,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Ie,initSignupWithPasskey:Ie,signupWithPasskey:Ie,initLoginWithPasskey:Ie,loginWithPasskey:Ie,initLinkWithPasskey:Ie,linkWithPasskey:Ie,refreshSessionAndUser:Ie,walletProxy:null,createAnalyticsEvent:Ie,acceptTerms:Ie,getUsdTokenPrice:Ie,getUsdPriceForSol:Ie,getSplTokenMetadata:Ie,recoverEmbeddedWallet:Ie,updateWallets:Ie,fundWallet:Ie,openModal:Ie,setReadyToTrue:Ie,requestFarcasterSignerStatus:Ie,initLoginWithTelegram:Ie,loginWithTelegram:Ie,generateSiweMessage:Ie,generateSiweMessageForSmartWallet:Ie,loginWithSiwe:Ie,linkWithSiwe:Ie,linkSmartWallet:Ie,delegateWallet:Ie,revokeDelegatedWallets:Ie,connectCoinbaseSmartWallet:Ie,connectBaseAccount:Ie,initiateAccountTransfer:Ie,emailOtpState:{status:"initial"},setEmailOtpState:Ie,smsOtpState:{status:"initial"},setSmsOtpState:Ie,siweState:{status:"initial"},setSiweState:Ie,oAuthState:{status:"initial"},setOAuthState:Ie,telegramAuthState:{status:"initial"},setTelegramAuthState:Ie,isHeadlessOAuthLoading:!1,isHeadlessSigning:Ie,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Ie}),st=()=>x.useContext(Vbe);function dat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const hat=x.forwardRef(dat);function fat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const pat=x.forwardRef(fat);function mat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const gq=x.forwardRef(mat);function gat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const yq=x.forwardRef(gat);function yat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const y$=x.forwardRef(yat);function wat({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const qbe=x.forwardRef(wat),Gbe=typeof document<"u"?Ae.useLayoutEffect:()=>{};var Sj;const bat=(Sj=Ae.useInsertionEffect)!==null&&Sj!==void 0?Sj:Gbe;function vat(t){const e=x.useRef(null);return bat(()=>{e.current=t},[t]),x.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Pg=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Ry=t=>t&&"window"in t&&t.window===t?t:Pg(t).defaultView||window;function xat(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function Eat(t){return xat(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let Aat=!1;function wq(){return Aat}function Kbe(t,e){if(!wq())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Eat(n)?n=n.host:n=n.parentNode}return!1}const UL=(t=document)=>{var e;if(!wq())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Ybe(t){return wq()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function Cat(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function kat(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Qbe(t){let e=null;return()=>(e==null&&(e=t()),e)}const Sat=Qbe(function(){return kat(/^Mac/i)}),_at=Qbe(function(){return Cat(/Android/i)});function Zbe(){let t=x.useRef(new Map),e=x.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=x.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),r=x.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return x.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function Iat(t){return t.pointerType===""&&t.isTrusted?!0:_at()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Jbe(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function Tat(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Xbe(t){let e=x.useRef({isFocused:!1,observer:null});Gbe(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=vat(r=>{t==null||t(r)});return x.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=Jbe(o);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let $at=!1,VA=null,zL=new Set,a4=new Map,tw=!1,WL=!1;const Nat={Tab:!0,Escape:!0};function bq(t,e){for(let n of zL)n(t,e)}function Pat(t){return!(t.metaKey||!Sat()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function u7(t){tw=!0,Pat(t)&&(VA="keyboard",bq("keyboard",t))}function Xv(t){VA="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(tw=!0,bq("pointer",t))}function eve(t){Iat(t)&&(tw=!0,VA="virtual")}function tve(t){t.target===window||t.target===document||$at||!t.isTrusted||(!tw&&!WL&&(VA="virtual",bq("virtual",t)),tw=!1,WL=!1)}function nve(){tw=!1,WL=!0}function HL(t){if(typeof window>"u"||typeof document>"u"||a4.get(Ry(t)))return;const e=Ry(t),n=Pg(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){tw=!0,r.apply(this,arguments)},n.addEventListener("keydown",u7,!0),n.addEventListener("keyup",u7,!0),n.addEventListener("click",eve,!0),e.addEventListener("focus",tve,!0),e.addEventListener("blur",nve,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Xv,!0),n.addEventListener("pointermove",Xv,!0),n.addEventListener("pointerup",Xv,!0)),e.addEventListener("beforeunload",()=>{rve(t)},{once:!0}),a4.set(e,{focus:r})}const rve=(t,e)=>{const n=Ry(t),r=Pg(t);e&&r.removeEventListener("DOMContentLoaded",e),a4.has(n)&&(n.HTMLElement.prototype.focus=a4.get(n).focus,r.removeEventListener("keydown",u7,!0),r.removeEventListener("keyup",u7,!0),r.removeEventListener("click",eve,!0),n.removeEventListener("focus",tve,!0),n.removeEventListener("blur",nve,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Xv,!0),r.removeEventListener("pointermove",Xv,!0),r.removeEventListener("pointerup",Xv,!0)),a4.delete(n))};function Rat(t){const e=Pg(t);let n;return e.readyState!=="loading"?HL(t):(n=()=>{HL(t)},e.addEventListener("DOMContentLoaded",n)),()=>rve(t,n)}typeof document<"u"&&Rat();function ive(){return VA!=="pointer"}const jat=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Oat(t,e,n){let r=Pg(n==null?void 0:n.target);const i=typeof window<"u"?Ry(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Ry(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Ry(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Ry(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!jat.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!Nat[n.key])}function Mat(t,e,n){HL(),x.useEffect(()=>{let r=(i,s)=>{Oat(!!(n!=null&&n.isTextInput),i,s)&&t(ive())};return zL.add(r),()=>{zL.delete(r)}},e)}function Dat(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=x.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=Xbe(s),a=x.useCallback(l=>{const c=Pg(l.target),u=c?UL(c):UL();l.target===l.currentTarget&&u===Ybe(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function Bat(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Zbe(),l=x.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(h),i&&i(!1))},[n,i,s,a]),c=Xbe(l),u=x.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=Pg(h.target),p=UL(f);if(!s.current.isFocusWithin&&p===Ybe(h.nativeEvent)){r&&r(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let m=h.currentTarget;o(f,"focus",g=>{if(s.current.isFocusWithin&&!Kbe(m,g.target)){let y=new f.defaultView.FocusEvent("blur",{relatedTarget:g.target});Tat(y,m);let w=Jbe(y);l(w)}},{capture:!0})}},[r,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let VL=!1,vk=0;function Lat(){VL=!0,setTimeout(()=>{VL=!1},50)}function Vte(t){t.pointerType==="touch"&&Lat()}function Fat(){if(!(typeof document>"u"))return vk===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Vte),vk++,()=>{vk--,!(vk>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Vte)}}function Uat(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=x.useState(!1),a=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(Fat,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=Zbe(),{hoverProps:u,triggerHoverEnd:h}=x.useMemo(()=>{let f=(g,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let w=g.currentTarget;a.target=w,l(Pg(g.target),"pointerover",v=>{a.isHovered&&a.target&&!Kbe(a.target,v.target)&&p(v,v.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:w,pointerType:y}),n&&n(!0),o(!0)},p=(g,y)=>{let w=a.target;a.pointerType="",a.target=null,!(y==="touch"||!a.isHovered||!w)&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:w,pointerType:y}),n&&n(!1),o(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=g=>{VL&&g.pointerType==="mouse"||f(g,g.pointerType)},m.onPointerLeave=g=>{!i&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[e,n,r,i,a,l,c]);return x.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function zat(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||ive()}),[s,o]=x.useState(!1),[a,l]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=x.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=x.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);Mat(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:h}=Dat({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=Bat({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?f:h}}var Wat=Object.defineProperty,Hat=(t,e,n)=>e in t?Wat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_j=(t,e,n)=>(Hat(t,typeof e!="symbol"?e+"":e,n),n);let Vat=class{constructor(){_j(this,"current",this.detect()),_j(this,"handoffState","pending"),_j(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zh=new Vat;function jw(t){var e;return zh.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function d7(t){var e,n;return zh.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function vq(t){var e,n;return(n=(e=d7(t))==null?void 0:e.activeElement)!=null?n:null}function sve(t){return vq(t)===t}function w$(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function cl(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return w$(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=cl();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Ow(){let[t]=x.useState(cl);return x.useEffect(()=>()=>t.dispose(),[t]),t}let zr=(t,e)=>{zh.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function Mw(t){let e=x.useRef(t);return zr(()=>{e.current=t},[t]),e}let Wt=function(t){let e=Mw(t);return Ae.useCallback((...n)=>e.current(...n),[e])};function qat(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Gat(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Kat({disabled:t=!1}={}){let e=x.useRef(null),[n,r]=x.useState(!1),i=Ow(),s=Wt(()=>{e.current=null,r(!1),i.dispose()}),o=Wt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=jw(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=qat(c);r(Gat(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function uf(t){return x.useMemo(()=>t,Object.values(t))}let Yat=x.createContext(void 0);function ove(){return x.useContext(Yat)}function qL(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ad(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ad),r}var Vx=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Vx||{}),Um=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Um||{});function Yi(){let t=Zat();return x.useCallback(e=>Qat({mergeRefs:t,...e}),[t])}function Qat({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??Jat;let l=ave(e,t);if(s)return xk(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return xk(h,n,r,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return Ad(u?0:1,{0(){return null},1(){return xk({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return xk(l,n,r,o,a)}function xk(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Ij(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[m,g]of Object.entries(e))typeof g=="boolean"&&(f=!0),g===!0&&p.push(m.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let m of p)h[`data-${m}`]=""}}if(l4(s)&&(Object.keys(iy(l)).length>0||Object.keys(iy(h)).length>0))if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1||elt(u)){if(Object.keys(iy(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(iy(l)).concat(Object.keys(iy(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,m=typeof p=="function"?(...w)=>qL(p(...w),l.className):qL(p,l.className),g=m?{className:m}:{},y=ave(u.props,iy(Ij(l,["ref"])));for(let w in h)w in y&&delete h[w];return x.cloneElement(u,Object.assign({},y,h,c,{ref:i(Xat(u),c.ref)},g))}return x.createElement(s,Object.assign({},Ij(l,["ref"]),!l4(s)&&c,!l4(s)&&h),u)}function Zat(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Jat(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ave(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function lve(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function bi(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function iy(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Ij(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Xat(t){return Ae.version.split(".")[0]>="19"?t.props.ref:t.ref}function l4(t){return t===x.Fragment||t===Symbol.for("react.fragment")}function elt(t){return l4(t.type)}let tlt="span";var h7=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(h7||{});function nlt(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Yi()({ourProps:s,theirProps:i,slot:{},defaultTag:tlt,name:"Hidden"})}let GL=bi(nlt),rlt=x.createContext(void 0);function ilt(){return x.useContext(rlt)}function cve(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Sp(t){return cve(t)&&"tagName"in t}function ec(t){return Sp(t)&&"accessKey"in t}function Ih(t){return Sp(t)&&"tabIndex"in t}function slt(t){return Sp(t)&&"style"in t}function olt(t){return ec(t)&&t.nodeName==="IFRAME"}function uve(t){return ec(t)&&t.nodeName==="INPUT"}function qte(t){return ec(t)&&t.nodeName==="LABEL"}function alt(t){return ec(t)&&t.nodeName==="FIELDSET"}function dve(t){return ec(t)&&t.nodeName==="LEGEND"}function llt(t){return Sp(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Gte(t){let e=t.parentElement,n=null;for(;e&&!alt(e);)dve(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&clt(n)?!1:r}function clt(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(dve(e))return!1;e=e.previousElementSibling}return!0}let hve=Symbol();function ult(t,e=!0){return Object.assign(t,{[hve]:e})}function ba(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=Wt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[hve]))?void 0:n}let xq=x.createContext(null);xq.displayName="DescriptionContext";function fve(){let t=x.useContext(xq);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,fve),e}return t}function pve(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=Wt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ae.createElement(xq.Provider,{value:i},n.children)},[e])]}let dlt="p";function hlt(t,e){let n=x.useId(),r=ove(),{id:i=`headlessui-description-${n}`,...s}=t,o=fve(),a=ba(e);zr(()=>o.register(i),[i,o.register]);let l=uf({...o.slot,disabled:r||!1}),c={ref:a,...o.props,id:i};return Yi()({ourProps:c,theirProps:s,slot:l,defaultTag:dlt,name:o.name||"Description"})}let flt=bi(hlt),plt=Object.assign(flt,{});var ms=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ms||{});let b$=x.createContext(null);b$.displayName="LabelContext";function Eq(){let t=x.useContext(b$);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Eq),e}return t}function mlt(t){var e,n,r;let i=(n=(e=x.useContext(b$))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function mve({inherit:t=!1}={}){let e=mlt(),[n,r]=x.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,x.useMemo(()=>function(s){let o=Wt(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=x.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Ae.createElement(b$.Provider,{value:a},s.children)},[r])]}let glt="label";function ylt(t,e){var n;let r=x.useId(),i=Eq(),s=ilt(),o=ove(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=t,h=ba(e);zr(()=>i.register(a),[a,i.register]);let f=Wt(g=>{let y=g.currentTarget;if(!(g.target!==g.currentTarget&&llt(g.target))&&(qte(y)&&g.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(g),qte(y))){let w=document.getElementById(y.htmlFor);if(w){let v=w.getAttribute("disabled");if(v==="true"||v==="")return;let b=w.getAttribute("aria-disabled");if(b==="true"||b==="")return;(uve(w)&&(w.type==="file"||w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),p=uf({...i.slot,disabled:o||!1}),m={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in u&&delete u.onClick),Yi()({ourProps:m,theirProps:u,slot:p,defaultTag:l?glt:"div",name:i.name||"Label"})}let wlt=bi(ylt);Object.assign(wlt,{});let blt=x.createContext(()=>{});function vlt({value:t,children:e}){return Ae.createElement(blt.Provider,{value:t},e)}function db(t,e,n){let r=n.initialDeps??[],i;function s(){var o,a,l,c;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const h=t();if(!(h.length!==r.length||h.some((m,g)=>r[g]!==m)))return i;r=h;let p;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(p=Date.now()),i=e(...h),n.key&&((l=n.debug)!=null&&l.call(n))){const m=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-p)*100)/100,y=g/16,w=(v,b)=>{for(v=String(v);v.length<b;)v=" "+v;return v};console.info(`%c ${w(g,5)} /${w(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,i),i}return s.updateDeps=o=>{r=o},s}function Kte(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const xlt=(t,e)=>Math.abs(t-e)<1.01,Elt=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},Yte=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Alt=t=>t,Clt=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},klt=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(Yte(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(Yte(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},Qte={passive:!0},Zte=typeof window>"u"?!0:"onscrollend"in window,Slt=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&Zte?()=>{}:Elt(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);l(),n.addEventListener("scroll",a,Qte);const c=t.options.useScrollendEvent&&Zte;return c&&n.addEventListener("scrollend",l,Qte),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},_lt=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Ilt=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Tlt{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Alt,rangeExtractor:Clt,onChange:()=>{},measureElement:_lt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=db(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=db(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=db(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const h=s(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:r+i,m=a.get(h),g=typeof m=="number"?m:this.options.estimateSize(u),y=p+g,w=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:g,end:y,key:h,lane:w}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=db(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?$lt({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=db(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=db(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Kte(r[gve(0,r.length-1,i=>Kte(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const o=10,a=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,c);if(!u){console.warn("Failed to get offset for index:",n);return}const[h,f]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}xlt(m[0],p)||l(f)})},l=c=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(c)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(a=>a===null);){const a=r[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const gve=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function $lt({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=gve(0,i,s,n),a=o;if(r===1)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(u=>u<n+e);){const u=t[a];l[u.lane]=u.end,a++}const c=Array(r).fill(n+e);for(;o>=0&&c.some(u=>u>=n);){const u=t[o];c[u.lane]=u.start,o--}o=Math.max(0,o-o%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const Jte=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Nlt(t){const e=x.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var o;s?Kl.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[r]=x.useState(()=>new Tlt(n));return r.setOptions(n),Jte(()=>r._didMount(),[]),Jte(()=>r._willUpdate()),r}function Plt(t){return Nlt({observeElementRect:klt,observeElementOffset:Slt,scrollToFn:Ilt,...t})}function Xte(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function Rlt(t,e,n=!1){let[r,i]=x.useState(()=>Xte(e));return zr(()=>{if(!e||!t)return;let s=cl();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=Xte(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var yve=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(yve||{});function jlt(t){let e=x.useRef(null),n=Wt(i=>{e.current=i.pointerType,!Gte(i.currentTarget)&&i.pointerType==="mouse"&&i.button===yve.Left&&(i.preventDefault(),t(i))}),r=Wt(i=>{e.current!=="mouse"&&(Gte(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let wve=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Olt=Object.defineProperty,Mlt=(t,e,n)=>e in t?Olt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dlt=(t,e,n)=>(Mlt(t,e+"",n),n),bve=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},mc=(t,e,n)=>(bve(t,e,"read from private field"),n?n.call(t):e.get(t)),Tj=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ene=(t,e,n,r)=>(bve(t,e,"write to private field"),e.set(t,n),n),Jd,k6,S6;let vve=class{constructor(e){Tj(this,Jd,{}),Tj(this,k6,new wve(()=>new Set)),Tj(this,S6,new Set),Dlt(this,"disposables",cl()),ene(this,Jd,e),zh.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return mc(this,Jd)}subscribe(e,n){if(zh.isServer)return()=>{};let r={selector:e,callback:n,current:e(mc(this,Jd))};return mc(this,S6).add(r),this.disposables.add(()=>{mc(this,S6).delete(r)})}on(e,n){return zh.isServer?()=>{}:(mc(this,k6).get(e).add(n),this.disposables.add(()=>{mc(this,k6).get(e).delete(n)}))}send(e){let n=this.reduce(mc(this,Jd),e);if(n!==mc(this,Jd)){ene(this,Jd,n);for(let r of mc(this,S6)){let i=r.selector(mc(this,Jd));xve(r.current,i)||(r.current=i,r.callback(i))}for(let r of mc(this,k6).get(e.type))r(mc(this,Jd),e)}}};Jd=new WeakMap,k6=new WeakMap,S6=new WeakMap;function xve(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:$j(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:$j(t.entries(),e.entries()):tne(t)&&tne(e)?$j(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function $j(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function tne(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function nne(t){let[e,n]=t(),r=cl();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Blt=Object.defineProperty,Llt=(t,e,n)=>e in t?Blt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rne=(t,e,n)=>(Llt(t,typeof e!="symbol"?e+"":e,n),n),Eve=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Eve||{});let Flt={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},Ult=class Ave extends vve{constructor(){super(...arguments),rne(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),rne(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new Ave({stack:[]})}reduce(e,n){return Ad(n.type,Flt,e,n)}};const v$=new wve(()=>Ult.new());var Cve={exports:{}},kve={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=x;function zlt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wlt=typeof Object.is=="function"?Object.is:zlt,Hlt=qA.useSyncExternalStore,Vlt=qA.useRef,qlt=qA.useEffect,Glt=qA.useMemo,Klt=qA.useDebugValue;kve.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Vlt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Glt(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,Wlt(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,h=g)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Hlt(t,s[0],s[1]);return qlt(function(){o.hasValue=!0,o.value=a},[a]),Klt(a),a};Cve.exports=kve;var Ylt=Cve.exports;function zc(t,e,n=xve){return Ylt.useSyncExternalStoreWithSelector(Wt(r=>t.subscribe(Qlt,r)),Wt(()=>t.state),Wt(()=>t.state),Wt(e),n)}function Qlt(t){return t}function GA(t,e){let n=x.useId(),r=v$.get(e),[i,s]=zc(r,x.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return zr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let KL=new Map,c4=new Map;function ine(t){var e;let n=(e=c4.get(t))!=null?e:0;return c4.set(t,n+1),n!==0?()=>sne(t):(KL.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>sne(t))}function sne(t){var e;let n=(e=c4.get(t))!=null?e:1;if(n===1?c4.delete(t):c4.set(t,n-1),n!==1)return;let r=KL.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,KL.delete(t))}function Sve(t,{allowed:e,disallowed:n}={}){let r=GA(t,"inert-others");zr(()=>{var i,s;if(!r)return;let o=cl();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(ine(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=jw(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)a.some(f=>h.contains(f))||o.add(ine(h));u=u.parentElement}}return o.dispose},[r,e,n])}function _ve(t,e,n){let r=Mw(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});x.useEffect(()=>{if(!t)return;let i=e===null?null:ec(e)?e:e.current;if(!i)return;let s=cl();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let f7=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Zlt=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ed=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ed||{}),YL=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(YL||{}),Jlt=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Jlt||{});function Ive(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(f7)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Xlt(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Zlt)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Aq=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Aq||{});function Cq(t,e=0){var n;return t===((n=jw(t))==null?void 0:n.body)?!1:Ad(e,{0(){return t.matches(f7)},1(){let r=t;for(;r!==null;){if(r.matches(f7))return!0;r=r.parentElement}return!1}})}function Tve(t){cl().nextFrame(()=>{let e=vq(t);e&&Ih(e)&&!Cq(e,0)&&Wh(t)})}var ect=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(ect||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Wh(t){t==null||t.focus({preventScroll:!0})}let tct=["textarea","input"].join(",");function nct(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,tct))!=null?n:!1}function $ve(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rct(t,e,n=t===null?document.body:d7(t)){return e2(Ive(n),e,{relativeTo:t})}function e2(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?d7(t[0]):document:d7(t),o=Array.isArray(t)?n?$ve(t):t:e&64?Xlt(t):Ive(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==vq(f));return e&6&&nct(f)&&f.select(),2}function Nve(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ict(){return/Android/gi.test(window.navigator.userAgent)}function one(){return Nve()||ict()}function xv(t,e,n,r){let i=Mw(n);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function Pve(t,e,n,r){let i=Mw(n);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const ane=30;function Rve(t,e,n){let r=Mw(n),i=x.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of u)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!Cq(c,Aq.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,e]),s=x.useRef(null);xv(t,"pointerdown",a=>{var l,c;one()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),xv(t,"pointerup",a=>{if(one()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=x.useRef({x:0,y:0});xv(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),xv(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=ane||Math.abs(l.y-o.current.y)>=ane))return i(a,()=>Ih(a.target)?a.target:null)},!0),Pve(t,"blur",a=>i(a,()=>olt(window.document.activeElement)?window.document.activeElement:null),!0)}function QE(...t){return x.useMemo(()=>jw(...t),[...t])}var sct=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(sct||{});const Ek={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},oct=200,lne=5;function act(t,{trigger:e,action:n,close:r,select:i}){let s=x.useRef(null),o=x.useRef(null),a=x.useRef(null);xv(t&&e!==null,"pointerdown",l=>{cve(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),xv(t&&e!==null,"pointerup",l=>{var c,u;let h=s.current;if(h===null||(s.current=null,!Ih(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<lne&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<lne)return;let f=n(l);switch(f.kind){case 0:return;case 1:{l.timeStamp-h>oct&&(i(f.target),r());break}case 2:{r();break}}},{capture:!0})}function jve(t,e,n,r){let i=Mw(n);x.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function lct(t,e){return x.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function cct(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function uct(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function dct(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function hct(){return Nve()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=cl();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Ih(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Ih(u)&&!r(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",l=>{if(a.dispose(),Ih(l.target)&&slt(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;a.style(c,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Ih(a.target)){if(uve(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function fct(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function cne(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let jy=uct(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:cl(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=cne(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=cne(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[hct(),dct(),fct()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});jy.subscribe(()=>{let t=jy.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&jy.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&jy.dispatch("TEARDOWN",n)}});function pct(t,e,n=()=>({containers:[]})){let r=cct(jy),i=e?r.get(e):void 0,s=i?i.count>0:!1;return zr(()=>{if(!(!e||!t))return jy.dispatch("PUSH",e,n),()=>jy.dispatch("POP",e,n)},[t,e]),s}function Ove(t,e,n=()=>[document.body]){let r=GA(t,"scroll-lock");pct(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function une(t){return[t.screenX,t.screenY]}function mct(){let t=x.useRef([-1,-1]);return{wasMoved(e){let n=une(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=une(e)}}}function gct(t=0){let[e,n]=x.useState(t),r=x.useCallback(l=>n(l),[]),i=x.useCallback(l=>n(c=>c|l),[]),s=x.useCallback(l=>(e&l)===l,[e]),o=x.useCallback(l=>n(c=>c&~l),[]),a=x.useCallback(l=>n(c=>c^l),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var yct={},dne,hne;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((dne=process==null?void 0:yct)==null?void 0:dne.NODE_ENV)==="test"&&typeof((hne=Element==null?void 0:Element.prototype)==null?void 0:hne.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var wct=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(wct||{});function Mve(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Dve(t,e,n,r){let[i,s]=x.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=gct(t&&i?3:0),c=x.useRef(!1),u=x.useRef(!1),h=Ow();return zr(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),bct(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){u.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;u.current&&Ect(e)||(c.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function bct(t,{prepare:e,run:n,done:r,inFlight:i}){let s=cl();return xct(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(vct(t,r))})}),s.dispose}function vct(t,e){var n,r;let i=cl();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function xct(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Ect(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Act(t,{container:e,accept:n,walk:r}){let i=x.useRef(n),s=x.useRef(r);x.useEffect(()=>{i.current=n,s.current=r},[n,r]),zr(()=>{if(!e||!t)return;let o=jw(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function kq(t,e){let n=x.useRef([]),r=Wt(t);x.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function Cct(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Bve={...$4},kct=Bve.useInsertionEffect,Sct=kct||(t=>t());function Lve(t){const e=x.useRef(()=>{});return Sct(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var QL=typeof document<"u"?x.useLayoutEffect:x.useEffect;let fne=!1,_ct=0;const pne=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_ct++;function Ict(){const[t,e]=x.useState(()=>fne?pne():void 0);return QL(()=>{t==null&&e(pne())},[]),x.useEffect(()=>{fne=!0},[]),t}const Tct=Bve.useId,$ct=Tct||Ict;function Nct(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const Pct=x.createContext(null),Rct=x.createContext(null),jct=()=>{var t;return((t=x.useContext(Pct))==null?void 0:t.id)||null},Oct=()=>x.useContext(Rct),Mct="data-floating-ui-focusable";function Dct(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=$ct(),s=x.useRef({}),[o]=x.useState(()=>Nct()),a=jct()!=null,[l,c]=x.useState(r.reference),u=Lve((p,m,g)=>{s.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:g,nested:a}),n==null||n(p,m,g)}),h=x.useMemo(()=>({setPositionReference:c}),[]),f=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function Bct(t){t===void 0&&(t={});const{nodeId:e}=t,n=Dct({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=x.useState(null),[a,l]=x.useState(null),u=(i==null?void 0:i.domReference)||s,h=x.useRef(null),f=Oct();QL(()=>{u&&(h.current=u)},[u]);const p=afe({...t,elements:{...i,...a&&{reference:a}}}),m=x.useCallback(b=>{const A=ta(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(A),p.refs.setReference(A)},[p.refs]),g=x.useCallback(b=>{(ta(b)||b===null)&&(h.current=b,o(b)),(ta(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!ta(b))&&p.refs.setReference(b)},[p.refs]),y=x.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:h}),[p.refs,g,m]),w=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),v=x.useMemo(()=>({...p,...r,refs:y,elements:w,nodeId:e}),[p,y,w,e,r]);return QL(()=>{r.dataRef.current.floatingContext=v;const b=f==null?void 0:f.nodesRef.current.find(A=>A.id===e);b&&(b.context=v)}),x.useMemo(()=>({...p,context:v,refs:y,elements:w}),[p,y,w,v])}const mne="active",gne="selected";function Nj(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[mne]:o,[gne]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[Mct]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[mne,gne].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var h;(h=r.get(c))==null||h.push(u),o[c]=function(){for(var f,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return(f=r.get(c))==null?void 0:f.map(y=>y(...m)).find(y=>y!==void 0)}}}else o[c]=u}),o),{})}}function Lct(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=x.useCallback(a=>Nj(a,t,"reference"),e),s=x.useCallback(a=>Nj(a,t,"floating"),n),o=x.useCallback(a=>Nj(a,t,"item"),r);return x.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function yne(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Fct=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Yh(t,e),{rects:h,elements:{floating:f}}=e,p=n.current[o],m=(c==null?void 0:c.current)||f,g=f.clientTop||m.clientTop,y=f.clientTop!==0,w=m.clientTop!==0,v=f===m;if(!p)return{};const b={...e,...await nH(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},A=await tR(yne(b,m.scrollHeight+g+f.clientTop),u),E=await tR(b,{...u,elementContext:"reference"}),$=So(0,A.top),N=b.y+$,F=(m.scrollHeight>m.clientHeight?W=>W:K4)(So(0,m.scrollHeight+(y&&v||w?g*2:0)-$-So(0,A.bottom)));if(m.style.maxHeight=F+"px",m.scrollTop=$,i){const W=m.offsetHeight<p.offsetHeight*Mp(a,n.current.length)-1||E.top>=-l||E.bottom>=-l;Kl.flushSync(()=>i(W))}return r&&(r.current=await tR(yne({...b,y:N},m.offsetHeight+g+f.clientTop),u)),{y:N}}});function Uct(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=Lve(a),c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null);x.useEffect(()=>{if(!i)return;function p(g){if(g.ctrlKey||!m||s.current==null)return;const y=g.deltaY,w=s.current.top>=-.5,v=s.current.bottom>=-.5,b=m.scrollHeight-m.clientHeight,A=y<0?-1:1,E=y<0?"max":"min";m.scrollHeight<=m.clientHeight||(!w&&y>0||!v&&y<0?(g.preventDefault(),Kl.flushSync(()=>{l($=>$+Math[E](y,b*A))})):/firefox/i.test(Cct())&&(m.scrollTop+=y))}const m=(o==null?void 0:o.current)||r.floating;if(n&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=m.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,m.removeEventListener("wheel",p)}},[i,n,r.floating,s,o,l]);const f=x.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const m=p.scrollTop-u.current;(s.current.bottom<-.5&&m<-1||s.current.top<-.5&&m>1)&&Kl.flushSync(()=>l(g=>g+m))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,s,o]);return x.useMemo(()=>i?{floating:f}:{},[i,f])}let V3=x.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});V3.displayName="FloatingContext";let Sq=x.createContext(null);Sq.displayName="PlacementContext";function zct(t){return x.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Wct(){return x.useContext(V3).setReference}function Hct(){return x.useContext(V3).getReferenceProps}function Vct(){let{getFloatingProps:t,slot:e}=x.useContext(V3);return x.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function qct(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=x.useContext(Sq),n=x.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);zr(()=>{e==null||e(n??null)},[e,n]);let r=x.useContext(V3);return x.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let wne=4;function Gct({children:t,enabled:e=!0}){let[n,r]=x.useState(null),[i,s]=x.useState(0),o=x.useRef(null),[a,l]=x.useState(null);Kct(a);let c=e&&n!==null&&a!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:m}=Yct(n,a),[g,y="center"]=u.split(" ");zr(()=>{c&&s(0)},[c]);let{refs:w,floatingStyles:v,context:b}=Bct({open:c,placement:g==="selection"?y==="center"?"bottom":`bottom-${y}`:y==="center"?`${g}`:`${g}-${y}`,strategy:"absolute",transform:!1,middleware:[nH({mainAxis:g==="selection"?0:h,crossAxis:f}),lfe({padding:p}),g!=="selection"&&cfe({padding:p}),g==="selection"&&m?Fct({...m,padding:p,overflowRef:o,offset:i,minItemsVisible:wne,referenceOverflowThreshold:p,onFallbackChange(W){var V,B;if(!W)return;let k=b.elements.floating;if(!k)return;let C=parseFloat(getComputedStyle(k).scrollPaddingBottom)||0,S=Math.min(wne,k.childElementCount),T=0,_=0;for(let P of(B=(V=b.elements.floating)==null?void 0:V.childNodes)!=null?B:[])if(ec(P)){let D=P.offsetTop,j=D+P.clientHeight+C,I=k.scrollTop,L=I+k.clientHeight;if(D>=I&&j<=L)S--;else{_=Math.max(0,Math.min(j,L)-Math.max(D,I)),T=P.clientHeight;break}}S>=1&&s(P=>{let D=T*S-_+C;return P>=D?P:D})}}):null,ufe({padding:p,apply({availableWidth:W,availableHeight:V,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${W}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${V}px)`})}})].filter(Boolean),whileElementsMounted:sfe}),[A=g,E=y]=b.placement.split("-");g==="selection"&&(A="selection");let $=x.useMemo(()=>({anchor:[A,E].filter(Boolean).join(" ")}),[A,E]),N=Uct(b,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:M}=Lct([N]),F=Wt(W=>{l(W),w.setFloating(W)});return x.createElement(Sq.Provider,{value:r},x.createElement(V3.Provider,{value:{setFloating:F,setReference:w.setReference,styles:v,getReferenceProps:R,getFloatingProps:M,slot:$}},t))}function Kct(t){zr(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Yct(t,e){var n,r,i;let s=Pj((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=Pj((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=Pj((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function Pj(t,e,n=void 0){let r=Ow(),i=Wt((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let u=bne(l,c);return[u,h=>{let f=Fve(l);{let p=f.map(m=>window.getComputedStyle(c).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let g=!1;for(let[w,v]of f.entries()){let b=window.getComputedStyle(c).getPropertyValue(v);if(p[w]!==b){p[w]=b,g=!0;break}}if(!g)return;let y=bne(l,c);u!==y&&(h(y),u=y)})}return r.dispose}]}return[n,null]}),s=x.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=x.useState();return zr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function Fve(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...Fve(i)]:[r]}return[]}function bne(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let x$=x.createContext(null);x$.displayName="OpenClosedContext";var na=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(na||{});function KA(){return x.useContext(x$)}function Uve({value:t,children:e}){return Ae.createElement(x$.Provider,{value:t},e)}function Qct({children:t}){return Ae.createElement(x$.Provider,{value:null},t)}function Zct(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let um=[];Zct(()=>{function t(e){if(!Ih(e.target)||e.target===document.body||um[0]===e.target)return;let n=e.target;n=n.closest(f7),um.unshift(n??e.target),um=um.filter(r=>r!=null&&r.isConnected),um.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Jct(t){throw new Error("Unexpected object: "+t)}var Wi=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Wi||{});function Ak(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:Jct(t)}}function _q(t){let e=Wt(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,w$(()=>{n.current&&e()})}),[e])}let zve=x.createContext(!1);function Xct(){return x.useContext(zve)}function vne(t){return Ae.createElement(zve.Provider,{value:t.force},t.children)}function eut(t){let e=Xct(),n=x.useContext(Hve),[r,i]=x.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(zh.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return x.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),x.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Wve=x.Fragment,tut=bi(function(t,e){let{ownerDocument:n=null,...r}=t,i=x.useRef(null),s=ba(ult(f=>{i.current=f}),e),o=QE(i.current),a=n??o,l=eut(a),c=x.useContext(ZL),u=Ow(),h=Yi();return _q(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?Kl.createPortal(Ae.createElement("div",{"data-headlessui-portal":"",ref:f=>{u.dispose(),c&&f&&u.add(c.register(f))}},h({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Wve,name:"Portal"})),l):null});function nut(t,e){let n=ba(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Yi();return r?Ae.createElement(tut,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Wve,name:"Portal"})}let rut=x.Fragment,Hve=x.createContext(null);function iut(t,e){let{target:n,...r}=t,i={ref:ba(e)},s=Yi();return Ae.createElement(Hve.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:rut,name:"Popover.Group"}))}let ZL=x.createContext(null);function sut(){let t=x.useContext(ZL),e=x.useRef([]),n=Wt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Wt(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:s}){return Ae.createElement(ZL.Provider,{value:i},s)},[i])]}let out=bi(nut),Vve=bi(iut),qve=Object.assign(out,{Group:Vve});const J9={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function Gve(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function aut(t,e,n){let r=cl();if(e.kind==="Tracked"){let i=function(){s!==Gve(t)&&(r.dispose(),n())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),r.add(()=>o.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function lut(t,e=typeof document<"u"?document.defaultView:null,n){let r=GA(t,"escape");jve(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===ms.Escape&&n(i))})}function cut(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return zr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function uut({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Wt(()=>{var i,s;let o=jw(n),a=[];for(let l of t)l!==null&&(Sp(l)?a.push(l):"current"in l&&Sp(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&Sp(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:r,contains:Wt(i=>r().some(s=>s.contains(i)))}}let Kve=x.createContext(null);function xne({children:t,node:e}){let[n,r]=x.useState(null),i=Yve(e??n);return Ae.createElement(Kve.Provider,{value:i},t,i===null&&Ae.createElement(GL,{features:h7.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=jw(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Sp(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function Yve(t=null){var e;return(e=x.useContext(Kve))!=null?e:t}function dut(){let t=typeof document>"u";return"useSyncExternalStore"in $4?(e=>e.useSyncExternalStore)($4)(()=>()=>{},()=>!1,()=>!t):!1}function E$(){let t=dut(),[e,n]=x.useState(zh.isHandoffComplete);return e&&zh.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>zh.handoff(),[]),t?!1:e}function Iq(){let t=x.useRef(!1);return zr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var _6=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(_6||{});function hut(){let t=x.useRef(0);return Pve(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Qve(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Sp(n.current)&&e.add(n.current);return e}let fut="div";var uy=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(uy||{});function put(t,e){let n=x.useRef(null),r=ba(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;E$()||(a=0);let c=QE(n.current);wut(a,{ownerDocument:c});let u=but(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:s});vut(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:u});let h=hut(),f=Wt(v=>{if(!ec(n.current))return;let b=n.current;(A=>A())(()=>{Ad(h.current,{[_6.Forwards]:()=>{e2(b,ed.First,{skipElements:[v.relatedTarget,s]})},[_6.Backwards]:()=>{e2(b,ed.Last,{skipElements:[v.relatedTarget,s]})}})})}),p=GA(!!(a&2),"focus-trap#tab-lock"),m=Ow(),g=x.useRef(!1),y={ref:r,onKeyDown(v){v.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(v){if(!(a&4))return;let b=Qve(o);ec(n.current)&&b.add(n.current);let A=v.relatedTarget;Ih(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(Zve(b,A)||(g.current?e2(n.current,Ad(h.current,{[_6.Forwards]:()=>ed.Next,[_6.Backwards]:()=>ed.Previous})|ed.WrapAround,{relativeTo:v.target}):Ih(v.target)&&Wh(v.target)))}},w=Yi();return Ae.createElement(Ae.Fragment,null,p&&Ae.createElement(GL,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:h7.Focusable}),w({ourProps:y,theirProps:l,defaultTag:fut,name:"FocusTrap"}),p&&Ae.createElement(GL,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:h7.Focusable}))}let mut=bi(put),gut=Object.assign(mut,{features:uy});function yut(t=!0){let e=x.useRef(um.slice());return kq(([n],[r])=>{r===!0&&n===!1&&w$(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=um.slice())},[t,um,e]),Wt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function wut(t,{ownerDocument:e}){let n=!!(t&8),r=yut(n);kq(()=>{n||sve(e==null?void 0:e.body)&&Wh(r())},[n]),_q(()=>{n&&Wh(r())})}function but(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=x.useRef(null),o=GA(!!(t&1),"focus-trap#initial-focus"),a=Iq();return kq(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Wh(i.current);return}let l=n.current;l&&w$(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(r!=null&&r.current)Wh(r.current);else{if(t&16){if(e2(l,ed.First|ed.AutoFocus)!==YL.Error)return}else if(e2(l,ed.First)!==YL.Error)return;if(i!=null&&i.current&&(Wh(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function vut(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Iq(),o=!!(t&4);jve(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Qve(r);ec(n.current)&&l.add(n.current);let c=i.current;if(!c)return;let u=a.target;ec(u)?Zve(l,u)?(i.current=u,Wh(u)):(a.preventDefault(),a.stopPropagation(),Wh(c)):Wh(i.current)},!0)}function Zve(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Jve(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!l4((e=t.as)!=null?e:e2e)||Ae.Children.count(t.children)===1}let A$=x.createContext(null);A$.displayName="TransitionContext";var xut=(t=>(t.Visible="visible",t.Hidden="hidden",t))(xut||{});function Eut(){let t=x.useContext(A$);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Aut(){let t=x.useContext(C$);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let C$=x.createContext(null);C$.displayName="NestingContext";function k$(t){return"children"in t?k$(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Xve(t,e){let n=Mw(t),r=x.useRef([]),i=Iq(),s=Ow(),o=Wt((p,m=Um.Hidden)=>{let g=r.current.findIndex(({el:y})=>y===p);g!==-1&&(Ad(m,{[Um.Unmount](){r.current.splice(g,1)},[Um.Hidden](){r.current[g].state="hidden"}}),s.microTask(()=>{var y;!k$(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),a=Wt(p=>{let m=r.current.find(({el:g})=>g===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Um.Unmount)}),l=x.useRef([]),c=x.useRef(Promise.resolve()),u=x.useRef({enter:[],leave:[]}),h=Wt((p,m,g)=>{l.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([y])=>y!==p)),e==null||e.chains.current[m].push([p,new Promise(y=>{l.current.push(y)})]),e==null||e.chains.current[m].push([p,new Promise(y=>{Promise.all(u.current[m].map(([w,v])=>v)).then(()=>y())})]),m==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(m)):g(m)}),f=Wt((p,m,g)=>{Promise.all(u.current[m].splice(0).map(([y,w])=>w)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>g(m))});return x.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:u}),[a,o,r,h,f,u,c])}let e2e=x.Fragment,t2e=Vx.RenderStrategy;function Cut(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:m,leaveTo:g,...y}=t,[w,v]=x.useState(null),b=x.useRef(null),A=Jve(t),E=ba(...A?[b,e,v]:e===null?[]:[e]),$=(n=y.unmount)==null||n?Um.Unmount:Um.Hidden,{show:N,appear:R,initial:M}=Eut(),[F,W]=x.useState(N?"visible":"hidden"),V=Aut(),{register:B,unregister:k}=V;zr(()=>B(b),[B,b]),zr(()=>{if($===Um.Hidden&&b.current){if(N&&F!=="visible"){W("visible");return}return Ad(F,{hidden:()=>k(b),visible:()=>B(b)})}},[F,b,B,k,N,$]);let C=E$();zr(()=>{if(A&&C&&F==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,F,C,A]);let S=M&&!R,T=R&&N&&M,_=x.useRef(!1),P=Xve(()=>{_.current||(W("hidden"),k(b))},V),D=Wt(Z=>{_.current=!0;let Q=Z?"enter":"leave";P.onStart(b,Q,ie=>{ie==="enter"?s==null||s():ie==="leave"&&(a==null||a())})}),j=Wt(Z=>{let Q=Z?"enter":"leave";_.current=!1,P.onStop(b,Q,ie=>{ie==="enter"?o==null||o():ie==="leave"&&(l==null||l())}),Q==="leave"&&!k$(P)&&(W("hidden"),k(b))});x.useEffect(()=>{A&&i||(D(N),j(N))},[N,A,i]);let I=!(!i||!A||!C||S),[,L]=Dve(I,w,N,{start:D,end:j}),J=iy({ref:E,className:((r=qL(y.className,T&&c,T&&u,L.enter&&c,L.enter&&L.closed&&u,L.enter&&!L.closed&&h,L.leave&&p,L.leave&&!L.closed&&m,L.leave&&L.closed&&g,!L.transition&&N&&f))==null?void 0:r.trim())||void 0,...Mve(L)}),O=0;F==="visible"&&(O|=na.Open),F==="hidden"&&(O|=na.Closed),N&&F==="hidden"&&(O|=na.Opening),!N&&F==="visible"&&(O|=na.Closing);let G=Yi();return Ae.createElement(C$.Provider,{value:P},Ae.createElement(Uve,{value:O},G({ourProps:J,theirProps:y,defaultTag:e2e,features:t2e,visible:F==="visible",name:"Transition.Child"})))}function kut(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=x.useRef(null),a=Jve(t),l=ba(...a?[o,e]:e===null?[]:[e]);E$();let c=KA();if(n===void 0&&c!==null&&(n=(c&na.Open)===na.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=x.useState(n?"visible":"hidden"),f=Xve(()=>{n||h("hidden")}),[p,m]=x.useState(!0),g=x.useRef([n]);zr(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))},[g,n]);let y=x.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);zr(()=>{n?h("visible"):!k$(f)&&o.current!==null&&h("hidden")},[n,f]);let w={unmount:i},v=Wt(()=>{var E;p&&m(!1),(E=t.beforeEnter)==null||E.call(t)}),b=Wt(()=>{var E;p&&m(!1),(E=t.beforeLeave)==null||E.call(t)}),A=Yi();return Ae.createElement(C$.Provider,{value:f},Ae.createElement(A$.Provider,{value:y},A({ourProps:{...w,as:x.Fragment,children:Ae.createElement(n2e,{ref:l,...w,...s,beforeEnter:v,beforeLeave:b})},theirProps:{},defaultTag:x.Fragment,features:t2e,visible:u==="visible",name:"Transition"})))}function Sut(t,e){let n=x.useContext(A$)!==null,r=KA()!==null;return Ae.createElement(Ae.Fragment,null,!n&&r?Ae.createElement(JL,{ref:e,...t}):Ae.createElement(n2e,{ref:e,...t}))}let JL=bi(kut),n2e=bi(Cut),ZE=bi(Sut),r2e=Object.assign(JL,{Child:ZE,Root:JL});var _ut=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(_ut||{}),Iut=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Iut||{});let Tut={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Tq=x.createContext(null);Tq.displayName="DialogContext";function S$(t){let e=x.useContext(Tq);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,S$),n}return e}function $ut(t,e){return Ad(e.type,Tut,t,e)}let Ene=bi(function(t,e){let n=x.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...h}=t,f=x.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=KA();i===void 0&&p!==null&&(i=(p&na.Open)===na.Open);let m=x.useRef(null),g=ba(m,e),y=QE(m.current),w=i?0:1,[v,b]=x.useReducer($ut,{titleId:null,descriptionId:null,panelRef:x.createRef()}),A=Wt(()=>s(!1)),E=Wt(L=>b({type:0,id:L})),$=E$()?w===0:!1,[N,R]=sut(),M={get current(){var L;return(L=v.panelRef.current)!=null?L:m.current}},F=Yve(),{resolveContainers:W}=uut({mainTreeNode:F,portals:N,defaultContainers:[M]}),V=p!==null?(p&na.Closing)===na.Closing:!1;Sve(c||V?!1:$,{allowed:Wt(()=>{var L,J;return[(J=(L=m.current)==null?void 0:L.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:Wt(()=>{var L;return[(L=F==null?void 0:F.closest("body > *:not(#headlessui-portal-root)"))!=null?L:null]})});let B=v$.get(null);zr(()=>{if($)return B.actions.push(r),()=>B.actions.pop(r)},[B,r,$]);let k=zc(B,x.useCallback(L=>B.selectors.isTop(L,r),[B,r]));Rve(k,W,L=>{L.preventDefault(),A()}),lut(k,y==null?void 0:y.defaultView,L=>{L.preventDefault(),L.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),Ove(c||V?!1:$,y,W),_ve($,m,A);let[C,S]=pve(),T=x.useMemo(()=>[{dialogState:w,close:A,setTitleId:E,unmount:u},v],[w,A,E,u,v]),_=uf({open:w===0}),P={ref:g,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:w===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":C,unmount:u},D=!cut(),j=uy.None;$&&!c&&(j|=uy.RestoreFocus,j|=uy.TabLock,l&&(j|=uy.AutoFocus),D&&(j|=uy.InitialFocus));let I=Yi();return Ae.createElement(Qct,null,Ae.createElement(vne,{force:!0},Ae.createElement(qve,null,Ae.createElement(Tq.Provider,{value:T},Ae.createElement(Vve,{target:m},Ae.createElement(vne,{force:!1},Ae.createElement(S,{slot:_},Ae.createElement(R,null,Ae.createElement(gut,{initialFocus:o,initialFocusFallback:m,containers:W,features:j},Ae.createElement(vlt,{value:A},I({ourProps:P,theirProps:h,slot:_,defaultTag:Nut,features:Put,visible:w===0,name:"Dialog"})))))))))))}),Nut="div",Put=Vx.RenderStrategy|Vx.Static;function Rut(t,e){let{transition:n=!1,open:r,...i}=t,s=KA(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ae.createElement(xne,null,Ae.createElement(r2e,{show:r,transition:n,unmount:i.unmount},Ae.createElement(Ene,{ref:e,...i}))):Ae.createElement(xne,null,Ae.createElement(Ene,{ref:e,open:r,...i}))}let jut="div";function Out(t,e){let n=x.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=S$("Dialog.Panel"),c=ba(e,l.panelRef),u=uf({open:o===0}),h=Wt(y=>{y.stopPropagation()}),f={ref:c,id:r,onClick:h},p=i?ZE:x.Fragment,m=i?{unmount:a}:{},g=Yi();return Ae.createElement(p,{...m},g({ourProps:f,theirProps:s,slot:u,defaultTag:jut,name:"Dialog.Panel"}))}let Mut="div";function Dut(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=S$("Dialog.Backdrop"),o=uf({open:i===0}),a={ref:e,"aria-hidden":!0},l=n?ZE:x.Fragment,c=n?{unmount:s}:{},u=Yi();return Ae.createElement(l,{...c},u({ourProps:a,theirProps:r,slot:o,defaultTag:Mut,name:"Dialog.Backdrop"}))}let But="h2";function Lut(t,e){let n=x.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=S$("Dialog.Title"),a=ba(e);x.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=uf({open:s===0}),c={ref:a,id:r};return Yi()({ourProps:c,theirProps:i,slot:l,defaultTag:But,name:"Dialog.Title"})}let Fut=bi(Rut),i2e=bi(Out);bi(Dut);let Uut=bi(Lut),zut=Object.assign(Fut,{Panel:i2e,Title:Uut,Description:plt}),Ane=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Cne(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!ec(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return Ane.test(o)&&(o=o.replace(Ane,"")),o}function Wut(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Cne(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Cne(t).trim()}function Hut(t){let e=x.useRef(""),n=x.useRef("");return Wt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Wut(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var Vut=Object.defineProperty,qut=(t,e,n)=>e in t?Vut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kne=(t,e,n)=>(qut(t,typeof e!="symbol"?e+"":e,n),n),Ao=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ao||{}),p7=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(p7||{}),wr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(wr||{});function Sne(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=$ve(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Gut={1(t){if(t.menuState===1)return t;let e=t.buttonElement?J9.Tracked(Gve(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Wi.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:J9.Idle}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Wi.Nothing)return{...a,activeItemIndex:null};if(e.focus===Wi.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Wi.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=Ak(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===Wi.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=Ak(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=Sne(t),c=Ak(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==Wi.Nothing&&(r=Ak(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:Wi.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...Sne(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:J9.Moved}}},Kut=class s2e extends vve{constructor(e){super(e),kne(this,"actions",{registerItem:nne(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:nne(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),kne(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,o=n.items;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=v$.get(null);this.disposables.add(r.on(Eve.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(aut(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new s2e({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Wi.Nothing},buttonPositionState:J9.Idle})}reduce(e,n){return Ad(n.type,Gut,e,n)}};const o2e=x.createContext(null);function $q(t){let e=x.useContext(o2e);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,a2e),n}return e}function a2e({id:t,__demoMode:e=!1}){let n=x.useMemo(()=>Kut.new({id:t,__demoMode:e}),[]);return _q(()=>n.dispose()),n}let Yut=x.Fragment;function Qut(t,e){let n=x.useId(),{__demoMode:r=!1,...i}=t,s=a2e({id:n,__demoMode:r}),[o,a,l]=zc(s,y=>[y.menuState,y.itemsElement,y.buttonElement]),c=ba(e),u=v$.get(null),h=zc(u,x.useCallback(y=>u.selectors.isTop(y,n),[u,n]));Rve(h,[l,a],(y,w)=>{var v;s.send({type:wr.CloseMenu}),Cq(w,Aq.Loose)||(y.preventDefault(),(v=s.state.buttonElement)==null||v.focus())});let f=Wt(()=>{s.send({type:wr.CloseMenu})}),p=uf({open:o===Ao.Open,close:f}),m={ref:c},g=Yi();return Ae.createElement(Gct,null,Ae.createElement(o2e.Provider,{value:s},Ae.createElement(Uve,{value:Ad(o,{[Ao.Open]:na.Open,[Ao.Closed]:na.Closed})},g({ourProps:m,theirProps:i,slot:p,defaultTag:Yut,name:"Menu"}))))}let Zut="button";function Jut(t,e){let n=$q("Menu.Button"),r=x.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=x.useRef(null),c=Hct(),u=ba(e,l,Wct(),Wt(F=>n.send({type:wr.SetButtonElement,element:F}))),h=Wt(F=>{switch(F.key){case ms.Space:case ms.Enter:case ms.ArrowDown:F.preventDefault(),F.stopPropagation(),n.send({type:wr.OpenMenu,focus:{focus:Wi.First}});break;case ms.ArrowUp:F.preventDefault(),F.stopPropagation(),n.send({type:wr.OpenMenu,focus:{focus:Wi.Last}});break}}),f=Wt(F=>{switch(F.key){case ms.Space:F.preventDefault();break}}),[p,m,g]=zc(n,F=>[F.menuState,F.buttonElement,F.itemsElement]),y=p===Ao.Open;act(y,{trigger:m,action:x.useCallback(F=>{if(m!=null&&m.contains(F.target))return Ek.Ignore;let W=F.target.closest('[role="menuitem"]:not([data-disabled])');return ec(W)?Ek.Select(W):g!=null&&g.contains(F.target)?Ek.Ignore:Ek.Close},[m,g]),close:x.useCallback(()=>n.send({type:wr.CloseMenu}),[]),select:x.useCallback(F=>F.click(),[])});let w=jlt(F=>{var W;s||(p===Ao.Open?(Kl.flushSync(()=>n.send({type:wr.CloseMenu})),(W=l.current)==null||W.focus({preventScroll:!0})):(F.preventDefault(),n.send({type:wr.OpenMenu,focus:{focus:Wi.Nothing},trigger:p7.Pointer})))}),{isFocusVisible:v,focusProps:b}=zat({autoFocus:o}),{isHovered:A,hoverProps:E}=Uat({isDisabled:s}),{pressed:$,pressProps:N}=Kat({disabled:s}),R=uf({open:p===Ao.Open,active:$||p===Ao.Open,disabled:s,hover:A,focus:v,autofocus:o}),M=lve(c(),{ref:u,id:i,type:lct(t,l.current),"aria-haspopup":"menu","aria-controls":g==null?void 0:g.id,"aria-expanded":p===Ao.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:f},w,b,E,N);return Yi()({ourProps:M,theirProps:a,slot:R,defaultTag:Zut,name:"Menu.Button"})}let Xut="div",edt=Vx.RenderStrategy|Vx.Static;function tdt(t,e){let n=x.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=zct(i),u=$q("Menu.Items"),[h,f]=qct(c),p=Vct(),[m,g]=x.useState(null),y=ba(e,c?h:null,Wt(_=>u.send({type:wr.SetItemsElement,element:_})),g),[w,v]=zc(u,_=>[_.menuState,_.buttonElement]),b=QE(v),A=QE(m);c&&(s=!0);let E=KA(),[$,N]=Dve(a,m,E!==null?(E&na.Open)===na.Open:w===Ao.Open);_ve($,v,()=>{u.send({type:wr.CloseMenu})});let R=zc(u,_=>_.__demoMode),M=R?!1:o&&w===Ao.Open;Ove(M,A);let F=R?!1:o&&w===Ao.Open;Sve(F,{allowed:x.useCallback(()=>[v,m],[v,m])});let W=zc(u,u.selectors.didButtonMove)?!1:$;x.useEffect(()=>{let _=m;_&&w===Ao.Open&&(sve(_)||_.focus({preventScroll:!0}))},[w,m]),Act(w===Ao.Open,{container:m,accept(_){return _.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let V=Ow(),B=Wt(_=>{var P,D,j;switch(V.dispose(),_.key){case ms.Space:if(u.state.searchQuery!=="")return _.preventDefault(),_.stopPropagation(),u.send({type:wr.Search,value:_.key});case ms.Enter:if(_.preventDefault(),_.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:I}=u.state.items[u.state.activeItemIndex];(D=(P=I.current)==null?void 0:P.domRef.current)==null||D.click()}u.send({type:wr.CloseMenu}),Tve(u.state.buttonElement);break;case ms.ArrowDown:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.Next});case ms.ArrowUp:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.Previous});case ms.Home:case ms.PageUp:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.First});case ms.End:case ms.PageDown:return _.preventDefault(),_.stopPropagation(),u.send({type:wr.GoToItem,focus:Wi.Last});case ms.Escape:_.preventDefault(),_.stopPropagation(),Kl.flushSync(()=>u.send({type:wr.CloseMenu})),(j=u.state.buttonElement)==null||j.focus({preventScroll:!0});break;case ms.Tab:_.preventDefault(),_.stopPropagation(),Kl.flushSync(()=>u.send({type:wr.CloseMenu})),rct(u.state.buttonElement,_.shiftKey?ed.Previous:ed.Next);break;default:_.key.length===1&&(u.send({type:wr.Search,value:_.key}),V.setTimeout(()=>u.send({type:wr.ClearSearch}),350));break}}),k=Wt(_=>{switch(_.key){case ms.Space:_.preventDefault();break}}),C=uf({open:w===Ao.Open}),S=lve(c?p():{},{"aria-activedescendant":zc(u,u.selectors.activeDescendantId),"aria-labelledby":zc(u,_=>{var P;return(P=_.buttonElement)==null?void 0:P.id}),id:r,onKeyDown:B,onKeyUp:k,role:"menu",tabIndex:w===Ao.Open?0:void 0,ref:y,style:{...l.style,...f,"--button-width":Rlt($,v,!0).width},...Mve(N)}),T=Yi();return Ae.createElement(qve,{enabled:s?t.static||$:!1,ownerDocument:b},T({ourProps:S,theirProps:l,slot:C,defaultTag:Xut,features:edt,visible:W,name:"Menu.Items"}))}let ndt=x.Fragment;function rdt(t,e){let n=x.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,o=$q("Menu.Item"),a=zc(o,W=>o.selectors.isActive(W,r)),l=x.useRef(null),c=ba(e,l),u=zc(o,W=>o.selectors.shouldScrollIntoView(W,r));zr(()=>{if(u)return cl().requestAnimationFrame(()=>{var W,V;(V=(W=l.current)==null?void 0:W.scrollIntoView)==null||V.call(W,{block:"nearest"})})},[u,l]);let h=Hut(l),f=x.useRef({disabled:i,domRef:l,get textValue(){return h()}});zr(()=>{f.current.disabled=i},[f,i]),zr(()=>(o.actions.registerItem(r,f),()=>o.actions.unregisterItem(r)),[f,r]);let p=Wt(()=>{o.send({type:wr.CloseMenu})}),m=Wt(W=>{if(i)return W.preventDefault();o.send({type:wr.CloseMenu}),Tve(o.state.buttonElement)}),g=Wt(()=>{if(i)return o.send({type:wr.GoToItem,focus:Wi.Nothing});o.send({type:wr.GoToItem,focus:Wi.Specific,id:r})}),y=mct(),w=Wt(W=>y.update(W)),v=Wt(W=>{y.wasMoved(W)&&(i||a||o.send({type:wr.GoToItem,focus:Wi.Specific,id:r,trigger:p7.Pointer}))}),b=Wt(W=>{y.wasMoved(W)&&(i||a&&o.state.activationTrigger===p7.Pointer&&o.send({type:wr.GoToItem,focus:Wi.Nothing}))}),[A,E]=mve(),[$,N]=pve(),R=uf({active:a,focus:a,disabled:i,close:p}),M={id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":$,disabled:void 0,onClick:m,onFocus:g,onPointerEnter:w,onMouseEnter:w,onPointerMove:v,onMouseMove:v,onPointerLeave:b,onMouseLeave:b},F=Yi();return Ae.createElement(E,null,Ae.createElement(N,null,F({ourProps:M,theirProps:s,slot:R,defaultTag:ndt,name:"Menu.Item"})))}let idt="div";function sdt(t,e){let[n,r]=mve(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},o=Yi();return Ae.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:idt,name:"Menu.Section"}))}let odt="header";function adt(t,e){let n=x.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=Eq();zr(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Yi()({ourProps:o,theirProps:i,slot:{},defaultTag:odt,name:"Menu.Heading"})}let ldt="div";function cdt(t,e){let n=t,r={ref:e,role:"separator"};return Yi()({ourProps:r,theirProps:n,slot:{},defaultTag:ldt,name:"Menu.Separator"})}let udt=bi(Qut),l2e=bi(Jut),c2e=bi(tdt),u2e=bi(rdt),ddt=bi(sdt),hdt=bi(adt),fdt=bi(cdt),pdt=Object.assign(udt,{Button:l2e,Items:c2e,Item:u2e,Section:ddt,Heading:hdt,Separator:fdt});function mdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Nq=x.forwardRef(mdt);function gdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const JE=x.forwardRef(gdt);function hn(t){return t?new Date(1e3*t):null}function lo(t,e){return t.slice().sort((n,r)=>{var i,s;return(((i=n.firstVerifiedAt)==null?void 0:i.getTime())??0)-(((s=r.firstVerifiedAt)==null?void 0:s.getTime())??0)}).find(n=>n.type===e)}const bh=t=>t?d2e(t).find(e=>e.walletIndex===0)??null:null,d2e=t=>t?h2e(t,"ethereum"):[],h2e=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),ydt=t=>t?h2e(t,"solana"):[],_$=t=>t?ydt(t).find(e=>e.walletIndex===0)??null:null,XL=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,f2e=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let p2e=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Bi(t)===Bi(e);const Hf=(t,e)=>(t==null?void 0:t.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&p2e(n.address,e)))||null,Rj=(t,e)=>t.find(n=>p2e(n.address,e))||null,Cd=t=>bh(t)??_$(t);function Ps(t){if(!t)return null;let e=function(b){let A=[];for(let E of b){let $=E.type;switch(E.type){case"wallet":let N={id:E.id,address:E.address,type:E.type,imported:E.imported,delegated:E.delegated,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),chainType:E.chain_type,walletClientType:E.wallet_client_type,connectorType:E.connector_type,recoveryMethod:E.recovery_method,walletIndex:E.wallet_index};A.push(N);break;case"smart_wallet":let R={address:E.address,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),smartWalletType:E.smart_wallet_type,smartWalletVersion:E.smart_wallet_version};A.push(R);break;case"cross_app":let M={type:E.type,subject:E.subject,embeddedWallets:E.embedded_wallets,smartWallets:E.smart_wallets,providerApp:{id:E.provider_app_id},firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(M);break;case"email":let F={address:E.address,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(F);break;case"phone":let W={number:E.phoneNumber,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(W);break;case"google_oauth":let V={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(V);break;case"spotify_oauth":let B={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(B);break;case"instagram_oauth":let k={subject:E.subject,username:E.username,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(k);break;case"twitter_oauth":let C={subject:E.subject,username:E.username,name:E.name,type:E.type,profilePictureUrl:E.profile_picture_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(C);break;case"discord_oauth":let S={subject:E.subject,username:E.username,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(S);break;case"github_oauth":let T={subject:E.subject,username:E.username,name:E.name,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(T);break;case"tiktok_oauth":let _={subject:E.subject,username:E.username,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(_);break;case"line_oauth":let P={subject:E.subject,name:E.name,email:E.email,profilePictureUrl:E.profile_picture_url,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(P);break;case"linkedin_oauth":let D={subject:E.subject,name:E.name,email:E.email,vanityName:E.vanity_name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(D);break;case"apple_oauth":let j={subject:E.subject,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(j);break;case"custom_auth":A.push({type:E.type,customUserId:E.custom_user_id,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)});break;case"farcaster":let I={type:E.type,fid:E.fid,ownerAddress:E.owner_address,displayName:E.display_name,username:E.username,bio:E.bio,pfp:E.profile_picture_url,url:E.homepage_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),signerPublicKey:E.signer_public_key};A.push(I);break;case"passkey":let L={type:E.type,enrolledInMfa:E.enrolled_in_mfa,credentialId:E.credential_id,publicKey:E.public_key,authenticatorName:E.authenticator_name,createdWithDevice:E.created_with_device,createdWithOs:E.created_with_os,createdWithBrowser:E.created_with_browser,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(L);break;case"telegram":let J={type:E.type,telegramUserId:E.telegram_user_id,firstName:E.first_name,lastName:E.last_name,username:E.username,photoUrl:E.photo_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(J);break;default:console.warn(`Unrecognized account type: ${$}. Please consider upgrading the Privy SDK.`)}}return A}(t.linked_accounts),n=lo(e,"wallet"),r=lo(e,"smart_wallet"),i=lo(e,"email"),s=lo(e,"phone"),o=lo(e,"google_oauth"),a=lo(e,"twitter_oauth"),l=lo(e,"discord_oauth"),c=lo(e,"github_oauth"),u=lo(e,"spotify_oauth"),h=lo(e,"instagram_oauth"),f=lo(e,"tiktok_oauth"),p=lo(e,"line_oauth"),m=lo(e,"linkedin_oauth"),g=lo(e,"apple_oauth"),y=lo(e,"farcaster"),w=lo(e,"telegram"),v=t.mfa_methods.map(({type:b,verified_at:A})=>({type:b,verifiedAt:hn(A)}));return{id:t.id,createdAt:hn(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:f&&{subject:f.subject,username:f.username,name:f.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:m&&{subject:m.subject,name:m.name,email:m.email,vanityName:m.vanityName},apple:g&&{subject:g.subject,email:g.email},farcaster:y&&{fid:y.fid,ownerAddress:y.ownerAddress,displayName:y.displayName,username:y.username,bio:y.bio,pfp:y.pfp,url:y.url,signerPublicKey:y.signerPublicKey},telegram:w&&{telegramUserId:w.telegramUserId,firstName:w.firstName,lastName:w.lastName,username:w.username,photoUrl:w.photoUrl},delegatedWallets:[],mfaMethods:v.map(b=>b.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const vl=t=>!!t.id&&t.recoveryMethod==="privy-v2",q3=x.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Ie,login:Ie,connectOrCreateWallet:Ie,linkEmail:Ie,linkPhone:Ie,linkFarcaster:Ie,linkWallet:Ie,startCrossAppAuthFlow:Ie,linkGoogle:Ie,linkTwitter:Ie,linkDiscord:Ie,linkGithub:Ie,linkSpotify:Ie,linkInstagram:Ie,linkTelegram:Ie,linkTiktok:Ie,linkLine:Ie,linkLinkedIn:Ie,linkApple:Ie,linkPasskey:Ie,updateEmail:Ie,updatePhone:Ie,logout:Ie,getAccessToken:Ie,unlinkEmail:Ie,unlinkPhone:Ie,unlinkWallet:Ie,unlinkGoogle:Ie,unlinkTwitter:Ie,unlinkDiscord:Ie,unlinkGithub:Ie,unlinkSpotify:Ie,unlinkInstagram:Ie,unlinkTiktok:Ie,unlinkLine:Ie,unlinkLinkedIn:Ie,unlinkApple:Ie,unlinkCrossAppAccount:Ie,unlinkFarcaster:Ie,unlinkTelegram:Ie,unlinkPasskey:Ie,signMessage:Ie,signTypedData:Ie,enrollInMfa:Ie,initEnrollmentWithSms:Ie,initEnrollmentWithTotp:Ie,initEnrollmentWithPasskey:Ie,promptMfa:Ie,init:Ie,submitEnrollmentWithSms:Ie,submitEnrollmentWithTotp:Ie,submitEnrollmentWithPasskey:Ie,unenroll:Ie,submit:Ie,cancel:Ie,sendTransaction:Ie,signTransaction:Ie,exportWallet:Ie,setWalletPassword:Ie,setWalletRecovery:Ie,requestFarcasterSignerFromWarpcast:Ie,getFarcasterSignerPublicKey:Ie,signFarcasterMessage:Ie,signMessageWithCrossAppWallet:Ie,signTypedDataWithCrossAppWallet:Ie,sendTransactionWithCrossAppWallet:Ie,signTransactionWithCrossAppWallet:Ie,isModalOpen:!1,mfaMethods:[]}),Sn=()=>x.useContext(q3);function wdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const bdt=x.forwardRef(wdt);function vdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const xdt=x.forwardRef(vdt);function Edt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Adt=x.forwardRef(Edt);function Cdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const kdt=x.forwardRef(Cdt);function Sdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const _dt=x.forwardRef(Sdt);function Idt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Tdt=x.forwardRef(Idt);function $dt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ndt=x.forwardRef($dt);function Pdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Rdt=x.forwardRef(Pdt);function jdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Odt=x.forwardRef(jdt);function Mdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const m2e=x.forwardRef(Mdt);function Ddt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Bdt=x.forwardRef(Ddt);function Ldt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Fdt=x.forwardRef(Ldt);function Udt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const I$=x.forwardRef(Udt);function zdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Wdt=x.forwardRef(zdt);function Hdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const T$=x.forwardRef(Hdt);function Vdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Dw=x.forwardRef(Vdt);function qdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Gdt=x.forwardRef(qdt);function Kdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ydt=x.forwardRef(Kdt);function Qdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const Pq=x.forwardRef(Qdt);function Zdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Jdt=x.forwardRef(Zdt);function Xdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const g2e=x.forwardRef(Xdt);function eht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const tht=x.forwardRef(eht);function nht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jj=x.forwardRef(nht);function rht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const iht=x.forwardRef(rht);function sht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const bg=x.forwardRef(sht);function oht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const t2=x.forwardRef(oht);function aht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const nw=x.forwardRef(aht);function lht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const cht=x.forwardRef(lht);function uht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dht=x.forwardRef(uht);function hht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const fht=x.forwardRef(hht);let Oj={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const pht={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let hb=t=>t!==void 0?BigInt(t):void 0;function y2e(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(c=>Array.isArray(c)?{address:c[0],storageKeys:c[1]}:c):r.accessList&&(e=Object.entries(r.accessList).map(c=>({address:c[0],storageKeys:c[1]})));let i=Number(r.chainId??1),s=Ro(r.data)?r.data:r.data?_i(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:hb(r.value),gas:hb(r.gas??r.gasLimit)},l=Number(n);if(l===0)return{...r,type:Oj[l],...a,gasPrice:hb(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...r,type:Oj[l],...a,gasPrice:hb(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...r,type:Oj[l],...a,nonce:o,accessList:e,maxFeePerGas:hb(r.maxFeePerGas),maxPriorityFeePerGas:hb(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mht=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w2e=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ght={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yht=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...ght,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:w2e("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(yht,{ref:s,iconNode:e,className:w2e(`lucide-${mht(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wht=vi("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bht=vi("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=vi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2e=vi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=vi("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vht=vi("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xht=vi("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=vi("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eht=vi("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=vi("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=vi("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aht=vi("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=vi("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=vi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=vi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cht=vi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2e=vi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kht=vi("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sht=vi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=vi("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ht=vi("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iht=vi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function x2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Tht(t,...e){if(!x2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function E2e(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function e8(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Oq(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function tF(t){if(!Array.isArray(t))throw new Error("array expected")}function y7(t,e){if(!E2e(!0,e))throw new Error(`${t}: array of strings expected`)}function $ht(t,e){if(!E2e(!1,e))throw new Error(`${t}: array of numbers expected`)}function A2e(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function C2e(t){const e=typeof t=="string"?t.split(""):t,n=e.length;y7("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(tF(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(tF(i),i.map(s=>{e8("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function k2e(t=""){return e8("join",t),{encode:e=>(y7("join.decode",e),e.join(t)),decode:e=>(e8("join.decode",e),e.split(t))}}function S2e(t,e="="){return Oq(t),e8("padding",e),{encode(n){for(y7("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){y7("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const _2e=(t,e)=>e===0?t:_2e(e,t%e),w7=(t,e)=>t+(e-_2e(t,e)),Mj=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function _ne(t,e,n,r){if(tF(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(w7(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${w7(e,n)}`);let i=0,s=0;const o=Mj[e],a=Mj[n]-1,l=[];for(const c of t){if(Oq(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)l.push((i>>s-n&a)>>>0);const u=Mj[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&l.push(i>>>0),l}function I2e(t,e=!1){if(Oq(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(w7(8,t)>32||w7(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!x2e(n))throw new Error("radix2.encode input should be Uint8Array");return _ne(Array.from(n),8,t,!e)},decode:n=>($ht("radix2.decode",n),Uint8Array.from(_ne(n,t,8,e)))}}const Nht=A2e(I2e(5),C2e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),S2e(5),k2e("")),Pht=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",Rht=(t,e)=>{e8("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},X9=Pht?{encode(t){return Tht(t),t.toBase64()},decode(t){return Rht(t)}}:A2e(I2e(6),C2e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),S2e(6),k2e(""));function b7(t){"@babel/helpers - typeof";return b7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b7(t)}var jht=/^\s+/,Oht=/\s+$/;function gt(t,e){if(t=t||"",e=e||{},t instanceof gt)return t;if(!(this instanceof gt))return new gt(t,e);var n=Mht(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}gt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=T2e(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Tne(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Tne(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Ine(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ine(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return $ne(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Fht(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hr(this._r,255)*100)+"%",g:Math.round(Hr(this._g,255)*100)+"%",b:Math.round(Hr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hr(this._r,255)*100)+"%, "+Math.round(Hr(this._g,255)*100)+"%, "+Math.round(Hr(this._b,255)*100)+"%)":"rgba("+Math.round(Hr(this._r,255)*100)+"%, "+Math.round(Hr(this._g,255)*100)+"%, "+Math.round(Hr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Jht[$ne(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Nne(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=gt(e);r="#"+Nne(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return gt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Hht,arguments)},brighten:function(){return this._applyModification(Vht,arguments)},darken:function(){return this._applyModification(qht,arguments)},desaturate:function(){return this._applyModification(Uht,arguments)},saturate:function(){return this._applyModification(zht,arguments)},greyscale:function(){return this._applyModification(Wht,arguments)},spin:function(){return this._applyModification(Ght,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Qht,arguments)},complement:function(){return this._applyCombination(Kht,arguments)},monochromatic:function(){return this._applyCombination(Zht,arguments)},splitcomplement:function(){return this._applyCombination(Yht,arguments)},triad:function(){return this._applyCombination(Pne,[3])},tetrad:function(){return this._applyCombination(Pne,[4])}};gt.fromRatio=function(t,e){if(b7(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=I6(t[r]));t=n}return gt(t,e)};function Mht(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=nft(t)),b7(t)=="object"&&(vf(t.r)&&vf(t.g)&&vf(t.b)?(e=Dht(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):vf(t.h)&&vf(t.s)&&vf(t.v)?(r=I6(t.s),i=I6(t.v),e=Lht(t.h,r,i),o=!0,a="hsv"):vf(t.h)&&vf(t.s)&&vf(t.l)&&(r=I6(t.s),s=I6(t.l),e=Bht(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=T2e(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Dht(t,e,n){return{r:Hr(t,255)*255,g:Hr(e,255)*255,b:Hr(n,255)*255}}function Ine(t,e,n){t=Hr(t,255),e=Hr(e,255),n=Hr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Bht(t,e,n){var r,i,s;t=Hr(t,360),e=Hr(e,100),n=Hr(n,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Tne(t,e,n){t=Hr(t,255),e=Hr(e,255),n=Hr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function Lht(t,e,n){t=Hr(t,360)*6,e=Hr(e,100),n=Hr(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:h*255}}function $ne(t,e,n,r){var i=[rd(Math.round(t).toString(16)),rd(Math.round(e).toString(16)),rd(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Fht(t,e,n,r,i){var s=[rd(Math.round(t).toString(16)),rd(Math.round(e).toString(16)),rd(Math.round(n).toString(16)),rd($2e(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Nne(t,e,n,r){var i=[rd($2e(r)),rd(Math.round(t).toString(16)),rd(Math.round(e).toString(16)),rd(Math.round(n).toString(16))];return i.join("")}gt.equals=function(t,e){return!t||!e?!1:gt(t).toRgbString()==gt(e).toRgbString()};gt.random=function(){return gt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Uht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.s-=e/100,n.s=N$(n.s),gt(n)}function zht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.s+=e/100,n.s=N$(n.s),gt(n)}function Wht(t){return gt(t).desaturate(100)}function Hht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.l+=e/100,n.l=N$(n.l),gt(n)}function Vht(t,e){e=e===0?0:e||10;var n=gt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),gt(n)}function qht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.l-=e/100,n.l=N$(n.l),gt(n)}function Ght(t,e){var n=gt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,gt(n)}function Kht(t){var e=gt(t).toHsl();return e.h=(e.h+180)%360,gt(e)}function Pne(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=gt(t).toHsl(),r=[gt(t)],i=360/e,s=1;s<e;s++)r.push(gt({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Yht(t){var e=gt(t).toHsl(),n=e.h;return[gt(t),gt({h:(n+72)%360,s:e.s,l:e.l}),gt({h:(n+216)%360,s:e.s,l:e.l})]}function Qht(t,e,n){e=e||6,n=n||30;var r=gt(t).toHsl(),i=360/n,s=[gt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(gt(r));return s}function Zht(t,e){e=e||6;for(var n=gt(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(gt({h:r,s:i,v:s})),s=(s+a)%1;return o}gt.mix=function(t,e,n){n=n===0?0:n||50;var r=gt(t).toRgb(),i=gt(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return gt(o)};gt.readability=function(t,e){var n=gt(t),r=gt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};gt.isReadable=function(t,e,n){var r=gt.readability(t,e),i,s;switch(s=!1,i=rft(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};gt.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=gt.readability(t,e[c]),s>i&&(i=s,r=gt(e[c]));return gt.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,gt.mostReadable(t,["#fff","#000"],n))};var nF=gt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Jht=gt.hexNames=Xht(nF);function Xht(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function T2e(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Hr(t,e){eft(t)&&(t="100%");var n=tft(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function N$(t){return Math.min(1,Math.max(0,t))}function wl(t){return parseInt(t,16)}function eft(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function tft(t){return typeof t=="string"&&t.indexOf("%")!=-1}function rd(t){return t.length==1?"0"+t:""+t}function I6(t){return t<=1&&(t=t*100+"%"),t}function $2e(t){return Math.round(parseFloat(t)*255).toString(16)}function Rne(t){return wl(t)/255}var _u=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vf(t){return!!_u.CSS_UNIT.exec(t)}function nft(t){t=t.replace(jht,"").replace(Oht,"").toLowerCase();var e=!1;if(nF[t])t=nF[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=_u.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=_u.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=_u.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=_u.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=_u.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=_u.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=_u.hex8.exec(t))?{r:wl(n[1]),g:wl(n[2]),b:wl(n[3]),a:Rne(n[4]),format:e?"name":"hex8"}:(n=_u.hex6.exec(t))?{r:wl(n[1]),g:wl(n[2]),b:wl(n[3]),format:e?"name":"hex"}:(n=_u.hex4.exec(t))?{r:wl(n[1]+""+n[1]),g:wl(n[2]+""+n[2]),b:wl(n[3]+""+n[3]),a:Rne(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=_u.hex3.exec(t))?{r:wl(n[1]+""+n[1]),g:wl(n[2]+""+n[2]),b:wl(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function rft(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function ift({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const sft=x.forwardRef(ift);var oft=function(e,n){return Math.round(n*Math.log(e)/Math.LN2)},aft=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],lft=function(e){return function(n){return e.reduce(function(r,i){return r+(i.re.test(n)?i.length:0)},0)}},cft=lft(aft),uft=function(e){return e?oft(cft(e),e.length):0},dft=uft;const hft=Ks(dft);function N2e(t){return crypto.getRandomValues(new Uint8Array(t))}const fft=256,u4=65536;function pft(){const[t]=N2e(1);return t}function mft(){const[t,e]=N2e(2);return(t<<8)+e}function gft(t){if(typeof t!="number"||t<2||t>u4)throw new Error(`Invalid number: number must be at least two and at most ${u4}`);const e=t>256,n=e?u4:fft,r=e?mft:pft,i=t*Math.floor(n/t);for(;;){const s=r();if(s<i)return s%t}}function yft(t,e,n){if(typeof n!="number"||n>u4)throw new Error(`Invalid argument: end must be a number less than or equal to ${u4}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+gft(n-e);return r}function wft(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return yft(t,0,e.length).reduce((r,i,s)=>{const o=e[i];return r+(s===0?o:n+o)},"")}const bft=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),vft=Object.freeze(bft.filter(t=>!t.includes("-")));function xft({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Eft=x.forwardRef(xft);var QA={},Aft=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},P2e={},ac={};let Mq;const Cft=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ac.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ac.getSymbolTotalCodewords=function(e){return Cft[e]};ac.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ac.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Mq=e};ac.isKanjiModeEnabled=function(){return typeof Mq<"u"};ac.toSJIS=function(e){return Mq(e)};var P$={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(P$);function R2e(){this.buffer=[],this.length=0}R2e.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var kft=R2e;function ZA(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}ZA.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};ZA.prototype.get=function(t,e){return this.data[t*this.size+e]};ZA.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};ZA.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Sft=ZA,j2e={};(function(t){const e=ac.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(j2e);var O2e={};const _ft=ac.getSymbolSize,jne=7;O2e.getPositions=function(e){const n=_ft(e);return[[0,0],[n-jne,0],[0,n-jne]]};var M2e={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(M2e);var R$={};const zm=P$,Ck=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kk=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];R$.getBlocksCount=function(e,n){switch(n){case zm.L:return Ck[(e-1)*4+0];case zm.M:return Ck[(e-1)*4+1];case zm.Q:return Ck[(e-1)*4+2];case zm.H:return Ck[(e-1)*4+3];default:return}};R$.getTotalCodewordsCount=function(e,n){switch(n){case zm.L:return kk[(e-1)*4+0];case zm.M:return kk[(e-1)*4+1];case zm.Q:return kk[(e-1)*4+2];case zm.H:return kk[(e-1)*4+3];default:return}};var D2e={},j$={};const d4=new Uint8Array(512),v7=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)d4[n]=e,v7[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)d4[n]=d4[n-255]})();j$.log=function(e){if(e<1)throw new Error("log("+e+")");return v7[e]};j$.exp=function(e){return d4[e]};j$.mul=function(e,n){return e===0||n===0?0:d4[v7[e]+v7[n]]};(function(t){const e=j$;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(D2e);const B2e=D2e;function Dq(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Dq.prototype.initialize=function(e){this.degree=e,this.genPoly=B2e.generateECPolynomial(this.degree)};Dq.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=B2e.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var Ift=Dq,L2e={},Rg={},Bq={};Bq.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var df={};const F2e="[0-9]+",Tft="[A-Z $%*+\\-./:]+";let t8="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t8=t8.replace(/u/g,"\\u");const $ft="(?:(?![A-Z0-9 $%*+\\-./:]|"+t8+`)(?:.|[\r
]))+`;df.KANJI=new RegExp(t8,"g");df.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");df.BYTE=new RegExp($ft,"g");df.NUMERIC=new RegExp(F2e,"g");df.ALPHANUMERIC=new RegExp(Tft,"g");const Nft=new RegExp("^"+t8+"$"),Pft=new RegExp("^"+F2e+"$"),Rft=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");df.testKanji=function(e){return Nft.test(e)};df.testNumeric=function(e){return Pft.test(e)};df.testAlphanumeric=function(e){return Rft.test(e)};(function(t){const e=Bq,n=df;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(Rg);(function(t){const e=ac,n=R$,r=P$,i=Rg,s=Bq,o=7973,a=e.getBCHDigit(o);function l(f,p,m){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,m,f))return g}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let m=0;return f.forEach(function(g){const y=c(g.mode,p);m+=y+g.getBitsLength()}),m}function h(f,p){for(let m=1;m<=40;m++)if(u(f,m)<=t.getCapacity(m,p,i.MIXED))return m}t.from=function(p,m){return s.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,g){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const y=e.getSymbolTotalCodewords(p),w=n.getTotalCodewordsCount(p,m),v=(y-w)*8;if(g===i.MIXED)return v;const b=v-c(g,p);switch(g){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(p,m){let g;const y=r.from(m,r.M);if(Array.isArray(p)){if(p.length>1)return h(p,y);if(p.length===0)return 1;g=p[0]}else g=p;return l(g.mode,g.getLength(),y)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(L2e);var U2e={};const rF=ac,z2e=1335,jft=21522,One=rF.getBCHDigit(z2e);U2e.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;rF.getBCHDigit(i)-One>=0;)i^=z2e<<rF.getBCHDigit(i)-One;return(r<<10|i)^jft};var W2e={};const Oft=Rg;function qx(t){this.mode=Oft.NUMERIC,this.data=t.toString()}qx.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};qx.prototype.getLength=function(){return this.data.length};qx.prototype.getBitsLength=function(){return qx.getBitsLength(this.data.length)};qx.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var Mft=qx;const Dft=Rg,Dj=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Gx(t){this.mode=Dft.ALPHANUMERIC,this.data=t}Gx.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Gx.prototype.getLength=function(){return this.data.length};Gx.prototype.getBitsLength=function(){return Gx.getBitsLength(this.data.length)};Gx.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Dj.indexOf(this.data[n])*45;r+=Dj.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Dj.indexOf(this.data[n]),6)};var Bft=Gx,Lft=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Fft=Lft,Uft=Rg;function Kx(t){this.mode=Uft.BYTE,typeof t=="string"&&(t=Fft(t)),this.data=new Uint8Array(t)}Kx.getBitsLength=function(e){return e*8};Kx.prototype.getLength=function(){return this.data.length};Kx.prototype.getBitsLength=function(){return Kx.getBitsLength(this.data.length)};Kx.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var zft=Kx;const Wft=Rg,Hft=ac;function Yx(t){this.mode=Wft.KANJI,this.data=t}Yx.getBitsLength=function(e){return e*13};Yx.prototype.getLength=function(){return this.data.length};Yx.prototype.getBitsLength=function(){return Yx.getBitsLength(this.data.length)};Yx.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Hft.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Vft=Yx,H2e={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,f,p,m,g,y;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=n[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],m=h+p,g=o[u],y=typeof o[u]>"u",(y||g>m)&&(o[u]=m,a.push(u,m),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(H2e);var qft=H2e.exports;(function(t){const e=Rg,n=Mft,r=Bft,i=zft,s=Vft,o=df,a=ac,l=qft;function c(w){return unescape(encodeURIComponent(w)).length}function u(w,v,b){const A=[];let E;for(;(E=w.exec(b))!==null;)A.push({data:E[0],index:E.index,mode:v,length:E[0].length});return A}function h(w){const v=u(o.NUMERIC,e.NUMERIC,w),b=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let A,E;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,w),E=u(o.KANJI,e.KANJI,w)):(A=u(o.BYTE_KANJI,e.BYTE,w),E=[]),v.concat(b,A,E).sort(function(N,R){return N.index-R.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function f(w,v){switch(v){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function p(w){return w.reduce(function(v,b){const A=v.length-1>=0?v[v.length-1]:null;return A&&A.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function m(w){const v=[];for(let b=0;b<w.length;b++){const A=w[b];switch(A.mode){case e.NUMERIC:v.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:v.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:v.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:v.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return v}function g(w,v){const b={},A={start:{}};let E=["start"];for(let $=0;$<w.length;$++){const N=w[$],R=[];for(let M=0;M<N.length;M++){const F=N[M],W=""+$+M;R.push(W),b[W]={node:F,lastCount:0},A[W]={};for(let V=0;V<E.length;V++){const B=E[V];b[B]&&b[B].node.mode===F.mode?(A[B][W]=f(b[B].lastCount+F.length,F.mode)-f(b[B].lastCount,F.mode),b[B].lastCount+=F.length):(b[B]&&(b[B].lastCount=F.length),A[B][W]=f(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,v))}}E=R}for(let $=0;$<E.length;$++)A[E[$]].end=0;return{map:A,table:b}}function y(w,v){let b;const A=e.getBestModeForData(w);if(b=e.from(v,A),b!==e.BYTE&&b.bit<A.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(A));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(v){return v.reduce(function(b,A){return typeof A=="string"?b.push(y(A,null)):A.data&&b.push(y(A.data,A.mode)),b},[])},t.fromString=function(v,b){const A=h(v,a.isKanjiModeEnabled()),E=m(A),$=g(E,b),N=l.find_path($.map,"start","end"),R=[];for(let M=1;M<N.length-1;M++)R.push($.table[N[M]].node);return t.fromArray(p(R))},t.rawSplit=function(v){return t.fromArray(h(v,a.isKanjiModeEnabled()))}})(W2e);const O$=ac,Bj=P$,Gft=kft,Kft=Sft,Yft=j2e,Qft=O2e,iF=M2e,sF=R$,Zft=Ift,x7=L2e,Jft=U2e,Xft=Rg,Lj=W2e;function ept(t,e){const n=t.size,r=Qft.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function tpt(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function npt(t,e){const n=Yft.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function rpt(t,e){const n=t.size,r=x7.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Fj(t,e,n){const r=t.size,i=Jft.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function ipt(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function spt(t,e,n){const r=new Gft;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Xft.getCharCountIndicator(l.mode,t)),l.write(r)});const i=O$.getSymbolTotalCodewords(t),s=sF.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return opt(r,t,e)}function opt(t,e,n){const r=O$.getSymbolTotalCodewords(e),i=sF.getTotalCodewordsCount(e,n),s=r-i,o=sF.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,f=c-u,p=new Zft(f);let m=0;const g=new Array(o),y=new Array(o);let w=0;const v=new Uint8Array(t.buffer);for(let N=0;N<o;N++){const R=N<l?u:h;g[N]=v.slice(m,m+R),y[N]=p.encode(g[N]),m+=R,w=Math.max(w,R)}const b=new Uint8Array(r);let A=0,E,$;for(E=0;E<w;E++)for($=0;$<o;$++)E<g[$].length&&(b[A++]=g[$][E]);for(E=0;E<f;E++)for($=0;$<o;$++)b[A++]=y[$][E];return b}function apt(t,e,n,r){let i;if(Array.isArray(t))i=Lj.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=Lj.rawSplit(t);c=x7.getBestVersionForData(u,n)}i=Lj.fromString(t,c||40)}else throw new Error("Invalid data");const s=x7.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=spt(e,n,i),a=O$.getSymbolSize(e),l=new Kft(a);return ept(l,e),tpt(l),npt(l,e),Fj(l,n,0),e>=7&&rpt(l,e),ipt(l,o),isNaN(r)&&(r=iF.getBestMask(l,Fj.bind(null,l,n))),iF.applyMask(r,l),Fj(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}P2e.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Bj.M,i,s;return typeof n<"u"&&(r=Bj.from(n.errorCorrectionLevel,Bj.M),i=x7.from(n.version),s=iF.from(n.maskPattern),n.toSJISFunc&&O$.setToSJISFunction(n.toSJISFunc)),apt(e,i,r,s)};var V2e={},Lq={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let m=(f*c+p)*4,g=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const y=Math.floor((f-u)/l),w=Math.floor((p-u)/l);g=h[a[y*o+w]?1:0]}r[m++]=g.r,r[m++]=g.g,r[m++]=g.b,r[m]=g.a}}})(Lq);(function(t){const e=Lq;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,s,l),n(h,c,u),h.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(V2e);var q2e={};const lpt=Lq;function Mne(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Uj(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function cpt(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?Uj("M",l+n,.5+c+n):Uj("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=Uj("h",o),o=0)):i++}return r}q2e.render=function(e,n,r){const i=lpt.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+Mne(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Mne(i.color.dark,"stroke")+' d="'+cpt(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,f),f};const upt=Aft,oF=P2e,G2e=V2e,dpt=q2e;function Fq(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!upt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=oF.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=oF.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}QA.create=oF.create;QA.toCanvas=Fq.bind(null,G2e.render);QA.toDataURL=Fq.bind(null,G2e.renderToDataURL);QA.toString=Fq.bind(null,function(t,e,n){return dpt.render(t,n)});var K2e={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(K2e);var hpt=K2e.exports;const M$=Ks(hpt),Dne=t=>{let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},fpt=t=>t?Dne(t):Dne,ppt=t=>t;function mpt(t,e=ppt){const n=Ae.useSyncExternalStore(t.subscribe,Ae.useCallback(()=>e(t.getState()),[t,e]),Ae.useCallback(()=>e(t.getInitialState()),[t,e]));return Ae.useDebugValue(n),n}const Bne=t=>{const e=fpt(t),n=r=>mpt(e,r);return Object.assign(n,e),n},Bw=t=>t?Bne(t):Bne;var Uq={exports:{}},n2=typeof Reflect=="object"?Reflect:null,Lne=n2&&typeof n2.apply=="function"?n2.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},eS;n2&&typeof n2.ownKeys=="function"?eS=n2.ownKeys:Object.getOwnPropertySymbols?eS=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:eS=function(e){return Object.getOwnPropertyNames(e)};function gpt(t){console&&console.warn&&console.warn(t)}var Y2e=Number.isNaN||function(e){return e!==e};function mr(){mr.init.call(this)}Uq.exports=mr;Uq.exports.once=vpt;mr.EventEmitter=mr;mr.prototype._events=void 0;mr.prototype._eventsCount=0;mr.prototype._maxListeners=void 0;var Fne=10;function D$(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(mr,"defaultMaxListeners",{enumerable:!0,get:function(){return Fne},set:function(t){if(typeof t!="number"||t<0||Y2e(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Fne=t}});mr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Y2e(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Q2e(t){return t._maxListeners===void 0?mr.defaultMaxListeners:t._maxListeners}mr.prototype.getMaxListeners=function(){return Q2e(this)};mr.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Lne(l,this,n);else for(var c=l.length,u=txe(l,c),r=0;r<c;++r)Lne(u[r],this,n);return!0};function Z2e(t,e,n,r){var i,s,o;if(D$(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=Q2e(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,gpt(a)}return t}mr.prototype.addListener=function(e,n){return Z2e(this,e,n,!1)};mr.prototype.on=mr.prototype.addListener;mr.prototype.prependListener=function(e,n){return Z2e(this,e,n,!0)};function ypt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function J2e(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=ypt.bind(r);return i.listener=n,r.wrapFn=i,i}mr.prototype.once=function(e,n){return D$(n),this.on(e,J2e(this,e,n)),this};mr.prototype.prependOnceListener=function(e,n){return D$(n),this.prependListener(e,J2e(this,e,n)),this};mr.prototype.removeListener=function(e,n){var r,i,s,o,a;if(D$(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():wpt(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};mr.prototype.off=mr.prototype.removeListener;mr.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function X2e(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?bpt(i):txe(i,i.length)}mr.prototype.listeners=function(e){return X2e(this,e,!0)};mr.prototype.rawListeners=function(e){return X2e(this,e,!1)};mr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):exe.call(t,e)};mr.prototype.listenerCount=exe;function exe(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}mr.prototype.eventNames=function(){return this._eventsCount>0?eS(this._events):[]};function txe(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function wpt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function bpt(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function vpt(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}nxe(t,e,s,{once:!0}),e!=="error"&&xpt(t,i,{once:!0})})}function xpt(t,e,n){typeof t.on=="function"&&nxe(t,"error",e,n)}function nxe(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var lc=Uq.exports;const zq=Ks(lc);var Une=function(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Ept=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Apt=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os="browser"}return t}(),Cpt=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),kpt=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Spt=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),_pt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Ipt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zne=3,Tpt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",_pt]],Wne=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function $pt(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Spt:typeof navigator<"u"?Ppt(navigator.userAgent):jpt()}function Npt(t){return t!==""&&Tpt.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Ppt(t){var e=Npt(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new kpt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<zne&&(i=Une(Une([],i,!0),Opt(zne-i.length))):i=[];var s=i.join("."),o=Rpt(t),a=Ipt.exec(t);return a&&a[1]?new Cpt(n,s,o,a[1]):new Ept(n,s,o)}function Rpt(t){for(var e=0,n=Wne.length;e<n;e++){var r=Wne[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function jpt(){var t=typeof process<"u"&&"v18.0.0";return t?new Apt("v18.0.0".slice(1)):null}function Opt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var tt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aF=function(t,e){return aF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aF(t,e)};function Mpt(t,e){aF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var lF=function(){return lF=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lF.apply(this,arguments)};function Dpt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bpt(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Lpt(t,e){return function(n,r){e(n,r,t)}}function Fpt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Upt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function zpt(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Wpt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Hpt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function cF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rxe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Vpt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rxe(arguments[e]));return t}function qpt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function n8(t){return this instanceof n8?(this.v=t,this):new n8(t)}function Gpt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof n8?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Kpt(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:n8(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Ypt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cF=="function"?cF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function Qpt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Zpt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Jpt(t){return t&&t.__esModule?t:{default:t}}function Xpt(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function e0t(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const t0t=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return lF},__asyncDelegator:Kpt,__asyncGenerator:Gpt,__asyncValues:Ypt,__await:n8,__awaiter:Upt,__classPrivateFieldGet:Xpt,__classPrivateFieldSet:e0t,__createBinding:Wpt,__decorate:Bpt,__exportStar:Hpt,__extends:Mpt,__generator:zpt,__importDefault:Jpt,__importStar:Zpt,__makeTemplateObject:Qpt,__metadata:Fpt,__param:Lpt,__read:rxe,__rest:Dpt,__spread:Vpt,__spreadArrays:qpt,__values:cF},Symbol.toStringTag,{value:"Module"})),B$=y3(t0t);var zj={},O5={},Hne;function n0t(){if(Hne)return O5;Hne=1,Object.defineProperty(O5,"__esModule",{value:!0}),O5.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return O5.delay=t,O5}var Gg={},Wj={},Kg={},Vne;function r0t(){return Vne||(Vne=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.ONE_THOUSAND=Kg.ONE_HUNDRED=void 0,Kg.ONE_HUNDRED=100,Kg.ONE_THOUSAND=1e3),Kg}var Hj={},qne;function i0t(){return qne||(qne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Hj)),Hj}var Gne;function ixe(){return Gne||(Gne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=B$;e.__exportStar(r0t(),t),e.__exportStar(i0t(),t)}(Wj)),Wj}var Kne;function s0t(){if(Kne)return Gg;Kne=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.fromMiliseconds=Gg.toMiliseconds=void 0;const t=ixe();function e(r){return r*t.ONE_THOUSAND}Gg.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Gg.fromMiliseconds=n,Gg}var Yne;function o0t(){return Yne||(Yne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=B$;e.__exportStar(n0t(),t),e.__exportStar(s0t(),t)}(zj)),zj}var fb={},Qne;function a0t(){if(Qne)return fb;Qne=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return fb.Watch=t,fb.default=t,fb}var Vj={},M5={},Zne;function l0t(){if(Zne)return M5;Zne=1,Object.defineProperty(M5,"__esModule",{value:!0}),M5.IWatch=void 0;class t{}return M5.IWatch=t,M5}var Jne;function c0t(){return Jne||(Jne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),B$.__exportStar(l0t(),t)}(Vj)),Vj}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=B$;e.__exportStar(o0t(),t),e.__exportStar(a0t(),t),e.__exportStar(c0t(),t),e.__exportStar(ixe(),t)})(tt);var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.getLocalStorage=Er.getLocalStorageOrThrow=Er.getCrypto=Er.getCryptoOrThrow=sxe=Er.getLocation=Er.getLocationOrThrow=Wq=Er.getNavigator=Er.getNavigatorOrThrow=rw=Er.getDocument=Er.getDocumentOrThrow=Er.getFromWindowOrThrow=Er.getFromWindow=void 0;function Lw(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Er.getFromWindow=Lw;function G3(t){const e=Lw(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Er.getFromWindowOrThrow=G3;function u0t(){return G3("document")}Er.getDocumentOrThrow=u0t;function d0t(){return Lw("document")}var rw=Er.getDocument=d0t;function h0t(){return G3("navigator")}Er.getNavigatorOrThrow=h0t;function f0t(){return Lw("navigator")}var Wq=Er.getNavigator=f0t;function p0t(){return G3("location")}Er.getLocationOrThrow=p0t;function m0t(){return Lw("location")}var sxe=Er.getLocation=m0t;function g0t(){return G3("crypto")}Er.getCryptoOrThrow=g0t;function y0t(){return Lw("crypto")}Er.getCrypto=y0t;function w0t(){return G3("localStorage")}Er.getLocalStorageOrThrow=w0t;function b0t(){return Lw("localStorage")}Er.getLocalStorage=b0t;var Hq={};Object.defineProperty(Hq,"__esModule",{value:!0});var oxe=Hq.getWindowMetadata=void 0;const Xne=Er;function v0t(){let t,e;try{t=Xne.getDocumentOrThrow(),e=Xne.getLocationOrThrow()}catch{return null}function n(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const m=h[p],g=m.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=m.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const v=e.pathname.split("/");v.pop();const b=v.join("/");w+=b+"/"+y}f.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;f.push(w)}else f.push(y)}}return f}function r(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const m=f[p],g=["itemprop","property","name"].map(y=>m.getAttribute(y)).filter(y=>y?h.includes(y):!1);if(g.length&&g){const y=m.getAttribute("content");if(y)return y}}return""}function i(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),l=e.origin,c=n();return{description:a,url:l,icons:c,name:o}}oxe=Hq.getWindowMetadata=v0t;function r8(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function uF(t){return r8(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const axe="2.31.0";let D5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${axe}`},L$=class dF extends Error{constructor(e,n={}){var a;const r=(()=>{var l;return n.cause instanceof dF?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof dF&&n.cause.docsPath||n.docsPath,s=(a=D5.getDocsUrl)==null?void 0:a.call(D5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...D5.version?[`Version: ${D5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=axe}walk(e){return lxe(this,e)}};function lxe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?lxe(t.cause,e):e?null:t}class cxe extends L${constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function K3(t,{dir:e,size:n=32}={}){return typeof t=="string"?x0t(t,{dir:e,size:n}):E0t(t,{dir:e,size:n})}function x0t(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new cxe({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function E0t(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new cxe({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class A0t extends L${constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class C0t extends L${constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Y3(t,{size:e}){if(uF(t)>e)throw new C0t({givenSize:uF(t),maxSize:e})}function hF(t,e={}){const{signed:n}=e;e.size&&Y3(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function k0t(t,e={}){return Number(hF(t,e))}const S0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fF(t,e={}){return typeof t=="number"||typeof t=="bigint"?dxe(t,e):typeof t=="string"?T0t(t,e):typeof t=="boolean"?_0t(t,e):uxe(t,e)}function _0t(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Y3(n,{size:e.size}),K3(n,{size:e.size})):n}function uxe(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=S0t[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Y3(r,{size:e.size}),K3(r,{dir:"right",size:e.size})):r}function dxe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new A0t({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?K3(a,{size:r}):a}const I0t=new TextEncoder;function T0t(t,e={}){const n=I0t.encode(t);return uxe(n,e)}const $0t=new TextEncoder;function N0t(t,e={}){return typeof t=="number"||typeof t=="bigint"?R0t(t,e):typeof t=="boolean"?P0t(t,e):r8(t)?hxe(t,e):fxe(t,e)}function P0t(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Y3(n,{size:e.size}),K3(n,{size:e.size})):n}const xf={zero:48,nine:57,A:65,F:70,a:97,f:102};function ere(t){if(t>=xf.zero&&t<=xf.nine)return t-xf.zero;if(t>=xf.A&&t<=xf.F)return t-(xf.A-10);if(t>=xf.a&&t<=xf.f)return t-(xf.a-10)}function hxe(t,e={}){let n=t;e.size&&(Y3(n,{size:e.size}),n=K3(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=ere(r.charCodeAt(a++)),c=ere(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new L$(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function R0t(t,e){const n=dxe(t,e);return hxe(n)}function fxe(t,e={}){const n=$0t.encode(t);return typeof e.size=="number"?(Y3(n,{size:e.size}),K3(n,{dir:"right",size:e.size})):n}const Sk=BigInt(2**32-1),tre=BigInt(32);function j0t(t,e=!1){return e?{h:Number(t&Sk),l:Number(t>>tre&Sk)}:{h:Number(t>>tre&Sk)|0,l:Number(t&Sk)|0}}function O0t(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=j0t(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const M0t=(t,e,n)=>t<<n|e>>>32-n,D0t=(t,e,n)=>e<<n|t>>>32-n,B0t=(t,e,n)=>e<<n-32|t>>>64-n,L0t=(t,e,n)=>t<<n-32|e>>>64-n,pb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function F0t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function E7(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function iw(t,...e){if(!F0t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aQt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");E7(t.outputLen),E7(t.blockLen)}function A7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pxe(t,e){iw(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function U0t(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function i8(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function qj(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ld(t,e){return t<<32-e|t>>>e}const z0t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function W0t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function H0t(t){for(let e=0;e<t.length;e++)t[e]=W0t(t[e]);return t}const nre=z0t?t=>t:H0t,V0t=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",q0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G0t(t){if(iw(t),V0t)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=q0t[t[n]];return e}function K0t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function F$(t){return typeof t=="string"&&(t=K0t(t)),iw(t),t}function lQt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];iw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let mxe=class{};function gxe(t){const e=r=>t().update(F$(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Y0t(t){const e=(r,i)=>t(i).update(F$(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function uQt(t=32){if(pb&&typeof pb.getRandomValues=="function")return pb.getRandomValues(new Uint8Array(t));if(pb&&typeof pb.randomBytes=="function")return Uint8Array.from(pb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Q0t=BigInt(0),B5=BigInt(1),Z0t=BigInt(2),J0t=BigInt(7),X0t=BigInt(256),emt=BigInt(113),yxe=[],wxe=[],bxe=[];for(let t=0,e=B5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],yxe.push(2*(5*r+n)),wxe.push((t+1)*(t+2)/2%64);let i=Q0t;for(let s=0;s<7;s++)e=(e<<B5^(e>>J0t)*emt)%X0t,e&Z0t&&(i^=B5<<(B5<<BigInt(s))-B5);bxe.push(i)}const vxe=O0t(bxe,!0),tmt=vxe[0],nmt=vxe[1],rre=(t,e,n)=>n>32?B0t(t,e,n):M0t(t,e,n),ire=(t,e,n)=>n>32?L0t(t,e,n):D0t(t,e,n);function xxe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=rre(c,u,1)^n[a],f=ire(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=wxe[o],l=rre(i,s,a),c=ire(i,s,a),u=yxe[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=tmt[r],t[1]^=nmt[r]}i8(n)}let Vq=class Exe extends mxe{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,E7(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=U0t(this.state)}clone(){return this._cloneInto()}keccak(){nre(this.state32),xxe(this.state32,this.rounds),nre(this.state32),this.posOut=0,this.pos=0}update(e){A7(this),e=F$(e),iw(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){A7(this,!1),iw(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return E7(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pxe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,i8(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Exe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const jg=(t,e,n)=>gxe(()=>new Vq(e,t,n)),rmt=jg(6,144,224/8),imt=jg(6,136,256/8),smt=jg(6,104,384/8),omt=jg(6,72,512/8),amt=jg(1,144,224/8),Axe=jg(1,136,256/8),lmt=jg(1,104,384/8),cmt=jg(1,72,512/8),Cxe=(t,e,n)=>Y0t((r={})=>new Vq(e,t,r.dkLen===void 0?n:r.dkLen,!0)),umt=Cxe(31,168,128/8),dmt=Cxe(31,136,256/8),hmt=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Vq,keccakP:xxe,keccak_224:amt,keccak_256:Axe,keccak_384:lmt,keccak_512:cmt,sha3_224:rmt,sha3_256:imt,sha3_384:smt,sha3_512:omt,shake128:umt,shake256:dmt},Symbol.toStringTag,{value:"Module"}));function kxe(t,e){const n=e||"hex",r=Axe(r8(t,{strict:!1})?N0t(t):t);return n==="bytes"?r:fF(r)}class fmt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Gj=new fmt(8192);function pmt(t,e){if(Gj.has(`${t}.${e}`))return Gj.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=kxe(fxe(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Gj.set(`${t}.${e}`,s),s}function mmt(t){const e=kxe(`0x${t.substring(4)}`).substring(26);return pmt(`0x${e}`)}async function gmt({hash:t,signature:e}){const n=r8(t)?t:fF(t),{secp256k1:r}=await Mh(async()=>{const{secp256k1:o}=await import("./secp256k1-0ODQUyEd.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=sre(p);return new r.Signature(hF(c),hF(u)).addRecoveryBit(m)}const o=r8(e)?e:fF(e);if(uF(o)!==65)throw new Error("invalid signature length");const a=k0t(`0x${o.slice(130)}`),l=sre(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function sre(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function ymt({hash:t,signature:e}){return mmt(await gmt({hash:t,signature:e}))}function wmt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function bmt(t,e,n){return t&e^~t&n}function vmt(t,e,n){return t&e^t&n^e&n}let xmt=class extends mxe{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=qj(this.buffer)}update(e){A7(this),e=F$(e),iw(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=qj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){A7(this),pxe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,i8(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;wmt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=qj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const b0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Emt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),v0=new Uint32Array(64);let Amt=class extends xmt{constructor(e=32){super(64,e,8,!1),this.A=b0[0]|0,this.B=b0[1]|0,this.C=b0[2]|0,this.D=b0[3]|0,this.E=b0[4]|0,this.F=b0[5]|0,this.G=b0[6]|0,this.H=b0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)v0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=v0[h-15],p=v0[h-2],m=Ld(f,7)^Ld(f,18)^f>>>3,g=Ld(p,17)^Ld(p,19)^p>>>10;v0[h]=g+v0[h-7]+m+v0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Ld(a,6)^Ld(a,11)^Ld(a,25),p=u+f+bmt(a,l,c)+Emt[h]+v0[h]|0,g=(Ld(r,2)^Ld(r,13)^Ld(r,22))+vmt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){i8(v0)}destroy(){this.set(0,0,0,0,0,0,0,0),i8(this.buffer)}};const Cmt=gxe(()=>new Amt),kmt=Cmt;function Smt(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,f=0;const p=c.length;for(;f!==p&&c[f]===0;)f++,u++;const m=(p-f)*s+1>>>0,g=new Uint8Array(m);for(;f!==p;){let v=c[f],b=0;for(let A=m-1;(v!==0||b<h)&&A!==-1;A--,b++)v+=256*g[A]>>>0,g[A]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");h=b,f++}let y=m-h;for(;y!==m&&g[y]===0;)y++;let w=r.repeat(u);for(;y<m;++y)w+=t.charAt(g[y]);return w}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;c[u]===r;)h++,u++;const p=(c.length-u)*i+1>>>0,m=new Uint8Array(p);for(;u<c.length;){const v=c.charCodeAt(u);if(v>255)return;let b=e[v];if(b===255)return;let A=0;for(let E=p-1;(b!==0||A<f)&&E!==-1;E--,A++)b+=n*m[E]>>>0,m[E]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=A,u++}let g=p-f;for(;g!==p&&m[g]===0;)g++;const y=new Uint8Array(h+(p-g));let w=h;for(;g!==p;)y[w++]=m[g++];return y}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var _mt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const JA=Smt(_mt);function Imt(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Tmt(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const $mt=new TextEncoder,Nmt=50;function Pmt(t,e,n){$mt.encodeInto(t,e.subarray(n))}function Rmt(t,e,n){t.length>Nmt?Pmt(t,e,n):Tmt(t,e,n)}const jmt=4096;function Sxe(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if(!(a&128))s.push(a);else if((a&224)===192){const l=t[r++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[r++]&63,c=t[r++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[r++]&63,c=t[r++]&63,u=t[r++]&63;let h=(a&7)<<18|l<<12|c<<6|u;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=jmt&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const Omt=new TextDecoder,Mmt=200;function Dmt(t,e,n){const r=t.subarray(e,e+n);return Omt.decode(r)}function Bmt(t,e,n){return n>Mmt?Dmt(t,e,n):Sxe(t,e,n)}class _k{constructor(e,n){this.type=e,this.data=n}}class Tl extends Error{constructor(e){super(e);const n=Object.create(Tl.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Tl.name})}}const L5=4294967295;function Lmt(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function _xe(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function Ixe(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Fmt(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Umt=-1,zmt=4294967296-1,Wmt=17179869184-1;function Hmt({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Wmt)if(e===0&&t<=zmt){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),_xe(r,4,t),n}}function Vmt(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function qmt(t){if(t instanceof Date){const e=Vmt(t);return Hmt(e)}else return null}function Gmt(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=Ixe(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Tl(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Kmt(t){const e=Gmt(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Ymt={type:Umt,encode:qmt,decode:Kmt};class C7{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Ymt)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new _k(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new _k(o,s)}}}return e instanceof _k?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new _k(n,e)}}C7.defaultCodec=new C7;function Qmt(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function pF(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Qmt(t)?new Uint8Array(t):Uint8Array.from(t)}const Zmt=100,Jmt=2048;let Xmt=class Txe{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??C7.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Zmt,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Jmt,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Txe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Imt(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Rmt(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=pF(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Lmt(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),_xe(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function egt(t,e){return new Xmt(e).encodeSharedRef(t)}function Kj(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const tgt=16,ngt=16;class rgt{constructor(e=tgt,n=ngt){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=Sxe(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const mF="array",h4="map_key",$xe="map_value",igt=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Tl("The type of key must be string or number but "+typeof t)};class sgt{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=mF,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=h4,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===mF){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===h4||e.type===$xe){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const F5=-1,qq=new DataView(new ArrayBuffer(0)),ogt=new Uint8Array(qq.buffer);try{qq.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const ore=new RangeError("Insufficient data"),agt=new rgt;let lgt=class Nxe{constructor(e){this.totalPos=0,this.pos=0,this.view=qq,this.bytes=ogt,this.headByte=F5,this.stack=new sgt,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??C7.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??L5,this.maxBinLength=(e==null?void 0:e.maxBinLength)??L5,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??L5,this.maxMapLength=(e==null?void 0:e.maxMapLength)??L5,this.maxExtLength=(e==null?void 0:e.maxExtLength)??L5,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:agt,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??igt}clone(){return new Nxe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=F5,this.stack.reset()}setBuffer(e){const n=pF(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===F5&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=pF(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Kj(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Tl(`Unrecognized type byte: ${Kj(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===mF)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===h4){if(n==="__proto__")throw new Tl("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=$xe;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=h4;continue e}}return n}}readHeadByte(){return this.headByte===F5&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=F5}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Tl(`Unrecognized array type byte: ${Kj(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Tl(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Tl(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new Tl(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw ore;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=Bmt(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===h4:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Tl(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw ore;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Tl(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Fmt(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Ixe(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function cgt(t,e){return new lgt(e).decode(t)}const ugt=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),dgt=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function sw(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return dgt(t)}catch{return t}}function Qp(t){return typeof t=="string"?t:ugt(t)||""}function hgt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Pxe(t,...e){if(!hgt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function are(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fgt(t,e){Pxe(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const mb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yj=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function pgt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Rxe(t){return typeof t=="string"&&(t=pgt(t)),Pxe(t),t}let mgt=class{clone(){return this._cloneInto()}};function ggt(t){const e=r=>t().update(Rxe(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function jxe(t=32){if(mb&&typeof mb.getRandomValues=="function")return mb.getRandomValues(new Uint8Array(t));if(mb&&typeof mb.randomBytes=="function")return mb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function ygt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}let wgt=class extends mgt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Yj(this.buffer)}update(e){are(this);const{view:n,buffer:r,blockLen:i}=this;e=Rxe(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Yj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){are(this),fgt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;ygt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Yj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Ik=BigInt(2**32-1),gF=BigInt(32);function Oxe(t,e=!1){return e?{h:Number(t&Ik),l:Number(t>>gF&Ik)}:{h:Number(t>>gF&Ik)|0,l:Number(t&Ik)|0}}function bgt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Oxe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const vgt=(t,e)=>BigInt(t>>>0)<<gF|BigInt(e>>>0),xgt=(t,e,n)=>t>>>n,Egt=(t,e,n)=>t<<32-n|e>>>n,Agt=(t,e,n)=>t>>>n|e<<32-n,Cgt=(t,e,n)=>t<<32-n|e>>>n,kgt=(t,e,n)=>t<<64-n|e>>>n-32,Sgt=(t,e,n)=>t>>>n-32|e<<64-n,_gt=(t,e)=>e,Igt=(t,e)=>t,Tgt=(t,e,n)=>t<<n|e>>>32-n,$gt=(t,e,n)=>e<<n|t>>>32-n,Ngt=(t,e,n)=>e<<n-32|t>>>64-n,Pgt=(t,e,n)=>t<<n-32|e>>>64-n;function Rgt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const jgt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ogt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Mgt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Dgt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Bgt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Lgt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,fn={fromBig:Oxe,split:bgt,toBig:vgt,shrSH:xgt,shrSL:Egt,rotrSH:Agt,rotrSL:Cgt,rotrBH:kgt,rotrBL:Sgt,rotr32H:_gt,rotr32L:Igt,rotlSH:Tgt,rotlSL:$gt,rotlBH:Ngt,rotlBL:Pgt,add:Rgt,add3L:jgt,add3H:Ogt,add4L:Mgt,add4H:Dgt,add5H:Lgt,add5L:Bgt},[Fgt,Ugt]=fn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),x0=new Uint32Array(80),E0=new Uint32Array(80);let zgt=class extends wgt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)x0[b]=e.getUint32(n),E0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=x0[b-15]|0,E=E0[b-15]|0,$=fn.rotrSH(A,E,1)^fn.rotrSH(A,E,8)^fn.shrSH(A,E,7),N=fn.rotrSL(A,E,1)^fn.rotrSL(A,E,8)^fn.shrSL(A,E,7),R=x0[b-2]|0,M=E0[b-2]|0,F=fn.rotrSH(R,M,19)^fn.rotrBH(R,M,61)^fn.shrSH(R,M,6),W=fn.rotrSL(R,M,19)^fn.rotrBL(R,M,61)^fn.shrSL(R,M,6),V=fn.add4L(N,W,E0[b-7],E0[b-16]),B=fn.add4H(V,$,F,x0[b-7],x0[b-16]);x0[b]=B|0,E0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=fn.rotrSH(h,f,14)^fn.rotrSH(h,f,18)^fn.rotrBH(h,f,41),E=fn.rotrSL(h,f,14)^fn.rotrSL(h,f,18)^fn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=fn.add5L(v,E,N,Ugt[b],E0[b]),M=fn.add5H(R,w,A,$,Fgt[b],x0[b]),F=R|0,W=fn.rotrSH(r,i,28)^fn.rotrBH(r,i,34)^fn.rotrBH(r,i,39),V=fn.rotrSL(r,i,28)^fn.rotrBL(r,i,34)^fn.rotrBL(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=fn.add(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=fn.add3L(F,V,k);r=fn.add3H(C,M,W,B),i=C|0}({h:r,l:i}=fn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=fn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=fn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=fn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=fn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=fn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=fn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=fn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){x0.fill(0),E0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Wgt=ggt(()=>new zgt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gq=BigInt(0),Mxe=BigInt(1),Hgt=BigInt(2);function Kq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yq(t){if(!Kq(t))throw new Error("Uint8Array expected")}function Qj(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Vgt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qq(t){Yq(t);let e="";for(let n=0;n<t.length;n++)e+=Vgt[t[n]];return e}function Dxe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Gq:BigInt("0x"+t)}const Ef={_0:48,_9:57,A:65,F:70,a:97,f:102};function lre(t){if(t>=Ef._0&&t<=Ef._9)return t-Ef._0;if(t>=Ef.A&&t<=Ef.F)return t-(Ef.A-10);if(t>=Ef.a&&t<=Ef.f)return t-(Ef.a-10)}function Bxe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=lre(t.charCodeAt(s)),a=lre(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function qgt(t){return Dxe(Qq(t))}function tS(t){return Yq(t),Dxe(Qq(Uint8Array.from(t).reverse()))}function Lxe(t,e){return Bxe(t.toString(16).padStart(e*2,"0"))}function yF(t,e){return Lxe(t,e).reverse()}function Af(t,e,n){let r;if(typeof e=="string")try{r=Bxe(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Kq(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function cre(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Yq(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Zj=t=>typeof t=="bigint"&&Gq<=t;function Ggt(t,e,n){return Zj(t)&&Zj(e)&&Zj(n)&&e<=t&&t<n}function U5(t,e,n,r){if(!Ggt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Kgt(t){let e;for(e=0;t>Gq;t>>=Mxe,e+=1);return e}const Ygt=t=>(Hgt<<BigInt(t-1))-Mxe,Qgt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Kq(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Zq(t,e,n={}){const r=(i,s,o)=>{const a=Qgt[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function ure(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const xs=BigInt(0),Pi=BigInt(1),dy=BigInt(2),Zgt=BigInt(3),wF=BigInt(4),dre=BigInt(5),hre=BigInt(8);function ns(t,e){const n=t%e;return n>=xs?n:e+n}function Jgt(t,e,n){if(e<xs)throw new Error("invalid exponent, negatives unsupported");if(n<=xs)throw new Error("invalid modulus");if(n===Pi)return xs;let r=Pi;for(;e>xs;)e&Pi&&(r=r*t%n),t=t*t%n,e>>=Pi;return r}function Fd(t,e,n){let r=t;for(;e-- >xs;)r*=r,r%=n;return r}function fre(t,e){if(t===xs)throw new Error("invert: expected non-zero number");if(e<=xs)throw new Error("invert: expected positive modulus, got "+e);let n=ns(t,e),r=e,i=xs,s=Pi;for(;n!==xs;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}if(r!==Pi)throw new Error("invert: does not exist");return ns(i,e)}function Xgt(t){const e=(t-Pi)/dy;let n,r,i;for(n=t-Pi,r=0;n%dy===xs;n/=dy,r++);for(i=dy;i<t&&Jgt(i,e,t)!==t-Pi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Pi)/wF;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(n+Pi)/dy;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=r,c=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let m=o.sqr(h);f<l&&!o.eql(m,o.ONE);f++)m=o.sqr(m);const p=o.pow(c,Pi<<BigInt(l-f-1));c=o.sqr(p),u=o.mul(u,p),h=o.mul(h,c),l=f}return u}}function eyt(t){if(t%wF===Zgt){const e=(t+Pi)/wF;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%hre===dre){const e=(t-dre)/hre;return function(n,r){const i=n.mul(r,dy),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,dy),s),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return Xgt(t)}const tyt=(t,e)=>(ns(t,e)&Pi)===Pi,nyt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ryt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=nyt.reduce((r,i)=>(r[i]="function",r),e);return Zq(t,n)}function iyt(t,e,n){if(n<xs)throw new Error("invalid exponent, negatives unsupported");if(n===xs)return t.ONE;if(n===Pi)return e;let r=t.ONE,i=e;for(;n>xs;)n&Pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Pi;return r}function syt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Fxe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Uxe(t,e,n=!1,r={}){if(t<=xs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Fxe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Ygt(i),ZERO:xs,ONE:Pi,create:l=>ns(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return xs<=l&&l<t},is0:l=>l===xs,isOdd:l=>(l&Pi)===Pi,neg:l=>ns(-l,t),eql:(l,c)=>l===c,sqr:l=>ns(l*l,t),add:(l,c)=>ns(l+c,t),sub:(l,c)=>ns(l-c,t),mul:(l,c)=>ns(l*c,t),pow:(l,c)=>iyt(a,l,c),div:(l,c)=>ns(l*fre(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>fre(l,t),sqrt:r.sqrt||(l=>(o||(o=eyt(t)),o(a,l))),invertBatch:l=>syt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?yF(l,s):Lxe(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?tS(l):qgt(l)}});return Object.freeze(a)}const pre=BigInt(0),Tk=BigInt(1);function Jj(t,e){const n=e.negate();return t?n:e}function zxe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Xj(t,e){zxe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function oyt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ayt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const eO=new WeakMap,Wxe=new WeakMap;function tO(t){return Wxe.get(t)||1}function lyt(t,e){return{constTimeNegate:Jj,hasPrecomputes(n){return tO(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>pre;)r&Tk&&(i=i.add(s)),s=s.double(),r>>=Tk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Xj(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Xj(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=Tk);const g=p,y=p+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?l=l.add(Jj(w,r[g])):a=a.add(Jj(v,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Xj(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===pre)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=Tk),p===0)continue;let m=r[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=eO.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&eO.set(r,i(s))),s},wNAFCached(n,r,i){const s=tO(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=tO(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){zxe(r,e),Wxe.set(n,r),eO.delete(n)}}}function cyt(t,e,n,r){if(oyt(n,t),ayt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Kgt(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<r.length;p++){const m=r[p],g=Number(m>>BigInt(h)&BigInt(a));l[g]=l[g].add(n[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function uyt(t){return ryt(t.Fp),Zq(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fxe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const xu=BigInt(0),Ca=BigInt(1),$k=BigInt(2),dyt=BigInt(8),hyt={zip215:!0};function fyt(t){const e=uyt(t);return Zq(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function pyt(t){const e=fyt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=$k<<BigInt(a*8)-Ca,u=n.create,h=Uxe(e.n,e.nBitLength),f=e.uvRatio||((C,S)=>{try{return{isValid:!0,value:n.sqrt(C*n.inv(S))}}catch{return{isValid:!1,value:xu}}}),p=e.adjustScalarBytes||(C=>C),m=e.domain||((C,S,T)=>{if(Qj("phflag",T),S.length||T)throw new Error("Contexts/pre-hash are not supported");return C});function g(C,S){U5("coordinate "+C,S,xu,c)}function y(C){if(!(C instanceof b))throw new Error("ExtendedPoint expected")}const w=ure((C,S)=>{const{ex:T,ey:_,ez:P}=C,D=C.is0();S==null&&(S=D?dyt:n.inv(P));const j=u(T*S),I=u(_*S),L=u(P*S);if(D)return{x:xu,y:Ca};if(L!==Ca)throw new Error("invZ was invalid");return{x:j,y:I}}),v=ure(C=>{const{a:S,d:T}=e;if(C.is0())throw new Error("bad point: ZERO");const{ex:_,ey:P,ez:D,et:j}=C,I=u(_*_),L=u(P*P),J=u(D*D),O=u(J*J),G=u(I*S),Z=u(J*u(G+L)),Q=u(O+u(T*u(I*L)));if(Z!==Q)throw new Error("bad point: equation left != right (1)");const ie=u(_*P),de=u(D*j);if(ie!==de)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(S,T,_,P){this.ex=S,this.ey=T,this.ez=_,this.et=P,g("x",S),g("y",T),g("z",_),g("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof b)throw new Error("extended point not allowed");const{x:T,y:_}=S||{};return g("x",T),g("y",_),new b(T,_,Ca,u(T*_))}static normalizeZ(S){const T=n.invertBatch(S.map(_=>_.ez));return S.map((_,P)=>_.toAffine(T[P])).map(b.fromAffine)}static msm(S,T){return cyt(b,h,S,T)}_setWindowSize(S){$.setWindowSize(this,S)}assertValidity(){v(this)}equals(S){y(S);const{ex:T,ey:_,ez:P}=this,{ex:D,ey:j,ez:I}=S,L=u(T*I),J=u(D*P),O=u(_*I),G=u(j*P);return L===J&&O===G}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:S}=e,{ex:T,ey:_,ez:P}=this,D=u(T*T),j=u(_*_),I=u($k*u(P*P)),L=u(S*D),J=T+_,O=u(u(J*J)-D-j),G=L+j,Z=G-I,Q=L-j,ie=u(O*Z),de=u(G*Q),oe=u(O*Q),he=u(Z*G);return new b(ie,de,he,oe)}add(S){y(S);const{a:T,d:_}=e,{ex:P,ey:D,ez:j,et:I}=this,{ex:L,ey:J,ez:O,et:G}=S;if(T===BigInt(-1)){const Se=u((D-P)*(J+L)),xe=u((D+P)*(J-L)),Ne=u(xe-Se);if(Ne===xu)return this.double();const Be=u(j*$k*G),Ce=u(I*$k*O),De=Ce+Be,Ve=xe+Se,rt=Ce-Be,K=u(De*Ne),U=u(Ve*rt),z=u(De*rt),ee=u(Ne*Ve);return new b(K,U,ee,z)}const Z=u(P*L),Q=u(D*J),ie=u(I*_*G),de=u(j*O),oe=u((P+D)*(L+J)-Z-Q),he=de-ie,we=de+ie,fe=u(Q-T*Z),ke=u(oe*he),be=u(we*fe),Ue=u(oe*fe),Me=u(he*we);return new b(ke,be,Me,Ue)}subtract(S){return this.add(S.negate())}wNAF(S){return $.wNAFCached(this,S,b.normalizeZ)}multiply(S){const T=S;U5("scalar",T,Ca,r);const{p:_,f:P}=this.wNAF(T);return b.normalizeZ([_,P])[0]}multiplyUnsafe(S,T=b.ZERO){const _=S;return U5("scalar",_,xu,r),_===xu?E:this.is0()||_===Ca?this:$.wNAFCachedUnsafe(this,_,b.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(S){return w(this,S)}clearCofactor(){const{h:S}=e;return S===Ca?this:this.multiplyUnsafe(S)}static fromHex(S,T=!1){const{d:_,a:P}=e,D=n.BYTES;S=Af("pointHex",S,D),Qj("zip215",T);const j=S.slice(),I=S[D-1];j[D-1]=I&-129;const L=tS(j),J=T?c:n.ORDER;U5("pointHex.y",L,xu,J);const O=u(L*L),G=u(O-Ca),Z=u(_*O-P);let{isValid:Q,value:ie}=f(G,Z);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const de=(ie&Ca)===Ca,oe=(I&128)!==0;if(!T&&ie===xu&&oe)throw new Error("Point.fromHex: x=0 and x_0=1");return oe!==de&&(ie=u(-ie)),b.fromAffine({x:ie,y:L})}static fromPrivateKey(S){return M(S).point}toRawBytes(){const{x:S,y:T}=this.toAffine(),_=yF(T,n.BYTES);return _[_.length-1]|=S&Ca?128:0,_}toHex(){return Qq(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Ca,u(e.Gx*e.Gy)),b.ZERO=new b(xu,Ca,Ca,xu);const{BASE:A,ZERO:E}=b,$=lyt(b,a*8);function N(C){return ns(C,r)}function R(C){return N(tS(C))}function M(C){const S=n.BYTES;C=Af("private key",C,S);const T=Af("hashed private key",s(C),2*S),_=p(T.slice(0,S)),P=T.slice(S,2*S),D=R(_),j=A.multiply(D),I=j.toRawBytes();return{head:_,prefix:P,scalar:D,point:j,pointBytes:I}}function F(C){return M(C).pointBytes}function W(C=new Uint8Array,...S){const T=cre(...S);return R(s(m(T,Af("context",C),!!i)))}function V(C,S,T={}){C=Af("message",C),i&&(C=i(C));const{prefix:_,scalar:P,pointBytes:D}=M(S),j=W(T.context,_,C),I=A.multiply(j).toRawBytes(),L=W(T.context,I,D,C),J=N(j+L*P);U5("signature.s",J,xu,r);const O=cre(I,yF(J,n.BYTES));return Af("result",O,n.BYTES*2)}const B=hyt;function k(C,S,T,_=B){const{context:P,zip215:D}=_,j=n.BYTES;C=Af("signature",C,2*j),S=Af("message",S),T=Af("publicKey",T,j),D!==void 0&&Qj("zip215",D),i&&(S=i(S));const I=tS(C.slice(j,2*j));let L,J,O;try{L=b.fromHex(T,D),J=b.fromHex(C.slice(0,j),D),O=A.multiplyUnsafe(I)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const G=W(P,J.toRawBytes(),L.toRawBytes(),S);return J.add(L.multiplyUnsafe(G)).subtract(O).clearCofactor().equals(b.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:V,verify:k,ExtendedPoint:b,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute(C=8,S=b.BASE){return S._setWindowSize(C),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const Jq=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),mre=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const myt=BigInt(1),gre=BigInt(2);BigInt(3);const gyt=BigInt(5),yyt=BigInt(8);function wyt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Jq,o=t*t%s*t%s,a=Fd(o,gre,s)*o%s,l=Fd(a,myt,s)*t%s,c=Fd(l,gyt,s)*l%s,u=Fd(c,e,s)*c%s,h=Fd(u,n,s)*u%s,f=Fd(h,r,s)*h%s,p=Fd(f,i,s)*f%s,m=Fd(p,i,s)*f%s,g=Fd(m,e,s)*c%s;return{pow_p_5_8:Fd(g,gre,s)*t%s,b2:o}}function byt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function vyt(t,e){const n=Jq,r=ns(e*e*e,n),i=ns(r*r*e,n),s=wyt(t*i).pow_p_5_8;let o=ns(t*r*s,n);const a=ns(e*o*o,n),l=o,c=ns(o*mre,n),u=a===t,h=a===ns(-t,n),f=a===ns(-t*mre,n);return u&&(o=l),(h||f)&&(o=c),tyt(o,n)&&(o=ns(-o,n)),{isValid:u||h,value:o}}const xyt=Uxe(Jq,void 0,!0),Eyt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:xyt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:yyt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Wgt,randomBytes:jxe,adjustScalarBytes:byt,uvRatio:vyt},Hxe=pyt(Eyt),Ayt="EdDSA",Cyt="JWT",k7=".",U$="base64url",Vxe="utf8",qxe="utf8",kyt=":",Syt="did",_yt="key",yre="base58btc",Iyt="z",Tyt="K36",$yt=32;function Xq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Gxe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Kxe(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Gxe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Xq(n)}function Nyt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var M=l.repeat(g);R<b;++R)M+=t.charAt(A[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),M=y;N!==v;)R[M++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var Pyt=Nyt,Ryt=Pyt;const Yxe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jyt=t=>new TextEncoder().encode(t),Oyt=t=>new TextDecoder().decode(t);let Myt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Dyt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Qxe(this,e)}},Byt=class{constructor(e){this.decoders=e}or(e){return Qxe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Qxe=(t,e)=>new Byt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Lyt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Myt(e,n,r),this.decoder=new Dyt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const z$=({name:t,prefix:e,encode:n,decode:r})=>new Lyt(t,e,n,r),XA=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Ryt(n,e);return z$({prefix:t,name:e,encode:r,decode:s=>Yxe(i(s))})},Fyt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},Uyt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Zs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>z$({prefix:e,name:t,encode(i){return Uyt(i,r,n)},decode(i){return Fyt(i,r,n,t)}}),zyt=z$({prefix:"\0",name:"identity",encode:t=>Oyt(t),decode:t=>jyt(t)});var Wyt=Object.freeze({__proto__:null,identity:zyt});const Hyt=Zs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Vyt=Object.freeze({__proto__:null,base2:Hyt});const qyt=Zs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gyt=Object.freeze({__proto__:null,base8:qyt});const Kyt=XA({prefix:"9",name:"base10",alphabet:"0123456789"});var Yyt=Object.freeze({__proto__:null,base10:Kyt});const Qyt=Zs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Zyt=Zs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Jyt=Object.freeze({__proto__:null,base16:Qyt,base16upper:Zyt});const Xyt=Zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),e1t=Zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),t1t=Zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),n1t=Zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),r1t=Zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),i1t=Zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),s1t=Zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),o1t=Zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),a1t=Zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l1t=Object.freeze({__proto__:null,base32:Xyt,base32upper:e1t,base32pad:t1t,base32padupper:n1t,base32hex:r1t,base32hexupper:i1t,base32hexpad:s1t,base32hexpadupper:o1t,base32z:a1t});const c1t=XA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),u1t=XA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var d1t=Object.freeze({__proto__:null,base36:c1t,base36upper:u1t});const h1t=XA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),f1t=XA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var p1t=Object.freeze({__proto__:null,base58btc:h1t,base58flickr:f1t});const m1t=Zs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),g1t=Zs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),y1t=Zs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),w1t=Zs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var b1t=Object.freeze({__proto__:null,base64:m1t,base64pad:g1t,base64url:y1t,base64urlpad:w1t});const Zxe=Array.from(""),v1t=Zxe.reduce((t,e,n)=>(t[n]=e,t),[]),x1t=Zxe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function E1t(t){return t.reduce((e,n)=>(e+=v1t[n],e),"")}function A1t(t){const e=[];for(const n of t){const r=x1t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const C1t=z$({prefix:"",name:"base256emoji",encode:E1t,decode:A1t});var k1t=Object.freeze({__proto__:null,base256emoji:C1t}),S1t=Jxe,wre=128,_1t=127,I1t=~_1t,T1t=Math.pow(2,31);function Jxe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=T1t;)e[n++]=t&255|wre,t/=128;for(;t&I1t;)e[n++]=t&255|wre,t>>>=7;return e[n]=t|0,Jxe.bytes=n-r+1,e}var $1t=bF,N1t=128,bre=127;function bF(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw bF.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&bre)<<i:(o&bre)*Math.pow(2,i),i+=7}while(o>=N1t);return bF.bytes=s-r,n}var P1t=Math.pow(2,7),R1t=Math.pow(2,14),j1t=Math.pow(2,21),O1t=Math.pow(2,28),M1t=Math.pow(2,35),D1t=Math.pow(2,42),B1t=Math.pow(2,49),L1t=Math.pow(2,56),F1t=Math.pow(2,63),U1t=function(t){return t<P1t?1:t<R1t?2:t<j1t?3:t<O1t?4:t<M1t?5:t<D1t?6:t<B1t?7:t<L1t?8:t<F1t?9:10},z1t={encode:S1t,decode:$1t,encodingLength:U1t},Xxe=z1t;const vre=(t,e,n=0)=>(Xxe.encode(t,e,n),e),xre=t=>Xxe.encodingLength(t),vF=(t,e)=>{const n=e.byteLength,r=xre(t),i=r+xre(n),s=new Uint8Array(i+n);return vre(t,s,0),vre(n,s,r),s.set(e,i),new W1t(t,n,e,s)};let W1t=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const e3e=({name:t,code:e,encode:n})=>new H1t(t,e,n);let H1t=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?vF(this.code,n):n.then(r=>vF(this.code,r))}else throw Error("Unknown type, must be binary type")}};const t3e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),V1t=e3e({name:"sha2-256",code:18,encode:t3e("SHA-256")}),q1t=e3e({name:"sha2-512",code:19,encode:t3e("SHA-512")});var G1t=Object.freeze({__proto__:null,sha256:V1t,sha512:q1t});const n3e=0,K1t="identity",r3e=Yxe,Y1t=t=>vF(n3e,r3e(t)),Q1t={code:n3e,name:K1t,encode:r3e,digest:Y1t};var Z1t=Object.freeze({__proto__:null,identity:Q1t});new TextEncoder,new TextDecoder;const Ere={...Wyt,...Vyt,...Gyt,...Yyt,...Jyt,...l1t,...d1t,...p1t,...b1t,...k1t};({...G1t,...Z1t});function i3e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Are=i3e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),nO=i3e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Gxe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),s3e={utf8:Are,"utf-8":Are,hex:Ere.base16,latin1:nO,ascii:nO,binary:nO,...Ere};function W$(t,e="utf8"){const n=s3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Q3(t,e="utf8"){const n=s3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Cre(t){return sw(W$(Q3(t,U$),Vxe))}function S7(t){return W$(Q3(Qp(t),Vxe),U$)}function o3e(t){const e=Q3(Tyt,yre),n=Iyt+W$(Kxe([e,t]),yre);return[Syt,_yt,n].join(kyt)}function J1t(t){return W$(t,U$)}function X1t(t){return Q3(t,U$)}function ewt(t){return Q3([S7(t.header),S7(t.payload)].join(k7),qxe)}function twt(t){return[S7(t.header),S7(t.payload),J1t(t.signature)].join(k7)}function xF(t){const e=t.split(k7),n=Cre(e[0]),r=Cre(e[1]),i=X1t(e[2]),s=Q3(e.slice(0,2).join(k7),qxe);return{header:n,payload:r,signature:i,data:s}}function kre(t=jxe($yt)){const e=Hxe.getPublicKey(t);return{secretKey:Kxe([t,e]),publicKey:e}}async function nwt(t,e,n,r,i=tt.fromMiliseconds(Date.now())){const s={alg:Ayt,typ:Cyt},o=o3e(r.publicKey),a=i+n,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=ewt({header:s,payload:l}),u=Hxe.sign(c,r.secretKey.slice(0,32));return twt({header:s,payload:l,signature:u})}function eG(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function a3e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?eG(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function f4(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=a3e(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return eG(n)}function rwt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var M=l.repeat(g);R<b;++R)M+=t.charAt(A[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),M=y;N!==v;)R[M++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var iwt=rwt,swt=iwt;const owt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},awt=t=>new TextEncoder().encode(t),lwt=t=>new TextDecoder().decode(t);class cwt{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class uwt{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return l3e(this,e)}}class dwt{constructor(e){this.decoders=e}or(e){return l3e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const l3e=(t,e)=>new dwt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hwt{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new cwt(e,n,r),this.decoder=new uwt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const H$=({name:t,prefix:e,encode:n,decode:r})=>new hwt(t,e,n,r),eC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=swt(n,e);return H$({prefix:t,name:e,encode:r,decode:s=>owt(i(s))})},fwt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},pwt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>H$({prefix:e,name:t,encode(i){return pwt(i,r,n)},decode(i){return fwt(i,r,n,t)}}),mwt=H$({prefix:"\0",name:"identity",encode:t=>lwt(t),decode:t=>awt(t)}),gwt=Object.freeze(Object.defineProperty({__proto__:null,identity:mwt},Symbol.toStringTag,{value:"Module"})),ywt=Js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wwt=Object.freeze(Object.defineProperty({__proto__:null,base2:ywt},Symbol.toStringTag,{value:"Module"})),bwt=Js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),vwt=Object.freeze(Object.defineProperty({__proto__:null,base8:bwt},Symbol.toStringTag,{value:"Module"})),xwt=eC({prefix:"9",name:"base10",alphabet:"0123456789"}),Ewt=Object.freeze(Object.defineProperty({__proto__:null,base10:xwt},Symbol.toStringTag,{value:"Module"})),Awt=Js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Cwt=Js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),kwt=Object.freeze(Object.defineProperty({__proto__:null,base16:Awt,base16upper:Cwt},Symbol.toStringTag,{value:"Module"})),Swt=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_wt=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Iwt=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Twt=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$wt=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nwt=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Pwt=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Rwt=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jwt=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Owt=Object.freeze(Object.defineProperty({__proto__:null,base32:Swt,base32hex:$wt,base32hexpad:Pwt,base32hexpadupper:Rwt,base32hexupper:Nwt,base32pad:Iwt,base32padupper:Twt,base32upper:_wt,base32z:jwt},Symbol.toStringTag,{value:"Module"})),Mwt=eC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Dwt=eC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Bwt=Object.freeze(Object.defineProperty({__proto__:null,base36:Mwt,base36upper:Dwt},Symbol.toStringTag,{value:"Module"})),Lwt=eC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fwt=eC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Uwt=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Lwt,base58flickr:Fwt},Symbol.toStringTag,{value:"Module"})),zwt=Js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Wwt=Js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hwt=Js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vwt=Js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),qwt=Object.freeze(Object.defineProperty({__proto__:null,base64:zwt,base64pad:Wwt,base64url:Hwt,base64urlpad:Vwt},Symbol.toStringTag,{value:"Module"})),c3e=Array.from(""),Gwt=c3e.reduce((t,e,n)=>(t[n]=e,t),[]),Kwt=c3e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Ywt(t){return t.reduce((e,n)=>(e+=Gwt[n],e),"")}function Qwt(t){const e=[];for(const n of t){const r=Kwt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Zwt=H$({prefix:"",name:"base256emoji",encode:Ywt,decode:Qwt}),Jwt=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Zwt},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Sre={...gwt,...wwt,...vwt,...Ewt,...kwt,...Owt,...Bwt,...Uwt,...qwt,...Jwt};function u3e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _re=u3e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),rO=u3e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=a3e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),d3e={utf8:_re,"utf-8":_re,hex:Sre.base16,latin1:rO,ascii:rO,binary:rO,...Sre};function Gc(t,e="utf8"){const n=d3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?eG(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Za(t,e="utf8"){const n=d3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Xwt={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},ebt="Input must be an string, Buffer or Uint8Array";function tbt(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(ebt);return e}function nbt(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Nk(t){return(4294967296+t).toString(16).substring(1)}function rbt(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=Nk(e[i]).toUpperCase(),r+=" ",r+=Nk(e[i+1]).toUpperCase();else if(n===64)r+=Nk(e[i+1]).toUpperCase(),r+=Nk(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function ibt(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const a=t(i),l=new Date().getTime(),c=l-r;r=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var h3e={normalizeInput:tbt,toHex:nbt,debugPrint:rbt,testSpeed:ibt};const nS=h3e;function Pk(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function Ire(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function f3e(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function A0(t,e,n,r,i,s){const o=T6[i],a=T6[i+1],l=T6[s],c=T6[s+1];Pk(sn,t,e),Ire(sn,t,o,a);let u=sn[r]^sn[t],h=sn[r+1]^sn[t+1];sn[r]=h,sn[r+1]=u,Pk(sn,n,r),u=sn[e]^sn[n],h=sn[e+1]^sn[n+1],sn[e]=u>>>24^h<<8,sn[e+1]=h>>>24^u<<8,Pk(sn,t,e),Ire(sn,t,l,c),u=sn[r]^sn[t],h=sn[r+1]^sn[t+1],sn[r]=u>>>16^h<<16,sn[r+1]=h>>>16^u<<16,Pk(sn,n,r),u=sn[e]^sn[n],h=sn[e+1]^sn[n+1],sn[e]=h>>>31^u<<1,sn[e+1]=u>>>31^h<<1}const p3e=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),sbt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],co=new Uint8Array(sbt.map(function(t){return t*2})),sn=new Uint32Array(32),T6=new Uint32Array(32);function m3e(t,e){let n=0;for(n=0;n<16;n++)sn[n]=t.h[n],sn[n+16]=p3e[n];for(sn[24]=sn[24]^t.t,sn[25]=sn[25]^t.t/4294967296,e&&(sn[28]=~sn[28],sn[29]=~sn[29]),n=0;n<32;n++)T6[n]=f3e(t.b,4*n);for(n=0;n<12;n++)A0(0,8,16,24,co[n*16+0],co[n*16+1]),A0(2,10,18,26,co[n*16+2],co[n*16+3]),A0(4,12,20,28,co[n*16+4],co[n*16+5]),A0(6,14,22,30,co[n*16+6],co[n*16+7]),A0(0,10,20,30,co[n*16+8],co[n*16+9]),A0(2,12,22,24,co[n*16+10],co[n*16+11]),A0(4,14,16,26,co[n*16+12],co[n*16+13]),A0(6,8,18,28,co[n*16+14],co[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^sn[n]^sn[n+16]}const C0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g3e(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};C0.fill(0),C0[0]=t,e&&(C0[1]=e.length),C0[2]=1,C0[3]=1,n&&C0.set(n,32),r&&C0.set(r,48);for(let s=0;s<16;s++)i.h[s]=p3e[s]^f3e(C0,s*4);return e&&(tG(i,e),i.c=128),i}function tG(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,m3e(t,!1),t.c=0),t.b[t.c++]=e[n]}function y3e(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;m3e(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function w3e(t,e,n,r,i){n=n||64,t=nS.normalizeInput(t),r&&(r=nS.normalizeInput(r)),i&&(i=nS.normalizeInput(i));const s=g3e(n,e,r,i);return tG(s,t),y3e(s)}function obt(t,e,n,r,i){const s=w3e(t,e,n,r,i);return nS.toHex(s)}var abt={blake2b:w3e,blake2bHex:obt,blake2bInit:g3e,blake2bUpdate:tG,blake2bFinal:y3e};const b3e=h3e;function lbt(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function k0(t,e,n,r,i,s){Yn[t]=Yn[t]+Yn[e]+i,Yn[r]=Rk(Yn[r]^Yn[t],16),Yn[n]=Yn[n]+Yn[r],Yn[e]=Rk(Yn[e]^Yn[n],12),Yn[t]=Yn[t]+Yn[e]+s,Yn[r]=Rk(Yn[r]^Yn[t],8),Yn[n]=Yn[n]+Yn[r],Yn[e]=Rk(Yn[e]^Yn[n],7)}function Rk(t,e){return t>>>e^t<<32-e}const v3e=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uo=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Yn=new Uint32Array(16),Ss=new Uint32Array(16);function x3e(t,e){let n=0;for(n=0;n<8;n++)Yn[n]=t.h[n],Yn[n+8]=v3e[n];for(Yn[12]^=t.t,Yn[13]^=t.t/4294967296,e&&(Yn[14]=~Yn[14]),n=0;n<16;n++)Ss[n]=lbt(t.b,4*n);for(n=0;n<10;n++)k0(0,4,8,12,Ss[uo[n*16+0]],Ss[uo[n*16+1]]),k0(1,5,9,13,Ss[uo[n*16+2]],Ss[uo[n*16+3]]),k0(2,6,10,14,Ss[uo[n*16+4]],Ss[uo[n*16+5]]),k0(3,7,11,15,Ss[uo[n*16+6]],Ss[uo[n*16+7]]),k0(0,5,10,15,Ss[uo[n*16+8]],Ss[uo[n*16+9]]),k0(1,6,11,12,Ss[uo[n*16+10]],Ss[uo[n*16+11]]),k0(2,7,8,13,Ss[uo[n*16+12]],Ss[uo[n*16+13]]),k0(3,4,9,14,Ss[uo[n*16+14]],Ss[uo[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Yn[n]^Yn[n+8]}function E3e(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(v3e),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(nG(r,e),r.c=64),r}function nG(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,x3e(t,!1),t.c=0),t.b[t.c++]=e[n]}function A3e(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;x3e(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function C3e(t,e,n){n=n||32,t=b3e.normalizeInput(t);const r=E3e(n,e);return nG(r,t),A3e(r)}function cbt(t,e,n){const r=C3e(t,e,n);return b3e.toHex(r)}var ubt={blake2s:C3e,blake2sHex:cbt,blake2sInit:E3e,blake2sUpdate:nG,blake2sFinal:A3e};const z5=abt,W5=ubt;var dbt={blake2b:z5.blake2b,blake2bHex:z5.blake2bHex,blake2bInit:z5.blake2bInit,blake2bUpdate:z5.blake2bUpdate,blake2bFinal:z5.blake2bFinal,blake2s:W5.blake2s,blake2sHex:W5.blake2sHex,blake2sInit:W5.blake2sInit,blake2sUpdate:W5.blake2sUpdate,blake2sFinal:W5.blake2sFinal},hbt={};const fbt=":";function S1(t){const[e,n]=t.split(fbt);return{namespace:e,reference:n}}function Tre(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function k3e(t,e){return t.includes(":")?[t]:e.chains||[]}var pbt=Object.defineProperty,mbt=Object.defineProperties,gbt=Object.getOwnPropertyDescriptors,$re=Object.getOwnPropertySymbols,ybt=Object.prototype.hasOwnProperty,wbt=Object.prototype.propertyIsEnumerable,EF=(t,e,n)=>e in t?pbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nre=(t,e)=>{for(var n in e||(e={}))ybt.call(e,n)&&EF(t,n,e[n]);if($re)for(var n of $re(e))wbt.call(e,n)&&EF(t,n,e[n]);return t},bbt=(t,e)=>mbt(t,gbt(e)),Pre=(t,e,n)=>EF(t,typeof e!="symbol"?e+"":e,n);const vbt="ReactNative",zl={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},xbt="js";function _7(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Og(){return!rw()&&!!Wq()&&navigator.product===vbt}function Ebt(){return Og()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="android"}function Abt(){return Og()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="ios"}function Z3(){return!_7()&&!!Wq()&&!!rw()}function tC(){return Og()?zl.reactNative:_7()?zl.node:Z3()?zl.browser:zl.unknown}function Rre(){var t;try{return Og()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Cbt(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function kbt(t){var e,n;const r=S3e();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),bbt(Nre(Nre({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function S3e(){return oxe()||{name:"",description:"",url:"",icons:[""]}}function Sbt(){if(tC()===zl.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=$pt();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function _bt(){var t;const e=tC();return e===zl.browser?[e,((t=sxe())==null?void 0:t.host)||"unknown"].join(":"):e}function _3e(t,e,n){const r=Sbt(),i=_bt();return[[t,e].join("-"),[xbt,n].join("-"),r,i].join("/")}function Ibt({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=n.split("?"),u=_3e(t,e,r),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:l||void 0,bundleId:a||void 0},f=Cbt(c[1]||"",h);return c[0]+"?"+f}function Oy(t,e){return t.filter(n=>e.includes(n)).length===t.length}function AF(t){return Object.fromEntries(t.entries())}function CF(t){return new Map(Object.entries(t))}function sy(t=tt.FIVE_MINUTES,e){const n=tt.toMiliseconds(t||tt.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},n),r=a,i=l})}}function Th(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function I3e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Tbt(t){return I3e("topic",t)}function $bt(t){return I3e("id",t)}function T3e(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Xi(t,e){return tt.fromMiliseconds(Date.now()+tt.toMiliseconds(t))}function X0(t){return Date.now()>=tt.toMiliseconds(t)}function nr(t,e){return`${t}${e?`:${e}`:""}`}function Hh(t=[],e=[]){return[...new Set([...t,...e])]}async function Nbt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Pbt(s,t,e),a=tC();if(a===zl.browser){if(!((r=rw())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Rbt(o)}else a===zl.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function Pbt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Dbt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Rbt(t){let e="_self";Mbt()?e="_top":(Obt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function jbt(t,e){let n="";try{if(Z3()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function jre(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Ore(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function rG(){return typeof process<"u"&&hbt.IS_VITEST==="true"}function Obt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Mbt(){try{return window.self!==window.top}catch{return!1}}function Dbt(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function $3e(t){return Buffer.from(t,"base64").toString("utf-8")}function Bbt(t){return new Promise(e=>setTimeout(e,t))}let Lbt=class{constructor({limit:e}){Pre(this,"limit"),Pre(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const jk=BigInt(2**32-1),Mre=BigInt(32);function N3e(t,e=!1){return e?{h:Number(t&jk),l:Number(t>>Mre&jk)}:{h:Number(t>>Mre&jk)|0,l:Number(t&jk)|0}}function P3e(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=N3e(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Dre=(t,e,n)=>t>>>n,Bre=(t,e,n)=>t<<32-n|e>>>n,em=(t,e,n)=>t>>>n|e<<32-n,tm=(t,e,n)=>t<<32-n|e>>>n,$6=(t,e,n)=>t<<64-n|e>>>n-32,N6=(t,e,n)=>t>>>n-32|e<<64-n,Fbt=(t,e)=>e,Ubt=(t,e)=>t,zbt=(t,e,n)=>t<<n|e>>>32-n,Wbt=(t,e,n)=>e<<n|t>>>32-n,Hbt=(t,e,n)=>e<<n-32|t>>>64-n,Vbt=(t,e,n)=>t<<n-32|e>>>64-n;function Pu(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const iG=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),sG=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qbt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Gbt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Kbt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ybt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,gb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function oG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nu(t,...e){if(!oG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Zp(t.outputLen),Zp(t.blockLen)}function vg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lG(t,e){nu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function s8(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ru(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function iO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ud(t,e){return t<<32-e|t>>>e}const R3e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function j3e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Pf=R3e?t=>t:t=>j3e(t);function Qbt(t){for(let e=0;e<t.length;e++)t[e]=j3e(t[e]);return t}const nm=R3e?t=>t:Qbt,O3e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Zbt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o8(t){if(nu(t),O3e)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Zbt[t[n]];return e}const Cf={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lre(t){if(t>=Cf._0&&t<=Cf._9)return t-Cf._0;if(t>=Cf.A&&t<=Cf.F)return t-(Cf.A-10);if(t>=Cf.a&&t<=Cf.f)return t-(Cf.a-10)}function cG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(O3e)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Lre(t.charCodeAt(s)),a=Lre(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Jbt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ld(t){return typeof t=="string"&&(t=Jbt(t)),nu(t),t}function My(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];nu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let V$=class{};function nC(t){const e=r=>t().update(ld(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Xbt(t){const e=(r,i)=>t(i).update(ld(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function J3(t=32){if(gb&&typeof gb.getRandomValues=="function")return gb.getRandomValues(new Uint8Array(t));if(gb&&typeof gb.randomBytes=="function")return Uint8Array.from(gb.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const evt=BigInt(0),H5=BigInt(1),tvt=BigInt(2),nvt=BigInt(7),rvt=BigInt(256),ivt=BigInt(113),M3e=[],D3e=[],B3e=[];for(let t=0,e=H5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],M3e.push(2*(5*r+n)),D3e.push((t+1)*(t+2)/2%64);let i=evt;for(let s=0;s<7;s++)e=(e<<H5^(e>>nvt)*ivt)%rvt,e&tvt&&(i^=H5<<(H5<<BigInt(s))-H5);B3e.push(i)}const L3e=P3e(B3e,!0),svt=L3e[0],ovt=L3e[1],Fre=(t,e,n)=>n>32?Hbt(t,e,n):zbt(t,e,n),Ure=(t,e,n)=>n>32?Vbt(t,e,n):Wbt(t,e,n);function avt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=Fre(c,u,1)^n[a],f=Ure(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=D3e[o],l=Fre(i,s,a),c=Ure(i,s,a),u=M3e[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=svt[r],t[1]^=ovt[r]}ru(n)}let lvt=class F3e extends V${constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Zp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=s8(this.state)}clone(){return this._cloneInto()}keccak(){nm(this.state32),avt(this.state32,this.rounds),nm(this.state32),this.posOut=0,this.pos=0}update(e){vg(this),e=ld(e),nu(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vg(this,!1),nu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lG(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ru(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new F3e(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const cvt=(t,e,n)=>nC(()=>new lvt(e,t,n)),uvt=cvt(1,136,256/8);function dvt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function hvt(t,e,n){return t&e^~t&n}function fvt(t,e,n){return t&e^t&n^e&n}let U3e=class extends V${constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=iO(this.buffer)}update(e){vg(this),e=ld(e),nu(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=iO(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vg(this),lG(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,ru(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;dvt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=iO(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const S0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ho=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),fo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),pvt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_0=new Uint32Array(64);let mvt=class extends U3e{constructor(e=32){super(64,e,8,!1),this.A=S0[0]|0,this.B=S0[1]|0,this.C=S0[2]|0,this.D=S0[3]|0,this.E=S0[4]|0,this.F=S0[5]|0,this.G=S0[6]|0,this.H=S0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)_0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=_0[h-15],p=_0[h-2],m=Ud(f,7)^Ud(f,18)^f>>>3,g=Ud(p,17)^Ud(p,19)^p>>>10;_0[h]=g+_0[h-7]+m+_0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Ud(a,6)^Ud(a,11)^Ud(a,25),p=u+f+hvt(a,l,c)+pvt[h]+_0[h]|0,m=(Ud(r,2)^Ud(r,13)^Ud(r,22))+fvt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){ru(_0)}destroy(){this.set(0,0,0,0,0,0,0,0),ru(this.buffer)}};const z3e=P3e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),gvt=z3e[0],yvt=z3e[1],I0=new Uint32Array(80),T0=new Uint32Array(80);let uG=class extends U3e{constructor(e=64){super(128,e,16,!1),this.Ah=fo[0]|0,this.Al=fo[1]|0,this.Bh=fo[2]|0,this.Bl=fo[3]|0,this.Ch=fo[4]|0,this.Cl=fo[5]|0,this.Dh=fo[6]|0,this.Dl=fo[7]|0,this.Eh=fo[8]|0,this.El=fo[9]|0,this.Fh=fo[10]|0,this.Fl=fo[11]|0,this.Gh=fo[12]|0,this.Gl=fo[13]|0,this.Hh=fo[14]|0,this.Hl=fo[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)I0[b]=e.getUint32(n),T0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=I0[b-15]|0,E=T0[b-15]|0,$=em(A,E,1)^em(A,E,8)^Dre(A,E,7),N=tm(A,E,1)^tm(A,E,8)^Bre(A,E,7),R=I0[b-2]|0,M=T0[b-2]|0,F=em(R,M,19)^$6(R,M,61)^Dre(R,M,6),W=tm(R,M,19)^N6(R,M,61)^Bre(R,M,6),V=qbt(N,W,T0[b-7],T0[b-16]),B=Gbt(V,$,F,I0[b-7],I0[b-16]);I0[b]=B|0,T0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=em(h,f,14)^em(h,f,18)^$6(h,f,41),E=tm(h,f,14)^tm(h,f,18)^N6(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=Kbt(v,E,N,yvt[b],T0[b]),M=Ybt(R,w,A,$,gvt[b],I0[b]),F=R|0,W=em(r,i,28)^$6(r,i,34)^$6(r,i,39),V=tm(r,i,28)^N6(r,i,34)^N6(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=Pu(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=iG(F,V,k);r=sG(C,M,W,B),i=C|0}({h:r,l:i}=Pu(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Pu(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Pu(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Pu(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Pu(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Pu(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=Pu(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=Pu(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){ru(I0,T0)}destroy(){ru(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},wvt=class extends uG{constructor(){super(48),this.Ah=ho[0]|0,this.Al=ho[1]|0,this.Bh=ho[2]|0,this.Bl=ho[3]|0,this.Ch=ho[4]|0,this.Cl=ho[5]|0,this.Dh=ho[6]|0,this.Dl=ho[7]|0,this.Eh=ho[8]|0,this.El=ho[9]|0,this.Fh=ho[10]|0,this.Fl=ho[11]|0,this.Gh=ho[12]|0,this.Gl=ho[13]|0,this.Hh=ho[14]|0,this.Hl=ho[15]|0}};const po=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let bvt=class extends uG{constructor(){super(32),this.Ah=po[0]|0,this.Al=po[1]|0,this.Bh=po[2]|0,this.Bl=po[3]|0,this.Ch=po[4]|0,this.Cl=po[5]|0,this.Dh=po[6]|0,this.Dl=po[7]|0,this.Eh=po[8]|0,this.El=po[9]|0,this.Fh=po[10]|0,this.Fl=po[11]|0,this.Gh=po[12]|0,this.Gl=po[13]|0,this.Hh=po[14]|0,this.Hl=po[15]|0}};const q$=nC(()=>new mvt),vvt=nC(()=>new uG),xvt=nC(()=>new wvt),Evt=nC(()=>new bvt),Avt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Qi=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ft=new Uint32Array(32);function $0(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=ft[2*t],c=ft[2*t+1],u=ft[2*e],h=ft[2*e+1],f=ft[2*n],p=ft[2*n+1],m=ft[2*r],g=ft[2*r+1],y=iG(l,u,o);c=sG(y,c,h,a),l=y|0,{Dh:g,Dl:m}={Dh:g^c,Dl:m^l},{Dh:g,Dl:m}={Dh:Fbt(g,m),Dl:Ubt(g)},{h:p,l:f}=Pu(p,f,g,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:em(h,u,24),Bl:tm(h,u,24)},ft[2*t]=l,ft[2*t+1]=c,ft[2*e]=u,ft[2*e+1]=h,ft[2*n]=f,ft[2*n+1]=p,ft[2*r]=m,ft[2*r+1]=g}function N0(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=ft[2*t],c=ft[2*t+1],u=ft[2*e],h=ft[2*e+1],f=ft[2*n],p=ft[2*n+1],m=ft[2*r],g=ft[2*r+1],y=iG(l,u,o);c=sG(y,c,h,a),l=y|0,{Dh:g,Dl:m}={Dh:g^c,Dl:m^l},{Dh:g,Dl:m}={Dh:em(g,m,16),Dl:tm(g,m,16)},{h:p,l:f}=Pu(p,f,g,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:$6(h,u,63),Bl:N6(h,u,63)},ft[2*t]=l,ft[2*t+1]=c,ft[2*e]=u,ft[2*e+1]=h,ft[2*n]=f,ft[2*n+1]=p,ft[2*r]=m,ft[2*r+1]=g}function Cvt(t,e={},n,r,i){if(Zp(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let kvt=class extends V${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Zp(e),Zp(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=s8(this.buffer)}update(e){vg(this),e=ld(e),nu(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===n&&(nm(i),this.compress(i,0,!1),nm(i),this.pos=0);const c=Math.min(n-this.pos,s-l),u=o+l;if(c===n&&!(u%4)&&l+c<s){const h=new Uint32Array(a,u,Math.floor((s-l)/4));nm(h);for(let f=0;l+n<s;f+=i.length,l+=n)this.length+=n,this.compress(h,f,!1);nm(h);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){vg(this),lG(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,ru(this.buffer.subarray(n)),nm(r),this.compress(r,0,!0),nm(r);const i=s8(e);this.get().forEach((s,o)=>i[o]=Pf(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},Svt=class extends kvt{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Qi[0]|0,this.v0h=Qi[1]|0,this.v1l=Qi[2]|0,this.v1h=Qi[3]|0,this.v2l=Qi[4]|0,this.v2h=Qi[5]|0,this.v3l=Qi[6]|0,this.v3h=Qi[7]|0,this.v4l=Qi[8]|0,this.v4h=Qi[9]|0,this.v5l=Qi[10]|0,this.v5h=Qi[11]|0,this.v6l=Qi[12]|0,this.v6h=Qi[13]|0,this.v7l=Qi[14]|0,this.v7h=Qi[15]|0,Cvt(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=ld(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=ld(s);const a=s8(s);this.v4l^=Pf(a[0]),this.v4h^=Pf(a[1]),this.v5l^=Pf(a[2]),this.v5h^=Pf(a[3])}if(i!==void 0){i=ld(i);const a=s8(i);this.v6l^=Pf(a[0]),this.v6h^=Pf(a[1]),this.v7l^=Pf(a[2]),this.v7h^=Pf(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:h,v5h:f,v6l:p,v6h:m,v7l:g,v7h:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=f|0,this.v6l=p|0,this.v6h=m|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((l,c)=>ft[c]=l),ft.set(Qi,16);let{h:i,l:s}=N3e(BigInt(this.length));ft[24]=Qi[8]^s,ft[25]=Qi[9]^i,r&&(ft[28]=~ft[28],ft[29]=~ft[29]);let o=0;const a=Avt;for(let l=0;l<12;l++)$0(0,4,8,12,e,n+2*a[o++]),N0(0,4,8,12,e,n+2*a[o++]),$0(1,5,9,13,e,n+2*a[o++]),N0(1,5,9,13,e,n+2*a[o++]),$0(2,6,10,14,e,n+2*a[o++]),N0(2,6,10,14,e,n+2*a[o++]),$0(3,7,11,15,e,n+2*a[o++]),N0(3,7,11,15,e,n+2*a[o++]),$0(0,5,10,15,e,n+2*a[o++]),N0(0,5,10,15,e,n+2*a[o++]),$0(1,6,11,12,e,n+2*a[o++]),N0(1,6,11,12,e,n+2*a[o++]),$0(2,7,8,13,e,n+2*a[o++]),N0(2,7,8,13,e,n+2*a[o++]),$0(3,4,9,14,e,n+2*a[o++]),N0(3,4,9,14,e,n+2*a[o++]);this.v0l^=ft[0]^ft[16],this.v0h^=ft[1]^ft[17],this.v1l^=ft[2]^ft[18],this.v1h^=ft[3]^ft[19],this.v2l^=ft[4]^ft[20],this.v2h^=ft[5]^ft[21],this.v3l^=ft[6]^ft[22],this.v3h^=ft[7]^ft[23],this.v4l^=ft[8]^ft[24],this.v4h^=ft[9]^ft[25],this.v5l^=ft[10]^ft[26],this.v5h^=ft[11]^ft[27],this.v6l^=ft[12]^ft[28],this.v6h^=ft[13]^ft[29],this.v7l^=ft[14]^ft[30],this.v7h^=ft[15]^ft[31],ru(ft)}destroy(){this.destroyed=!0,ru(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const _vt=Xbt(t=>new Svt(t)),Ivt="https://rpc.walletconnect.org/v1";function W3e(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(uvt(n)).toString("hex")}async function Tvt(t,e,n,r,i,s){switch(n.t){case"eip191":return await $vt(t,e,n.s);case"eip1271":return await Nvt(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function $vt(t,e,n){return(await ymt({hash:W3e(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Nvt(t,e,n,r,i,s){const o=S1(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:W3e(e)).substring(2),f=a+h+l+u+c,p=await fetch(`${s||Ivt}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Pvt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:m}=await p.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Pvt(){return Date.now()+Math.floor(Math.random()*1e3)}function Rvt(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return JA.encode(s)}function jvt(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=_vt(r,{dkLen:32});return JA.encode(i)}function zre(t){const e=new Uint8Array(q$(Ovt(t)));return JA.encode(e)}function Ovt(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Wre(t){const e=Buffer.from(t,"base64"),n=cgt(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=egt(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=Evt(s);return Nht.encode(o).replace(/=+$/,"")}function sO(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Mvt(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(sO(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(sO(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(sO(r.length)),i.push(r);const s=Buffer.concat(i),o=q$(s);return Buffer.from(o).toString("hex").toUpperCase()}var Dvt=Object.defineProperty,Bvt=Object.defineProperties,Lvt=Object.getOwnPropertyDescriptors,Hre=Object.getOwnPropertySymbols,Fvt=Object.prototype.hasOwnProperty,Uvt=Object.prototype.propertyIsEnumerable,Vre=(t,e,n)=>e in t?Dvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zvt=(t,e)=>{for(var n in e||(e={}))Fvt.call(e,n)&&Vre(t,n,e[n]);if(Hre)for(var n of Hre(e))Uvt.call(e,n)&&Vre(t,n,e[n]);return t},Wvt=(t,e)=>Bvt(t,Lvt(e));const Hvt="did:pkh:",dG=t=>t==null?void 0:t.split(":"),Vvt=t=>{const e=t&&dG(t);if(e)return t.includes(Hvt)?e[3]:e[1]},kF=t=>{const e=t&&dG(t);if(e)return e[2]+":"+e[3]},I7=t=>{const e=t&&dG(t);if(e)return e.pop()};async function qre(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=H3e(i,i.iss),o=I7(i.iss);return await Tvt(o,s,r,kF(i.iss),n)}const H3e=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=I7(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Vvt(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=rS(t.resources);if(m){const g=a8(m);i=e2t(i,g)}return[n,r,"",i,"",s,o,a,l,c,u,h,f,p].filter(g=>g!=null).join(`
`)};function qvt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Gvt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ow(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Kvt(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Yvt(e,n,r)}}}function Yvt(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function V3e(t){return ow(t),`urn:recap:${qvt(t).replace(/=/g,"")}`}function a8(t){const e=Gvt(t.replace("urn:recap:",""));return ow(e),e}function Qvt(t,e,n){const r=Kvt(t,e,n);return V3e(r)}function Zvt(t){return t&&t.includes("urn:recap:")}function Jvt(t,e){const n=a8(t),r=a8(e),i=Xvt(n,r);return V3e(i)}function Xvt(t,e){ow(t),ow(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;r.att[i]=Wvt(zvt({},r.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),r}function e2t(t="",e){ow(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,f)=>h.action.localeCompare(f.action));const c={};l.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const u=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function Gre(t){var e;const n=a8(t);ow(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function Kre(t){const e=a8(t);ow(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function rS(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Zvt(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function q3e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function SF(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function oO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ja(t,...e){if(!q3e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Yre(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function t2t(t,e){ja(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ig(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function n2t(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const r2t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function i2t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _F(t){if(typeof t=="string")t=i2t(t);else if(q3e(t))t=IF(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function s2t(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function o2t(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const a2t=(t,e)=>{function n(r,...i){if(ja(r),!r2t)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?ja(c):ja(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ja(i[1]);const o=e(r,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");ja(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ja(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(ja(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(n,t),n};function Qre(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!c2t(e))throw new Error("invalid output, must be aligned");return e}function Zre(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function l2t(t,e,n){SF(n);const r=new Uint8Array(16),i=n2t(r);return Zre(i,0,BigInt(e),n),Zre(i,8,BigInt(t),n),r}function c2t(t){return t.byteOffset%4===0}function IF(t){return Uint8Array.from(t)}const G3e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),u2t=G3e("expand 16-byte k"),d2t=G3e("expand 32-byte k"),h2t=ig(u2t),f2t=ig(d2t);function qn(t,e){return t<<e|t>>>32-e}function TF(t){return t.byteOffset%4===0}const Ok=64,p2t=16,K3e=2**32-1,Jre=new Uint32Array;function m2t(t,e,n,r,i,s,o,a){const l=i.length,c=new Uint8Array(Ok),u=ig(c),h=TF(i)&&TF(s),f=h?ig(i):Jre,p=h?ig(s):Jre;for(let m=0;m<l;o++){if(t(e,n,r,u,o,a),o>=K3e)throw new Error("arx: counter overflow");const g=Math.min(Ok,l-m);if(h&&g===Ok){const y=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let w=0,v;w<p2t;w++)v=y+w,p[v]=f[v]^u[w];m+=Ok;continue}for(let y=0,w;y<g;y++)w=m+y,s[w]=i[w]^c[y];m+=g}}function g2t(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=s2t({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return oO(i),oO(o),SF(s),SF(n),(a,l,c,u,h=0)=>{ja(a),ja(l),ja(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),ja(u),oO(h),h<0||h>=K3e)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let m=a.length,g,y;if(m===32)p.push(g=IF(a)),y=f2t;else if(m===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=h2t,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);TF(l)||p.push(l=IF(l));const w=ig(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,ig(l.subarray(0,16)),w),l=l.subarray(16)}const v=16-i;if(v!==l.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const A=new Uint8Array(12);A.set(l,s?0:12-l.length),l=A,p.push(l)}const b=ig(l);return m2t(t,y,w,b,c,u,h,o),Qx(...p),u}}const _s=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let y2t=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=_F(e),ja(e,32);const n=_s(e,0),r=_s(e,2),i=_s(e,4),s=_s(e,6),o=_s(e,8),a=_s(e,10),l=_s(e,12),c=_s(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=_s(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],f=o[5],p=o[6],m=o[7],g=o[8],y=o[9],w=_s(e,n+0),v=_s(e,n+2),b=_s(e,n+4),A=_s(e,n+6),E=_s(e,n+8),$=_s(e,n+10),N=_s(e,n+12),R=_s(e,n+14);let M=s[0]+(w&8191),F=s[1]+((w>>>13|v<<3)&8191),W=s[2]+((v>>>10|b<<6)&8191),V=s[3]+((b>>>7|A<<9)&8191),B=s[4]+((A>>>4|E<<12)&8191),k=s[5]+(E>>>1&8191),C=s[6]+((E>>>14|$<<2)&8191),S=s[7]+(($>>>11|N<<5)&8191),T=s[8]+((N>>>8|R<<8)&8191),_=s[9]+(R>>>5|i),P=0,D=P+M*a+F*(5*y)+W*(5*g)+V*(5*m)+B*(5*p);P=D>>>13,D&=8191,D+=k*(5*f)+C*(5*h)+S*(5*u)+T*(5*c)+_*(5*l),P+=D>>>13,D&=8191;let j=P+M*l+F*a+W*(5*y)+V*(5*g)+B*(5*m);P=j>>>13,j&=8191,j+=k*(5*p)+C*(5*f)+S*(5*h)+T*(5*u)+_*(5*c),P+=j>>>13,j&=8191;let I=P+M*c+F*l+W*a+V*(5*y)+B*(5*g);P=I>>>13,I&=8191,I+=k*(5*m)+C*(5*p)+S*(5*f)+T*(5*h)+_*(5*u),P+=I>>>13,I&=8191;let L=P+M*u+F*c+W*l+V*a+B*(5*y);P=L>>>13,L&=8191,L+=k*(5*g)+C*(5*m)+S*(5*p)+T*(5*f)+_*(5*h),P+=L>>>13,L&=8191;let J=P+M*h+F*u+W*c+V*l+B*a;P=J>>>13,J&=8191,J+=k*(5*y)+C*(5*g)+S*(5*m)+T*(5*p)+_*(5*f),P+=J>>>13,J&=8191;let O=P+M*f+F*h+W*u+V*c+B*l;P=O>>>13,O&=8191,O+=k*a+C*(5*y)+S*(5*g)+T*(5*m)+_*(5*p),P+=O>>>13,O&=8191;let G=P+M*p+F*f+W*h+V*u+B*c;P=G>>>13,G&=8191,G+=k*l+C*a+S*(5*y)+T*(5*g)+_*(5*m),P+=G>>>13,G&=8191;let Z=P+M*m+F*p+W*f+V*h+B*u;P=Z>>>13,Z&=8191,Z+=k*c+C*l+S*a+T*(5*y)+_*(5*g),P+=Z>>>13,Z&=8191;let Q=P+M*g+F*m+W*p+V*f+B*h;P=Q>>>13,Q&=8191,Q+=k*u+C*c+S*l+T*a+_*(5*y),P+=Q>>>13,Q&=8191;let ie=P+M*y+F*g+W*m+V*p+B*f;P=ie>>>13,ie&=8191,ie+=k*h+C*u+S*c+T*l+_*a,P+=ie>>>13,ie&=8191,P=(P<<2)+P|0,P=P+D|0,D=P&8191,P=P>>>13,j+=P,s[0]=D,s[1]=j,s[2]=I,s[3]=L,s[4]=J,s[5]=O,s[6]=G,s[7]=Z,s[8]=Q,s[9]=ie}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Qx(r)}update(e){Yre(this),e=_F(e),ja(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Qx(this.h,this.r,this.buffer,this.pad)}digestInto(e){Yre(this),t2t(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function w2t(t){const e=(r,i)=>t(i).update(_F(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const b2t=w2t(t=>new y2t(t));function v2t(t,e,n,r,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=e[2],p=e[3],m=e[4],g=e[5],y=e[6],w=e[7],v=i,b=n[0],A=n[1],E=n[2],$=o,N=a,R=l,M=c,F=u,W=h,V=f,B=p,k=m,C=g,S=y,T=w,_=v,P=b,D=A,j=E;for(let L=0;L<s;L+=2)$=$+F|0,_=qn(_^$,16),k=k+_|0,F=qn(F^k,12),$=$+F|0,_=qn(_^$,8),k=k+_|0,F=qn(F^k,7),N=N+W|0,P=qn(P^N,16),C=C+P|0,W=qn(W^C,12),N=N+W|0,P=qn(P^N,8),C=C+P|0,W=qn(W^C,7),R=R+V|0,D=qn(D^R,16),S=S+D|0,V=qn(V^S,12),R=R+V|0,D=qn(D^R,8),S=S+D|0,V=qn(V^S,7),M=M+B|0,j=qn(j^M,16),T=T+j|0,B=qn(B^T,12),M=M+B|0,j=qn(j^M,8),T=T+j|0,B=qn(B^T,7),$=$+W|0,j=qn(j^$,16),S=S+j|0,W=qn(W^S,12),$=$+W|0,j=qn(j^$,8),S=S+j|0,W=qn(W^S,7),N=N+V|0,_=qn(_^N,16),T=T+_|0,V=qn(V^T,12),N=N+V|0,_=qn(_^N,8),T=T+_|0,V=qn(V^T,7),R=R+B|0,P=qn(P^R,16),k=k+P|0,B=qn(B^k,12),R=R+B|0,P=qn(P^R,8),k=k+P|0,B=qn(B^k,7),M=M+F|0,D=qn(D^M,16),C=C+D|0,F=qn(F^C,12),M=M+F|0,D=qn(D^M,8),C=C+D|0,F=qn(F^C,7);let I=0;r[I++]=o+$|0,r[I++]=a+N|0,r[I++]=l+R|0,r[I++]=c+M|0,r[I++]=u+F|0,r[I++]=h+W|0,r[I++]=f+V|0,r[I++]=p+B|0,r[I++]=m+k|0,r[I++]=g+C|0,r[I++]=y+S|0,r[I++]=w+T|0,r[I++]=v+_|0,r[I++]=b+P|0,r[I++]=A+D|0,r[I++]=E+j|0}const x2t=g2t(v2t,{counterRight:!1,counterLength:4,allowShortKeys:!1}),E2t=new Uint8Array(16),Xre=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(E2t.subarray(n))},A2t=new Uint8Array(32);function eie(t,e,n,r,i){const s=t(e,n,A2t),o=b2t.create(s);i&&Xre(o,i),Xre(o,r);const a=l2t(r.length,i?i.length:0,!0);o.update(a);const l=o.digest();return Qx(s,a),l}const C2t=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=Qre(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const l=eie(t,e,n,a,r);return s.set(l,o),Qx(l),s},decrypt(i,s){s=Qre(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=eie(t,e,n,o,r);if(!o2t(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Qx(l),s}}),Y3e=a2t({blockSize:64,nonceLength:12,tagLength:16},C2t(x2t));let Q3e=class extends V${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,aG(e);const r=ld(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ru(s)}update(e){return vg(this),this.iHash.update(e),this}digestInto(e){vg(this),nu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const G$=(t,e,n)=>new Q3e(t,e).update(n).digest();G$.create=(t,e)=>new Q3e(t,e);function k2t(t,e,n){return aG(t),n===void 0&&(n=new Uint8Array(t.outputLen)),G$(t,ld(n),ld(e))}const aO=Uint8Array.from([0]),tie=Uint8Array.of();function S2t(t,e,n,r=32){aG(t),Zp(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=tie);const o=new Uint8Array(s*i),a=G$.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)aO[0]=u+1,l.update(u===0?tie:c).update(n).update(aO).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),ru(c,aO),o.slice(0,r)}const _2t=(t,e,n,r,i)=>S2t(t,k2t(t,e,n),r,i),K$=q$,hG=BigInt(0),$F=BigInt(1);function T7(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Mk(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Z3e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?hG:BigInt("0x"+t)}function Y$(t){return Z3e(o8(t))}function $7(t){return nu(t),Z3e(o8(Uint8Array.from(t).reverse()))}function fG(t,e){return cG(t.toString(16).padStart(e*2,"0"))}function pG(t,e){return fG(t,e).reverse()}function Pa(t,e,n){let r;if(typeof e=="string")try{r=cG(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(oG(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const lO=t=>typeof t=="bigint"&&hG<=t;function I2t(t,e,n){return lO(t)&&lO(e)&&lO(n)&&e<=t&&t<n}function NF(t,e,n,r){if(!I2t(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function T2t(t){let e;for(e=0;t>hG;t>>=$F,e+=1);return e}const Q$=t=>($F<<BigInt(t))-$F;function $2t(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...f)=>n(o,s,...f),u=(f=r(0))=>{o=c(i(0),f),s=c(),f.length!==0&&(o=c(i(1),f),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=c();const m=s.slice();p.push(m),f+=s.length}return My(...p)};return(f,p)=>{l(),u(f);let m;for(;!(m=p(h()));)u();return l(),m}}function Z$(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function nie(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const qa=BigInt(0),ha=BigInt(1),Dy=BigInt(2),N2t=BigInt(3),J3e=BigInt(4),X3e=BigInt(5),e5e=BigInt(8);function Bc(t,e){const n=t%e;return n>=qa?n:e+n}function Iu(t,e,n){let r=t;for(;e-- >qa;)r*=r,r%=n;return r}function rie(t,e){if(t===qa)throw new Error("invert: expected non-zero number");if(e<=qa)throw new Error("invert: expected positive modulus, got "+e);let n=Bc(t,e),r=e,i=qa,s=ha;for(;n!==qa;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}if(r!==ha)throw new Error("invert: does not exist");return Bc(i,e)}function t5e(t,e){const n=(t.ORDER+ha)/J3e,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function P2t(t,e){const n=(t.ORDER-X3e)/e5e,r=t.mul(e,Dy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Dy),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function R2t(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ha,n=0;for(;e%Dy===qa;)e/=Dy,n++;let r=Dy;const i=X3(t);for(;iie(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return t5e;let s=i.pow(r,e);const o=(e+ha)/Dy;return function(a,l){if(a.is0(l))return l;if(iie(a,l)!==1)throw new Error("Cannot find square root");let c=n,u=a.mul(a.ONE,s),h=a.pow(l,e),f=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let p=1,m=a.sqr(h);for(;!a.eql(m,a.ONE);)if(p++,m=a.sqr(m),p===c)throw new Error("Cannot find square root");const g=ha<<BigInt(c-p-1),y=a.pow(u,g);c=p,u=a.sqr(y),h=a.mul(h,u),f=a.mul(f,y)}return f}}function j2t(t){return t%J3e===N2t?t5e:t%e5e===X3e?P2t:R2t(t)}const O2t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function M2t(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=O2t.reduce((r,i)=>(r[i]="function",r),e);return Z$(t,n),t}function D2t(t,e,n){if(n<qa)throw new Error("invalid exponent, negatives unsupported");if(n===qa)return t.ONE;if(n===ha)return e;let r=t.ONE,i=e;for(;n>qa;)n&ha&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ha;return r}function n5e(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function iie(t,e){const n=(t.ORDER-ha)/Dy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function B2t(t,e){e!==void 0&&Zp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function X3(t,e,n=!1,r={}){if(t<=qa)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=B2t(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Q$(o),ZERO:qa,ONE:ha,create:u=>Bc(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return qa<=u&&u<t},is0:u=>u===qa,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&ha)===ha,neg:u=>Bc(-u,t),eql:(u,h)=>u===h,sqr:u=>Bc(u*u,t),add:(u,h)=>Bc(u+h,t),sub:(u,h)=>Bc(u-h,t),mul:(u,h)=>Bc(u*h,t),pow:(u,h)=>D2t(c,u,h),div:(u,h)=>Bc(u*rie(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>rie(u,t),sqrt:s||(u=>(l||(l=j2t(t)),l(c,u))),toBytes:u=>n?pG(u,a):fG(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?$7(u):Y$(u)},invertBatch:u=>n5e(c,u),cmov:(u,h,f)=>f?h:u});return Object.freeze(c)}function r5e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function i5e(t){const e=r5e(t);return e+Math.ceil(e/2)}function L2t(t,e,n=!1){const r=t.length,i=r5e(e),s=i5e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?$7(t):Y$(t),a=Bc(o,e-ha)+ha;return n?pG(a,i):fG(a,i)}const Zx=BigInt(0),By=BigInt(1);function p4(t,e){const n=e.negate();return t?n:e}function F2t(t,e,n){const r=s=>s.pz,i=n5e(t.Fp,n.map(r));return n.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function s5e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function cO(t,e){s5e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Q$(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function sie(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=By);const c=e*r,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function U2t(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function z2t(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const uO=new WeakMap,o5e=new WeakMap;function dO(t){return o5e.get(t)||1}function oie(t){if(t!==Zx)throw new Error("invalid wNAF")}function W2t(t,e){return{constTimeNegate:p4,hasPrecomputes(n){return dO(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Zx;)r&By&&(i=i.add(s)),s=s.double(),r>>=By;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=cO(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=cO(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=sie(i,l,a);i=c,h?o=o.add(p4(p,r[m])):s=s.add(p4(f,r[u]))}return oie(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=cO(n,e);for(let a=0;a<o.windows&&i!==Zx;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=sie(i,a,o);if(i=l,!u){const f=r[c];s=s.add(h?f.negate():f)}}return oie(i),s},getPrecomputes(n,r,i){let s=uO.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),uO.set(r,s))),s},wNAFCached(n,r,i){const s=dO(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=dO(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){s5e(r,e),o5e.set(n,r),uO.delete(n)}}}function H2t(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>Zx||r>Zx;)n&By&&(s=s.add(i)),r&By&&(o=o.add(i)),i=i.double(),n>>=By,r>>=By;return{p1:s,p2:o}}function V2t(t,e,n,r){U2t(n,t),z2t(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=T2t(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Q$(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let g=0;g<s;g++){const y=r[g],w=Number(y>>BigInt(p)&c);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),p!==0)for(let g=0;g<l;g++)f=f.double()}return f}function aie(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return M2t(e),e}else return X3(t)}function q2t(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Zx))throw new Error(`CURVE.${o} must be positive bigint`)}const r=aie(e.p,n.Fp),i=aie(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const V5=BigInt(0),yb=BigInt(1),Dk=BigInt(2);function G2t(t){return Z$(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function K2t(t){const e=G2t(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=o||J3,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),p=a?Dk**BigInt(254):Dk**BigInt(447),m=a?BigInt(8)*Dk**BigInt(251)-yb:BigInt(4)*Dk**BigInt(445)-yb,g=p+m+yb,y=M=>Bc(M,n),w=v(h);function v(M){return pG(y(M),u)}function b(M){const F=Pa("u coordinate",M,u);return a&&(F[31]&=127),y($7(F))}function A(M){return $7(i(Pa("scalar",M,u)))}function E(M,F){const W=R(b(F),A(M));if(W===V5)throw new Error("invalid private or public key received");return v(W)}function $(M){return E(M,w)}function N(M,F,W){const V=y(M*(F-W));return F=y(F-V),W=y(W+V),{x_2:F,x_3:W}}function R(M,F){NF("u",M,V5,n),NF("scalar",F,p,g);const W=F,V=M;let B=yb,k=V5,C=M,S=yb,T=V5;for(let P=BigInt(c-1);P>=V5;P--){const D=W>>P&yb;T^=D,{x_2:B,x_3:C}=N(T,B,C),{x_2:k,x_3:S}=N(T,k,S),T=D;const j=B+k,I=y(j*j),L=B-k,J=y(L*L),O=I-J,G=C+S,Z=C-S,Q=y(Z*j),ie=y(G*L),de=Q+ie,oe=Q-ie;C=y(de*de),S=y(V*y(oe*oe)),B=y(I*J),k=y(O*(I+y(f*O)))}({x_2:B,x_3:C}=N(T,B,C)),{x_2:k,x_3:S}=N(T,k,S);const _=s(k);return y(B*_)}return{scalarMult:E,scalarMultBase:$,getSharedSecret:(M,F)=>E(M,F),getPublicKey:M=>$(M),utils:{randomPrivateKey:()=>l(u)},GuBytes:w.slice()}}BigInt(0);const Y2t=BigInt(1),lie=BigInt(2),Q2t=BigInt(3),Z2t=BigInt(5),J2t=BigInt(8),a5e={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:J2t,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function X2t(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=a5e.p,o=t*t%s*t%s,a=Iu(o,lie,s)*o%s,l=Iu(a,Y2t,s)*t%s,c=Iu(l,Z2t,s)*l%s,u=Iu(c,e,s)*c%s,h=Iu(u,n,s)*u%s,f=Iu(h,r,s)*h%s,p=Iu(f,i,s)*f%s,m=Iu(p,i,s)*f%s,g=Iu(m,e,s)*c%s;return{pow_p_5_8:Iu(g,lie,s)*t%s,b2:o}}function ext(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const PF=(()=>{const t=a5e.p;return K2t({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=X2t(e);return Bc(Iu(n,Q2t,t)*r,t)},adjustScalarBytes:ext})})();function cie(t){t.lowS!==void 0&&T7("lowS",t.lowS),t.prehash!==void 0&&T7("prehash",t.prehash)}let txt=class extends Error{constructor(e=""){super(e)}};const Vf={Err:txt,_tlv:{encode:(t,e)=>{const{Err:n}=Vf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Mk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Mk(i.length/2|128):"";return Mk(t)+s+i+e},decode(t,e){const{Err:n}=Vf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Vf;if(t<m4)throw new e("integer: negative integers are not allowed");let n=Mk(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Y$(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vf,i=Pa("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Vf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},m4=BigInt(0),g4=BigInt(1),nxt=BigInt(2),Bk=BigInt(3),rxt=BigInt(4);function ixt(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function l5e(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Pa("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function sxt(t,e={}){const{Fp:n,Fn:r}=q2t("weierstrass",t,e),{h:i,n:s}=t;Z$(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(R,M,F){const{x:W,y:V}=M.toAffine(),B=n.toBytes(W);if(T7("isCompressed",F),F){a();const k=!n.isOdd(V);return My(c5e(k),B)}else return My(Uint8Array.of(4),B,n.toBytes(V))}function c(R){nu(R);const M=n.BYTES,F=M+1,W=2*M+1,V=R.length,B=R[0],k=R.subarray(1);if(V===F&&(B===2||B===3)){const C=n.fromBytes(k);if(!n.isValid(C))throw new Error("bad point: is not on curve, wrong x");const S=f(C);let T;try{T=n.sqrt(S)}catch(P){const D=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const _=n.isOdd(T);return(B&1)===1!==_&&(T=n.neg(T)),{x:C,y:T}}else if(V===W&&B===4){const C=n.fromBytes(k.subarray(M*0,M*1)),S=n.fromBytes(k.subarray(M*1,M*2));if(!p(C,S))throw new Error("bad point: is not on curve");return{x:C,y:S}}else throw new Error(`bad point: got length ${V}, expected compressed=${F} or uncompressed=${W}`)}const u=e.toBytes||l,h=e.fromBytes||c,f=ixt(n,t.a,t.b);function p(R,M){const F=n.sqr(M),W=f(R);return n.eql(F,W)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(t.a,Bk),rxt),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(m,g)))throw new Error("bad curve params: a or b");function y(R,M,F=!1){if(!n.isValid(M)||F&&n.is0(M))throw new Error(`bad point coordinate ${R}`);return M}function w(R){if(!(R instanceof E))throw new Error("ProjectivePoint expected")}const v=nie((R,M)=>{const{px:F,py:W,pz:V}=R;if(n.eql(V,n.ONE))return{x:F,y:W};const B=R.is0();M==null&&(M=B?n.ONE:n.inv(V));const k=n.mul(F,M),C=n.mul(W,M),S=n.mul(V,M);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:k,y:C}}),b=nie(R=>{if(R.is0()){if(e.allowInfinityPoint&&!n.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:M,y:F}=R.toAffine();if(!n.isValid(M)||!n.isValid(F))throw new Error("bad point: x or y not field elements");if(!p(M,F))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(R,M,F,W,V){return F=new E(n.mul(F.px,R),F.py,F.pz),M=p4(W,M),F=p4(V,F),M.add(F)}class E{constructor(M,F,W){this.px=y("x",M),this.py=y("y",F,!0),this.pz=y("z",W),Object.freeze(this)}static fromAffine(M){const{x:F,y:W}=M||{};if(!M||!n.isValid(F)||!n.isValid(W))throw new Error("invalid affine point");if(M instanceof E)throw new Error("projective point not allowed");return n.is0(F)&&n.is0(W)?E.ZERO:new E(F,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){return F2t(E,"pz",M)}static fromBytes(M){return nu(M),E.fromHex(M)}static fromHex(M){const F=E.fromAffine(h(Pa("pointHex",M)));return F.assertValidity(),F}static fromPrivateKey(M){const F=l5e(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(F(M))}static msm(M,F){return V2t(E,r,M,F)}precompute(M=8,F=!0){return N.setWindowSize(this,M),F||this.multiply(Bk),this}_setWindowSize(M){this.precompute(M)}assertValidity(){b(this)}hasEvenY(){const{y:M}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(M)}equals(M){w(M);const{px:F,py:W,pz:V}=this,{px:B,py:k,pz:C}=M,S=n.eql(n.mul(F,C),n.mul(B,V)),T=n.eql(n.mul(W,C),n.mul(k,V));return S&&T}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:M,b:F}=t,W=n.mul(F,Bk),{px:V,py:B,pz:k}=this;let C=n.ZERO,S=n.ZERO,T=n.ZERO,_=n.mul(V,V),P=n.mul(B,B),D=n.mul(k,k),j=n.mul(V,B);return j=n.add(j,j),T=n.mul(V,k),T=n.add(T,T),C=n.mul(M,T),S=n.mul(W,D),S=n.add(C,S),C=n.sub(P,S),S=n.add(P,S),S=n.mul(C,S),C=n.mul(j,C),T=n.mul(W,T),D=n.mul(M,D),j=n.sub(_,D),j=n.mul(M,j),j=n.add(j,T),T=n.add(_,_),_=n.add(T,_),_=n.add(_,D),_=n.mul(_,j),S=n.add(S,_),D=n.mul(B,k),D=n.add(D,D),_=n.mul(D,j),C=n.sub(C,_),T=n.mul(D,P),T=n.add(T,T),T=n.add(T,T),new E(C,S,T)}add(M){w(M);const{px:F,py:W,pz:V}=this,{px:B,py:k,pz:C}=M;let S=n.ZERO,T=n.ZERO,_=n.ZERO;const P=t.a,D=n.mul(t.b,Bk);let j=n.mul(F,B),I=n.mul(W,k),L=n.mul(V,C),J=n.add(F,W),O=n.add(B,k);J=n.mul(J,O),O=n.add(j,I),J=n.sub(J,O),O=n.add(F,V);let G=n.add(B,C);return O=n.mul(O,G),G=n.add(j,L),O=n.sub(O,G),G=n.add(W,V),S=n.add(k,C),G=n.mul(G,S),S=n.add(I,L),G=n.sub(G,S),_=n.mul(P,O),S=n.mul(D,L),_=n.add(S,_),S=n.sub(I,_),_=n.add(I,_),T=n.mul(S,_),I=n.add(j,j),I=n.add(I,j),L=n.mul(P,L),O=n.mul(D,O),I=n.add(I,L),L=n.sub(j,L),L=n.mul(P,L),O=n.add(O,L),j=n.mul(I,O),T=n.add(T,j),j=n.mul(G,O),S=n.mul(J,S),S=n.sub(S,j),j=n.mul(J,I),_=n.mul(G,_),_=n.add(_,j),new E(S,T,_)}subtract(M){return this.add(M.negate())}is0(){return this.equals(E.ZERO)}multiply(M){const{endo:F}=e;if(!r.isValidNot0(M))throw new Error("invalid scalar: out of range");let W,V;const B=k=>N.wNAFCached(this,k,E.normalizeZ);if(F){const{k1neg:k,k1:C,k2neg:S,k2:T}=F.splitScalar(M),{p:_,f:P}=B(C),{p:D,f:j}=B(T);V=P.add(j),W=A(F.beta,_,D,k,S)}else{const{p:k,f:C}=B(M);W=k,V=C}return E.normalizeZ([W,V])[0]}multiplyUnsafe(M){const{endo:F}=e,W=this;if(!r.isValid(M))throw new Error("invalid scalar: out of range");if(M===m4||W.is0())return E.ZERO;if(M===g4)return W;if(N.hasPrecomputes(this))return this.multiply(M);if(F){const{k1neg:V,k1:B,k2neg:k,k2:C}=F.splitScalar(M),{p1:S,p2:T}=H2t(E,W,B,C);return A(F.beta,S,T,V,k)}else return N.wNAFCachedUnsafe(W,M)}multiplyAndAddUnsafe(M,F,W){const V=this.multiplyUnsafe(F).add(M.multiplyUnsafe(W));return V.is0()?void 0:V}toAffine(M){return v(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return i===g4?!0:M?M(E,this):N.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:M}=e;return i===g4?this:M?M(E,this):this.multiplyUnsafe(i)}toBytes(M=!0){return T7("isCompressed",M),this.assertValidity(),u(E,this,M)}toRawBytes(M=!0){return this.toBytes(M)}toHex(M=!0){return o8(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const $=r.BITS,N=W2t(E,e.endo?Math.ceil($/2):$);return E}function c5e(t){return Uint8Array.of(t?2:3)}function oxt(t,e,n={}){Z$(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||J3,i=e.hmac||((W,...V)=>G$(e.hash,W,My(...V))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(W){const V=a>>g4;return W>V}function u(W){return c(W)?o.neg(W):W}function h(W,V){if(!o.isValidNot0(V))throw new Error(`invalid signature ${W}: out of range 1..CURVE.n`)}class f{constructor(V,B,k){h("r",V),h("s",B),this.r=V,this.s=B,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(V){const B=o.BYTES,k=Pa("compactSignature",V,B*2);return new f(o.fromBytes(k.subarray(0,B)),o.fromBytes(k.subarray(B,B*2)))}static fromDER(V){const{r:B,s:k}=Vf.toSig(Pa("DER",V));return new f(B,k)}assertValidity(){}addRecoveryBit(V){return new f(this.r,this.s,V)}recoverPublicKey(V){const B=s.ORDER,{r:k,s:C,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*nxt<B&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=S===2||S===3?k+a:k;if(!s.isValid(T))throw new Error("recovery id 2 or 3 invalid");const _=s.toBytes(T),P=t.fromHex(My(c5e((S&1)===0),_)),D=o.inv(T),j=b(Pa("msgHash",V)),I=o.create(-j*D),L=o.create(C*D),J=t.BASE.multiplyUnsafe(I).add(P.multiplyUnsafe(L));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(V){if(V==="compact")return My(o.toBytes(this.r),o.toBytes(this.s));if(V==="der")return cG(Vf.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return o8(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return o8(this.toBytes("compact"))}}const p=l5e(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),m={isValidPrivateKey(W){try{return p(W),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const W=a;return L2t(r(i5e(W)),W)},precompute(W=8,V=t.BASE){return V.precompute(W,!1)}};function g(W,V=!0){return t.fromPrivateKey(W).toBytes(V)}function y(W){if(typeof W=="bigint")return!1;if(W instanceof t)return!0;const V=Pa("key",W).length,B=s.BYTES,k=B+1,C=2*B+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===k))return V===k||V===C}function w(W,V,B=!0){if(y(W)===!0)throw new Error("first arg must be private key");if(y(V)===!1)throw new Error("second arg must be public key");return t.fromHex(V).multiply(p(W)).toBytes(B)}const v=e.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const V=Y$(W),B=W.length*8-l;return B>0?V>>BigInt(B):V},b=e.bits2int_modN||function(W){return o.create(v(W))},A=Q$(l);function E(W){return NF("num < 2^"+l,W,m4,A),o.toBytes(W)}function $(W,V,B=N){if(["recovered","canonical"].some(J=>J in B))throw new Error("sign() legacy options not supported");const{hash:k}=e;let{lowS:C,prehash:S,extraEntropy:T}=B;C==null&&(C=!0),W=Pa("msgHash",W),cie(B),S&&(W=Pa("prehashed msgHash",k(W)));const _=b(W),P=p(V),D=[E(P),E(_)];if(T!=null&&T!==!1){const J=T===!0?r(s.BYTES):T;D.push(Pa("extraEntropy",J))}const j=My(...D),I=_;function L(J){const O=v(J);if(!o.isValidNot0(O))return;const G=o.inv(O),Z=t.BASE.multiply(O).toAffine(),Q=o.create(Z.x);if(Q===m4)return;const ie=o.create(G*o.create(I+Q*P));if(ie===m4)return;let de=(Z.x===Q?0:2)|Number(Z.y&g4),oe=ie;return C&&c(ie)&&(oe=u(ie),de^=1),new f(Q,oe,de)}return{seed:j,k2sig:L}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function M(W,V,B=N){const{seed:k,k2sig:C}=$(W,V,B);return $2t(e.hash.outputLen,o.BYTES,i)(k,C)}t.BASE.precompute(8);function F(W,V,B,k=R){const C=W;V=Pa("msgHash",V),B=Pa("publicKey",B),cie(k);const{lowS:S,prehash:T,format:_}=k;if("strict"in k)throw new Error("options.strict was renamed to lowS");if(_!==void 0&&!["compact","der","js"].includes(_))throw new Error('format must be "compact", "der" or "js"');const P=typeof C=="string"||oG(C),D=!P&&!_&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!P&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,I;try{if(D)if(_===void 0||_==="js")j=new f(C.r,C.s);else throw new Error("invalid format");if(P){try{_!=="compact"&&(j=f.fromDER(C))}catch(de){if(!(de instanceof Vf.Err))throw de}!j&&_!=="der"&&(j=f.fromCompact(C))}I=t.fromHex(B)}catch{return!1}if(!j||S&&j.hasHighS())return!1;T&&(V=e.hash(V));const{r:L,s:J}=j,O=b(V),G=o.inv(J),Z=o.create(O*G),Q=o.create(L*G),ie=t.BASE.multiplyUnsafe(Z).add(I.multiplyUnsafe(Q));return ie.is0()?!1:o.create(ie.x)===L}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:M,verify:F,utils:m,Point:t,Signature:f})}function axt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=X3(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function lxt(t){const{CURVE:e,curveOpts:n}=axt(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function cxt(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function uxt(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=lxt(t),i=sxt(e,n),s=oxt(i,r,n);return cxt(t,s)}function RF(t,e){const n=r=>uxt({...t,hash:r});return{...n(e),create:n}}const u5e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},d5e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},h5e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},dxt=X3(u5e.p),hxt=X3(d5e.p),fxt=X3(h5e.p),pxt=RF({...u5e,Fp:dxt,lowS:!1},q$);RF({...d5e,Fp:hxt,lowS:!1},xvt),RF({...h5e,Fp:fxt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},vvt);const mxt=pxt,f5e="base10",fa="base16",Oa="base64pad",dm="base64url",rC="utf8",p5e=0,_p=1,iC=2,gxt=0,uie=1,y4=12,mG=32;function yxt(){const t=PF.utils.randomPrivateKey(),e=PF.getPublicKey(t);return{privateKey:Za(t,fa),publicKey:Za(e,fa)}}function jF(){const t=J3(mG);return Za(t,fa)}function wxt(t,e){const n=PF.getSharedSecret(Gc(t,fa),Gc(e,fa)),r=_2t(K$,n,void 0,void 0,mG);return Za(r,fa)}function iS(t){const e=K$(Gc(t,fa));return Za(e,fa)}function Oc(t){const e=K$(Gc(t,rC));return Za(e,fa)}function m5e(t){return Gc(`${t}`,f5e)}function aw(t){return Number(Za(t,f5e))}function g5e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function y5e(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function bxt(t){const e=m5e(typeof t.type<"u"?t.type:p5e);if(aw(e)===_p&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Gc(t.senderPublicKey,fa):void 0,r=typeof t.iv<"u"?Gc(t.iv,fa):J3(y4),i=Gc(t.symKey,fa),s=Y3e(i,r).encrypt(Gc(t.message,rC)),o=w5e({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===dm?g5e(o):o}function vxt(t){const e=Gc(t.symKey,fa),{sealed:n,iv:r}=l8({encoded:t.encoded,encoding:t.encoding}),i=Y3e(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Za(i,rC)}function xxt(t,e){const n=m5e(iC),r=J3(y4),i=Gc(t,rC),s=w5e({type:n,sealed:i,iv:r});return e===dm?g5e(s):s}function Ext(t,e){const{sealed:n}=l8({encoded:t,encoding:e});return Za(n,rC)}function w5e(t){if(aw(t.type)===iC)return Za(f4([t.type,t.sealed]),Oa);if(aw(t.type)===_p){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Za(f4([t.type,t.senderPublicKey,t.iv,t.sealed]),Oa)}return Za(f4([t.type,t.iv,t.sealed]),Oa)}function l8(t){const e=(t.encoding||Oa)===dm?y5e(t.encoded):t.encoded,n=Gc(e,Oa),r=n.slice(gxt,uie),i=uie;if(aw(r)===_p){const l=i+mG,c=l+y4,u=n.slice(i,l),h=n.slice(l,c),f=n.slice(c);return{type:r,sealed:f,iv:h,senderPublicKey:u}}if(aw(r)===iC){const l=n.slice(i),c=J3(y4);return{type:r,sealed:l,iv:c}}const s=i+y4,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function Axt(t,e){const n=l8({encoded:t,encoding:e==null?void 0:e.encoding});return b5e({type:aw(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Za(n.senderPublicKey,fa):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function b5e(t){const e=(t==null?void 0:t.type)||p5e;if(e===_p){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function die(t){return t.type===_p&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function hie(t){return t.type===iC}function Cxt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return f4([new Uint8Array([4]),e,n])}function kxt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(y5e(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${n}.${r}`,c=K$(l),u=Cxt(e);if(!mxt.verify(f4([o,a]),c,u))throw new Error("Invalid signature");return xF(t).payload}const Sxt="irn";function N7(t){return(t==null?void 0:t.relay)||{protocol:Sxt}}function Ev(t){const e=Xwt[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function _xt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function fie(t){if(!t.includes("wc:")){const c=$3e(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((c,u)=>{a[u]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Ixt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:_xt(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Ixt(t){return t.startsWith("//")?t.substring(2):t}function Txt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function pie(t){const e=new URLSearchParams,n=Txt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Lk(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var $xt=Object.defineProperty,Nxt=Object.defineProperties,Pxt=Object.getOwnPropertyDescriptors,mie=Object.getOwnPropertySymbols,Rxt=Object.prototype.hasOwnProperty,jxt=Object.prototype.propertyIsEnumerable,gie=(t,e,n)=>e in t?$xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oxt=(t,e)=>{for(var n in e||(e={}))Rxt.call(e,n)&&gie(t,n,e[n]);if(mie)for(var n of mie(e))jxt.call(e,n)&&gie(t,n,e[n]);return t},Mxt=(t,e)=>Nxt(t,Pxt(e));function e5(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Dxt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...e5(n.accounts))}),e}function Bxt(t,e){const n=[];return Object.values(t).forEach(r=>{e5(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Lxt(t,e){const n=[];return Object.values(t).forEach(r=>{e5(r.accounts).includes(e)&&n.push(...r.events)}),n}function J$(t){return t.includes(":")}function Av(t){return J$(t)?t.split(":")[0]:t}function yie(t){var e,n,r;const i={};if(!Vh(t))return i;for(const[s,o]of Object.entries(t)){const a=J$(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=Av(s);i[u]=Mxt(Oxt({},i[u]),{chains:Hh(a,(e=i[u])==null?void 0:e.chains),methods:Hh(l,(n=i[u])==null?void 0:n.methods),events:Hh(c,(r=i[u])==null?void 0:r.events)})}return i}function Fxt(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function wie(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=Fxt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Hh(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function Uxt(t,e){var n,r,i,s,o,a;const l=yie(t),c=yie(e),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:Hh((n=l[f])==null?void 0:n.chains,(r=c[f])==null?void 0:r.chains),methods:Hh((i=l[f])==null?void 0:i.methods,(s=c[f])==null?void 0:s.methods),events:Hh((o=l[f])==null?void 0:o.events,(a=c[f])==null?void 0:a.events)};return u}const zxt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Wxt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function it(t,e){const{message:n,code:r}=Wxt[t];return{message:e?`${n} ${e}`:n,code:r}}function Dr(t,e){const{message:n,code:r}=zxt[t];return{message:e?`${n} ${e}`:n,code:r}}function Yc(t,e){return!!Array.isArray(t)}function Vh(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function bs(t){return typeof t>"u"}function Hi(t,e){return e&&bs(t)?!0:typeof t=="string"&&!!t.trim().length}function gG(t,e){return typeof t=="number"&&!isNaN(t)}function Hxt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Oy(i,r)?(r.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=e5(a),h=n[o];(!Oy(k3e(o,h),u)||!Oy(h.methods,l)||!Oy(h.events,c))&&(s=!1)}),s):!1}function P7(t){return Hi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Vxt(t){if(Hi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&P7(n)}}return!1}function qxt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Hi(t,!1)){if(e(t))return!0;const n=$3e(t);return e(n)}}catch{}return!1}function Gxt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Kxt(t){return t==null?void 0:t.topic}function Yxt(t,e){let n=null;return Hi(t==null?void 0:t.publicKey,!1)||(n=it("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function bie(t){let e=!0;return Yc(t)?t.length&&(e=t.every(n=>Hi(n,!1))):e=!1,e}function Qxt(t,e,n){let r=null;return Yc(e)&&e.length?e.forEach(i=>{r||P7(i)||(r=Dr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):P7(t)||(r=Dr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Zxt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=Qxt(i,k3e(i,s),`${e} ${n}`);o&&(r=o)}),r}function Jxt(t,e){let n=null;return Yc(t)?t.forEach(r=>{n||Vxt(r)||(n=Dr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Dr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Xxt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Jxt(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function e3t(t,e){let n=null;return bie(t==null?void 0:t.methods)?bie(t==null?void 0:t.events)||(n=Dr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Dr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function v5e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=e3t(r,`${e}, namespace`);i&&(n=i)}),n}function t3t(t,e,n){let r=null;if(t&&Vh(t)){const i=v5e(t,e);i&&(r=i);const s=Zxt(t,e,n);s&&(r=s)}else r=it("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function hO(t,e){let n=null;if(t&&Vh(t)){const r=v5e(t,e);r&&(n=r);const i=Xxt(t,e);i&&(n=i)}else n=it("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function x5e(t){return Hi(t.protocol,!0)}function n3t(t,e){let n=!1;return t?t&&Yc(t)&&t.length&&t.forEach(r=>{n=x5e(r)}):n=!0,n}function r3t(t){return typeof t=="number"}function Ia(t){return typeof t<"u"&&typeof t!==null}function i3t(t){return!(!t||typeof t!="object"||!t.code||!gG(t.code)||!t.message||!Hi(t.message,!1))}function s3t(t){return!(bs(t)||!Hi(t.method,!1))}function o3t(t){return!(bs(t)||bs(t.result)&&bs(t.error)||!gG(t.id)||!Hi(t.jsonrpc,!1))}function a3t(t){return!(bs(t)||!Hi(t.name,!1))}function vie(t,e){return!(!P7(e)||!Dxt(t).includes(e))}function l3t(t,e,n){return Hi(n,!1)?Bxt(t,e).includes(n):!1}function c3t(t,e,n){return Hi(n,!1)?Lxt(t,e).includes(n):!1}function xie(t,e,n){let r=null;const i=u3t(t),s=d3t(e),o=Object.keys(i),a=Object.keys(s),l=Eie(Object.keys(t)),c=Eie(Object.keys(e)),u=l.filter(h=>!c.includes(h));return u.length&&(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Oy(o,a)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const f=e5(e[h].accounts);f.includes(h)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{r||(Oy(i[h].methods,s[h].methods)?Oy(i[h].events,s[h].events)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function u3t(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function Eie(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function d3t(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=e5(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function h3t(t,e){return gG(t)&&t<=e.max&&t>=e.min}function Aie(){const t=tC();return new Promise(e=>{switch(t){case zl.browser:e(f3t());break;case zl.reactNative:e(p3t());break;case zl.node:e(m3t());break;default:e(!0)}})}function f3t(){return Z3()&&(navigator==null?void 0:navigator.onLine)}async function p3t(){if(Og()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function m3t(){return!0}function g3t(t){switch(tC()){case zl.browser:y3t(t);break;case zl.reactNative:w3t(t);break}}function y3t(t){!Og()&&Z3()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function w3t(t){Og()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function b3t(){var t;return Z3()&&rw()?((t=rw())==null?void 0:t.visibilityState)==="visible":!0}const fO={};let q5=class{static get(e){return fO[e]}static set(e,n){fO[e]=n}static delete(e){delete fO[e]}};function v3t(t){const e=JA.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function x3t({publicKey:t,signature:e,payload:n}){var r;const i=OF(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=C3t(n.address),a=n.era==="00"?new Uint8Array([0]):OF(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${A3t(n.tip)}`),h=S3t(u),f=new Uint8Array([0,...t,o,...e,...a,...c,...h,...i]),p=k3t(f.length+1);return new Uint8Array([...p,s,...f])}function E3t(t){const e=OF(t),n=dbt.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function OF(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function A3t(t){return t.startsWith("0x")?t.slice(2):t}function C3t(t){const e=JA.decode(t)[0];return e===42?0:e===60?2:1}function k3t(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function S3t(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function _3t(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=v3t(t.transaction.address),r=x3t({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return E3t(i)}class Fw{}let I3t=class extends Fw{constructor(e){super()}};const Cie=tt.FIVE_SECONDS,Uw={pulse:"heartbeat_pulse"};let T3t=class E5e extends I3t{constructor(e){super(e),this.events=new lc.EventEmitter,this.interval=Cie,this.interval=(e==null?void 0:e.interval)||Cie}static async init(e){const n=new E5e(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),tt.toMiliseconds(this.interval))}pulse(){this.events.emit(Uw.pulse)}};function $3t(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ds(t,...e){try{return $3t(t(...e))}catch(n){return Promise.reject(n)}}function N3t(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function P3t(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function sS(t){if(N3t(t))return String(t);if(P3t(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return sS(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const MF="base64:";function R3t(t){return typeof t=="string"?t:MF+M3t(t)}function j3t(t){return typeof t!="string"||!t.startsWith(MF)?t:O3t(t.slice(MF.length))}function O3t(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function M3t(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function _a(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function D3t(...t){return _a(t.join(":"))}function Fk(t){return t=_a(t),t?t+":":""}function B3t(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function L3t(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const F3t="memory",U3t=()=>{const t=new Map;return{name:F3t,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function z3t(t={}){const e={mounts:{"":t.driver||U3t()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},r=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=_a(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await kie(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,h)=>{const f=new Map,p=m=>{let g=f.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},f.set(m.base,g)),g};for(const m of c){const g=typeof m=="string",y=_a(g?m:m.key),w=g?void 0:m.value,v=g||!m.options?u:{...u,...m.options},b=n(y);p(b).items.push({key:y,value:w,relativeKey:b.relativeKey,options:v})}return Promise.all([...f.values()].map(m=>h(m))).then(m=>m.flat())},l={hasItem(c,u={}){c=_a(c);const{relativeKey:h,driver:f}=n(c);return ds(f.hasItem,h,u)},getItem(c,u={}){c=_a(c);const{relativeKey:h,driver:f}=n(c);return ds(f.getItem,h,u).then(p=>A6(p))},getItems(c,u={}){return a(c,u,h=>h.driver.getItems?ds(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:D3t(h.base,p.key),value:A6(p.value)}))):Promise.all(h.items.map(f=>ds(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:A6(p)})))))},getItemRaw(c,u={}){c=_a(c);const{relativeKey:h,driver:f}=n(c);return f.getItemRaw?ds(f.getItemRaw,h,u):ds(f.getItem,h,u).then(p=>j3t(p))},async setItem(c,u,h={}){if(u===void 0)return l.removeItem(c);c=_a(c);const{relativeKey:f,driver:p}=n(c);p.setItem&&(await ds(p.setItem,f,sS(u),h),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async h=>{if(h.driver.setItems)return ds(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:sS(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>ds(h.driver.setItem,f.relativeKey,sS(f.value),f.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return l.removeItem(c,h);c=_a(c);const{relativeKey:f,driver:p}=n(c);if(p.setItemRaw)await ds(p.setItemRaw,f,u,h);else if(p.setItem)await ds(p.setItem,f,R3t(u),h);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=_a(c);const{relativeKey:h,driver:f}=n(c);f.removeItem&&(await ds(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await ds(f.removeItem,h+"$",u),f.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=_a(c);const{relativeKey:h,driver:f}=n(c),p=Object.create(null);if(f.getMeta&&Object.assign(p,await ds(f.getMeta,h,u)),!u.nativeOnly){const m=await ds(f.getItem,h+"$",u).then(g=>A6(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(p,m))}return p},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){var y;c=Fk(c);const h=r(c,!0);let f=[];const p=[];let m=!0;for(const w of h){(y=w.driver.flags)!=null&&y.maxDepth||(m=!1);const v=await ds(w.driver.getKeys,w.relativeBase,u);for(const b of v){const A=w.mountpoint+_a(b);f.some(E=>A.startsWith(E))||p.push(A)}f=[w.mountpoint,...f.filter(b=>!b.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return p.filter(w=>(!g||B3t(w,u.maxDepth))&&L3t(w,c))},async clear(c,u={}){c=Fk(c),await Promise.all(r(c,!1).map(async h=>{if(h.driver.clear)return ds(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>Sie(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=Fk(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(kie(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),l},async unmount(c,u=!0){var h,f;c=Fk(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((f=(h=e.unwatch)[c])==null||f.call(h),delete e.unwatch[c]),u&&await Sie(e.mounts[c]),e.mountpoints=e.mountpoints.filter(p=>p!==c),delete e.mounts[c])},getMount(c=""){c=_a(c)+":";const u=n(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=_a(c),r(c,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,h={})=>l.setItem(c,u,h),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function kie(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function Sie(t){typeof t.dispose=="function"&&await ds(t.dispose)}function zw(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function A5e(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=zw(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let pO;function sC(){return pO||(pO=A5e("keyval-store","keyval")),pO}function _ie(t,e=sC()){return e("readonly",n=>zw(n.get(t)))}function W3t(t,e,n=sC()){return n("readwrite",r=>(r.put(e,t),zw(r.transaction)))}function H3t(t,e=sC()){return e("readwrite",n=>(n.delete(t),zw(n.transaction)))}function V3t(t=sC()){return t("readwrite",e=>(e.clear(),zw(e.transaction)))}function q3t(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},zw(t.transaction)}function G3t(t=sC()){return t("readonly",e=>{if(e.getAllKeys)return zw(e.getAllKeys());const n=[];return q3t(e,r=>n.push(r.key)).then(()=>n)})}const K3t="idb-keyval";var Y3t=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=A5e(t.dbName,t.storeName)),{name:K3t,options:t,async hasItem(i){return!(typeof await _ie(n(i),r)>"u")},async getItem(i){return await _ie(n(i),r)??null},setItem(i,s){return W3t(n(i),s,r)},removeItem(i){return H3t(n(i),r)},getKeys(){return G3t(r)},clear(){return V3t(r)}}};const Q3t="WALLET_CONNECT_V2_INDEXED_DB",Z3t="keyvaluestorage";let J3t=class{constructor(){this.indexedDb=z3t({driver:Y3t({dbName:Q3t,storeName:Z3t})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Qp(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var mO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},oS={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof mO<"u"&&mO.localStorage?oS.exports=mO.localStorage:typeof window<"u"&&window.localStorage?oS.exports=window.localStorage:oS.exports=new e})();function X3t(t){var e;return[t[0],sw((e=t[1])!=null?e:"")]}let e5t=class{constructor(){this.localStorage=oS.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(X3t)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return sw(n)}async setItem(e,n){this.localStorage.setItem(e,Qp(n))}async removeItem(e){this.localStorage.removeItem(e)}};const t5t="wc_storage_version",Iie=1,n5t=async(t,e,n)=>{const r=t5t,i=await e.getItem(r);if(i&&i>=Iie){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(r,Iie),n(e),r5t(t,o)},r5t=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let i5t=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new e5t;this.storage=e;try{const n=new J3t;n5t(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function s5t(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var o5t=a5t;function a5t(t,e,n){var r=n&&n.stringify||s5t,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;h<p&&(c+=t.slice(h,p));var m=typeof e[u];if(m==="string"){c+="'"+e[u]+"'",h=p+2,p++;break}if(m==="function"){c+=e[u].name||"<anonymous>",h=p+2,p++;break}c+=r(e[u]),h=p+2,p++;break;case 115:if(u>=l)break;h<p&&(c+=t.slice(h,p)),c+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(c+=t.slice(h,p)),c+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(c+=t.slice(h)),c)}const Tie=o5t;var Vb=qh;const c8=y5t().console||{},l5t={mapHttpRequest:Uk,mapHttpResponse:Uk,wrapRequestSerializer:gO,wrapResponseSerializer:gO,wrapErrorSerializer:gO,req:Uk,res:Uk,err:f5t};function c5t(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function qh(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||c8;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=c5t(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",l=Object.create(n);l.log||(l.log=u8),Object.defineProperty(l,"levelVal",{get:u}),Object.defineProperty(l,"level",{get:h,set:f});const c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:p5t(t)};l.levels=qh.levels,l.level=a,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=u8,l.serializers=r,l._serialize=i,l._stdErrSerialize=s,l.child=p,e&&(l._logEvent=DF());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,wb(c,l,"error","log"),wb(c,l,"fatal","error"),wb(c,l,"warn","error"),wb(c,l,"info","log"),wb(c,l,"debug","log"),wb(c,l,"trace","log")}function p(m,g){if(!m)throw new Error("missing bindings for child Pino");g=g||{},i&&m.serializers&&(g.serializers=m.serializers);const y=g.serializers;if(i&&y){var w=Object.assign({},r,y),v=t.browser.serialize===!0?Object.keys(w):i;delete m.serializers,X$([m],v,w,this._stdErrSerialize)}function b(A){this._childLevel=(A._childLevel|0)+1,this.error=bb(A,m,"error"),this.fatal=bb(A,m,"fatal"),this.warn=bb(A,m,"warn"),this.info=bb(A,m,"info"),this.debug=bb(A,m,"debug"),this.trace=bb(A,m,"trace"),w&&(this.serializers=w,this._serialize=v),e&&(this._logEvent=DF([].concat(A._logEvent.bindings,m)))}return b.prototype=this,new b(this)}return l}qh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};qh.stdSerializers=l5t;qh.stdTimeFunctions=Object.assign({},{nullTime:C5e,epochTime:k5e,unixTime:m5t,isoTime:g5t});function wb(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?u8:i[n]?i[n]:c8[n]||c8[r]||u8,u5t(t,e,n)}function u5t(t,e,n){!t.transmit&&e[n]===u8||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===c8?c8:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];if(t.serialize&&!t.asObject&&X$(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,d5t(this,n,o,s)):r.apply(a,o),t.transmit){const c=t.transmit.level||e.level,u=qh.levels.values[c],h=qh.levels.values[n];if(h<u)return;h5t(this,{ts:s,methodLevel:n,methodValue:h,transmitLevel:c,transmitValue:qh.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function d5t(t,e,n,r){t._serialize&&X$(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=qh.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?Tie(i.shift(),i):void 0}else typeof s=="string"&&(s=Tie(i.shift(),i));return s!==void 0&&(o.msg=s),o}function X$(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=qh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function bb(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function h5t(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,l=t._logEvent.bindings;X$(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(c){return l.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=DF(l)}function DF(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function f5t(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function p5t(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?C5e:k5e}function Uk(){return{}}function gO(t){return t}function u8(){}function C5e(){return!1}function k5e(){return Date.now()}function m5t(){return Math.round(Date.now()/1e3)}function g5t(){return new Date(Date.now()).toISOString()}function y5t(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const oC=Ks(Vb),w5t={level:"info"},aC="custom_context",yG=1e3*1024;let b5t=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},$ie=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new b5t(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},S5e=class{constructor(e,n=yG){this.level=e??"error",this.levelValue=Vb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new $ie(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Vb.levels.values.error?console.error(e):n===Vb.levels.values.warn?console.warn(e):n===Vb.levels.values.debug?console.debug(e):n===Vb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Qp({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new $ie(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Qp({extraMetadata:e})),new Blob(n,{type:"application/json"})}},v5t=class{constructor(e,n=yG){this.baseChunkLogger=new S5e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},x5t=class{constructor(e,n=yG){this.baseChunkLogger=new S5e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var E5t=Object.defineProperty,A5t=Object.defineProperties,C5t=Object.getOwnPropertyDescriptors,Nie=Object.getOwnPropertySymbols,k5t=Object.prototype.hasOwnProperty,S5t=Object.prototype.propertyIsEnumerable,Pie=(t,e,n)=>e in t?E5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R7=(t,e)=>{for(var n in e||(e={}))k5t.call(e,n)&&Pie(t,n,e[n]);if(Nie)for(var n of Nie(e))S5t.call(e,n)&&Pie(t,n,e[n]);return t},j7=(t,e)=>A5t(t,C5t(e));function eN(t){return j7(R7({},t),{level:(t==null?void 0:t.level)||w5t.level})}function _5t(t,e=aC){return t[e]||""}function I5t(t,e,n=aC){return t[n]=e,t}function ul(t,e=aC){let n="";return typeof t.bindings>"u"?n=_5t(t,e):n=t.bindings().context||"",n}function T5t(t,e,n=aC){const r=ul(t,n);return r.trim()?`${r}/${e}`:e}function va(t,e,n=aC){const r=T5t(t,e,n),i=t.child({context:r});return I5t(i,r,n)}function $5t(t){var e,n;const r=new v5t((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:oC(j7(R7({},t.opts),{level:"trace",browser:j7(R7({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function N5t(t){var e;const n=new x5t((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:oC(j7(R7({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function P5t(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?$5t(t):N5t(t)}var R5t=Object.defineProperty,j5t=(t,e,n)=>e in t?R5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rie=(t,e,n)=>j5t(t,typeof e!="symbol"?e+"":e,n);let O5t=class extends Fw{constructor(e){super(),this.opts=e,Rie(this,"protocol","wc"),Rie(this,"version",2)}};var M5t=Object.defineProperty,D5t=(t,e,n)=>e in t?M5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B5t=(t,e,n)=>D5t(t,e+"",n);let L5t=class extends Fw{constructor(e,n){super(),this.core=e,this.logger=n,B5t(this,"records",new Map)}},F5t=class{constructor(e,n){this.logger=e,this.core=n}},U5t=class extends Fw{constructor(e,n){super(),this.relayer=e,this.logger=n}},z5t=class extends Fw{constructor(e){super()}},W5t=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},H5t=class extends Fw{constructor(e,n){super(),this.relayer=e,this.logger=n}},V5t=class extends Fw{constructor(e,n){super(),this.core=e,this.logger=n}},q5t=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},G5t=class{constructor(e,n){this.projectId=e,this.logger=n}},K5t=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Y5t=Object.defineProperty,Q5t=(t,e,n)=>e in t?Y5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jie=(t,e,n)=>Q5t(t,typeof e!="symbol"?e+"":e,n);let Z5t=class{constructor(e){this.opts=e,jie(this,"protocol","wc"),jie(this,"version",2)}},J5t=class{constructor(e){this.client=e}};const X5t="PARSE_ERROR",e6t="INVALID_REQUEST",t6t="METHOD_NOT_FOUND",n6t="INVALID_PARAMS",_5e="INTERNAL_ERROR",wG="SERVER_ERROR",r6t=[-32700,-32600,-32601,-32602,-32603],w4={[X5t]:{code:-32700,message:"Parse error"},[e6t]:{code:-32600,message:"Invalid Request"},[t6t]:{code:-32601,message:"Method not found"},[n6t]:{code:-32602,message:"Invalid params"},[_5e]:{code:-32603,message:"Internal error"},[wG]:{code:-32e3,message:"Server error"}},I5e=wG;function i6t(t){return r6t.includes(t)}function Oie(t){return Object.keys(w4).includes(t)?w4[t]:w4[I5e]}function s6t(t){const e=Object.values(w4).find(n=>n.code===t);return e||w4[I5e]}function T5e(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var $5e={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var BF=function(t,e){return BF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},BF(t,e)};function o6t(t,e){BF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var LF=function(){return LF=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LF.apply(this,arguments)};function a6t(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function l6t(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function c6t(t,e){return function(n,r){e(n,r,t)}}function u6t(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function d6t(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function h6t(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function f6t(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function p6t(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function FF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N5e(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function m6t(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N5e(arguments[e]));return t}function g6t(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function d8(t){return this instanceof d8?(this.v=t,this):new d8(t)}function y6t(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof d8?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w6t(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:d8(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function b6t(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof FF=="function"?FF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function v6t(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x6t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E6t(t){return t&&t.__esModule?t:{default:t}}function A6t(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C6t(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const k6t=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return LF},__asyncDelegator:w6t,__asyncGenerator:y6t,__asyncValues:b6t,__await:d8,__awaiter:d6t,__classPrivateFieldGet:A6t,__classPrivateFieldSet:C6t,__createBinding:f6t,__decorate:l6t,__exportStar:p6t,__extends:o6t,__generator:h6t,__importDefault:E6t,__importStar:x6t,__makeTemplateObject:v6t,__metadata:u6t,__param:c6t,__read:N5e,__rest:a6t,__spread:m6t,__spreadArrays:g6t,__values:FF},Symbol.toStringTag,{value:"Module"})),S6t=y3(k6t);var kf={},Mie;function _6t(){if(Mie)return kf;Mie=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.isBrowserCryptoAvailable=kf.getSubtleCrypto=kf.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}kf.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}kf.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return kf.isBrowserCryptoAvailable=n,kf}var Sf={},Die;function I6t(){if(Die)return Sf;Die=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.isBrowser=Sf.isNode=Sf.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Sf.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Sf.isNode=e;function n(){return!t()&&!e()}return Sf.isBrowser=n,Sf}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=S6t;e.__exportStar(_6t(),t),e.__exportStar(I6t(),t)})($5e);function nh(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Wm(t=6){return BigInt(nh(t))}function vh(t,e,n){return{id:n||nh(),jsonrpc:"2.0",method:t,params:e}}function h8(t,e){return{id:t,jsonrpc:"2.0",result:e}}function tN(t,e,n){return{id:t,jsonrpc:"2.0",error:T6t(e)}}function T6t(t,e){return typeof t>"u"?Oie(_5e):(typeof t=="string"&&(t=Object.assign(Object.assign({},Oie(wG)),{message:t})),i6t(t.code)&&(t=s6t(t.code)),t)}let $6t=class{},N6t=class extends $6t{constructor(){super()}},P6t=class extends N6t{constructor(e){super()}};const R6t="^https?:",j6t="^wss?:";function O6t(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function P5e(t,e){const n=O6t(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Bie(t){return P5e(t,R6t)}function Lie(t){return P5e(t,j6t)}function M6t(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function R5e(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function bG(t){return R5e(t)&&"method"in t}function nN(t){return R5e(t)&&(rh(t)||Mc(t))}function rh(t){return"result"in t}function Mc(t){return"error"in t}let pu=class extends P6t{constructor(e){super(e),this.events=new lc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(vh(e.method,e.params||[],e.id||Wm().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Mc(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),nN(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const D6t=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),B6t=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Fie=t=>t.split("?")[0],Uie=10,L6t=D6t();let F6t=class{constructor(e){if(this.url=e,this.events=new lc.EventEmitter,this.registering=!1,!Lie(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Qp(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Lie(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=$5e.isReactNative()?void 0:{rejectUnauthorized:!M6t(e)},s=new L6t(e,[],i);B6t()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?sw(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=tN(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return T5e(e,Fie(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Uie&&this.events.setMaxListeners(Uie)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Fie(this.url)}`));return this.events.emit("register_error",n),n}};var U6t={};const j5e="wc",O5e=2,O7="core",ef=`${j5e}@2:${O7}:`,z6t={name:O7,logger:"error"},W6t={database:":memory:"},H6t="crypto",zie="client_ed25519_seed",V6t=tt.ONE_DAY,q6t="keychain",G6t="0.3",K6t="messages",Y6t="0.3",Q6t=tt.SIX_HOURS,Z6t="publisher",M5e="irn",J6t="error",D5e="wss://relay.walletconnect.org",X6t="relayer",Si={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},e4t="_subscription",gc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},t4t=.1,UF="2.21.7",Mr={link_mode:"link_mode",relay:"relay"},aS={inbound:"inbound",outbound:"outbound"},n4t="0.3",r4t="WALLETCONNECT_CLIENT_ID",Wie="WALLETCONNECT_LINK_MODE_APPS",xl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},i4t="subscription",s4t="0.3",o4t="pairing",a4t="0.3",G5={wc_pairingDelete:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:tt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:tt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:0},res:{ttl:tt.ONE_DAY,prompt:!1,tag:0}}},hy={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Eu={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},l4t="history",c4t="0.3",u4t="expirer",kc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},d4t="0.3",h4t="verify-api",f4t="https://verify.walletconnect.com",B5e="https://verify.walletconnect.org",b4=B5e,p4t=`${b4}/v3`,m4t=[f4t,B5e],g4t="echo",y4t="https://echo.walletconnect.com",Xd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Rf={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},P0={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},K5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Yg={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Y5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},w4t=.1,b4t="event-client",v4t=86400,x4t="https://pulse.walletconnect.org/batch";function E4t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var M=l.repeat(g);R<b;++R)M+=t.charAt(A[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),M=y;N!==v;)R[M++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var A4t=E4t,C4t=A4t;const L5e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},k4t=t=>new TextEncoder().encode(t),S4t=t=>new TextDecoder().decode(t);let _4t=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},I4t=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return F5e(this,e)}},T4t=class{constructor(e){this.decoders=e}or(e){return F5e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const F5e=(t,e)=>new T4t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let $4t=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new _4t(e,n,r),this.decoder=new I4t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const rN=({name:t,prefix:e,encode:n,decode:r})=>new $4t(t,e,n,r),lC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=C4t(n,e);return rN({prefix:t,name:e,encode:r,decode:s=>L5e(i(s))})},N4t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},P4t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Xs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>rN({prefix:e,name:t,encode(i){return P4t(i,r,n)},decode(i){return N4t(i,r,n,t)}}),R4t=rN({prefix:"\0",name:"identity",encode:t=>S4t(t),decode:t=>k4t(t)});var j4t=Object.freeze({__proto__:null,identity:R4t});const O4t=Xs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var M4t=Object.freeze({__proto__:null,base2:O4t});const D4t=Xs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var B4t=Object.freeze({__proto__:null,base8:D4t});const L4t=lC({prefix:"9",name:"base10",alphabet:"0123456789"});var F4t=Object.freeze({__proto__:null,base10:L4t});const U4t=Xs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),z4t=Xs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var W4t=Object.freeze({__proto__:null,base16:U4t,base16upper:z4t});const H4t=Xs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),V4t=Xs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q4t=Xs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G4t=Xs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),K4t=Xs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Y4t=Xs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Q4t=Xs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Z4t=Xs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),J4t=Xs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var X4t=Object.freeze({__proto__:null,base32:H4t,base32upper:V4t,base32pad:q4t,base32padupper:G4t,base32hex:K4t,base32hexupper:Y4t,base32hexpad:Q4t,base32hexpadupper:Z4t,base32z:J4t});const eEt=lC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tEt=lC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var nEt=Object.freeze({__proto__:null,base36:eEt,base36upper:tEt});const rEt=lC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),iEt=lC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var sEt=Object.freeze({__proto__:null,base58btc:rEt,base58flickr:iEt});const oEt=Xs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aEt=Xs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lEt=Xs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cEt=Xs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var uEt=Object.freeze({__proto__:null,base64:oEt,base64pad:aEt,base64url:lEt,base64urlpad:cEt});const U5e=Array.from(""),dEt=U5e.reduce((t,e,n)=>(t[n]=e,t),[]),hEt=U5e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function fEt(t){return t.reduce((e,n)=>(e+=dEt[n],e),"")}function pEt(t){const e=[];for(const n of t){const r=hEt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const mEt=rN({prefix:"",name:"base256emoji",encode:fEt,decode:pEt});var gEt=Object.freeze({__proto__:null,base256emoji:mEt}),yEt=z5e,Hie=128,wEt=127,bEt=~wEt,vEt=Math.pow(2,31);function z5e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vEt;)e[n++]=t&255|Hie,t/=128;for(;t&bEt;)e[n++]=t&255|Hie,t>>>=7;return e[n]=t|0,z5e.bytes=n-r+1,e}var xEt=zF,EEt=128,Vie=127;function zF(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw zF.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Vie)<<i:(o&Vie)*Math.pow(2,i),i+=7}while(o>=EEt);return zF.bytes=s-r,n}var AEt=Math.pow(2,7),CEt=Math.pow(2,14),kEt=Math.pow(2,21),SEt=Math.pow(2,28),_Et=Math.pow(2,35),IEt=Math.pow(2,42),TEt=Math.pow(2,49),$Et=Math.pow(2,56),NEt=Math.pow(2,63),PEt=function(t){return t<AEt?1:t<CEt?2:t<kEt?3:t<SEt?4:t<_Et?5:t<IEt?6:t<TEt?7:t<$Et?8:t<NEt?9:10},REt={encode:yEt,decode:xEt,encodingLength:PEt},W5e=REt;const qie=(t,e,n=0)=>(W5e.encode(t,e,n),e),Gie=t=>W5e.encodingLength(t),WF=(t,e)=>{const n=e.byteLength,r=Gie(t),i=r+Gie(n),s=new Uint8Array(i+n);return qie(t,s,0),qie(n,s,r),s.set(e,i),new jEt(t,n,e,s)};let jEt=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const H5e=({name:t,code:e,encode:n})=>new OEt(t,e,n);let OEt=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?WF(this.code,n):n.then(r=>WF(this.code,r))}else throw Error("Unknown type, must be binary type")}};const V5e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),MEt=H5e({name:"sha2-256",code:18,encode:V5e("SHA-256")}),DEt=H5e({name:"sha2-512",code:19,encode:V5e("SHA-512")});var BEt=Object.freeze({__proto__:null,sha256:MEt,sha512:DEt});const q5e=0,LEt="identity",G5e=L5e,FEt=t=>WF(q5e,G5e(t)),UEt={code:q5e,name:LEt,encode:G5e,digest:FEt};var zEt=Object.freeze({__proto__:null,identity:UEt});new TextEncoder,new TextDecoder;const Kie={...j4t,...M4t,...B4t,...F4t,...W4t,...X4t,...nEt,...sEt,...uEt,...gEt};({...BEt,...zEt});function K5e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function WEt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?K5e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Y5e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Yie=Y5e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),yO=Y5e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=WEt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),HEt={utf8:Yie,"utf-8":Yie,hex:Kie.base16,latin1:yO,ascii:yO,binary:yO,...Kie};function VEt(t,e="utf8"){const n=HEt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?K5e(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var qEt=Object.defineProperty,GEt=(t,e,n)=>e in t?qEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zd=(t,e,n)=>GEt(t,typeof e!="symbol"?e+"":e,n);let KEt=class{constructor(e,n){this.core=e,this.logger=n,zd(this,"keychain",new Map),zd(this,"name",q6t),zd(this,"version",G6t),zd(this,"initialized",!1),zd(this,"storagePrefix",ef),zd(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),zd(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),zd(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),zd(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=it("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),zd(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=va(n,this.name)}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,AF(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?CF(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var YEt=Object.defineProperty,QEt=(t,e,n)=>e in t?YEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Is=(t,e,n)=>QEt(t,typeof e!="symbol"?e+"":e,n);let ZEt=class{constructor(e,n,r){this.core=e,this.logger=n,Is(this,"name",H6t),Is(this,"keychain"),Is(this,"randomSessionIdentifier",jF()),Is(this,"initialized",!1),Is(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Is(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Is(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=kre(i);return o3e(s.publicKey)}),Is(this,"generateKeyPair",()=>{this.isInitialized();const i=yxt();return this.setPrivateKey(i.publicKey,i.privateKey)}),Is(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=kre(s),a=this.randomSessionIdentifier;return await nwt(a,i,V6t,o)}),Is(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=wxt(a,s);return this.setSymKey(l,o)}),Is(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||iS(i);return await this.keychain.set(o,i),o}),Is(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Is(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Is(this,"encode",async(i,s,o)=>{this.isInitialized();const a=b5e(o),l=Qp(s);if(hie(a))return xxt(l,o==null?void 0:o.encoding);if(die(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return bxt({type:u,symKey:c,message:l,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),Is(this,"decode",async(i,s,o)=>{this.isInitialized();const a=Axt(s,o);if(hie(a)){const l=Ext(s,o==null?void 0:o.encoding);return sw(l)}if(die(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=vxt({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return sw(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Is(this,"getPayloadType",(i,s=Oa)=>{const o=l8({encoded:i,encoding:s});return aw(o.type)}),Is(this,"getPayloadSenderPublicKey",(i,s=Oa)=>{const o=l8({encoded:i,encoding:s});return o.senderPublicKey?Za(o.senderPublicKey,fa):void 0}),this.core=e,this.logger=va(n,this.name),this.keychain=r||new KEt(this.core,this.logger)}get context(){return ul(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(zie)}catch{e=jF(),await this.keychain.set(zie,e)}return VEt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var JEt=Object.defineProperty,XEt=Object.defineProperties,e8t=Object.getOwnPropertyDescriptors,Qie=Object.getOwnPropertySymbols,t8t=Object.prototype.hasOwnProperty,n8t=Object.prototype.propertyIsEnumerable,HF=(t,e,n)=>e in t?JEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r8t=(t,e)=>{for(var n in e||(e={}))t8t.call(e,n)&&HF(t,n,e[n]);if(Qie)for(var n of Qie(e))n8t.call(e,n)&&HF(t,n,e[n]);return t},i8t=(t,e)=>XEt(t,e8t(e)),gl=(t,e,n)=>HF(t,typeof e!="symbol"?e+"":e,n);let s8t=class extends F5t{constructor(e,n){super(e,n),this.logger=e,this.core=n,gl(this,"messages",new Map),gl(this,"messagesWithoutClientAck",new Map),gl(this,"name",K6t),gl(this,"version",Y6t),gl(this,"initialized",!1),gl(this,"storagePrefix",ef),gl(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),gl(this,"set",async(r,i,s)=>{this.isInitialized();const o=Oc(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===aS.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,i8t(r8t({},l),{[o]:i}))}return await this.persist(),o}),gl(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),gl(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),gl(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Oc(i);return typeof s[o]<"u"}),gl(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Oc(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),gl(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=va(e,this.name),this.core=n}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,AF(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,AF(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?CF(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?CF(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var o8t=Object.defineProperty,a8t=Object.defineProperties,l8t=Object.getOwnPropertyDescriptors,Zie=Object.getOwnPropertySymbols,c8t=Object.prototype.hasOwnProperty,u8t=Object.prototype.propertyIsEnumerable,VF=(t,e,n)=>e in t?o8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vb=(t,e)=>{for(var n in e||(e={}))c8t.call(e,n)&&VF(t,n,e[n]);if(Zie)for(var n of Zie(e))u8t.call(e,n)&&VF(t,n,e[n]);return t},Jie=(t,e)=>a8t(t,l8t(e)),yc=(t,e,n)=>VF(t,typeof e!="symbol"?e+"":e,n);let d8t=class extends U5t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,yc(this,"events",new lc.EventEmitter),yc(this,"name",Z6t),yc(this,"queue",new Map),yc(this,"publishTimeout",tt.toMiliseconds(tt.ONE_MINUTE)),yc(this,"initialPublishTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),yc(this,"needsTransportRestart",!1),yc(this,"publish",async(r,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||Q6t,f=(s==null?void 0:s.prompt)||!1,p=(s==null?void 0:s.tag)||0,m=(s==null?void 0:s.id)||Wm().toString(),g=Ev(N7().protocol),y={id:m,method:(s==null?void 0:s.publishMethod)||g.publish,params:vb({topic:r,message:i,ttl:h,prompt:f,tag:p,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},w=`Failed to publish payload, please try again. id:${m} tag:${p}`;try{bs((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),bs((l=y.params)==null?void 0:l.tag)&&((c=y.params)==null||delete c.tag);const v=new Promise(async b=>{const A=({id:$})=>{var N;((N=y.id)==null?void 0:N.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(Si.publish,A),b())};this.relayer.events.on(Si.publish,A);const E=Th(new Promise(($,N)=>{this.rpcPublish(y,s).then($).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),N(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${p}`);try{await E,this.events.removeListener(Si.publish,A)}catch($){this.queue.set(m,{request:y,opts:s,attempt:1}),this.logger.warn($,$==null?void 0:$.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:r,message:i,opts:s}}),await Th(v,this.publishTimeout,w)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw v}finally{this.queue.delete(m)}}),yc(this,"publishCustom",async r=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:c,opts:u={}}=r,{attestation:h,tvf:f,publishMethod:p,prompt:m,tag:g,ttl:y=tt.FIVE_MINUTES}=u,w=u.id||Wm().toString(),v=Ev(N7().protocol),b=p||v.publish,A={id:w,method:b,params:vb(Jie(vb({},c),{ttl:y,prompt:m,tag:g,attestation:h}),f)},E=`Failed to publish custom payload, please try again. id:${w} tag:${g}`;try{bs((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),bs((o=A.params)==null?void 0:o.tag)&&((a=A.params)==null||delete a.tag);const $=new Promise(async N=>{const R=({id:F})=>{var W;((W=A.id)==null?void 0:W.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(Si.publish,R),N())};this.relayer.events.on(Si.publish,R);const M=Th(new Promise((F,W)=>{this.rpcPublish(A,u).then(F).catch(V=>{this.logger.warn(V,V==null?void 0:V.message),W(V)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${w} tag:${g}`);try{await M,this.events.removeListener(Si.publish,R)}catch(F){this.queue.set(w,{request:A,opts:u,attempt:1}),this.logger.warn(F,F==null?void 0:F.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,payload:c,opts:u}}),await Th($,this.publishTimeout,E)}catch($){if(this.logger.debug("Failed to Publish Payload"),this.logger.error($),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw $}finally{this.queue.delete(w)}}),yc(this,"on",(r,i)=>{this.events.on(r,i)}),yc(this,"once",(r,i)=>{this.events.once(r,i)}),yc(this,"off",(r,i)=>{this.events.off(r,i)}),yc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=va(n,this.name),this.registerEventListeners()}get context(){return ul(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Si.publish,vb(vb({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,Jie(vb({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Uw.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Si.connection_stalled);return}this.checkQueue()}),this.relayer.on(Si.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var h8t=Object.defineProperty,f8t=(t,e,n)=>e in t?h8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xb=(t,e,n)=>f8t(t,typeof e!="symbol"?e+"":e,n);let p8t=class{constructor(){xb(this,"map",new Map),xb(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),xb(this,"get",e=>this.map.get(e)||[]),xb(this,"exists",(e,n)=>this.get(e).includes(n)),xb(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),xb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var m8t=Object.defineProperty,g8t=Object.defineProperties,y8t=Object.getOwnPropertyDescriptors,Xie=Object.getOwnPropertySymbols,w8t=Object.prototype.hasOwnProperty,b8t=Object.prototype.propertyIsEnumerable,qF=(t,e,n)=>e in t?m8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q5=(t,e)=>{for(var n in e||(e={}))w8t.call(e,n)&&qF(t,n,e[n]);if(Xie)for(var n of Xie(e))b8t.call(e,n)&&qF(t,n,e[n]);return t},wO=(t,e)=>g8t(t,y8t(e)),gr=(t,e,n)=>qF(t,typeof e!="symbol"?e+"":e,n);let v8t=class extends H5t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,gr(this,"subscriptions",new Map),gr(this,"topicMap",new p8t),gr(this,"events",new lc.EventEmitter),gr(this,"name",i4t),gr(this,"version",s4t),gr(this,"pending",new Map),gr(this,"cached",[]),gr(this,"initialized",!1),gr(this,"storagePrefix",ef),gr(this,"subscribeTimeout",tt.toMiliseconds(tt.ONE_MINUTE)),gr(this,"initialSubscribeTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),gr(this,"clientId"),gr(this,"batchSubscribeTopicsLimit",500),gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),gr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=N7(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const l=await this.rpcSubscribe(r,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),gr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),gr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),gr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),gr(this,"on",(r,i)=>{this.events.on(r,i)}),gr(this,"once",(r,i)=>{this.events.once(r,i)}),gr(this,"off",(r,i)=>{this.events.off(r,i)}),gr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),gr(this,"start",async()=>{await this.onConnect()}),gr(this,"stop",async()=>{await this.onDisconnect()}),gr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),gr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),gr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Uw.pulse,async()=>{await this.checkPending()}),this.events.on(xl.created,async r=>{const i=xl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(xl.deleted,async r=>{const i=xl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=va(n,this.name),this.clientId=""}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=N7(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Dr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===Mr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Ev(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===Mr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},tt.toMiliseconds(tt.ONE_SECOND)),o;const c=new Promise(async h=>{const f=p=>{p.topic===e&&(this.events.removeListener(xl.created,f),h(p.id))};this.events.on(xl.created,f);try{const p=await Th(new Promise((m,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),g(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(xl.created,f),h(p)}catch{}}),u=await Th(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Si.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Ev(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Th(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Si.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Ev(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Th(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Si.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Ev(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,wO(Q5({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Q5({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Q5({},n)),this.topicMap.set(n.topic,e),this.events.emit(xl.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(xl.deleted,wO(Q5({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(xl.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(xl.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>wO(Q5({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Bbt(tt.toMiliseconds(tt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Oc(e+await this.getClientId())}};var x8t=Object.defineProperty,ese=Object.getOwnPropertySymbols,E8t=Object.prototype.hasOwnProperty,A8t=Object.prototype.propertyIsEnumerable,GF=(t,e,n)=>e in t?x8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tse=(t,e)=>{for(var n in e||(e={}))E8t.call(e,n)&&GF(t,n,e[n]);if(ese)for(var n of ese(e))A8t.call(e,n)&&GF(t,n,e[n]);return t},Gn=(t,e,n)=>GF(t,typeof e!="symbol"?e+"":e,n);let C8t=class extends z5t{constructor(e){super(e),Gn(this,"protocol","wc"),Gn(this,"version",2),Gn(this,"core"),Gn(this,"logger"),Gn(this,"events",new lc.EventEmitter),Gn(this,"provider"),Gn(this,"messages"),Gn(this,"subscriber"),Gn(this,"publisher"),Gn(this,"name",X6t),Gn(this,"transportExplicitlyClosed",!1),Gn(this,"initialized",!1),Gn(this,"connectionAttemptInProgress",!1),Gn(this,"relayUrl"),Gn(this,"projectId"),Gn(this,"packageName"),Gn(this,"bundleId"),Gn(this,"hasExperiencedNetworkDisruption",!1),Gn(this,"pingTimeout"),Gn(this,"heartBeatTimeout",tt.toMiliseconds(tt.THIRTY_SECONDS+tt.FIVE_SECONDS)),Gn(this,"reconnectTimeout"),Gn(this,"connectPromise"),Gn(this,"reconnectInProgress",!1),Gn(this,"requestsInFlight",[]),Gn(this,"connectTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),Gn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Wm().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Gn(this,"resetPingTimeout",()=>{_7()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Gn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Gn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Si.connect)}),Gn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Gn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Si.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Gn(this,"registerProviderListeners",()=>{this.provider.on(gc.payload,this.onPayloadHandler),this.provider.on(gc.connect,this.onConnectHandler),this.provider.on(gc.disconnect,this.onDisconnectHandler),this.provider.on(gc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?va(e.logger,this.name):oC(eN({level:e.logger||J6t})),this.messages=new s8t(this.logger,e.core),this.subscriber=new v8t(this,this.logger),this.publisher=new d8t(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||D5e,Ebt()?this.packageName=Rre():Abt()&&(this.bundleId=Rre()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return ul(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Mr.relay},aS.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(xl.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(xl.created,c)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,tse({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Th(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Aie())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Xi(tt.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Si.message,e),await this.recordMessageEvent(e,aS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(gc.disconnect,s),await Th(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(gc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(gc.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(gc.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,tt.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(_7())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new pu(new F6t(Ibt({sdkVersion:UF,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),bG(e)){if(!e.method.endsWith(e4t))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Mr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(tse({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else nN(e)&&this.events.emit(Si.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,aS.inbound),this.events.emit(Si.message,e))}async acknowledgePayload(e){const n=h8(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(gc.payload,this.onPayloadHandler),this.provider.off(gc.connect,this.onConnectHandler),this.provider.off(gc.disconnect,this.onDisconnectHandler),this.provider.off(gc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Aie();g3t(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Uw.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&b3t())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Si.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},tt.toMiliseconds(t4t)))))}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function k8t(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function nse(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function rse(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const S8t="[object RegExp]",_8t="[object String]",I8t="[object Number]",T8t="[object Boolean]",ise="[object Arguments]",$8t="[object Symbol]",N8t="[object Date]",P8t="[object Map]",R8t="[object Set]",j8t="[object Array]",O8t="[object Function]",M8t="[object ArrayBuffer]",bO="[object Object]",D8t="[object Error]",B8t="[object DataView]",L8t="[object Uint8Array]",F8t="[object Uint8ClampedArray]",U8t="[object Uint16Array]",z8t="[object Uint32Array]",W8t="[object BigUint64Array]",H8t="[object Int8Array]",V8t="[object Int16Array]",q8t="[object Int32Array]",G8t="[object BigInt64Array]",K8t="[object Float32Array]",Y8t="[object Float64Array]";function Q8t(){}function sse(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Z8t(t,e,n){return P6(t,e,void 0,void 0,void 0,void 0,n)}function P6(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return v4(t,e,s,o)}return v4(t,e,s,o)}function v4(t,e,n,r){if(Object.is(t,e))return!0;let i=rse(t),s=rse(e);if(i===ise&&(i=bO),s===ise&&(s=bO),i!==s)return!1;switch(i){case _8t:return t.toString()===e.toString();case I8t:{const l=t.valueOf(),c=e.valueOf();return k8t(l,c)}case T8t:case N8t:case $8t:return Object.is(t.valueOf(),e.valueOf());case S8t:return t.source===e.source&&t.flags===e.flags;case O8t:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case P8t:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!P6(c,e.get(l),l,t,e,n,r))return!1;return!0}case R8t:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],f=c.findIndex(p=>P6(h,p,void 0,t,e,n,r));if(f===-1)return!1;c.splice(f,1)}return!0}case j8t:case L8t:case F8t:case U8t:case z8t:case W8t:case H8t:case V8t:case q8t:case G8t:case K8t:case Y8t:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!P6(t[l],e[l],l,t,e,n,r))return!1;return!0}case M8t:return t.byteLength!==e.byteLength?!1:v4(new Uint8Array(t),new Uint8Array(e),n,r);case B8t:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:v4(new Uint8Array(t),new Uint8Array(e),n,r);case D8t:return t.name===e.name&&t.message===e.message;case bO:{if(!(v4(t.constructor,e.constructor,n,r)||sse(t)&&sse(e)))return!1;const l=[...Object.keys(t),...nse(t)],c=[...Object.keys(e),...nse(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!P6(f,p,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function J8t(t,e){return Z8t(t,e,Q8t)}var X8t=Object.defineProperty,ose=Object.getOwnPropertySymbols,eAt=Object.prototype.hasOwnProperty,tAt=Object.prototype.propertyIsEnumerable,KF=(t,e,n)=>e in t?X8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ase=(t,e)=>{for(var n in e||(e={}))eAt.call(e,n)&&KF(t,n,e[n]);if(ose)for(var n of ose(e))tAt.call(e,n)&&KF(t,n,e[n]);return t},ka=(t,e,n)=>KF(t,typeof e!="symbol"?e+"":e,n);let Ww=class extends W5t{constructor(e,n,r,i=ef,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ka(this,"map",new Map),ka(this,"version",n4t),ka(this,"cached",[]),ka(this,"initialized",!1),ka(this,"getKey"),ka(this,"storagePrefix",ef),ka(this,"recentlyDeleted",[]),ka(this,"recentlyDeletedLimit",200),ka(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!bs(o)?this.map.set(this.getKey(o),o):Gxt(o)?this.map.set(o.id,o):Kxt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ka(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ka(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ka(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>J8t(a[l],o[l]))):this.values)),ka(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=ase(ase({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),ka(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=va(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var nAt=Object.defineProperty,rAt=(t,e,n)=>e in t?nAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jn=(t,e,n)=>rAt(t,typeof e!="symbol"?e+"":e,n);let iAt=class{constructor(e,n){this.core=e,this.logger=n,jn(this,"name",o4t),jn(this,"version",a4t),jn(this,"events",new zq),jn(this,"pairings"),jn(this,"initialized",!1),jn(this,"storagePrefix",ef),jn(this,"ignoredPayloadTypes",[_p]),jn(this,"registeredMethods",[]),jn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),jn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),jn(this,"create",async r=>{this.isInitialized();const i=jF(),s=await this.core.crypto.setSymKey(i),o=Xi(tt.FIVE_MINUTES),a={protocol:M5e},l={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},c=pie({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(hy.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:c}}),jn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Xd.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=fie(r.uri);i.props.properties.topic=s,i.addTrace(Xd.pairing_uri_validation_success),i.addTrace(Xd.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Xd.existing_pairing),u.active)throw i.setError(Rf.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Xd.pairing_not_expired)}const h=l||Xi(tt.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(Xd.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(hy.create,f),i.addTrace(Xd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Xd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Rf.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Rf.subscribe_pairing_topic_failure),p}return i.addTrace(Xd.subscribe_pairing_topic_success),f}),jn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Xi(tt.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),jn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=sy();this.events.once(nr("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),jn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),jn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),jn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),jn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Dr("USER_DISCONNECTED")),await this.deletePairing(i))}),jn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,l=this.core.crypto.keychain.get(i);return pie({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),jn(this,"sendRequest",async(r,i,s)=>{const o=vh(i,s),a=await this.core.crypto.encode(r,o),l=G5[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,l),o.id}),jn(this,"sendResult",async(r,i,s)=>{const o=h8(r,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,r)).request.method,c=G5[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),jn(this,"sendError",async(r,i,s)=>{const o=tN(r,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,r)).request.method,c=G5[l]?G5[l].res:G5.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),jn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Dr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),jn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>X0(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),jn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),jn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),jn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(hy.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),jn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{rh(i)?this.events.emit(nr("pairing_ping",s),{}):Mc(i)&&this.events.emit(nr("pairing_ping",s),{error:i.error})},500)}),jn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(hy.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),jn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Dr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),jn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Dr("WC_METHOD_UNSUPPORTED",r))}),jn(this,"isValidPair",(r,i)=>{var s;if(!Ia(r)){const{message:a}=it("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Rf.malformed_pairing_uri),new Error(a)}if(!qxt(r.uri)){const{message:a}=it("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Rf.malformed_pairing_uri),new Error(a)}const o=fie(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Rf.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Rf.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&tt.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Rf.pairing_expired);const{message:a}=it("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),jn(this,"isValidPing",async r=>{if(!Ia(r)){const{message:s}=it("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),jn(this,"isValidDisconnect",async r=>{if(!Ia(r)){const{message:s}=it("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),jn(this,"isValidPairingTopic",async r=>{if(!Hi(r,!1)){const{message:i}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(X0(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=it("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=va(n,this.name),this.pairings=new Ww(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ul(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Si.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Mr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);bG(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):nN(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(kc.expired,async e=>{const{topic:n}=T3e(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(hy.expire,{topic:n}))})}};var sAt=Object.defineProperty,oAt=(t,e,n)=>e in t?sAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ts=(t,e,n)=>oAt(t,typeof e!="symbol"?e+"":e,n);let aAt=class extends L5t{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ts(this,"records",new Map),Ts(this,"events",new lc.EventEmitter),Ts(this,"name",l4t),Ts(this,"version",c4t),Ts(this,"cached",[]),Ts(this,"initialized",!1),Ts(this,"storagePrefix",ef),Ts(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ts(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Xi(tt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Eu.created,o)}),Ts(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Mc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Eu.updated,i))}),Ts(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ts(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Eu.deleted,s)}}),this.persist()}),Ts(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ts(this,"on",(r,i)=>{this.events.on(r,i)}),Ts(this,"once",(r,i)=>{this.events.once(r,i)}),Ts(this,"off",(r,i)=>{this.events.off(r,i)}),Ts(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=va(n,this.name)}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:vh(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Eu.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Eu.created,e=>{const n=Eu.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Eu.updated,e=>{const n=Eu.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Eu.deleted,e=>{const n=Eu.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Uw.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{tt.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Eu.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var lAt=Object.defineProperty,cAt=(t,e,n)=>e in t?lAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mo=(t,e,n)=>cAt(t,typeof e!="symbol"?e+"":e,n);let uAt=class extends V5t{constructor(e,n){super(e,n),this.core=e,this.logger=n,mo(this,"expirations",new Map),mo(this,"events",new lc.EventEmitter),mo(this,"name",u4t),mo(this,"version",d4t),mo(this,"cached",[]),mo(this,"initialized",!1),mo(this,"storagePrefix",ef),mo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),mo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),mo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(kc.created,{target:s,expiration:o})}),mo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),mo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(kc.deleted,{target:i,expiration:s})}}),mo(this,"on",(r,i)=>{this.events.on(r,i)}),mo(this,"once",(r,i)=>{this.events.once(r,i)}),mo(this,"off",(r,i)=>{this.events.off(r,i)}),mo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=va(n,this.name)}get context(){return ul(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Tbt(e);if(typeof e=="number")return $bt(e);const{message:n}=it("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(kc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;tt.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(kc.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Uw.pulse,()=>this.checkExpirations()),this.events.on(kc.created,e=>{const n=kc.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(kc.expired,e=>{const n=kc.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(kc.deleted,e=>{const n=kc.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var dAt=Object.defineProperty,hAt=(t,e,n)=>e in t?dAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mi=(t,e,n)=>hAt(t,typeof e!="symbol"?e+"":e,n);let fAt=class extends q5t{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Mi(this,"name",h4t),Mi(this,"abortController"),Mi(this,"isDevEnv"),Mi(this,"verifyUrlV3",p4t),Mi(this,"storagePrefix",ef),Mi(this,"version",O5e),Mi(this,"publicKey"),Mi(this,"fetchPromise"),Mi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&tt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Mi(this,"register",async i=>{if(!Z3()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=rw(),u=this.startAbortTimer(tt.ONE_SECOND*5),h=await new Promise((f,p)=>{const m=()=>{window.removeEventListener("message",y),c.body.removeChild(g),p("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=c.createElement("iframe");g.src=l,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(xF(v.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",y),f(v.attestation===null?"":v.attestation)}}catch(v){this.logger.warn(v)}};c.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""}),Mi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(xF(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,l)}),Mi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(tt.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Mi(this,"getVerifyUrl",i=>{let s=i||b4;return m4t.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${b4}`),s=b4),s}),Mi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(tt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Mi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Mi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Mi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Mi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Mi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Mi(this,"validateAttestation",(i,s)=>{const o=kxt(i,s.publicKey),a={hasExpired:tt.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=va(n,this.name),this.abortController=new AbortController,this.isDevEnv=rG(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ul(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),tt.toMiliseconds(e))}};var pAt=Object.defineProperty,mAt=(t,e,n)=>e in t?pAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lse=(t,e,n)=>mAt(t,typeof e!="symbol"?e+"":e,n);let gAt=class extends G5t{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,lse(this,"context",g4t),lse(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,l=`${y4t}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=va(n,this.context)}};var yAt=Object.defineProperty,cse=Object.getOwnPropertySymbols,wAt=Object.prototype.hasOwnProperty,bAt=Object.prototype.propertyIsEnumerable,YF=(t,e,n)=>e in t?yAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z5=(t,e)=>{for(var n in e||(e={}))wAt.call(e,n)&&YF(t,n,e[n]);if(cse)for(var n of cse(e))bAt.call(e,n)&&YF(t,n,e[n]);return t},us=(t,e,n)=>YF(t,typeof e!="symbol"?e+"":e,n);let vAt=class extends K5t{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,us(this,"context",b4t),us(this,"storagePrefix",ef),us(this,"storageVersion",w4t),us(this,"events",new Map),us(this,"shouldPersist",!1),us(this,"init",async()=>{if(!rG())try{const i={eventId:Ore(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:_3e(this.core.relayer.protocol,this.core.relayer.version,UF)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),us(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=Ore(),u=this.core.projectId||"",h=Date.now(),f=Z5({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,f),this.shouldPersist=!0),f}),us(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return Z5(Z5({},a),this.setMethods(a.eventId))}),us(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),us(this,"setEventListeners",()=>{this.core.heartbeat.on(Uw.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{tt.fromMiliseconds(Date.now())-tt.fromMiliseconds(i.timestamp)>v4t&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),us(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),us(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),us(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),us(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),us(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Z5(Z5({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),us(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),us(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${x4t}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${UF}${s}`,{method:"POST",body:JSON.stringify(i)})}),us(this,"getAppDomain",()=>S3e().url),this.logger=va(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var xAt=Object.defineProperty,use=Object.getOwnPropertySymbols,EAt=Object.prototype.hasOwnProperty,AAt=Object.prototype.propertyIsEnumerable,QF=(t,e,n)=>e in t?xAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dse=(t,e)=>{for(var n in e||(e={}))EAt.call(e,n)&&QF(t,n,e[n]);if(use)for(var n of use(e))AAt.call(e,n)&&QF(t,n,e[n]);return t},xr=(t,e,n)=>QF(t,typeof e!="symbol"?e+"":e,n);let CAt=class Q5e extends O5t{constructor(e){var n;super(e),xr(this,"protocol",j5e),xr(this,"version",O5e),xr(this,"name",O7),xr(this,"relayUrl"),xr(this,"projectId"),xr(this,"customStoragePrefix"),xr(this,"events",new lc.EventEmitter),xr(this,"logger"),xr(this,"heartbeat"),xr(this,"relayer"),xr(this,"crypto"),xr(this,"storage"),xr(this,"history"),xr(this,"expirer"),xr(this,"pairing"),xr(this,"verify"),xr(this,"echoClient"),xr(this,"linkModeSupportedApps"),xr(this,"eventClient"),xr(this,"initialized",!1),xr(this,"logChunkController"),xr(this,"on",(a,l)=>this.events.on(a,l)),xr(this,"once",(a,l)=>this.events.once(a,l)),xr(this,"off",(a,l)=>this.events.off(a,l)),xr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),xr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:Mr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||D5e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=eN({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:z6t.logger,name:O7}),{logger:s,chunkLoggerController:o}=P5t({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=va(s,this.name),this.heartbeat=new T3t,this.crypto=new ZEt(this,this.logger,e==null?void 0:e.keychain),this.history=new aAt(this,this.logger),this.expirer=new uAt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new i5t(dse(dse({},W6t),e==null?void 0:e.storageOptions)),this.relayer=new C8t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new iAt(this,this.logger),this.verify=new fAt(this,this.logger,this.storage),this.echoClient=new gAt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new vAt(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Q5e(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(r4t,r),n}get context(){return ul(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Wie,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Wie)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&U6t.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const kAt=CAt,Z5e="wc",J5e=2,X5e="client",vG=`${Z5e}@${J5e}:${X5e}:`,vO={name:X5e,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},hse="WALLETCONNECT_DEEPLINK_CHOICE",SAt="proposal",fse="Proposal expired",_At="session",Eb=tt.SEVEN_DAYS,IAt="engine",$s={wc_sessionPropose:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:tt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:tt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1119}}},xO={min:tt.FIVE_MINUTES,max:tt.SEVEN_DAYS},Wd={idle:"IDLE",active:"ACTIVE"},TAt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},$At="request",NAt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],PAt="wc",RAt="auth",jAt="authKeys",OAt="pairingTopics",MAt="requests",iN=`${PAt}@${1.5}:${RAt}:`,lS=`${iN}:PUB_KEY`;var DAt=Object.defineProperty,BAt=Object.defineProperties,LAt=Object.getOwnPropertyDescriptors,pse=Object.getOwnPropertySymbols,FAt=Object.prototype.hasOwnProperty,UAt=Object.prototype.propertyIsEnumerable,ZF=(t,e,n)=>e in t?DAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sr=(t,e)=>{for(var n in e||(e={}))FAt.call(e,n)&&ZF(t,n,e[n]);if(pse)for(var n of pse(e))UAt.call(e,n)&&ZF(t,n,e[n]);return t},go=(t,e)=>BAt(t,LAt(e)),qe=(t,e,n)=>ZF(t,typeof e!="symbol"?e+"":e,n);let zAt=class extends J5t{constructor(e){super(e),qe(this,"name",IAt),qe(this,"events",new zq),qe(this,"initialized",!1),qe(this,"requestQueue",{state:Wd.idle,queue:[]}),qe(this,"sessionRequestQueue",{state:Wd.idle,queue:[]}),qe(this,"emittedSessionRequests",new Lbt({limit:500})),qe(this,"requestQueueDelay",tt.ONE_SECOND),qe(this,"expectedPairingMethodMap",new Map),qe(this,"recentlyDeletedMap",new Map),qe(this,"recentlyDeletedLimit",200),qe(this,"relayMessageCache",[]),qe(this,"pendingSessions",new Map),qe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys($s)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},tt.toMiliseconds(this.requestQueueDelay)))}),qe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=go(sr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=Uxt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=r;let u=i,h,f=!1;try{if(u){const $=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=$.active}}catch($){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),$}if(!u||!f){const{topic:$,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=$,h=N}if(!u){const{message:$}=it("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error($)}const p=await this.client.core.crypto.generateKeyPair(),m=$s.wc_sessionPropose.req.ttl||tt.FIVE_MINUTES,g=Xi(m),y=go(sr(sr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:M5e}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:nh()}),w=nr("session_connect",y.id),{reject:v,resolve:b,done:A}=sy(m,fse),E=({id:$})=>{$===y.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:fse,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(w,({error:$,session:N})=>{this.client.events.off("proposal_expire",E),$?v($):N&&b(N)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:h,approval:A}}),qe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),qe(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[P0.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(M){throw o.setError(K5.no_internet_connection),M}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(M){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(K5.proposal_not_found),M}try{await this.isValidApprove(n)}catch(M){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(K5.session_approve_namespace_validation_failure),M}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=p;let v=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});v||(v=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:P0.session_approve_started,properties:{topic:m,trace:[P0.session_approve_started,P0.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),A=g.publicKey,E=await this.client.core.crypto.generateSharedKey(b,A),$=sr(sr(sr({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:b,metadata:this.client.metadata},expiry:Xi(Eb)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),N=Mr.relay;v.addTrace(P0.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:N,internal:{skipSubscribe:!0}})}catch(M){throw v.setError(K5.subscribe_session_topic_failure),M}v.addTrace(P0.subscribe_session_topic_success);const R=go(sr({},$),{topic:E,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:$.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:b,transportType:Mr.relay});await this.client.session.set(E,R),v.addTrace(P0.store_session);try{await this.sendApproveSession({sessionTopic:E,proposal:p,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:b},sessionSettleRequest:$,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),v.addTrace(P0.session_approve_publish_success)}catch(M){throw this.client.logger.error(M),this.client.session.delete(E,Dr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),M}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(E,Xi(Eb)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),qe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:$s.wc_sessionPropose.reject}),await this.deleteProposal(r)}),qe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=sy(),l=nh(),c=Wm().toString(),u=this.client.session.get(r).namespaces;return this.events.once(nr("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:u}),a(h)}),{acknowledged:s}}),qe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=nh(),{done:s,resolve:o,reject:a}=sy();return this.events.once(nr("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(r,Xi(Eb)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),qe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:o=$s.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Mr.relay&&await this.confirmOnlineStateOrThrow();const l=nh(),c=Wm().toString(),{done:u,resolve:h,reject:f}=sy(o,"Request expired. Please try again.");this.events.once(nr("session_request",l),({error:y,result:w})=>{y?f(y):h(w)});const p="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:go(sr({},i),{expiryTimestamp:Xi(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),await u();const g={request:go(sr({},i),{expiryTimestamp:Xi(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,g)}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const v=await jbt(this.client.core.storage,hse);await Nbt({id:l,topic:s,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),qe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Mr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);rh(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Mc(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),qe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=nh(),s=Wm().toString(),{done:o,resolve:a,reject:l}=sy();this.events.once(nr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),qe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Wm().toString(),a=nh();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),qe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Dr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=it("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),qe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Hxt(r,n)))),qe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),qe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Mr.link_mode:Mr.relay;o===Mr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:h,type:f,exp:p,nbf:m,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});const A=await this.client.core.crypto.generateKeyPair(),E=iS(A);if(await Promise.all([this.client.auth.authKeys.set(lS,{responseTopic:E,publicKey:A}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:v})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),g.length>0){const{namespace:P}=S1(a[0]);let D=Qvt(P,"request",g);rS(w)&&(D=Jvt(D,w.pop())),w.push(D)}const $=y&&y>$s.wc_sessionAuthenticate.req.ttl?y:$s.wc_sessionAuthenticate.req.ttl,N={authPayload:{type:f??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:m,resources:w},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Xi($)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Xi($s.wc_sessionPropose.req.ttl),id:nh()},{done:F,resolve:W,reject:V}=sy($,"Request expired"),B=nh(),k=nr("session_connect",M.id),C=nr("session_request",B),S=async({error:P,session:D})=>{this.events.off(C,T),P?V(P):D&&W({session:D})},T=async P=>{var D,j,I;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),P.error){const ie=Dr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===ie.code?void 0:(this.events.off(k,S),V(P.error.message))}await this.deleteProposal(M.id),this.events.off(k,S);const{cacaos:L,responder:J}=P.result,O=[],G=[];for(const ie of L){await qre({cacao:ie,projectId:this.client.core.projectId})||(this.client.logger.error(ie,"Signature verification failed"),V(Dr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:de}=ie,oe=rS(de.resources),he=[kF(de.iss)],we=I7(de.iss);if(oe){const fe=Gre(oe),ke=Kre(oe);O.push(...fe),he.push(...ke)}for(const fe of he)G.push(`${fe}:${we}`)}const Z=await this.client.core.crypto.generateSharedKey(A,J.publicKey);let Q;O.length>0&&(Q={topic:Z,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:Xi(Eb),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:wie([...new Set(O)],[...new Set(G)]),transportType:o},await this.client.core.relayer.subscribe(Z,{transportType:o}),await this.client.session.set(Z,Q),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:J.metadata}),Q=this.client.session.get(Z)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(j=J.metadata.redirect)!=null&&j.linkMode&&(I=J.metadata.redirect)!=null&&I.universal&&r&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(Z,{transportType:Mr.link_mode})),W({auths:L,session:Q})};this.events.once(k,S),this.events.once(C,T);let _;try{if(s){const P=vh("wc_sessionAuthenticate",N,B);this.client.core.history.set(v,P);const D=await this.client.core.crypto.encode("",P,{type:iC,encoding:dm});_=Lk(r,v,D)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:N,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:M,expiry:$s.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(P){throw this.events.off(k,S),this.events.off(C,T),P}return await this.setProposal(M.id,M),await this.setAuthRequest(B,{request:go(sr({},N),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:_??b,response:F}}),qe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Yg.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(Y5.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Y5.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Mr.relay;a===Mr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=iS(l),h={type:_p,receiverPublicKey:l,senderPublicKey:c},f=[],p=[];for(const y of i){if(!await qre({cacao:y,projectId:this.client.core.projectId})){s.setError(Y5.invalid_cacao);const E=Dr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:h}),new Error(E.message)}s.addTrace(Yg.cacaos_verified);const{p:w}=y,v=rS(w.resources),b=[kF(w.iss)],A=I7(w.iss);if(v){const E=Gre(v),$=Kre(v);f.push(...E),b.push(...$)}for(const E of b)p.push(`${E}:${A}`)}const m=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(Yg.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:m,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:Xi(Eb),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:wie([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(Yg.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(y){throw s.setError(Y5.subscribe_authenticated_session_topic_failure),y}s.addTrace(Yg.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Yg.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Yg.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(Y5.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),qe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Mr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=iS(o),c={type:_p,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:l,error:i,encodeOpts:c,rpcOpts:$s.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),qe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return H3e(r,i)}),qe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),qe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),qe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Dr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(hse).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Dr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Wd.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),qe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(K5.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Dr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),qe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Wd.idle,this.client.events.emit("session_request_expire",{id:n}))}),qe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),qe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),qe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Xi($s.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),qe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Mr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),qe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Xi($s.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),qe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:h,publishOpts:f={}}=n,p=vh(i,s,l);let m;const g=!!u;try{const v=g?dm:Oa;m=await this.client.core.crypto.encode(r,p,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),v}let y;if(NAt.includes(i)){const v=Oc(JSON.stringify(p)),b=Oc(m);y=await this.client.core.verify.register({id:b,decryptedId:v})}const w=sr(sr({},$s[i].req),f);if(w.attestation=y,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,p),g){const v=Lk(u,r,m);await globalThis.Linking.openURL(v,this.client.name)}else w.tvf=go(sr({},h),{correlationId:p.id}),c?(w.internal=go(sr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,w)):this.client.core.relayer.publish(r,m,w).catch(v=>this.client.logger.error(v));return p.id}),qe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=vh("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Oa}),a=Oc(JSON.stringify(s)),l=Oc(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:go(sr({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),qe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,l=h8(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Oa}),u=vh("wc_sessionSettle",o,a==null?void 0:a.id),h=await this.client.core.crypto.encode(r,u,{encoding:Oa});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:h},opts:go(sr({},a),{publishMethod:"wc_approveSession"})})}),qe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=n,c=h8(r,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const m=h?dm:Oa;u=await this.client.core.crypto.encode(i,c,go(sr({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let f,p;try{f=await this.client.core.history.get(i,r);const m=f.request;try{p=this.getTVFParams(r,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),m}if(h){const m=Lk(l,i,u);await globalThis.Linking.openURL(m,this.client.name)}else{const m=f.request.method,g=$s[m].res;g.tvf=go(sr({},p),{correlationId:r}),o?(g.internal=go(sr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(c)}),qe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=n,c=tN(r,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const p=h?dm:Oa;u=await this.client.core.crypto.encode(i,c,go(sr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(h){const p=Lk(l,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=f.request.method,m=a||$s[p].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(c)}),qe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;X0(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{X0(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),qe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),qe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),qe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Wd.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Wd.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Wd.idle}),qe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),qe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),qe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=it("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),qe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),qe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(Rf.proposal_listener_not_found)),this.isValidConnect(sr({},i.params));const u=a.expiryTimestamp||Xi($s.wc_sessionPropose.req.ttl),h=sr({id:l,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const f=await this.getVerifyContext({attestationId:s,hash:Oc(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});c==null||c.addTrace(Xd.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:f})}catch(c){await this.sendError({id:l,topic:r,error:c,rpcOpts:$s.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),qe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(rh(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Mc(r)){await this.deleteProposal(s);const o=nr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),qe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r.params,p=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const m=this.client.proposal.get(p.proposalId),g=go(sr(sr(sr({topic:n,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:Mr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(nr("session_connect",p.proposalId),{session:g}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),qe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;rh(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(nr("session_approve",i),{})):Mc(r)&&(await this.client.session.delete(n,Dr("USER_DISCONNECTED")),this.events.emit(nr("session_approve",i),{error:r.error}))}),qe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=q5.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Dr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(sr({topic:n},i));try{q5.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(l){throw q5.delete(o),l}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),qe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),qe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=nr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rh(r)?this.events.emit(nr("session_update",i),{}):Mc(r)&&this.events.emit(nr("session_update",i),{error:r.error})}),qe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Xi(Eb)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),qe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=nr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rh(r)?this.events.emit(nr("session_extend",i),{}):Mc(r)&&this.events.emit(nr("session_extend",i),{error:r.error})}),qe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),qe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=nr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);rh(r)?this.events.emit(nr("session_ping",i),{}):Mc(r)&&this.events.emit(nr("session_ping",i),{error:r.error})},500)}),qe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Si.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Dr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),qe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=n,{id:h,params:f}=a;try{await this.isValidRequest(sr({topic:o},f));const p=this.client.session.get(o),m=await this.getVerifyContext({attestationId:l,hash:Oc(JSON.stringify(vh("wc_sessionRequest",f,h))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),g={id:h,topic:o,params:f,verifyContext:m};await this.setPendingSessionRequest(g),u===Mr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),qe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=nr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);rh(r)?this.events.emit(nr("session_request",i),{result:r.result}):Mc(r)&&this.events.emit(nr("session_request",i),{error:r.error})}),qe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=q5.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(sr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),q5.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),qe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),rh(r)?this.events.emit(nr("session_request",i),{result:r.result}):Mc(r)&&this.events.emit(nr("session_request",i),{error:r.error})}),qe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=n;try{const{requester:c,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Oc(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===Mr.link_mode&&(r=c.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:_p,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:$s.wc_sessionAuthenticate.autoReject,appLink:f})}}),qe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),qe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Wd.idle,this.processSessionRequestQueue()},tt.toMiliseconds(this.requestQueueDelay))}),qe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=nr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(nr("session_request",s.request.id),{error:r})})}),qe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Wd.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),qe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Wd.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),qe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:vh("wc_sessionPropose",go(sr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),qe(this,"isValidConnect",async n=>{if(!Ia(n)){const{message:c}=it("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=n;if(bs(r)||await this.isValidPairingTopic(r),!n3t(l)){const{message:c}=it("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!bs(i)&&Vh(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!bs(s)&&Vh(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),bs(o)||this.validateSessionProps(o,"sessionProperties"),!bs(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),qe(this,"validateNamespaces",(n,r)=>{const i=t3t(n,"connect()",r);if(i)throw new Error(i.message)}),qe(this,"isValidApprove",async n=>{if(!Ia(n))throw new Error(it("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),c=hO(i,"approve()");if(c)throw new Error(c.message);const u=xie(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Hi(s,!0)){const{message:h}=it("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(bs(o)||this.validateSessionProps(o,"sessionProperties"),!bs(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),qe(this,"isValidReject",async n=>{if(!Ia(n)){const{message:s}=it("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!i3t(i)){const{message:s}=it("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),qe(this,"isValidSessionSettleRequest",n=>{if(!Ia(n)){const{message:c}=it("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(c)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!x5e(r)){const{message:c}=it("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=Yxt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=hO(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(X0(o)){const{message:c}=it("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),qe(this,"isValidUpdate",async n=>{if(!Ia(n)){const{message:l}=it("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=hO(i,"update()");if(o)throw new Error(o.message);const a=xie(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),qe(this,"isValidExtend",async n=>{if(!Ia(n)){const{message:i}=it("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),qe(this,"isValidRequest",async n=>{if(!Ia(n)){const{message:l}=it("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!vie(a,s)){const{message:l}=it("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!s3t(i)){const{message:l}=it("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!l3t(a,s,i.method)){const{message:l}=it("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!h3t(o,xO)){const{message:l}=it("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${xO.min} and ${xO.max}`);throw new Error(l)}}),qe(this,"isValidRespond",async n=>{var r;if(!Ia(n)){const{message:o}=it("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!o3t(s)){const{message:o}=it("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),qe(this,"isValidPing",async n=>{if(!Ia(n)){const{message:i}=it("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),qe(this,"isValidEmit",async n=>{if(!Ia(n)){const{message:a}=it("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!vie(o,s)){const{message:a}=it("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!a3t(i)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!c3t(o,s,i.name)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),qe(this,"isValidDisconnect",async n=>{if(!Ia(n)){const{message:i}=it("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),qe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Hi(i,!1))throw new Error("uri is required parameter");if(!Hi(s,!1))throw new Error("domain is required parameter");if(!Hi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>S1(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=S1(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),qe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,l={verified:{verifyUrl:o.verifyUrl||b4,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Mr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),qe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=it("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),qe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),qe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),qe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),qe(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,l,c,u,h,f;return!n||r!==Mr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"}),qe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),qe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=jre(n,"topic")||"",i=decodeURIComponent(jre(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Mr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),qe(this,"registerLinkModeListeners",async()=>{var n;if(rG()||Og()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis==null?void 0:globalThis.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),qe(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),qe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),qe(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=TAt[s];if(s==="sui_signTransaction")return[jvt(r.transactionBytes)];if(s==="near_signTransaction")return[zre(r)];if(s==="near_signTransactions")return r.map(l=>zre(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[_3t({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Yc(r)?r.map(l=>Wre(l)):[Wre(r)];if(s==="cosmos_signDirect")return[Mvt(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Yc(a))return s==="solana_signAllTransactions"?a.map(l=>Rvt(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Si.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(lS)?this.client.auth.authKeys.get(lS):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Mr.link_mode?dm:Oa});bG(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Oc(r)})):nN(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(kc.expired,async e=>{const{topic:n,id:r}=T3e(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,it("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,it("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(hy.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(hy.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Hi(e,!1)){const{message:n}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(X0(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=it("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Hi(e,!1)){const{message:n}=it("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(X0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=it("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=it("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Hi(e,!1)){const{message:n}=it("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=it("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!r3t(e)){const{message:n}=it("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(X0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=it("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},WAt=class extends Ww{constructor(e,n){super(e,n,SAt,vG),this.core=e,this.logger=n}},HAt=class extends Ww{constructor(e,n){super(e,n,_At,vG),this.core=e,this.logger=n}},VAt=class extends Ww{constructor(e,n){super(e,n,$At,vG,r=>r.id),this.core=e,this.logger=n}},qAt=class extends Ww{constructor(e,n){super(e,n,jAt,iN,()=>lS),this.core=e,this.logger=n}},GAt=class extends Ww{constructor(e,n){super(e,n,OAt,iN),this.core=e,this.logger=n}},KAt=class extends Ww{constructor(e,n){super(e,n,MAt,iN,r=>r.id),this.core=e,this.logger=n}};var YAt=Object.defineProperty,QAt=(t,e,n)=>e in t?YAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EO=(t,e,n)=>QAt(t,typeof e!="symbol"?e+"":e,n);let ZAt=class{constructor(e,n){this.core=e,this.logger=n,EO(this,"authKeys"),EO(this,"pairingTopics"),EO(this,"requests"),this.authKeys=new qAt(this.core,this.logger),this.pairingTopics=new GAt(this.core,this.logger),this.requests=new KAt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var JAt=Object.defineProperty,XAt=(t,e,n)=>e in t?JAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>XAt(t,typeof e!="symbol"?e+"":e,n);let eCt=class e6e extends Z5t{constructor(e){super(e),On(this,"protocol",Z5e),On(this,"version",J5e),On(this,"name",vO.name),On(this,"metadata"),On(this,"core"),On(this,"logger"),On(this,"events",new lc.EventEmitter),On(this,"engine"),On(this,"session"),On(this,"proposal"),On(this,"pendingRequest"),On(this,"auth"),On(this,"signConfig"),On(this,"on",(r,i)=>this.events.on(r,i)),On(this,"once",(r,i)=>this.events.once(r,i)),On(this,"off",(r,i)=>this.events.off(r,i)),On(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),On(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),On(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),On(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),On(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||vO.name,this.metadata=kbt(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:oC(eN({level:(e==null?void 0:e.logger)||vO.logger}));this.core=(e==null?void 0:e.core)||new kAt(e),this.logger=va(n,this.name),this.session=new HAt(this.core,this.logger),this.proposal=new WAt(this.core,this.logger),this.pendingRequest=new VAt(this.core,this.logger),this.engine=new zAt(this),this.auth=new ZAt(this.core,this.logger)}static async init(e){const n=new e6e(e);return await n.initialize(),n}get context(){return ul(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var JF={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(C){return C&&u.indexOf(Object.prototype.toString.call(C))>-1};function f(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function p(C){return typeof C!="string"&&(C=String(C)),C}function m(C){var S={next:function(){var T=C.shift();return{done:T===void 0,value:T}}};return l.iterable&&(S[Symbol.iterator]=function(){return S}),S}function g(C){this.map={},C instanceof g?C.forEach(function(S,T){this.append(T,S)},this):Array.isArray(C)?C.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(S){this.append(S,C[S])},this)}g.prototype.append=function(C,S){C=f(C),S=p(S);var T=this.map[C];this.map[C]=T?T+", "+S:S},g.prototype.delete=function(C){delete this.map[f(C)]},g.prototype.get=function(C){return C=f(C),this.has(C)?this.map[C]:null},g.prototype.has=function(C){return this.map.hasOwnProperty(f(C))},g.prototype.set=function(C,S){this.map[f(C)]=p(S)},g.prototype.forEach=function(C,S){for(var T in this.map)this.map.hasOwnProperty(T)&&C.call(S,this.map[T],T,this)},g.prototype.keys=function(){var C=[];return this.forEach(function(S,T){C.push(T)}),m(C)},g.prototype.values=function(){var C=[];return this.forEach(function(S){C.push(S)}),m(C)},g.prototype.entries=function(){var C=[];return this.forEach(function(S,T){C.push([T,S])}),m(C)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function w(C){return new Promise(function(S,T){C.onload=function(){S(C.result)},C.onerror=function(){T(C.error)}})}function v(C){var S=new FileReader,T=w(S);return S.readAsArrayBuffer(C),T}function b(C){var S=new FileReader,T=w(S),_=/charset=([A-Za-z0-9_-]+)/.exec(C.type),P=_?_[1]:"utf-8";return S.readAsText(C,P),T}function A(C){for(var S=new Uint8Array(C),T=new Array(S.length),_=0;_<S.length;_++)T[_]=String.fromCharCode(S[_]);return T.join("")}function E(C){if(C.slice)return C.slice(0);var S=new Uint8Array(C.byteLength);return S.set(new Uint8Array(C)),S.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=E(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||h(C))?this._bodyArrayBuffer=E(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=y(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(C){var S=C.toUpperCase();return N.indexOf(S)>-1?S:C}function M(C,S){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var T=S.body;if(C instanceof M){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,S.headers||(this.headers=new g(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!T&&C._bodyInit!=null&&(T=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new g(S.headers)),this.method=R(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var _=/([?&])_=[^&]*/;if(_.test(this.url))this.url=this.url.replace(_,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function F(C){var S=new FormData;return C.trim().split("&").forEach(function(T){if(T){var _=T.split("="),P=_.shift().replace(/\+/g," "),D=_.join("=").replace(/\+/g," ");S.append(decodeURIComponent(P),decodeURIComponent(D))}}),S}function W(C){var S=new g,T=C.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(_){return _.indexOf(`
`)===0?_.substr(1,_.length):_}).forEach(function(_){var P=_.split(":"),D=P.shift().trim();if(D){var j=P.join(":").trim();try{S.append(D,j)}catch(I){console.warn("Response "+I.message)}}}),S}$.call(M.prototype);function V(C,S){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new g(S.headers),this.url=S.url||"",this._initBody(C)}$.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},V.error=function(){var C=new V(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var B=[301,302,303,307,308];V.redirect=function(C,S){if(B.indexOf(S)===-1)throw new RangeError("Invalid status code");return new V(null,{status:S,headers:{location:C}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(S,T){this.message=S,this.name=T;var _=Error(S);this.stack=_.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function k(C,S){return new Promise(function(T,_){var P=new M(C,S);if(P.signal&&P.signal.aborted)return _(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function j(){D.abort()}D.onload=function(){var J={statusText:D.statusText,headers:W(D.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(D.status<200||D.status>599)?J.status=200:J.status=D.status,J.url="responseURL"in D?D.responseURL:J.headers.get("X-Request-URL");var O="response"in D?D.response:D.responseText;setTimeout(function(){T(new V(O,J))},0)},D.onerror=function(){setTimeout(function(){_(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){_(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){_(new o.DOMException("Aborted","AbortError"))},0)};function I(J){try{return J===""&&a.location.href?a.location.href:J}catch{return J}}if(D.open(P.method,I(P.url),!0),P.credentials==="include"?D.withCredentials=!0:P.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(l.blob?D.responseType="blob":l.arrayBuffer&&(D.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof g||a.Headers&&S.headers instanceof a.Headers)){var L=[];Object.getOwnPropertyNames(S.headers).forEach(function(J){L.push(f(J)),D.setRequestHeader(J,p(S.headers[J]))}),P.headers.forEach(function(J,O){L.indexOf(O)===-1&&D.setRequestHeader(O,J)})}else P.headers.forEach(function(J,O){D.setRequestHeader(O,J)});P.signal&&(P.signal.addEventListener("abort",j),D.onreadystatechange=function(){D.readyState===4&&P.signal.removeEventListener("abort",j)}),D.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return k.polyfill=!0,a.fetch||(a.fetch=k,a.Headers=g,a.Request=M,a.Response=V),o.Headers=g,o.Request=M,o.Response=V,o.fetch=k,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(JF,JF.exports);var tCt=JF.exports;const mse=Ks(tCt);var nCt=Object.defineProperty,rCt=Object.defineProperties,iCt=Object.getOwnPropertyDescriptors,gse=Object.getOwnPropertySymbols,sCt=Object.prototype.hasOwnProperty,oCt=Object.prototype.propertyIsEnumerable,yse=(t,e,n)=>e in t?nCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wse=(t,e)=>{for(var n in e||(e={}))sCt.call(e,n)&&yse(t,n,e[n]);if(gse)for(var n of gse(e))oCt.call(e,n)&&yse(t,n,e[n]);return t},bse=(t,e)=>rCt(t,iCt(e));const aCt={Accept:"application/json","Content-Type":"application/json"},lCt="POST",vse={headers:aCt,method:lCt},xse=10;let $d=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new lc.EventEmitter,this.isAvailable=!1,this.registering=!1,!Bie(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Qp(e),r=await(await mse(this.url,bse(wse({},vse),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Bie(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Qp({id:1,jsonrpc:"2.0",method:"test",params:[]});await mse(e,bse(wse({},vse),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?sw(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=tN(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return T5e(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>xse&&this.events.setMaxListeners(xse)}};const Ese="error",cCt="wss://relay.walletconnect.org",uCt="wc",dCt="universal_provider",zk=`${uCt}@2:${dCt}:`,t6e="https://rpc.walletconnect.org/v1/",n6e="generic",hCt=`${t6e}bundler`,mu={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function xG(t){return t==null||typeof t!="object"&&typeof t!="function"}function r6e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function i6e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const fCt="[object RegExp]",s6e="[object String]",o6e="[object Number]",a6e="[object Boolean]",l6e="[object Arguments]",pCt="[object Symbol]",mCt="[object Date]",gCt="[object Map]",yCt="[object Set]",wCt="[object Array]",bCt="[object ArrayBuffer]",vCt="[object Object]",xCt="[object DataView]",ECt="[object Uint8Array]",ACt="[object Uint8ClampedArray]",CCt="[object Uint16Array]",kCt="[object Uint32Array]",SCt="[object Int8Array]",_Ct="[object Int16Array]",ICt="[object Int32Array]",TCt="[object Float32Array]",$Ct="[object Float64Array]";function EG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function NCt(t,e){return Cv(t,void 0,t,new Map,e)}function Cv(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(xG(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cv(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,l]of t)o.set(a,Cv(l,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Cv(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(EG(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cv(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),fy(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),fy(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),fy(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,fy(o,t,n,r,i),o}if(typeof t=="object"&&PCt(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),fy(o,t,n,r,i),o}return t}function fy(t,e,n=t,r,i){const s=[...Object.keys(e),...r6e(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=Cv(e[a],a,n,r,i))}}function PCt(t){switch(i6e(t)){case l6e:case wCt:case bCt:case xCt:case a6e:case mCt:case TCt:case $Ct:case SCt:case _Ct:case ICt:case gCt:case o6e:case vCt:case fCt:case yCt:case s6e:case pCt:case ECt:case ACt:case CCt:case kCt:return!0;default:return!1}}function RCt(t,e){return NCt(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case o6e:case s6e:case a6e:{const o=new t.constructor(t==null?void 0:t.valueOf());return fy(o,t),o}case l6e:{const o={};return fy(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Ase(t){return RCt(t)}function Cse(t){return t!==null&&typeof t=="object"&&i6e(t)==="[object Arguments]"}function kse(t){return typeof t=="object"&&t!==null}function jCt(){}function OCt(t){return EG(t)}function MCt(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function DCt(t){if(xG(t))return t;if(Array.isArray(t)||EG(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function BCt(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=XF(i,o,r,new Map)}return i}function XF(t,e,n,r){if(xG(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return DCt(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...r6e(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(Cse(a)&&(a={...a}),Cse(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Ase(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];u[p]=l[p]}l=u}else l=[];const c=n(l,a,o,t,e,r);c!=null?t[o]=c:Array.isArray(a)||kse(l)&&kse(a)?t[o]=XF(l,a,n,r):l==null&&MCt(a)?t[o]=XF({},a,n,r):l==null&&OCt(a)?t[o]=Ase(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function LCt(t,...e){return BCt(t,...e,jCt)}var FCt=Object.defineProperty,UCt=Object.defineProperties,zCt=Object.getOwnPropertyDescriptors,Sse=Object.getOwnPropertySymbols,WCt=Object.prototype.hasOwnProperty,HCt=Object.prototype.propertyIsEnumerable,_se=(t,e,n)=>e in t?FCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wk=(t,e)=>{for(var n in e||(e={}))WCt.call(e,n)&&_se(t,n,e[n]);if(Sse)for(var n of Sse(e))HCt.call(e,n)&&_se(t,n,e[n]);return t},VCt=(t,e)=>UCt(t,zCt(e));function tc(t,e,n){var r;const i=S1(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${t6e}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Hw(t){return t.includes(":")?t.split(":")[1]:t}function c6e(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function qCt(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function Ise(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function Hk(t={},e={}){const n=Ise(Tse(t)),r=Ise(Tse(e));return LCt(n,r)}function Tse(t){var e,n,r,i,s;const o={};if(!Vh(t))return o;for(const[a,l]of Object.entries(t)){const c=J$(a)?[a]:l.chains,u=l.methods||[],h=l.events||[],f=l.rpcMap||{},p=Av(a);o[p]=VCt(Wk(Wk({},o[p]),l),{chains:Hh(c,(e=o[p])==null?void 0:e.chains),methods:Hh(u,(n=o[p])==null?void 0:n.methods),events:Hh(h,(r=o[p])==null?void 0:r.events)}),(Vh(f)||Vh(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=Wk(Wk({},f),(s=o[p])==null?void 0:s.rpcMap))}return o}function $se(t){return t.includes(":")?t.split(":")[2]:t}function Nse(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=J$(n)?[n]:r.chains?r.chains:c6e(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function AO(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const u6e={},Zn=t=>u6e[t],CO=(t,e)=>{u6e[t]=e};var GCt=Object.defineProperty,Pse=Object.getOwnPropertySymbols,KCt=Object.prototype.hasOwnProperty,YCt=Object.prototype.propertyIsEnumerable,Rse=(t,e,n)=>e in t?GCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jse=(t,e)=>{for(var n in e||(e={}))KCt.call(e,n)&&Rse(t,n,e[n]);if(Pse)for(var n of Pse(e))YCt.call(e,n)&&Rse(t,n,e[n]);return t};const Ose="eip155",QCt=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],ZCt=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,kO=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,Mse=t=>Object.keys(t).filter(e=>QCt.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),JCt=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Vh(i)&&!Vh(r))return;const o=Mse(r);for(const a of n){const l=ZCt(a);if(!l)continue;s[kO(l)]=o;const c=i==null?void 0:i[`${Ose}:${l}`];if(c){const u=c==null?void 0:c[`${Ose}:${l}:${e}`];s[kO(l)]=jse(jse({},s[kO(l)]),Mse(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var XCt=Object.defineProperty,ekt=(t,e,n)=>e in t?XCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ab=(t,e,n)=>ekt(t,typeof e!="symbol"?e+"":e,n);class tkt{constructor(e){Ab(this,"name","polkadot"),Ab(this,"client"),Ab(this,"httpProviders"),Ab(this,"events"),Ab(this,"namespace"),Ab(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Hw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var nkt=Object.defineProperty,rkt=Object.defineProperties,ikt=Object.getOwnPropertyDescriptors,Dse=Object.getOwnPropertySymbols,skt=Object.prototype.hasOwnProperty,okt=Object.prototype.propertyIsEnumerable,eU=(t,e,n)=>e in t?nkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bse=(t,e)=>{for(var n in e||(e={}))skt.call(e,n)&&eU(t,n,e[n]);if(Dse)for(var n of Dse(e))okt.call(e,n)&&eU(t,n,e[n]);return t},Lse=(t,e)=>rkt(t,ikt(e)),Cb=(t,e,n)=>eU(t,typeof e!="symbol"?e+"":e,n);class akt{constructor(e){Cb(this,"name","eip155"),Cb(this,"client"),Cb(this,"chainId"),Cb(this,"namespace"),Cb(this,"httpProviders"),Cb(this,"events"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||tc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Hw(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c==null?void 0:c.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,f=u==null?void 0:u[h];if(f)return f;let p;try{p=JCt(c,a,l)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(p)return p;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Lse(Bse({},c.sessionProperties||{}),{capabilities:Lse(Bse({},u||{}),{[h]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vh("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${hCt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var lkt=Object.defineProperty,ckt=(t,e,n)=>e in t?lkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kb=(t,e,n)=>ckt(t,typeof e!="symbol"?e+"":e,n);class ukt{constructor(e){kb(this,"name","solana"),kb(this,"client"),kb(this,"httpProviders"),kb(this,"events"),kb(this,"namespace"),kb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Hw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var dkt=Object.defineProperty,hkt=(t,e,n)=>e in t?dkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sb=(t,e,n)=>hkt(t,typeof e!="symbol"?e+"":e,n);class fkt{constructor(e){Sb(this,"name","cosmos"),Sb(this,"client"),Sb(this,"httpProviders"),Sb(this,"events"),Sb(this,"namespace"),Sb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Hw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var pkt=Object.defineProperty,mkt=(t,e,n)=>e in t?pkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_b=(t,e,n)=>mkt(t,typeof e!="symbol"?e+"":e,n);class gkt{constructor(e){_b(this,"name","algorand"),_b(this,"client"),_b(this,"httpProviders"),_b(this,"events"),_b(this,"namespace"),_b(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||tc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new pu(new $d(r,Zn("disableProviderPing")))}}var ykt=Object.defineProperty,wkt=(t,e,n)=>e in t?ykt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ib=(t,e,n)=>wkt(t,typeof e!="symbol"?e+"":e,n);class bkt{constructor(e){Ib(this,"name","cip34"),Ib(this,"client"),Ib(this,"httpProviders"),Ib(this,"events"),Ib(this,"namespace"),Ib(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Hw(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var vkt=Object.defineProperty,xkt=(t,e,n)=>e in t?vkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tb=(t,e,n)=>xkt(t,typeof e!="symbol"?e+"":e,n);class Ekt{constructor(e){Tb(this,"name","elrond"),Tb(this,"client"),Tb(this,"httpProviders"),Tb(this,"events"),Tb(this,"namespace"),Tb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Hw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}}var Akt=Object.defineProperty,Ckt=(t,e,n)=>e in t?Akt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$b=(t,e,n)=>Ckt(t,typeof e!="symbol"?e+"":e,n);let kkt=class{constructor(e){$b(this,"name","multiversx"),$b(this,"client"),$b(this,"httpProviders"),$b(this,"events"),$b(this,"namespace"),$b(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Hw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}};var Skt=Object.defineProperty,_kt=(t,e,n)=>e in t?Skt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nb=(t,e,n)=>_kt(t,typeof e!="symbol"?e+"":e,n);let Ikt=class{constructor(e){Nb(this,"name","near"),Nb(this,"client"),Nb(this,"httpProviders"),Nb(this,"events"),Nb(this,"namespace"),Nb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||tc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace);return typeof r>"u"?void 0:new pu(new $d(r,Zn("disableProviderPing")))}};var Tkt=Object.defineProperty,$kt=(t,e,n)=>e in t?Tkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pb=(t,e,n)=>$kt(t,typeof e!="symbol"?e+"":e,n);let Nkt=class{constructor(e){Pb(this,"name","tezos"),Pb(this,"client"),Pb(this,"httpProviders"),Pb(this,"events"),Pb(this,"namespace"),Pb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||tc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace);return typeof r>"u"?void 0:new pu(new $d(r))}};var Pkt=Object.defineProperty,Rkt=(t,e,n)=>e in t?Pkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rb=(t,e,n)=>Rkt(t,typeof e!="symbol"?e+"":e,n);let jkt=class{constructor(e){Rb(this,"name",n6e),Rb(this,"client"),Rb(this,"httpProviders"),Rb(this,"events"),Rb(this,"namespace"),Rb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return S1(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=S1(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||tc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new pu(new $d(r,Zn("disableProviderPing")))}};var Okt=Object.defineProperty,Mkt=Object.defineProperties,Dkt=Object.getOwnPropertyDescriptors,Fse=Object.getOwnPropertySymbols,Bkt=Object.prototype.hasOwnProperty,Lkt=Object.prototype.propertyIsEnumerable,tU=(t,e,n)=>e in t?Okt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vk=(t,e)=>{for(var n in e||(e={}))Bkt.call(e,n)&&tU(t,n,e[n]);if(Fse)for(var n of Fse(e))Lkt.call(e,n)&&tU(t,n,e[n]);return t},SO=(t,e)=>Mkt(t,Dkt(e)),wc=(t,e,n)=>tU(t,typeof e!="symbol"?e+"":e,n);let Fkt=class d6e{constructor(e){wc(this,"client"),wc(this,"namespaces"),wc(this,"optionalNamespaces"),wc(this,"sessionProperties"),wc(this,"scopedProperties"),wc(this,"events",new zq),wc(this,"rpcProviders",{}),wc(this,"session"),wc(this,"providerOpts"),wc(this,"logger"),wc(this,"uri"),wc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:oC(eN({level:(e==null?void 0:e.logger)||Ese})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new d6e(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Vk({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,h8(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Dr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=Nse(this.session.namespaces);this.namespaces=Hk(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=Nse(i.namespaces);return this.namespaces=Hk(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Yc(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await eCt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Ese,relayUrl:this.providerOpts.relayUrl||cCt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Av(n)))];CO("client",this.client),CO("events",this.events),CO("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=qCt(n,this.session);if((r==null?void 0:r.length)===0)return;const i=c6e(r),s=Hk(this.namespaces,this.optionalNamespaces),o=SO(Vk({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new akt({namespace:o});break;case"algorand":this.rpcProviders[n]=new gkt({namespace:o});break;case"solana":this.rpcProviders[n]=new ukt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new fkt({namespace:o});break;case"polkadot":this.rpcProviders[n]=new tkt({namespace:o});break;case"cip34":this.rpcProviders[n]=new bkt({namespace:o});break;case"elrond":this.rpcProviders[n]=new Ekt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new kkt({namespace:o});break;case"near":this.rpcProviders[n]=new Ikt({namespace:o});break;case"tezos":this.rpcProviders[n]=new Nkt({namespace:o});break;default:this.rpcProviders[n]=new jkt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Yc(o)&&this.events.emit("accountsChanged",o.map($se))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,l=Av(o),c=AO(o)!==AO(a)?`${l}:${AO(a)}`:o;this.onChainChanged(c)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=SO(Vk({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",SO(Vk({},Dr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(mu.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[n6e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Hk(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Av(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Av(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${r}:`)).map($se);if(!Yc(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${zk}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${zk}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${zk}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(zk)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const Ukt=Fkt,zkt="wc",Wkt="ethereum_provider",Hkt=`${zkt}@2:${Wkt}:`,Vkt="https://rpc.walletconnect.org/v1/",nU=["eth_sendTransaction","personal_sign"],h6e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],rU=["chainChanged","accountsChanged"],f6e=["chainChanged","accountsChanged","message","disconnect","connect"],qkt=async()=>{const{createAppKit:t}=await Mh(()=>import("./core-BnWGID_x.js").then(e=>e.X),[]);return t};var Gkt=Object.defineProperty,Kkt=Object.defineProperties,Ykt=Object.getOwnPropertyDescriptors,Use=Object.getOwnPropertySymbols,Qkt=Object.prototype.hasOwnProperty,Zkt=Object.prototype.propertyIsEnumerable,iU=(t,e,n)=>e in t?Gkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oy=(t,e)=>{for(var n in e||(e={}))Qkt.call(e,n)&&iU(t,n,e[n]);if(Use)for(var n of Use(e))Zkt.call(e,n)&&iU(t,n,e[n]);return t},J5=(t,e)=>Kkt(t,Ykt(e)),yl=(t,e,n)=>iU(t,typeof e!="symbol"?e+"":e,n);function M7(t){return Number(t[0].split(":")[1])}function qk(t){return`0x${t.toString(16)}`}function Jkt(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Yc(e))throw new Error("Invalid chains");const l={chains:e,methods:r||nU,events:s||rU,rpcMap:oy({},e.length?{[M7(e)]:a[M7(e)]}:{})},c=s==null?void 0:s.filter(p=>!rU.includes(p)),u=r==null?void 0:r.filter(p=>!nU.includes(p));if(!n&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=(c==null?void 0:c.length)&&(u==null?void 0:u.length)||!n,f={chains:[...new Set(h?l.chains.concat(n||[]):n)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:h6e))],events:[...new Set(l.events.concat(o!=null&&o.length?o:f6e))],rpcMap:a};return{required:e.length?l:void 0,optional:n.length?f:void 0}}let Xkt=class p6e{constructor(){yl(this,"events",new lc.EventEmitter),yl(this,"namespace","eip155"),yl(this,"accounts",[]),yl(this,"signer"),yl(this,"chainId",1),yl(this,"modal"),yl(this,"rpc"),yl(this,"STORAGE_KEY",Hkt),yl(this,"on",(e,n)=>(this.events.on(e,n),this)),yl(this,"once",(e,n)=>(this.events.once(e,n),this)),yl(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),yl(this,"off",(e,n)=>(this.events.off(e,n),this)),yl(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new p6e;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Jkt(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(J5(oy({namespaces:oy({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(f=>{a(f)}).catch(f=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(f.message))})});if(!s)return;const o=Tre(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:qk(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(J5(oy({},e),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=Tre(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:qk(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",qk(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",J5(oy({},Dr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",qk(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||nU:[],l=i.length?(e==null?void 0:e.events)||rU:[],c=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),f=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?M7(this.rpc.chains):M7(this.rpc.optionalChains),this.signer=await Ukt.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await qkt(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return u9t}),s=i(J5(oy({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");n=r(J5(oy({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Yc(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&Yc(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${Vkt}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const e9t=Xkt;var t9t=Object.defineProperty,n9t=Object.defineProperties,r9t=Object.getOwnPropertyDescriptors,zse=Object.getOwnPropertySymbols,i9t=Object.prototype.hasOwnProperty,s9t=Object.prototype.propertyIsEnumerable,Wse=(t,e,n)=>e in t?t9t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m6e=(t,e)=>{for(var n in e||(e={}))i9t.call(e,n)&&Wse(t,n,e[n]);if(zse)for(var n of zse(e))s9t.call(e,n)&&Wse(t,n,e[n]);return t},o9t=(t,e)=>n9t(t,r9t(e));function a9t(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const l9t=t=>{const[e,n]=t.split(":");return g6e({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function c9t(t){var e,n,r,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(l9t).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(h=>{var f;return h.id===((f=t.defaultChain)==null?void 0:f.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:a9t(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:o9t(m6e({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(m=>({id:m.id,name:m.name,links:m.links})),...(t.desktopWallets||[]).map(m=>({id:m.id,name:m.name,links:{native:m.links.native,universal:m.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=h.filter(m=>!f.includes(m.id));p.length&&(u.customWallets=p)}return u}function g6e(t){return m6e({formatters:void 0,fees:void 0,serializers:void 0},t)}var u9t=Object.freeze({__proto__:null,convertWCMToAppKitOptions:c9t,defineChain:g6e});class y6e{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function sU(){try{let t="privy:__session_storage__test",e=new y6e;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Nt=typeof window<"u"&&window.localStorage?new y6e:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function w6e(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function Hse(t,e){let n=w6e(e);if(n.universalLink)return AG(n.universalLink,t)}let _O="WALLETCONNECT_DEEPLINK_CHOICE";function b6e(t){return t.startsWith("http://")||t.startsWith("https://")}function v6e(t,e){if(b6e(t))return AG(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function AG(t,e){if(!b6e(t))return v6e(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function x6e(t,e){window.open(t,e,"noreferrer noopener")}class ra{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}const oU="https://auth.privy.io",d9t=2e4,Wr=1400,E6e=2500,CG=4e3,h9t="3.0.1",R6="privy:token",Vse="privy-token",IO="privy:refresh_token",f9t="privy-refresh-token",cS="privy:pat",qse="privy:id_token",Gse="privy-id-token",TO="privy-session",aU="privy:caid",A6e=t=>`privy:guest:${t}`,Gk=t=>`privy:cross-app:${t}`,D7="privy:state_code",j6="privy:code_verifier",B7="privy:headless_oauth",x4="privy:oauth_disable_signup",$O=t=>`privy:wallet:${t}`,C6e="privy:connections",sN=12e4,p9t=3e4,m9t="deprecated";function lU(t){return crypto.getRandomValues(new Uint8Array(t))}function oN(){return J1(lU(36))}function kG(){return oN()}async function SG(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return J1(n)}}function g9t(){let t=Nt.get(j6);if(!t)throw new ue("Authentication error.");return t}function k6e(t){return t.charAt(0).toUpperCase()+t.slice(1)}const S6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),d.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),d.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),_6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),d.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),I6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),T6e=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),d.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),d.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),d.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),d.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function $6e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function N6e(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),d.jsxs("defs",{children:[d.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),d.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function P6e(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),d.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),d.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1956",children:d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function R6e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function j6e(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:d.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const O6e=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function cU(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Nt.del(D7),window.history.replaceState({},"",t)}const uU=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class r2{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new ue("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,connectorType:(r=this.wallet)==null?void 0:r.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw Nn(i)}}async link(){if(!this.client)throw new ue("SiweFlow has no client instance");try{if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Nn(e)}}async sign(){if(!this.client)throw new ue("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ue("Could not prepare SIWE message");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=uU({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ra(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const y9t=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class L7{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Nn(e)}}async link(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Nn(e)}}async sign(){let e,n;if(!this.client)throw new ue("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ue("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new ue("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:X9.decode(this.preparedMessage)});e=X9.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=X9.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ue("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=y9t({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ra(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=o}}const M6e=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,D6e=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||M6e(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!D6e(n))return!1}return!0},B6e=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Jx=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new kr(`Unsupported chainId ${t}`,4901);return Vp({transport:qp(Jp(s,n,r.appId)),chain:s})},Jp=(t,e,n)=>{var o,a,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",n),r=c.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new kr(`No RPC url found for ${i}`);return r},L6e=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Xo=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},NO=(t,e=3,n=4)=>Xo(t,e,n,"solana"),F7=t=>new Promise(e=>setTimeout(e,t)),dU=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let o=!1,a=0;for(;!o&&a<r;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(c=>{o=!0,i(c)},(...c)=>{o=!0,s(...c)}),a+=1,await F7(n)}o||s(Error("Exceeded max attempts before resolving function"))})},F6e=(t,e,n={},r={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(r);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},w9t=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),hU=t=>typeof t=="string"?t:"0x"+t.toString(16);async function b9t({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map(h=>h.info));let u=[];for(let h of c)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(r!=="solana-only")for(let h of function(){var g;let f=window,p=f.ethereum;if(!p)return[];let m=[];if((g=p.providers)!=null&&g.length)for(let y of p.providers)y&&m.push(y);return m.push(f.ethereum),m}()){let f=M6e(h);if(!c.some(p=>p.info.name===f)){if(D6e(h,!0)&&!u.find(p=>p.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(f==="Phantom"&&!u.find(p=>p.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(f==="Coinbase Wallet"&&!u.find(p=>{var m,g,y;return p.type==="coinbase_wallet"&&((y=(g=(m=n.coinbaseWallet)==null?void 0:m.config)==null?void 0:g.preference)==null?void 0:y.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find(p=>p.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function E4(t){return`eip155:${String(Number(t))}`}const v9t=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new kr(`Unsupported chainId ${t}`,4901);return Jp(s,n,r)},uS=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}},U6e=x.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Ie,setError:Ie,setExecuting:Ie,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Ie,reset:Ie,execute:Ie});class aN extends Do{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const x9t=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=x.useRef(null),[s,o]=x.useState(),[a,l]=x.useState(),[c,u]=x.useState(!1),h=x.useMemo(()=>r?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,s,a,c]);return d.jsx(U6e.Provider,{value:{...h,ref:i,enabled:r,siteKey:n,appId:e,setToken:o,setError:l,setExecuting:u,remove(){var f;r&&((f=i.current)==null||f.remove(),u(!1),l(void 0),o(void 0))},reset(){var f;r&&((f=i.current)==null||f.reset(),u(!1),l(void 0),o(void 0))},execute(){var f;r&&(u(!0),(f=i.current)==null||f.execute())},async waitForResult(){if(!r)return"";try{return await function(f,{interval:p=100,timeout:m=5e3}={}){return new Promise((g,y)=>{let w,v=0,b=()=>{v>=m?y("Max attempts reached without result"):(w=f(),v+=p,w==null?setTimeout(b,p):g(w))};b()})}(()=>{var f;return(f=i.current)==null?void 0:f.getResponse()},{interval:200,timeout:2e4})}catch{throw new aN("Captcha failed",null,pe.CAPTCHA_TIMEOUT)}}},children:t})},dl=()=>x.useContext(U6e);class X5{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(qst,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Gst,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Nn(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function Kse(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===pe.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===pe.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===pe.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof aN&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function E9t(){let t;return(t=function(){let e=new URLSearchParams(window.location.search),n=Number(e.get("id")||""),r=e.get("hash"),i=Number(e.get("auth_date")||""),s=e.get("first_name");if(n&&s&&i&&r)return Object.fromEntries(e.entries())}())?(Yse(),{flowType:"login-url",authData:t}):(t=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let n=z6e(e.replace("#tgWebAppData=","")),{user:r,auth_date:i,hash:s}=n;return r&&i&&s?n:void 0}())?(Yse(),{flowType:"web-app",authData:t}):void 0}function z6e(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Yse(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let Qse=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const Zu=(t,e)=>{if(e!=null&&e.imported)return Qse(e);let n=Cd(t);if(!n)throw Error("Failed to find primary wallet");return Qse(n)},A9t=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),W6e="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",H6e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class V6e extends kr{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const Mg=t=>t instanceof kr?t:t!=null&&t.code?new xo(t):new kr("Unknown connector error",t);class i2 extends Do{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}}class xo extends i2{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Xu).find(o=>o.eipCode===e.code);this.details=n||Xu.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Xu.E32002_CONNECTION_ALREADY_PENDING:this.details=Xu.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Xu.E32002_WALLET_LOCKED))}}const Ly={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Xu};function rm(t){return t.type==="ethereum"}function q6e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&rm(r)&&rm(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}class G6e extends M${constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const _G=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||sN;function e6(t){return t.chainType==="ethereum"}class Vw extends G6e{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(o=>Bi(o.address)===Bi(e));return{type:"ethereum",address:Bi(e),chainId:n,meta:r,imported:i,switchChain:async o=>{var f,p,m,g;let a,l;if(!s)throw new kr("Wallet is not currently connected.");let c=(f=this.wallets.find(y=>Bi(y.address)===Bi(e)))==null?void 0:f.chainId;if(!c)throw new kr("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===E4(a))return;let u=this.chains.find(y=>y.id===l);if(!u)throw new kr(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(y){if(((w,v)=>{var b;switch(v){case"coinbase_wallet":case"base_account":return w.message.includes("addEthereumChain");case"rabby_wallet":return w.message.includes("Unrecognized chain ID");default:return w.code===4902||((b=w.message)==null?void 0:b.includes("4902"))}})(y,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await F7(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((p=u.rpcUrls.default)==null?void 0:p.http[0])??""],blockExplorerUrls:[((m=u.blockExplorers)==null?void 0:m.default.url)??""]}]}),h();throw this.walletClientType==="rainbow"&&((g=y.message)!=null&&g.includes("wallet_switchEthereumChain"))?new kr(`Rainbow does not support the chainId ${n}`):y}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new kr("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new kr("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let l=await dU(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(r=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],s=Bi(i),o=[];if(this.walletClientType==="privy"){let l=Nt.get($O(s));this.chains.find(c=>c.id===Number(l))||(Nt.del($O(s)),l=null),n=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let l=await dU(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")n=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");n=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),n="0x1"}let a=E4(n);if(!o.find(l=>Bi(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Bi(i),a,l,this.connectorType==="embedded_imported"))}q6e(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>Bi(r)===Bi(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[_i(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=E4(s),this.walletClientType==="privy"&&Nt.put($O(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await F7(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=_G(i,e),this.connected=!1,this.initialized=!1}}class qw{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new kr(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw Mg(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new V6e,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||sN,this._subscriptions=[]}}const K6e=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class IG extends Vw{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new qw(void 0,sN),this.id=e,this.name=n,this.icon=r,this.connectorType=i}}const TG=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),fU=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[d.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),d.jsx("g",{transform:"translate(4, 4)",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),Y6e=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),C9t=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],$G=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:UJ?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=o==null?void 0:o.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Kk({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:UJ?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Kk({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Kk({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+Kk({client:this.client,isSolana:t,connectOnly:e}))}}});function Q6e({connectorType:t,walletClientType:e}){for(let n of C9t)if(t===n||e===n)return $G[n]}function Kk({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const dS=()=>{let t=Nt.get(C6e);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let k9t=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function pU(t){return t.toLowerCase().split(" ").join("_")}class S9t extends G6e{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new obe({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){var e;this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await((e=this.wallet.features["standard:connect"])==null?void 0:e.connect({silent:!0}).catch(()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){var e;this._unsubscribeListeners=(e=this.wallet.features["standard:events"])==null?void 0:e.on("change",this.onChange)}unsubscribeListeners(){var e;(e=this._unsubscribeListeners)==null||e.call(this)}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!k9t.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||dS().some(({walletClientType:e})=>e==="phantom"))}constructor(e,n){super(pU(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{var r;(r=this.wallet.features["standard:disconnect"])==null||r.disconnect().catch(i=>console.error("Error disconnecting",i))},this.promptConnection=async()=>{var r;try{await((r=this.wallet.features["standard:connect"])==null?void 0:r.connect())}catch(i){throw Mg(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}}class NG extends S9t{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new qw(void 0,sN),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}}function lN(t){return t.chainType==="solana"}function _9t(t){return t.type==="solana"}const cC=Bw(()=>({listings:[]})),I9t=cC.setState,PO=t=>{let e;try{e=new URL(t).hostname}catch{return}return cC.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},Dg=t=>cC(({listings:e})=>e.find(({slug:n})=>U7(n)===U7(t)));function U7(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function T9t({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}const _f={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{}},embeddedWallets:{extendedCalldataDecoding:!1},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let $9t=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),Zse=t=>$9t.has(t),Jse=(t,e,n)=>n.indexOf(t)===e;function Yk(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return gt({...t.toHsl(),l:n})}function RO(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function N9t({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=gt(t).getLuminance(),r=gt(t).toHslString());let i=n?"dark":"light",s=n?t6:Qk,{accent:o,accentLight:a,accentHover:l,accentDark:c,accentDarkest:u}=function(m,g){if(!m){let w=g?t6:Qk;return{accent:gt(w.background.interactive),accentLight:gt(w.background.interactive),accentHover:gt(w.background["interactive-hover"]),accentDark:gt(w.background["interactive-clicked"]),accentDarkest:gt(w.background["interactive-disabled"])}}let y=gt(m);return{accent:y,accentLight:Yk(y,.15),accentHover:Yk(y,.3),accentDark:Yk(y,-.06),accentDarkest:Yk(y,-.6)}}(e,n),h=function(m){let g=gt(Qk.text.default),y=gt(t6.text.default),w=RO(m,g),v=RO(m,y),b=m.toHsl();return b.h>=220&&b.h<=300&&v>=3?t6.text.default:w>v?Qk.text.default:t6.text.default}(o),f=gt(h),p=RO(o,gt(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:c.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:f.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:p?"1":"0",linkNavigationColor:p?o.toHslString():s.text.default,linkNavigationDecoration:p?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const t6={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","elevated-hover":"#242B3B","default-clicked":"#1A2230","elevated-clicked":"#2C3444","default-disabled":"#020713","elevated-disabled":"#141824",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC","muted-disabled-alt":"#404452","subtle-disabled-alt":"#404452"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",inverse:"#020713",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-hover":"#F8F8F8","muted-hover":"#9BA2AE","placeholder-hover":"#656C78","default-clicked":"#F8F8F8","muted-clicked":"#9BA2AE","placeholder-clicked":"#656C78","default-disabled":"#404452","muted-disabled":"#404452","placeholder-disabled":"#404452","error-hover":"#FA8B8B","interactive-hover":"#8C88E5","error-clicked":"#F87171","interactive-clicked":"#7671CC","error-disabled":"#404452","interactive-disabled":"#404452"},border:{default:"#1F2937",primary:"#110F2A",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF","default-clicked":"#1F2937","interactive-clicked":"#88B0FF","default-active":"#F8F8F8","default-disabled":"#1F2937","interactive-disabled":"#1F2937","error-hover":"#971B1C","error-clicked":"#971B1C","error-disabled":"#1F2937"}},Qk={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","elevated-hover":"#E8E9F4","default-clicked":"#F1F2F9","elevated-clicked":"#DFE0EF","default-disabled":"#FFFFFF","elevated-disabled":"#F1F2F9",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482","error-disabled":"#CBCDE1","interactive-disabled":"#CBCDE1"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",inverse:"#FFFFFF",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-hover":"#040217","muted-hover":"#64668B","placeholder-hover":"#9498B8","default-clicked":"#040217","muted-clicked":"#64668B","placeholder-clicked":"#9498B8","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","placeholder-disabled":"#CBCDE1","error-hover":"#991B1B","interactive-hover":"#5B4FFF","error-clicked":"#991B1B","interactive-clicked":"#5B4FFF","error-disabled":"#CBCDE1","interactive-disabled":"#CBCDE1"},border:{default:"#E2E3F0",primary:"#110F2A",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF","default-clicked":"#E2E3F0","interactive-clicked":"#5B4FFF","default-active":"#110F2A","default-disabled":"#E2E3F0","interactive-disabled":"#E2E3F0","error-hover":"#F69393","error-clicked":"#F69393","error-disabled":"#E2E3F0"}};function Z6e(t,e,n,r,i){var O,G,Z,Q,ie,de,oe,he,we,fe,ke,be,Ue,Me,Se,xe,Ne,Be,Ce,De,Ve,rt,K,U,z,ee,ne,se,ce,Le,Xe,Ye,et,Re,Tt,dn,Bt,He,Ln,En,ot,Qt,q,Y,ae,re,le,me,$e,Oe,Mt,bt,St,rn,Qe,ut,at,ct,ht,an,zn;let s,o,a,l,c,u,h,f,p,m,g,y,w,v,b,A,E=n?console.warn:()=>{};e!=null&&e.loginMethods?(s=e.loginMethods.includes("email"),o=e.loginMethods.includes("sms"),l=e.loginMethods.includes("wallet"),c=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),h=e.loginMethods.includes("discord"),m=e.loginMethods.includes("spotify"),g=e.loginMethods.includes("instagram"),f=e.loginMethods.includes("tiktok"),p=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),y=e.loginMethods.includes("linkedin"),v=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),A=e.loginMethods.includes("telegram"),a=e.loginMethods.includes("passkey")):(s=t.email_auth,o=t.sms_auth,l=t.wallet_auth||t.solana_wallet_auth,c=t.google_oauth,u=t.twitter_oauth,h=t.discord_oauth,w=t.github_oauth,m=t.spotify_oauth,g=t.instagram_oauth,f=t.tiktok_oauth,p=t.line_oauth,y=t.linkedin_oauth,v=t.apple_oauth,b=t.farcaster_auth,A=t.telegram_auth,a=t.passkey_auth),t.passkey_auth&&(a=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(a=!1);let $=[s,o].filter(Boolean),N=[c,u,h,w,m,g,f,p,y,v,b,A].filter(Boolean),R=[l].filter(Boolean),M=((O=e==null?void 0:e.loginMethods)==null?void 0:O.includes("passkey"))??!1,F=t.passkeys_for_signup_enabled??!1,W=[a&&(F||M)].filter(Boolean);if($.length+N.length+R.length+W.length===0)throw Error("You must enable at least one login method");let V=((G=e==null?void 0:e.appearance)==null?void 0:G.showWalletLoginFirst)!==void 0?(Z=e==null?void 0:e.appearance)==null?void 0:Z.showWalletLoginFirst:t.show_wallet_login_first;V&&R.length===0?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),V=!1):V||N.length+$.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),V=!0);let B=((ie=(Q=e==null?void 0:e.externalWallets)==null?void 0:Q.walletConnect)==null?void 0:ie.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let k=(({input:Ht,overrides:Ft})=>Ft?Ft.primary.concat(Ft.overflow??[]).filter(Zse).filter(Jse):Ht?Ht.filter(Zse).filter(Jse):_f.appearance.walletList)({input:(de=e==null?void 0:e.appearance)==null?void 0:de.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),C=(({input:Ht})=>{if(!Ht||!Ht.primary[0])return;let Ft=[Ht.primary[0]],An=[];for(let oi of(Ht.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Ht.primary.slice(1)))Ft.includes(oi)?console.warn(`Duplicated login method: ${oi}`):Ft.push(oi);for(let oi of Ht.overflow??[])Ft.includes(oi)||An.includes(oi)?console.warn(`Duplicated login method: ${oi}`):An.push(oi);return{primary:Ft,overflow:An}})({input:e==null?void 0:e.loginMethodsAndOrder}),S=((oe=e==null?void 0:e.intl)==null?void 0:oe.defaultCountry)??"US",{chains:T,defaultChain:_}=function({supportedChains:Ht,defaultChainFromConfig:Ft}){let An;if(Ht){if(Ht.length===0)throw Error("`supportedChains` must contain at least one chain");An=P1e(Ht)}else An=[...FA];let oi=Ht?An[0]:du,uc=Ft??oi;if(!An.find(Gt=>Gt.id===uc.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:An,defaultChain:uc}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),P=!!(e!=null&&e.defaultChain),D=((he=e==null?void 0:e.customAuth)==null?void 0:he.getCustomAccessToken)&&((we=e==null?void 0:e.customAuth)==null?void 0:we.enabled)!==!1,j=D?"all-users":t.embedded_wallet_config.ethereum.create_on_login,I=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!((ke=(fe=e==null?void 0:e.externalWallets)==null?void 0:fe.solana)!=null&&ke.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let L=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,J=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((be=e==null?void 0:e.appearance)==null?void 0:be.logo)??t.logo_url??void 0,landingHeader:((Ue=e==null?void 0:e.appearance)==null?void 0:Ue.landingHeader)??_f.appearance.landingHeader,loginMessage:typeof((Me=e==null?void 0:e.appearance)==null?void 0:Me.loginMessage)=="string"?(Se=e==null?void 0:e.appearance)==null?void 0:Se.loginMessage.slice(0,100):(xe=e==null?void 0:e.appearance)==null?void 0:xe.loginMessage,footerLogo:(Ne=e==null?void 0:e.appearance)==null?void 0:Ne.footerLogo,palette:N9t({backgroundTheme:((Be=e==null?void 0:e.appearance)==null?void 0:Be.theme)??_f.appearance.theme,accentHex:((Ce=e==null?void 0:e.appearance)==null?void 0:Ce.accentColor)??t.accent_color}),loginGroupPriority:V?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((De=e==null?void 0:e.appearance)!=null&&De.hideDirectWeb2Inputs),walletList:k,walletChainType:((Ve=e==null?void 0:e.appearance)==null?void 0:Ve.walletChainType)??(({evmWalletAuth:Ht,solanaWalletAuth:Ft})=>Ht&&Ft?"ethereum-and-solana":Ht?"ethereum-only":Ft?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:l,email:s,sms:o,passkey:a,google:c,twitter:u,discord:h,github:w,spotify:m,instagram:g,tiktok:f,line:p,linkedin:y,apple:v,farcaster:b,telegram:A},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:C,legal:{termsAndConditionsUrl:((rt=e==null?void 0:e.legal)==null?void 0:rt.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((K=e==null?void 0:e.legal)==null?void 0:K.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??_f.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((U=e==null?void 0:e.externalWallets)==null?void 0:U.signatureRequestTimeouts)??{}},chains:T,defaultChain:_,intl:{defaultCountry:S},shouldEnforceDefaultChainOnConnect:P,captchaEnabled:t.captcha_enabled??_f.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...(ne=(ee=(z=e==null?void 0:e.externalWallets)==null?void 0:z.coinbaseWallet)==null?void 0:ee.config)==null?void 0:ne.preference},...(ce=(se=e==null?void 0:e.externalWallets)==null?void 0:se.coinbaseWallet)==null?void 0:ce.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(Xe=(Le=e==null?void 0:e.externalWallets)==null?void 0:Le.baseAccount)==null?void 0:Xe.config,preference:{...(Re=(et=(Ye=e==null?void 0:e.externalWallets)==null?void 0:Ye.baseAccount)==null?void 0:et.config)==null?void 0:Re.preference,telemetry:!1}}},walletConnect:{enabled:B},solana:{connectors:(dn=(Tt=e==null?void 0:e.externalWallets)==null?void 0:Tt.solana)==null?void 0:dn.connectors},disableAllExternalWallets:((Bt=e==null?void 0:e.externalWallets)==null?void 0:Bt.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!D&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:D?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((He=e==null?void 0:e.embeddedWallets)==null?void 0:He.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:((En=(Ln=e==null?void 0:e.embeddedWallets)==null?void 0:Ln.ethereum)==null?void 0:En.createOnLogin)??j},solana:{createOnLogin:((Qt=(ot=e==null?void 0:e.embeddedWallets)==null?void 0:ot.solana)==null?void 0:Qt.createOnLogin)??I},disableAutomaticMigration:((q=e==null?void 0:e.embeddedWallets)==null?void 0:q.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((Y=e==null?void 0:e.embeddedWallets)==null?void 0:Y.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((ae=e==null?void 0:e.embeddedWallets)==null?void 0:ae.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((le=(re=e==null?void 0:e.embeddedWallets)==null?void 0:re.transactionScanning)==null?void 0:le.enabled)??!1,domain:(($e=(me=e==null?void 0:e.embeddedWallets)==null?void 0:me.transactionScanning)==null?void 0:$e.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((Oe=e==null?void 0:e.mfa)==null?void 0:Oe.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Mt=e==null?void 0:e.passkeys)==null?void 0:Mt.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(bt=e==null?void 0:e.passkeys)==null?void 0:bt.shouldUnenrollMfaOnUnlink},customAuth:D?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:L,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((St=e==null?void 0:e._render)==null?void 0:St.standalone)??_f._render.standalone},fundingConfig:J,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??_f.fundingMethodConfig,moonpay:{...((rn=e==null?void 0:e.fundingMethodConfig)==null?void 0:rn.moonpay)??_f.fundingMethodConfig.moonpay,useSandbox:((Qe=e==null?void 0:e.fundingMethodConfig)==null?void 0:Qe.moonpay.useSandbox)??_f.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((at=(ut=e==null?void 0:e.solana)==null?void 0:ut.rpcs)==null?void 0:at["solana:mainnet"])??null,"solana:devnet":((ht=(ct=e==null?void 0:e.solana)==null?void 0:ct.rpcs)==null?void 0:ht["solana:devnet"])??null,"solana:testnet":((zn=(an=e==null?void 0:e.solana)==null?void 0:an.rpcs)==null?void 0:zn["solana:testnet"])??null}}}const J6e={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},fiat_on_ramp_enabled:!1,captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},X6e=Z6e(J6e,void 0,!1);let PG=x.createContext({appConfig:X6e,isServerConfigLoaded:!1});const P9t=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,o]=x.useState(null),a=x.useMemo(()=>Z6e(s??J6e,r,!!s,typeof window<"u"?window.location.origin:void 0,i),[s,r,i]);return x.useEffect(()=>{if(!s)return;let l=function(h){var w,v;if(!h)return{};let{appearance:f,supportedChains:p,defaultChain:m,externalWallets:g,...y}=h;return{...y,...p?{supportedChains:p.map(b=>b.id)}:void 0,...m?{defaultChain:m.id}:void 0,...g?{walletConnect:g.walletConnect?{enabled:g.walletConnect.enabled}:void 0,coinbaseWallet:g.coinbaseWallet,solana:{connectors:(v=(w=g.solana)==null?void 0:w.connectors)==null?void 0:v.get().map(b=>b.walletClientType)}}:void 0}}(r),c=function(h,f=0){let p=3735928559^f,m=1103547991^f;for(let g,y=0;y<h.length;y++)p=Math.imul(p^(g=h.charCodeAt(y)),2654435761),m=Math.imul(m^g,1597334677);return p=Math.imul(p^p>>>16,2246822507)^Math.imul(m^m>>>13,3266489909),4294967296*(2097151&(m=Math.imul(m^m>>>16,2246822507)^Math.imul(p^p>>>13,3266489909)))+(p>>>0)}(JSON.stringify(l)).toString(),u=`privy:sent:${s.id}:${c}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:l}),localStorage.setItem(u,"t"))},[r,s]),x.useEffect(()=>{s||(async()=>{try{await e.initialize();let l=e.app.getConfig();l.custom_api_url&&n.updateApiUrl(l.custom_api_url),o(l)}catch(l){console.warn("Error generating app config: ",l)}})()},[]),d.jsx(PG.Provider,{value:{appConfig:a,isServerConfigLoaded:!!s},children:t})},Fn=()=>{let{appConfig:t}=x.useContext(PG);return t},e4e=()=>{let{isServerConfigLoaded:t}=x.useContext(PG);return t},t4e=x.createContext({app:X6e,currentScreen:null,lastScreen:null,navigate:Ie,navigateBack:Ie,resetNavigation:Ie,setModalData:Ie,onUserCloseViaDialogOrKeybindRef:void 0}),R9t=t=>{var a;let e=Fn(),n=t.authenticated,[r,i]=x.useState(t.initialScreen);x.useEffect(()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[n]);let s=x.useRef(null);x.useEffect(()=>{t.open||(s.current=null)},[t.open]),x.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(t4e.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&d.jsx(T9t,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},lt=()=>x.useContext(t4e),j9t=({style:t,...e})=>{let{app:n}=lt();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},n4e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class s2 extends Vw{async initialize(){var n,r,i,s,o;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=PO((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,o,a,l;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:w9t(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:n4e,id:((l=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(_O)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,n)=>{(async()=>{var s,o,a,l,c,u;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new kr("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=PO((c=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:c.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=_G(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{n(r?Mg(r):new kr("Unknown error during connection"))})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=v9t(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id),i=await e9t.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:f6e,optionalMethods:h6e,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(_O)}catch{}}(),!this.showPrivyQrModal)throw new kr("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(Cr&&this.walletEntry){let{redirect:a,href:l}=function(u,h){let f=w6e(h);if(f.deepLink)return v6e(f.deepLink,u);if(f.universalLink)return AG(f.universalLink,u);throw new ue(`Unsupported wallet ${h.id}`)}(s,this.walletEntry);x6e(a,"_self"),function({href:u,name:h}){try{localStorage.setItem(_O,JSON.stringify({href:u,name:h}))}catch{}}({href:l,name:((o=this.walletEntry.metadata)==null?void 0:o.shortName)||this.walletEntry.name});let c=Hse(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=c==null?void 0:c.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=Hse(s,this.walletEntry);this.fallbackUniversalRedirectUri=a==null?void 0:a.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a;(s=i.session)!=null&&s.peer.metadata.url&&(this.walletEntry=PO((o=i.session)==null?void 0:o.peer.metadata.url),this.walletClientType=((a=this.walletEntry)==null?void 0:a.slug)||"unknown")}),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l}){super(l||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new qw(void 0,this.rpcTimeoutDuration),l&&(this.walletEntry=(c=>cC.getState().listings.find(({slug:u})=>U7(u)===U7(c)))(l),this.walletClientType=l)}}const O9t={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},r4e=x.createContext(void 0);let i4e=()=>x.useContext(r4e);function cN(t,e){if(!e)return;let n=i4e().current[t];return x.useEffect(()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function Ge(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function Gw(){let t=i4e();return(e,n,...r)=>Ge(t,e,n,...r)}const Xx=X.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),M9t=X.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),mU=X.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),s4e=X(mU).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let D9t=ls(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const B9t=X.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Gr=X.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],D9t),Gh=X.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),e3=X.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),L9t=X.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),F9t=X.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function U9t(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let Xse=X.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function RG({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?d.jsx(Xse,{}):d.jsxs(Xse,{children:["By logging in I agree to the"," ",e&&d.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&d.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const er=({className:t})=>{let{appearance:e}=Fn();return d.jsx(Ri,{className:t,children:e.footerLogo??d.jsx(z9t,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:d.jsx(U9t,{color:"currentColor",height:13,width:150})})})};let z9t=X.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const Ri=X.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),o4e=({success:t,fail:e})=>d.jsxs(W9t,{children:[d.jsx(eoe,{children:d.jsx(jG,{className:t?"success":e?"fail":""})}),d.jsx(eoe,{children:d.jsx(iu,{className:t?"success":e?"fail":""})})]});let eoe=X.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),W9t=X.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const iu=X.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),jG=X(iu).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),Bg=t=>d.jsx(H9t,{color:t.color||"var(--privy-color-foreground-3)"});let H9t=X(iu).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const lw=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return d.jsx(kd,{size:e,...i,children:n});case"error":return d.jsx(kd,{$warn:!0,size:e,...i,children:n});case"muted":return d.jsx(G9t,{size:e,...i,children:n});default:return d.jsx(pr,{size:e,success:r,...i,children:n})}},uN=X.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),pr=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let c=o==="a",u=!(!e&&!n);return d.jsx(q9t,{as:o,disabled:c?void 0:u,"aria-disabled":c?u:void 0,$success:r,$size:i,onClick:h=>{c&&u?h.preventDefault():a==null||a(h)},...l,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Bg,{}),s?d.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},z7=({children:t,loading:e,disabled:n,...r})=>d.jsx(V9t,{disabled:n,...r,children:e?d.jsx(Bg,{color:"var(--privy-color-foreground-accent)"}):t});let V9t=X(uN).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),q9t=X(uN).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&ls(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const kd=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!n);return d.jsx(K9t,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:r,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Bg,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},G9t=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!n);return d.jsx(Y9t,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:r,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Bg,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let K9t=X(uN).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&ls(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),Y9t=X(uN).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&ls(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const dN=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>d.jsxs(Q9t,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(Bg,{})})]});let Q9t=X.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const Z9t=({backFn:t})=>d.jsx("div",{children:d.jsx(OG,{onClick:t,children:d.jsx(xdt,{height:"16px",width:"16px",strokeWidth:2})})}),J9t=({infoFn:t})=>d.jsx("div",{children:d.jsx(eSt,{"aria-label":"info",onClick:t,children:d.jsx(t2,{height:"22px",width:"22px",strokeWidth:2})})}),X9t=t=>d.jsx("div",{children:d.jsx(OG,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(fht,{height:"16px",width:"16px",strokeWidth:2})})}),bn=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=st(),a=Fn();return d.jsxs(tSt,{className:s,children:[d.jsxs(nSt,{children:[t&&d.jsx(Z9t,{backFn:t}),e&&d.jsx(J9t,{infoFn:e})]}),r&&d.jsx(iSt,{id:"privy-dialog-title",children:r}),d.jsx(rSt,{children:!a.render.standalone&&i&&d.jsx(X9t,{onClose:n||(()=>o())})})]})};let OG=X.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),eSt=X(OG).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),tSt=X.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),nSt=X.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),rSt=X.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),iSt=X.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const t5=({size:t})=>d.jsx(sSt,{$size:t,children:d.jsxs(oSt,{children:[d.jsx(aSt,{}),d.jsx(lSt,{})]})});let sSt=X.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),oSt=X.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),aSt=X.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),lSt=X.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const cSt=X.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),uSt=X.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),dSt=X.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),hSt=X(bn).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),fSt=X.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),pSt=X.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let mSt=X.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),gSt=X.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),ySt=X.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),wSt=X.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),toe=X.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),bSt=X.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),vSt=X.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const ar=({children:t,...e})=>d.jsx(cSt,{children:d.jsx(uSt,{...e,children:t})});let xSt=X.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),ESt=X(er).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),ASt=X.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),CSt=({step:t})=>t?d.jsx(xSt,{children:d.jsx(ASt,{pct:Math.min(100,t.current/t.total*100)})}):null;ar.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:c,onClose:u,step:h,...f})=>d.jsxs(dSt,{...f,children:[d.jsx(hSt,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:c?u:void 0,closeable:c}),(n||r||t||e)&&d.jsxs(mSt,{children:[n||r?d.jsx(ar.Icon,{icon:n,variant:r,loadingStatus:i}):null,d.jsxs(gSt,{children:[t&&d.jsx(ySt,{children:t}),e&&d.jsx(wSt,{children:e})]})]}),h&&d.jsx(CSt,{step:h})]}),ar.Body=Ae.forwardRef(({children:t,...e},n)=>d.jsx(fSt,{ref:n,...e,children:t})),ar.Body.displayName="Screen.Body",ar.Footer=({children:t,...e})=>d.jsx(pSt,{...e,children:t}),ar.Actions=({children:t,...e})=>d.jsx(kSt,{...e,children:t}),ar.HelpText=({children:t,...e})=>d.jsx(SSt,{...e,children:t}),ar.Watermark=()=>d.jsx(ESt,{}),ar.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?d.jsx(bSt,typeof t=="string"?{children:d.jsx("img",{src:t,alt:""})}:Ae.isValidElement(t)?{children:t}:{children:Ae.createElement(t)}):e==="loading"?t?d.jsx(vSt,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsx(o4e,{success:n==null?void 0:n.success,fail:n==null?void 0:n.fail}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ae.isValidElement(t)?Ae.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ae.createElement(t,{style:{width:"38px",height:"38px"}})]})}):d.jsx(toe,{$variant:e,children:d.jsx(t5,{size:"64px"})}):d.jsx(toe,{$variant:e,children:t&&(typeof t=="string"?d.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ae.isValidElement(t)?t:Ae.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let kSt=X.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),SSt=X.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Rn=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...s})=>{let o=t||e?d.jsxs(d.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,c=l.variant||"primary";return d.jsx(lw,{...l,variant:c,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,c=l.variant||"secondary";return d.jsx(lw,{...l,variant:c,style:{width:"100%",...l.style},children:a})})()]}):null;return d.jsxs(ar,{id:s.id,className:s.className,children:[d.jsx(ar.Header,{...s}),i?d.jsx(ar.Body,{children:i}):null,n||o||r?d.jsxs(ar.Footer,{children:[n?d.jsx(ar.HelpText,{children:n}):null,o?d.jsx(ar.Actions,{children:o}):null,r?d.jsx(ar.Watermark,{}):null]}):null]})},jO=({label:t,children:e,valueStyles:n})=>d.jsxs(_St,{children:[d.jsx("div",{children:t}),d.jsx(ISt,{style:{...n},children:e})]});let _St=X.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),ISt=X.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),TSt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),a4e=t=>TSt.format(t);const l4e=(t,e)=>{let n=a4e(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},_1=(t,e)=>{let n=a4e(e*parseFloat($w(t)));return n==="$0.00"?"<$0.01":n},cd=(t,e,n=6,r=!1)=>`${c4e(t,n,r)} ${e}`,c4e=(t,e=6,n=!1)=>{let r=parseFloat($w(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},MG=t=>t.reduce((e,n)=>e+n,0n),$St=(t,e)=>{let{chains:n}=st(),r=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var c;let a=Number(s),l=o.find(u=>u.id===a);if(!l)throw new kr(`Unsupported chainId ${s}`,4901);return(c=l.blockExplorers)==null?void 0:c.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},NSt=1e9,PSt={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function OO(t,e){let n=parseFloat(t.toString())/NSt,r=RSt.format(e*n);return r==="$0.00"?"<$0.01":r}let RSt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function hS(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}const jSt=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=MG(t),i=e?_1(r,e):void 0,s=cd(r,n);return d.jsx(d4e,{children:i||s})},u4e=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=MG(t),i=e?_1(r,e):void 0,s=cd(r,n);return d.jsx(d4e,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(OSt,{children:"USD"}),i==="<$0.01"?d.jsxs(DSt,{children:[d.jsx(MSt,{children:"<"}),"$0.01"]}):i]}):s})};let d4e=X.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),OSt=X.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),MSt=X.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),DSt=X.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const h4e=X.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),DG=X.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),BSt=X.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),LSt=X(DG).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),hN=X(DG).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),fN=X.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),BG=X.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),FSt=X.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),hf=X.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),Nd=X.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),USt=X.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),zSt=({gas:t,tokenPrice:e,tokenSymbol:n})=>d.jsxs(fN,{style:{paddingBottom:"12px"},children:[d.jsxs(f4e,{children:[d.jsx(m4e,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(u4e,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&d.jsx(p4e,{children:`${cd(BigInt(t),n)}`})]}),WSt=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return d.jsxs(fN,{children:[d.jsxs(f4e,{children:[d.jsx(m4e,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(u4e,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&d.jsx(p4e,{children:cd(i,r)})]})};let f4e=X.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),p4e=X.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),m4e=X.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const uC=x.createContext(void 0),pN=x.createContext(void 0),HSt=({defaultValue:t,children:e})=>{let[n,r]=x.useState(t||null);return d.jsx(uC.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:d.jsx(YSt,{children:e})})},VSt=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=x.useContext(uC),i=n===t;return d.jsx(pN.Provider,{value:{onToggle:()=>r(t),value:t},children:d.jsx(XSt,{isActive:i?"true":"false","data-open":String(i),children:e})})},qSt=({children:t})=>{let{activePanel:e}=x.useContext(uC),{onToggle:n,value:r}=x.useContext(pN),i=e===r;return d.jsxs(d.Fragment,{children:[d.jsxs(QSt,{onClick:n,"data-open":String(i),children:[d.jsx(JSt,{children:t}),d.jsx(t_t,{isactive:i?"true":"false",children:d.jsx(Nq,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(ZSt,{})]})},GSt=({children:t})=>{let{activePanel:e}=x.useContext(uC),{value:n}=x.useContext(pN);return d.jsx(e_t,{"data-open":String(e===n),children:d.jsx(g4e,{children:t})})},KSt=({children:t})=>{let{activePanel:e}=x.useContext(uC),{value:n}=x.useContext(pN);return d.jsx(g4e,{children:typeof t=="function"?t({isActive:e===n}):t})};let YSt=X.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),QSt=X.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),ZSt=X.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),JSt=X.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),XSt=X.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),e_t=X.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),g4e=X.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),t_t=X.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");function n_t(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const noe=t=>d.jsx(r_t,{href:t.chainType==="ethereum"?$St(t.chainId,t.walletAddress):n_t(t.walletAddress,t.chainId),target:"_blank",children:Xo(t.walletAddress)});let r_t=X.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const y4e=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((n==null?void 0:n.value)||0);return d.jsx(HSt,{...Fn().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(VSt,{value:"details",children:[d.jsx(qSt,{children:d.jsxs(i_t,{children:[d.jsx("div",{children:(r==null?void 0:r.title)||"Details"}),d.jsx(s_t,{children:d.jsx(jSt,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(GSt,{children:[d.jsx(jO,{label:"From",children:d.jsx(noe,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),d.jsx(jO,{label:"To",children:d.jsx(noe,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),r&&r.action&&d.jsx(jO,{label:"Action",children:r.action}),s&&d.jsx(zSt,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(KSt,{children:({isActive:l})=>d.jsx(WSt,{value:n.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let i_t=X.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),s_t=X.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const o_t=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=st(),[r,i]=x.useState(!0),[s,o]=x.useState(void 0),[a,l]=x.useState(void 0);return x.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let c=await n();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:r,solPriceError:s}};function dC(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=st(),[h,f]=x.useState(!0),[p,m]=x.useState(void 0),[g,y]=x.useState(void 0);return x.useEffect(()=>{a||(a=1);let w=WV(u).find(v=>v.id===Number(a));(async()=>{if(l){if(!w)return f(!1),void m(Error(`Unable to fetch token price on chain id ${a}`));try{f(!0);let v=await c(w);v?y(v):m(Error(`Unable to fetch token price on chain id ${w.id}`))}catch(v){m(v)}finally{f(!1)}}else f(!1)})()},[a]),{tokenPrice:g,isTokenPriceLoading:h,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=o_t({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const w4e=x.createContext(null);function Lg(){let t=x.useContext(w4e);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function W7(t,e,n,r){let i=y2e(t),s=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:pht[s.type]}}let b4e=X.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const a_t=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let Yr=class extends Error{constructor(e,n){super(n),this.type=e}};function n5(t){let e=t.type;return typeof e=="string"&&a_t.includes(e)}function f8(t){return n5(t)&&t.type==="wallet_not_on_device"}function LG(t){return!!n5(t)&&t.type==="mfa_timeout"}function FG(t){return!!n5(t)&&t.type==="missing_or_invalid_mfa"}function l_t(t){return!!n5(t)&&t.type==="mfa_verification_max_attempts_reached"}function v4e(t){return!(!n5(t)||!t.message.includes("code 429"))}function x4e(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}const mN=()=>window.open(void 0,void 0,c_t({w:440,h:680}));let c_t=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`};const u_t=({title:t,description:e,children:n,...r})=>d.jsx(E4e,{...r,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,n]})}),Sd=({title:t,description:e,icon:n,children:r,...i})=>d.jsxs(d_t,{...i,children:[n||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,r]});let E4e=X.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),d_t=X(E4e).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const A4e=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),C4e=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function roe({url:t,popup:e,provider:n}){return e.location=t,new Promise((r,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(r(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function h_t({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new ue("User denied confirmation during OAuth flow");try{return(await t.post(Lst,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(s){let o=Nn(s);throw o.privyErrorCode?new ue(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}async function ioe({api:t,provider:e}){let n=oN(),r=kG(),i=await SG(n);try{return e==="icloud"?{url:(await t.post(Bst,{client_type:"web"})).url}:{url:(await t.post(Dst,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(s){throw Nn(s)}}const UG=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],k4e=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wL(i,{request:{chain_type:c}});else if(c==="ethereum"){let g=_$(t);g&&await o({address:g.address}),await n.create({accessToken:e,solanaAddress:g==null?void 0:g.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}else{if(c!=="solana")throw Error("Invalid input to create wallet");{let g=bh(t);g&&await o({address:g.address}),await n.createSolana({accessToken:e,ethereumAddress:g==null?void 0:g.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wL(i,{request:{chain_type:c}});else{let{entropyId:g,entropyIdVerifier:y}=Zu(t);await o(),await n.addWallet({accessToken:e,entropyId:g,entropyIdVerifier:y,chainType:c,hdWalletIndex:l})}let p=await r(),m=UG(p,{chainType:c,walletIndex:l})[0];return a(p),{user:p,account:m}},zG=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=st(),o=Fn();return{create:async({walletIndex:a,chainType:l,latestUser:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{let p=c;p||(p=await r());let m=await s.getAccessToken();if(!p||!m||!t)throw Error("User must be authenticated before creating a Privy wallet");return await k4e({appConfig:o,user:p,refreshSessionAndUser:r,privy:i,accessToken:m,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:a,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}},f_t=({title:t,description:e,onClose:n})=>d.jsx(Rn,{title:t,subtitle:e,icon:YA,iconVariant:"success",watermark:!0,onBack:n}),WG={component:()=>{let{user:t}=Sn(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=st(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=lt(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let h=bh(t)??_$(t);t&&h?(r(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return x.useEffect(()=>{let h=setTimeout(u,2500);return()=>clearTimeout(h)},[]),o.current=u,d.jsx(f_t,{title:n?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},gU=X.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),p_t=X.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let soe={"google-drive":{name:"Google Drive",component:C4e},icloud:{name:"iCloud",component:A4e}};const S4e={component:()=>{var F;let{logout:t}=Sn(),{navigate:e,setModalData:n,data:r}=lt(),{closePrivyModal:i,createAnalyticsEvent:s}=st(),{execute:o}=(()=>{let{client:W,walletProxy:V,refreshSessionAndUser:B}=st(),{data:k}=lt(),{user:C}=Sn(),S=Gw(),{create:T}=zG();return{execute:async({provider:_,action:P,popup:D,shouldCreateEth:j,shouldCreateSol:I})=>{var G,Z;let L,J;if(!W)throw new ue("Missing client");function O(Q){if(!Q&&W)throw W.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:_}}),new ue("Recovery OAuth failed")}switch(_){case"google-drive":{let Q,ie,{url:de,codeVerifier:oe,stateCode:he}=await ioe({api:W.api,provider:_});O(de);try{let we=await roe({url:de,popup:D,provider:_});if(Q=we.stateCode,ie=we.authorizationCode,Q!==he)throw W.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:_,storedStateCode:he??"",returnedStateCode:Q??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED)}catch(we){throw W.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:we.toString(),provider:_}}),new ue("Recovery OAuth failed")}[L,J]=await Promise.all([W.getAccessToken(),h_t({api:W.api,provider:_,codeVerifier:oe,stateCode:Q,authorizationCode:ie})]);break}case"icloud":{let{url:Q}=await ioe({api:W.api,provider:_});O(Q);let{ckWebAuthToken:ie}=await roe({url:Q,popup:D,provider:_});J=ie,L=await W.getAccessToken()}}if(!V)throw new ue("Cannot connect to wallet proxy");if(!L)throw new ue("Unable to authorize user");switch(P){case"recover":{let Q=(G=k==null?void 0:k.recoverWallet)==null?void 0:G.entropyId,ie=(Z=k==null?void 0:k.recoverWallet)==null?void 0:Z.entropyIdVerifier;if(!Q||!ie)throw new ue("Recovery OAuth failed");W.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:Q,recoveryMethod:_}}),await V.recover({accessToken:L,entropyId:Q,entropyIdVerifier:ie,recoveryAccessToken:J}),W.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Q,recoveryMethod:_}});break}case"create-wallet":{let Q;if(W.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),j&&I)Q=await T({recoveryMethod:_,recoveryAccessToken:J,chainType:"ethereum",walletIndex:0,latestUser:C}),Q=await T({chainType:"solana",walletIndex:0,latestUser:Q.user});else if(I)Q=await T({recoveryMethod:_,recoveryAccessToken:J,chainType:"solana",walletIndex:0,latestUser:C});else{if(!j)throw Error("Invalid args to create wallet");Q=await T({recoveryMethod:_,recoveryAccessToken:J,chainType:"ethereum",walletIndex:0,latestUser:C})}if(!Q)throw S("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");W.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:Q.account.address}}),S("createWallet","onSuccess",{wallet:Q.account});break}case"set-recovery":{let Q=Cd(C);if(!Q)throw S("setWalletRecovery","onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");W.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:Q.address,existingRecoveryMethod:Q.recoveryMethod,targetRecoveryMethod:_}});let{entropyId:ie,entropyIdVerifier:de}=Zu(C);await V.setRecovery({accessToken:L,entropyId:ie,entropyIdVerifier:de,recoveryMethod:_,recoveryAccessToken:J});let oe=Cd(await B());if(!oe)throw S("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");W.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:Q.address,existingRecoveryMethod:Q.recoveryMethod,targetRecoveryMethod:_}}),S("setWalletRecovery","onSuccess",{method:_,wallet:oe});break}default:throw new ue("Unsupported recovery action")}}}})(),[a,l]=x.useState(!1),{provider:c,action:u,isInAccountCreateFlow:h,shouldCreateEth:f,shouldCreateSol:p}=r==null?void 0:r.recoveryOAuthStatus,[m,g]=x.useState(void 0),[y,w]=x.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let v=soe[c].name,b=soe[c].component,A=(F=r==null?void 0:r.recoverWallet)==null?void 0:F.onCompleteNavigateTo,E=new ra(async(W="create-wallet")=>(w(!0),new Promise((V,B)=>{setTimeout(async()=>{try{let k=window.open();await o({provider:c,action:W,popup:k,shouldCreateEth:f,shouldCreateSol:p}),l(!0),V()}catch{g({message:`${W==="recover"?"Recovery":"Back up"} with ${v} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${v} account associated with your backup.`:"",retryable:!0}),B()}},0)})));x.useEffect(()=>{u!=="recover"&&E.execute(h?"create-wallet":"set-recovery")},[]),x.useEffect(()=>{if(!a)return;let W=setTimeout(()=>{h?(n({createWallet:{onSuccess:()=>{},onFailure:V=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:V,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(WG)):i({shouldCallAuthOnSuccess:!1})},Wr);return()=>clearTimeout(W)},[a]);let $=x.useCallback(async()=>{await E.execute("recover"),A?e(A):l(!0)},[]),N=c==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${N}.`||m&&m.message||`${u==="recover"?"Recovering":"Backing up"} with ${N}...`,M=m?m.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(bn,{}),y?d.jsx(d.Fragment,{children:d.jsxs(gU,{children:[d.jsx(Sd,{title:R,icon:d.jsx(b,{style:{width:"38px",height:"38px"}}),description:M}),m&&(m!=null&&m.retryable)?d.jsx(pr,{onClick:()=>{cU(),g(void 0),u==="create-wallet"?E.execute("create-wallet"):$()},disabled:!a&&!(m!=null&&m.retryable),children:"Try again"}):null]})}):d.jsxs(gU,{children:[d.jsx(Sd,{title:"Confirm it's really you",icon:d.jsx(b,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${N} where your account is backed up.`}),d.jsxs(pr,{onClick:$,children:["Confirm with ",N]})]}),d.jsx(er,{})]})}};let MO=X.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),m_t={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},g_t=({onClose:t})=>d.jsxs(p_t,{children:[d.jsx(Sd,{title:"Why do I need to secure my account?",icon:d.jsx(t2,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(pr,{onClick:t,children:"Select backup method"})]});const yU={component:()=>{let[t,e]=x.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=lt(),{user:l}=Sn(),{embeddedWallets:c}=Fn(),{closePrivyModal:u}=st(),h=Cd(l),f=h===null,{isInAccountCreateFlow:p,isResettingPassword:m,shouldCreateEth:g,shouldCreateSol:y}=o.recoverySelection,w=h&&h.recoveryMethod!=="privy",v=w?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:m_t[(h==null?void 0:h.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function b(E){s({recoveryOAuthStatus:{provider:E,action:f?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:g,shouldCreateSol:y}}),n(S4e)}function A(){var E,$;(E=o==null?void 0:o.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:(($=o==null?void 0:o.setWalletPassword)==null?void 0:$.callAuthOnSuccessOnClose)??!1})}return a.current=A,d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:A,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?d.jsx(g_t,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(Sd,{title:w?"Update backup method":"Secure your account",icon:d.jsx(g2e,{width:48}),description:v}),d.jsx(gU,{children:c.userOwnedRecoveryOptions.filter(E=>!["icloud","google-drive"].includes((h==null?void 0:h.recoveryMethod)||"")||E!==(h==null?void 0:h.recoveryMethod)).sort().map(E=>{switch(E){case"google-drive":return d.jsxs(Gr,{onClick:()=>b("google-drive"),children:[d.jsx(MO,{children:d.jsx(C4e,{style:{width:18}})}),"Back up to Google Drive"]},E);case"icloud":return d.jsxs(Gr,{onClick:()=>b("icloud"),children:[d.jsx(MO,{children:d.jsx(A4e,{style:{width:24}})}),"Back up to Apple iCloud"]},E);case"user-passcode":return d.jsxs(Gr,{onClick:()=>{n(bEe({isCreatingWallet:f,skipSplashScreen:!0}))},children:[d.jsx(MO,{children:d.jsx(iht,{style:{width:18}})}),m?"Reset your":"Set a"," password"]},E);default:return null}})})]}),d.jsx(er,{})]})}};let y_t=ls(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const _4e=X.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],y_t,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),gN=X.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),yN=X(pr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&ls(["&&{transition:none;}"]));let I4e=ls(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const HG=X.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],I4e),w_t=X.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],I4e),wN=X.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),bN=X.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),VG=X.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),wU=X.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),ooe=X(lw).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),vN=X.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),b_t=X(Adt).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),xN=X(Gdt).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),EN=X(Ydt).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),v_t=X.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),x_t=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[s,o]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(""),h=n===c;return x.useEffect(()=>{c&&!a&&l(!0)},[c]),d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!1,backFn:i}),d.jsx(hf,{}),d.jsxs(gN,{children:[d.jsxs(bN,{children:[d.jsx(Dw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(wN,{children:[d.jsx(HG,{value:c,onChange:f=>u(f.target.value),onKeyUp:f=>{f.key==="Enter"&&r()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(vN,{style:{right:"0.75rem"},children:s?d.jsx(xN,{onClick:()=>o(!1)}):d.jsx(EN,{onClick:()=>o(!0)})})]}),d.jsx(_4e,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),d.jsx(yN,{onClick:r,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),d.jsx(Nd,{}),d.jsx(er,{})]})},T4e=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>d.jsx("label",{children:d.jsxs(E_t,{className:t,children:[d.jsx(N4e,{checked:e,...r}),d.jsx(A_t,{color:n,checked:e,children:d.jsx($4e,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let E_t=X.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),$4e=X.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),N4e=X.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),A_t=X.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",N4e,t=>t.color,$4e,t=>t.checked?"visible":"hidden");const C_t=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[s,o]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!1,backFn:r}),d.jsx(hf,{}),d.jsxs(gN,{children:[d.jsxs(bN,{children:[d.jsx(Dw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(VG,{children:d.jsxs(wU,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(l=>!l)},children:[d.jsx(T4e,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(k_t,{children:[i.initiatedBy==="user"&&d.jsx(kd,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(yN,{onClick:n,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(Nd,{}),d.jsx(er,{})]})};let k_t=X.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),S_t=/[a-z]/,__t=/[A-Z]/,I_t=/[0-9]/,P4e="!@#$%^&*()\\-_+.",R4e=`a-zA-Z0-9${P4e}`,T_t=RegExp(`[${P4e}]`),$_t=RegExp(`[${R4e}]`);const N_t=RegExp(`^[${R4e}]{6,}$`),j4e=()=>wft(4,vft);function P_t(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function R_t(t=""){return(.3*function(e){if(e.length<8)return 0;let n=0;return S_t.test(e)&&(n+=1),__t.test(e)&&(n+=1),I_t.test(e)&&(n+=1),T_t.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))}(t)+hft(t)/95)/2}const j_t=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,h]=x.useState(!1),[f,p]=x.useState(!1);x.useEffect(()=>{n&&!f&&p(!0)},[n]);let m=x.useMemo(()=>f?6>((n==null?void 0:n.length)||0)?"Password must be at least 6 characters":N_t.test(n||"")?null:`Invalid characters used ( ${((w="")=>[...new Set(w.split("").filter(v=>!$_t.test(v)).map(v=>v.replace(" ","SPACE")))])(n).join(" ")} )`:null,[n,f]),g=x.useMemo(()=>m?{value:0,label:"Weak"}:function(w=""){let v=R_t(w);return{value:v,label:P_t(v)}}(n),[n,m]),y=x.useMemo(()=>!(n!=null&&n.length)||!!m,[m,n]);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:o,closeable:r.initiatedBy==="user",backFn:a}),d.jsx(hf,{}),d.jsxs(gN,{children:[d.jsxs(bN,{children:[d.jsx(Jdt,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(wN,{children:[d.jsx(HG,{value:n,onChange:w=>l(w.target.value),onKeyUp:w=>{w.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(vN,{style:{width:"3.5rem"},children:[u?d.jsx(xN,{onClick:()=>h(!1)}):d.jsx(EN,{onClick:()=>h(!0)}),d.jsx(b_t,{onClick:c})]})]}),d.jsx(v_t,{value:g.value===0?.01:g.value,label:g.label}),d.jsx(_4e,{error:!!m,children:m||`Password Strength: ${f?g.label:"--"}`}),d.jsxs(M_t,{children:[d.jsx(O_t,{children:d.jsxs(VG,{children:[d.jsxs(wU,{children:[d.jsx(JE,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(wU,{children:[d.jsx(JE,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(yN,{onClick:s,loading:e,disabled:y,$hideAnimations:t,children:"Continue"})]})]}),d.jsx(Nd,{}),d.jsx(er,{})]})};let O_t=X(VG).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),M_t=X.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const D_t=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:s})=>{let[o,a]=x.useState(!1),[l,c]=x.useState(!0),u=x.useCallback(()=>{a(!0),r&&navigator.clipboard.writeText(r)},[r]),h=x.useCallback(()=>{let f=document.createElement("a"),p=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),m=new Blob([B_t(n,r)],{type:"text/plain"}),g=URL.createObjectURL(m);f.href=g,f.target="_blank",f.download=`${p}-privy-wallet-recovery.txt`,document.body.appendChild(f),f.click(),setTimeout(()=>{f.remove(),URL.revokeObjectURL(g)},5e3)},[r]);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:s,closeable:!1}),d.jsx(hf,{}),d.jsxs(gN,{children:[d.jsxs(bN,{children:[d.jsx(Dw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsxs(wN,{centered:!0,children:[d.jsx(w_t,{children:l?"".repeat(r.length):r}),d.jsx(vN,{style:{right:"0.75rem"},children:l?d.jsx(xN,{onClick:()=>c(!1)}):d.jsx(EN,{onClick:()=>c(!0)})})]}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(ooe,{onClick:u,children:d.jsxs(d.Fragment,o?{children:[d.jsx(m2e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(Wdt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(ooe,{onClick:h,children:[d.jsx(bdt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(yN,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),d.jsx(Nd,{}),d.jsx(er,{})]})};let B_t=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const L_t=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!1}),d.jsx(hf,{}),d.jsxs(hN,t?{children:[d.jsx(Eft,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Something went wrong",description:t})]}:{children:[d.jsx(JE,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success"})]}),d.jsx(pr,{onClick:e,children:"Close"}),d.jsx(Nd,{}),d.jsx(er,{})]});let F_t=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const O4e=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=lt(),{send:i,state:s}=(()=>{let[c,u]=x.useReducer(F_t,"creating");return{send:u,state:c}})(),o=x.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);x.useEffect(()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},Wr)),()=>{c&&clearTimeout(c)}},[s,e.config.initiatedBy,e.onClose]);let a=x.useCallback(()=>{i("back")},[i]),l=x.useCallback(()=>{r(yU)},[n,r]);return s==="creating"?d.jsx(j_t,{...e,onSubmit:o,onBack:n===yU?l:void 0}):s==="saving"?d.jsx(D_t,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(x_t,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(C_t,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(L_t,{...e,onSubmit:o}):null};let U_t={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const AN=t=>{let e=U_t[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let M4e=x.createContext({});const z_t=({children:t})=>{let e=Fn(),[n,r]=x.useState({});return cN("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Nt.put(aoe(e.id),i.type),i.type==="wallet"?(Nt.put(DO(e.id),i.walletClientType),Nt.put(BO(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Nt.del(DO(e.id)),Nt.del(BO(e.id)),r({accountType:i.type})))}}),x.useEffect(()=>{if(!e.id)return;let i=Nt.get(aoe(e.id)),s=Nt.get(DO(e.id)),o=Nt.get(BO(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),d.jsx(M4e.Provider,{value:n,children:t})};let aoe=t=>`privy:${t}:recent-login-method`,DO=t=>`privy:${t}:recent-login-wallet-client`,BO=t=>`privy:${t}:recent-login-chain-type`;const Fg=()=>x.useContext(M4e),D4e=()=>{var i;let{app:t}=lt(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,n=`${t==null?void 0:t.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?Ae.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},W_t=t=>{let{app:e}=lt();return e!=null&&e.appearance.logo?d.jsx(H_t,{...t,children:d.jsx(D4e,{})}):null},H_t=X.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),V_t=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{}),q_t=({appId:t})=>{let[e,n]=x.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=Sn(),{client:s}=st();return x.useEffect(()=>{(async()=>s&&n(await s.getCrossAppProviderDetails(t)))()},[s]),d.jsx(Gr,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(V_t,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(Bg,{})})};let G_t=X.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const t3=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:s,...o})=>d.jsx(G_t,{as:r,$size:t,$variant:e,$disabled:n,onClick:a=>{n?a.preventDefault():s==null||s(a)},...o,children:i}),qG=(t,e)=>!bh(t)&&(e==="all-users"||e==="users-without-wallets"&&!K_t(t).length);let K_t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const GG=(t,e)=>!_$(t)&&(e==="all-users"||e==="users-without-wallets"&&!Y_t(t).length);let Y_t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const Ug=(t,e)=>qG(t,e.ethereum.createOnLogin)||GG(t,e.solana.createOnLogin),Q_t=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>d.jsx(Rn,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:vht,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),hC={component:()=>{let{navigate:t,app:e,setModalData:n,data:r}=lt(),{getAuthMeta:i,client:s}=st();return d.jsx(Q_t,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();n({...r,login:{...r==null?void 0:r.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Lo)}})}},Z_t=X.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),La=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,s]=x.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return x.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),d.jsxs(J_t,n?{children:[d.jsx(e7t,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:Xo(t)}),e&&d.jsx(kd,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(XE,{size:16})]}:{children:["Copy",d.jsx(m7,{size:16})]})})]}:{children:[d.jsx(X_t,{title:t,className:r,children:Xo(t)}),e&&d.jsx(kd,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(XE,{size:14})]}:{children:["Copy",d.jsx(m7,{size:14})]})})]})};let J_t=X.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),X_t=X.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),e7t=X.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function t7t(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),d.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const bU=792703809,vU="11111111111111111111111111111111";let loe="0x0000000000000000000000000000000000000000";const o2=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??loe,destinationCurrency:e??loe,...n});let B4e="https://api.relay.link",L4e="https://api.testnets.relay.link";const p8=async({input:t,isTestnet:e})=>{let n=await fetch((e?L4e:B4e)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},H7=t=>{var n,r;let e=(r=(n=t.steps[0])==null?void 0:n.items)==null?void 0:r[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function n7t({transactionHash:t,isTestnet:e}){var i;let n=await fetch((e?L4e:B4e)+"/requests/v2?hash="+t),r=await n.json();if(!n.ok)throw"message"in r&&typeof r.message=="string"?Error(r.message):Error("Error fetching request from relay");return((i=r.requests.at(0))==null?void 0:i.status)??"pending"}function KG({transactionHash:t,isTestnet:e,bridgingStatus:n,setBridgingStatus:r,onSuccess:i,onFailure:s}){x.useEffect(()=>{if(t&&n){if(["delayed","waiting","pending"].includes(n)){let o=setInterval(async()=>{try{let a=await n7t({transactionHash:t,isTestnet:e});r(a)}catch(a){console.error(a)}},1e3);return()=>clearInterval(o)}n==="success"?i({transactionHash:t}):["refund","failure"].includes(n)&&s({error:new F4e(t,e)})}},[n,t,e])}let F4e=class extends ue{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,pe.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const CN=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((o,a)=>{if(o instanceof F4e)return{title:"Transaction failed",detail:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o.message}),d.jsxs("span",{children:[" ","Check the"," ",d.jsx(r7t,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:ml};if(o instanceof ue)switch(o.privyErrorCode){case pe.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:ml};case pe.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:ml};case pe.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:ml};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ml}}else{if(o instanceof Yr&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:Cht};if(!(o instanceof Do))return o instanceof Rl&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:ml}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ml};switch(o.privyErrorCode){case pe.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:ml};case pe.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:ml};case pe.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:Rq};case pe.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case pe.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case pe.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:ml};case pe.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:ml};case pe.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:ml};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ml}}}})(t,e);return d.jsx(Rn,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof Do&&(t.privyErrorCode===pe.INVALID_CAPTCHA&&(r==null||r()),t.privyErrorCode===pe.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n==null||n()},variant:"error"},watermark:!0})},Kr={component:()=>{var a,l;let{navigate:t,data:e,lastScreen:n,currentScreen:r,app:i}=lt(),{reset:s}=dl(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(n===r?void 0:n);return d.jsx(CN,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Lo,!1)},onCaptchaReset:s})}};let r7t=X.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const U4e=({onTransfer:t,isTransferring:e,transferSuccess:n})=>d.jsx(pr,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),z4e=X.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),xU=X.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),W4e=X.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),i7t=X(yq).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),s7t=X(cht).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),o7t=X.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),coe=X.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),a7t=X.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let l7t=()=>d.jsx(a7t,{children:d.jsx(i7t,{$iconSize:60})});const c7t=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:o}=Fn(),a=((l=o.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:e,backFn:n}),d.jsxs(z4e,{children:[d.jsx(l7t,{}),d.jsxs(xU,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(o7t,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx(coe,{children:"Log out and log back into the other account, or "}),d.jsxs(coe,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(W4e,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(y$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(La,{address:t,showCopyIcon:!1}),d.jsx(s7t,{})]}),d.jsx(U4e,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),d.jsx(er,{})]})},Kw={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=st(),{data:n,navigate:r,lastScreen:i,setModalData:s}=lt(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=async()=>{var p,m,g,y,w,v,b,A,E,$;try{if(!((p=n==null?void 0:n.accountTransfer)!=null&&p.nonce)||!((m=n==null?void 0:n.accountTransfer)!=null&&m.account))throw Error("missing account transfer inputs");h(!0),await t({nonce:(g=n==null?void 0:n.accountTransfer)==null?void 0:g.nonce,account:(y=n==null?void 0:n.accountTransfer)==null?void 0:y.account,accountType:(w=n==null?void 0:n.accountTransfer)==null?void 0:w.linkMethod,externalWalletMetadata:(v=n==null?void 0:n.accountTransfer)==null?void 0:v.externalWalletMetadata,telegramWebAppData:(b=n==null?void 0:n.accountTransfer)==null?void 0:b.telegramWebAppData,telegramAuthResult:(A=n==null?void 0:n.accountTransfer)==null?void 0:A.telegramAuthResult,farcasterEmbeddedAddress:(E=n==null?void 0:n.accountTransfer)==null?void 0:E.farcasterEmbeddedAddress,oAuthUserInfo:($=n==null?void 0:n.accountTransfer)==null?void 0:$.oAuthUserInfo}),c(!0),h(!1),setTimeout(e,1e3)}catch(N){s({errorModalData:{error:N,previousScreen:i||Kw}}),r(Kr,!0)}};return o?d.jsx(c7t,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:f,isTransferring:u,transferSuccess:l}):d.jsx(u7t,{onClose:e,onInfo:()=>{var p;return a((p=n==null?void 0:n.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onContinue:()=>{var p;return a((p=n==null?void 0:n.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onTransfer:f,isTransferring:u,transferSuccess:l,data:n})}},u7t=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:o})=>{var l,c,u,h,f,p,m;if(!((l=o==null?void 0:o.accountTransfer)!=null&&l.linkMethod)||!((c=o==null?void 0:o.accountTransfer)!=null&&c.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(h=o==null?void 0:o.accountTransfer)==null?void 0:h.displayName,disclosedAccount:(f=o==null?void 0:o.accountTransfer)!=null&&f.embeddedWalletAddress?{type:"wallet",handle:(p=o==null?void 0:o.accountTransfer)==null?void 0:p.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(bn,{closeable:!0}),d.jsxs(z4e,{children:[d.jsx(b4e,{children:d.jsxs("div",{children:[d.jsx(Z_t,{color:"var(--privy-color-error)"}),d.jsx(Dw,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(xU,{children:[d.jsxs("h3",{children:[function(g){switch(g){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${k6e(g.replace("_oauth",""))} profile`;default:return g.startsWith("privy:")?"Cross-app account":g}}(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(d7t,{onClick:n,disclosedAccount:a.disclosedAccount})]}),d.jsxs(xU,{style:{gap:12,marginTop:12},children:[(m=o==null?void 0:o.accountTransfer)!=null&&m.embeddedWalletAddress?d.jsx(pr,{onClick:e,children:"Continue"}):d.jsx(U4e,{onTransfer:r,transferSuccess:i,isTransferring:s}),d.jsx(kd,{onClick:t,children:"No thanks"})]})]}),d.jsx(er,{})]})};function d7t({disclosedAccount:t,onClick:e}){return t?d.jsxs(W4e,{onClick:e,children:[d.jsx(y$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(La,{address:t.handle,showCopyIcon:!1}),d.jsx(t7t,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const h7t=({errorMessage:t,onClose:e})=>d.jsx(Rn,t?{title:"Something went wrong",subtitle:t,icon:$$,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),a0={component:()=>{let{app:t,setModalData:e,navigate:n,data:r,onUserCloseViaDialogOrKeybindRef:i}=lt(),[s,o]=x.useState(""),{embeddedWallets:a}=Fn(),{authenticated:l,user:c}=Sn(),{closePrivyModal:u,walletProxy:h,client:f}=st(),{onSuccess:p,onFailure:m,callAuthOnSuccessOnClose:g,shouldCreateEth:y,shouldCreateSol:w}=r.createWallet,v=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[b,A]=x.useState(null),{create:E}=zG(),$=y??(!!c&&qG(c,t.embeddedWallets.ethereum.createOnLogin)),N=w??(!!c&&GG(c,t.embeddedWallets.solana.createOnLogin)),R=new ra(async()=>{let M=await f.getAccessToken();if(c&&M&&h)try{let F;if($&&N)F=await E({chainType:"ethereum",walletIndex:0,latestUser:c}),F=await E({chainType:"solana",walletIndex:0,latestUser:F.user});else if(N)F=await E({chainType:"solana",walletIndex:0,latestUser:c});else{if(!$)return void u({shouldCallAuthOnSuccess:g});F=await E({chainType:"ethereum",walletIndex:0,latestUser:c})}A(F),n(WG)}catch(F){o(F.message)}});return x.useEffect(()=>l&&c?v?(e({...r,createWallet:{...r.createWallet,shouldCreateEth:$,shouldCreateSol:N},recoverySelection:{...r==null?void 0:r.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:$,shouldCreateSol:N}}),n(vEe({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(n(Lo),void m(Error("User must be authenticated before creating a Privy wallet"))),[v,l]),i.current=()=>null,d.jsx(h7t,{errorMessage:s||void 0,onClose:()=>{b?(p(b),u({shouldCallAuthOnSuccess:g})):(m(new ng("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},Yw={component:()=>{let{user:t,logout:e}=Sn(),{app:n,onUserCloseViaDialogOrKeybindRef:r,setModalData:i,navigate:s}=lt(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=st(),c=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return r.current=c,d.jsx(f7t,{termsAndConditionsUrl:n==null?void 0:n.legal.termsAndConditionsUrl,privacyPolicyUrl:n==null?void 0:n.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&Ug(t,n.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(a0)):a()},onDecline:c})}},f7t=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>d.jsx(Rn,{title:i,subtitle:s,icon:Aht,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&d.jsxs(p7t,{children:[t&&d.jsxs(lw,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",d.jsx(eF,{width:16,height:16,strokeWidth:2.25})]}),e&&d.jsxs(lw,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",d.jsx(eF,{width:16,height:16,strokeWidth:2.25})]})]})});let p7t=X.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const H4e=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let m7t=X.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),g7t=X.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),y7t=X(Rdt).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),w7t=X(H4e).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function b7t({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[s,o]=x.useState(!1);return d.jsxs(m7t,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?d.jsxs(g7t,{children:[d.jsx(y7t,{})," ",!e&&"Copied"]}):!r&&d.jsx(w7t,{})]})}const v7t=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let LO=(t,e,n,r,i)=>{for(let s=e;s<e+r;s++)for(let o=n;o<n+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},x7t=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map(s=>d.jsx("circle",{r:n*(7-2*s)/2,cx:t+7*n/2,cy:e+7*n/2,fill:s%2!=0?r:i},`finder-${t}-${e}-${s}`))}),E7t=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>d.jsx(x7t,{x:i,y:s,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${s}`))}),A7t=({matrix:t,cellSize:e,color:n})=>d.jsx(d.Fragment,{children:t.map((r,i)=>r.map((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${o}`):d.jsx(Ae.Fragment,{},`circle-${i}-${o}`)))}),C7t=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return d.jsx(d.Fragment,{});let s=e*(r||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(n,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},k7t=t=>{var s;let e=t.outputSize,n=((o,a)=>{let l=QA.create(o,{errorCorrectionLevel:a}).modules,c=((u,h)=>{let f=u.slice(0),p=[];for(;f.length;)p.push(f.splice(0,h));return p})(Array.from(l.data),l.size);return c=LO(c,0,0,7,7),c=LO(c,c.length-7,0,7,7),LO(c,0,c.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=function(o,{min:a,max:l}){return Math.min(Math.max(o,a),l)}(2*r,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(A7t,{matrix:n,cellSize:r,color:t.fgColor}),d.jsx(E7t,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(C7t,{cellSize:r,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:n.length})]})},S7t=X.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const fC=t=>{let{appearance:e}=Fn(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?n:r;return d.jsx(S7t,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:d.jsx(k7t,{url:t.url,logo:{element:t.squareLogoElement??v7t},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},cw=X.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let V4e=X.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const q4e=X(V4e).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),_7t=X(V4e).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),G4e=X.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],cw),K4e=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),kv={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:fU,md:fU}}};class jl{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(n=>n.startsWith("eip155:"))}isSol(e){return e.chains.some(n=>n.startsWith("solana:"))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=jl.normalize(e);return this.normalizedAllowList.some(i=>r===jl.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){var l;let r=new Map,i=c=>{let u=r.get(c.id);if(u){u.chainType!==c.chainType&&(u.chainType="multi");let h=new Set(u.chains);c.chains.forEach(f=>h.add(f)),u.chains=Array.from(h),!u.icon&&c.icon&&(u.icon=c.icon),!u.url&&c.url&&(u.url=c.url),!u.listing&&c.listing&&(u.listing=c.listing)}else r.set(c.id,c)};e.filter(c=>this.connectorOk(c)).forEach(c=>{var h,f;let u=jl.normalize(c.walletClientType);i({id:u,label:((h=c.walletBranding)==null?void 0:h.name)??u,source:"connector",connector:c,chainType:c.chainType,icon:(f=c.walletBranding)==null?void 0:f.icon,url:void 0,chains:[c.chainType==="ethereum"?"eip155":"solana"]})}),n.filter(c=>this.listingOk(c)).forEach(c=>{var g,y;let u=this.isEth(c),h=this.isSol(c),f=jl.normalize(c.slug),p=kv[c.slug],m=((g=p==null?void 0:p.image_url)==null?void 0:g.sm)||((y=c.image_url)==null?void 0:y.sm);i({id:f,label:c.name||f,source:"listing",listing:c,chainType:u&&h?"multi":u?"ethereum":"solana",icon:m,url:c.homepage,chains:c.chains})});let s=e.find(c=>c.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:n4e,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(r.values());o.forEach(c=>{var h,f;let u=kv[((h=c.listing)==null?void 0:h.slug)||c.id];(f=u==null?void 0:u.image_url)!=null&&f.sm&&(c.icon=u.image_url.sm)});let a=new Map;return(l=this.normalizedAllowList)==null||l.forEach((c,u)=>{a.set(jl.normalize(c),u)}),{wallets:o.slice().sort((c,u)=>{let h=jl.normalize(c.id),f=jl.normalize(u.id);h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom"),f==="binance-defi"?f="binance":f==="universalprofiles"?f="universal_profile":f==="cryptocom-defi"&&(f="cryptocom");let p=a.has(h),m=a.has(f);return p&&m?a.get(h)-a.get(f):p?-1:m?1:c.source==="connector"&&u.source==="listing"?-1:c.source==="listing"&&u.source==="connector"?1:c.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,n){var r,i,s,o;this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=((r=this.normalizedAllowList)==null?void 0:r.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((s=this.normalizedAllowList)==null?void 0:s.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect_qr"))??!1}}var EU=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),d.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),d.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),d.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),d.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),AU=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[d.jsx("stop",{offset:"0",stopColor:"#9945ff"}),d.jsx("stop",{offset:".2",stopColor:"#7962e7"}),d.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),d.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const I7t=X.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),A4=X.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),T7t=X.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),$7t=Bw(()=>({isModalOpen:!1,resolvers:null}));Bw(()=>({}));const N7t=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Nt.put(P7t(n),r),$7t.setState({wallet:r})},P7t=t=>`privy:${t}:active-wallet-connection`;function Y4e({walletList:t,walletChainType:e}){var g;let n=Fn(),{connectors:r}=st(),i=cC(y=>y.listings),s=e??n.appearance.walletChainType,o=t??((g=n.appearance)==null?void 0:g.walletList),a=x.useMemo(()=>new jl(s,o),[s,o]),{wallets:l,walletCount:c}=x.useMemo(()=>a.getWallets(r,i),[a,r,i]),[u,h]=x.useState(""),f=x.useMemo(()=>u?l.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):l,[u,l]),[p,m]=x.useState();return{selected:p,setSelected:m,search:u,setSearch:h,wallets:f,walletCount:c}}let Q4e=t=>!t||typeof t!="string"&&(t instanceof IG||t instanceof NG);const CU=({index:t,style:e,data:n,recent:r})=>{var l,c;let i=n.wallets[t],{walletChainType:s,handleWalletClick:o}=n,a={...e,boxSizing:"border-box"};return i?d.jsxs(fS,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!Q4e(i.connector)?d.jsx(I7t,{children:typeof i.icon=="string"?d.jsx(A4,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?d.jsx(A4,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})),d.jsx(pS,{children:i.label}),r?d.jsxs(d.Fragment,{children:[d.jsx(T7t,{children:"Last used"}),d.jsx(V7,{children:d.jsxs(d.Fragment,{children:[s==="ethereum-only"&&d.jsx(EU,{}),s==="solana-only"&&d.jsx(AU,{})]})})]}):d.jsx(V7,{children:!(s==="ethereum-only"||s==="solana-only")&&d.jsxs(d.Fragment,{children:[((l=i.chains)==null?void 0:l.some(u=>u.startsWith("eip155")))&&d.jsx(EU,{}),((c=i.chains)==null?void 0:c.some(u=>u.startsWith("solana")))&&d.jsx(AU,{})]})})]}):null};var Z4e=({className:t,customDescription:e,connectOnly:n,preSelectedWalletId:r,...i})=>{var T;let s=Fn(),{connectors:o}=st(),a=i.walletChainType||s.appearance.walletChainType,l=i.walletList||((T=s.appearance)==null?void 0:T.walletList),{onBack:c,onClose:u,app:h}=i,{selected:f,setSelected:p,qrUrl:m,setQrUrl:g,connecting:y,uiState:w,wallets:v,walletCount:b,handleConnect:A,handleBack:E,showSearchBar:$,isInitialConnectView:N,title:R,search:M,setSearch:F}=function({onConnect:_,onBack:P,onClose:D,onConnectError:j,walletList:I,walletChainType:L,app:J}){let O=Fn(),{connectors:G}=st(),{wallets:Z,walletCount:Q,search:ie,setSearch:de,selected:oe,setSelected:he}=Y4e({walletList:I,walletChainType:L}),[we,fe]=x.useState(),[ke,be]=x.useState(),[Ue,Me]=x.useState(),Se=!oe&&!ke&&!Ue,xe=Se&&(Q>6||ie.length>0),Ne=G.find(Ve=>Ve.connectorType==="wallet_connect_v2"),Be=x.useCallback(async(Ve,rt)=>{var K,U;if(Ve){if((Ue==null?void 0:Ue.connector)===Ve)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(fe("loading"),typeof Ve=="string")return Me({connector:Ve,name:(rt==null?void 0:rt.name)??"Wallet",icon:rt==null?void 0:rt.icon}),void window.open(Ve,"_blank");Me({connector:Ve,name:(rt==null?void 0:rt.name)??Ve.walletBranding.name??"Wallet",icon:(rt==null?void 0:rt.icon)??Ve.walletBranding.icon});try{let z=await Ve.connect({showPrompt:!0});if(!z)return fe("error"),void(j==null?void 0:j(new kr("Unable to connect wallet")));fe("success"),N7t({address:z.address,client:z.walletClientType,appId:O.id}),setTimeout(()=>{_({connector:Ve,wallet:z})},Wr)}catch(z){if(console.error("ERROR: ",{e:z}),((K=z==null?void 0:z.message)==null?void 0:K.includes("already pending for origin"))||((U=z==null?void 0:z.message)==null?void 0:U.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");fe("error"),j==null||j(new kr("Unable to connect wallet"))}}},[O.id,_,Ue]),Ce=x.useCallback(()=>ke?(fe(void 0),Me(void 0),void be(void 0)):Ue?(fe(void 0),void Me(void 0)):oe?(fe(void 0),Me(void 0),void he(void 0)):we==="error"||we==="loading"?(fe(void 0),void Me(void 0)):void(P==null?void 0:P()),[ke,Ue,oe,we,P]),De=x.useMemo(()=>(Ue==null?void 0:Ue.connector)===Ne&&ke&&Cr?`Go to ${Ue.name} to continue`:(Ue==null?void 0:Ue.connector)===Ne&&ke?`Scan code to connect to ${Ue.name}`:typeof(Ue==null?void 0:Ue.connector)=="string"?`Open or install ${Ue.name}`:oe&&!Ue?"Select network":Ue?null:"Select your wallet",[Ue,ke,oe,Ne]);return{selected:oe,setSelected:he,qrUrl:ke,setQrUrl:be,connecting:Ue,uiState:we,search:ie,setSearch:de,wallets:Z,walletCount:Q,wc:Ne,isInitialConnectView:Se,showSearchBar:xe,title:De,handleConnect:Be,handleBack:Ce,onClose:D,onConnect:_,app:J}}({...i,walletList:l,walletChainType:a}),W=o.find(_=>_.connectorType==="wallet_connect_v2"),V=x.useRef(null),B=Plt({count:v.length,getScrollElement:()=>V.current,estimateSize:()=>56,overscan:6,gap:5}),k=x.useCallback(async _=>{var L,J,O,G,Z,Q,ie;let P,D=a!=="solana-only"&&((L=_.chains)==null?void 0:L.some(de=>de.startsWith("eip155"))),j=a!=="ethereum-only"&&((J=_.chains)==null?void 0:J.some(de=>de.startsWith("solana"))),I=$G[_.id];if(j&&I)P=I.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let de=(G=(O=_.listing)==null?void 0:O.mobile)==null?void 0:G.native;P=((Q=(Z=_.listing)==null?void 0:Z.mobile)==null?void 0:Q.universal)||de||_.url}if(D&&j){let de=jl.normalize(_.id),oe=o.filter(fe=>jl.normalize(fe.walletClientType)===de&&!(fe.chainType==="ethereum"&&fe instanceof IG||fe.chainType==="solana"&&fe instanceof NG)),he=oe.find(fe=>fe.chainType==="ethereum"),we=oe.find(fe=>fe.chainType==="solana");if(!he&&_.listing){let fe=kv[_.listing.slug]?{..._.listing,...kv[_.listing.slug]}:_.listing;W.setWalletEntry(fe,g),await W.resetConnection(_.id),he=W}if(!we&&P&&(we=P),he||we)return void p({eth:he,sol:we,name:_.label,icon:_.icon})}if(!Q4e(_.connector))return((ie=_.connector)==null?void 0:ie.connectorType)==="wallet_connect_v2"&&(await W.resetConnection(_.id),W.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},g)),void await A(_.connector,{name:_.label,icon:_.icon});if(D||j||_.url||_.listing){if(D&&_.listing){let de=kv[_.listing.slug]?{..._.listing,...kv[_.listing.slug]}:_.listing;W.setWalletEntry(de,g),await W.resetConnection(_.id)}if(D&&j)return void p({eth:W,sol:P,name:_.label,icon:_.icon});if(j)return void await A(P,{name:_.label,icon:_.icon});if(D)return void(_.listing?await A(W,{name:_.label,icon:_.icon}):_.url?await A(_.url,{name:_.label,icon:_.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",_.label));if(_.url)return void await A(_.url,{name:_.label,icon:_.icon})}},[W,A,p,g,E,u,h,N,R,e,s,o]),C=c||E,S=!!c||!N;return x.useEffect(()=>{if(!r)return;let _=v.find(({id:P})=>P===r);_&&k(_).catch(console.error)},[r]),d.jsxs(ar,{className:t,children:[d.jsx(ar.Header,{icon:y&&!m||m&&Cr&&(y!=null&&y.icon)?y.icon:y?void 0:K4e,iconVariant:y&&!m||m&&Cr?"loading":void 0,iconLoadingStatus:y&&!m||m&&Cr?{success:w==="success",fail:w==="error"}:void 0,title:y&&!m?`Waiting for ${y.name}`:m&&Cr?`Waiting for ${(y==null?void 0:y.name)??"connection"}`:R,subtitle:y&&!m&&typeof y.connector=="string"?`To connect to ${y.name}, install and open the app. Then confirm the connection when prompted.`:y&&!m&&typeof y.connector!="string"?w==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":N?e??(h?`Connect a wallet to your ${h.name} account`:null):null,showBack:S,showClose:!0,onBack:C,onClose:u}),d.jsxs(ar.Body,{ref:V,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[$&&d.jsx(R7t,{children:d.jsxs(q4e,{style:{background:"transparent"},children:[d.jsx(Gh,{children:d.jsx(tht,{})}),d.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:_=>F(_.target.value),value:M})]})}),m&&Cr&&w==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(lw,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Cr&&w==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(M7t,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Cr&&d.jsx(fC,{size:280,url:m.universal??m.native,squareLogoElement:y!=null&&y.icon?typeof y.icon=="string"?_=>d.jsx("svg",{..._,children:d.jsx("image",{href:y.icon,height:_.height,width:_.width})}):y.icon:j9t}),d.jsxs(j7t,{children:[y&&!m&&typeof y.connector=="string"&&d.jsxs(fS,{onClick:()=>window.open(y.connector,"_blank"),children:[y.icon&&(typeof y.icon=="string"?d.jsx(A4,{src:y.icon}):d.jsx(y.icon,{})),d.jsx(pS,{children:y.name})]}),(f==null?void 0:f.eth)&&!y&&d.jsxs(fS,{onClick:()=>A(f.eth,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?d.jsx(A4,{src:f.icon}):d.jsx(f.icon,{})),d.jsx(pS,{children:f.name}),d.jsx(V7,{children:d.jsx(EU,{})})]}),(f==null?void 0:f.sol)&&!y&&d.jsxs(fS,{onClick:()=>A(f.sol,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?d.jsx(A4,{src:f.icon}):d.jsx(f.icon,{})),d.jsx(pS,{children:f.name}),d.jsx(V7,{children:d.jsx(AU,{})})]}),N&&d.jsxs(d.Fragment,{children:[!(b>0)&&d.jsx(O7t,{children:"No wallets found. Try another search."}),b>0&&!m&&d.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:d.jsx("div",{style:{height:`${B.getTotalSize()}px`,width:"100%",position:"relative"},children:B.getVirtualItems().map(_=>d.jsx(CU,{index:_.index,style:{position:"absolute",top:0,left:0,height:`${_.size}px`,transform:`translateY(${_.start}px)`},data:{wallets:v,walletChainType:a,handleWalletClick:k}},_.key))})})]})]})]}),d.jsxs(ar.Footer,{children:[y&&!m&&typeof y.connector!="string"&&w==="error"&&d.jsx(ar.Actions,{children:d.jsx(lw,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>A(y.connector,{name:y.name,icon:y.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&d.jsx(RG,{app:h,alwaysShowImplicitConsent:!0}),d.jsx(ar.Watermark,{})]})]})};let R7t=X.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),j7t=X.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),fS=X.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),V7=X.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),O7t=X.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),pS=X.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),M7t=X(b7t).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const D7t=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),uoe=t=>{var n;let e=(n=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:n.split(" ").filter(r=>Ro(r,{strict:!0})).map(r=>Bi(r));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(r=>r.type=="wallet"&&e.includes(r.address)).length)};let J4e=x.createContext({plugins:{current:{}}});const B7t=({children:t})=>{let e=x.useRef({});return d.jsx(J4e.Provider,{value:{plugins:e},children:t})},YG=()=>{let{plugins:t}=x.useContext(J4e);return x.useCallback(e=>t.current[e],[t])},X4e=Symbol("solana-ledger-plugin"),L7t=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>d.jsx(Rn,{title:t,subtitle:e,icon:Rq,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i==null||i()}},watermark:!0}),kN={component:()=>{let{navigate:t,app:e}=lt(),n=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",r=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return d.jsx(L7t,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Lo)}})}},F7t=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=x.useMemo(()=>{switch(t){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),c=x.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return d.jsx(Rn,{icon:t==="loading"||t==="ready"?void 0:t==="success"?YA:$$,iconVariant:c,title:e,subtitle:n,primaryCta:l,watermark:!0})},_d={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=lt(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=dl(),c=x.useRef([]),u=N=>{c.current=[N,...c.current]},[h,f]=x.useState(!0);x.useEffect(()=>(u(setTimeout(f,1e3,!1)),()=>{c.current.forEach(N=>clearTimeout(N)),c.current=[]}),[]);let[p,m]=x.useState(""),[g,y]=x.useState("Checking that you are a human..."),[w,v]=x.useState(!1),[b,A]=x.useState(3),E=e==null?void 0:e.captchaModalData,$=async N=>{try{await(E==null?void 0:E.callback(N)),E!=null&&E.onSuccessNavigateTo&&n(E==null?void 0:E.onSuccessNavigateTo,!1)}catch(R){if(R instanceof aN)return;r({errorModalData:{error:R,previousScreen:t||Lo}}),n((E==null?void 0:E.onErrorNavigateTo)||Kr,!1)}};return x.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let N=await o();!N||E!=null&&E.userIntentRequired||$(N)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&l()},500))},[i]),x.useEffect(()=>{if(!h)switch(i){case"success":m("Success!"),y("CAPTCHA passed successfully."),E!=null&&E.userIntentRequired||setTimeout(()=>{v(!0),$(s)},2e3);break;case"loading":m(""),y("Checking that you are a human...");break;case"error":m("Something went wrong"),y(b<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,h,w]),d.jsx(F7t,{status:i,title:p,description:g,userIntentRequired:E==null?void 0:E.userIntentRequired,retriesRemaining:b,hasSelectedCta:w,onContinue:()=>{v(!0),$(s)},onRetry:async()=>{if(b<=0)return;A(R=>R-1),a(),l();let N=await o();!N||E!=null&&E.userIntentRequired||$(N)}})}},U7t=t=>d.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:d.jsx("g",{children:d.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),z7t=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>d.jsx(Rn,{title:n,subtitle:d.jsx(V7t,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:d.jsxs(H7t,{children:[d.jsx(Y6e,{style:{width:"48px",height:"48px"}}),d.jsx(wht,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),d.jsx(U7t,{style:{width:"48px",height:"48px"}})]})}),W7t={component:function(){let{data:t,setModalData:e,navigate:n}=lt();return d.jsx(z7t,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),n(Ip)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),n(Ip)}})}};let H7t=X.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),V7t=X.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const q7t=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),G7t=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>d.jsx(Rn,{title:t,subtitle:e,icon:q7t,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),pC={component:()=>{let{navigate:t}=lt();return d.jsx(G7t,{onGoBack:()=>{t(Lo)}})}},eEe=t=>(t==null?void 0:t.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER?Ly.ERROR_USER_EXISTS:t instanceof xo&&!t.details.default?t.details:t instanceof V6e?Ly.ERROR_TIMED_OUT:(t==null?void 0:t.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE?Ly.ERROR_USER_LIMIT_REACHED:Ly.ERROR_WALLET_CONNECTION,K7t=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:c,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:f,onBack:p,onSign:m,onRetry:g,onCoinbaseReset:y,onDifferentWallet:w})=>{let v=h?{label:"Use a different wallet",onClick:y,disabled:r}:i===Ly.ERROR_USER_EXISTS&&p?{label:"Use a different wallet",onClick:w}:s&&!r&&o?{label:a?"Signing":"Sign with your wallet",onClick:m,disabled:a}:!r&&(i!=null&&i.retryable)&&f<2?{label:"Retry",onClick:g,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return d.jsx(Rn,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:v,onBack:p,watermark:!0,children:!s&&l&&!u&&d.jsxs(Y7t,{children:["Still here?"," ",d.jsx(t3,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),c&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx(t3,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},Ip={component:()=>{var be,Ue,Me,Se,xe,Ne,Be,Ce,De,Ve,rt,K,U,z,ee;let t,[e,n]=x.useState(!1),[r,i]=x.useState(!1),[s,o]=x.useState(void 0),{authenticated:a,logout:l}=Sn(),{app:c,navigate:u,navigateBack:h,lastScreen:f,currentScreen:p,setModalData:m,data:g}=lt(),{getAuthFlow:y,walletConnectionStatus:w,closePrivyModal:v,initLoginWithWallet:b,loginWithWallet:A,updateWallets:E,createAnalyticsEvent:$}=st(),{walletConnectors:N}=Sn(),[R,M]=x.useState(0),{user:F}=Sn(),W=YG(),[V]=x.useState((F==null?void 0:F.linkedAccounts.length)||0),[B,k]=x.useState(""),[C,S]=x.useState(""),[T,_]=x.useState(!1),{hasTabbedAway:P}=function(){let[ne,se]=x.useState(!1),ce=x.useCallback(()=>{document.hidden&&se(!0)},[]);return x.useEffect(()=>(document.addEventListener("visibilitychange",ce),()=>document.removeEventListener("visibilitychange",ce)),[ce]),{hasTabbedAway:ne,reset:()=>se(!1)}}(),{enabled:D,token:j}=dl(),I=Dg(((be=w==null?void 0:w.connector)==null?void 0:be.walletClientType)||"unknown"),L=Cr&&((Ue=w==null?void 0:w.connector)==null?void 0:Ue.connectorType)==="wallet_connect_v2"||Cr&&((Me=w==null?void 0:w.connector)==null?void 0:Me.connectorType)==="coinbase_wallet"||Cr&&((Se=w==null?void 0:w.connector)==null?void 0:Se.connectorType)==="base_account"||Cr&&((xe=w==null?void 0:w.connector)==null?void 0:xe.connectorType)==="injected"&&((Ne=w==null?void 0:w.connector)==null?void 0:Ne.walletClientType)==="phantom"||Cr&&((Be=w==null?void 0:w.connector)==null?void 0:Be.connectorType)==="solana_adapter"&&w.connector.walletClientType==="mobile_wallet_adapter",J=(w==null?void 0:w.status)==="connected",O=(w==null?void 0:w.status)==="switching_to_supported_chain";x.useEffect(()=>{var ce,Le,Xe,Ye,et,Re;let ne=y(),se=ne instanceof r2||ne instanceof L7?ne:void 0;J&&((ce=w.connector)==null?void 0:ce.chainType)==="solana"&&((Le=w.connector)==null?void 0:Le.walletClientType)==="phantom"&&W(X4e)&&((Xe=g==null?void 0:g.login)==null?void 0:Xe.isSigningInWithLedgerSolana)===void 0?u(W7t,!1):(J&&!se&&(!D||j||a?b(w.connectedWallet,j,(Ye=g==null?void 0:g.login)==null?void 0:Ye.disableSignup,(et=g==null?void 0:g.login)!=null&&et.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{_(!0)}):(m({captchaModalData:{callback:Tt=>{var dn,Bt;return b(w.connectedWallet,Tt,(dn=g==null?void 0:g.login)==null?void 0:dn.disableSignup,(Bt=g==null?void 0:g.login)!=null&&Bt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{_(!0)})},userIntentRequired:!1,onSuccessNavigateTo:Ip,onErrorNavigateTo:Kr}}),u(_d,!1))),se instanceof L7&&((Re=g==null?void 0:g.login)!=null&&Re.isSigningInWithLedgerSolana)&&(se.messageType="transaction"),se&&L&&J&&!se.preparedMessage?se.buildMessage():se&&!L&&J&&(r||(async()=>{var Tt,dn;i(!0),o(void 0);try{((Tt=w==null?void 0:w.connector)==null?void 0:Tt.connectorType)==="wallet_connect_v2"&&((dn=w==null?void 0:w.connector)==null?void 0:dn.walletClientType)==="metamask"&&await F7(2500),await Z()}catch(Bt){console.warn("Auto-prompted signature failed",Bt)}finally{i(!1)}})()))},[R,J,T]),x.useEffect(()=>{if(F&&e){let ne=900;if(c!=null&&c.legal.requireUsersAcceptTerms&&!F.hasAcceptedTerms){let ce=setTimeout(()=>{u(Yw)},ne);return()=>clearTimeout(ce)}if(Ug(F,c.embeddedWallets)){let ce=setTimeout(()=>{m({createWallet:{onSuccess:()=>{},onFailure:Le=>{console.error(Le),$({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Le,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(a0)},ne);return()=>clearTimeout(ce)}E();let se=setTimeout(()=>v({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return()=>clearTimeout(se)}},[F,e]);let G=ne=>{var se,ce,Le,Xe,Ye,et,Re,Tt,dn,Bt,He,Ln,En,ot;if((ne==null?void 0:ne.privyErrorCode)!==pe.ALLOWLIST_REJECTED){if((ne==null?void 0:ne.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new WA(ne).toString()),void u(pC);if((ne==null?void 0:ne.privyErrorCode)!==pe.USER_DOES_NOT_EXIST)return(ne==null?void 0:ne.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((ce=(se=ne.data)==null?void 0:se.data)!=null&&ce.nonce)?(m({accountTransfer:{nonce:(Xe=(Le=ne.data)==null?void 0:Le.data)==null?void 0:Xe.nonce,account:(Ye=y())==null?void 0:Ye.meta.address,displayName:(Tt=(Re=(et=ne.data)==null?void 0:et.data)==null?void 0:Re.account)==null?void 0:Tt.displayName,externalWalletMetadata:{walletClientType:(dn=y())==null?void 0:dn.meta.walletClientType,chainId:(Bt=y())==null?void 0:Bt.meta.chainId,connectorType:(He=y())==null?void 0:He.meta.connectorType},linkMethod:y()instanceof r2?"siwe":"siws",embeddedWalletAddress:(ot=(En=(Ln=ne.data)==null?void 0:Ln.data)==null?void 0:En.otherUser)==null?void 0:ot.embeddedWalletAddress}}),void u(Kw)):void o(eEe(ne));u(hC)}else u(kN)};async function Z(){try{await A(),n(!0)}catch(ne){G(ne)}finally{i(!1)}}x.useEffect(()=>{w!=null&&w.connectError&&G(w==null?void 0:w.connectError)},[w]),((ne,se)=>{let ce=x.useRef(()=>{});x.useEffect(()=>{ce.current=ne}),x.useEffect(()=>{if(se!==null){let Le=setInterval(()=>ce.current(),se||0);return()=>clearInterval(Le)}},[se])})(()=>{let ne=Q==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof s2?w.connector.redirectUri:void 0;ne&&k(ne);let se=Q==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof s2?w.connector.fallbackUniversalRedirectUri:void 0;se&&S(se)},(w==null?void 0:w.connector)instanceof s2&&!B?500:null);let Q=((Ce=w==null?void 0:w.connector)==null?void 0:Ce.connectorType)||"injected",ie=((De=w==null?void 0:w.connector)==null?void 0:De.walletClientType)||"unknown",de=((Ve=I==null?void 0:I.metadata)==null?void 0:Ve.shortName)||(I==null?void 0:I.name)||((rt=w==null?void 0:w.connector)==null?void 0:rt.walletBranding.name)||"Browser Extension",oe=((K=I==null?void 0:I.image_url)==null?void 0:K.md)||((U=w==null?void 0:w.connector)==null?void 0:U.walletBranding.icon)||(ne=>d.jsx(TG,{...ne})),he=de==="Browser Extension"?de.toLowerCase():de;t=e?`Successfully connected with ${he}`:s?s.message:O?"Switching networks":J?r&&L?"Signing":"Sign to verify":`Waiting for ${he}`;let we="Dont see your wallet? Check your other browser windows.";e?we=V===((F==null?void 0:F.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?we="Unable to connect wallet":s?we=s.detail:O?we="Switch your wallet to the requested network.":J&&L?we="Sign the message in your wallet to verify it belongs to you.":ie==="metamask"&&Cr?we="Click continue to open and connect MetaMask.":ie==="metamask"?we="For the best experience, connect only one wallet at a time.":Q==="wallet_connect"?we="Open your mobile wallet app to continue":Q==="coinbase_wallet"?B6e()||(we=uoe(F)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(z=g==null?void 0:g.login)!=null&&z.isSigningInWithLedgerSolana&&(we="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let fe=(ee=N==null?void 0:N.walletConnectors)==null?void 0:ee.find(ne=>ne.walletClientType==="coinbase_wallet"),ke=ie==="coinbase_wallet"&&(uoe(F)||s===Ly.ERROR_USER_EXISTS);return d.jsx(K7t,{walletLogo:oe,title:t,subtitle:we,signSuccess:e,errorMessage:s,connectSuccess:J,separateConnectAndSign:L,signing:r,walletConnectRedirectUri:B,walletConnectFallbackUniversalUri:C,hasTabbedAway:P,showCoinbaseWalletResetCta:ke,numRetries:R,onBack:f&&p!==f?h:void 0,onSign:()=>{i(!0),Z()},onRetry:()=>{M(R+1),o(void 0),J?(i(!0),Z()):w==null||w.connectRetry()},onCoinbaseReset:()=>{fe&&(fe==null||fe.disconnect())},onDifferentWallet:h})}};let Y7t=X.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-3c9a580-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const mS={component:()=>{var p,m,g,y,w,v;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=st(),{app:r,data:i,navigate:s}=lt(),o=Gw(),a=(p=i==null?void 0:i.externalConnectWallet)==null?void 0:p.description,l=x.useRef(((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.walletList)??r.appearance.walletList),c=x.useRef(((g=i==null?void 0:i.externalConnectWallet)==null?void 0:g.walletChainType)??r.appearance.walletChainType),u=l.current,h=c.current,f=n.current==="link"?void 0:()=>s(Lo);return d.jsx(Z4e,{walletList:u,walletChainType:h,onClose:e,onConnect:x.useCallback(({connector:b,wallet:A})=>{var E;o("connectWallet","onSuccess",{wallet:A}),t({status:"connected",connectedWallet:A,connector:b,connectError:null,connectRetry:()=>null}),s(Ip,!((E=i==null?void 0:i.externalConnectWallet)!=null&&E.preSelectedWalletId))},[t,s,(y=i==null?void 0:i.login)==null?void 0:y.disableSignup,(w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.preSelectedWalletId]),onConnectError:b=>{b instanceof Do?(console.warn(b.cause?b.cause:b.message),o("connectWallet","onError",b.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(b),o("connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:f,customDescription:a||"",preSelectedWalletId:(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId,app:r})},isUnauthenticatedScreem:!0},kU={component:()=>{var a,l,c;let{closePrivyModal:t}=st(),{app:e,data:n}=lt(),r=Gw(),i=(a=n==null?void 0:n.externalConnectWallet)==null?void 0:a.description,s=x.useRef(((l=n==null?void 0:n.externalConnectWallet)==null?void 0:l.walletList)??e.appearance.walletList),o=x.useRef(((c=n==null?void 0:n.externalConnectWallet)==null?void 0:c.walletChainType)??e.appearance.walletChainType);return d.jsx(Z4e,{walletList:s.current,walletChainType:o.current,onClose:()=>{r("connectWallet","onError",pe.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:u})=>{r("connectWallet","onSuccess",{wallet:u}),t()},onConnectError:u=>{u instanceof Do?(console.warn(u.cause?u.cause:u.message),r("connectWallet","onError",u.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(u),r("connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:i,app:e})},isUnauthenticatedScreem:!0},doe=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(L9t,{$withPadding:e,children:d.jsxs(F9t,{children:[d.jsx(t2,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")};let Q7t=Hbe(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const SN=ls(["",""],t=>t.$isLoading?ls(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],Q7t):""),tf=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>d.jsx(Z7t,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let Z7t=X.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=Hbe(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return ls(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&ls(["animation:"," 3s linear infinite;"],r))},SN);const I1=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),d.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[d.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),d.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),d.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),d.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1960",children:d.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),tEe=t=>{let[e,n]=x.useState(!1);return d.jsx(J7t,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout(()=>n(!1),1500)},justOpened:e,children:t.text})};let J7t=X.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const QG=X.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let X7t=X.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),eIt=X.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),tIt=X.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),nEe=X.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),nIt=X(nEe).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),rIt=X(QG).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),iIt=X(kd).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const sIt=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,c]=x.useState(!1),u=s&&t?((h,f,p)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=p)return h;if(f==="middle"){let m=Math.ceil(p/2)-2,g=Math.floor(p/2)-1;return`${h.slice(0,m)}...${h.slice(-g)}`}return`${h.slice(0,p-3)}...`})(t,s,o):t;return x.useEffect(()=>{if(l){let h=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(h)}},[l]),d.jsxs(X7t,{className:r,children:[e&&d.jsx(rIt,{children:e}),d.jsxs(eIt,{$disabled:a,children:[d.jsx(tIt,{children:t?d.jsx(nEe,{$disabled:a,title:t,children:u}):d.jsx(nIt,{$disabled:a,children:n||"No value"})}),i&&t&&d.jsx(iIt,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then(()=>c(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,l?{children:["Copied",d.jsx(XE,{size:14})]}:{children:["Copy",d.jsx(m7,{size:14})]})})]})]})},oIt=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:o})=>d.jsx(Rn,Cr||e?VH?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:t&&Cr&&d.jsx(aIt,{children:d.jsx(tEe,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:d.jsxs(lIt,{children:[d.jsx(cIt,{children:t?d.jsx(fC,{url:t,size:275,squareLogoElement:I1}):d.jsx(hIt,{children:d.jsx(iu,{})})}),d.jsxs(uIt,{children:[d.jsx(dIt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&d.jsx(sIt,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),SU={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=lt(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:f}=st(),[p,m]=x.useState(void 0),[g,y]=x.useState(!1),[w,v]=x.useState(!1),b=x.useRef([]),A=c(),E=A==null?void 0:A.meta.connectUri;return x.useEffect(()=>{let $=Date.now(),N=setInterval(async()=>{var F,W,V,B,k,C,S,T,_,P,D,j,I,L,J;let R=await A.pollForReady.execute(),M=Date.now()-$;if(R){clearInterval(N),y(!0);try{await u(),v(!0)}catch(O){let G={retryable:!1,message:"Authentication failed"};if((O==null?void 0:O.privyErrorCode)===pe.ALLOWLIST_REJECTED)return void s(kN);if((O==null?void 0:O.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new WA(O).toString()),void s(pC);if((O==null?void 0:O.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return void s(hC);if((O==null?void 0:O.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER)G.detail=O.message??"This account has already been linked to another user.";else{if((O==null?void 0:O.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((W=(F=O.data)==null?void 0:F.data)!=null&&W.nonce))return a({accountTransfer:{nonce:(B=(V=O.data)==null?void 0:V.data)==null?void 0:B.nonce,account:(C=(k=O.data)==null?void 0:k.data)==null?void 0:C.subject,displayName:(_=(T=(S=O.data)==null?void 0:S.data)==null?void 0:T.account)==null?void 0:_.displayName,linkMethod:"farcaster",embeddedWalletAddress:(j=(D=(P=O.data)==null?void 0:P.data)==null?void 0:D.otherUser)==null?void 0:j.embeddedWalletAddress,farcasterEmbeddedAddress:(J=(L=(I=O.data)==null?void 0:I.data)==null?void 0:L.otherUser)==null?void 0:J.farcasterEmbeddedAddress}}),void s(Kw);(O==null?void 0:O.privyErrorCode)===pe.INVALID_CREDENTIALS?(G.retryable=!0,G.detail="Something went wrong. Try again."):(O==null?void 0:O.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(G.detail="Too many requests. Please wait before trying again.")}m(G)}}else M>12e4&&(clearInterval(N),m({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(N),b.current.forEach(R=>clearTimeout(R))}},[]),x.useEffect(()=>{if(n&&t&&w&&r){if(l!=null&&l.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let $=setTimeout(()=>{s(Yw)},Wr);return()=>clearTimeout($)}w&&(Ug(r,l.embeddedWallets)?b.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:$=>{console.error($),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:$,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(a0)},Wr)):b.current.push(setTimeout(()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr)))}},[w,n,t,r]),d.jsx(oIt,{connectUri:E,loading:g,success:w,errorMessage:p,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{E&&(window.location.href=E)}})}};let aIt=X.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),lIt=X.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),cIt=X.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),uIt=X.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),dIt=X.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),hIt=X.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const rEe=()=>{let[t,e]=x.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=lt(),{enabled:o,token:a}=dl(),{initLoginWithFarcaster:l}=st(),{accountType:c}=Fg();return d.jsxs(Gr,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:h=>{var f;return l(h,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:SU,onErrorNavigateTo:Kr}}),r(_d)):(await l(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),r(SU))}catch(h){i({errorModalData:{error:h,previousScreen:n||Lo}}),r(Kr)}finally{e(!1)}},disabled:!1,children:[d.jsx(I1,{width:32,height:32})," Farcaster",t&&d.jsx(Bg,{}),c==="farcaster"&&d.jsx(fIt,{color:"gray",children:"Recent"})]})};let fIt=X(tf).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const pIt=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>d.jsx(Rn,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:d.jsx(mIt,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Do){if(n.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===pe.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:g7,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),Sv={component:()=>{let{app:t,data:e,setModalData:n,navigate:r}=lt(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=st(),{user:l,logout:c}=Sn(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[h,f]=x.useState("loading"),[p,m]=x.useState(null),g=x.useRef([]),y=v=>{g.current=[v,...g.current]};x.useEffect(()=>()=>{g.current.forEach(v=>clearTimeout(v)),g.current=[]},[]);let w=async()=>{f("loading");try{u?await s():await i(),f("success")}catch(v){m(v),f("error")}};return x.useEffect(()=>{if(h==="success"&&l){if(t!=null&&t.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void y(setTimeout(()=>{r(Yw)},900));if(!Ug(l,t==null?void 0:t.embeddedWallets))return void y(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},Wr));y(setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:v=>{console.error(v),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:v,screen:"PasskeyStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(a0)},900))}},[l,h]),x.useEffect(()=>{w()},[]),d.jsx(pIt,{status:h,passkeySignupFlow:u,error:p,onRetry:w})}};let mIt=X.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const gIt=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>d.jsx(Rn,{title:t,subtitle:e,icon:g7,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),yIt={component:()=>{let{enabled:t,token:e}=dl(),{navigate:n,setModalData:r}=lt(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=st();return d.jsx(gIt,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Sv,onErrorNavigateTo:Kr}}),n(_d)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(Sv))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Sv,onErrorNavigateTo:Kr}}),n(_d)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Sv))}})}},iEe=()=>{let{enabled:t,token:e}=dl(),{navigate:n,setModalData:r,app:i,data:s}=lt(),{initLoginWithPasskey:o}=st(),a=()=>{i.loginConfig.passkeysForSignupEnabled?n(yIt):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Sv,onErrorNavigateTo:Kr}}),n(_d)):(await o({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Sv)))()};return x.useMemo(()=>{var c;let l=(c=s==null?void 0:s.login)==null?void 0:c.loginMethods;return l?l.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,h])=>h).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?d.jsxs(Gr,{onClick:a,children:[d.jsx(Pq,{})," Continue with passkey"]}):d.jsx(t3,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},wIt=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:Jrt.map(n=>d.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code))}),_N=x.forwardRef((t,e)=>{let{app:n}=lt(),[r,i]=x.useState(!1),{accountType:s}=Fg(),[o,a]=x.useState(""),[l,c]=x.useState((n==null?void 0:n.intl.defaultCountry)??"US"),u=gk(o,l),h=Zrt(l),f=Xrt(l),p=aq(l),m=!u,[g,y]=x.useState(!1),w=p.length,v=E=>{let $=E.target.value;c($),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:vj(o,$),countryCode:$,isValid:gk(o,l)})},b=(E,$)=>{try{let N=E.replace(/\D/g,"")===o.replace(/\D/g,"")?E:h.input(E);a(N),t.onChange&&t.onChange({rawPhoneNumber:N,qualifiedPhoneNumber:vj(E,$),countryCode:$,isValid:gk(E,$)})}catch(N){console.error("Error processing phone number:",N)}},A=()=>{y(!0);let E=vj(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:E,countryCode:l,isValid:gk(o,l)}).finally(()=>y(!1))};return x.useEffect(()=>{if(t.defaultValue){let E=eit(t.defaultValue);h.reset(),v({target:{value:E.countryCode}}),b(E.phone,E.countryCode)}},[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(bIt,{children:d.jsxs(vIt,{$callingCodeLength:w,$stacked:t.stacked,children:[d.jsx(wIt,{value:l,onChange:v}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:f,onFocus:()=>i(!0),onChange:E=>{b(E.target.value,l)},onKeyUp:E=>{E.key==="Enter"&&A()},value:o,autoComplete:"tel"}),s!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(dN,{isSubmitting:g,onClick:A,disabled:m,children:"Submit"}):d.jsx(tf,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(pr,{loading:g,loadingText:null,onClick:A,disabled:m,children:"Submit"}):null]})});let bIt=X.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),vIt=X.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const sEe=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=x.useRef(null),{authenticated:i}=Sn(),{navigate:s,setModalData:o,currentScreen:a,data:l}=lt(),{initLoginWithSms:c}=st(),{enabled:u,token:h}=dl(),{whatsAppEnabled:f}=Fn();return d.jsxs(d.Fragment,{children:[d.jsx(e3,{$if:!t,children:d.jsx(_N,{ref:r,onSubmit:async function({qualifiedPhoneNumber:p}){var m;if(!u||h||i)try{await c({phoneNumber:p,captchaToken:h,withPrivyUi:!0,disableSignup:(m=l==null?void 0:l.login)==null?void 0:m.disableSignup}),s(Xp)}catch(g){o({errorModalData:{error:g,previousScreen:a||Lo}}),s(Kr)}else o({captchaModalData:{callback:g=>{var y;return c({phoneNumber:p,captchaToken:g,withPrivyUi:!0,disableSignup:(y=l==null?void 0:l.login)==null?void 0:y.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:Xp,onErrorNavigateTo:Kr}}),s(_d)},defaultValue:n})}),d.jsx(e3,{$if:t,children:d.jsxs(Gr,{onClick:()=>{e(),setTimeout(()=>{var p;(p=r.current)==null||p.focus()},0)},children:[d.jsx(Gh,{children:d.jsx(v2e,{})}),"Continue with ",f?"WhatsApp":"SMS"]})})]})};let xIt={apple:{logo:S6e,displayName:"Apple"},discord:{logo:_6e,displayName:"Discord"},github:{logo:I6e,displayName:"GitHub"},google:{logo:T6e,displayName:"Google"},linkedin:{logo:P6e,displayName:"LinkedIn"},spotify:{logo:R6e,displayName:"Spotify"},instagram:{logo:$6e,displayName:"Instagram"},twitter:{logo:O6e,displayName:"Twitter"},tiktok:{logo:j6e,displayName:"TikTok"},line:{logo:N6e,displayName:"LINE"}};const Fi=({provider:t})=>{let{enabled:e,token:n}=dl(),{navigate:r,setModalData:i,data:s}=lt(),[o,a]=x.useState(!1),{initLoginWithOAuth:l}=st(),{accountType:c}=Fg(),u=x.useMemo(()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?AN(c):null,[c]),{displayName:h,logo:f}=xIt[t];return d.jsxs(Gr,{onClick:()=>{var p;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!n?(i({captchaModalData:{callback:m=>{var g;return l(t,m,(g=s==null?void 0:s.login)==null?void 0:g.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Kr}}),r(_d)):l(t,void 0,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},disabled:o,children:[d.jsx(Gh,{$fullSize:!0,children:d.jsx(f,{style:{width:"32px",height:"32px"}})}),h,(u==null?void 0:u.loginMethod)===t&&d.jsx(EIt,{color:"gray",children:"Recent"})]})};let EIt=X(tf).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function oEe(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[d.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),d.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),d.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),d.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const AIt=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return d.jsx(Rn,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:oEe,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},gS={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=lt(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m,getAuthMeta:g}=st(),[y,w]=x.useState(!1),[v,b]=x.useState(void 0),A=dl();async function E(){var $,N,R,M,F,W,V,B,k,C,S,T,_,P;try{let D=await async function(){let j;if(!t){if(A.enabled&&A.status==="error")throw new aN(A.error,null,pe.CAPTCHA_FAILURE);return A.enabled&&A.status!=="success"&&(A.execute(),j=await A.waitForResult()),j}}();await u({captchaToken:D}),w(!0),f(!0)}catch(D){if((D==null?void 0:D.privyErrorCode)===pe.ALLOWLIST_REJECTED)return b(void 0),a(),void o(kN);if((D==null?void 0:D.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new WA(D).toString()),b(void 0),a(),void o(pC);if((D==null?void 0:D.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(hC);if((D==null?void 0:D.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((N=($=D.data)==null?void 0:$.data)!=null&&N.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(M=(R=D.data)==null?void 0:R.data)==null?void 0:M.nonce,account:(W=(F=D.data)==null?void 0:F.data)==null?void 0:W.subject,telegramAuthResult:(V=g())==null?void 0:V.telegramAuthResult,telegramWebAppData:(B=g())==null?void 0:B.telegramWebAppData,displayName:(S=(C=(k=D.data)==null?void 0:k.data)==null?void 0:C.account)==null?void 0:S.displayName,linkMethod:"telegram",embeddedWalletAddress:(P=(_=(T=D.data)==null?void 0:T.data)==null?void 0:_.otherUser)==null?void 0:P.embeddedWalletAddress}}),void o(Kw);let{retryable:j,detail:I}=Kse(D);b({retryable:j,detail:I,message:"Authentication failed"})}}return x.useEffect(()=>{E()},[]),x.useEffect(()=>{if(!(n&&t&&y&&r))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let N=setTimeout(()=>{o(Yw)},Wr);return()=>clearTimeout(N)}if(Ug(r,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(a0)},Wr);return()=>clearTimeout(N)}h();let $=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return()=>clearTimeout($)},[n,t,y,r]),d.jsx(AIt,{success:y,errorMessage:v,onRetry:v!=null&&v.retryable?async()=>{var $,N;try{b(void 0),($=l==null?void 0:l.telegramAuthModalData)!=null&&$.seamlessAuth||await c(void 0,(N=l==null?void 0:l.login)==null?void 0:N.disableSignup),await E()}catch(R){let{retryable:M,detail:F}=Kse(R);b({retryable:M,detail:F,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},aEe=()=>{let{enabled:t,token:e}=dl(),{navigate:n,setModalData:r,data:i}=lt(),[s,o]=x.useState(!1),{initLoginWithTelegram:a}=st(),{accountType:l}=Fg();async function c(u){var h;try{await a(u,(h=i==null?void 0:i.login)==null?void 0:h.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(gS)}catch(f){console.error(f),o(!1)}}return d.jsxs(Gr,{onClick:async function(){if(o(!0),t&&!e)return r({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Kr}}),void n(_d);await c(e)},disabled:s,children:[d.jsx(oEe,{width:32,height:32}),"Telegram",l==="telegram"&&d.jsx(CIt,{color:"gray",children:"Recent"})]})};let CIt=X(tf).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const lEe=({onClick:t,text:e})=>d.jsxs(Gr,{onClick:t,children:[d.jsx(Gh,{children:d.jsx(_ht,{})}),d.jsx(Xx,{children:e})]}),cEe=({onClick:t,text:e,icon:n})=>d.jsxs(Gr,{onClick:t,children:[d.jsx(Gh,{children:n}),d.jsx(Xx,{children:e})]}),uEe=({connectOnly:t})=>{var Be;let{closePrivyModal:e}=st(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=lt(),o=Fn(),a=n==null?void 0:n.login,l=o.appearance.walletList,c=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:f}=Fg(),{wallets:p}=Y4e({walletList:l,walletChainType:c}),m=x.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?AN(u):null,[u]),{email:g,sms:y,google:w,twitter:v,discord:b,github:A,spotify:E,instagram:$,tiktok:N,line:R,linkedin:M,apple:F,wallet:W,farcaster:V,telegram:B}=x.useMemo(()=>a!=null&&a.loginMethods?tit(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:k}=o.loginMethods,C=[g&&"email",y&&"sms",w&&"google",v&&"twitter",b&&"discord",A&&"github",E&&"spotify",$&&"instagram",N&&"tiktok",R&&"line",M&&"linkedin",F&&"apple",V&&"farcaster",B&&"telegram"].filter(Ce=>!!Ce),S=C.length>0,T=x.useMemo(()=>W&&!S?"web3-first":W&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[W,S,o==null?void 0:o.appearance.loginGroupPriority]),_=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[P,D]=x.useState("default"),[j,I]=x.useState(q7({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:g,prefilledType:(Be=a==null?void 0:a.prefill)==null?void 0:Be.type}));x.useEffect(()=>{var Ce;I(q7({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:g,prefilledType:(Ce=a==null?void 0:a.prefill)==null?void 0:Ce.type}))},[g,y,u]);let L=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{D("default")},150)};i.current=L;let J=[];h&&W?J.push(h):m!=null&&m.loginMethod&&C.includes(m.loginMethod)&&J.push(m.loginMethod);let O=Ce=>{var rt,K;if(Ce==="email")return d.jsx(fEe,{isEditable:j==="email",setIsEditable:()=>{I("email")},defaultValue:((rt=a==null?void 0:a.prefill)==null?void 0:rt.type)==="email"?a.prefill.value:void 0},Ce);if(Ce==="sms")return d.jsx(sEe,{isEditable:j==="sms",setIsEditable:()=>{I("sms")},defaultValue:((K=a==null?void 0:a.prefill)==null?void 0:K.type)==="phone"?a.prefill.value:void 0},Ce);if(Ce==="apple")return d.jsx(Fi,{provider:"apple"},Ce);if(Ce==="discord")return d.jsx(Fi,{provider:"discord"},Ce);if(Ce==="farcaster")return d.jsx(rEe,{},Ce);if(Ce==="github")return d.jsx(Fi,{provider:"github"},Ce);if(Ce==="google")return d.jsx(Fi,{provider:"google"},Ce);if(Ce==="linkedin")return d.jsx(Fi,{provider:"linkedin"},Ce);if(Ce==="tiktok")return d.jsx(Fi,{provider:"tiktok"},Ce);if(Ce==="line")return d.jsx(Fi,{provider:"line"},Ce);if(Ce==="spotify")return d.jsx(Fi,{provider:"spotify"},Ce);if(Ce==="instagram")return d.jsx(Fi,{provider:"instagram"},Ce);if(Ce==="twitter")return d.jsx(Fi,{provider:"twitter"},Ce);if(Ce==="telegram")return d.jsx(aEe,{},Ce);let De=p.findIndex(({id:U})=>U===jl.normalize(Ce)),Ve=f==="solana"?"solana-only":"ethereum-only";return d.jsx(CU,{recent:!0,index:De,data:{wallets:p,walletChainType:Ve,handleWalletClick(U){r(z=>({...z,externalConnectWallet:{walletList:l,walletChainType:Ve,preSelectedWalletId:U.id}})),s(t?kU:mS)}}})},G=p.filter(Ce=>Ce.id!==jl.normalize(h||"")),Z=G.map((Ce,De)=>d.jsx(CU,{index:De,data:{walletChainType:c,wallets:G,handleWalletClick(Ve){r(rt=>({...rt,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:Ve.id}})),s(t?kU:mS)}}},Ce.id)),Q=C.filter(Ce=>Ce!==(m==null?void 0:m.loginMethod)).flatMap(O),ie=J.flatMap(O);T==="web3-first"&&P==="default"?Z.unshift(...ie):T==="web2-first"&&Q.unshift(...ie);let de=P==="web2-overflow"?()=>D("default"):void 0,oe=C.filter(Ce=>Ce!=="email"&&Ce!=="sms"),he=_It({priority:T,email:g,sms:y,social:oe}),we=IIt({priority:T,email:g,sms:y,social:oe}),fe=d.jsx(lEe,{text:TIt({priority:T}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(mS)}}),ke=d.jsx(cEe,{text:he,icon:we,onClick:()=>D("web2-overflow")}),be=_?0:1,Ue=W&&Z.length>0,Me=Q.length===0&&W&&Z.length===0,Se=5-(Ue?1:0),xe=P==="default"&&(o==null?void 0:o.appearance.logo),Ne=P==="default"&&o.appearance.loginMessage;return d.jsxs(Rn,{title:o.appearance.landingHeader,icon:xe?d.jsx(D4e,{}):void 0,iconVariant:xe?"logo":void 0,onClose:L,showClose:!0,onBack:de,showBack:!!de,helpText:o||k&&P==="default"?d.jsxs(d.Fragment,{children:[k&&P==="default"&&d.jsx(iEe,{}),o&&d.jsx(RG,{app:o})]}):void 0,watermark:!0,children:[Ne&&(typeof o.appearance.loginMessage=="string"?d.jsx(kIt,{children:o.appearance.loginMessage}):d.jsx(SIt,{children:o.appearance.loginMessage})),d.jsx(s4e,{$colorScheme:o.appearance.palette.colorScheme,children:P==="default"&&T==="web2-first"?d.jsxs(d.Fragment,{children:[Q.length>Se?Q.slice(0,Se-1):Q,Q.length>Se&&ke,Ue&&fe,Me&&d.jsx(doe,{chainType:o.appearance.walletChainType})]}):P==="default"&&T==="web3-first"?d.jsxs(d.Fragment,{children:[W&&d.jsxs(d.Fragment,{children:[Z.length>Se?Z.slice(0,Se-1):Z,Z.length>Se&&fe]}),Q.length>be&&ke,Q.length===be&&Q[0],Me&&d.jsx(doe,{chainType:o.appearance.walletChainType})]}):P==="web2-overflow"?d.jsx(d.Fragment,{children:T==="web3-first"?Q:Q.slice(3)}):null})]})};let kIt=X.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),SIt=X.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),_It=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",IIt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?d.jsx(xht,{}):e&&n?d.jsx(D7t,{}):e?d.jsx(jq,{}):n?d.jsx(v2e,{}):null,TIt=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const q7=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",dEe={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(yEe,{connectOnly:!0}):d.jsx(uEe,{connectOnly:!0})}},$It=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:c=0,onInvalidInput:u,onClearError:h})=>{let[f,p]=x.useState(foe);x.useEffect(()=>{a||p(foe)},[a]);let m=async g=>{var E;g.preventDefault();let y=g.currentTarget.value.replace(" ","");if(y==="")return;if(isNaN(Number(y)))return void(u==null?void 0:u("Code should be numeric"));h==null||h();let w=Number((E=g.currentTarget.name)==null?void 0:E.charAt(5)),v=[...y||[""]].slice(0,hoe-w),b=[...f.slice(0,w),...v,...f.slice(w+v.length)];p(b);let A=Math.min(Math.max(w+v.length,0),hoe-1);if(!isNaN(Number(g.currentTarget.value))){let $=document.querySelector(`input[name=code-${A}]`);$==null||$.focus()}if(b.every($=>$&&!isNaN(+$))){let $=document.querySelector(`input[name=code-${A}]`);$==null||$.blur(),await(s==null?void 0:s(b.join("")))}};return d.jsx(Rn,{title:"Enter confirmation code",subtitle:d.jsxs("span",e==="email"?{children:["Please check ",d.jsx(poe,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(poe,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?T$:bg,onBack:i,showBack:!0,helpText:d.jsxs(MIt,{children:[d.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),c?d.jsxs(DIt,{children:[d.jsx(sft,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(t3,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:d.jsx(RIt,{children:d.jsx(BSt,{children:d.jsxs(jIt,{children:[d.jsx("div",{children:f.map((g,y)=>d.jsx("input",{name:`code-${y}`,type:"text",value:f[y],onChange:m,onKeyUp:w=>{w.key==="Backspace"&&(v=>{if(h==null||h(),p([...f.slice(0,v),"",...f.slice(v+1)]),v>0){let b=document.querySelector(`input[name=code-${v-1}]`);b==null||b.focus()}})(y)},inputMode:"numeric",autoFocus:y===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:Cr?"one-time-code":"off"},y))}),d.jsx(OIt,{$fail:!!a,$success:l,children:d.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let hoe=6,foe=Array(6).fill("");var n6,r6,NIt=((n6=NIt||{})[n6.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",n6[n6.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",n6),PIt=((r6=PIt||{})[r6.EMAIL=0]="EMAIL",r6[r6.SMS=1]="SMS",r6);const Xp={component:()=>{var W,V,B;let{app:t,navigate:e,lastScreen:n,navigateBack:r,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:h,createAnalyticsEvent:f}=st(),{authenticated:p,logout:m,user:g}=Sn(),{whatsAppEnabled:y}=Fn(),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(null),[N,R]=x.useState(0);s.current=()=>null;let M=(W=c())!=null&&W.email?0:1,F=M===0?((V=c())==null?void 0:V.email)||"":((B=c())==null?void 0:B.phoneNumber)||"";return x.useEffect(()=>{if(N){let k=setTimeout(()=>{R(N-1)},1e3);return()=>clearTimeout(k)}},[N]),x.useEffect(()=>{if(p&&w&&g){if(t!=null&&t.legal.requireUsersAcceptTerms&&!g.hasAcceptedTerms){let k=setTimeout(()=>{e(Yw)},900);return()=>clearTimeout(k)}if(Ug(g,t.embeddedWallets)){let k=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,screen:"AwaitingPasswordlessCodeScreen"}}),m()},callAuthOnSuccessOnClose:!0}}),e(a0)},900);return()=>clearTimeout(k)}{h();let k=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return()=>clearTimeout(k)}}},[p,w,g]),x.useEffect(()=>{if(b&&E===0){let k=setTimeout(()=>{A(null),$(null);let C=document.querySelector("input[name=code-0]");C==null||C.focus()},1400);return()=>clearTimeout(k)}},[b,E]),d.jsx($It,{contactMethod:F,authFlow:M===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:y,onBack:()=>r(),onCodeSubmit:async k=>{var C,S,T,_,P,D,j,I,L,J;try{await u(k),v(!0)}catch(O){if(O instanceof Rl&&O.privyErrorCode===pe.INVALID_CREDENTIALS)A("Invalid or expired verification code"),$(0);else if(O instanceof Rl&&O.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)A(O.message);else{if(O instanceof Rl&&O.privyErrorCode===pe.USER_LIMIT_REACHED)return console.error(new WA(O).toString()),void e(pC);if(O instanceof Rl&&O.privyErrorCode===pe.USER_DOES_NOT_EXIST)return void e(hC);if(O instanceof Rl&&O.privyErrorCode===pe.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:O,previousScreen:n??Xp}}),void e(Kr,!1);if(O instanceof Rl&&O.privyErrorCode===pe.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:O}}),void e(dEe,!1);if(O instanceof Rl&&O.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED&&((S=(C=O.data)==null?void 0:C.data)!=null&&S.nonce))return i({accountTransfer:{nonce:(_=(T=O.data)==null?void 0:T.data)==null?void 0:_.nonce,account:F,displayName:(j=(D=(P=O.data)==null?void 0:P.data)==null?void 0:D.account)==null?void 0:j.displayName,linkMethod:M===0?"email":"sms",embeddedWalletAddress:(J=(L=(I=O.data)==null?void 0:I.data)==null?void 0:L.otherUser)==null?void 0:J.embeddedWalletAddress}}),void e(Kw);A("Issue verifying code"),$(0)}}},onResend:async()=>{R(30),M===0?await a():await l()},errorMessage:b||void 0,success:w,resendCountdown:N,onInvalidInput:k=>{A(k),$(1)},onClearError:()=>{E===1&&(A(null),$(null))}})}};let RIt=X.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),jIt=X.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),OIt=X.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),MIt=X.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),DIt=X.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),poe=X.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const hEe=x.forwardRef((t,e)=>{let[n,r]=x.useState(t.defaultValue||""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l}=Sn(),{initLoginWithEmail:c}=st(),{navigate:u,setModalData:h,currentScreen:f,data:p}=lt(),{enabled:m,token:g}=dl(),[y,w]=x.useState(!1),{accountType:v}=Fg(),b=Fn();x.useEffect(()=>{var N,R;!n&&b.disablePlusEmails&&((N=p==null?void 0:p.inlineError)==null?void 0:N.error)instanceof Do&&((R=p==null?void 0:p.inlineError)==null?void 0:R.error.privyErrorCode)===pe.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[n]);let A=L6e(n),E=o||!A,$=()=>{h({login:p==null?void 0:p.login,inlineError:void 0}),!m||g||l?(N=>{var R;a(!0),c({email:n,captchaToken:N,disableSignup:(R=p==null?void 0:p.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(Xp)}).catch(M=>{h({errorModalData:{error:M,previousScreen:f||Lo}}),u(Kr)}).finally(()=>{a(!1)})})(g):(h({captchaModalData:{callback:N=>c({email:n,captchaToken:N,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Xp,onErrorNavigateTo:Kr}}),u(_d))};return d.jsxs(d.Fragment,{children:[d.jsxs(BIt,{children:[i&&d.jsx(cw,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(LIt,{stacked:t.stacked,$error:!!i,children:[d.jsx(FIt,{children:d.jsx(jq,{})}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>w(!0),onChange:N=>r(N.target.value),onKeyUp:N=>{N.key==="Enter"&&$()},value:n,autoComplete:"email"}),v!=="email"||y?t.stacked?d.jsx("span",{}):d.jsx(dN,{isSubmitting:o,onClick:$,disabled:E,children:"Submit"}):d.jsx(tf,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(pr,{loadingText:null,loading:o,disabled:E,onClick:$,style:{width:"100%"},children:"Submit"}):null]})});let BIt=G4e,LIt=_7t,FIt=X(Gh).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const fEe=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(e3,{$if:!t,children:d.jsx(hEe,{ref:r,defaultValue:n})}),d.jsx(e3,{$if:t,children:d.jsxs(Gr,{onClick:()=>{e(),setTimeout(()=>{var i;(i=r.current)==null||i.focus()},0)},children:[d.jsx(Gh,{children:d.jsx(jq,{})}),"Continue with Email"]})})]})},pEe=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(y$,{style:{height:24,width:24}}):t?d.jsx(t,{}):null;function _U(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const UIt=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:c})=>d.jsx(Rn,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===Ly.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(n!=null&&n.retryable)&&l<c?{label:"Retry",onClick:s,disabled:!(n!=null&&n.retryable)||l>=c}:!e&&n&&l>=c?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),IU={component:()=>{var $,N,R,M,F,W,V;let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:o}=lt(),{walletConnectionStatus:a,closePrivyModal:l}=st(),[c,u]=x.useState(void 0),[h,f]=x.useState(0),p=Dg((($=a==null?void 0:a.connector)==null?void 0:$.walletClientType)||"unknown"),m=(a==null?void 0:a.status)==="connected",g=(a==null?void 0:a.status)==="switching_to_supported_chain";x.useEffect(()=>{var B,k;if(m){let C;if((B=s==null?void 0:s.externalConnectWallet)!=null&&B.onCompleteNavigateTo){let S=s.externalConnectWallet.onCompleteNavigateTo,T=(k=a.connectedWallet)==null?void 0:k.address;C=setTimeout(()=>{var _,P;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:T}}),n(S({address:T,walletClientType:(_=a.connector)==null?void 0:_.walletClientType,walletChainType:(P=a.connector)==null?void 0:P.chainType}))},Wr)}else C=setTimeout(l,Wr);return()=>clearTimeout(C)}},[m]),x.useEffect(()=>{a!=null&&a.connectError&&(B=>{u(eEe(B))})(a==null?void 0:a.connectError)},[a]);let y=((N=a==null?void 0:a.connector)==null?void 0:N.connectorType)||"injected",w=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",v=((M=p==null?void 0:p.metadata)==null?void 0:M.shortName)||(p==null?void 0:p.name)||((F=a==null?void 0:a.connector)==null?void 0:F.walletBranding.name)||"Browser Extension",b=((W=p==null?void 0:p.image_url)==null?void 0:W.md)||((V=a==null?void 0:a.connector)==null?void 0:V.walletBranding.icon)||(B=>d.jsx(TG,{...B})),A=v==="Browser Extension"?v.toLowerCase():v;t=m?`Successfully connected with ${A}`:c?c.message:g?"Switching networks":`Waiting for ${A}`;let E="Dont see your wallet? Check your other browser windows.";return m?E="Youre good to go!":h>=2&&c?E="Unable to connect wallet":c?E=c.detail:g?E="Switch your wallet to the requested network.":w==="metamask"&&Cr?E="Click to continue to open and connect MetaMask.":w==="metamask"?E="For the best experience, connect only one wallet at a time.":y==="wallet_connect_v2"?E="Open your mobile wallet app to continue":y==="coinbase_wallet"&&(E="Open the Coinbase app on your phone to continue."),d.jsx(UIt,{walletName:v,walletLogo:b,success:m,errorMessage:c,title:t,subtitle:E,onRetry:()=>{f(h+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:h,maxRetries:2})}},mEe=X.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),a2=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return d.jsxs(WIt,{children:[d.jsx(zIt,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ae.isValidElement(n)?Ae.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return d.jsx(XE,{size:12,stroke:r(),strokeWidth:3});case"error":return d.jsx(Iht,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let zIt=X.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),WIt=X.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const HIt=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return d.jsx(Rn,{title:o,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx(t3,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:d.jsxs(mEe,{children:[d.jsx(a2,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "})," ",d.jsxs(t3,{href:e,target:"_blank",children:[t," browser extension"]})]})}),d.jsx(a2,{children:"Set up your first wallet"}),d.jsx(a2,{children:"Store your recovery phrase in a safe place!"})]})})},VIt={component:()=>{let{navigateBack:t,data:e}=lt();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return d.jsx(HIt,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},qIt=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:o})=>d.jsx(Rn,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),GIt={component:()=>{let{ready:t}=Sn(),{data:e}=lt(),[n,r]=x.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!n,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),n&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),d.jsx(qIt,{title:c.title,subtitle:c.description,buttonText:n?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:c.footnote||void 0,onButtonClick:()=>{setTimeout(()=>r(!0),1e3)}})}},Hd=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{var g,y,w;let s,{navigate:o,setModalData:a}=lt(),{connectWallet:l}=st(),c=Fg(),u=Dg(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,f=window.matchMedia("(display-mode: standalone)").matches,p=Q6e({connectorType:i.connectorType,walletClientType:h});s=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(r?IU:Ip)):Cr?(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:r}}),o(GIt)):(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:r}}),o(VIt))}:i.connectorType!=="coinbase_wallet"||((g=i.coinbaseWalletConfig.preference)==null?void 0:g.options)!=="eoaOnly"||!Cr||f||B6e()?()=>{(!_U(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,h),o(r?IU:Ip))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let m=e||((y=u==null?void 0:u.metadata)==null?void 0:y.shortName)||(u==null?void 0:u.name)||i.walletClientType;return d.jsxs(KIt,{onClick:s,children:[d.jsx(pEe,{icon:n||((w=u==null?void 0:u.image_url)==null?void 0:w.md),name:m}),d.jsx("span",{children:m}),d.jsxs(YIt,{id:"chip-container",children:[(c==null?void 0:c.walletClientType)===h&&(c==null?void 0:c.chainType)===i.chainType?d.jsx(moe,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&d.jsx(moe,{color:"gray",children:"Solana"})]})]})};let KIt=X(Gr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),moe=X(tf).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),YIt=X.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const QIt=["coinbase_wallet","base_account"];let ZIt=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const JIt=["safe"],XIt=["phantom","backpack","solflare","universal_profile"],gEe=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var f,p;let a=[],l=[],c=[],u=n.filter(m=>e==="ethereum-only"?m.chainType==="ethereum":e!=="solana-only"||m.chainType==="solana"),h=u.find(m=>m.connectorType==="wallet_connect_v2");for(let[m,g]of(o?[o.wallet]:t).entries()){if(g==="detected_ethereum_wallets")for(let[y,w]of u.filter(({chainType:v,connectorType:b,walletClientType:A})=>v!=="solana"&&(A==="uniswap_wallet_extension"||A==="uniswap_extension"?!i.includes("uniswap"):A==="crypto.com_wallet_extension"||A==="crypto.com_onchain"?!i.includes("cryptocom"):b==="injected"&&!i.includes(A))).entries()){let{walletClientType:v,walletBranding:b,chainType:A}=w;(v==="unknown"?l:a).push(d.jsx(Hd,{connectOnly:r,provider:v,logo:b.icon,displayName:b.name,connector:w},`${m}-${g}-${v}-${A}-${y}`))}if(g==="detected_solana_wallets")for(let[y,w]of u.filter(({chainType:v,walletClientType:b})=>{if(v==="solana")return e!=="ethereum-only"&&!i.includes(b)}).entries()){let{walletClientType:v,walletBranding:b,chainType:A}=w;(v==="unknown"?l:a).push(d.jsx(Hd,{connectOnly:r,provider:v,logo:b.icon,displayName:b.name,connector:w},`${m}-${g}-${v}-${A}-${y}`))}if(XIt.includes(g)){let y=u.find(w=>w.connectorType==="injected"&&w.walletClientType===g||w.connectorType===g);if(y&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:y},`${m}-${g}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:v,walletClientType:b})=>v==="solana"&&b===g);w&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:w},`${g}-solana`))}}else if(ZIt.includes(g)){let y=u.find(w=>g==="uniswap"?w.walletClientType==="uniswap_wallet_extension"||w.walletClientType==="uniswap_extension":g==="cryptocom"?w.walletClientType==="crypto.com_wallet_extension"||w.walletClientType==="crypto.com_onchain":w.connectorType==="injected"&&w.walletClientType===g);if(s&&!y&&(y=h),y&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:y,logo:y.connectorType==="injected"?y.walletBranding.icon:void 0,displayName:y.connectorType==="injected"?y.walletBranding.name:void 0},`${m}-${g}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:v,walletClientType:b})=>v==="solana"&&b===g);w&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:w},`${g}-solana`))}}else if(QIt.includes(g)){let y=u.find(({connectorType:w})=>w===g);y&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:y,displayName:y.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:y.walletClientType==="coinbase_wallet"?W6e:H6e},`${m}-${g}`))}else if(JIt.includes(g))h&&c.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:h},`${m}-${g}`));else if(g==="wallet_connect")h&&c.push(d.jsx(Hd,{connectOnly:r,provider:g,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${m}-${g}`));else if(g===(o==null?void 0:o.wallet)){let y=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),w=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(y||w){let v=u.find(({walletClientType:b})=>b===g);v&&a.push(d.jsx(Hd,{connectOnly:r,provider:g,displayName:(f=v.walletBranding)==null?void 0:f.name,logo:(p=v.walletBranding)==null?void 0:p.icon,connector:v},`${m}-${g}`))}}}return[...l,...a,...c]},yEe=({connectOnly:t})=>{var V,B,k;let{closePrivyModal:e,connectors:n}=st(),{app:r,onUserCloseViaDialogOrKeybindRef:i,data:s}=lt(),{appearance:{palette:{colorScheme:o}}}=Fn(),{accountType:a,walletClientType:l,chainType:c}=Fg(),u=x.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?AN(a):null,[a]),h=((V=r.loginMethodsAndOrder)==null?void 0:V.primary)??[],f=((B=r.loginMethodsAndOrder)==null?void 0:B.overflow)??[],p=x.useMemo(()=>[...h,...f],[h,f]),m=r.loginMethods.passkey,g=s==null?void 0:s.login,y=[];l&&p.includes(l)?y.push(l):a&&p.includes(u==null?void 0:u.loginMethod)&&y.push(u==null?void 0:u.loginMethod);let[w,v]=x.useState("default"),[b,A]=x.useState(q7({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(k=g==null?void 0:g.prefill)==null?void 0:k.type}));x.useEffect(()=>{var C;A(q7({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(C=g==null?void 0:g.prefill)==null?void 0:C.type}))},[p,a]),x.useEffect(()=>{a==="phone"&&A("sms");let C=p.indexOf("sms"),S=p.indexOf("email");C>-1&&C<S&&A("sms")},[a,h,f]);let E=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{v("default")},150)};i.current=E;let $=C=>{var S,T;return C==="email"?d.jsx(fEe,{isEditable:b==="email",setIsEditable:()=>{A("email")},defaultValue:((S=g==null?void 0:g.prefill)==null?void 0:S.type)==="email"?g.prefill.value:void 0},C):C==="sms"?d.jsx(sEe,{isEditable:b==="sms",setIsEditable:()=>{A("sms")},defaultValue:((T=g==null?void 0:g.prefill)==null?void 0:T.type)==="phone"?g.prefill.value:void 0},C):C==="apple"?d.jsx(Fi,{provider:"apple"},C):C==="discord"?d.jsx(Fi,{provider:"discord"},C):C==="farcaster"?d.jsx(rEe,{},C):C==="github"?d.jsx(Fi,{provider:"github"},C):C==="google"?d.jsx(Fi,{provider:"google"},C):C==="linkedin"?d.jsx(Fi,{provider:"linkedin"},C):C==="spotify"?d.jsx(Fi,{provider:"spotify"},C):C==="instagram"?d.jsx(Fi,{provider:"instagram"},C):C==="tiktok"?d.jsx(Fi,{provider:"tiktok"},C):C==="line"?d.jsx(Fi,{provider:"line"},C):C==="twitter"?d.jsx(Fi,{provider:"twitter"},C):C==="telegram"?d.jsx(aEe,{},C):C.startsWith("privy:")?d.jsx(q_t,{appId:C.replace("privy:","")},C):gEe({walletList:r.appearance.walletList,walletChainType:(g==null?void 0:g.walletChainType)??r.appearance.walletChainType,connectors:n,connectOnly:t,ignore:p,walletConnectEnabled:r.externalWallets.walletConnect.enabled,forceWallet:{wallet:C,chainType:c??"ethereum"}})},N=y.flatMap($),R=h.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap($),M=f.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap($),[F,W]=((C,S)=>{let T=[],_=[];for(let[P,D]of C.entries())P<S?T.push(D):_.push(D);return[T,_]})([...N,...R,...M],eTt({primary:R.length+N.length,overflow:M.length}));return d.jsxs(d.Fragment,{children:[d.jsx(bn,{title:r.appearance.landingHeader,onClose:E,backFn:w==="default"?void 0:()=>{v("default")}}),w==="default"&&d.jsx(tTt,{}),w==="default"&&(typeof r.appearance.loginMessage=="string"?d.jsx(B9t,{children:r.appearance.loginMessage}):r.appearance.loginMessage),d.jsx(M9t,{style:{overflow:"hidden"},children:d.jsxs(s4e,{$colorScheme:o,children:[w==="default"&&d.jsxs(d.Fragment,{children:[F,W.length>0&&d.jsx(cEe,{text:"More options",icon:d.jsx(dht,{}),onClick:()=>v("overflow")})]}),w==="overflow"&&d.jsx(d.Fragment,{children:W}),m&&w==="default"&&d.jsx(iEe,{})]})}),r&&d.jsx(RG,{app:r}),d.jsx(er,{})]})};let eTt=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,tTt=X(W_t).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ccb89604-0"})(["margin-bottom:16px;"]);const Lo={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(yEe,{connectOnly:!1}):d.jsx(uEe,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},wEe={component:()=>{let[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(""),{authenticated:l,user:c}=Sn(),{client:u,walletProxy:h,refreshSessionAndUser:f,closePrivyModal:p,createAnalyticsEvent:m}=st(),{app:g,navigate:y,data:w,onUserCloseViaDialogOrKeybindRef:v}=lt(),{onSuccess:b,onFailure:A}=w.setWalletPassword,E=Cd(c),$=(t==null?void 0:t.recoveryMethod)==="user-passcode",N=(E==null?void 0:E.recoveryMethod)==="user-passcode";x.useEffect(()=>{l||(y(Lo),A(new sst("User must be authenticated before setting a password on a Privy wallet")))},[l]);let R=()=>i?(A(i),void p({shouldCallAuthOnSuccess:!1})):$?(b(t),void p({shouldCallAuthOnSuccess:!1})):(A(new ng("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return v.current=R,d.jsx(O4e,{appName:(g==null?void 0:g.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:o,isResettingPassword:N,onPasswordGenerate:()=>a(j4e()),onPasswordChange:a,onSubmit:async()=>{$?(b(t),p({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let M=await u.getAccessToken();if(M&&c&&(E!=null&&E.address)&&o&&h)try{m({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}});let{entropyId:F,entropyIdVerifier:W}=Zu(c);if(!(await h.setRecovery({accessToken:M,entropyId:F,entropyIdVerifier:W,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new ng("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"error setting password"}});let V=await f(),B=Cd(V);if(!B)return s(new ng("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"wallet disconnected"}});e(B),m({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}})}catch(F){console.warn(F),s(F instanceof Error?F:Error("Error setting password on privy wallet")),m({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:E.address,reason:F}})}})(),r(!1))},onClose:R})}},nTt=({onClose:t,onProceed:e})=>d.jsx(Rn,{title:"Secure Your Account",subtitle:d.jsxs(d.Fragment,{children:["Please set a password to secure your account.",d.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:Rq,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),rTt={component:()=>{let{closePrivyModal:t}=st(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=lt(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new ng("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=s,d.jsx(nTt,{onClose:s,onProceed:()=>{n(wEe)}})}},iTt={component:()=>{let[t,e]=x.useState(!0),{authenticated:n,user:r}=Sn(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=st(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=lt(),[h,f]=x.useState(void 0),[p,m]=x.useState(""),[g,y]=x.useState(!1),{entropyId:w,entropyIdVerifier:v,onCompleteNavigateTo:b,onSuccess:A,onFailure:E}=c.recoverWallet,$=(N="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),E(typeof N=="string"?new ng(N):N)};return u.current=$,x.useEffect(()=>{if(!n)return $("User must be authenticated and have a Privy wallet before it can be recovered")},[n]),d.jsxs(ar,{children:[d.jsx(ar.Header,{icon:nw,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:$}),d.jsx(ar.Body,{children:d.jsx(sTt,{children:d.jsxs("div",{children:[d.jsxs(wN,{children:[d.jsx(HG,{type:t?"password":"text",onChange:N=>(R=>{R&&f(R)})(N.target.value),disabled:g,style:{paddingRight:"2.3rem"}}),d.jsx(vN,{style:{right:"0.75rem"},children:t?d.jsx(xN,{onClick:()=>e(!1)}):d.jsx(EN,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(oTt,{children:p})]})})}),d.jsxs(ar.Footer,{children:[d.jsx(ar.HelpText,{children:d.jsxs(FSt,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),d.jsx(ar.Actions,{children:d.jsx(aTt,{loading:g||!i,disabled:!h,onClick:async()=>{y(!0);let N=await a.getAccessToken(),R=Hf(r,w);if(!N||!R||h===null)return $("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:N,entropyId:w,entropyIdVerifier:v,recoveryPassword:h})),m(""),b?l(b):s({shouldCallAuthOnSuccess:!1}),A==null||A(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(M){(function(F){return n5(F)&&(F.type==="invalid_recovery_pin"||F.type==="invalid_request_arguments")})(M)?m("Invalid recovery password, please try again."):m("An error has occurred, please try again.")}finally{y(!1)}},$hideAnimations:!w&&g,children:"Recover your account"})}),d.jsx(ar.Watermark,{})]})]})}};let sTt=X.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),oTt=X.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),aTt=X(pr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&ls(["&&{transition:none;}"]));const lTt={component:()=>{let{app:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=lt(),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(),[u,h]=x.useState(null),{create:f}=zG(),{authenticated:p,user:m}=Sn(),{closePrivyModal:g,isNewUserThisSession:y,initializeWalletProxy:w}=st(),{onSuccess:v,onFailure:b,callAuthOnSuccessOnClose:A,shouldCreateEth:E,shouldCreateSol:$}=n.createWallet,[N,R]=x.useState(null),M=new ra(async()=>{try{let F;if(E&&$)F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m}),F=await f({chainType:"solana",walletIndex:0,latestUser:F.user});else if($)F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:m});else{if(!E)throw Error("Invalid args to create wallet");F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m})}R(F),y?e(WG):(v(F),g({shouldCallAuthOnSuccess:A}))}catch(F){s(F.message)}});return x.useEffect(()=>{u||w(3e4).then(F=>h(F))},[u]),x.useEffect(()=>{if(!p||!m)return e(Lo),void b(Error("User must be authenticated before creating a Privy wallet"))},[p]),r.current=()=>null,d.jsx(O4e,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!N&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{N&&N.account.recoveryMethod!=="user-passcode"?(b(new ng("User created a wallet but failed to set a password for it")),g({shouldCallAuthOnSuccess:!1})):N?(v(N),g({shouldCallAuthOnSuccess:A})):(b(new ng("User wallet creation failed")),g({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(j4e()),onSubmit:async()=>(a(!0),M.execute().then(()=>new Promise(F=>setTimeout(F,250))).finally(()=>a(!1)))})}},cTt=X.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),uw=X.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),xg=X.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),uTt={component:()=>{var y;let{user:t}=Sn(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=st(),s=lt(),{entropyId:o,entropyIdVerifier:a}=(y=s.data)==null?void 0:y.recoverWallet,[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null);function m(){var w,v,b,A;if(!l){if(f)return(v=(w=s.data)==null?void 0:w.setWalletPassword)==null||v.onFailure(f),void i();if(!u)return(A=(b=s.data)==null?void 0:b.setWalletPassword)==null||A.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=m;let g=!(!l&&!u);return d.jsxs(d.Fragment,f?{children:[d.jsx(bn,{onClose:m},"header"),d.jsx(cTt,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(Dw,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(xg,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(Xx,{style:{minHeight:"2rem"}}),d.jsx(z7,{onClick:()=>p(null),children:"Try again"}),d.jsx(er,{})]}:{children:[d.jsx(bn,{onClose:m},"header"),d.jsx(g2e,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(xg,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(uw,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(Xx,{style:{minHeight:"2rem"}}),d.jsx(z7,{loading:l,disabled:g,onClick:()=>async function(){c(!0);try{let w=await e.getAccessToken(),v=Hf(t,o);if(!w||!n||!v)return;if(!(await n.setRecovery({accessToken:w,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:v.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let b=await r();if(!b)throw Error("Unable to set recovery on wallet");let A=Hf(b,v.address);if(!A)throw Error("Unabled to set recovery on wallet");h(!!b),setTimeout(()=>{var E,$;($=(E=s.data)==null?void 0:E.setWalletPassword)==null||$.onSuccess(A),i()},Wr)}catch(w){p(w)}finally{c(!1)}}(),children:u?"Success":"Confirm"}),d.jsx(er,{})]})}};function bEe({isCreatingWallet:t,skipSplashScreen:e}){return t?lTt:e?wEe:rTt}function vEe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?uTt:n||e.length===1?bEe({isCreatingWallet:t==="create",skipSplashScreen:r}):yU}function xEe(t){switch(t){case"user-passcode":return iTt;case"google-drive":case"icloud":return S4e;default:throw Error("Recovery method not supported")}}const EEe=({children:t,theme:e})=>d.jsxs(dTt,{$theme:e,children:[d.jsx(uot,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(hTt,{$theme:e,children:t})]});let dTt=X.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),hTt=X.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const AEe=ls(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),IN=X.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],AEe);let fTt=X(IN).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),pTt=X.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),mTt=X.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),gTt=X.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),yTt=X(QG).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),wTt=X(cw).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),bTt=X(kd).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const TN=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[o,a]=x.useState(!1);return x.useEffect(()=>{if(o){let l=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(l)}},[o]),d.jsxs("div",{children:[i&&d.jsx(yTt,{children:i}),d.jsx(fTt,{className:r,$state:t?"error":void 0,children:d.jsxs(pTt,{children:[d.jsxs(mTt,{children:[d.jsx(La,{address:n,showCopyIcon:!1}),e!==void 0&&d.jsx(gTt,{children:e})]}),s&&d.jsx(bTt,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(n).then(()=>a(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,o?{children:["Copied",d.jsx(XE,{size:14})]}:{children:["Copy",d.jsx(m7,{size:14})]})})]})}),t&&d.jsx(wTt,{children:t})]})};function CEe({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=st(),[s,o]=x.useState(0n),[a,l]=x.useState(!1),c=x.useMemo(()=>{let h=r||i[0];if(h)return Vp({chain:r,transport:qp(Jp(h,t,e))})},[r,t,e]),u=x.useCallback(async()=>{if(!n||!c)return;l(!0);let h=await c.getBalance({address:n}).catch(console.error);return h?(o(h),l(!1),h):void 0},[c,n,o]);return x.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const nf="sdk_fiat_on_ramp_completed_with_status";async function ZG({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function $N(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function FO(t){let[e]=Object.entries(PSt[t]).find(([n,r])=>r.symbol==="USDC")??[];return e}const JG=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await Vp({chain:t,transport:qp(Jp(t,r,n))}).readContract({address:i,abi:vTt,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let vTt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const kEe=({children:t,theme:e})=>d.jsxs(xTt,{$theme:e,children:[d.jsx(yq,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(ETt,{$theme:e,children:t})]});let xTt=X.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),ETt=X.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const ATt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),CTt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),goe=t=>{let[e,n]=x.useState();return x.useEffect(()=>{t().then(r=>{n(r)}).catch(()=>{})},[]),e},SEe=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=Vp({chain:e,transport:qp(Jp(e,n,r))}),[s,o]=await Promise.all([i.readContract({abi:yoe,address:t,functionName:"symbol"}),i.readContract({abi:yoe,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let yoe=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const TU=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let kTt=2n**256n-1n;const G7=({amount:t,decimals:e})=>t===kTt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),_Ee=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=Vp({chain:s,transport:qp(Jp(s,r,e))}),a=await o.getBalance({address:n}).catch(()=>0n),l=null,c=nit[s.id];if(i&&c){let{balance:u}=await JG({address:n,chain:s,rpcConfig:r,appId:e,erc20Address:c});l=u}return{balance:a,erc20Balance:l,erc20Address:c,chain:s}})),XG=X.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Ar=X.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),or=X.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),STt=X(or).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),ki=X.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],SN),_Tt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let ITt={[cu.id]:t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[B3.id]:t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[uu.id]:t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[KT.id]:t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[I1e.id]:t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[du.id]:t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[lf.id]:t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[ll.id]:t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[zV.id]:t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const IEe=({chainId:t,...e})=>{if(t==="solana")return d.jsx(_Tt,{...e});let n=ITt[t];return d.jsx(n||qbe,{...e})},TTt=({balance:t,className:e,chain:n})=>d.jsx(IN,{className:e,$state:void 0,children:d.jsx($U,{balance:t,chain:n})}),$U=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs($Tt,{children:[d.jsx(PTt,{chainId:typeof e=="object"?e.id:"solana"}),d.jsx(ki,{children:typeof e=="object"?e.name:$N(e)})]}),d.jsxs(tf,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(NTt,{children:d.jsx(y$,{})}),t]})]});let $Tt=X.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),NTt=X.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),PTt=X(IEe).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const RTt=({options:t,onSelect:e,selected:n,className:r})=>d.jsxs(pdt,{as:jTt,children:[d.jsxs(l2e,{as:DTt,children:[d.jsx($U,{balance:n.balance,chain:n.chain}),d.jsx(NU,{height:16})]}),d.jsx(c2e,{as:OTt,className:r,children:t.map((i,s)=>d.jsx(u2e,{as:MTt,onClick:()=>e(s),children:d.jsx($U,{balance:i.balance,chain:i.chain})},s))})]});let jTt=X.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),OTt=X.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),MTt=X.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),NU=X(Nq).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),DTt=X.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],AEe,NU,NU);const BTt=X.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),O6=X.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),TEe=X.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),$Ee=X.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),NEe=X.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),LTt=X(NEe).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),PEe=X.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),REe=X.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),FTt=X.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),UTt=X.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),jEe=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:h,fundingWalletAddress:f,onSubmit:p,onSelect:m,onAmountChange:g,erc20ContractInfo:y})=>{let w=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsx(xg,{children:"Transfer from another network"}),d.jsxs(uw,{children:["You need more funds on the"," ",typeof n=="object"?n.name:$N(n)," ","network. Bridge from another blockchain network."]}),d.jsxs(TEe,{style:{marginTop:"2rem"},children:[d.jsxs($Ee,{onClick:()=>{var v;return(v=w.current)==null?void 0:v.focus()},children:[d.jsx(NEe,{ref:w,value:i,onChange:v=>{let b=v.target.value;if(/^[0-9.]*$/.test(b)&&b.split(".").length-1<=1){let A=/\.$/.test(b)?".":"",E=Number(b.replace(/\.$/,"")||"0");if(Number.isNaN(E))return void g("0");g(E.toString()+A)}}}),d.jsx(PEe,{children:s})]}),o&&d.jsx(REe,{children:o})]}),d.jsxs(Ar,{style:{marginTop:"1.5rem"},children:[d.jsx(or,{children:"From"}),d.jsx(or,{children:Tte(f)})]}),d.jsx(RTt,{selected:{chain:l.chain,balance:l.isErc20Quote?G7({amount:l.erc20Balance??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:cd(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:v,balance:b,isErc20Quote:A,erc20Balance:E})=>({chain:v,balance:A?G7({amount:E??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:cd(b,v.nativeCurrency.symbol,3,!0)})),onSelect:m}),d.jsxs(Ar,{style:{marginTop:"1.5rem"},children:[d.jsx(or,{children:"To"}),d.jsx(or,{children:Tte(h)})]}),d.jsx(TTt,{chain:n,balance:r}),d.jsx(cw,{style:{marginTop:"1rem"},children:e}),d.jsxs(z7,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(Nd,{}),d.jsx(er,{})]})},eK=({walletClientType:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>{var f;let h=Dg(t);return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(t5,{}),d.jsx(DG,{style:{marginTop:"16px"},children:d.jsx(pEe,{icon:(f=h==null?void 0:h.image_url)==null?void 0:f.md,name:t})}),d.jsx(Sd,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(XG,{children:[d.jsxs(Ar,{children:[d.jsx(or,{children:"Total"}),d.jsx(ki,{children:l||a})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"To"}),d.jsx(ki,{children:d.jsx(La,{address:n,showCopyIcon:!1})})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"Network"}),d.jsx(ki,{children:d.jsxs(zTt,{children:[d.jsx(IEe,{chainId:r,height:16,width:16})," ",i]})})]}),c&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Estimated fee"}),d.jsx(ki,{children:u||c})]})]}),d.jsx(USt,{height:24}),d.jsx(er,{})]})};let zTt=X.div.withConfig({displayName:"NetworkColumn",componentId:"sc-f4ee4fc8-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const OEe={component:()=>{var U,z,ee,ne,se;let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=st(),{navigate:i,setModalData:s,app:o,data:a}=lt(),{wallets:l}=Lg(),[c,u]=x.useState(!1),[h,f]=x.useState(0n),[p,m]=x.useState(!1),[g,y]=x.useState(null),[w,v]=x.useState(null),[b,A]=x.useState([]),[E,$]=x.useState(0),[N,R]=x.useState(!1),[M,F]=x.useState(!1),[W,V]=x.useState(!1),[B,k]=x.useState(!1),[C,S]=x.useState(),[T,_]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:P,chain:D,connectedWalletAddress:j}=a.funding,I=a.funding.address,L=a.funding.erc20Address,[J,O]=x.useState(a.funding.amount);x.useEffect(()=>{L&&!P&&y(Error("Unable to fetch token details"))},[]);let G=!!L&&!!P,Z=G?BigInt(parseFloat(J)*10**P.decimals):$ye(J),Q=j?l.find(({address:ce})=>ce===j):l[0],ie=Dg((Q==null?void 0:Q.walletClientType)||"unknown"),de=(ie==null?void 0:ie.name)||"wallet",[oe,he]=x.useState(null);x.useEffect(()=>{(async()=>{if(!Q)return;let ce=await Q.getEthereumProvider();he(E1e({account:Q.address,transport:C1e(ce)}).extend(LV))})().catch(console.error)},[Q]);let[we,fe]=x.useState(0n);x.useEffect(()=>{Vp({chain:D,transport:qp(Jp(D,t,e))}).getBalance({address:I}).then(fe).catch(console.error)},[]);let[ke,be]=x.useState(0n);x.useEffect(()=>{G&&JG({chain:D,address:I,appId:e,rpcConfig:t,erc20Address:L}).then(ce=>be(ce.balance)).catch(console.error)},[]);let{tokenPrice:Ue}=dC(D.id),[Me,Se]=x.useState({to:I,chain:D,value:Z,data:void 0});x.useEffect(()=>{(async()=>{let ce,Le;if(!oe||!Q||N||W)return;R(!0);let Xe=Vp({chain:Me.chain,transport:qp(Jp(Me.chain,t,e))});if(G&&!Me.data)return await Xe.simulateContract({address:L,chain:Me.chain,abi:TU,functionName:"transfer",args:[I,Z],account:Q.address}).catch(Ye=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Ye)})?(R(!1),void Se({to:L,chain:Me.chain,data:ol({abi:TU,functionName:"transfer",args:[I,Z]}),value:"0x0"})):(R(!1),void m(!0));try{ce=await Xe.prepareTransactionRequest({account:Q.address,to:Me.to,chain:Me.chain,data:Me.data,value:BigInt(Me.value??0)})}catch(Ye){if(console.error(Ye),b.length>1)v(Ye.shortMessage??"Something went wrong");else if(M&&b.length===0)return void y(new ue(`Wallet ${Xo(Q.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))}if(!ce)return R(!1),void m(!0);R(!1),V(!0),u(!0),f(ce.gas);try{await oe.switchChain({id:Me.chain.id})}catch{await oe.addChain({chain:Me.chain}),await oe.switchChain({id:Me.chain.id})}try{Le=await oe.sendTransaction(ce)}catch(Ye){if(console.error(Ye),Ye.name==="TransactionExecutionError")if(b.length<1){let et=Ye.shortMessage;(Ye.shortMessage.includes("rejected the request")||Ye.details.includes("rejected the request"))&&(et="User rejected the request."),y(new ue(et,void 0,pe.TRANSACTION_FAILURE))}else v(Ye.shortMessage??"Something went wrong")}if(Le)return await oe.waitForTransactionReceipt({hash:Le}),V(!1),M?(S(Le),void _("pending")):(k(!0),void r({eventName:nf,payload:{provider:"external",status:"success",txHash:Le,address:Q.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?Wa(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??L??"ETH",destinationAddress:I,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:Z?Wa(Z,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??L??D.nativeCurrency.name}}));V(!1)})().catch(console.error)},[oe,Me]),x.useEffect(()=>{(async()=>{var Bt;if(!p||!oe||!Q)return;let ce=WV(o.chains).filter(He=>He.id!==D.id&&!!He.testnet==!!D.testnet);G&&ce.unshift(D);let Le=await _Ee({chains:ce,address:Q.address,appId:e,rpcConfig:t,includeUsdc:(Bt=a.funding)==null?void 0:Bt.isUSDC}),Xe=G?Le.filter(He=>He.balance>0n):Le.filter(He=>He.balance>Z),Ye=G&&Le.every(He=>He.balance===0n);if(Xe.length<1)return void y(new ue(Ye?`Wallet ${Xo(Q.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Xo(Q.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));Xe.sort((He,Ln)=>Number(G?(Ln.erc20Balance??0n)-(He.erc20Balance??0n):Ln.balance-He.balance));let et=Xe.flatMap(He=>{let Ln=[{...He,isErc20Quote:!1,isTestnet:!!D.testnet,input:o2({amount:Z.toString(),user:Q.address,recipient:I,destinationChainId:D.id,destinationCurrency:L,originChainId:He.chain.id})}];return G&&L&&(He.erc20Balance??0n)>=Z&&Ln.push({...He,isErc20Quote:!0,isTestnet:!!D.testnet,input:o2({amount:Z.toString(),user:Q.address,recipient:I,destinationChainId:D.id,destinationCurrency:L,originChainId:He.chain.id,originCurrency:He.erc20Address})}),Ln}),Re=(await Promise.allSettled(et.map(async He=>({...He,quote:await p8(He)})))).filter(He=>He.status==="fulfilled").map(He=>He.value);if(Re.length<1)return void y(new ue(`Wallet ${Xo(Q.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let Tt=Re.map(He=>({bridgeTx:H7(He.quote),balance:He.balance,chain:He.chain,erc20Balance:He.erc20Balance,isErc20Quote:He.isErc20Quote})).filter(He=>!!He.bridgeTx);if(Tt.length>1)return void A(Tt);let dn=Tt[0];dn?(F(!0),Se({data:dn.bridgeTx.data,to:dn.bridgeTx.to,value:dn.bridgeTx.value,chain:dn.chain})):y(new ue(`Wallet ${Xo(Q.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),KG({transactionHash:C,isTestnet:!!D.testnet,bridgingStatus:T,setBridgingStatus:_,onSuccess({transactionHash:ce}){F(!1),k(!0),r({eventName:nf,payload:{provider:"external",status:"success",txHash:ce,address:Q==null?void 0:Q.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?Wa(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??L??"ETH",destinationAddress:I,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:Z?Wa(Z,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??L??D.nativeCurrency.name}})},onFailure({error:ce}){F(!1),y(ce)}}),x.useEffect(()=>{g&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:g,previousScreen:mC}}),i(Kr,!1))},[g]);let xe=!G&&Ue?l4e(J??"0",Ue):void 0,Ne=G?h:MG([h,Z]),Be=Ne&&Ue?_1(Ne,Ue):void 0,Ce=Ne?cd(Ne,(U=a==null?void 0:a.funding)!=null&&U.erc20Address?((ee=(z=a==null?void 0:a.funding)==null?void 0:z.erc20ContractInfo)==null?void 0:ee.symbol)||"ETH":((ne=a==null?void 0:a.funding)==null?void 0:ne.chain.nativeCurrency.symbol)||"ETH"):void 0,De=h&&Ue?_1(h,Ue):void 0,Ve=h?cd(h,((se=D==null?void 0:D.nativeCurrency)==null?void 0:se.symbol)||"ETH"):void 0;if(x.useEffect(()=>{if(!B)return;let ce=setTimeout(n,CG);return()=>clearTimeout(ce)},[B]),B)return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsxs(hN,{children:[d.jsx(u$,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success!",description:`Youve successfully added ${J} ${G?P.symbol:D.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Nd,{}),d.jsx(er,{})]});let rt=G?`${G7({amount:ke,decimals:P.decimals})}  ${P.symbol}`:cd(we,D.nativeCurrency.symbol,3,!0),K=b[E];return b.length>1&&K?d.jsx(jEe,{displayName:de,configuredFundingChain:D,erc20ContractInfo:P,formattedBalance:rt,fundingAmount:J,fundingCurrency:G?P.symbol:D.nativeCurrency.symbol,fundingAmountInUsd:xe,options:b,selectedOption:K,isPreparing:N,isSubmitting:W,addressToFund:I,fundingWalletAddress:(Q==null?void 0:Q.address)||"",errorMessage:w,onSubmit:()=>{var ce;((ce=a.funding)==null?void 0:ce.amount)!==J?async function(){if(Q&&K)try{let Le=await p8({isTestnet:!!D.testnet,input:o2({amount:Z.toString(),user:Q.address,recipient:I,destinationChainId:D.id,destinationCurrency:L,originChainId:K.chain.id})}),Xe=H7(Le);if(!Xe)throw Error("Invalid transaction request");F(!0),Se({data:Xe.data,to:Xe.to,value:Xe.value,chain:K.chain})}catch(Le){console.error(Le),y(new ue("Unable to fetch quotes for bridging",Le,pe.INSUFFICIENT_BALANCE))}}().catch(console.error):Se({to:K.bridgeTx.to,data:K.bridgeTx.data,value:K.bridgeTx.value,chain:K.chain})},onSelect:ce=>{ce!==E&&(v(null),$(ce))},onAmountChange:O}):c&&h&&Q&&(a!=null&&a.funding)?d.jsx(eK,{walletClientType:(Q==null?void 0:Q.walletClientType)||"unknown",displayName:de,addressToFund:I,isBridging:M,isErc20Flow:G,totalPriceInUsd:Be,totalPriceInNativeCurrency:Ce,gasPriceInUsd:De,gasPriceInNativeCurrency:Ve,chainId:D.id,chainName:D.name}):d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(t5,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},PU=Symbol("solana-funding-plugin"),MEe={component:function(){let t=Fn(),{closePrivyModal:e,createAnalyticsEvent:n,connectors:r}=st(),{navigate:i,setModalData:s,app:o,data:a}=lt(),l=x.useRef(!1),c=YG(),[u,h]=x.useState(!1),[f,p]=x.useState(!1),[m,g]=x.useState(null),[y,w]=x.useState(),[v,b]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:A,connectedWalletAddress:E,chain:$,solanaChain:N,isUSDC:R}=a.funding,M=a.funding.address,F=a.funding.erc20Address,W=a.funding.isUSDC?"USDC":$.nativeCurrency.symbol,V=x.useMemo(()=>function({connectors:S,connectedWalletAddress:T}){let _=S.find(D=>D.chainType==="solana"&&D.wallets.some(j=>j.address===T)),P=_==null?void 0:_.wallet.accounts.find(D=>D.address===T);if(!_||!P)throw new ue("Unable to find source wallet connector");return new obe({wallet:_.wallet,account:P})}({connectors:r,connectedWalletAddress:E||""}),[r,E]),B=x.useMemo(()=>{let S=c(PU);if(!S)throw new ue("Unable to load solana plugin");let T=t.solanaRpcs["solana:mainnet"];if(!T)throw new ue("Unable to load mainnet RPC");return S.getSolanaRpcClient({rpc:T.rpc,rpcSubscriptions:T.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:T.blockExplorerUrl??"https://explorer.solana.com"})},[]),k=Dg(pU((V==null?void 0:V.standardWallet.name)||"unknown")),C=(k==null?void 0:k.name)||"wallet";return x.useEffect(()=>{(async function(){if(!V||!$||l.current)return;let S=c(PU);if(!S)return void g(new ue("Unable to solana plugin"));l.current=!0,$!=null&&$.testnet&&console.warn("Solana testnets are not supported for bridging");let T=R?1e6*parseFloat(A):$ye(A),_=await p8({isTestnet:!!$.testnet,input:o2({amount:T.toString(),user:V.address,recipient:M,destinationChainId:$.id,originChainId:bU,originCurrency:R?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":vU,destinationCurrency:R?F:void 0})}).catch(console.error);if(!_)return void g(new ue(`Unable to fetch quotes for bridging. Wallet ${NO(V.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let P=await S.createTransactionFromRelayQuote({quote:_,source:V.address,solanaClient:B});if(P)try{h(!0);let D=await S.simulateTransaction({solanaClient:B,tx:P});if(D.hasError)return D.hasFunds?(console.error("Transaction failed:",D.error),void g(new ue("Something went wrong",void 0,pe.TRANSACTION_FAILURE))):void g(new ue(`Wallet ${NO(V==null?void 0:V.address)} does not have enough funds. ${_.details.currencyIn.amountFormatted} ${W} are needed to complete the transaction.`,void 0,pe.INSUFFICIENT_BALANCE));let{signature:j}=await V.signAndSendTransaction({chain:"solana:mainnet",transaction:P}),I=S.getAddressFromBuffer(j);w(I),b("pending")}catch(D){if(console.error(D),/user rejected the request/gi.test(D.message||""))return void g(new ue("Transaction was rejected by the user",void 0,pe.TRANSACTION_FAILURE));g(new ue("Something went wrong",void 0,pe.TRANSACTION_FAILURE))}else g(new ue(`Unable to select bridge option from quotes. Wallet ${NO(V.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),KG({transactionHash:y,isTestnet:!1,bridgingStatus:v,setBridgingStatus:b,onSuccess({transactionHash:S}){h(!1),p(!0),n({eventName:nf,payload:{provider:"external",status:"success",txHash:S,address:V.address,chainType:"solana",clusterName:N,token:"SOL",destinationAddress:M,destinationChainId:$.id,destinationChainType:"ethereum",destinationValue:A,destinationToken:R?"USDC":"ETH"}})},onFailure({error:S}){h(!1),g(S)}}),x.useEffect(()=>{if(!f)return;let S=setTimeout(e,CG);return()=>clearTimeout(S)},[f]),x.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:mC}}),i(Kr,!1))},[m]),f?d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsxs(hN,{children:[d.jsx(u$,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success!",description:`Youve successfully added ${A} ${W} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Nd,{}),d.jsx(er,{})]}):u&&V?d.jsx(eK,{walletClientType:pU((V==null?void 0:V.standardWallet.name)||"unknown"),displayName:C,addressToFund:M,isBridging:u,isErc20Flow:!1,chainId:$.id,chainName:$.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(t5,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},woe={component:()=>{var f;let{data:t,setModalData:e}=lt(),n=t==null?void 0:t.funding,r=n.chainType==="solana",i=x.useRef(null),{tokenPrice:s}=dC(r?"solana":n.chain.id),o=r?void 0:n,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),l=r?n.isUSDC?"USDC":"SOL":n.erc20Address?(f=n.erc20ContractInfo)==null?void 0:f.symbol:n.chain.nativeCurrency.symbol||"ETH",c=parseFloat(n.amount),u=!isNaN(c)&&c>0,h=s?l4e(n.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(xg,{children:"Confirm or edit amount"}),d.jsxs(fN,{style:{marginTop:"32px"},children:[d.jsx(TEe,{children:a?d.jsx(t5,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs($Ee,{onClick:()=>{var p;return(p=i.current)==null?void 0:p.focus()},children:[d.jsx(LTt,{ref:i,value:n.amount,onChange:p=>{let m=p.target.value;/^[0-9.]*$/.test(m)&&m.split(".").length-1<=1&&e({...t,funding:{...n,amount:m},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:m}:void 0})}}),d.jsx(PEe,{children:l})]}),!(o!=null&&o.erc20Address)&&d.jsx(REe,{children:h&&u?`${h} USD`:""})]})}),d.jsx(z7,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(er,{})]})}},mC={component:()=>{var E,$,N,R;let t,{connectors:e}=st(),{app:n,setModalData:r,data:i,navigate:s}=lt(),{wallets:o}=Lg(),a=e.filter(lN).flatMap(M=>M.wallets),[l,c]=x.useState("default"),u=((E=i==null?void 0:i.funding)==null?void 0:E.chainType)==="solana",h=!!(($=i==null?void 0:i.funding)!=null&&$.crossChainBridgingEnabled);t=((N=i==null?void 0:i.funding)==null?void 0:N.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let f=o.filter(M=>M.walletClientType!=="privy"),p=f.map(M=>M.walletClientType),m=a.filter(M=>M.walletClientType!=="privy"),g=m.map(M=>M.walletClientType),y=[],w={...i.funding};w.usingDefaultFundingMethod&&(w.usingDefaultFundingMethod=!1);let v=({address:M,walletChainType:F,walletClientType:W})=>{r({...i,funding:{...w,connectedWalletAddress:M,onContinueWithExternalWallet:()=>s(A({destChainType:u?"solana":"ethereum",sourceChainType:F}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:M,walletClientType:W}}:void 0}),s(woe)};t!=="solana-only"&&y.push(...f.map((M,F)=>d.jsx(boe,{onClick:()=>v({address:M.address,walletChainType:"ethereum",walletClientType:M.walletClientType}),icon:M.meta.icon,name:M.meta.name,chainType:M.type},F))),t!=="ethereum-only"&&y.push(...m.map((M,F)=>d.jsx(boe,{onClick:()=>v({address:M.address,walletChainType:"solana",walletClientType:M.walletClientType}),icon:M.meta.icon,name:M.meta.name,chainType:M.type},F))),y.push(...gEe({walletList:n.appearance.walletList.filter(M=>!f.some(F=>F.walletClientType===M)&&!m.some(F=>F.walletClientType===M)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...n.appearance.walletList,...p,...g],walletConnectEnabled:n.externalWallets.walletConnect.enabled}));let b=d.jsx(lEe,{text:"More wallets",onClick:()=>c("overflow")}),A=({sourceChainType:M,destChainType:F})=>M==="ethereum"&&F==="solana"?HEe:M==="ethereum"&&F==="ethereum"?OEe:M==="solana"&&F==="ethereum"?MEe:w.externalSolanaFundingScreen;return x.useEffect(()=>{r({...i,externalConnectWallet:{onCompleteNavigateTo:({address:M,walletClientType:F,walletChainType:W})=>(r({...i,funding:{...w,onContinueWithExternalWallet:()=>{s(A({destChainType:u?"solana":"ethereum",sourceChainType:W??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:M||"",walletClientType:F||""}}:void 0}),woe)}})},[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(bn,{backFn:()=>c("default")},"header"),d.jsxs(mU,{children:[d.jsx(uw,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),y]}),d.jsx(er,{})]}:{children:[d.jsx(su,{}),d.jsx(Sd,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(mU,{children:[y.length>4?y.slice(0,3):y,y.length>4&&b]}),d.jsx(er,{})]})}};let boe=({onClick:t,icon:e,name:n,chainType:r})=>d.jsxs(Gr,{onClick:t,children:[d.jsx(O6,{style:{width:20},children:d.jsx("img",{src:e})}),n,d.jsx(tf,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&d.jsx(tf,{color:"gray",children:"Solana"})]});const WTt={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=lt(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=st(),[a,l]=x.useState("pending-in-flow"),c=x.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:f}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return x.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval(async()=>{if(h)try{let{status:m}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(m==="success")return void l("success");if(m==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void n(ud);f!=null&&f.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(m){console.error(m),l("error"),s({eventName:nf,payload:{status:"failure",provider:"coinbase-onramp",error:m.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(ud)}},1500);return()=>clearInterval(p)}},[h,f,a]),d.jsxs(d.Fragment,{children:[d.jsx(bn,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),r()}},"header"),d.jsx(HTt,{status:a,onClickCta:i}),d.jsx(er,{})]})}};let HTt=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=x.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(GTt,{children:[d.jsx(VTt,{isSucccess:t==="success"}),d.jsxs(BG,{children:[d.jsx("h3",{children:n}),d.jsx(qTt,{children:r})]})]}),i&&d.jsx(pr,{onClick:e,children:i})]})},VTt=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(iu,{color:r,style:{position:"absolute"}}),d.jsx(jG,{color:r}),d.jsx(A9t,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?JE:()=>d.jsx(gq,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:n})})},qTt=X.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),GTt=X.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),KTt={[du.id]:"ethereum",[uu.id]:"base",[lf.id]:"optimism",[ll.id]:"polygon",[cu.id]:"arbitrum"};const voe=(t,e,n,r,i,s)=>new Promise(async(o,a)=>{let l=mN();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?function(m){let g=KTt[m];if(!g)throw new ue(`Unsupported chainId: ${m} for Coinbase Onramp`);return g}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?cit(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:f}=ait({appId:t.getAppId(),input:h,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=f.toString();let p={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),n({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),r(WTt),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout(()=>{n({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})},5e3),o()}),xoe="moonpay";function YTt(t){return parseFloat(t)}function QTt(t,e=!1){let[n,r]=x.useState(null),{createAnalyticsEvent:i}=st(),{data:s,navigate:o,setModalData:a}=lt(),l=s==null?void 0:s.funding,c=x.useRef(0);return x.useEffect(()=>{let u=setInterval(async()=>{var h,f;if(t)try{let[p]=await async function(g,y){return hbe(`https://api.moonpay.com/v1/transactions/ext/${g}`,{query:{apiKey:y?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(t,e),m=p.status==="waitingAuthorization"&&p.paymentMethod==="credit_debit_card"?"pending":p.status;if(["failed","completed","awaitingAuthorization"].includes(m)&&(i({eventName:nf,payload:{status:m,provider:xoe,paymentMethod:p.paymentMethod,cardPaymentType:p.cardPaymentType,currency:(h=p.currency)==null?void 0:h.code,baseCurrencyAmount:p.baseCurrencyAmount,quoteCurrencyAmount:p.quoteCurrencyAmount,feeAmount:p.feeAmount,extraFeeAmount:p.extraFeeAmount,networkFeeAmount:p.networkFeeAmount,isSandbox:e}}),clearInterval(u)),m==="failed"||m==="serviceFailure")return a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),void o(ud);r(m)}catch(p){((f=p.response)==null?void 0:f.status)!==404&&(c.current+=1),c.current>=3&&(i({eventName:nf,payload:{status:"serviceFailure",provider:xoe}}),clearInterval(u),a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),o(ud))}},3e3);return()=>clearInterval(u)},[t,c]),n}const ZTt=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),DEe={component:()=>{let{app:t,data:e,setModalData:n,navigateBack:r}=lt(),{closePrivyModal:i}=st(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=QTt(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(bn,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),n({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),r()}}),d.jsx(JTt,{status:o,onClickCta:i}),d.jsx(er,{})]})}};let JTt=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=x.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(t$t,{children:[d.jsx(XTt,{status:t}),d.jsxs(BG,{children:[d.jsx("h3",{children:n}),d.jsx(e$t,{children:r})]})]}),i&&d.jsx(pr,{onClick:e,children:i})]})},XTt=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(iu,{color:r,style:{position:"absolute"}}),d.jsx(jG,{color:r}),d.jsx(ZTt,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return JE;case"waitingAuthorization":return()=>d.jsx(gq,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:n})})},e$t=X.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),t$t=X.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const n$t=async(t,e,n,r,i,s,o,a)=>{let l=mN();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?Mrt(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:a,currencyCode:c,quoteCurrencyAmount:YTt(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),l.location=u;let f={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(DEe),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:h},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let BEe=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const r$t=()=>BEe("https://apple.com/apple-pay"),i$t=()=>BEe("https://google.com/pay"),ud={component:()=>{var A,E,$,N;let{wallets:t}=Lg(),{connectors:e}=st(),n=e.filter(lN).flatMap(R=>R.wallets),{navigate:r,data:i,setModalData:s}=lt(),{client:o}=st(),a=Fn(),l=i==null?void 0:i.funding,c=goe(r$t),u=goe(i$t),h=l.chainType==="solana",f=h?void 0:l,p=x.useMemo(()=>((R,M,F,W,V,B)=>{var I;let k,C,S=F.chainType==="solana",T=S?void 0:F,_=F.isUSDC?"USDC":T!=null&&T.erc20Address?void 0:"native-currency",P=!!S||_&&Ort(Number(F.chain.id),_),D=!!S||_&&lit(Number(F.chain.id),_),j=[];for(let L of(F.preferredCardProvider&&F.supportedOptions.sort(J=>J.provider===F.preferredCardProvider?-1:1),F.supportedOptions))L.method==="card"&&L.provider==="coinbase"&&D&&j.push(()=>voe(M,F,W,V,B,"buy")),L.method==="card"&&L.provider==="moonpay"&&P&&_&&j.push(()=>n$t(M,F,R,_,W,V,B,"credit_debit_card"));for(let L of F.supportedOptions)L.method==="exchange"&&L.provider==="coinbase"&&D&&(k=()=>voe(M,F,W,V,B,"buy"));for(let L of((I=B==null?void 0:B.funding)==null?void 0:I.supportedOptions)??[])L.method==="wallets"&&(C=()=>V(mC));return{onFundWithCard:j,onFundWithExchange:k,onFundWithWallet:C}})(a,o,l,s,r,i),[a,o,l,i,s,r]),m=h?n.find(({address:R})=>R===l.address):t.find(({address:R})=>Bi(R)===Bi(l.address)),g=Dg((m==null?void 0:m.walletClientType)||"unknown"),y=(g==null?void 0:g.name)||"wallet",w=m&&m.walletClientType!=="privy"?y:a.name,v=x.useMemo(()=>{var R,M,F,W;return(M=(R=l.uiConfig)==null?void 0:R.landing)!=null&&M.title?(W=(F=l.uiConfig)==null?void 0:F.landing)==null?void 0:W.title:`Add funds to your ${w!=null&&w.toLowerCase().endsWith("wallet")?w:w+" wallet"}`},[(E=(A=l.uiConfig)==null?void 0:A.landing)==null?void 0:E.title,w]);x.useEffect(()=>{if(l!=null&&l.defaultFundingMethod&&l.usingDefaultFundingMethod)switch(s({funding:{...l,usingDefaultFundingMethod:!1},solanaFundingData:i==null?void 0:i.solanaFundingData}),l==null?void 0:l.defaultFundingMethod){case"card":p.onFundWithCard[0]&&p.onFundWithCard[0]();break;case"exchange":p.onFundWithExchange&&p.onFundWithExchange();break;case"wallet":p.onFundWithWallet&&p.onFundWithWallet();break;case"manual":r(K7)}},[]),x.useEffect(()=>{f!=null&&f.erc20Address&&!f.erc20ContractInfo&&SEe({address:f.erc20Address,chain:f.chain,rpcConfig:a.rpcConfig,privyAppId:a.id}).then(R=>{s({...i,funding:{...f,erc20ContractInfo:R?{symbol:R.symbol,decimals:R.decimals}:void 0}})}).catch(console.error)},[f==null?void 0:f.erc20Address,f==null?void 0:f.chain]);let b=!(!(f!=null&&f.erc20Address)||f!=null&&f.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx("h3",{children:v}),d.jsxs(BTt,{children:[l.errorMessage&&d.jsx(kEe,{theme:a.appearance.palette.colorScheme,children:l.errorMessage}),(($=p.onFundWithCard)==null?void 0:$[0])&&d.jsxs(Gr,{disabled:b,onClick:p.onFundWithCard[0],children:[d.jsx(O6,{children:d.jsx(hat,{style:{width:24}})}),"Pay with card",c?d.jsx(ATt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?d.jsx(CTt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),p.onFundWithExchange&&d.jsxs(Gr,{disabled:b,onClick:p.onFundWithExchange,children:[d.jsx(O6,{children:d.jsx(gq,{style:{width:24}})}),"Transfer from an exchange"]}),p.onFundWithWallet&&d.jsxs(Gr,{disabled:b,onClick:p.onFundWithWallet,children:[d.jsx(O6,{children:d.jsx(K4e,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(Gr,{disabled:b,onClick:()=>r(K7),children:[d.jsx(O6,{children:d.jsx(pat,{style:{width:24}})}),"Receive funds"]}),(l==null?void 0:l.showAlternateFundingMethod)&&((N=p.onFundWithCard)==null?void 0:N[1])&&d.jsx(EEe,{theme:a.appearance.palette.colorScheme,children:d.jsxs(FTt,{children:["Having trouble or facing location restrictions?"," ",d.jsx(UTt,{onClick:p.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(er,{})]})}},K7={component:()=>{var F,W,V;let{wallets:t}=Lg(),{connectors:e}=st(),n=e.filter(lN).flatMap(B=>B.wallets),{data:r,setModalData:i,navigate:s,lastScreen:o}=lt(),{rpcConfig:a,appId:l,createAnalyticsEvent:c,closePrivyModal:u}=st(),h=Fn(),[f,p]=x.useState(void 0),[m,g]=x.useState(!1),y=r==null?void 0:r.funding,{reloadBalance:w}=CEe({rpcConfig:a,appId:l,address:y.chainType==="ethereum"?y.address:void 0,chain:y.chainType==="ethereum"?y.chain:void 0}),v=y.chainType==="solana",b=v?y.isUSDC?"USDC":"SOL":y.erc20Address?(F=y.erc20ContractInfo)==null?void 0:F.symbol:y.chain.nativeCurrency.symbol,A=v?n.find(({address:B})=>B===y.address):t.find(({address:B})=>Xo(B)===Xo(y.address));if(!y)return i({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:o||ud},funding:r==null?void 0:r.funding,solanaFundingData:r==null?void 0:r.solanaFundingData,sendTransaction:r==null?void 0:r.sendTransaction}),s(Kr),d.jsx(d.Fragment,{});x.useEffect(()=>{let B=v?async function(){if(y.chainType!=="solana")return;let C=h.solanaRpcs[y.chain];C?(y.isUSDC?async function({rpc:S,address:T,mintAddress:_}){var j;let P=await S.getTokenAccountsByOwner(T,{mint:_},{encoding:"jsonParsed",commitment:"confirmed"}).send(),D=(j=P.value[0])==null?void 0:j.account;return D?BigInt(D.data.parsed.info.tokenAmount.amount):0n}({rpc:C.rpc,address:y.address,mintAddress:FO(y.chain)}):ZG({rpc:C.rpc,address:y.address})).then(S=>{let T=BigInt(S);f&&T>f&&(g(!0),c({eventName:nf,payload:{provider:"manual",status:"success",chainType:"solana",address:A==null?void 0:A.address,value:y.isUSDC?Wa(T-f,6):Wa(T-f,9),token:y.isUSDC?"USDC":"SOL"}})),p(T)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){y.chainType==="ethereum"&&(async()=>{if(!y.erc20Address)return await w()??BigInt(0);{let{balance:C}=await JG({chain:y.chain,address:y.address,erc20Address:y.erc20Address,rpcConfig:a,appId:l});return C}})().then(C=>{var S,T;f&&C>f&&(g(!0),c({eventName:nf,payload:{provider:"manual",status:"success",chainType:"ethereum",address:A==null?void 0:A.address,chainId:y.chain.id,value:Wa(C-f,((S=y.erc20ContractInfo)==null?void 0:S.decimals)??18),token:((T=y.erc20ContractInfo)==null?void 0:T.symbol)??y.erc20Address??"ETH"}})),p(C)}).catch(()=>p(void 0))},k=setInterval(B,2e3);return B(),()=>clearInterval(k)},[f]);let E=x.useMemo(()=>{var B;return f==null?"":y.isUSDC?NL({amount:f,decimals:6}):v?hS(f,3,!0,!0):((B=y.erc20ContractInfo)==null?void 0:B.decimals)!=null?NL({amount:f,decimals:y.erc20ContractInfo.decimals}):uit({wei:f})},[f,v,y]),$=y.chainType==="ethereum"?y.chain.name:$N(y.chain),N=x.useMemo(()=>{var B,k;return((B=y.uiConfig)==null?void 0:B.receiveFundsTitle)===""?null:d.jsx(xg,{children:((k=y.uiConfig)==null?void 0:k.receiveFundsTitle)??`Receive ${y.amount} ${b??""}`.trim()})},[(W=y.uiConfig)==null?void 0:W.receiveFundsTitle,y.amount,b]),R=x.useMemo(()=>{var B,k;return((B=y.uiConfig)==null?void 0:B.receiveFundsSubtitle)===""?null:d.jsx(uw,{children:((k=y.uiConfig)==null?void 0:k.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${$}.`})},[(V=y.uiConfig)==null?void 0:V.receiveFundsSubtitle,$]),M=y.chainType==="solana"&&y.isUSDC&&FO(y.chain)?`?spl-token=${FO(y.chain)}`:"";return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),N,R,d.jsxs(fN,{style:{gap:"1rem",margin:N||R?"1rem 0":"0"},children:[d.jsx(fC,{url:`${y.chainType}:${y.address}${M}`,size:200,squareLogoElement:s$t}),d.jsxs(EEe,{theme:h.appearance.palette.colorScheme,children:["Make sure to send funds on ",$,"."]}),d.jsx(TN,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${E} ${b}`,address:y.address}),m&&d.jsx(pr,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(er,{})]})}};let s$t=({...t})=>d.jsx(K6e,{color:"black",...t}),o$t=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],a$t=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?d.jsx(l$t,{children:Object.entries(n).map(([r,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[r,":"]})," ",e(i)]},r))}):d.jsx("span",{children:String(n)});return d.jsx("div",{children:e(t)})};const LEe=X.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let l$t=X.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const FEe=({data:t,className:e})=>d.jsx(LEe,{className:e,children:d.jsx(a$t,{data:t})});let c$t=X.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var u$t=({onBack:t,details:e})=>d.jsxs(c$t,{children:[d.jsx(bn,{backFn:t}),d.jsx(FEe,{data:e}),d.jsx(er,{})]});const d$t=X(or).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var Eoe=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return d.jsx(Aoe,{$isLoading:a});let l=e&&r&&o?function(c,u,h){let f=parseFloat(c),p=parseFloat(h);if(f===0||p===0||Number.isNaN(f)||Number.isNaN(p))return c;let m=Math.ceil(-Math.log10(.01/(p/f))),g=Math.pow(10,m=Math.max(m=Math.min(m,u),1)),y=+(Math.floor(f*g)/g).toFixed(m).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(y)}(e,o,r):e;return d.jsxs("div",{children:[d.jsxs(Aoe,{$isLoading:a,children:[t&&d.jsx(f$t,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",n]}),r&&d.jsxs(h$t,{$isLoading:a,children:["$",r]})]})};let Aoe=X.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],SN);const h$t=X.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],SN);let f$t=X.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const p$t=t=>{var a,l,c,u,h,f,p,m;let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:s,functionName:o}=n;return d.jsx(IN,{children:d.jsxs(XG,{children:[s!=="transaction"&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Action"}),d.jsx(ki,{children:o})]}),o==="mint"&&"args"in n&&n.args.filter(g=>g).map((g,y)=>{var w,v;return d.jsxs(Ar,{children:[d.jsx(or,{children:`Param ${y}`}),d.jsx(ki,{children:typeof g=="string"&&nl(g)?d.jsx(La,{address:g,url:(v=(w=e==null?void 0:e.blockExplorers)==null?void 0:w.default)==null?void 0:v.url,showCopyIcon:!1}):g==null?void 0:g.toString()})]},y)}),o==="setApprovalForAll"&&n.operator&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Operator"}),d.jsx(ki,{children:d.jsx(La,{address:n.operator,url:(l=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:l.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&n.approved!==void 0&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Set approval to"}),d.jsx(ki,{children:n.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Amount"}),d.jsxs(ki,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Token ID"}),d.jsx(ki,{children:n.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in n&&n.amounts&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Amounts"}),d.jsx(ki,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Token IDs"}),d.jsx(ki,{children:n.tokenIds.join(", ")})]})]}),o==="approve"&&n.spender&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Spender"}),d.jsx(ki,{children:d.jsx(La,{address:n.spender,url:(u=(c=e==null?void 0:e.blockExplorers)==null?void 0:c.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferFrom&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Transferring from"}),d.jsx(ki,{children:d.jsx(La,{address:n.transferFrom,url:(f=(h=e==null?void 0:e.blockExplorers)==null?void 0:h.default)==null?void 0:f.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferTo&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Transferring to"}),d.jsx(ki,{children:d.jsx(La,{address:n.transferTo,url:(m=(p=e==null?void 0:e.blockExplorers)==null?void 0:p.default)==null?void 0:m.url,showCopyIcon:!1})})]})]})})},UEe=({children:t,theme:e})=>d.jsxs(m$t,{$theme:e,children:[d.jsx(Dw,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(g$t,{$theme:e,children:t})]});let m$t=X.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),g$t=X.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const y$t=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?d.jsx(Coe,{children:d.jsxs(UEe,{theme:n,children:[d.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),d.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?d.jsx(d.Fragment,{children:d.jsxs(Coe,{children:[d.jsx(kEe,{theme:n,children:d.jsxs("div",{children:[d.jsx("strong",{children:"This is a malicious transaction"}),d.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),d.jsxs(w$t,{children:[d.jsx(T4e,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),d.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let Coe=X.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),w$t=X.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const b$t=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,v$t=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:s,subtitle:o,to:a,tokenAddress:l,network:c,missingFunds:u,fee:h,from:f,cta:p,disabled:m,chain:g,isSubmitting:y,isPreparing:w,isTokenPriceLoading:v,isTokenContractInfoLoading:b,isSponsored:A,symbol:E,balance:$,onClick:N,transactionDetails:R,transactionIndex:M,maxIndex:F,onBack:W,chainName:V,validation:B,hasScanDetails:k,setIsScanDetailsOpen:C,preventMaliciousTransaction:S,setPreventMaliciousTransaction:T,tokensSent:_,tokensReceived:P,isScanning:D,isCancellable:j,functionName:I})=>{var ie,de,oe,he,we,fe;let{showTransactionDetails:L,setShowTransactionDetails:J,hasMoreDetails:O,isErc20Ish:G}=(ke=>{let[be,Ue]=x.useState(!1),Me=!0,Se=!1;return(!ke||ke.isErc20Ish||ke.action==="transaction")&&(Me=!1),Me&&(Se=Object.entries(ke||{}).some(([xe,Ne])=>Ne&&!["action","isErc20Ish","isNFTIsh"].includes(xe))),{showTransactionDetails:be,setShowTransactionDetails:Ue,hasMoreDetails:Me&&Se,isErc20Ish:ke==null?void 0:ke.isErc20Ish}})(R),Z=Fn(),Q=G&&b||w||v||D;return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r,backFn:W}),t&&d.jsx(A$t,{children:t}),d.jsxs(xg,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(b$t,{maxIndex:F,transactionIndex:M})]}),d.jsx(uw,{children:o}),d.jsxs(XG,{style:{marginTop:"2rem"},children:[(!!_[0]||Q)&&d.jsxs(Ar,{children:[P.length>0?d.jsx(or,{children:"Send"}):d.jsx(or,{children:i==="approve"?"Approval amount":"Amount"}),d.jsx("div",{className:"flex flex-col",children:_.map((ke,be)=>d.jsx(Eoe,{iconUrl:ke.iconUrl,value:I==="setApprovalForAll"?"All":ke.value,usdValue:ke.usdValue,symbol:ke.symbol,nftName:ke.nftName,nftCount:ke.nftCount,decimals:ke.decimals},be))})]}),P.length>0&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Receive"}),d.jsx("div",{className:"flex flex-col",children:P.map((ke,be)=>d.jsx(Eoe,{iconUrl:ke.iconUrl,value:ke.value,usdValue:ke.usdValue,symbol:ke.symbol,nftName:ke.nftName,nftCount:ke.nftCount,decimals:ke.decimals},be))})]}),R&&"spender"in R&&(R!=null&&R.spender)?d.jsxs(Ar,{children:[d.jsx(or,{children:"Spender"}),d.jsx(ki,{children:d.jsx(La,{address:R.spender,url:(de=(ie=g==null?void 0:g.blockExplorers)==null?void 0:ie.default)==null?void 0:de.url})})]}):null,a&&d.jsxs(Ar,{children:[d.jsx(or,{children:"To"}),d.jsx(ki,{children:d.jsx(La,{address:a,url:(he=(oe=g==null?void 0:g.blockExplorers)==null?void 0:oe.default)==null?void 0:he.url,showCopyIcon:!0})})]}),l&&d.jsxs(Ar,{children:[d.jsx(or,{children:"Token address"}),d.jsx(ki,{children:d.jsx(La,{address:l,url:(fe=(we=g==null?void 0:g.blockExplorers)==null?void 0:we.default)==null?void 0:fe.url})})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"Network"}),d.jsx(ki,{children:c})]}),d.jsxs(Ar,{children:[d.jsx(or,{children:"Estimated fee"}),d.jsx(ki,{$isLoading:w||v||A===void 0,children:A?d.jsxs(C$t,{children:[d.jsxs(k$t,{children:["Sponsored by ",Z.name]}),d.jsx(Tdt,{height:16,width:16})]}):h})]}),O&&!k&&d.jsxs(d.Fragment,{children:[d.jsx(Ar,{className:"cursor-pointer",onClick:()=>J(!L),children:d.jsxs(STt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(Nq,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:L?"rotate(180deg)":void 0}})]})}),L&&R&&d.jsx(p$t,{action:i,chain:g,transactionDetails:R,isTokenContractInfoLoading:b,symbol:E})]}),k&&d.jsx(Ar,{children:d.jsxs(d$t,{onClick:()=>C(!0),children:[d.jsx("span",{className:"text-color-primary",children:"Details"}),d.jsx(_dt,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),d.jsx(Xx,{}),e?d.jsx(cw,{style:{marginTop:"2rem"},children:e.message}):n&&M===0?d.jsx(cw,{style:{marginTop:"2rem"},children:n.shortMessage??E$t}):null,d.jsx(y$t,{variant:B,preventMaliciousTransaction:S,setPreventMaliciousTransaction:T}),d.jsx(x$t,{$useSmallMargins:!(!n&&!e&&B!=="warn"&&B!=="error"),address:f,balance:$,errMsg:w||n||e||!u?void 0:`Add funds on ${(g==null?void 0:g.name)??V} to complete transaction.`}),d.jsx(pr,{style:{marginTop:"1rem"},loading:y,disabled:m||w,onClick:N,children:p}),j&&d.jsx(dN,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),d.jsx(er,{})]})};let x$t=X(TN).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),E$t="There was an error preparing your transaction. Your transaction request will likely fail.",A$t=X.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),C$t=X.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),k$t=X.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),S$t=()=>d.jsxs(N$t,{children:[d.jsx(R$t,{}),d.jsx(P$t,{})]});const _$t=({transactionError:t,chainId:e,onClose:n,onRetry:r,chainType:i,transactionHash:s})=>{let{chains:o}=st(),[a,l]=x.useState(!1),{errorCode:c,errorMessage:u}=((f,p)=>{if(p==="ethereum")return{errorCode:f.details??f.message,errorMessage:f.shortMessage};let m=f.txSignature,g=(f==null?void 0:f.transactionMessage)||"Something went wrong.";if(Array.isArray(f.logs)){let y=f.logs.find(w=>/insufficient (lamports|funds)/gi.test(w));y&&(g=y)}return{transactionHash:m,errorMessage:g}})(t,i),h=(({chains:f,chainId:p,chainType:m,transactionHash:g})=>{var y,w;return m==="ethereum"?((w=(y=f.find(v=>v.id===p))==null?void 0:y.blockExplorers)==null?void 0:w.default.url)??"https://etherscan.io":function(v,b){return`https://explorer.solana.com/tx/${v}?chain=${b}`}(g||"",p)})({chains:o,chainId:e,chainType:i,transactionHash:s});return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:n}),d.jsxs(I$t,{children:[d.jsx(S$t,{}),d.jsx(T$t,{children:c}),d.jsx($$t,{children:"Please try again."}),d.jsxs(Soe,{children:[d.jsx(koe,{children:"Error message"}),d.jsx(_oe,{$clickable:!1,children:u})]}),s&&d.jsxs(Soe,{children:[d.jsx(koe,{children:"Transaction hash"}),d.jsxs(O$t,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:h,children:"block explorer"})}),"."]}),d.jsxs(_oe,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),l(!0)},children:[s,d.jsx(B$t,{clicked:a})]})]}),d.jsx(j$t,{onClick:()=>r({resetNonce:!!s}),children:"Retry transaction"})]}),d.jsx(Ri,{})]})};let I$t=X.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),T$t=X.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),$$t=X.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),N$t=X.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),P$t=X(yq).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),R$t=X.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),j$t=X(pr).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),koe=X.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),Soe=X.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),O$t=X.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),_oe=X.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),M$t=X(Bdt).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),D$t=X(m2e).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),B$t=({clicked:t})=>d.jsx(t?D$t:M$t,{}),L$t=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return _i(t*e)}catch{return}};const F$t=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r}),d.jsx(u_t,{title:o??"Transaction complete!",description:a??"You're all set."}),d.jsx(y4e,{tokenPrice:i,from:e.from,to:e.to,gas:L$t(e),txn:t,transactionInfo:n,tokenSymbol:s}),d.jsx(Xx,{}),d.jsx(U$t,{loading:!1,onClick:r,children:"All Done"}),d.jsx(Nd,{}),d.jsx(er,{})]});let U$t=X(pr).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const z$t=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],W$t=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],H$t=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],V$t=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],q$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],G$t=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Y$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Q$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],zEe=(t,e)=>{let n=If(H$t,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=If(TU,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=If(z$t,t);if(i&&typeof i.args[1]=="string"){let h=Z$t(i.args[1]);if(h&&h[4].encodedInitData)return zEe(h[4].encodedInitData,e)}let s=If(G$t,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=If(K$t,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=If(q$t,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=If(Q$t,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=If(Y$t,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=If(V$t,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let If=(t,e)=>{try{let n=sge({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},Z$t=t=>{try{if(typeof t=="string")return R3(W$t,`0x${t.slice(10)}`)}catch{return null}},UO=t=>`${parseFloat(t).toFixed(2)}`;function J$t(t,e){var i,s,o,a,l;let n=[],r=new Map;if(t){for(let c of t)if(c.in[0]){let u;u=c.asset.type==="ERC721"||c.in[0].value==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name,nftCount:c.in.length}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:c.in[0].value,symbol:c.asset.symbol,usdValue:c.in[0].usd_price?UO(c.in[0].usd_price):void 0,decimals:c.asset.decimals},n.push(u)}else if((i=c.out[0])!=null&&i.value){let u;u=c.asset.type==="ERC721"||c.out[0].value==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:c.out[0].value,symbol:c.asset.symbol,usdValue:c.out[0].usd_price?UO(c.out[0].usd_price):void 0,decimals:c.asset.decimals},r.has(u.id)||r.set(u.id,u)}}for(let c of e)for(let u of Object.keys(c.spenders)){let h;h=c.asset.type==="ERC721"||((s=c.spenders[u])==null?void 0:s.value)==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:(o=c.spenders[u])==null?void 0:o.value,symbol:c.asset.symbol,usdValue:(a=c.spenders[u])!=null&&a.usd_price?UO((l=c.spenders[u])==null?void 0:l.usd_price):void 0,decimals:c.asset.decimals},r.has(h.id)||r.set(h.id,h)}return{assetsIn:n,assetsOut:Array.from(r.values())}}const X$t=(t,e,n,r)=>{let[i,s]=x.useState(null),{walletProxy:o}=st();return x.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,c=await W7(t,n,e,r).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:a.push(u),t));return{tx:c,totalGasEstimate:c.gas,hasFunds:l,errors:a}})().then(s)},[t]),i};let Ioe=new xo(new i2("There was an issue preparing your transaction",Xu.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),Toe=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const WEe={component:()=>{var Bt,He,Ln,En,ot,Qt,q,Y,ae,re,le,me,$e,Oe,Mt,bt,St,rn;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=lt(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:c}=st(),{user:u}=Sn(),h=Fn(),[f,p]=x.useState(0),[m,g]=x.useState(0),[y,w]=x.useState(Toe(t,f)),[v,b]=x.useState(null),[A,E]=x.useState(),[$,N]=x.useState(!1),[R,M]=x.useState(null),[F,W]=x.useState(null),[V,B]=x.useState(null),[k,C]=x.useState(void 0),[S,T]=x.useState(void 0),[_,P]=x.useState(!1),[D,j]=x.useState(!1),[I,L]=x.useState([]),[J,O]=x.useState([]),[G,Z]=x.useState("uninitiated"),[Q,ie]=x.useState(void 0);if(!y||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return d.jsx(CN,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{var Qe;(Qe=t==null?void 0:t.sendTransaction)==null||Qe.onFailure(Ioe),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:de}=t.sendTransaction,oe=x.useMemo(()=>o.find(Qe=>Number(Qe.id)===Number(y.chainId)),[y.chainId]),he=(oe==null?void 0:oe.nativeCurrency.symbol)??"ETH",we=x.useMemo(()=>zEe(y.data,!!h.embeddedWallets.extendedCalldataDecoding),[y.data]),{action:fe,isErc20Ish:ke,isNFTIsh:be,functionName:Ue}=we,{toAddress:Me,tokenAddress:Se}=x.useMemo(()=>({toAddress:we.isErc20Ish?we.transferTo:y.to??void 0,tokenAddress:we.isErc20Ish?y.to:void 0}),[we]);x.useEffect(()=>{y.to&&oe&&ke&&SEe({address:y.to,chain:oe,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(b).catch(console.error)},[y.to,oe]);let{tokenPrice:xe,isTokenPriceLoading:Ne}=dC(y.chainId),{balance:Be}=CEe({rpcConfig:h.rpcConfig,appId:h.id,address:de,chain:oe}),Ce=function({rpcConfig:Qe,appId:ut,address:at,chain:ct,tokenInfo:ht}){let{chains:an}=st(),[zn,Ht]=x.useState(null),[Ft,An]=x.useState(!1),oi=x.useMemo(()=>{let Gt=ct||an[0];if(Gt)return Vp({chain:ct,transport:qp(Snt(Gt,Qe,ut))})},[ct,Qe,ut]),uc=x.useCallback(async()=>{if(at&&oi&&ht.address)try{return An(!0),await oi.readContract({address:ht.address,abi:o$t,functionName:"balanceOf",args:[at]})}catch(Gt){console.error(Gt)}finally{An(!1)}},[oi,at,ht==null?void 0:ht.address,ct]);return x.useEffect(()=>{uc().then(Gt=>Gt!=null&&Ht(Gt))},[uc]),{balance:zn,isLoading:Ft&&zn==null,formattedBalance:NL({amount:zn??BigInt(0),decimals:ht.decimals})}}({rpcConfig:h.rpcConfig,appId:h.id,address:de,tokenInfo:{address:Se||"",decimals:(v==null?void 0:v.decimals)??18},chain:oe}),De=x.useMemo(()=>Jx(Number(y.chainId),o,s,{appId:h.id}),[y.chainId,s]),Ve=X$t(y,de,De,(Bt=t==null?void 0:t.sendTransaction)==null?void 0:Bt.prepareTransactionRequest);x.useEffect(()=>{w(Toe(t,f))},[f]),x.useEffect(()=>{var Qe;(Qe=t.sendTransaction)!=null&&Qe.getIsSponsored?t.sendTransaction.getIsSponsored().then(E).catch(console.error):E(!1)},[t.sendTransaction.getIsSponsored]);let rt=()=>{var Qe,ut,at;if(!$)return R?(Qe=t==null?void 0:t.sendTransaction)==null||Qe.onSuccess({hash:R}):V||Ve!=null&&Ve.errors[0]?(ut=t==null?void 0:t.sendTransaction)==null||ut.onFailure(V??(Ve==null?void 0:Ve.errors[0])??Ioe):(at=t==null?void 0:t.sendTransaction)==null||at.onFailure(new xo(new i2("The user rejected the request",Xu.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=rt;let K=!!(t.funding&&t.funding.supportedOptions.length>0),U=cd(BigInt((Ve==null?void 0:Ve.totalGasEstimate)??0n),he),z=c&&xe?_1(BigInt((Ve==null?void 0:Ve.totalGasEstimate)??0n),xe):void 0,ee=cd(Be??0n,he,void 0,!0),ne=c&&xe?_1(Be??0n,xe):void 0,se=v&&!Ce.isLoading&&ke&&fe!=="approve"?`${Ce.formattedBalance} ${v.symbol}`:void 0,ce=(En=(Ln=(He=t.sendTransaction)==null?void 0:He.uiOptions)==null?void 0:Ln.transactionInfo)==null?void 0:En.title;ce||(ce=fe==="approve"?ke?"Confirm address":"Confirm action":`Approve ${fe}`);let Le=x.useMemo(()=>{var Qe,ut,at,ct,ht,an,zn,Ht;if((ut=(Qe=t.sendTransaction)==null?void 0:Qe.uiOptions)!=null&&ut.description)return(ct=(at=t.sendTransaction)==null?void 0:at.uiOptions)==null?void 0:ct.description;if(fe==="approve"&&Ue==="setApprovalForAll"&&we.approved){let Ft=d.jsx(La,{address:we.operator||"",url:(an=(ht=oe==null?void 0:oe.blockExplorers)==null?void 0:ht.default)==null?void 0:an.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission for ",Ft," to transfer tokens on your behalf."]})}if(fe==="approve"&&Ue==="setApprovalForAll"&&!we.approved){let Ft=d.jsx(La,{address:we.operator||"",url:(Ht=(zn=oe==null?void 0:oe.blockExplorers)==null?void 0:zn.default)==null?void 0:Ht.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Ft," from transferring tokens on your behalf."]})}return ke&&fe==="approve"||ke&&fe==="approve"?`${h.name} would like your permission for ${Xo(we.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`},[h.name,ke,we,(ot=t.sendTransaction)==null?void 0:ot.uiOptions.description,Ue]),Xe=(ae=(Y=(q=(Qt=t.sendTransaction)==null?void 0:Qt.uiOptions)==null?void 0:q.transactionInfo)==null?void 0:Y.contractInfo)!=null&&ae.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Ye=!(!Ve||Ve.errors[0]||Ve.hasFunds||A!==!1),et=Ye&&K,Re=et?"Add funds":((le=(re=t.sendTransaction)==null?void 0:re.uiOptions)==null?void 0:le.buttonText)||(f<m?"Continue":"Approve"),Tt=Qe=>{if(!Qe)throw Error("Transaction scan failed");if(Qe.validation.status==="Success"&&(Qe.validation.result_type==="Benign"?T("safe"):Qe.validation.result_type==="Warning"?T("warn"):Qe.validation.result_type==="Malicious"&&(T("error"),j(!0))),Qe.simulation.status!=="Success")throw Error("Simulation failed");{C(Qe.simulation.params);let{assetsIn:ut,assetsOut:at}=J$t(Qe.simulation.assets_diffs,Qe.simulation.exposures);if(at.length===0&&ut.length===0)throw Error("No tokens found");L(at),O(ut)}};if(x.useEffect(()=>{var Qe;(Qe=t.sendTransaction)!=null&&Qe.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&G==="uninitiated"&&(Z("in progress"),t.sendTransaction.scanTransaction().then(ut=>{Tt(ut),Z("completed")}).catch(()=>Z("failed")))},[!!((me=t.sendTransaction)!=null&&me.scanTransaction)]),x.useEffect(()=>{var Qe;(Qe=t.sendTransaction)!=null&&Qe.scanTransaction&&G!=="failed"||((ut,at,ct)=>{if(g((ht=>ht!=null&&ht.sendTransaction?"transactionRequest"in ht.sendTransaction?0:ht.sendTransaction.transactionRequests.length-1:0)(t)),at.isErc20Ish&&at.amount&&ct){let ht=G7({amount:at.amount,decimals:ct.decimals});ie(ht),L([{value:ht,symbol:ct==null?void 0:ct.symbol,decimals:ct==null?void 0:ct.decimals}])}else if(ut.value){let ht=BigInt(ut.value),an=xe?_1(ht,xe):void 0;L(c&&an?[{value:an}]:[{value:c4e(ht),symbol:he,decimals:18,usdValue:an}])}else L(c?[{value:"$0"}]:[{value:"0",symbol:he,decimals:18}])})((Ve==null?void 0:Ve.tx)??y,we,v)},[y,Ve==null?void 0:Ve.tx,we,v,G]),F)return d.jsx(F$t,{txn:(Ve==null?void 0:Ve.tx)??y,onClose:rt,receipt:F,transactionInfo:($e=t.sendTransaction)==null?void 0:$e.uiOptions.transactionInfo,tokenPrice:xe,tokenSymbol:he,receiptHeader:(Oe=t.sendTransaction)==null?void 0:Oe.uiOptions.successHeader,receiptDescription:(Mt=t.sendTransaction)==null?void 0:Mt.uiOptions.successDescription});if(V)return d.jsx(_$t,{transactionError:V,transactionHash:R??void 0,chainType:"ethereum",chainId:(Ve==null?void 0:Ve.tx.chainId)??y.chainId,onClose:rt,onRetry:({resetNonce:Qe})=>{B(null);let ut={...(Ve==null?void 0:Ve.tx)??y};Qe&&(ut.nonce=void 0),w(ut)}});let dn=m!==0&&typeof f=="number"&&f!==0?()=>{p(f-1)}:void 0;return _&&k?d.jsx(u$t,{details:k,onBack:()=>P(!1)}):d.jsx(v$t,{transactionIndex:f,onBack:dn,maxIndex:m,disabled:Ye&&!K||D,isSubmitting:$,submitError:V,isPreparing:!Ve,isTokenPriceLoading:Ne,isTokenContractInfoLoading:!be&&!v,prepareError:Ve==null?void 0:Ve.errors[0],symbol:v==null?void 0:v.symbol,chain:oe,img:Xe,title:ce,subtitle:Le,txValue:y.value,fee:z??U,isSponsored:A,from:de??"",to:Me,tokenAddress:Se??void 0,network:((bt=h.chains.find(Qe=>Qe.id===y.chainId))==null?void 0:bt.name)??"",transactionDetails:{...we,formattedAmount:Q},cta:Re,missingFunds:Ye,action:fe,balance:se??ne??ee,onClose:rt,onClick:et?async()=>{var Qe;if(de){if(!K)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:ud,chainType:"ethereum",amount:$w(BigInt((Ve==null?void 0:Ve.tx.value)??0)+BigInt(((Qe=Ve==null?void 0:Ve.totalGasEstimate)==null?void 0:Qe.toString())??0)),chain:oe},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(ud)}}:async()=>{var Qe,ut;if(f<m)p(f+1);else{N(!0);try{let at=await i.getAccessToken();if($||!at||!l||!u)return;let ct=await t.sendTransaction.onConfirm({transactionRequest:(Ve==null?void 0:Ve.tx)??y});if(M(ct),(Qe=t.sendTransaction)==null?void 0:Qe.signOnly)return await new Promise(an=>setTimeout(an,Wr)),(ut=t==null?void 0:t.sendTransaction)==null||ut.onSuccess({hash:ct}),a({shouldCallAuthOnSuccess:!1});let ht=await De.waitForTransactionReceipt({hash:ct});if(ht.status==="reverted")throw Error("Transaction failed");W(ht)}catch(at){console.warn({transaction:(Ve==null?void 0:Ve.tx)??y,error:at}),B(at)}finally{N(!1)}}},validation:S,hasScanDetails:!!k,setIsScanDetailsOpen:P,preventMaliciousTransaction:D,setPreventMaliciousTransaction:j,tokensSent:I,tokensReceived:J,isScanning:G==="in progress",isCancellable:((rn=(St=t.sendTransaction)==null?void 0:St.uiOptions)==null?void 0:rn.isCancellable)??!1,functionName:Ue})}};function su({title:t}){var o,a;let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:s}=lt();return d.jsx(bn,{title:t,backFn:e===K7?n:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>r(WEe):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),r(l.methodScreen)}:void 0})}const HEe={component:()=>{let t=Fn(),{rpcConfig:e,appId:n,closePrivyModal:r,createAnalyticsEvent:i}=st(),{navigate:s,setModalData:o,app:a,data:l}=lt(),{wallets:c}=Lg(),[u,h]=x.useState(null),[f,p]=x.useState(null),[m,g]=x.useState([]),[y,w]=x.useState(0),[v,b]=x.useState(!1),[A,E]=x.useState(!1),[$,N]=x.useState(!1),[R,M]=x.useState(!1),[F,W]=x.useState(),[V,B]=x.useState();if(!(l!=null&&l.funding)||l.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:k,chain:C,connectedWalletAddress:S}=l.funding,[T,_]=x.useState(l.funding.amount),P=S?c.find(({address:we})=>we===S):c[0],D=Dg((P==null?void 0:P.walletClientType)||"unknown"),j=(D==null?void 0:D.name)||"wallet",[I,L]=x.useState(null);x.useEffect(()=>{(async()=>{if(!P)return;let we=await P.getEthereumProvider();L(E1e({account:P.address,transport:C1e(we)}).extend(LV))})().catch(console.error)},[P]);let[J,O]=x.useState(0n),G=hS(J);x.useEffect(()=>{let we=t.solanaRpcs[C];we?ZG({rpc:we.rpc,address:k}).then(fe=>O(BigInt(fe))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")},[]);let[Z,Q]=x.useState(),{tokenPrice:ie}=dC("solana"),{fundingAmountInBaseUnit:de,fundingAmountInUsd:oe}=function({amount:we,fee:fe,tokenPrice:ke,isUsdc:be}){let Ue=BigInt(Math.floor(parseFloat(we)*10**(be?6:9))),Me=be?Ue:Ue+fe;return{fundingAmountInBaseUnit:Ue,fundingAmountInUsd:ke?OO(Ue,ke):void 0,totalPriceInUsd:ke?OO(Me,ke):void 0,totalPriceInNativeCurrency:hS(Me),feePriceInNativeCurrency:hS(fe),feePriceInUsd:ke?OO(fe,ke):void 0}}({amount:T,fee:0n,tokenPrice:ie,isUsdc:l.funding.isUSDC});if(x.useEffect(()=>{(async()=>{if(!I||!P)return;let we=["solana:testnet","solana:devnet"].includes(C);we&&console.warn("Solana testnets are not supported for bridging");let fe=WV(a.chains).filter(({testnet:Se})=>!!Se===we),ke=(await _Ee({chains:fe,address:P.address,appId:n,rpcConfig:e})).filter(Se=>Se.balance>0n);if(ke.length<1)return void h(new ue(`Wallet ${Xo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));ke.sort((Se,xe)=>Number(xe.balance-Se.balance));let be=(await Promise.allSettled(ke.map(async Se=>({...Se,quote:await p8({isTestnet:!1,input:o2({amount:de.toString(),user:P.address,recipient:k,destinationChainId:bU,destinationCurrency:vU,originChainId:Se.chain.id})})})))).filter(Se=>Se.status==="fulfilled").map(Se=>Se.value);if(be.length<1)return void h(new ue(`Unable to fetch quotes for bridging. Wallet ${Xo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let Ue=be.map(({quote:Se,balance:xe,chain:Ne})=>({bridgeTx:H7(Se),balance:xe,chain:Ne,isErc20Quote:!1})).filter(({bridgeTx:Se})=>!!Se);if(Ue.length>1)return void g(Ue);let Me=Ue.at(0);Me?(E(!0),Q({data:Me.bridgeTx.data,to:Me.bridgeTx.to,value:Me.bridgeTx.value,chain:Me.chain})):h(new ue(`Unable to select bridge option from quotes. Wallet ${Xo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[I]),x.useEffect(()=>{(async()=>{let we,fe;if(!I||!P||v||$||!Z)return;b(!0);let ke=Vp({chain:Z.chain,transport:qp(Jp(Z.chain,e,n))});try{we=await ke.prepareTransactionRequest({account:P.address,to:Z.to,chain:Z.chain,data:Z.data,value:BigInt(Z.value??0)})}catch(be){console.error(be),m.length>1&&p(be.shortMessage??"Something went wrong")}if(we){b(!1),N(!0);try{await I.switchChain({id:Z.chain.id})}catch{await I.addChain({chain:Z.chain}),await I.switchChain({id:Z.chain.id})}try{fe=await I.sendTransaction(we)}catch(be){console.error(be),be.name==="TransactionExecutionError"&&(m.length<1?h(new ue(be.shortMessage,void 0,pe.TRANSACTION_FAILURE)):p(be.shortMessage??"Something went wrong"))}if(fe)return await I.waitForTransactionReceipt({hash:fe}),A?(B("pending"),void W(fe)):(N(!1),M(!0),void i({eventName:nf,payload:{provider:"external",status:"success",txHash:fe,address:P.address,chainId:Z.chain.id,chainType:"ethereum",value:Z.value?Wa(BigInt(Z.value),18):void 0,token:"ETH",destination:k,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Wa(de,9),destinationToken:"SOL"}}));N(!1)}else b(!1)})().catch(console.error)},[I,Z]),KG({transactionHash:F,isTestnet:!1,bridgingStatus:V,setBridgingStatus:B,onSuccess({transactionHash:we}){E(!1),M(!0),i({eventName:nf,payload:{provider:"external",status:"success",txHash:we,address:P==null?void 0:P.address,chainId:Z==null?void 0:Z.chain.id,chainType:"ethereum",value:Z!=null&&Z.value?Wa(BigInt(Z.value),18):void 0,token:"ETH",destination:k,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Wa(de,9),destinationToken:"SOL"}})},onFailure({error:we}){E(!1),h(we)}}),x.useEffect(()=>{u&&(o({funding:l==null?void 0:l.funding,solanaFundingData:l==null?void 0:l.solanaFundingData,sendTransaction:l==null?void 0:l.sendTransaction,errorModalData:{error:u,previousScreen:mC}}),s(Kr,!1))},[u]),x.useEffect(()=>{if(!R)return;let we=setTimeout(r,CG);return()=>clearTimeout(we)},[R]),R)return d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(hf,{}),d.jsxs(hN,{children:[d.jsx(u$,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(Sd,{title:"Success!",description:`Youve successfully added ${T} SOL to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(Nd,{}),d.jsx(er,{})]});let he=m[y];return m.length>1&&he?d.jsx(jEe,{displayName:j,configuredFundingChain:C,formattedBalance:G,fundingAmount:T,fundingCurrency:"SOL",fundingAmountInUsd:oe,options:m,selectedOption:he,isPreparing:v,isSubmitting:$,addressToFund:k,fundingWalletAddress:(P==null?void 0:P.address)||"",errorMessage:f,onSubmit:()=>{var we;((we=l.funding)==null?void 0:we.amount)!==T?async function(){if(P&&he)try{let fe=await p8({isTestnet:!1,input:o2({amount:de.toString(),user:P.address,recipient:k,destinationChainId:bU,destinationCurrency:vU,originChainId:he.chain.id})}),ke=H7(fe);if(!ke)throw Error("Invalid transaction request");E(!0),Q({data:ke.data,to:ke.to,value:ke.value,chain:he.chain})}catch(fe){console.error(fe),h(new ue("Unable to fetch quotes for bridging",fe,pe.INSUFFICIENT_BALANCE))}}().catch(console.error):Q({to:he.bridgeTx.to,data:he.bridgeTx.data,value:he.bridgeTx.value,chain:he.chain})},onSelect:we=>{we!==y&&(p(null),w(we))},onAmountChange:_}):$&&P?d.jsx(eK,{walletClientType:(P==null?void 0:P.walletClientType)||"unknown",displayName:j,addressToFund:k,isBridging:A,isErc20Flow:!1,chainId:"solana",chainName:$N(C),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(su,{}),d.jsx(t5,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},eNt=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>d.jsx(Rn,{title:"Export wallet",subtitle:d.jsxs(d.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:d.jsxs(tNt,{children:[d.jsx(UEe,{theme:n,children:"Never share your private key or seed phrase with anyone."}),d.jsx(TN,{title:"Your wallet",address:t,showCopyButton:!0}),d.jsx("div",{style:{width:"100%"},children:i?d.jsx(nNt,{}):e&&s&&d.jsx(sNt,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let tNt=X.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),nNt=()=>d.jsx(rNt,{children:d.jsx(iNt,{children:"Loading..."})}),rNt=X.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),iNt=X.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function sNt(t){let[e,n]=x.useState(t.dimensions.width),[r,i]=x.useState(void 0),s=x.useRef(null);x.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();n(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return d.jsx("div",{ref:s,children:e&&d.jsxs(oNt,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:F6e(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r},{token:t.accessToken})}),d.jsx($oe,{children:"Loading..."}),o&&d.jsx($oe,{children:"Loading..."})]})})}const VEe={component:()=>{let[t,e]=x.useState(null),{authenticated:n,user:r}=Sn(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=st(),l=Fn(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=lt(),{onFailure:h,onSuccess:f,origin:p,appId:m,appClientId:g,entropyId:y,entropyIdVerifier:w,walletId:v,hdWalletIndex:b,chainType:A,address:E,isUnifiedWallet:$,imported:N}=c.keyExport,R=F=>{i({shouldCallAuthOnSuccess:!1}),h(typeof F=="string"?Error(F):F)},M=()=>{i({shouldCallAuthOnSuccess:!1}),f(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:E}})};return x.useEffect(()=>{if(!n)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[n,r]),u.current=M,d.jsx(eNt,{address:E,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:M,isLoading:!t,exportButtonProps:t?{origin:p,appId:m,appClientId:g,clientAnalyticsId:o,entropyId:y,entropyIdVerifier:w,walletId:v,hdWalletIndex:b,isUnifiedWallet:$,imported:N,chainType:A}:void 0})}};let oNt=X.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),$oe=X.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const aNt=({connectionFailed:t,onClose:e})=>d.jsx(Rn,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:$$,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),i6={component:()=>{let{authenticated:t,user:e}=Sn(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=st(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=lt(),u=x.useMemo(()=>Date.now(),[]),[h,f]=x.useState(!1),{onCompleteNavigateTo:p,onFailure:m,shouldForceMFA:g,entropyId:y,entropyIdVerifier:w,recoveryMethod:v,connectingWalletAddress:b,isUnifiedWallet:A=!1}=a==null?void 0:a.connectWallet,E=$=>{h||(f(!0),m(typeof $=="string"?Error($):$))};return x.useEffect(()=>{let $;return t?s?((async()=>{let N=await n.getAccessToken();if(!N)return E("User must be authenticated and have a Privy wallet before it can be connected");try{A||await s.connect({accessToken:N,entropyId:y,entropyIdVerifier:w}),g&&await s.verifyMfa({accessToken:N});let R=(Date.now()-u)/1e3;p===VEe&&R<1?$=setTimeout(()=>{o(p,!1)},1e3*(1-R)):o(p,!1)}catch(R){if(f8(R)&&v==="privy"){let M=await n.getAccessToken();if(!M)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:b}});let F=await(s==null?void 0:s.recover({accessToken:M,entropyId:y,entropyIdVerifier:w}));F!=null&&F.entropyId||E(Error("Unable to recover wallet")),p?o(p):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:b}}),o(p)}catch{E("An error has occurred, please try again.")}}else f8(R)&&v!=="privy"&&v!=="privy-v2"?(l({...a,recoverWallet:{entropyId:y,entropyIdVerifier:w,onCompleteNavigateTo:p,onFailure:m},recoveryOAuthStatus:{provider:v,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(xEe(v))):E(R)}})(),()=>clearTimeout($)):void 0:E("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),c.current=()=>{E("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},d.jsx(aNt,{connectionFailed:h,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},lNt=({style:t,color:e,...n})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),tK=t=>{let[e,n]=x.useState(!1);return d.jsxs(cNt,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>n(!1),1500)},$justCopied:e,children:[e?d.jsx(lNt,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(H4e,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let cNt=X.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const uNt=X.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let dNt=t=>{if(!Ro(t))return t;try{let e=bFe(t);return e.includes("")?t:e}catch{return t}},hNt=t=>{try{let e=X9.decode(t),n=new TextDecoder().decode(e);return n.includes("")?t:n}catch{return t}},fNt=t=>JSON.stringify(t,null,2),pNt=t=>{let{types:e,primaryType:n,...r}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(wNt,{data:r}),d.jsx(tK,{text:fNt(t.typedData),itemName:"full payload to clipboard"})," "]})};const mNt=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:c,onCancel:u,onClose:h})=>d.jsx(Rn,{title:n.title,subtitle:n.description,showClose:!0,onClose:h,icon:kht,iconVariant:"subtle",helpText:a?d.jsx(yNt,{children:a}):void 0,primaryCta:{label:n.buttonText,onClick:c,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:d.jsxs(BG,{children:[r?d.jsx(uNt,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,d.jsxs(gNt,{children:[t==="personal_sign"&&d.jsx(Poe,{children:dNt(e)}),t==="eth_signTypedData_v4"&&d.jsx(pNt,{typedData:e}),t==="solana_signMessage"&&d.jsx(Poe,{children:hNt(e)})]})]})}),Noe={component:()=>{let{authenticated:t}=Sn(),{initializeWalletProxy:e,closePrivyModal:n}=st(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),[o,a]=x.useState(!0),[l,c]=x.useState(""),[u,h]=x.useState(),[f,p]=x.useState(null),[m,g]=x.useState(!1);x.useEffect(()=>{t||r(Lo)},[t]),x.useEffect(()=>{e(3e4).then(R=>{a(!1),R||(c("An error has occurred, please try again."),h(new xo(new i2(l,Xu.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:y,data:w,confirmAndSign:v,onSuccess:b,onFailure:A,uiOptions:E}=i.signMessage,$={title:(E==null?void 0:E.title)||"Sign message",description:(E==null?void 0:E.description)||"Signing this message will not cost you any fees.",buttonText:(E==null?void 0:E.buttonText)||"Sign and continue"},N=R=>{R?b(R):A(u||new xo(new i2("The user rejected the request.",Xu.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),h(void 0)},200)};return s.current=()=>{N(f)},d.jsx(mNt,{method:y,messageData:w,copy:$,iconUrl:E!=null&&E.iconUrl&&typeof E.iconUrl=="string"?E.iconUrl:void 0,isLoading:m,success:f!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:E==null?void 0:E.isCancellable,onSign:async()=>{g(!0),c("");try{let R=await v();p(R),g(!1),setTimeout(()=>{N(R)},Wr)}catch(R){console.error(R),c("An error has occurred, please try again."),h(new xo(new i2(l,Xu.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),g(!1)}},onCancel:()=>N(null),onClose:()=>N(f)})}};let gNt=X.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),yNt=X.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),wNt=X(FEe).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),Poe=X(LEe).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class rf{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new rf("CBWSDK").clear(),new rf("walletlink").clear()}}const Ei={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},RU={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},qEe="Unspecified error message.",bNt="Unspecified server error.";function nK(t,e=qEe){if(t&&Number.isInteger(t)){const n=t.toString();if(jU(RU,n))return RU[n].message;if(GEe(t))return bNt}return e}function vNt(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(RU[e]||GEe(t))}function xNt(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&jU(t,"code")&&vNt(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,jU(r,"data")&&(n.data=r.data)):(n.message=nK(n.code),n.data={originalError:Roe(t)})}else n.code=Ei.rpc.internal,n.message=joe(t,"message")?t.message:qEe,n.data={originalError:Roe(t)};return e&&(n.stack=joe(t,"stack")?t.stack:void 0),n}function GEe(t){return t>=-32099&&t<=-32e3}function Roe(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function jU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function joe(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Wn={rpc:{parse:t=>bc(Ei.rpc.parse,t),invalidRequest:t=>bc(Ei.rpc.invalidRequest,t),invalidParams:t=>bc(Ei.rpc.invalidParams,t),methodNotFound:t=>bc(Ei.rpc.methodNotFound,t),internal:t=>bc(Ei.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return bc(e,t)},invalidInput:t=>bc(Ei.rpc.invalidInput,t),resourceNotFound:t=>bc(Ei.rpc.resourceNotFound,t),resourceUnavailable:t=>bc(Ei.rpc.resourceUnavailable,t),transactionRejected:t=>bc(Ei.rpc.transactionRejected,t),methodNotSupported:t=>bc(Ei.rpc.methodNotSupported,t),limitExceeded:t=>bc(Ei.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>jb(Ei.provider.userRejectedRequest,t),unauthorized:t=>jb(Ei.provider.unauthorized,t),unsupportedMethod:t=>jb(Ei.provider.unsupportedMethod,t),disconnected:t=>jb(Ei.provider.disconnected,t),chainDisconnected:t=>jb(Ei.provider.chainDisconnected,t),unsupportedChain:t=>jb(Ei.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new QEe(e,n,r)}}};function bc(t,e){const[n,r]=KEe(e);return new YEe(t,n||nK(t),r)}function jb(t,e){const[n,r]=KEe(e);return new QEe(t,n||nK(t),r)}function KEe(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class YEe extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class QEe extends YEe{constructor(e,n,r){if(!ENt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function ENt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function rK(){return t=>t}const m8=rK(),ANt=rK(),CNt=rK();function qf(t){return Math.floor(t)}const ZEe=/^[0-9]*$/,JEe=/^[a-f0-9]*$/;function py(t){return iK(crypto.getRandomValues(new Uint8Array(t)))}function iK(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function yS(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function C4(t,e=!1){const n=t.toString("hex");return m8(e?`0x${n}`:n)}function zO(t){return C4(OU(t),!0)}function Vd(t){return CNt(t.toString(10))}function Hm(t){return m8(`0x${BigInt(t).toString(16)}`)}function XEe(t){return t.startsWith("0x")||t.startsWith("0X")}function sK(t){return XEe(t)?t.slice(2):t}function e8e(t){return XEe(t)?`0x${t.slice(2)}`:`0x${t}`}function NN(t){if(typeof t!="string")return!1;const e=sK(t).toLowerCase();return JEe.test(e)}function kNt(t,e=!1){if(typeof t=="string"){const n=sK(t).toLowerCase();if(JEe.test(n))return m8(e?`0x${n}`:n)}throw Wn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function oK(t,e=!1){let n=kNt(t,!1);return n.length%2===1&&(n=m8(`0${n}`)),e?m8(`0x${n}`):n}function R0(t){if(typeof t=="string"){const e=sK(t).toLowerCase();if(NN(e)&&e.length===40)return ANt(e8e(e))}throw Wn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function OU(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(NN(t)){const e=oK(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Wn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function k4(t){if(typeof t=="number"&&Number.isInteger(t))return qf(t);if(typeof t=="string"){if(ZEe.test(t))return qf(Number(t));if(NN(t))return qf(Number(BigInt(oK(t,!0))))}throw Wn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function s6(t){if(t!==null&&(typeof t=="bigint"||_Nt(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(k4(t));if(typeof t=="string"){if(ZEe.test(t))return BigInt(t);if(NN(t))return BigInt(oK(t,!0))}throw Wn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function SNt(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Wn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function _Nt(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function INt(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function TNt(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function $Nt(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function NNt(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function t8e(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function n8e(t,e){const n=t8e(t),r=await crypto.subtle.exportKey(n,e);return iK(new Uint8Array(r))}async function r8e(t,e){const n=t8e(t),r=yS(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function PNt(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return $Nt(e,n)}async function RNt(t,e){return JSON.parse(await NNt(e,t))}const WO={storageKey:"ownPrivateKey",keyType:"private"},HO={storageKey:"ownPublicKey",keyType:"public"},VO={storageKey:"peerPublicKey",keyType:"public"};class jNt{constructor(){this.storage=new rf("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(VO,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(HO.storageKey),this.storage.removeItem(WO.storageKey),this.storage.removeItem(VO.storageKey)}async generateKeyPair(){const e=await INt();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(WO,e.privateKey),await this.storeKey(HO,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(WO)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(HO)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(VO)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await TNt(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?r8e(e.keyType,n):null}async storeKey(e,n){const r=await n8e(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const gC="4.3.2",i8e="@coinbase/wallet-sdk";async function aK(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":gC,"X-Cbw-Sdk-Platform":i8e}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function ONt(){return globalThis.coinbaseWalletExtension}function MNt(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function DNt({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=ONt();if(l)return(n=l.setAppInfo)===null||n===void 0||n.call(l,i,s,o,e),l}const a=MNt();if(a!=null&&a.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function BNt(t){if(!t||typeof t!="object"||Array.isArray(t))throw Wn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Wn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Wn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Wn.provider.unsupportedMethod()}}const Ooe="accounts",Moe="activeChain",Doe="availableChains",Boe="walletCapabilities";class LNt{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new jNt,this.storage=new rf("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(Ooe))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(Moe)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await r8e("public",a.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const h=u.value;this.accounts=h,this.storage.storeObject(Ooe,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Wn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Hm(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Hm(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(Boe);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Wn.rpc.internal("No RPC URL set for chain");return aK(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Wn.rpc.invalidParams();const i=k4(r[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Wn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await PNt({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await n8e("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Wn.provider.unauthorized("Invalid session");const o=await RNt(i.encrypted,s),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const c=Object.entries(a).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(Doe,c),this.updateChain(this.chain.id,c)}const l=(r=o.data)===null||r===void 0?void 0:r.capabilities;return l&&this.storage.storeObject(Boe,l),o}updateChain(e,n){var r;const i=n??this.storage.loadObject(Doe),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(Moe,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Hm(s.id))),!0):!1}}const FNt=y3(hmt),{keccak_256:UNt}=FNt;function s8e(t){return Buffer.allocUnsafe(t).fill(0)}function zNt(t){return t.toString(2).length}function o8e(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function WNt(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function a8e(t,e,n){const r=s8e(e);return t=PN(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function HNt(t,e){return a8e(t,e,!0)}function PN(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")l8e(t)?t=Buffer.from(GNt(c8e(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=o8e(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function VNt(t){return t=PN(t),"0x"+t.toString("hex")}function qNt(t,e){if(t=PN(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(UNt(new Uint8Array(t)))}function GNt(t){return t.length%2?"0"+t:t}function l8e(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function c8e(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var u8e={zeros:s8e,setLength:a8e,setLengthRight:HNt,isHexString:l8e,stripHexPrefix:c8e,toBuffer:PN,bufferToHex:VNt,keccak:qNt,bitLengthFromBigInt:zNt,bufferBEFromBigInt:o8e,twosFromBigInt:WNt};const Ko=u8e;function d8e(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function l2(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Loe(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function h8e(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function my(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function ih(t,e){var n,r,i,s;if(t==="address")return ih("uint160",my(e));if(t==="bool")return ih("uint8",e?1:0);if(t==="string")return ih("bytes",new Buffer(e,"utf8"));if(YNt(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=h8e(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ih(t,e[s]));if(n==="dynamic"){var o=ih("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ih("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Ko.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=l2(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Ko.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=l2(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=my(e);const a=Ko.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return Ko.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=l2(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=my(e);const a=Ko.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const l=Ko.twosFromBigInt(r,256);return Ko.bufferBEFromBigInt(l,32)}else if(t.startsWith("ufixed")){if(n=Loe(t),r=my(e),r<0)throw new Error("Supplied ufixed is negative");return ih("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=Loe(t),ih("int256",my(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function KNt(t){return t==="string"||t==="bytes"||h8e(t)==="dynamic"}function YNt(t){return t.lastIndexOf("]")===t.length-1}function QNt(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=d8e(t[s]),a=e[s],l=ih(o,a);KNt(o)?(n.push(ih("uint256",i)),r.push(l),i+=l.length):n.push(l)}return Buffer.concat(n.concat(r))}function f8e(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=d8e(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Ko.setLength(a,20));else if(o.startsWith("bytes")){if(n=l2(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Ko.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=l2(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=my(a);const l=Ko.bitLengthFromBigInt(r);if(l>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+l);i.push(Ko.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=l2(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=my(a);const l=Ko.bitLengthFromBigInt(r);if(l>n)throw new Error("Supplied int exceeds width: "+n+" vs "+l);const c=Ko.twosFromBigInt(r,n);i.push(Ko.bufferBEFromBigInt(c,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function ZNt(t,e){return Ko.keccak(f8e(t,e))}var JNt={rawEncode:QNt,solidityPack:f8e,soliditySHA3:ZNt};const Tu=u8e,S4=JNt,p8e={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},qO={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,l,c)=>{if(n[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Tu.keccak(this.encodeData(l,c,n,r))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Tu.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Tu.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),h=c.map(f=>o(a,u,f));return["bytes32",Tu.keccak(S4.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[l,c]};for(const a of n[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Tu.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Tu.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=Tu.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return S4.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Tu.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Tu.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in p8e.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Tu.keccak(Buffer.concat(r))}};var XNt={TYPED_MESSAGE_SCHEMA:p8e,TypedDataUtils:qO,hashForSignTypedDataLegacy:function(t){return ePt(t.data)},hashForSignTypedData_v3:function(t){return qO.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return qO.hash(t.data)}};function ePt(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Tu.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return S4.soliditySHA3(["bytes32","bytes32"],[S4.soliditySHA3(new Array(t.length).fill("string"),i),S4.soliditySHA3(r,n)])}const Zk=Ks(XNt),tPt="walletUsername",MU="Addresses",nPt="AppVersion";function Bs(t){return t.errorMessage!==void 0}class rPt{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",yS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),f=new Uint8Array([...r,...u,...h]);return iK(f)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",yS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=yS(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,u),p=new TextDecoder;r(p.decode(f))}catch(f){i(f)}})()})}}class iPt{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var mp;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(mp||(mp={}));class sPt{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,mp.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,mp.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,mp.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,mp.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const Foe=1e4,oPt=6e4;class aPt{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=qf(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const c=s[l];c!==void 0&&a(c)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(tPt,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(nPt,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,c)},this.session=e,this.cipher=new rPt(e.secret),this.listener=r;const i=new sPt(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case mp.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case mp.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Foe),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case mp.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new iPt(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:qf(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:qf(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Foe*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:oPt}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:qf(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:qf(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:qf(this.nextReqId++),sessionId:this.session.id}),!0)}}class lPt{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=e8e(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const Uoe="session:id",zoe="session:secret",Woe="session:linked";class c2{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=G0t(kmt(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=py(16),r=py(32);return new c2(e,n,r).save()}static load(e){const n=e.getItem(Uoe),r=e.getItem(Woe),i=e.getItem(zoe);return n&&i?new c2(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(Uoe,this.id),this.storage.setItem(zoe,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Woe,this._linked?"1":"0")}}function cPt(){try{return window.frameElement!==null}catch{return!1}}function uPt(){try{return cPt()&&window.top?window.top.location:window.location}catch{return window.location}}function dPt(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function m8e(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const hPt='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function g8e(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(hPt)),document.documentElement.appendChild(t)}function y8e(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=y8e(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function _4(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=y8e(t))&&(r&&(r+=" "),r+=e);return r}var RN,Fr,w8e,gy,Hoe,b8e,DU,lK,BU,LU,g8={},v8e=[],fPt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,cK=Array.isArray;function Vm(t,e){for(var n in e)t[n]=e[n];return t}function x8e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function hr(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?RN.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return wS(t,o,r,i,null)}function wS(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++w8e,__i:-1,__u:0};return i==null&&Fr.vnode!=null&&Fr.vnode(s),s}function jN(t){return t.children}function bS(t,e){this.props=t,this.context=e}function n3(t,e){if(e==null)return t.__?n3(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?n3(t):null}function E8e(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return E8e(t)}}function Voe(t){(!t.__d&&(t.__d=!0)&&gy.push(t)&&!Y7.__r++||Hoe!==Fr.debounceRendering)&&((Hoe=Fr.debounceRendering)||b8e)(Y7)}function Y7(){var t,e,n,r,i,s,o,a;for(gy.sort(DU);t=gy.shift();)t.__d&&(e=gy.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Vm({},i)).__v=i.__v+1,Fr.vnode&&Fr.vnode(r),uK(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??n3(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,k8e(o,r,a),r.__e!=s&&E8e(r)),gy.length>e&&gy.sort(DU));Y7.__r=0}function A8e(t,e,n,r,i,s,o,a,l,c,u){var h,f,p,m,g,y=r&&r.__k||v8e,w=e.length;for(n.__d=l,pPt(n,e,y),l=n.__d,h=0;h<w;h++)(p=n.__k[h])!=null&&(f=p.__i===-1?g8:y[p.__i]||g8,p.__i=h,uK(t,p,f,i,s,o,a,l,c,u),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&dK(f.ref,null,p),u.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?l=C8e(p,l,t):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:m&&(l=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=g}function pPt(t,e,n){var r,i,s,o,a,l=e.length,c=n.length,u=c,h=0;for(t.__k=[],r=0;r<l;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+h,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?wS(null,i,null,null,null):cK(i)?wS(jN,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?wS(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=mPt(i,n,o,u))!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=n3(s)),S8e(s,s))}function C8e(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=C8e(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=n3(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function mPt(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,l=e[n];if(l===null||l&&i==l.key&&s===l.type&&!(131072&l.__u))return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function qoe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||fPt.test(e)?n:n+"px"}function Jk(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||qoe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||qoe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=lK,t.addEventListener(e,s?LU:BU,s)):t.removeEventListener(e,s?LU:BU,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Goe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=lK++;else if(e.t<n.u)return;return n(Fr.event?Fr.event(e):e)}}}function uK(t,e,n,r,i,s,o,a,l,c){var u,h,f,p,m,g,y,w,v,b,A,E,$,N,R,M,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=Fr.__b)&&u(e);e:if(typeof F=="function")try{if(w=e.props,v="prototype"in F&&F.prototype.render,b=(u=F.contextType)&&r[u.__c],A=u?b?b.props.value:u.__:r,n.__c?y=(h=e.__c=n.__c).__=h.__E:(v?e.__c=h=new F(w,A):(e.__c=h=new bS(w,A),h.constructor=F,h.render=yPt),b&&b.sub(h),h.props=w,h.state||(h.state={}),h.context=A,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&F.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Vm({},h.__s)),Vm(h.__s,F.getDerivedStateFromProps(w,h.__s))),p=h.props,m=h.state,h.__v=e,f)v&&F.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&F.getDerivedStateFromProps==null&&w!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,A),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,A)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(W){W&&(W.__=e)}),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,A),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,g)})}if(h.context=A,h.props=w,h.__P=t,h.__e=!1,$=Fr.__r,N=0,v){for(h.state=h.__s,h.__d=!1,$&&$(e),u=h.render(h.props,h.state,h.context),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[]}else do h.__d=!1,$&&$(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++N<25);h.state=h.__s,h.getChildContext!=null&&(r=Vm(Vm({},r),h.getChildContext())),v&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(p,m)),A8e(t,cK(M=u!=null&&u.type===jN&&u.key==null?u.props.children:u)?M:[M],e,n,r,i,s,o,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),y&&(h.__E=h.__=null)}catch(W){if(e.__v=null,l||s!=null){for(e.__u|=l?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;Fr.__e(W,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=gPt(n.__e,e,n,r,i,s,o,l,c);(u=Fr.diffed)&&u(e)}function k8e(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)dK(n[r],n[++r],n[++r]);Fr.__c&&Fr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Fr.__e(s,i.__v)}})}function gPt(t,e,n,r,i,s,o,a,l){var c,u,h,f,p,m,g,y=n.props,w=e.props,v=e.type;if(v==="svg"?i="http://www.w3.org/2000/svg":v==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){t=p,s[c]=null;break}}if(t==null){if(v===null)return document.createTextNode(w);t=document.createElementNS(i,v,w.is&&w),a&&(Fr.__m&&Fr.__m(e,s),a=!1),s=null}if(v===null)y===w||a&&t.data===w||(t.data=w);else{if(s=s&&RN.call(t.childNodes),y=n.props||g8,!a&&s!=null)for(y={},c=0;c<t.attributes.length;c++)y[(p=t.attributes[c]).name]=p.value;for(c in y)if(p=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in w)){if(c=="value"&&"defaultValue"in w||c=="checked"&&"defaultChecked"in w)continue;Jk(t,c,null,p,i)}}for(c in w)p=w[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?m=p:c=="checked"?g=p:a&&typeof p!="function"||y[c]===p||Jk(t,c,p,y[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),A8e(t,cK(f)?f:[f],e,n,r,v==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&n3(n,0),a,l),s!=null)for(c=s.length;c--;)x8e(s[c]);a||(c="value",v==="progress"&&m==null?t.removeAttribute("value"):m!==void 0&&(m!==t[c]||v==="progress"&&!m||v==="option"&&m!==y[c])&&Jk(t,c,m,y[c],i),c="checked",g!==void 0&&g!==t[c]&&Jk(t,c,g,y[c],i))}return t}function dK(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Fr.__e(i,n)}}function S8e(t,e,n){var r,i;if(Fr.unmount&&Fr.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||dK(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Fr.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&S8e(r[i],e,n||typeof t.type!="function");n||x8e(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function yPt(t,e,n){return this.constructor(t,n)}function FU(t,e,n){var r,i,s,o;Fr.__&&Fr.__(t,e),i=(r=typeof n=="function")?null:e.__k,s=[],o=[],uK(e,t=(!r&&n||e).__k=hr(jN,null,[t]),i||g8,g8,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?RN.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),k8e(s,t,o)}RN=v8e.slice,Fr={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},w8e=0,bS.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Vm({},this.state),typeof t=="function"&&(t=t(Vm({},n),this.props)),t&&Vm(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Voe(this))},bS.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Voe(this))},bS.prototype.render=jN,gy=[],b8e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,DU=function(t,e){return t.__v.__b-e.__v.__b},Y7.__r=0,lK=0,BU=Goe(!1),LU=Goe(!0);var y8,Ii,GO,Koe,UU=0,_8e=[],Ui=Fr,Yoe=Ui.__b,Qoe=Ui.__r,Zoe=Ui.diffed,Joe=Ui.__c,Xoe=Ui.unmount,eae=Ui.__;function hK(t,e){Ui.__h&&Ui.__h(Ii,t,UU||e),UU=0;var n=Ii.__H||(Ii.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function tae(t){return UU=1,wPt(T8e,t)}function wPt(t,e,n){var r=hK(y8++,2);if(r.t=t,!r.__c&&(r.__=[T8e(void 0,e),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=Ii,!Ii.u)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=!1;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),!(!h&&r.__c.props===a)&&(!s||s.call(this,a,l,c))};Ii.u=!0;var s=Ii.shouldComponentUpdate,o=Ii.componentWillUpdate;Ii.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},Ii.shouldComponentUpdate=i}return r.__N||r.__}function bPt(t,e){var n=hK(y8++,3);!Ui.__s&&I8e(n.__H,e)&&(n.__=t,n.i=e,Ii.__H.__h.push(n))}function WZt(t,e){var n=hK(y8++,7);return I8e(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function vPt(){for(var t;t=_8e.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(vS),t.__H.__h.forEach(zU),t.__H.__h=[]}catch(e){t.__H.__h=[],Ui.__e(e,t.__v)}}Ui.__b=function(t){Ii=null,Yoe&&Yoe(t)},Ui.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),eae&&eae(t,e)},Ui.__r=function(t){Qoe&&Qoe(t),y8=0;var e=(Ii=t.__c).__H;e&&(GO===Ii?(e.__h=[],Ii.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(vS),e.__h.forEach(zU),e.__h=[],y8=0)),GO=Ii},Ui.diffed=function(t){Zoe&&Zoe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(_8e.push(e)!==1&&Koe===Ui.requestAnimationFrame||((Koe=Ui.requestAnimationFrame)||xPt)(vPt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),GO=Ii=null},Ui.__c=function(t,e){e.some(function(n){try{n.__h.forEach(vS),n.__h=n.__h.filter(function(r){return!r.__||zU(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ui.__e(r,n.__v)}}),Joe&&Joe(t,e)},Ui.unmount=function(t){Xoe&&Xoe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{vS(r)}catch(i){e=i}}),n.__H=void 0,e&&Ui.__e(e,n.__v))};var nae=typeof requestAnimationFrame=="function";function xPt(t){var e,n=function(){clearTimeout(r),nae&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);nae&&(e=requestAnimationFrame(n))}function vS(t){var e=Ii,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ii=e}function zU(t){var e=Ii;t.__c=t.__(),Ii=e}function I8e(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function T8e(t,e){return typeof e=="function"?e(t):e}const EPt=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",APt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",CPt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class $8e{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m8e()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&FU(hr("div",null,hr(N8e,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>hr(kPt,Object.assign({},n,{key:e}))))),this.root)}}const N8e=t=>hr("div",{class:_4("-cbwsdk-snackbar-container")},hr("style",null,EPt),hr("div",{class:"-cbwsdk-snackbar"},t.children)),kPt=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=tae(!0),[s,o]=tae(t??!1);bPt(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return hr("div",{class:_4("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},hr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},hr("img",{src:APt,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",hr("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),hr("div",{class:"-gear-container"},!s&&hr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),hr("img",{src:CPt,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&hr("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((l,c)=>hr("div",{class:_4("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:c},hr("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hr("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),hr("span",{class:_4("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},P8e="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class SPt{constructor(){this.attached=!1,this.snackbar=new $8e}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,g8e()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:P8e,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const _Pt=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class IPt{constructor(){this.root=null,this.darkMode=m8e()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),g8e()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(FU(null,this.root),e&&FU(hr(TPt,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const TPt=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return hr(N8e,{darkMode:n},hr("div",{class:"-cbwsdk-redirect-dialog"},hr("style",null,_Pt),hr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),hr("div",{class:_4("-cbwsdk-redirect-dialog-box",s)},hr("p",null,t),hr("button",{onClick:r},e))))},$Pt="https://keys.coinbase.com/connect",NPt="https://rpc.wallet.coinbase.com",rae="https://www.walletlink.org",PPt="https://go.cb-w.com/walletlink";class iae{constructor(){this.attached=!1,this.redirectDialog=new IPt}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(PPt);n.searchParams.append("redirect_url",uPt().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Gf{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=dPt(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(MU);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Gf.accountRequestCallbackIds.size>0&&(Array.from(Gf.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Gf.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new lPt,this.ui=r,this.ui.attach()}subscribe(){const e=c2.load(this.storage)||c2.create(this.storage),{linkAPIUrl:n}=this,r=new aPt({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new iae:new SPt;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=c2.load(this.storage);(e==null?void 0:e.id)===this._session.id&&rf.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Vd(e.weiValue),data:C4(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Vd(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Vd(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Vd(e.gasPriceInWei):null,gasLimit:e.gasLimit?Vd(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Vd(e.weiValue),data:C4(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Vd(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Vd(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Vd(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Vd(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:C4(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=py(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),Bs(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof iae)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Gf.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Gf.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=py(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Bs(a))return o(new Error(a.errorMessage));s(a)}),Gf.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let l=null;const c=py(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),Bs(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let l=null;const c=py(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),Bs(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=py(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,c=>{if(i==null||i(),Bs(c)&&c.errorCode)return l(Wn.provider.custom({code:c.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Bs(c))return l(new Error(c.errorMessage));a(c)}),this.publishWeb3RequestEvent(s,r)})}}Gf.accountRequestCallbackIds=new Set;const sae="DefaultChainId",oae="DefaultJsonRpcUrl";class R8e{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new rf("walletlink",rae),this.callback=e.callback||null;const n=this._storage.getItem(MU);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>R0(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(oae))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(oae,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(sae,n.toString(10)),k4(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Hm(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Wn.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Wn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Wn.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Wn.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,c=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r==null?void 0:r.toString());return Bs(c)?!1:!!c.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Wn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Wn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Wn.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:c,iconUrls:u=[],nativeCurrency:h}=i,f=await o.addEthereumChain(s.toString(),a,u,l,c,h);if(Bs(f))return!1;if(((r=f.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Wn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Bs(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>R0(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(MU,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Hm(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Wn.rpc.internal("No RPC URL set for chain");return aK(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=R0(e);if(!this._addresses.map(i=>R0(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?R0(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?R0(e.to):null,i=e.value!=null?s6(e.value):BigInt(0),s=e.data?OU(e.data):Buffer.alloc(0),o=e.nonce!=null?k4(e.nonce):null,a=e.gasPrice!=null?s6(e.gasPrice):null,l=e.maxFeePerGas!=null?s6(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?s6(e.maxPriorityFeePerGas):null,u=e.gas!=null?s6(e.gas):null,h=e.chainId?k4(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Wn.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:zO(r[0]),signature:zO(r[1]),addPrefix:n==="personal_ecRecover"}});if(Bs(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(sae))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Hm(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Bs(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Hm(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Wn.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:R0(n),message:zO(r),addPrefix:!0,typedDataJson:null}});if(Bs(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Bs(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=OU(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Bs(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Bs(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Wn.rpc.invalidParams();const i=c=>{const u={eth_signTypedData_v1:Zk.hashForSignTypedDataLegacy,eth_signTypedData_v3:Zk.hashForSignTypedData_v3,eth_signTypedData_v4:Zk.hashForSignTypedData_v4,eth_signTypedData:Zk.hashForSignTypedData_v4};return C4(u[n]({data:SNt(c)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:R0(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Bs(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new Gf({linkAPIUrl:rae,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const j8e="SignerType",O8e=new rf("CBWSDK","SignerConfigurator");function RPt(){return O8e.getItem(j8e)}function jPt(t){O8e.setItem(j8e,t)}async function OPt(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;DPt(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function MPt(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new LNt({metadata:n,callback:i,communicator:r});case"walletlink":return new R8e({metadata:n,callback:i})}}async function DPt(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new R8e({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const BPt=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,LPt=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(BPt)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:FPt,getCrossOriginOpenerPolicy:UPt}=LPt(),aae=420,lae=540,zPt={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:P8e,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},WPt="Popup was blocked. Try again.";let Xk=null;function HPt(t){const e=(window.innerWidth-aae)/2+window.screenX,n=(window.innerHeight-lae)/2+window.screenY;qPt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${aae}, height=${lae}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}let i=r();if(!i){const s=GPt();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:WPt,menuItems:[Object.assign(Object.assign({},zPt),{onClick:()=>{i=r(),i?o(i):a(Wn.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function VPt(t){t&&!t.closed&&t.close()}function qPt(t){const e={sdkName:i8e,sdkVersion:gC,origin:window.location.origin,coop:UPt()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function GPt(){if(!Xk){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Xk=new $8e,Xk.attach(t)}return Xk}class KPt{constructor({url:e=$Pt,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const c=l.data;i(c)&&(s(c),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{VPt(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Wn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await HPt(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:gC,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Wn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function YPt(t){const e=xNt(QPt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",gC),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function QPt(t){var e;if(typeof t=="string")return{message:t,code:Ei.rpc.internal};if(Bs(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Ei.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class ZPt extends M${}var JPt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class XPt extends ZPt{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=JPt(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new KPt({url:i,metadata:n,preference:s});const o=RPt();o&&(this.signer=this.initSigner(o))}async request(e){try{if(BNt(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,jPt(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return aK(e,NPt);case"net_version":return 1;case"eth_chainId":return Hm(1);default:throw Wn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Ei.provider.unauthorized&&this.disconnect(),Promise.reject(YPt(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,rf.clearAll(),this.emit("disconnect",Wn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return OPt({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return MPt({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function eRt(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function tRt(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=DNt(n))!==null&&e!==void 0?e:new XPt(n)}const nRt={options:"all"};function cae(t){var e;new rf("CBWSDK").setItem("VERSION",gC),FPt();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(nRt,(e=t.preference)!==null&&e!==void 0?e:{})};eRt(r.preference);let i=null;return{getProvider:()=>(i||(i=tRt(r)),i)}}const rRt=({as:t="div",...e},n)=>d.jsx(t,{...e,ref:n}),iRt=x.forwardRef(rRt),sRt="https://challenges.cloudflare.com/turnstile/v0/api.js",Q7="cf-turnstile-script",oRt="cf-turnstile",M8e="onloadTurnstileCallback",Z7=t=>!!document.getElementById(t),aRt=({render:t="explicit",onLoadCallbackName:e=M8e,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||Q7;if(Z7(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${sRt}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!r,u.async=!!i,n&&(u.nonce=n),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},qd={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function lRt(t){let e;return t!=="invisible"&&(e=t),e}function cRt(t=Q7){const[e,n]=x.useState(!1);return x.useEffect(()=>{const r=()=>{Z7(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const D8e=x.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:h,onLoadScript:f,id:p,style:m,as:g="div",injectScript:y=!0,...w}=t,v=r.size??"normal",[b,A]=x.useState(r.execution==="execute"?qd.invisible:r.appearance==="interaction-only"?qd.interactionOnly:qd[v]),E=x.useRef(null),$=x.useRef(!1),[N,R]=x.useState(),[M,F]=x.useState(!1),W=p??oRt,V=y?(n==null?void 0:n.id)||`${Q7}__${W}`:(n==null?void 0:n.id)||Q7,B=cRt(V),k=n!=null&&n.onLoadCallbackName?`${n.onLoadCallbackName}__${W}`:`${M8e}__${W}`,C=x.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":h,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:lRt(v),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,o,l,a,v,c,u,h]),S=x.useMemo(()=>JSON.stringify(C),[C]);return x.useImperativeHandle(e,()=>{if(typeof window>"u"||!B)return;const{turnstile:T}=window;return{getResponse(){if(!(T!=null&&T.getResponse)||!N){console.warn("Turnstile has not been loaded");return}return T.getResponse(N)},reset(){if(!(T!=null&&T.reset)||!N){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&A(qd.invisible);try{T.reset(N)}catch(_){console.warn(`Failed to reset Turnstile widget ${N}`,_)}},remove(){if(!(T!=null&&T.remove)||!N){console.warn("Turnstile has not been loaded");return}R(""),A(qd.invisible),T.remove(N)},render(){if(!(T!=null&&T.render)||!E.current||N){console.warn("Turnstile has not been loaded or widget already rendered");return}const _=T.render(E.current,C);return R(_),r.execution!=="execute"&&A(qd[v]),_},execute(){if(r.execution==="execute"){if(!(T!=null&&T.execute)||!E.current||!N){console.warn("Turnstile has not been loaded or widget has not been rendered");return}T.execute(E.current,C),A(qd[v])}},isExpired(){if(!(T!=null&&T.isExpired)||!N){console.warn("Turnstile has not been loaded");return}return T.isExpired(N)}}},[B,N,r.execution,v,C,E]),x.useEffect(()=>(window[k]=()=>F(!0),()=>{delete window[k]}),[k]),x.useEffect(()=>{y&&!M&&aRt({onLoadCallbackName:k,scriptOptions:{...n,id:V}})},[y,M,k,n,V]),x.useEffect(()=>{B&&!M&&window.turnstile&&F(!0)},[M,B]),x.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!B||!E.current||!M||$.current)return;const T=window.turnstile.render(E.current,C);R(T),$.current=!0},[B,i,C,$,M]),x.useEffect(()=>{if(window.turnstile&&E.current&&N){Z7(N)&&window.turnstile.remove(N);const T=window.turnstile.render(E.current,C);R(T),$.current=!0}},[S,i]),x.useEffect(()=>{if(window.turnstile&&N&&Z7(N))return s==null||s(N),()=>{window.turnstile.remove(N)}},[N,s]),x.useEffect(()=>{A(r.execution==="execute"?qd.invisible:C.appearance==="interaction-only"?qd.interactionOnly:qd[v])},[r.execution,v,C.appearance]),x.useEffect(()=>{!B||typeof f!="function"||f()},[B,f]),d.jsx(iRt,{ref:E,as:g,id:W,style:{...b,...m},...w})});D8e.displayName="Turnstile";const uRt=t=>{let[e,n]=x.useState("auto");return x.useEffect(()=>{let r=new ResizeObserver(i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e};function dRt(t){let{logout:e}=x.useContext(q3);return cN("logout",t),{logout:e}}const hRt=X.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function w8(t){return["ethereum","solana"].includes(t.chainType)}function B8e(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const L8e=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),uae={[du.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[UV.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[lf.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[YT.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ll.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[LA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[uu.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[GT.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[B3.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[FV.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[cu.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[qT.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},dae=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=L8e(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(n!=null&&n.chain?n.chain.id:B8e(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find(y=>y.id===o);if(!c)throw new ue(`Funding chain ${o} is not in PrivyProvider chains list`);let u=(n==null?void 0:n.amount)??e.fundingConfig.defaultRecommendedAmount,h=!1;function f(){if(!o)return;let y=uae[o];l.find(w=>w.method==="wallets")&&!y&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=y,h=!0}var p;n&&"asset"in n?n.asset==="USDC"?f():typeof n.asset!="string"&&"erc20"in n.asset&&(p=a=n.asset.erc20,h=p===uae[c.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&f();let m=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:r,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:m,usingDefaultFundingMethod:!!m,preferredCardProvider:(g=n==null?void 0:n.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}},fRt=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null),pRt=async({appConfig:t,getAccessToken:e,initializeWalletProxy:n,user:r,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:o,setModalData:a,openModal:l,setUser:c,options:u,timeoutDuration:h,refreshSessionAndUser:f,chainType:p})=>{var v,b;let[m,g]=await Promise.all([n(h),e()]);if(!g||!r)throw s("createWallet","onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!m&&((v=t.customAuth)!=null&&v.enabled))throw s("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(u&&"walletIndex"in u&&typeof u.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw s("createWallet","onError",pe.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return hae({accessToken:g,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:m,refreshSessionAndUser:f,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:u.walletIndex,chainType:p,setUser:c})}let y=u&&"createAdditional"in u&&u.createAdditional,w=UG(r,{chainType:p});if(w[0]&&!y)throw s("createWallet","onError",pe.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return hae({accessToken:g,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:m,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:(((b=fRt(w))==null?void 0:b.walletIndex)??-1)+1,chainType:p,refreshSessionAndUser:f,setUser:c})};let hae=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:c,openModal:u,chainType:h,setUser:f})=>{if(l<0)throw r("createWallet","onError",pe.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=Cd(a);if(l>0&&!p)throw r("createWallet","onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",pe.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await fae({emitPrivyEvent:r,setModalData:c,openModal:u,chainType:h});let m=UG(a,{chainType:h,walletIndex:l})[0];if(m)return{user:a,account:m};if(l===0&&!i)return fae({emitPrivyEvent:r,setModalData:c,openModal:u,chainType:h});if(!i)throw r("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return k4e({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:f})},fae=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(a0)});const mRt=()=>{let t=Fn(),e=Gw(),{setModalData:n}=lt(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:c}=st();return{create:async({chainType:u,options:h,latestUser:f})=>{let p=f;if(p||(p=await a()),!p)throw e("createWallet","onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await pRt({appConfig:t,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:h,timeoutDuration:p9t,chainType:u})}}};function gRt(t){let{create:e}=mRt();return cN("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const yRt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");let[l,c]=await Promise.all([e(),n(15e3)]);if(!c||!l)throw t("linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await r(),h=a==="solana"?f2e(u):XL(u);if(!h)throw t("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h},wRt=()=>{let{user:t}=Sn(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=st(),i=Gw(),s=Fn();return{importWallet:x.useCallback(({privateKey:o})=>yRt({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,n,r,i])}},eo=()=>{let{importWallet:t}=wRt(),{createWallet:e}=gRt();return{...x.useContext(q3),importWallet:t,createWallet:e}};function bRt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const vRt=x.forwardRef(bRt);function xRt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const ERt=x.forwardRef(xRt);function ARt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const CRt=x.forwardRef(ARt);function b8(t){return t?{"privy-ui":"t"}:void 0}class _v{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Cst,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(kst,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Nn(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ue("Email must be set when initialzing authentication.");let i=b8(r);try{return await this.api.post(Ast,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Nn(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class kRt extends _v{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ue("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(_st,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Nn(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class pae{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");try{let e=await this.api.post(wst,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ue("No response from authentication");return e}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(bst,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Nn(e)}}async _startChannelOnce(){if(!this.api)throw new ue("Auth flow has no API instance");let e=await this.api.post(yst,{token:this.captchaToken});Cr&&!VH&&e.connect_uri&&x6e(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ue("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");let e=await this.api.get(vst,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ra(this._startChannelOnce.bind(this)),this.pollForReady=new ra(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function fK(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function F8e(){var e;if(!fK())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function WU(){var e;if(!fK())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function mae(t){return new Promise((e,n)=>{WU()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){var u,h;if(!fK())return;let c=window.chrome;return(h=(u=c==null?void 0:c.runtime)==null?void 0:u.lastError)==null?void 0:h.message}();if(i||!r){let c=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(c)}let s=new URL(r),o=F8e();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let c=s.hostname.split(".");if(c.length!==3||c[1]!=="chromiumapp"||c[2]!=="org"||c[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}class qb{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=g9t();try{let n=await this.api.post(gbe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Nt.del(j6),Nt.del(B7),Nt.del(x4),n}catch(n){let r=Nn(n);throw r.privyErrorCode?new ue(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=Nt.get(j6);if(!e)throw new ue("Authentication error.");try{let n=await this.api.post(ybe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Nt.del(j6),n}catch(n){throw Nn(n)}}async getAuthorizationUrl(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.provider)throw new ue("Provider must be set when initializing OAuth authentication.");let e=oN();Nt.put(j6,e);let n=kG();Nt.put(D7,n);let r=await SG(e);this.meta.withPrivyUi||Nt.put(B7,!0),this.meta.disableSignup?Nt.put(x4,!0):Nt.del(x4);let i=b8(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=F8e();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(mbe,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(a){throw Nn(a)}}constructor(e){this.meta=e}}const SRt=({style:t})=>d.jsx(qbe,{style:{color:"var(--privy-color-error)",...t}});let gae={google:{name:"Google",component:T6e},discord:{name:"Discord",component:_6e},github:{name:"Github",component:I6e},linkedin:{name:"LinkedIn",component:P6e},twitter:{name:"Twitter",component:O6e},spotify:{name:"Spotify",component:R6e},instagram:{name:"Instagram",component:$6e},tiktok:{name:"Tiktok",component:j6e},line:{name:"LINE",component:N6e},apple:{name:"Apple",component:S6e}};const KO=t=>t in gae?gae[t]:{name:"Unknown",component:SRt};function _Rt(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Nt.get(B7),popupFlow:window.opener!==null&&i,disableSignup:!!Nt.get(x4)}}class Ob{async initRegisterFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ue("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await Mh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(Vst,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await Mh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(Hst,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(o)}}async link(){var n,r;let e=await Mh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(Wst,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(i)}}async _initRegisterOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let n=b8(e);return await this.api.post(zst,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let n=b8(e);return await this.api.post(Ust,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ue("Auth flow has no API instance");return await this.api.post(Fst,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,o,a,l,c,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(h=>({type:h.type,alg:h.alg})),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map(h=>({id:h.id,type:h.type,transports:h.transports})),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(c=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:c.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ra(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ra(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ra(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}}class Iv{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Pst,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post($st,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Nn(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ue("phone nNumber must be set when initialzing authentication.");let i=b8(r);try{return await this.api.post(Tst,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Nn(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class IRt extends Iv{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ue("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(Rst,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Nn(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}class hm{static parse(e){try{return new hm(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return gL(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=gL(e)}}class pK extends hm{static parse(e){try{return new pK(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let Mb,o6;class TRt extends Vw{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:H6e,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new qw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(o=>o.id))},Mb?(this.proxyProvider.setWalletProvider(Mb.getProvider()),this.setBaseAccountSdk(Mb),console.log("Base Account SDK Initialized")):this.importPromise=Mh(()=>import("./index-CgoYKse5.js"),[]).then(({createBaseAccountSDK:o})=>{Mb=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Mb.getProvider()),this.setBaseAccountSdk(Mb),console.log("Base Account SDK Initialized")}).catch(console.error)}}let $Rt=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class NRt extends Vw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:W6e,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",o6=cae({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(o6.getProvider())}constructor(e,n,r,i){var s,o;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new qw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!o6){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(l=>!$Rt.includes(l)):[];a.length>0&&!a.every(l=>N1e.has(l))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),o6=cae(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(o6.getProvider())}}class yae extends Vw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[hU((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:K6e,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:o}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const PRt=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Au extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class wae extends M${async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Au(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await yr()||!this.address)throw new Au("Disconnected",4900);let{hash:r}=await ROt(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Au(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await yr()||!this.address)throw new Au("Disconnected",4900);let{signature:r}=await POt(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Au(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Au(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Jx(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await $Ot({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await NOt(uS(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:hU(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...y2e(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return hU(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>PRt.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await yr();if(await jOt({address:this.address}),!n||!this.address)throw new Au("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&vl(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Au("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Au("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Qu(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:r,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Au(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Au(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=Jx(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=_G(s,"privy"),this.appId=a,this.walletIndex=c,this.privyClient=u,this.walletAccount=h}}function YO(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var RRt=0;class U8e extends Vw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new qw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var Qg="__private_"+RRt+++"__walletBranding";class QO extends Vw{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return YO(this,Qg)[Qg]??{name:"Browser Extension",icon:TG,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,Qg,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new qw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?YO(this,Qg)[Qg]={name:"MetaMask",icon:fU,id:"io.metamask"}:s==="phantom"&&(YO(this,Qg)[Qg]={name:"Phantom",icon:Y6e,id:"phantom"})}}class jRt extends U8e{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Cr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Mg(e)}}}class ORt extends M${get wallets(){let e=new Set;return this.walletConnectors.flatMap(n=>n.wallets).sort((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0).filter(n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)})}async initialize(e){var r,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=b9t({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:l,legacyInjectedProvider:c})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:c}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values($G)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new NG({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n){return e==="wallet_connect_v2"?this.walletConnectors.filter(e6).find(r=>r.connectorType===e)??null:this.walletConnectors.filter(e6).find(r=>r.connectorType===e&&r.walletClientType===n)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(lN).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=Zu(n);for(let c of r){let u=this.findEmbeddedWalletConnectors().find(h=>h.walletIndex===c.walletIndex);if(u&&e6(u))u.proxyProvider.walletProxy=e;else{let h=new yae({provider:new wae({walletProxy:e,address:c.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:c.walletIndex,privyClient:o,walletAccount:c}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:c.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&e6(s))s.proxyProvider.walletProxy=e;else{let o=new yae({provider:new wae({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=dS(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let n=this.walletConnectors.indexOf(e);this.walletConnectors.splice(n,1),this.storedConnections=dS(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&e6(s))return s instanceof s2&&s.resetConnection(n),s;let o=e!=="injected"?e==="coinbase_wallet"?new NRt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new TRt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new s2({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new IG({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new jRt(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new QO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new QO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new QO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new U8e(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{console.debug("Failed to initialize connector",n)})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,o,a,l,c,u,h,f){super(),this.addSolanaWalletConnector=async p=>{let m=this.findSolanaWalletConnector(p.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let g=this.walletConnectors.indexOf(m);this.walletConnectors.splice(g,1)}this.addWalletConnector(p)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.walletChainType=f||"ethereum-only",this.setBaseAccountSdk=h,this.storedConnections=dS()}}let MRt=[fbe,pbe,wbe];class DRt{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Nn(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Nn(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Nn(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=h9t,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=hbe.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=MRt.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new ist}})}}let BRt=/paymaster\.biconomy\.io\/api/i,LRt={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const FRt=(t,e)=>t&&BRt.test(t)?LRt:e&&e.policy_id?{policyId:e.policy_id}:void 0,URt=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class z8e{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Xst,{token:this.meta.token})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(eot,{token:this.meta.token})}catch(e){throw Nn(e)}}constructor(e){this.meta={token:e}}}class zRt{getOrCreateGuestCredential(e){let n=A6e(e);if(sU()){if(Nt.get(n))return Nt.get(n);{let r=J1(lU(32));return Nt.put(n,r),r}}return J1(lU(32))}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(tot,{guest_credential:this.meta.guestCredential})}catch(e){throw Nn(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function ZO(){return!(SLe&&window.location.origin.startsWith("http://localhost"))}const bae=Bw(()=>({identityToken:null}));var JO,vae=((JO={}).PRIVY="privy_access_token",JO.CUSTOMER="customer_access_token",JO);class WRt{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(R6)}get privyAccessToken(){return this._getToken(cS)}_getToken(e){try{let n=Nt.get(e);return typeof n=="string"?hm.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Nt.get(IO);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Nt.get(Gk(e));if(typeof n!="string")return null;{let r=new hm(n);return r.isExpired()?(Nt.del(Gk(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Ci.get(TO);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==m9t;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=hm.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Nt.put(Gk(e),n):Nt.del(Gk(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Ps(r),isNewUser:i,oAuthTokens:o}}catch(n){throw console.warn("Error authenticating session"),Or(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof _v?"email":i instanceof Iv?"sms":i instanceof r2?"siwe":i instanceof zRt?"guest":i instanceof z8e?"custom_auth":i instanceof qb?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Ps(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Or(n)}}async _refresh(){if(!this.api)throw new ue("Session has no API instance");if(!this.client)throw new ue("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(fbe,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Ps(r.user)}catch(r){if(r instanceof Rl&&r.privyErrorCode===pe.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Or(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(pbe,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,o,a;if(typeof e=="string"){let l=Nt.get(R6);if(Nt.put(R6,e),!((n=this.client)!=null&&n.useServerCookies)){let c=(r=hm.parse(e))==null?void 0:r.expiration;Ci.set(Vse,e,{sameSite:"Strict",secure:ZO(),expires:c?new Date(1e3*c):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else Nt.del(R6),Ci.remove(Vse),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var n;typeof e=="string"?(Nt.put(IO,e),(n=this.client)!=null&&n.useServerCookies||Ci.set(TO,"t",{sameSite:"Strict",secure:ZO(),expires:30})):(Nt.del(IO),Ci.remove(f9t),Ci.remove(TO))}storePrivyAccessToken(e){typeof e=="string"?Nt.put(cS,e):Nt.del(cS)}storeIdentityToken(e){var r,i;if(bae.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;Nt.put(qse,e);let n=(i=hm.parse(e))==null?void 0:i.expiration;Ci.set(Gse,e,{sameSite:"Strict",secure:ZO(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Nt.del(qse),bae.setState({identityToken:null}),Ci.remove(Gse)}constructor(){this.authenticateOnce=new ra(async e=>this._authenticate(e)),this.linkOnce=new ra(async e=>this._link(e)),this.refreshOnce=new ra(this._refresh.bind(this)),this.destroyOnce=new ra(this._destroy.bind(this))}}let XO;var HRt=0,eM="__private_"+HRt+++"__getOrGenerateClientAnalyticsId";class VRt{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u,setBaseAccountSdk:h}){this.connectors||(this.connectors=new ORt(this.appId,e,n,r,i,s,o,a,l,c,h,u))}generateApi(){let e=new DRt({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ue("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ue("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(Qst,{action:"verify"})}catch(e){throw Nn(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Zst,{});return URt(e.options)}catch(e){throw Nn(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(Jst,{});return Ps(e)}catch(e){throw Or(e)}}async unlinkEmail(e){try{let n=await this.api.post(Sst,{address:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkPhone(e){try{let n=await this.api.post(Nst,{phoneNumber:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(ust,{address:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(mst,{address:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(Ost,{provider:e,subject:n});return await this.getAuthenticatedUser()??Ps(r)}catch(r){throw Or(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(xst,{fid:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Kst,{telegram_user_id:e});return await this.getAuthenticatedUser()??Ps(n)}catch(n){throw Or(n)}}async revokeDelegatedWallet(){try{await this.api.post(sot,{})}catch(e){throw Or(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(wbe,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(not,e)}catch(n){throw Or(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(rot,e)}catch(n){throw Or(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${iot}?partnerUserId=${e}`)}catch(n){throw Or(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(vae.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(vae.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=pK.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:FRt(i.paymaster_url,i.paymaster_context)}))}:{enabled:r.enabled}}catch(e){throw Or(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(ost,{address:e,token:n})).nonce}catch(r){throw Or(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(ast,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(lst,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(cst,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Ps(s)}catch(s){throw Or(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Ps(o)}catch(o){throw Or(o)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(hst,{address:e,token:n})).nonce}catch(r){throw Or(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(fst,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let l=Ps(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(r){case"email":c=Ist,u={nonce:e,email:n};break;case"sms":c=jst,u={nonce:e,phoneNumber:n};break;case"siwe":if(c=dst,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":c=Est,u={nonce:e,farcaster_id:n,farcaster_embedded_address:a};break;case"telegram":c=Yst,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":c=gst,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=Mst,u={nonce:e,userInfo:l}}let h=await this.api.post(c,u);return await this.getAuthenticatedUser()??Ps(h)}catch(c){throw Or(c)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(pst,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Ps(o)}catch(o){throw Or(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(oot);return this.session.updateIdentityToken(e.identity_token),Ps(e.user)}catch(e){throw Or(e)}}async scanTransaction(e){try{return await this.api.post(aot,e)}catch(n){throw Or(n)}}constructor({apiUrl:e=oU,appId:n,appClientId:r,timeout:i=d9t}){Object.defineProperty(this,eM,{value:qRt}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==oU&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,eM)[eM](),XO||(XO=new WRt),this.session=XO,this.api=this.generateApi(),this.session.client=this}}function qRt(){if(typeof window>"u")return null;try{let e=Nt.get(aU);if(typeof e=="string"&&e.length>0)return e}catch{}let t=r7();try{return Nt.put(aU,t),t}catch{return t}}const GRt=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=dl(),[,c]=x.useMemo(()=>(r==null?void 0:r.split("t:"))||[],[r]);if(x.useEffect(()=>{var u;return(u=l.current)==null?void 0:u.remove},[]),!n)return null;if(!c)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(D8e,{...e,ref:l,siteKey:c,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var h;(h=e.onSuccess)==null||h.call(e,u),o(u),a(!1)},onExpire:()=>{var u,h;(u=e.onExpire)==null||u.call(e);try{(h=l.current)==null||h.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})};function KRt(t){cN("configureMfa",t)}const mK=X.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Fa=X.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Wc=X.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),dw=X.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),ON=X.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),T1=X.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),$1=X.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Gb=X.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),W8e=X.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),tM=X.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),nM=X.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),rM=X.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),xae=X.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),iM=X.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),H8e=X.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),HU=X.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),Hc=X.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),V8e=X.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),q8e=({handleClose:t,user:e,onSelect:n})=>d.jsxs(Rn,{title:"Verify your identity",subtitle:"Choose a verification method",icon:nw,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[d.jsxs(W8e,{children:[e.mfaMethods.includes("totp")&&d.jsxs(Gr,{onClick:()=>n("totp"),children:[d.jsx(Gh,{children:d.jsx(I$,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&d.jsxs(Gr,{onClick:()=>n("sms"),children:[d.jsx(Gh,{children:d.jsx(bg,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&d.jsxs(Gr,{onClick:()=>n("passkey"),children:[d.jsx(Gh,{children:d.jsx(Pq,{})}),"Passkey"]},"passkey")]}),d.jsx(Ri,{})]}),VU=({pendingTransaction:t})=>{let{wallets:e}=Lg(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:o}=st(),[a,l]=x.useState(null),[c,u]=x.useState(t),{tokenPrice:h}=dC(c.chainId),f=o(t.chainId)||"ETH",p=x.useMemo(()=>e.find(m=>m.walletClientType==="privy"),[e]);return x.useEffect(()=>{(async function(){if(!n||!p)return c;let m=Jx(c.chainId,i,r,{appId:s}),g=await W7(c,m,p.address);return l(_i(BigInt(g.gas??0))),g})().then(u).catch(console.error)},[n]),p?d.jsx(YRt,{children:d.jsx(y4e,{from:p.address,to:c.to,txn:c,gas:a??void 0,tokenPrice:h,tokenSymbol:f})}):null};let YRt=X.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const gK=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),G8e=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:o})=>{var l;let{pendingTransaction:a}=st();return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:n},"header"),d.jsx(b4e,{children:d.jsxs("div",{children:[d.jsx(o4e,{success:o,fail:!!e}),d.jsx(e?Dw:gK,{style:{width:"38px",height:"38px"}})]})}),d.jsx(Fa,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(ON,{children:[d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(nw,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(Ndt,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(dw,{children:d.jsx(VU,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(V8e,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(pr,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),r&&d.jsx(HU,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),d.jsx(Ri,{})]})};let QRt=Array(6).fill("");var a6,ZRt=((a6=ZRt||{})[a6.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",a6[a6.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",a6);function qU(t){return/^[0-9]{1}$/.test(t)}function Eae(t){return t.length===6&&t.every(qU)}const J7=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,s]=x.useState(QRt),[o,a]=x.useState(null),[l,c]=x.useState(null),u=async f=>{var N;f.preventDefault();let p=f.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let m=i.reduce((R,M)=>R+Number(qU(M)),0),g=p.split(""),y=!g.every(qU),w=g.length+m>6;if(y)return a("Passcode can only be numbers"),void c(1);if(w)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let v=Number((N=f.currentTarget.name)==null?void 0:N.charAt(4)),b=[...p||[""]].slice(0,6-v),A=[...i.slice(0,v),...b,...i.slice(v+b.length)];s(A);let E=Math.min(Math.max(v+b.length,0),5),$=document.querySelector(`input[name=pin-${E}]`);if($==null||$.focus(),Eae(A))try{await t(A.join(""));let R=document.querySelector(`input[name=pin-${E}]`);R==null||R.blur()}catch(R){c(1),a(R.message)}else try{await t(null)}catch(R){c(1),a(R.message)}},h=r?"success":!n&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(JRt,{children:[d.jsx("div",{children:i.map((f,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:m=>{m.key==="Backspace"&&(g=>{l===1&&(a(null),c(null));let y=[...i.slice(0,g),"",...i.slice(g+1)];if(s(y),g>0){let w=document.querySelector(`input[name=pin-${g-1}]`);w==null||w.focus()}Eae(y)?t(y.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:h,autoComplete:Cr?"one-time-code":"off",disabled:e},p))}),d.jsx("div",{children:d.jsx(XRt,{$fail:!!n||!!o,children:n||o})})]})})};let JRt=X.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),XRt=X.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const K8e=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let{app:o}=lt(),{pendingTransaction:a}=st();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(bg,{})}),d.jsx(Fa,{children:"Enter verification code"}),d.jsxs(dw,{children:[d.jsx(J7,{success:e,disabled:n,onChange:s}),d.jsxs(Wc,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(VU,{pendingTransaction:a})]}),i&&d.jsx(HU,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(kd,{onClick:r,children:"Cancel"}),d.jsx(Ri,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(I$,{})}),d.jsx(Fa,{children:"Enter verification code"}),d.jsxs(dw,{children:[d.jsx(J7,{success:e,disabled:n,onChange:s}),d.jsxs(Wc,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(VU,{pendingTransaction:a})]}),i&&d.jsx(HU,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(kd,{onClick:r,children:"Cancel"}),d.jsx(Ri,{})]});default:return null}},X7=t=>l_t(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:FG(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:LG(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),ejt={component:()=>{let{user:t}=Sn(),{data:e}=lt(),[n,r]=x.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=x.useState(!1),[o,a]=x.useState(),[l,c]=x.useState();if(x.useEffect(()=>{r(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:f,verifyTotpCode:p,verifyPasskey:m,verifySmsCode:g,sendSmsCode:y}=e.mfaVerify,w=async E=>{if(E!=="passkey")try{r(E),E==="sms"&&(r(E),await y()),E==="totp"&&r(E)}catch($){console.error($)}else try{r(E);let $=await f();if(!$)throw Error("something went wrong");a($),await m($),s(!0),c(void 0),h()}catch($){c(X7($))}},v=async E=>{c(void 0);try{if(!E||!n)return;if(n==="passkey"){if(!o)throw Error("Missing passkey challenge");await m(o)}else n==="sms"?await g(E):n==="totp"&&await p(E);c(void 0),s(!0),h()}catch($){throw X7($).error}},b=()=>{l||!i?u((l==null?void 0:l.error)??Error("Canceled MFA verification.")):h()},A=x.useRef(!1);return x.useEffect(()=>{!A.current&&n&&(A.current=!0,w(n).finally(()=>{A.current=!1}))},[open]),t?n==="passkey"?d.jsx(G8e,{account:t.linkedAccounts.filter(E=>E.type==="passkey"&&E.enrolledInMfa).sort((E,$)=>$.firstVerifiedAt.valueOf()-E.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:b,onBack:()=>{r(void 0),c(void 0)},handleSubmit:()=>v(o).catch(c)}):n==="sms"||n==="totp"?d.jsx(K8e,{selectedMethod:n,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:v,onClose:b,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):d.jsx(q8e,{user:t,onSelect:w,handleClose:b}):null}};function Y8e(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=x.useContext(q3);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const Aae=({onClose:t})=>{let{user:e}=Sn(),[n,r]=x.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=Y8e(),[a,l]=x.useState(!1),[c,u]=x.useState(null),[h,f]=x.useState();x.useEffect(()=>{r((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let p=x.useRef(!1);async function m(w){f(void 0);try{if(!w||!n)return;await o(n,w),l(!0),f(void 0),t()}catch(v){throw X7(v).error}}async function g(w){if(w!=="passkey")try{r(w),await i(w)}catch(v){console.error(v)}else try{r(w);let v=await i(w);if(!v)throw Error("something went wrong");u(v),await o(w,v),l(!0),f(void 0),t()}catch(v){f(X7(v))}}x.useEffect(()=>{!p.current&&n&&(p.current=!0,g(n).finally(()=>{p.current=!1}))},[]);let y=()=>{r(null),f(void 0),s(),t()};return e?n==="passkey"?d.jsx(G8e,{account:e.linkedAccounts.filter(w=>w.type==="passkey"&&w.enrolledInMfa).sort((w,v)=>v.firstVerifiedAt.valueOf()-w.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,error:h==null?void 0:h.error,onClose:y,onBack:()=>{r(null),f(void 0)},handleSubmit:()=>m(c).catch(f)}):n?d.jsx(K8e,{submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,handleSubmitCode:m,selectedMethod:n,onClose:y,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):d.jsx(q8e,{user:e,onSelect:g,handleClose:y}):null},v8=Bw(()=>({inProgressMfaFlow:void 0})),tjt=uat([":root{","};"],t=>njt(t.palette)),njt=t=>ls(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,n])=>`${e}: ${n};`).join(`
`)),Cae=X.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),rjt=({children:t,open:e,onClick:n,...r})=>d.jsx(r2e,{show:e,as:Ae.Fragment,children:d.jsxs(zut,{onClose:n,...r,as:sjt,children:[d.jsx(ZE,{as:Ae.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(ijt,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(ojt,{children:d.jsx(ZE,{as:Ae.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(i2e,{as:ajt,children:t})})})]})});let ijt=X.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),sjt=X.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),ojt=X.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const ajt=X.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),ljt=X.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let Q8e=()=>{let{ready:t,isModalOpen:e}=Sn(),{headless:n}=Fn(),{currentScreen:r}=lt(),{status:i,execute:s,reset:o,enabled:a}=dl(),l=v8(h=>h.inProgressMfaFlow),c=()=>v8.setState({inProgressMfaFlow:void 0}),u=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return x.useEffect(()=>{u&&s()},[u]),x.useEffect(()=>{!e&&a&&o()},[e,a]),r&&!t&&r.isShownBeforeReady?d.jsxs(d.Fragment,{children:[d.jsx(bn,{}),d.jsx(hf,{}),d.jsx(ljt,{children:d.jsx(iu,{})}),d.jsx(Nd,{}),d.jsx(Ri,{})]}):r||l!=="txn"?r?d.jsxs(d.Fragment,{children:[d.jsx(e3,{$if:!!l,children:d.jsx(r.component,{})}),l==="txn"&&d.jsx(Aae,{onClose:c}),l==="auth"&&d.jsx(ejt.component,{})]}):null:d.jsx(Aae,{onClose:c})},cjt=()=>{let t=x.useRef(null);return d.jsx(djt,{style:{height:uRt(t)},id:"privy-modal-content",children:d.jsx("div",{ref:t,children:d.jsx(Q8e,{})})})};const ujt=({open:t})=>{let e=Fn(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=st(),{onUserCloseViaDialogOrKeybindRef:s}=lt();return{gracefulClosePrivyModal:x.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=v8(i=>i.inProgressMfaFlow);return KRt({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||v8.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?d.jsx(Cae,{children:d.jsx(Z8e,{id:"privy-modal-content",children:d.jsx(Q8e,{})})}):d.jsx(rjt,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:d.jsx(Cae,{children:d.jsx(cjt,{})})})};let Z8e=X.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),djt=X(Z8e).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function hjt(t){let e=x.useRef(null),n=x.useRef();return x.useEffect(()=>{var r,i;(r=n.current)==null||r.remove(),n.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:l}=new URL(o);return a.async=!0,a.src=`${l}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(n.current)},[t]),d.jsx("div",{ref:e,hidden:!0})}const fjt=()=>{let{ready:t}=Lg(),{client:e}=st();return x.useEffect(()=>{var r;let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map(s=>({address:s.address,connectorType:s.connectorType,walletClientType:s.walletClientType,connectedAt:s.connectedAt,id:s.meta.id}));Nt.put(C6e,i)};return(r=e.connectors)==null||r.on("walletsUpdated",n),()=>{var i;(i=e.connectors)==null||i.off("walletsUpdated",n)}},[t,e.connectors]),null};async function vc(t,e,n,r,i,s=!1){var c,u,h;let o=s,a=async f=>{var p;if(o&&e&&e.length>0){f===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(p=r.current)==null||p.reject(new Yr("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((g,y)=>{n.current={resolve:g,reject:y},setTimeout(()=>{var v;let w=new Yr("mfa_timeout","Timed out waiting for MFA code");(v=r.current)==null||v.reject(w),y(w)},3e5)});return await t(m)}return await t()},l=null;for(let f=0;f<4;f++)try{l=await a(f),(c=r.current)==null||c.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(u=r.current)==null||u.resolve(void 0),p;o=!0}if(l===null){let f=new Yr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=r.current)==null||h.reject(f),f}return l}var kae;let pjt=(kae=0,()=>"id-"+kae++);function Zi(t){return t.error!==void 0}let Di=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},sM=new Map,mjt=(t,e)=>typeof e=="bigint"?e.toString():e;function Ji(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,mjt)}`)(t,e);if(t==="privy:wallet:create"){let a=sM.get(s);if(a)return a}let o=new Promise((a,l)=>{let c=pjt();Di.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},r)}).finally(()=>{sM.delete(s)});return sM.set(s,o),o}function gjt(t){let e=e4e(),n=x.useRef(null),r=x.useRef(t.mfaMethods),i=Gw(),[s,o]=x.useState(!1);return x.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),x.useEffect(()=>{if(!s)return;let a=n.current;if(!a)return;function l(h){var f;h&&h.origin===t.origin&&typeof(f=h.data).event=="string"&&/^privy:.+/.test(f.event)&&function(p){switch(p.event){case"privy:iframe:ready":let m=Di.dequeue(p.event,p.id);return Zi(p)?m.reject(new Yr(p.error.type,p.error.message)):m.resolve(p.data);case"privy:user-signer:sign":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:add":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:set-recovery":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:connect":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:recover":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:rpc":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallet:create":let g=Di.dequeue(p.event,p.id);return Zi(p)?g.reject(new Yr(p.error.type,p.error.message)):g.resolve(p.data);case"privy:wallets:import":let y=Di.dequeue(p.event,p.id);return Zi(p)?y.reject(new Yr(p.error.type,p.error.message)):y.resolve(p.data);case"privy:mfa:verify":let w=Di.dequeue(p.event,p.id);return Zi(p)?w.reject(new Yr(p.error.type,p.error.message)):w.resolve(p.data);case"privy:mfa:init-enrollment":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:submit-enrollment":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:unenroll":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:clear":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:auth:unlink-passkey":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:solana-wallet:create":let v=Di.dequeue(p.event,p.id);return Zi(p)?v.reject(new Yr(p.error.type,p.error.message)):v.resolve(p.data);case"privy:farcaster:init-signer":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:farcaster:sign":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:delegated-actions:consent":{let b=Di.dequeue(p.event,p.id);return Zi(p)?b.reject(new Yr(p.error.type,p.error.message)):b.resolve(p.data)}default:console.warn("Unsupported wallet proxy method:",p)}}(h.data)}let c={signWithUserSigner:h=>vc(f=>Ji("privy:user-signer:sign",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>vc(f=>Ji("privy:wallets:add",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>vc(f=>Ji("privy:wallets:set-recovery",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>vc(f=>Ji("privy:wallets:connect",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>vc(f=>Ji("privy:wallets:recover",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>vc(f=>Ji("privy:wallets:rpc",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>Ji("privy:wallet:create",h,a,t.origin),importWallet:h=>Ji("privy:wallets:import",h,a,t.origin),createSolana:h=>vc(f=>Ji("privy:solana-wallet:create",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>Ji("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>vc(f=>Ji("privy:mfa:verify",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>vc(f=>Ji("privy:mfa:init-enrollment",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>vc(f=>Ji("privy:mfa:submit-enrollment",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>vc(f=>Ji("privy:mfa:unenroll",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>Ji("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>vc(f=>Ji("privy:auth:unlink-passkey",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>Ji("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>Ji("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let u=new AbortController;return dU(()=>Ji("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(c),(...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()}),()=>{window.removeEventListener("message",l),u.abort()}},[s]),e?d.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:F6e(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}const yjt=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new ue("Address to delegate is not associated with current user.");if(!w8(n))throw new ue(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},wjt=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new ue("Address to delegate is not associated with current user.");let r=n.imported?n:Cd(e);if(!r)throw new ue("Unable to determine root address for delegated address.");if(!w8(r))throw new ue(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},Sae=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),bjt=()=>{let t=Fn();x.useEffect(()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>I9t({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])},_ae="popup-privy-oauth",Iae="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class vjt{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(gbe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(ybe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Nn(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function J8e({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new ue("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const e9=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let o=t==null?void 0:t.linkedAccounts.find(h=>h.type==="cross_app"&&(h.embeddedWallets.some(f=>f.address===e)||h.smartWallets.some(f=>f.address===e)));if(!t||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ue("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),l=await J8e({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new ue("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ue("Transactions require a valid token");let c=mN();if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ue("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",xjt(r)),c.location=u.href,new Promise((h,f)=>{let p=setTimeout(()=>{y(),f(new ue("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),m=setInterval(()=>{c.closed&&(y(),f(new ue("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),g=w=>{var v,b,A;w.data&&(((v=w.data.token)==null?void 0:v.action)==="set"&&((b=w.data.token)==null?void 0:b.value)!==void 0?n.storeProviderAccessToken(o.providerApp.id,w.data.token.value):((A=w.data.token)==null?void 0:A.action)==="clear"&&n.storeProviderAccessToken(o.providerApp.id,null),w.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&w.data.result&&(y(),h(w.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),w.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&w.data.error&&(y(),f(w.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:w.data.error,address:e}})))};window.addEventListener("message",g);let y=()=>{c.close(),clearInterval(m),clearTimeout(p),window.removeEventListener("message",g)}})};let xjt=t=>JSON.stringify({content:{request:{request:GU(t,_i)}},timestamp:Date.now(),callbackUrl:window.origin});const GU=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>GU(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,GU(r,e)])):t,Ejt=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:c})=>d.jsx(Rn,r?{title:"Passkeys updated",icon:YA,iconVariant:"success",primaryCta:{label:"Done",onClick:c},onClose:c,watermark:!0}:i?{icon:g7,title:"Your passkeys",onBack:l,onClose:c,watermark:!0,children:d.jsx(Tae,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:g7,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:c,watermark:!0,helpText:n||void 0,children:t.length===0?d.jsx(Cjt,{}):d.jsx(Ajt,{children:d.jsx(Tae,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let Ajt=X.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),Tae=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,s]=x.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return d.jsxs("div",{children:[d.jsx(Tjt,{children:"Your passkeys"}),d.jsxs(Ijt,{children:[t.slice(0,o).map(l=>{var c;return d.jsxs(Pjt,{children:[d.jsxs("div",{children:[d.jsx($jt,{children:a(l)}),d.jsxs(Njt,{children:["Last used:"," ",((c=l.latestVerifiedAt??l.firstVerifiedAt)==null?void 0:c.toLocaleString())??"N/A"]})]}),d.jsx(jjt,{disabled:i.includes(l.credentialId),onClick:()=>(async u=>{s(h=>h.concat([u])),await n(u),s(h=>h.filter(f=>f!==u))})(l.credentialId),children:i.includes(l.credentialId)?d.jsx(Bg,{}):d.jsx(Sht,{size:16})})]},l.credentialId)}),t.length>2&&!e&&d.jsx(_jt,{onClick:r,children:"View all"})]})]})},Cjt=()=>d.jsxs(mEe,{style:{color:"var(--privy-color-foreground)"},children:[d.jsx(a2,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),d.jsx(a2,{children:"Takes seconds to set up and use"}),d.jsx(a2,{children:"Use your passkey to verify transactions and login to your account"})]});const kjt={component:()=>{let{user:t,unlinkPasskey:e}=Sn(),{linkWithPasskey:n,closePrivyModal:r}=st(),i=t==null?void 0:t.linkedAccounts.filter(p=>p.type==="passkey"),[s,o]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState(!1),[h,f]=x.useState(!1);return x.useEffect(()=>{i.length===0&&f(!1)},[i.length]),d.jsx(Ejt,{passkeys:i,isLoading:s,errorReason:a,success:c,expanded:h,onLinkPasskey:()=>{o(!0),n().then(()=>u(!0)).catch(p=>{if(p instanceof Do){if(p.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(p.privyErrorCode===pe.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async p=>(o(!0),await e(p).then(()=>u(!0)).catch(m=>{m instanceof Do&&m.privyErrorCode===pe.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>f(!0),onBack:()=>f(!1),onClose:()=>r()})}},X8e=X.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let Sjt=ls(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const _jt=X.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],Sjt);let Ijt=X.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),Tjt=X.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),$jt=X.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),Njt=X.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),Pjt=X.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),Rjt=ls([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),jjt=X.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],Rjt);const oM=new Map([[ud,null],[mC,"external"],[OEe,"external"],[HEe,"external"],[MEe,"external"],[K7,"manual"],[DEe,"moonpay"]]),Ojt=()=>{let t=Fn(),{user:e}=Sn(),{client:n,refreshSessionAndUser:r,walletProxy:i}=st();return{migrate:x.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ue("User must be authenticated before migrating wallets",pe.MUST_BE_AUTHENTICATED);let s=Cd(e);if(!s||vl(s)||!w8(s))return{success:!0};if(!i)throw new ue("Cannot connect to wallet proxy");let o=await n.getAccessToken();if(!o)throw new ue("User must be authenticated before migrating wallets",pe.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter(w8),{entropyId:l,entropyIdVerifier:c}=Zu(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(u){if(!f8(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await r(),{success:!0}},[t.embeddedWallets.mode,e,i,n,r])}},Mjt=({disabled:t})=>{let{migrate:e}=Ojt(),{user:n}=Sn(),{walletProxy:r}=st();return x.useEffect(()=>{!t&&n&&r&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[n,r,t,e]),null},Djt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),Bjt=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:s}=x.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,n,t.name]);return d.jsx(Rn,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},Ljt={component:()=>{let t=Fn(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=lt(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=st(),{logout:c}=dRt(),[u,h]=x.useState({}),f=e==null?void 0:e.crossAppAuth,p={id:f.appId,name:f.name,logoUrl:f.logoUrl},m=new ue(`There was an issue connecting your ${p.name} account. Please try again.`),g=new ra(async w=>{var v,b,A,E,$,N,R,M,F,W,V,B,k,C,S;if(f.popup)try{let T=await s({appId:w,popup:f.popup,action:f.action});h({data:T})}catch(T){if(T instanceof ue)h({error:T});else if(T instanceof Rl){if(T.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED&&((b=(v=T.data)==null?void 0:v.data)!=null&&b.nonce))return r({accountTransfer:{nonce:(E=(A=T.data)==null?void 0:A.data)==null?void 0:E.nonce,account:(N=($=T.data)==null?void 0:$.data)==null?void 0:N.subject,displayName:(F=(M=(R=T.data)==null?void 0:R.data)==null?void 0:M.account)==null?void 0:F.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:(B=(V=(W=T.data)==null?void 0:W.data)==null?void 0:V.otherUser)==null?void 0:B.embeddedWalletAddress,oAuthUserInfo:(S=(C=(k=T.data)==null?void 0:k.data)==null?void 0:C.otherUser)==null?void 0:S.oAuthUserInfo}}),void n(Kw);f.popup&&f.popup.close(),h({error:m})}else h({error:m})}else h({error:m})}),y=()=>{u.data&&(o(),f.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),f.onError(u.error??new ue("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=y,x.useEffect(()=>{p.id.length&&g.execute(p.id)},[p.id]),x.useEffect(()=>{if(!u.data)return;let w=u.data;if(t.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let b=setTimeout(()=>{n(Yw)},Wr);return()=>clearTimeout(b)}if(Ug(w,t.embeddedWallets)){let b=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:A=>{console.error(A),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:A,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),n(a0)},Wr);return()=>clearTimeout(b)}let v=setTimeout(y,Wr);return()=>clearTimeout(v)},[u.data]),d.jsx(Bjt,{providerApp:p,success:!!u.data,error:u.error,onClose:y})}},Fjt=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:s,onClose:o})=>d.jsx(Rn,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?b2e:YA,iconVariant:r?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:Eht,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:d.jsx(TN,{address:e,title:"Wallet"})}),Ujt={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:n}=st(),[r,i]=x.useState(!1),[s,o]=x.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,h=async()=>{r?c():u(s??new ue("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!r&&!s)return;let f=setTimeout(h,E6e);return()=>clearTimeout(f)},[r,s]),d.jsx(Fjt,{appName:t.name,address:a,success:r,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(f){o(f)}},onDecline:()=>{h()},onClose:h})}},zjt=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:s})=>d.jsx(Rn,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?b2e:YA,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:bht,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),Wjt={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:n}=st(),[r,i]=x.useState(!1),[s,o]=x.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{r?l():c(s??new ue("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!r&&!s)return;let h=setTimeout(u,E6e);return()=>clearTimeout(h)},[r,s]),d.jsx(zjt,{appName:t.name,success:r,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{u()},onClose:u})}};let $ae="#8a63d2";const Hjt=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>d.jsx(Rn,Cr||e?VH?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:I1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:o,watermark:!0,children:i&&Cr&&d.jsx(Vjt,{children:d.jsx(tEe,{text:"Take me to Farcaster",url:i,color:$ae})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:d.jsxs(qjt,{children:[d.jsx(Gjt,{children:i?d.jsx(fC,{url:i,size:275,squareLogoElement:I1}):d.jsx(Qjt,{children:d.jsx(iu,{})})}),d.jsxs(Kjt,{children:[d.jsx(Yjt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&d.jsx(tK,{text:i,itemName:"link",color:$ae})]})]})});let Vjt=X.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),qjt=X.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Gjt=X.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),Kjt=X.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Yjt=X.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Qjt=X.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const Zjt={component:()=>{let{lastScreen:t,navigateBack:e,data:n,app:r}=lt(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=st(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=x.useRef([]),p=n==null?void 0:n.farcasterSigner;x.useEffect(()=>{let g=Date.now(),y=setInterval(async()=>{if(!(p!=null&&p.public_key))return clearInterval(y),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(y),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Wr)));let w=await i(p==null?void 0:p.public_key),v=Date.now()-g;w.status==="approved"?(clearInterval(y),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Wr))):v>3e5?(clearInterval(y),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):w.status==="revoked"&&(clearInterval(y),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(y),f.current.forEach(w=>clearTimeout(w))}},[]);let m=(p==null?void 0:p.status)==="pending_approval"?p.signer_approval_url:void 0;return d.jsx(Hjt,{appName:r.name,loading:l,success:u,errorMessage:o,connectUri:m,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{m&&(window.location.href=m)}})}},Jjt=({onClose:t})=>d.jsx(Rn,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:eF,primaryCta:{label:"Close",onClick:t},watermark:!0}),Nae={component:()=>{let{closePrivyModal:t}=st();return d.jsx(Jjt,{onClose:()=>t()})}},Xjt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>d.jsx(Rn,{title:t,subtitle:e,icon:T$,watermark:!0,children:d.jsx(h4e,{children:d.jsx(hEe,{stacked:!0})})}),eOt={component:()=>{let{app:t}=lt();return d.jsx(Xjt,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},tOt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=x.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)};return d.jsx(Rn,{title:t,subtitle:e,icon:bg,primaryCta:{label:r?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:d.jsx(_N,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},yK={component:()=>{let{app:t,currentScreen:e,data:n,navigate:r,setModalData:i}=lt(),{initLoginWithSms:s}=st(),[o,a]=x.useState(!1);return d.jsx(tOt,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async l=>{var c;a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),r(Xp)}catch(u){i({errorModalData:{error:u,previousScreen:((c=n==null?void 0:n.errorModalData)==null?void 0:c.previousScreen)||e||yK}}),r(Kr)}finally{a(!1)}},isSubmitting:o})}},nOt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>d.jsx(Rn,{title:t,subtitle:e,icon:$$,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),rOt={component:()=>{let{closePrivyModal:t}=st(),{navigate:e}=lt();return d.jsx(nOt,{onTryAgain:()=>{e(Lo)},onCancel:async()=>{await t()}})}};function eAe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=x.useContext(q3);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const iOt=t=>d.jsxs(sOt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let sOt=X.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const oOt=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let h=e.reduce((p,m)=>({...p,[m]:!0}),{}),f=n.reduce((p,m)=>({...p,[m]:!0}),{});return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(nw,{})}),d.jsx(Fa,{children:"Choose a verification method"}),e.length>0?d.jsx(Wc,{children:"To add or delete verification methods, verification is required."}):d.jsx(Wc,{children:"How would you like to verify your identity?"}),o&&d.jsx(V8e,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(W8e,{children:[(f.passkey||h.passkey)&&d.jsxs(tM,{children:[d.jsx(Gr,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:h.passkey||s,children:s?d.jsx(iu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(iM,{children:[d.jsxs(rM,{children:[d.jsx(Pq,{}),"Passkey"]}),h.passkey?d.jsx(aM,{color:"green",children:"Enabled"}):d.jsx(xae,{$isAccent:!0,children:d.jsx(Odt,{})})]})}),h.passkey&&d.jsx(nM,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(jj,{})})]},"passkey"),(f.totp||h.totp)&&d.jsxs(tM,{children:[d.jsx(Gr,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>c("totp"),children:i?d.jsx(iu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(iM,{children:[d.jsxs(rM,{children:[d.jsx(I$,{}),"Authenticator app"]}),h.totp&&d.jsx(aM,{color:"green",children:"Enabled"})]})}),h.totp&&d.jsx(nM,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(jj,{})})]},"totp"),(f.sms||h.sms)&&d.jsxs(tM,{children:[d.jsx(Gr,{disabled:h.sms||r,onClick:()=>c("sms"),children:d.jsxs(iM,{children:[d.jsxs(rM,{children:[d.jsx(bg,{}),"SMS"]}),h.sms&&d.jsx(aM,{color:"green",children:"Enabled"}),r&&d.jsx(xae,{children:"Disabled"})]})}),h.sms&&d.jsx(nM,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(jj,{})})]},"sms")]}),d.jsx(aOt,{children:"You can always change your selection later"}),d.jsx(Ri,{})]})};let aM=X(tf).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),aOt=X(H8e).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const tAe=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),lOt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=Sn(),{initLinkWithPasskey:i,linkWithPasskey:s}=st(),{app:o}=lt(),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),p=x.useMemo(()=>(r==null?void 0:r.linkedAccounts.filter(y=>y.type==="passkey"))??[],[r]),m=async y=>{l(!0);try{await n(y)}catch(w){f(w)}finally{l(!1)}},g=async()=>{u(!0),f(null);try{await i();let y=await s(),w=(y==null?void 0:y.linkedAccounts.filter(v=>v.type==="passkey").map(v=>v.credentialId))??[];await m(w)}catch(y){f(y)}finally{u(!1)}};return p.length===0||c?d.jsx(cOt,{onReset:e,onClose:t,onClick:g,isCreating:c}):h?d.jsx(CN,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>f(null),onRetry:()=>f(null)}):d.jsx(uOt,{passkeys:p,isSubmitting:a,isCreating:c,onReset:e,onClose:t,onSubmitEnrollment:()=>m(p.map(y=>y.credentialId)),onAddPasskey:g})};let cOt=({onReset:t,onClose:e,onClick:n,isCreating:r})=>d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:t,onClose:e},"header"),d.jsx(mK,{children:d.jsxs(X8e,{children:[d.jsx(gK,{}),d.jsx(tAe,{})]})}),d.jsx(Fa,{children:"Set up passkey verification"}),d.jsxs(ON,{children:[d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(nw,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(Fdt,{})}),"Takes seconds to set up and use"]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(kdt,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(pr,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),d.jsx(Ri,{})]}),uOt=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=x.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx(mK,{children:d.jsxs(X8e,{children:[d.jsx(gK,{}),d.jsx(tAe,{})]})}),d.jsx(Fa,{children:"Enable your passkeys for verification"}),d.jsxs(ON,{children:[i.slice(0,c).map(u=>{var h;return d.jsxs(dOt,{children:[d.jsx(hOt,{children:pOt(u)}),d.jsxs(fOt,{children:["Last used: ",(h=u.latestVerifiedAt)==null?void 0:h.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&d.jsx(Pae,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(pr,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx(Pae,{style:{marginTop:"0.5rem"},onClick:n,disabled:o,children:o?d.jsx(iu,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(Ri,{})]})},dOt=X.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),hOt=X.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),fOt=X.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),pOt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const Pae=X.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),mOt=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,h]=x.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:p}=eAe(),{app:m,data:g}=lt();function y(){var w;(w=g==null?void 0:g.mfaEnrollmentFlow)==null||w.onSuccess(),e()}return l?d.jsx(CN,{allowlistConfig:m.allowlistConfig,error:l,onBack:()=>c(null),onRetry:()=>c(null)}):d.jsxs(d.Fragment,u==="enroll"?{children:[d.jsx(bn,{backFn:n,onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(bg,{})}),d.jsx(Fa,{children:"Set up SMS verification"}),d.jsxs(Wc,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),d.jsxs(dw,{children:[d.jsx(_N,{onSubmit:async function({qualifiedPhoneNumber:w}){try{await f({phoneNumber:w}),s(w),h("verify")}catch(v){c(v)}},hideRecent:!0}),d.jsxs(H8e,{children:["By providing your mobile number, you agree to receive text messages from ",m==null?void 0:m.name,". Some carrier charges may apply"]})]}),d.jsx(Ri,{})]}:o?{children:[d.jsx(bn,{onClose:y},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(u$,{})}),d.jsx(Fa,{children:"SMS verification added"}),d.jsxs(Wc,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),d.jsx(Gb,{children:d.jsx(pr,{onClick:y,children:"Done"})}),d.jsx(Ri,{})]}:{children:[d.jsx(bn,{backFn:function(){u==="verify"?h("enroll"):n()},onClose:r},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(bg,{})}),d.jsx(Fa,{children:"Enter enrollment code"}),d.jsxs(dw,{children:[d.jsx(J7,{onChange:async function(w){try{if(!w)return;await p({phoneNumber:i,mfaCode:w}),a(!0)}catch(v){throw v4e(v)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):FG(v)?Error("The code you entered is not valid"):LG(v)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):x4e(v)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(Wc,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:Qrt(i)})]})]}),d.jsx(Ri,{})]})},gOt=({size:t,authUrl:e})=>d.jsx(fC,{url:e,squareLogoElement:CRt,size:t,fgColor:"#1F1F1F"}),yOt=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,o]=x.useState("enroll");return d.jsxs(d.Fragment,s==="enroll"?{children:[d.jsx(bn,{backFn:e,onClose:t},"header"),d.jsx(xg,{children:"Scan QR code"}),d.jsx(uw,{children:"Open your authenticator app and scan this code to continue"}),d.jsx(LSt,{children:d.jsx(gOt,{authUrl:n.authUrl,size:240})}),d.jsx(QG,{style:{textAlign:"left"},children:"Setup key"}),d.jsxs(IN,{style:{marginTop:"0.25rem"},children:[d.jsx(hRt,{children:"".repeat(16)}),d.jsx(tK,{itemName:" ",text:n.secret})]}),d.jsx(pr,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),d.jsx(Ri,{})]}:{children:[d.jsx(bn,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(I$,{})}),d.jsx(xg,{children:"Enter enrollment code"}),d.jsx(uw,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),d.jsx(dw,{children:d.jsx(J7,{onChange:async function(a){try{if(!a)return;await r({mfaCode:a})}catch(l){throw v4e(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):FG(l)?Error("The code you entered is not valid"):LG(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):x4e(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),d.jsx(Ri,{})]})},wOt={component:()=>{var j;let{user:t,enrollInMfa:e,ready:n}=Sn(),[r,i]=x.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=eAe(),{app:f,data:p,onUserCloseViaDialogOrKeybindRef:m}=lt(),{closePrivyModal:g}=st(),{promptMfa:y}=Y8e(),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(null),N=()=>{g({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),A(null)},500)},[R,M]=x.useState(!1),[F,W]=x.useState();m.current=N;let V=t==null?void 0:t.mfaMethods.includes("sms"),B=!!(t!=null&&t.phone),k=t==null?void 0:t.mfaMethods.includes("totp"),C=t==null?void 0:t.mfaMethods.includes("passkey"),S=V||k||C,T=(t==null?void 0:t.linkedAccounts.filter(I=>I.type==="passkey").map(I=>I.credentialId))??[];function _(){i(null),A(null)}async function P(I=T){var L,J;M(!0);try{return await c(),await u({credentialIds:I},{removeForLogin:(L=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:L.shouldUnlinkOnUnenrollMfa}),(J=p==null?void 0:p.mfaEnrollmentFlow)==null||J.onSuccess(),N()}catch(O){W(O)}finally{M(!1)}}if(x.useEffect(()=>{S&&v(!0)},[S]),!n||!t||!f)return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:N},"header"),d.jsx(mK,{children:d.jsx(iOt,{})}),d.jsx(dw,{children:d.jsx(iu,{})}),d.jsx(Ri,{})]});if(r==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:_,onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(t2,{})}),d.jsx(Fa,{children:"Remove SMS verification?"}),d.jsxs(Wc,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Gb,{children:d.jsx(pr,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),d.jsx(Ri,{})]});if(r==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:_,onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(t2,{})}),d.jsx(Fa,{children:"Remove authenticator app verification?"}),d.jsxs(Wc,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Gb,{children:d.jsx(pr,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),d.jsx(Ri,{})]});if(r==="passkey"){let I=((j=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:j.shouldUnlinkOnUnenrollMfa)??!0;return d.jsxs(d.Fragment,{children:[d.jsx(bn,{backFn:_,onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(t2,{})}),d.jsx(Fa,{children:"Are you sure you want to remove this passkey?"}),d.jsx(Wc,{children:I?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),d.jsx(Gb,{children:d.jsx(pr,{$warn:!0,onClick:async function(){var L;i(null);try{await a({removeForLogin:(L=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:L.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),d.jsx(Ri,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!S)return d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(nw,{})}),d.jsx(Fa,{children:"Add more security"}),d.jsxs(Wc,{children:[f==null?void 0:f.name," does not have any verification methods enabled."]}),d.jsx(Gb,{children:d.jsx(pr,{onClick:N,children:"Close"})}),d.jsx(Ri,{})]});let D=!S&&!w;return D?d.jsxs(d.Fragment,{children:[d.jsx(bn,{onClose:N},"header"),d.jsx(Hc,{style:{marginBottom:"1.5rem"},children:d.jsx(nw,{})}),d.jsx(Fa,{children:"Transaction Protection"}),d.jsx(Wc,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(ON,{children:[d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(vRt,{})}),"Enable 2-Step verification for your ",f==null?void 0:f.name," wallet."]}),d.jsxs($1,{children:[d.jsx(T1,{children:d.jsx(ERt,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(Gb,{children:[d.jsx(pr,{onClick:()=>v(!0),children:"Continue"}),d.jsx(kd,{onClick:N,children:"Not now"})]}),d.jsx(Ri,{})]}):b==="sms"?d.jsx(mOt,{appName:(f==null?void 0:f.name)||"Privy",onComplete:N,onReset:_,onClose:N}):b==="totp"&&E?d.jsx(yOt,{onClose:N,onReset:_,submitEnrollmentWithTotp:({mfaCode:I})=>async function(L){var J;try{return W(void 0),await l({mfaCode:L}),(J=p==null?void 0:p.mfaEnrollmentFlow)==null||J.onSuccess(),N()}catch(O){W(O)}finally{i(null)}}(I),totpInfo:{...E,appName:(f==null?void 0:f.name)||"Privy"}}):b==="passkey"?d.jsx(lOt,{onReset:_,onClose:N,submitEnrollmentWithPasskey:P}):d.jsx(oOt,{showIntro:D,userMfaMethods:t.mfaMethods,appMfaMethods:f.mfa.methods,userHasAuthSms:B,onBackToIntro:function(){v(!1)},handleSelectMethod:async function(I){try{await y()}catch(L){return void W(L)}return I==="totp"?(A(I),$(null),void h().then(L=>{$(L)}).catch(()=>{$(null),_()})):I==="passkey"&&T.length===1?await P():void A(I)},isTotpLoading:b==="totp"&&!E,isPasskeyLoading:R,error:F,onClose:N,setRemovingMfaMethod:async I=>{try{await y()}catch(L){return void W(L)}i(I)}})}},bOt=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return d.jsx(Rn,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r!=null&&r.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},Rae={component:()=>{var $;let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=lt(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m}=st(),[g,y]=x.useState(!1),[w,v]=x.useState(void 0),b=(($=l())==null?void 0:$.provider)||"google",{name:A,component:E}=KO(b);return x.useEffect(()=>{u(b).then(()=>{y(!0),f(!0)}).catch(N=>{var F,W,V,B,k,C,S,T,_,P,D,j,I,L,J,O;if(f(!1),(N==null?void 0:N.privyErrorCode)===pe.ALLOWLIST_REJECTED)return v(void 0),a(),void o(kN);if((N==null?void 0:N.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new WA(N).toString()),v(void 0),a(),void o(pC);if((N==null?void 0:N.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(hC);if((N==null?void 0:N.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((W=(F=N.data)==null?void 0:F.data)!=null&&W.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(B=(V=N.data)==null?void 0:V.data)==null?void 0:B.nonce,account:(C=(k=N.data)==null?void 0:k.data)==null?void 0:C.subject,displayName:(_=(T=(S=N.data)==null?void 0:S.data)==null?void 0:T.account)==null?void 0:_.displayName,linkMethod:(P=l())==null?void 0:P.provider,embeddedWalletAddress:(I=(j=(D=N.data)==null?void 0:D.data)==null?void 0:j.otherUser)==null?void 0:I.embeddedWalletAddress,oAuthUserInfo:(O=(J=(L=N.data)==null?void 0:L.data)==null?void 0:J.otherUser)==null?void 0:O.oAuthUserInfo}}),void o(Kw);let{retryable:R,detail:M}=function(G,Z){let Q={detail:"",retryable:!1},ie=k6e(Z);if((G==null?void 0:G.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER&&(Q.detail="This account has already been linked to another user."),(G==null?void 0:G.privyErrorCode)===pe.INVALID_CREDENTIALS&&(Q.retryable=!0,Q.detail="Something went wrong. Try again."),G.privyErrorCode===pe.OAUTH_USER_DENIED&&(Q.detail=`Retry and check ${ie} to finish connecting your account.`,Q.retryable=!0),(G==null?void 0:G.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(Q.detail="Too many requests. Please wait before trying again."),(G==null?void 0:G.privyErrorCode)===pe.TOO_MANY_REQUESTS&&G.message.includes("provider rate limit")){let de=KO(Z).name;Q.detail=`Request limit reached for ${de}. Please wait a moment and try again.`}if((G==null?void 0:G.privyErrorCode)===pe.OAUTH_ACCOUNT_SUSPENDED){let de=KO(Z).name;Q.detail=`Your ${de} account is suspended. Please try another login method.`}return(G==null?void 0:G.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE&&(Q.detail="You cannot authorize more than one account for this user."),(G==null?void 0:G.privyErrorCode)===pe.OAUTH_UNEXPECTED&&Z.startsWith("privy:")&&(Q.detail="Something went wrong. Please try again."),Q}(N,b);v({retryable:R,detail:M,message:"Authentication failed"})}).finally(()=>{cU()})},[A,b]),x.useEffect(()=>{if(n&&t&&g&&r){if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let N=setTimeout(()=>{o(Yw)},Wr);return()=>clearTimeout(N)}if(Ug(r,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:b,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(a0)},Wr);return()=>clearTimeout(N)}{let N=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Wr);return h(),()=>clearTimeout(N)}}},[n,t,g,r]),d.jsx(bOt,{providerName:A,ProviderLogo:E,success:g,errorMessage:w,onRetry:w!=null&&w.retryable?()=>{cU(),c(b),v(void 0)}:void 0})}},vOt=x.forwardRef((t,e)=>{let[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l,user:c}=Sn(),{initUpdateEmail:u}=st(),{navigate:h,setModalData:f,currentScreen:p}=lt(),{enabled:m,token:g}=dl(),y=Fn(),w=L6e(n)&&(y.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),v=o||!w,b=()=>{!m||g||l?(async A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:c.email.address,newAddress:n,captchaToken:A}),h(Xp)}catch(E){f({errorModalData:{error:E,previousScreen:p||Lo}})}a(!1)})(g):(f({captchaModalData:{callback:A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:c.email.address,newAddress:n,captchaToken:A})},userIntentRequired:!1,onSuccessNavigateTo:Xp,onErrorNavigateTo:Kr}}),h(_d))};return d.jsxs(d.Fragment,{children:[d.jsxs(xOt,{children:[i&&d.jsx(cw,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(EOt,{$error:!!i,children:[d.jsx(T$,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:A=>r(A.target.value),onKeyUp:A=>{A.key==="Enter"&&b()},value:n,autoComplete:"email"}),t.stacked?null:d.jsx(dN,{isSubmitting:o,onClick:b,disabled:v,children:"Submit"})]})]}),t.stacked?d.jsx(pr,{loadingText:null,loading:o,disabled:v,onClick:b,style:{width:"100%"},children:"Submit"}):null]})});let xOt=G4e,EOt=q4e;const AOt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>d.jsx(Rn,{title:t,subtitle:e,icon:T$,watermark:!0,children:d.jsx(h4e,{children:d.jsx(vOt,{stacked:!0})})}),COt={component:()=>d.jsx(AOt,{})},kOt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=x.useState(null);return d.jsx(Rn,{title:t,subtitle:e,icon:bg,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)},disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:d.jsx(_N,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},SOt={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=lt(),{user:i}=Sn(),{initUpdatePhone:s}=st(),[o,a]=x.useState(!1);return d.jsx(kOt,{onSubmit:async l=>{var c,u,h;a(!0);try{if(!((c=i==null?void 0:i.phone)!=null&&c.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,l.qualifiedPhoneNumber),n(Xp)}catch(f){r({errorModalData:{error:f,previousScreen:((h=e==null?void 0:e.errorModalData)==null?void 0:h.previousScreen)||t||yK}}),n(Kr)}finally{a(!1)}},isSubmitting:o})}};function _Ot({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=st(),{logout:l,authenticated:c,ready:u}=eo();if(!o)throw new ue("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,f]=x.useState({status:"initial"}),p=x.useRef(),m=x.useRef(!1),g=x.useRef(e);x.useEffect(()=>{g.current=e},[e]);let y=x.useRef(r);x.useEffect(()=>{y.current=r},[r]);let w=x.useRef(i);x.useEffect(()=>{w.current=i},[i]);let v=x.useRef(s);return x.useEffect(()=>{v.current=s},[s]),x.useEffect(()=>{if(!n||!u)return;let b=async()=>{var A,E,$,N;if(!m.current){m.current=!0;try{f({status:"loading"});let R=await g.current();if(p.current!==void 0&&p.current===R)return void f({status:"done"});if(!R)return c&&(await l(),(A=w.current)==null||A.call(w)),p.current=R,void f({status:"done"});o.startAuthFlow(new z8e(R));let{user:M,isNewUser:F=!1}=await o.authenticate();if(!M)throw new ue("Failed to sync with custom auth provider");(E=y.current)==null||E.call(y,{user:M,isNewUser:F}),a(M,F),p.current=R,f({status:"done"})}catch(R){if(console.warn(R),await l().catch(()=>{}),($=w.current)==null||$.call(w),R instanceof Rl&&R.privyErrorCode===pe.LINKED_TO_ANOTHER_USER)return f({status:"initial"}),void setTimeout(()=>{b()},0);(N=v.current)==null||N.call(v,R),f({status:"error",error:R})}finally{m.current=!1}}};return b(),t(b)},[t,o,a,c,l,n,u]),n?{state:h}:{state:{status:"not-enabled"}}}let IOt=Bw(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function TOt({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=Gw(),i=x.useRef(),s=x.useCallback(l=>(i.current=l,()=>{i.current=void 0}),[]),o=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=_Ot({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:c})=>{r("login","onComplete",{user:l,isNewUser:c,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:l=>{r("login","onError",l.privyErrorCode||pe.UNKNOWN_AUTH_ERROR)}});return x.useEffect(()=>{(async()=>{var l;n&&!n.isLoading&&((l=i.current)==null||l.call(i))})()},[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return x.useEffect(()=>{IOt.setState({jwtAuthFlowState:e})},[e]),null}const nAe=x.createContext(!1);let Tv,rAe,iAe,sAe,oAe,aAe;async function yr(){return Tv?Tv.getAccessToken():Promise.resolve(Nt.get(cS)||Nt.get(R6)||null)}const $Ot=(t,e)=>rAe(t,e),NOt=(t,e)=>iAe(t,e),POt=(t,e)=>sAe(t,e),ROt=(t,e)=>oAe(t,e),jOt=t=>aAe(t),OOt=({config:t,...e})=>{var n;if((()=>{if(x.useContext(nAe))throw new ue("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ue("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new ue("Cannot initialize the Privy provider with an invalid Privy app ID");Tv||(Tv=new VRt({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=x.useMemo(()=>new Vrt({appId:e.appId,clientId:e.clientId,storage:Nt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.0.1"}),[]);return d.jsx(P9t,{client:i,legacyClient:Tv,appClientId:e.clientId,clientConfig:r,children:d.jsx(B7t,{children:d.jsx(MOt,{...e,client:Tv,privy:i})})})};let MOt=t=>{var Qt;let e=t.client,n=t.privy,r=YG();bjt();let[i,s]=x.useState(!1),o=v8(q=>q.inProgressMfaFlow),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(void 0),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(!1),[N,R]=x.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Ie}),[M,F]=x.useState({status:"initial"}),[W,V]=x.useState({status:"initial"}),[B,k]=x.useState({status:"initial"}),[C,S]=x.useState({status:"initial"}),[T,_]=x.useState({status:"initial"}),[P,D]=x.useState({status:"initial"}),[j,I]=x.useState(null),L=Fn(),J=e4e(),[O,G]=x.useState({}),[Z,Q]=x.useState(null),ie=x.useRef(null),[de,oe]=x.useState(!1),[he,we]=x.useState(!1),fe=x.useRef(null),ke=x.useRef(null),be=x.useRef(O9t),[Ue,Me]=x.useState(!1);e.onStoreCustomerAccessToken=q=>{q&&Ge(be,"accessToken","onAccessTokenGranted",{accessToken:q})},e.onDeleteCustomerAccessToken=()=>{f(null),u(!1),Ge(be,"accessToken","onAccessTokenRemoved")};let Se=x.useRef(null),xe=x.useRef(null),Ne=x.useRef(!1),Be=({showWalletUIs:q})=>Ne.current?Ne.current:q!==void 0?!q:!L.embeddedWallets.showWalletUIs,Ce=q=>{A(q),setTimeout(()=>{s(!0)},15)};x.useEffect(()=>{var re,le,me;if(!h)return void((re=e.connectors)==null?void 0:re.removeEmbeddedWalletConnectors());let q=bh(h),Y=d2e(h),ae=XL(h);q&&Y.length||((le=e.connectors)==null||le.removeEmbeddedWalletConnectors()),ae||((me=e.connectors)==null||me.removeImportedWalletConnector()),e.connectors?j?(q&&e.connectors.addEmbeddedWalletConnectors({walletProxy:j,user:h,embeddedWallets:Y,defaultChain:L.defaultChain,appId:t.appId,privyClient:n}),ae&&e.connectors.addImportedWalletConnector(j,ae.address,L.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[j,h]),x.useEffect(()=>{var q;j&&((q=ie.current)==null||q.call(ie,j))},[j]);let De=x.useCallback((q,Y)=>{f(q),v(Y),u(!0),we(!0)},[]);x.useEffect(()=>{he&&j&&h&&(async()=>{var re;let q=qG(h,L.embeddedWallets.ethereum.createOnLogin),Y=GG(h,L.embeddedWallets.solana.createOnLogin),ae=await yr();if(ae){if(q&&Y){let le=await j.create({accessToken:ae});return await j.createSolana({accessToken:ae,ethereumAddress:le==null?void 0:le.address}),void we(!1)}if(Y)return await j.createSolana({accessToken:ae,ethereumAddress:(re=bh(h))==null?void 0:re.address}),await He.refreshSessionAndUser(),void we(!1);if(q)return await j.create({accessToken:ae}),void we(!1)}})().catch(console.error)},[he&&j&&h]),x.useEffect(()=>{if(L.externalWallets.solana.connectors)return L.externalWallets.solana.connectors.onMount(),()=>{var q;return(q=L.externalWallets.solana.connectors)==null?void 0:q.onUnmount()}},[L.externalWallets.solana.connectors]),x.useEffect(()=>{!a&&J&&async function(){var $e,Oe,Mt;let q,Y=Ve(),ae=rt(),re=sBe();e.initializeConnectorManager({walletConnectCloudProjectId:L.walletConnectCloudProjectId,rpcConfig:L.rpcConfig,chains:L.chains,defaultChain:L.defaultChain,store:re,walletList:L.appearance.walletList,shouldEnforceDefaultChainOnConnect:L.shouldEnforceDefaultChainOnConnect,externalWalletConfig:L.externalWallets,appName:L.name??"Privy",walletChainType:L.appearance.walletChainType,setBaseAccountSdk:y}),($e=e.connectors)==null||$e.on("connectorInitialized",()=>{q&&clearTimeout(q);let bt=e.connectors.walletConnectors.length,St=e.connectors.walletConnectors.reduce((rn,Qe)=>rn+(Qe.initialized?1:0),0);St===bt?Me(!0):q=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:St,expected:bt}),Me(!0)},1500)}),(Oe=e.connectors)==null||Oe.initialize().then(()=>{ne()});let le=await e.getAuthenticatedUser(),me=!!le;L.legal.requireUsersAcceptTerms&&le&&!le.hasAcceptedTerms?(await e.logout(),He.setReadyToTrue(!0),Ge(be,"logout","onSuccess")):((Mt=L.customAuth)!=null&&Mt.enabled||(u(!!le),le&&Ge(be,"login","onComplete",{user:le,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),f(le)),Y?xe.current=me?"link":"login":ae&&!me?(xe.current="login",G({telegramAuthModalData:{seamlessAuth:!0}}),Ce(gS)):He.setReadyToTrue(!!le))}()},[e,Z,a,J]),x.useEffect(()=>{if(a){if(!h||!h.linkedAccounts.find(q=>q.type==="wallet"&&q.walletClientType==="privy"))return void oe(!!j);if([...p].some(q=>q.walletClientType==="privy"))return void oe(!0);oe(!!j)}},[a,h,p,j]),x.useEffect(()=>{var q;(q=e.connectors)==null||q.setWalletList(L.appearance.walletList)},[L.appearance.walletList.join()]);let Ve=()=>{let q=_Rt();return q.inProgress&&q.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):q.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:q.stateCode,authorizationCode:q.authorizationCode}):(q.inProgress&&function(Y){return Y.startsWith("privy:")}(q.provider)&&!q.popupFlow&&(new BroadcastChannel(_ae).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:q.stateCode,authorizationCode:q.authorizationCode}),window.close()),!!q.inProgress&&!!q.withPrivyUi&&(e.startAuthFlow(new qb({...q,customOAuthRedirectUrl:L.customOAuthRedirectUrl})),Ce(Rae),!0))},rt=()=>{var ae;let q=E9t();if(!q||!L.loginMethods.telegram||!((ae=L.loginConfig.telegramAuthConfiguration)!=null&&ae.seamlessAuthEnabled))return;let Y=new X5;return e.startAuthFlow(Y),q.flowType==="login-url"&&(Y.meta.telegramWebAppData=void 0,Y.meta.telegramAuthResult=q.authData),q.flowType==="web-app"&&(Y.meta.telegramAuthResult=void 0,Y.meta.telegramWebAppData=q.authData),!0},K=async(q,Y,ae,re)=>{var le,me;if(q!=="solana_adapter")U(await((le=e.connectors)==null?void 0:le.createEthereumWalletConnector({connectorType:q,walletClientType:Y}))||null,Y,ae,re);else{let $e=(me=e.connectors)==null?void 0:me.findSolanaWalletConnector(Y);if(!$e)return;U($e,Y,ae,re)}};async function U(q,Y,ae,re){if(!q)return R({status:"disconnected",connectedWallet:null,connectError:new kr("Unable to connect to wallet."),connector:null,connectRetry:Ie}),re==null?void 0:re(null,ae);R({status:"disconnected",connectedWallet:null,connectError:null,connector:q,connectRetry:Ie}),q instanceof s2&&Y&&await q.resetConnection(Y),R({connector:q,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>U(q,Y,ae,re)});try{let le=await q.connect({showPrompt:!0});if((!le||rm(le))&&L.shouldEnforceDefaultChainOnConnect&&!L.chains.find(me=>me.id===Number(le==null?void 0:le.chainId.replace("eip155:","")))&&((le==null?void 0:le.connectorType)!=="wallet_connect_v2"||(le==null?void 0:le.walletClientType)!=="metamask")){R(me=>({...me,connector:q,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Ie}));try{await(le==null?void 0:le.switchChain(L.defaultChain.id)),le&&(le.chainId=E4(_i(L.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${L.defaultChain.id}`)}}return R(me=>({...me,status:"connected",connectedWallet:le,connectError:null,connectRetry:Ie})),le&&Ge(be,"connectWallet","onSuccess",{wallet:le}),re==null?void 0:re(le,ae)}catch(le){return le instanceof Do?(console.warn(le.cause?le.cause:le.message),Ge(be,"connectWallet","onError",le.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(le),Ge(be,"connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR)),R(me=>({...me,status:"disconnected",connectedWallet:null,connectError:le})),re==null?void 0:re(null,ae)}}let z=async(q,Y,ae)=>{if(q===null||!rm(q))return;let re=new r2(e,q,Y,ae);e.startAuthFlow(re)},ee=async(q,Y,ae,re="plain")=>{let le=r(X4e);if(re==="transaction"&&!le)throw new ue("useSolanaLedger plugin hook must be mounted");if(q===null||!_9t(q))return;let me=new L7(q,e,Y,ae,re,le);e.startAuthFlow(me)},ne=()=>{let q=new URLSearchParams(window.location.search),Y=q.get("privy_connector"),ae=q.get("privy_wallet_client"),re=q.get("privy_connect_only")==="true";if(!Y||!ae)return;let le=Q6e({connectorType:Y,walletClientType:ae});if(!le||!le.isInstalled)return Ce(rOt);if(!e.connectors)throw new ue("Connector not initialized");Ce(re?IU:Ip);let me=new URL(window.location.href);me.searchParams.delete("privy_connector"),me.searchParams.delete("privy_wallet_client"),me.searchParams.delete("privy_connect_only"),window.history.pushState({},"",me),K(Y,ae,void 0,re?void 0:Y==="solana_adapter"?ee:z)};x.useEffect(()=>{a&&c&&h===null&&e.getAuthenticatedUser().then(f)},[a,c,h,e]);let se=q=>{if(!c)throw Ge(be,"linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:q}),new ue("User must be authenticated before linking an account.")},ce=q=>{if(!c||!h)return!1;if(q.walletClientType==="privy")return!0;for(let Y of h.linkedAccounts)if(Y.type==="wallet"&&Y.address===q.address&&Y.walletClientType!=="privy")return!0;return!1},Le=()=>{m(q=>{var ae;let Y=((ae=e.connectors)==null?void 0:ae.wallets.filter(rm).map(re=>({...re,linked:ce(re),loginOrLink:async()=>{if(!await re.isConnected())throw new ue("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new ue("Cannot link or login with embedded wallet");(async le=>{let me;if(!e.connectors)throw new ue("Connector not initialized");me=le.type==="ethereum"?e.connectors.findWalletConnector(le.connectorType,le.walletClientType)||null:e.connectors.findSolanaWalletConnector(le.walletClientType)||null,R($e=>({...$e,connector:me,status:"connected",connectedWallet:le,connectError:null,connectRetry:Ie})),L.captchaEnabled&&!c?(G({captchaModalData:{callback:$e=>rm(le)?z(le,$e):ee(le,$e),userIntentRequired:!1,onSuccessNavigateTo:Ip,onErrorNavigateTo:Kr}}),Ce(_d)):(rm(le)?await z(le):await ee(le),Ce(Ip))})(re)},fund:async le=>{await He.fundWallet(re.address,le)},unlink:async()=>{if(!c)throw new ue("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new ue("Cannot unlink an embedded wallet");f(await e.unlinkEthereumWallet(re.address))}})))||[];return q6e(q,Y)?q:Y})};x.useEffect(()=>{Le()},[h==null?void 0:h.linkedAccounts,c,a]),x.useEffect(()=>{if(a){if(!e.connectors)throw new ue("Connector not initialized");Le(),e.connectors.on("walletsUpdated",Le)}},[a]),x.useEffect(()=>{var q,Y;[...((q=L.loginMethodsAndOrder)==null?void 0:q.primary)??[],...((Y=L.loginMethodsAndOrder)==null?void 0:Y.overflow)??[]].filter(ae=>ae.startsWith("privy:")).forEach(ae=>e.getCrossAppProviderDetails(ae.replace("privy:","")))},[!!e]);let Xe=({transaction:q,sponsor:Y,uiOptions:ae,fundWalletConfig:re,address:le,signOnly:me})=>new Promise(async($e,Oe)=>{let{requesterAppId:Mt}=ae||{},bt=me?"signTransaction":"sendTransaction",St=le?Hf(h,le):bh(h);if(!St&&le){let Gt=Rj(p,le);if(Gt){if(Y)throw new ue("Cannot sponsor transactions for externally connected wallet.");try{let vr=await Gt.getEthereumProvider(),en={...q,from:le,chainId:q.chainId||Number(Gt.chainId.replace("eip155:","")),value:q.value!==void 0?_i(q.value):void 0},$r=await vr.request({method:bt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[en]});return Ge(be,bt,"onSuccess",{hash:$r}),void $e({hash:$r})}catch(vr){return Ge(be,bt,"onError",pe.TRANSACTION_FAILURE),void Oe(vr??new xo("Unable to "+bt+vr))}}}if(!St)return Ge(be,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void Oe(new ue("No embedded or connected wallet found for address."));if(!c||!h)return Ge(be,bt,"onError",pe.MUST_BE_AUTHENTICATED),void Oe(Error("User must be authenticated before signing with a Privy wallet"));let rn=St.address,Qe=St.walletIndex??0,{entropyId:ut,entropyIdVerifier:at}=Zu(h,St),ct=Ln.wallets.find(Gt=>Gt.walletClientType==="privy"&&Bi(Gt.address)===Bi(rn));if(!ct)return Ge(be,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void Oe(Error("Must have a Privy wallet before signing"));let ht=await ct.getEthereumProvider(),an=await ht.request({method:"eth_chainId"}),zn=q.chainId?Number(q.chainId):B8e(an);(Gt=>{if(!L.chains.map(vr=>vr.id).includes(Gt))throw new kr(`Chain ID ${Gt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,pe.UNSUPPORTED_CHAIN_ID)})(zn);let Ht={...q,from:q.from??rn,chainId:zn},Ft=await yr();if(!Ft||!j)return Ge(be,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void Oe(Error("Must have valid access token and Privy wallet to send transaction"));let An=Jx(Ht.chainId,L.chains,L.rpcConfig,{appId:t.appId}),oi=vl(St),uc=async({transactionRequest:Gt})=>{try{let vr;if(!await He.recoverEmbeddedWallet({address:rn}))throw Ge(be,bt,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),Oe(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(Y){let en=await(async({transactionRequest:$r})=>{if(!oi)throw new ue("Sponsoring is only supported for wallets on the TEE stack");if(me)throw new ue("Cannot sponsor a sign transaction request");let to=fl=>fl==null?void 0:_i(fl),dc=await Qu(n,async({message:fl})=>await j.signWithUserSigner({accessToken:Ft,requesterAppId:Mt,message:fl}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:E4(_i($r.chainId)),sponsor:!0,params:{transaction:{from:$r.from,to:$r.to,chain_id:to($r.chainId),data:Ro($r.data)?$r.data?$r.data:_i(Uint8Array.from($r.data)):void 0,value:to($r.value)}},wallet_id:St.id});if(dc.data&&"hash"in dc.data)return dc.data.hash;throw new xo("Unable to sign transaction")})({transactionRequest:Gt});return Ge(be,"sendTransaction","onSuccess",{hash:en}),en}if(oi){let en=to=>to==null?void 0:_i(to),$r=await Qu(n,async({message:to})=>await j.signWithUserSigner({accessToken:Ft,requesterAppId:Mt,message:to}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Gt.from,to:Gt.to,nonce:en(Gt.nonce),chain_id:en(Gt.chainId),data:Ro(Gt.data)?Gt.data?Gt.data:_i(Uint8Array.from(Gt.data)):void 0,value:en(Gt.value),type:Gt.type,gas_limit:en(Gt.gasLimit??Gt.gas),gas_price:en(Gt.gasPrice??Gt.gas),max_fee_per_gas:en(Gt.maxFeePerGas),max_priority_fee_per_gas:en(Gt.maxPriorityFeePerGas)}},wallet_id:St.id});if(!$r.data||!("signed_transaction"in $r.data))throw new xo("Unable to sign transaction");vr=$r.data.signed_transaction}else vr=await async function({accessToken:en,entropyId:$r,entropyIdVerifier:to,transactingWalletIndex:dc,walletProxy:fl,transactionRequest:p5,requesterAppId:m5}){return(await fl.rpc({entropyId:$r,entropyIdVerifier:to,hdWalletIndex:dc??0,chainType:"ethereum",accessToken:en,requesterAppId:m5,request:{method:"eth_signTransaction",params:[p5]}})).response.data}({accessToken:Ft,entropyId:ut,entropyIdVerifier:at,transactingWalletIndex:Qe,walletProxy:j,transactionRequest:Gt,requesterAppId:Mt});if(me)return Ge(be,"signTransaction","onSuccess",{signature:vr}),vr;{let en=await An.sendRawTransaction({serializedTransaction:vr});return Ge(be,"sendTransaction","onSuccess",{hash:en}),en}}catch(vr){throw Ge(be,bt,"onError",pe.TRANSACTION_FAILURE),vr}};if(Be({showWalletUIs:ae==null?void 0:ae.showWalletUIs})){let Gt=me||Y?Ht:await W7(Ht,An,Ht.from);try{let vr=await uc({transactionRequest:Gt});me?Ge(be,"signTransaction","onSuccess",{signature:vr}):Ge(be,"sendTransaction","onSuccess",{hash:vr}),$e({hash:vr})}catch(vr){Ge(be,bt,"onError",pe.TRANSACTION_FAILURE),Oe(vr)}}else{let Gt={connectingWalletAddress:rn,recoveryMethod:St.recoveryMethod,entropyId:ut,entropyIdVerifier:at,onCompleteNavigateTo:WEe,isUnifiedWallet:oi,onFailure:en=>{Ge(be,bt,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),Oe(en)}},vr=(en=>!!en.fundingConfig&&L8e(en.fundingConfig.options).length>=1)(L)?dae({address:rn,appConfig:L,fundWalletConfig:re,methodScreen:ud,chainIdOverride:Ht.chainId,comingFromSendTransactionScreen:!0}):void 0;G({connectWallet:Gt,sendTransaction:{transactionRequest:Ht,transactingWalletIndex:Qe,transactingWalletAddress:rn,entropyId:ut,entropyIdVerifier:at,signOnly:me,scanTransaction:async()=>{var $r,to,dc,fl;let en=await W7(Ht,An,Ht.from);return await e.scanTransaction({metadata:{domain:L.embeddedWallets.transactionScanning.domain},chain_id:en.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:en.from,to:en.to,value:($r=en.value)==null?void 0:$r.toString(),gas:(to=en.gas)==null?void 0:to.toString(),gasPrice:(dc=en.gasPrice)==null?void 0:dc.toString(),nonce:(fl=en.nonce)==null?void 0:fl.toString(),data:en.data}]}})},getIsSponsored:async()=>!!Y,onConfirm:({transactionRequest:en})=>uc({transactionRequest:en}),onSuccess:en=>{me?Ge(be,"signTransaction","onSuccess",{signature:en.hash}):Ge(be,"sendTransaction","onSuccess",{hash:en.hash}),$e(en)},onFailure:en=>{Ge(be,bt,"onError",pe.TRANSACTION_FAILURE),Oe(en)},uiOptions:ae||{},fundWalletConfig:re,requesterAppId:Mt},funding:vr}),Ce(i6)}});function Ye(){return new Promise(async(q,Y)=>{let ae=await yr();if(!ae||!j)throw Error("Must have valid access token to enroll in MFA");try{await j.verifyMfa({accessToken:ae}),q()}catch(re){Y(re)}})}let et=q=>q==null?void 0:q.linkedAccounts.filter(Y=>Y.latestVerifiedAt!==null&&!(Y.type==="wallet"&&Y.walletClientType==="privy")).sort((Y,ae)=>ae.latestVerifiedAt.getTime()-Y.latestVerifiedAt.getTime())[0],Re=q=>{let Y=(h==null?void 0:h.linkedAccounts.filter(le=>le.type===q).length)??0,{displayName:ae,loginMethod:re}=AN(q);if(q==="passkey"&&Y>=5||q!=="passkey"&&Y>=1)throw Ge(be,"linkAccount","onError",pe.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:re}),new ue(`User already has an account of type ${ae} linked.`)};async function Tt({showAutomaticRecovery:q=!1,legacySetWalletPasswordFlow:Y=!1}){A(null);let ae=Y?"setWalletPassword":"setWalletRecovery";if(!c||!h)throw Ge(be,ae,"onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let re=Cd(h);if(!re||!j)throw Ge(be,ae,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let le=vl(re);if(le)throw Ge(be,ae,"onError",pe.UNSUPPORTED_WALLET_TYPE),new ue("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Ye()}catch(me){throw Ge(be,ae,"onError",pe.MISSING_MFA_CREDENTIALS),me}return new Promise((me,$e)=>{let Oe=re.recoveryMethod==="user-passcode",Mt=vEe({walletAction:"update",availableRecoveryMethods:L.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:Y,isResettingPassword:Oe,showAutomaticRecovery:q}),{entropyId:bt,entropyIdVerifier:St}=Zu(h),rn={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,onCompleteNavigateTo:Mt,shouldForceMFA:!1,entropyId:bt,isUnifiedWallet:le,entropyIdVerifier:St,onFailure:Qe=>{Ge(be,ae,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),$e(Qe)}};G({setWalletPassword:{onSuccess:Qe=>{Ge(be,ae,"onSuccess",{method:"user-passcode",wallet:Qe}),me(Qe)},onFailure:Qe=>{Ge(be,ae,"onError",pe.USER_EXITED_SET_PASSWORD_FLOW),$e(Qe)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:bt,entropyIdVerifier:St,onFailure:$e},connectWallet:rn,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Oe,shouldCreateEth:!1,shouldCreateSol:!1}}),Ce(i6)})}async function dn({appId:q,action:Y}){let ae=await yr();if(Y==="link"&&!ae)throw Ge(be,"linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${q}`}),new ue("User must be authenticated before linking an account.");if(Y==="login"&&ae)throw Ge(be,"login","onError",pe.UNKNOWN_AUTH_ERROR),new ue("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Se.current=`privy:${q}`,xe.current=Y;let re=mN();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:q}}),new Promise(async(le,me)=>{let{name:$e,logoUrl:Oe}=await J8e({api:e.api,providerAppId:q,requesterAppId:L.id});G({crossAppAuth:{appId:q,name:$e,logoUrl:Oe,action:Y,popup:re,onSuccess:le,onError:me}}),Ce(Ljt)})}let Bt={ready:a,authenticated:c,user:h,walletConnectors:e.connectors||null,connectWallet:q=>{q&&"target"in q&&q&&(q=void 0),G({externalConnectWallet:{walletList:q!=null&&q.walletList&&(q==null?void 0:q.walletList.length)>0?q.walletList:void 0,walletChainType:q==null?void 0:q.walletChainType,description:q==null?void 0:q.description}}),Ce(kU)},linkWallet:q=>{q&&"target"in q&&q&&(q=void 0),se("siwe"),Se.current="siwe",xe.current="link",G({...O,externalConnectWallet:{...O.externalConnectWallet,walletList:q==null?void 0:q.walletList,walletChainType:q==null?void 0:q.walletChainType,description:(q==null?void 0:q.description)||`Link a wallet to your ${L==null?void 0:L.name} account`}}),Ce(mS)},startCrossAppAuthFlow:dn,linkEmail:()=>{se("email"),Re("email"),Se.current="email",xe.current="link",Ce(eOt)},linkPhone:()=>{se("sms"),Re("phone"),Se.current="sms",xe.current="link",Ce(yK)},linkGoogle:async()=>{se("google"),Re("google_oauth"),xe.current="link",await He.initLoginWithOAuth("google")},linkTwitter:async()=>{se("twitter"),Re("twitter_oauth"),xe.current="link",await He.initLoginWithOAuth("twitter")},linkDiscord:async()=>{se("discord"),Re("discord_oauth"),xe.current="link",await He.initLoginWithOAuth("discord")},linkGithub:async()=>{se("github"),Re("github_oauth"),xe.current="link",await He.initLoginWithOAuth("github")},linkSpotify:async()=>{se("spotify"),Re("spotify_oauth"),xe.current="link",await He.initLoginWithOAuth("spotify")},linkInstagram:async()=>{se("instagram"),Re("instagram_oauth"),xe.current="link",await He.initLoginWithOAuth("instagram")},linkTiktok:async()=>{se("tiktok"),Re("tiktok_oauth"),xe.current="link",await He.initLoginWithOAuth("tiktok")},linkLine:async()=>{se("line"),Re("line_oauth"),xe.current="link",await He.initLoginWithOAuth("line")},linkLinkedIn:async()=>{se("linkedin"),Re("linkedin_oauth"),xe.current="link",await He.initLoginWithOAuth("linkedin")},linkApple:async()=>{se("apple"),Re("apple_oauth"),xe.current="link",await He.initLoginWithOAuth("apple")},linkPasskey:async()=>{se("passkey"),Re("passkey"),await He.initLinkWithPasskey(),Ce(kjt)},linkTelegram:async q=>{if(se("telegram"),Re("telegram"),xe.current="link",Se.current="telegram",q==null?void 0:q.launchParams)if(q.launchParams.initDataRaw){let Y=new X5;e.startAuthFlow(Y),Y.meta.telegramAuthResult=void 0,Y.meta.telegramWebAppData=z6e(q.launchParams.initDataRaw),G({telegramAuthModalData:{seamlessAuth:!0}}),Ce(gS)}else Ge(be,"linkAccount","onError",pe.INVALID_DATA,{linkMethod:"telegram"});else await He.initLoginWithTelegram();Ce(gS)},linkFarcaster:async()=>{se("farcaster"),Re("farcaster"),await He.initLoginWithFarcaster(),xe.current="link",Se.current="farcaster",Ce(SU)},updateEmail:()=>{if(se("email"),!(h!=null&&h.email))throw new ue("User does not have an email linked to their account.");xe.current="update",Se.current="email",Ce(COt)},updatePhone:()=>{if(se("sms"),!(h!=null&&h.phone))throw new ue("User does not have a phone number linked to their account.");xe.current="update",Se.current="sms",Ce(SOt)},login:async q=>{q&&"target"in q&&q&&(q=void 0);let Y="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!a){let ae=await new Promise(re=>{Q(le=>re.bind(le))});if(Q(null),ae)return void console.warn(Y)}!h||h.isGuest?(xe.current="login",G({login:q}),Ce(Lo)):console.warn(Y)},connectOrCreateWallet:async()=>{a||(await new Promise(q=>{Q(()=>q)}),Q(null)),c?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(xe.current="connect-or-create",Ce(dEe))},logout:async()=>{if(xe.current=null,Se.current=null,h&&e.clearProviderAcccessTokens(h),A(null),await e.logout(),h&&j)try{await j.clearMfa({userId:h.id})}catch{}f(null),u(!1),Ge(be,"logout","onSuccess"),s(!1),Nt.del(aU),Nt.del(A6e(L.id))},getAccessToken:x.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async q=>{let Y;return f(Y=q.startsWith("0x")?await e.unlinkEthereumWallet(q):await e.unlinkSolanaWallet(q)),Y},unlinkEmail:async q=>{let Y=await e.unlinkEmail(q);return f(Y),Y},unlinkPhone:async q=>{let Y=await e.unlinkPhone(q);return f(Y),Y},unlinkGoogle:async q=>{let Y=await e.unlinkOAuth("google",q);return f(Y),Y},unlinkTwitter:async q=>{let Y=await e.unlinkOAuth("twitter",q);return f(Y),Y},unlinkDiscord:async q=>{let Y=await e.unlinkOAuth("discord",q);return f(Y),Y},unlinkGithub:async q=>{let Y=await e.unlinkOAuth("github",q);return f(Y),Y},unlinkSpotify:async q=>{let Y=await e.unlinkOAuth("spotify",q);return f(Y),Y},unlinkInstagram:async q=>{let Y=await e.unlinkOAuth("instagram",q);return f(Y),Y},unlinkTiktok:async q=>{let Y=await e.unlinkOAuth("tiktok",q);return f(Y),Y},unlinkLine:async q=>{let Y=await e.unlinkOAuth("line",q);return f(Y),Y},unlinkLinkedIn:async q=>{let Y=await e.unlinkOAuth("linkedin",q);return f(Y),Y},unlinkApple:async q=>{let Y=await e.unlinkOAuth("apple",q);return f(Y),Y},unlinkFarcaster:async q=>{let Y=await e.unlinkFarcaster(q);return f(Y),Y},unlinkTelegram:async q=>{let Y=await e.unlinkTelegram(q);return f(Y),Y},unlinkPasskey:async q=>{let Y=await yr();if(!Y)throw Error("Must have valid access token to enroll in MFA");if(!j)throw Error("Wallet proxy not initialized.");let ae=L.passkeys.shouldUnenrollMfaOnUnlink;await j.unlinkPasskeyAccount({credentialId:q,accessToken:Y,removeAsMfa:ae});let re=await e.getAuthenticatedUser();return f(re),re},unlinkCrossAppAccount:async({subject:q})=>{var re;let Y=(re=h==null?void 0:h.linkedAccounts.find(le=>le.type==="cross_app"&&le.subject===q))==null?void 0:re.providerApp;if(!Y)throw new ue("Invalid subject");e.storeProviderAccessToken(Y.id,null);let ae=await e.unlinkOAuth(`privy:${Y.id}`,q);return f(ae),ae},setWalletRecovery:async q=>Tt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(q==null?void 0:q.showAutomaticRecovery)??!1}),setWalletPassword:async()=>Tt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(q,Y)=>new Promise(async(ae,re)=>{var ut;let{requesterAppId:le}=(Y==null?void 0:Y.uiOptions)||{},me=q.message,$e=Y!=null&&Y.address?Hf(h,Y.address):bh(h);if(!$e&&(Y==null?void 0:Y.address)!==void 0){let at=Rj(p,Y.address);if(at)try{let ct=await at.getEthereumProvider(),ht=await ct.request({method:"personal_sign",params:[me,at.address]});return Ge(be,"signMessage","onSuccess",{signature:ht}),void ae({signature:ht})}catch(ct){return Ge(be,"signMessage","onError",pe.UNABLE_TO_SIGN),void re(ct??new xo("Unable to sign message"))}}if(!$e)throw new ue("No embedded or connected wallet found for address.");if(!c||!h)return Ge(be,"signMessage","onError",pe.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let Oe=$e.address,Mt=$e.walletIndex??0,{entropyId:bt,entropyIdVerifier:St}=Zu(h,$e),rn=vl($e);if(typeof me!="string"||me.length<1)return Ge(be,"signMessage","onError",pe.INVALID_MESSAGE),void re(Error("Message must be a non-empty string"));let Qe=async()=>{let at;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let ct=await yr();if(!j||!ct||!await He.recoverEmbeddedWallet({address:Oe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Oe,requesterAppId:le}}),rn){let ht=Ro(q.message,{strict:!0}),an=await Qu(n,async({message:zn})=>await j.signWithUserSigner({accessToken:ct,requesterAppId:le,message:zn}),{chain_type:"ethereum",method:"personal_sign",params:ht?{message:me.slice(2),encoding:"hex"}:{message:me,encoding:"utf-8"},wallet_id:$e.id});if(!an.data||!("signature"in an.data))throw new xo("Unable to sign message");at=an.data.signature}else{let{response:ht}=await j.rpc({accessToken:ct,entropyId:bt,entropyIdVerifier:St,chainType:"ethereum",hdWalletIndex:Mt,requesterAppId:le,request:{method:"personal_sign",params:[me,Oe]}});at=ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Oe,requesterAppId:le}}),at};if(Be({showWalletUIs:(ut=Y==null?void 0:Y.uiOptions)==null?void 0:ut.showWalletUIs}))try{let at=await Qe();Ge(be,"signMessage","onSuccess",{signature:at}),ae({signature:at})}catch(at){Ge(be,"signMessage","onError",pe.UNABLE_TO_SIGN),re(at??new xo("Unable to sign message"))}else G({signMessage:{method:"personal_sign",data:me,confirmAndSign:Qe,onSuccess:at=>{Ge(be,"signMessage","onSuccess",{signature:at}),ae({signature:at})},onFailure:at=>{Ge(be,"signMessage","onError",pe.UNABLE_TO_SIGN),re(at)},uiOptions:(Y==null?void 0:Y.uiOptions)||{}},connectWallet:{recoveryMethod:$e.recoveryMethod,connectingWalletAddress:Oe,entropyId:bt,entropyIdVerifier:St,onCompleteNavigateTo:Noe,isUnifiedWallet:rn,onFailure:at=>{Ge(be,"signMessage","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),re(at)}}}),Ce(i6)}),signTypedData:(q,Y)=>new Promise(async(ae,re)=>{var ut;let{requesterAppId:le}=(Y==null?void 0:Y.uiOptions)||{},me=Y!=null&&Y.address?Hf(h,Y.address):bh(h);if(!me&&(Y!=null&&Y.address)){let at=Rj(p,Y.address);if(at)try{let ct=await at.getEthereumProvider(),ht=uS(q),an=await ct.request({method:"eth_signTypedData_v4",params:[at.address,ht]});return Ge(be,"signTypedData","onSuccess",{signature:an}),void ae({signature:an})}catch(ct){return Ge(be,"signTypedData","onError",pe.UNABLE_TO_SIGN),void re(ct??new xo("Unable to sign typed data "+ct))}}if(!me)throw new ue("No embedded or connected wallet found for address.");if(!c||!h)return Ge(be,"signTypedData","onError",pe.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let $e=me.address,Oe=me.walletIndex??0,{entropyId:Mt,entropyIdVerifier:bt}=Zu(h,me),St=vl(me),rn=uS(q),Qe=async()=>{let at;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let ct=await yr();if(!j||!ct||!await He.recoverEmbeddedWallet({address:$e}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:$e,requesterAppId:le}}),St){let{domain:ht,types:an,primaryType:zn,message:Ht}=rn,Ft=await Qu(n,async({message:An})=>await j.signWithUserSigner({accessToken:ct,requesterAppId:le,message:An}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:ht,types:an,primary_type:zn,message:Ht}},wallet_id:me.id});if(!Ft.data||!("signature"in Ft.data))throw new xo("Unable to sign message");at=Ft.data.signature}else{let{response:ht}=await j.rpc({accessToken:ct,entropyId:Mt,entropyIdVerifier:bt,chainType:"ethereum",hdWalletIndex:Oe,requesterAppId:le,request:{method:"eth_signTypedData_v4",params:[$e,rn]}});at=ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:$e,requesterAppId:le}}),at};if(Be({showWalletUIs:(ut=Y==null?void 0:Y.uiOptions)==null?void 0:ut.showWalletUIs}))try{let at=await Qe();Ge(be,"signTypedData","onSuccess",{signature:at}),ae({signature:at})}catch(at){Ge(be,"signTypedData","onError",pe.UNABLE_TO_SIGN),re(at??new xo("Unable to sign message"))}else G({signMessage:{method:"eth_signTypedData_v4",data:rn,confirmAndSign:Qe,onSuccess:at=>{Ge(be,"signTypedData","onSuccess",{signature:at}),ae({signature:at})},onFailure:at=>{Ge(be,"signTypedData","onError",pe.UNABLE_TO_SIGN),re(at)},uiOptions:(Y==null?void 0:Y.uiOptions)||{}},connectWallet:{recoveryMethod:me.recoveryMethod,connectingWalletAddress:me.address,entropyId:Mt,isUnifiedWallet:St,entropyIdVerifier:bt,onCompleteNavigateTo:Noe,onFailure:at=>{Ge(be,"signMessage","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),re(at)}}}),Ce(i6)}),sendTransaction:async(q,Y)=>await Xe({transaction:q,sponsor:Y==null?void 0:Y.sponsor,uiOptions:Y==null?void 0:Y.uiOptions,fundWalletConfig:Y==null?void 0:Y.fundWalletConfig,address:Y==null?void 0:Y.address,signOnly:!1}),signTransaction:async(q,Y)=>({signature:(await Xe({transaction:q,uiOptions:Y==null?void 0:Y.uiOptions,address:Y==null?void 0:Y.address,signOnly:!0})).hash}),exportWallet:q=>new Promise(async(Y,ae)=>{if(!c||!h)return void ae(Error("User must be authenticated before exporting their Privy wallet"));q&&"target"in q&&q&&(q=void 0);let re=q!=null&&q.address?Hf(h,q.address):bh(h);if(!re)return void ae(new ue("User must have an embedded wallet."));let le=re.address,{entropyId:me,entropyIdVerifier:$e}=Zu(h,re),Oe=vl(re);if(!le)return void ae(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!nl(le))return void ae(Error("Must provide a valid Ethereum address."));let Mt={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,isUnifiedWallet:Oe,entropyId:me,entropyIdVerifier:$e,onCompleteNavigateTo:VEe,onFailure:ae,shouldForceMFA:!0};G(O),await yr()&&j?j?w8(re)?(G({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:re.address,entropyId:me,entropyIdVerifier:$e,hdWalletIndex:re.walletIndex,chainType:re.chainType,walletId:re.id,isUnifiedWallet:Oe,imported:re.imported,onSuccess:Y,onFailure:ae},connectWallet:Mt}),Ce(i6)):ae(Error(`Export is not supported for ${re.chainType} wallets`)):ae(Error("Must have a Privy wallet before exporting")):ae(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Ye,async init(q){switch(q){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${q}`)}},async submit(q,Y){var ae,re,le;switch(q){case"totp":case"sms":if(typeof Y!="string")throw new ue("Invalid MFA code");(ae=fe.current)==null||ae.resolve({mfaMethod:q,mfaCode:Y,relyingParty:window.origin}),await new Promise((Oe,Mt)=>{ke.current={resolve:Oe,reject:Mt}});break;case"passkey":if(typeof Y=="string")throw new ue("Invalid authenticator response");let me=await Mh(()=>import("./index-CFBQExMV.js"),[]),$e=Djt(await me.startAuthentication(Y));(re=fe.current)==null||re.resolve({mfaMethod:q,mfaCode:$e,relyingParty:window.origin}),await new Promise((Oe,Mt)=>{ke.current={resolve:Oe,reject:Mt}});break;default:throw(le=fe.current)==null||le.reject(new ue("Unsupported MFA method")),new ue(`Unsupported MFA method: ${q}`)}},cancel(){var q;(q=fe.current)==null||q.reject(new ue("MFA canceled"))},async initEnrollmentWithSms(q){let Y=await yr();if(!Y||!j)throw Error("Must have valid access token to enroll in MFA");await j.initEnrollMfa({method:"sms",accessToken:Y,phoneNumber:q.phoneNumber})},enrollInMfa:q=>new Promise((Y,ae)=>{if(!q)return He.closePrivyModal(),void Y();L.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),G({mfaEnrollmentFlow:{mfaMethods:L.mfa.methods,shouldUnlinkOnUnenrollMfa:L.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:Y,onFailure:ae}}),Ce(wOt)}),async initEnrollmentWithTotp(){let q=await yr();if(!q||!j)throw Error("Must have valid access token to enroll in MFA");let Y=await j.initEnrollMfa({method:"totp",accessToken:q});return{secret:Y.secret,authUrl:Y.authUrl}},async submitEnrollmentWithSms(q){let Y=await yr();if(!Y||!j)throw Error("Must have valid access token to enroll in MFA");await j.submitEnrollMfa({method:"sms",accessToken:Y,phoneNumber:q.phoneNumber,code:q.mfaCode}),f(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(q){let Y=await yr();if(!Y||!j)throw Error("Must have valid access token to enroll in MFA");await j.submitEnrollMfa({method:"totp",accessToken:Y,code:q.mfaCode}),f(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:q},Y={}){let ae=await yr();if(!ae||!j)throw Error("Must have valid access token to enroll in MFA");await j.submitEnrollMfa({method:"passkey",accessToken:ae,credentialIds:q,removeForLogin:Y.removeForLogin}),f(await e.getAuthenticatedUser())},async unenroll(q,Y={}){let ae=await yr();if(!ae||!j)throw Error("Must have valid access token to remove MFA");q==="passkey"?await j.submitEnrollMfa({method:"passkey",accessToken:ae,credentialIds:[],removeForLogin:Y.removeForLogin}):await j.unenrollMfa({method:q,accessToken:ae}),f(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var re;let q=await yr(),Y=h==null?void 0:h.linkedAccounts.find(le=>le.type==="wallet"&&le.walletClientType==="privy");if(!q)throw Error("Must have valid access token to connect with Farcaster");if(!j||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(vl(Y))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=h==null?void 0:h.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await He.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");let ae=await j.initFarcasterSigner({address:Y.address,hdWalletIndex:null,accessToken:q,mfaCode:null,mfaMethod:null,relyingParty:window.origin});ae.status==="approved"&&f(await e.getAuthenticatedUser()||h||null),G({farcasterSigner:ae}),Ce(Zjt)},getFarcasterSignerPublicKey:async()=>{var re,le;let q,Y=await yr(),ae=h==null?void 0:h.linkedAccounts.find(me=>me.type==="wallet"&&me.walletClientType==="privy");if(!Y)throw Error("Must have valid access token to connect with Farcaster");if(!j||!ae)throw Error("Must have an embedded wallet to use Farcaster signers");if(vl(ae))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=h==null?void 0:h.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await He.recoverEmbeddedWallet({address:ae.address}))throw Error("Unable to connect to wallet");if(!((le=h.farcaster)!=null&&le.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return q=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(q.match(/.{1,2}/g).map(me=>parseInt(me,16)))},signFarcasterMessage:async q=>{var me,$e;let Y=await yr(),ae=h==null?void 0:h.linkedAccounts.find(Oe=>Oe.type==="wallet"&&Oe.walletClientType==="privy");if(!Y)throw Error("Must have valid access token to connect with Farcaster");if(!j||!ae)throw Error("Must have an embedded wallet to use Farcaster signers");if(vl(ae))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((me=h==null?void 0:h.farcaster)!=null&&me.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await He.recoverEmbeddedWallet({address:ae.address}))throw Error("Unable to connect to wallet");if(!(($e=h.farcaster)!=null&&$e.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let re=await Mh(()=>import("./index-CFBQExMV.js"),[]),le=await j.signFarcasterMessage({address:ae.address,hdWalletIndex:null,accessToken:Y,mfaCode:null,mfaMethod:null,payload:{hash:re.bufferToBase64URLString(q)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(re.base64URLStringToBuffer(le.signature))},signMessageWithCrossAppWallet(q,{address:Y,chainId:ae}){let re=h==null?void 0:h.linkedAccounts.some(le=>le.type==="cross_app"&&le.smartWallets.some(me=>me.address===Y));return e9({user:h,client:e,address:Y,requesterAppId:L.id,request:{method:re?"privy_signSmartWalletMessage":"personal_sign",params:[q,Y],chainId:ae},reconnect:dn})},signTypedDataWithCrossAppWallet(q,{address:Y,chainId:ae}){let re=h==null?void 0:h.linkedAccounts.some(me=>me.type==="cross_app"&&me.smartWallets.some($e=>$e.address===Y)),le=uS(q);return e9({user:h,client:e,address:Y,requesterAppId:L.id,request:{method:re?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[Y,le],chainId:ae},reconnect:dn})},sendTransactionWithCrossAppWallet(q,{address:Y}){let ae=h==null?void 0:h.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(le=>le.address===Y));return e9({user:h,client:e,address:Y,requesterAppId:L.id,request:{method:ae?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[q],chainId:q.chainId},reconnect:dn})},signTransactionWithCrossAppWallet(q,{address:Y}){let ae=h==null?void 0:h.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(le=>le.address===Y));return e9({user:h,client:e,address:Y,requesterAppId:L.id,request:{method:ae?"privy_signSmartWalletTx":"eth_signTransaction",params:[q],chainId:q.chainId},reconnect:dn})},isModalOpen:i||!!o,mfaMethods:L.mfa.methods};rAe=Bt.signMessage,iAe=Bt.signTypedData,oAe=async(q,Y)=>await Xe({transaction:q,...Y,signOnly:!1}),sAe=async(q,Y)=>({signature:(await Xe({transaction:q,...Y,signOnly:!0})).hash});let He={privy:n,setAuthenticated:u,setUser:f,setIsNewUser:v,isNewUserThisSession:w,pendingTransaction:null,walletConnectionStatus:N,setWalletConnectionStatus:R,connectors:((Qt=e.connectors)==null?void 0:Qt.walletConnectors)??[],rpcConfig:L.rpcConfig,chains:L.chains,appId:t.appId,showFiatPrices:L.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:De,hideWalletUIs:Ne,isHeadlessSigning:x.useCallback(Be,[L.embeddedWallets.showWalletUIs]),emailOtpState:W,setEmailOtpState:V,smsOtpState:B,setSmsOtpState:k,oAuthState:T,setOAuthState:_,telegramAuthState:P,setTelegramAuthState:D,siweState:C,setSiweState:S,isHeadlessOAuthLoading:E,baseAccountSdk:g,setBaseAccountSdk:y,nativeTokenSymbolForChainId:q=>{var Y;return(Y=L.chains.find(ae=>ae.id===Number(q)))==null?void 0:Y.nativeCurrency.symbol},initializeWalletProxy:async q=>{if(j)return j;let Y=new Promise(le=>{ie.current=le}),ae=new Promise(le=>setTimeout(()=>le(null),q)),re=await Promise.race([Y,ae]);return ie.current=null,re},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var q;return(q=e.authFlow)==null?void 0:q.meta},client:e,closePrivyModal:async(q={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let Y,ae=a&&c&&h;ae&&Se.current&&(Y=et(h)),xe.current==="login"?q.shouldCallAuthOnSuccess&&ae&&Se.current?Ge(be,"login","onComplete",{user:h,isNewUser:w,wasAlreadyAuthenticated:!1,loginMethod:Se.current,loginAccount:Y??null}):Ge(be,"login","onError",pe.USER_EXITED_AUTH_FLOW):xe.current==="link"&&Y?q.isSuccess&&ae&&Se.current?Ge(be,"linkAccount","onSuccess",{user:h,linkMethod:Se.current,linkedAccount:Y}):Se.current&&Ge(be,"linkAccount","onError",pe.USER_EXITED_LINK_FLOW,{linkMethod:Se.current}):xe.current==="update"&&Y?q.isSuccess&&ae&&Se.current?Ge(be,"update","onSuccess",{user:h,updateMethod:Se.current,updatedAccount:Y}):Se.current&&Ge(be,"update","onError",pe.USER_EXITED_UPDATE_FLOW,{linkMethod:Se.current}):xe.current==="connect-or-create"&&(p[0]?Ge(be,"connectOrCreateWallet","onSuccess",{wallet:p[0]}):Ge(be,"connectOrCreateWallet","onError",pe.USER_EXITED_AUTH_FLOW));let re=b&&oM.has(b),le=b===Kr&&O.errorModalData&&oM.has(O.errorModalData.previousScreen);if((re||le)&&O.funding){let me,$e=oM.get(b)??null;if(O.funding.chainType==="solana"){let Oe=L.solanaRpcs[O.funding.chain];if(!Oe)return void console.warn("Unable to load solana rpc, skipping balance");if(r(PU))try{me=await ZG({rpc:Oe.rpc,address:O.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ge(be,"fundSolanaWallet","onUserExited",{address:O.funding.address,fundingMethod:$e,chain:O.funding.chain,balance:me})}else{let Oe=Jx(O.funding.chain.id,L.chains,L.rpcConfig,{appId:t.appId});try{me=await Oe.getBalance({address:O.funding.address})}catch{console.error("Unable to pull wallet balance")}Ge(be,"fundWallet","onUserExited",{address:O.funding.address,chain:O.funding.chain,fundingMethod:$e,balance:me})}}G(me=>({...me,externalConnectWallet:{}})),xe.current=null,Se.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:Ce,connectWallet:U,initLoginWithWallet:async(q,Y,ae,re)=>{rm(q)?(Se.current="siwe",z(q,Y,ae)):(Se.current="siws",ee(q,Y,ae,re))},loginWithWallet:async()=>{let q,Y,ae;if(!a)throw new qg;if(e.authFlow instanceof r2?q="siwe":e.authFlow instanceof L7&&(q="siws"),!q)throw new ue("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:Y}=await e.link()),Se.current=q}catch(re){throw Ge(be,"linkAccount","onError",re.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),re}else try{({user:Y,isNewUser:ae}=await e.authenticate()),Se.current=q}catch(re){throw Ge(be,"login","onError",re.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR),re}f(Y||h||null),v(ae||!1),u(!0)},delegateWallet:async({address:q,chainType:Y,showDelegationUIs:ae})=>new Promise(async(re,le)=>{let me=await yr();if(!c||!h||!me)throw new ue("User must be authenticated and have an embedded wallet to delegate actions.");if(Y!=="solana"&&Y!=="ethereum")throw new ue("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let $e=He.walletProxy??await He.initializeWalletProxy(15e3);if(!$e)throw new ue("Wallet proxy not initialized.");if((({address:rn,user:Qe})=>!!Sae(Qe).find(ut=>ut.address===rn))({address:q,user:h}))return re();let Oe=Hf(h,q);if(!Oe)throw new ue("Address to delegate is not associated with current user.");if(vl(Oe))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Mt=yjt({address:q,user:h}),bt=wjt({address:q,user:h}),St=async()=>{await $e.createDelegatedAction({accessToken:me,rootWallet:bt,delegatedWallets:[Mt]}),await He.refreshSessionAndUser()};if(await He.recoverEmbeddedWallet({address:q}),ae)G({delegatedActions:{consent:{address:q,onDelegate:St,onSuccess:async()=>{re()},onError:async rn=>{le(rn)}}}}),Ce(Ujt);else try{await St(),re()}catch(rn){le(rn)}}),revokeDelegatedWallets:async({showDelegationUIs:q})=>new Promise(async(Y,ae)=>{if(!c||!h)throw new ue("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let re=Sae(h);if(re.length===0)throw new ue("User has no delegated wallets to revoke.");if(re.some(vl))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let le=async()=>{await e.revokeDelegatedWallet(),await He.refreshSessionAndUser()};if(q)G({delegatedActions:{revoke:{onRevoke:le,onSuccess:async()=>{Y()},onError:async me=>{ae(me)}}}}),Ce(Wjt);else try{await le(),Y()}catch(me){ae(me)}}),initLoginWithFarcaster:async(q,Y)=>{let ae=new pae(q,Y);e.startAuthFlow(ae);try{Se.current="farcaster",await ae.initializeFarcasterConnect()}catch(re){throw xe.current==="login"?Ge(be,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(be,"linkAccount","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),re}},loginWithFarcaster:async()=>{let q,Y;if(!a)throw new qg;if(!(e.authFlow instanceof pae))throw new ue("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:q}=await e.link()),Se.current="farcaster"}catch(ae){throw Ge(be,"linkAccount","onError",ae.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),ae}else try{({user:q,isNewUser:Y}=await e.authenticate()),Se.current="farcaster"}catch(ae){throw Ge(be,"login","onError",ae.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),ae}f(q||null),v(Y||!1),u(!0)},async crossAppAuthFlow({appId:q,popup:Y,action:ae}){let re=`privy:${q}`;Se.current=re;let{url:le,stateCode:me,codeVerifier:$e}=await async function({api:Oe,appId:Mt}){let bt=oN(),St=kG(),rn=await SG(bt);try{let{url:Qe}=await Oe.post(mbe,{provider:`privy:${Mt}`,redirect_to:window.location.href,code_challenge:rn,state_code:St});return{url:Qe,stateCode:St,codeVerifier:bt}}catch(Qe){throw Nn(Qe)}}({api:e.api,appId:q});if(!le)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:q}}),new ue("No authorization URL returned for cross-app auth.");try{let Oe=await async function({url:Qe,popup:ut}){return ut.location=Qe,new Promise((at,ct)=>{let ht,an=setTimeout(()=>{ct(new ue("Authorization request timed out after 2 minutes.")),zn()},12e4);function zn(){ut==null||ut.close(),window.removeEventListener("message",Ft)}let Ht=setInterval(()=>{ut!=null&&ut.closed&&!ht&&(zn(),clearInterval(Ht),clearTimeout(an),ct(new ue("User rejected request")))},300);function Ft(An){An.data&&(An.data.type==="PRIVY_OAUTH_RESPONSE"&&An.data.stateCode&&An.data.authorizationCode&&(clearTimeout(an),at(An.data),zn()),An.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(an),ct(new ue(An.data.error)),zn()),An.data.type===Iae&&((ht=new BroadcastChannel(_ae)).onmessage=Ft))}window.addEventListener("message",Ft)})}({url:le,popup:Y,provider:re}),Mt=Oe.stateCode,bt=Oe.authorizationCode;if(Mt!==me)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:re,storedStateCode:me??"",returnedStateCode:Mt??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);let St=await async function({appId:Qe,stateCode:ut,codeVerifier:at,authorizationCode:ct,action:ht,client:an}){var zn;if(!ct||!ut)throw new ue("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(ct==="undefined")throw new ue("User denied confirmation during cross-app auth flow");try{let Ht=new vjt({authorizationCode:ct,stateCode:ut,codeVerifier:at,provider:`privy:${Qe}`});an.startAuthFlow(Ht);let Ft=ht==="link"?await an.link():await an.authenticate(),An=(zn=Ft.oAuthTokens)==null?void 0:zn.accessToken;return console.debug(),An}catch(Ht){let Ft=Nn(Ht);throw Ft.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED?Ft:Ft.privyErrorCode?new ue(Ft.message||"Invalid code during cross-app auth flow.",void 0,Ft.privyErrorCode):Ft.message==="User denied confirmation during cross-app auth flow"?new ue("Invalid code during cross-app auth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during cross-app auth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}({appId:q,codeVerifier:$e,stateCode:Mt,authorizationCode:bt,action:ae,client:e});St&&e.storeProviderAccessToken(q,St);let rn=await He.refreshSessionAndUser();if(!rn)throw new ue("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:q}}),rn}catch(Oe){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Oe.toString(),provider:re}}),Oe}},async initLoginWithOAuth(q,Y,ae){if(Se.current=q,!sU()||q==="google"&&_U(window.navigator.userAgent))return void Ce(Nae);q==="twitter"&&window.opener&&window.opener.postMessage({type:Iae},"*"),Nt.del(B7),Nt.del(x4);let re=new qb({provider:q,disableSignup:!!ae,withPrivyUi:!0,customOAuthRedirectUrl:L.customOAuthRedirectUrl});Y&&re.addCaptchaToken(Y),e.startAuthFlow(re);let le=await e.authFlow.getAuthorizationUrl();if(le&&le.url)if(q==="twitter"&&kLe&&(le.url=le.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&WU())try{let{privyOAuthCode:me,privyOAuthState:$e}=await mae(le.url);Ce(Rae),re.meta.stateCode=$e,re.meta.authorizationCode=me}catch(me){throw console.error("OAuth in chrome extension flow failed:",me),me}else window.location.assign(le.url)},async initLoginWithTelegram(q,Y){if(!a)throw new qg;Se.current="telegram";let ae=new X5(q,Y);e.startAuthFlow(ae),D({status:"loading"}),ae.meta.telegramWebAppData=void 0,ae.meta.telegramAuthResult=await new Promise((re,le)=>L.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:L.loginConfig.telegramAuthConfiguration.botId,request_access:!0},me=>me?re(me):le(new ue("Telegram auth failed or was canceled by the client"))):le(new ue("Telegram was not initialized")):le(new ue("Telegram Auth configuration is not loaded")))},async loginWithTelegram(q){var $e;let Y,ae;if(!(e.authFlow instanceof X5))throw new ue("Must initialize Telegram flow before calling loginWithTelegram");($e=e.authFlow.meta).captchaToken||($e.captchaToken=q==null?void 0:q.captchaToken);let re=await yr(),le=(q==null?void 0:q.intent)||xe.current;if(le==="login")try{let Oe=await e.authenticate();Y=Oe.user,ae=Oe.isNewUser,Se.current="telegram"}catch(Oe){throw Ge(be,"login","onError",Oe.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),Oe}else{if(le!=="link")throw new ue("Unknown auth intent");try{Y=(await e.link()).user,Se.current="telegram"}catch(Oe){throw Ge(be,"linkAccount","onError",Oe.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Oe}}f(Y),v(ae||!1),u(!0),D({status:"done"});let me=(Y==null?void 0:Y.linkedAccounts.find(({type:Oe})=>Oe==="telegram"))||null;return{user:Y,isNewUser:ae||!1,wasAlreadyAuthenticated:!!re,loginAccount:me}},async loginWithOAuth(q){let Y,ae,re;if(!(e.authFlow instanceof qb))throw new ue("Must initialize OAuth flow before calling loginWithOAuth");let le=Nt.get(D7),me=e.authFlow.meta.stateCode;if(le!==me)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:q,storedStateCode:le??"",returnedStateCode:me??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let $e=await e.link();Y=$e.user,re=$e.oAuthTokens,Se.current=q}catch($e){throw Ge(be,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),$e}else try{let $e=await e.authenticate();Y=$e.user,ae=$e.isNewUser,re=$e.oAuthTokens,Se.current=q}catch($e){throw xe.current==="login"?Ge(be,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(be,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),$e}return f(Y),v(ae||!1),u(!0),re&&Y&&Ge(be,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:Y}),re},passkeyAuthState:M,setPasskeyAuthState:F,async initSignupWithPasskey({captchaToken:q,withPrivyUi:Y}){let ae=new Ob({captchaToken:q,setPasskeyAuthState:F});e.startAuthFlow(ae),xe.current="login";try{Se.current="passkey",F({status:"generating-challenge"}),await ae.initRegisterFlow(Y),F({status:"awaiting-passkey"})}catch(re){throw F({status:"error",error:re}),Ge(be,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),re}},async signupWithPasskey(){let q,Y;if(!a)throw new qg;if(!(e.authFlow instanceof Ob))throw new ue("Must initialize Passkey flow first.");if(Se.current!=="passkey"){let le=new ue("Must init login with Passkey flow first.");throw F({status:"error",error:le}),le}let ae=await yr();try{Se.current="passkey",F({status:"awaiting-passkey"}),{user:q,isNewUser:Y}=await e.authenticate()}catch(le){throw F({status:"error",error:le}),Ge(be,"login","onError",le.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),le}f(q),v(Y||!1),u(!0),F({status:"done"});let re=(q==null?void 0:q.linkedAccounts.find(({type:le})=>le==="passkey"))||null;return{user:q,isNewUser:Y||!1,wasAlreadyAuthenticated:!!ae,loginAccount:re}},async initLoginWithPasskey({captchaToken:q,withPrivyUi:Y}){let ae=new Ob({captchaToken:q,setPasskeyAuthState:F});e.startAuthFlow(ae),xe.current="login";try{Se.current="passkey",F({status:"generating-challenge"}),await ae.initAuthenticationFlow(Y),F({status:"awaiting-passkey"})}catch(re){throw F({status:"error",error:re}),Ge(be,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),re}},async loginWithPasskey(q){let Y,ae;if(!a)throw new qg;if(!(e.authFlow instanceof Ob))throw new ue("Must initialize Passkey flow first.");if(q!=null&&q.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=q.credentialIds),Se.current!=="passkey"){let me=new ue("Must init login with Passkey flow first.");throw F({status:"error",error:me}),me}let re=await yr();try{Se.current="passkey",F({status:"awaiting-passkey"}),{user:Y,isNewUser:ae}=await e.authenticate()}catch(me){throw F({status:"error",error:me}),Ge(be,"login","onError",me.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),me}f(Y),v(ae||!1),u(!0),F({status:"done"});let le=(Y==null?void 0:Y.linkedAccounts.find(({type:me})=>me==="passkey"))||null;return{user:Y,isNewUser:ae||!1,wasAlreadyAuthenticated:!!re,loginAccount:le}},async initLinkWithPasskey(q){let Y=new Ob({captchaToken:q});e.startAuthFlow(Y),xe.current="link",Se.current="passkey",F({status:"generating-challenge"});try{await Y.initLinkFlow(),F({status:"awaiting-passkey"})}catch(ae){throw Ge(be,"linkAccount","onError",ae.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),F({status:"error",error:ae}),ae}},async linkWithPasskey(){let q;if(!a)throw new qg;if(!(e.authFlow instanceof Ob))throw new ue("Must initialize Passkey flow first.");if(Se.current!=="passkey")throw new ue("Must init login with Passkey flow first.");try{Se.current="passkey",{user:q}=await e.link()}catch(Y){throw Ge(be,"linkAccount","onError",Y.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),Y}return f(q||h||null),F({status:"done"}),q},async initLoginWithHeadlessOAuth(q,Y,ae){if(!sU()||q==="google"&&_U(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let re=new qb({provider:q,withPrivyUi:!1,disableSignup:ae??!1,customOAuthRedirectUrl:L.customOAuthRedirectUrl});Y&&re.addCaptchaToken(Y),_({status:"loading"});let le=await e.startAuthFlow(re).getAuthorizationUrl();if(le!=null&&le.url)if(window.location.protocol==="chrome-extension:"&&WU())try{let{privyOAuthCode:me,privyOAuthState:$e}=await mae(le.url);re.meta.stateCode=$e,re.meta.authorizationCode=me,await this.loginWithHeadlessOAuth(re.meta)}catch(me){throw _({status:"error",error:me}),me}else window.location.assign(le.url)},async loginWithHeadlessOAuth(q){let Y,ae,re;$(!0),_({status:"loading"}),e.startAuthFlow(new qb({...q,customOAuthRedirectUrl:L.customOAuthRedirectUrl}));let le=Nt.get(D7),me=q.stateCode;if(le!==me)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:q.provider,storedStateCode:le??"",returnedStateCode:me??""}}),$(!1),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:Y,oAuthTokens:re}=await e.link()),Se.current=q.provider;let $e=et(Y);Y&&$e&&Ge(be,"linkAccount","onSuccess",{user:Y,linkMethod:Se.current,linkedAccount:$e})}catch($e){throw $(!1),Ge(be,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q.provider}),$e}else try{({user:Y,isNewUser:ae,oAuthTokens:re}=await e.authenticate()),Se.current=q.provider;let $e=et(Y);Y&&$e&&ae!==void 0&&Ge(be,"login","onComplete",{user:Y,isNewUser:ae,wasAlreadyAuthenticated:!1,loginMethod:Se.current,loginAccount:$e})}catch($e){throw $(!1),_({status:"error",error:$e}),Ge(be,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),$e}return f(Y),v(ae||!1),u(!0),$(!1),_({status:"done"}),re&&Y&&Ge(be,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:Y}),Y??void 0},initLoginWithEmail:async({email:q,captchaToken:Y,disableSignup:ae,withPrivyUi:re})=>{let le=new _v({email:q,captchaToken:Y,disableSignup:ae});e.startAuthFlow(le);try{Se.current="email",V({status:"sending-code"}),await le.sendCodeEmail({withPrivyUi:re}),V({status:"awaiting-code-input"})}catch(me){throw V({status:"error",error:me}),xe.current==="login"?Ge(be,"login","onError",me.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(be,"linkAccount","onError",me.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),me}},initUpdateEmail:async({oldAddress:q,newAddress:Y,captchaToken:ae})=>{let re=new kRt(q,Y,ae);e.startAuthFlow(re);try{await re.sendCodeEmail({withPrivyUi:!0})}catch(le){Ge(be,"update","onError",le.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:Se.current})}},initUpdatePhone:async(q,Y,ae)=>{let re=new IRt(q,Y,ae);e.startAuthFlow(re);try{await re.sendSmsCode({withPrivyUi:!0})}catch(le){Ge(be,"update","onError",le.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:Se.current})}},initLoginWithSms:async({phoneNumber:q,captchaToken:Y,disableSignup:ae,withPrivyUi:re})=>{k({status:"sending-code"});let le=new Iv({phoneNumber:q,captchaToken:Y,disableSignup:ae});e.startAuthFlow(le);try{Se.current="sms",await le.sendSmsCode({withPrivyUi:re}),k({status:"awaiting-code-input"})}catch(me){throw k({status:"error",error:me}),xe.current==="login"?Ge(be,"login","onError",me.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):xe.current==="link"&&Ge(be,"linkAccount","onError",me.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),me}},resendEmailCode:async()=>{var q;await((q=e.authFlow)==null?void 0:q.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var q;await((q=e.authFlow)==null?void 0:q.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async q=>{let Y,ae;function re(Oe){e.authFlow instanceof _v?V(Oe):e.authFlow instanceof Iv&&k(Oe)}if(re({status:"submitting-code"}),!a){let Oe=new qg;throw re({status:"error",error:Oe}),Oe}if(e.authFlow instanceof _v)e.authFlow.meta.emailCode=q.trim();else{if(!(e.authFlow instanceof Iv)){let Oe=new ue("Must initialize a passwordless code flow first");throw re({status:"error",error:Oe}),Oe}e.authFlow.meta.smsCode=q.trim()}let le=await yr();if(xe.current==="link")try{({user:Y}=await e.link())}catch(Oe){throw re({status:"error",error:Oe}),Ge(be,"linkAccount","onError",Oe.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Se.current}),Oe}else if(xe.current==="update")try{({user:Y}=await e.link())}catch(Oe){throw re({status:"error",error:Oe}),Ge(be,"update","onError",Oe.privyErrorCode||pe.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Se.current}),Oe}else try{({user:Y,isNewUser:ae}=await e.authenticate())}catch(Oe){throw re({status:"error",error:Oe}),Ge(be,"login","onError",Oe.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),Oe}let me=Y||h;f(me||null),v(ae||!1),u(!0),re({status:"done"});let $e=null;return e.authFlow instanceof _v?$e=(me==null?void 0:me.linkedAccounts.find(({type:Oe})=>Oe==="email"))||null:e.authFlow instanceof Iv&&($e=(me==null?void 0:me.linkedAccounts.find(({type:Oe})=>Oe==="phone"))||null),{user:me,isNewUser:ae||!1,wasAlreadyAuthenticated:!!le,linkedAccount:$e}},generateSiweMessage:async({address:q,chainId:Y,captchaToken:ae})=>{xe.current=c?"link":"login",Se.current="siwe",S({status:"generating-message"});let re=await e.generateSiweNonce({address:q,captchaToken:ae});return S({status:"awaiting-signature"}),uU({address:q,chainId:Y.replace("eip155:",""),nonce:re})},generateSiweMessageForSmartWallet:async({address:q,chainId:Y})=>{let ae=await e.generateSiweNonce({address:q});return uU({address:q,chainId:Y.replace("eip155:",""),nonce:ae})},linkSmartWallet:async({message:q,signature:Y,smartWalletType:ae,smartWalletVersion:re})=>{let le;le=await e.linkSmartWallet({message:q,signature:Y,smartWalletType:ae,smartWalletVersion:re}),f((le=await He.refreshSessionAndUser()??le)||h||null)},loginWithSiwe:async({message:q,signature:Y,captchaToken:ae,disableSignup:re})=>{let le,me=null;try{if(h)throw Error("User already authenticated");let $e=new r2(e,void 0,ae,re,{message:q,signature:Y});if(e.startAuthFlow($e),Se.current="siwe",xe.current="login",S({status:"submitting-signature"}),{user:me,isNewUser:le}=await e.authenticate(),!me)throw Error("Authentication failed - no user returned")}catch($e){throw Ge(be,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),S({status:"error",error:$e}),$e}return f(me),v(le||!1),u(!0),S({status:"done"}),xe.current=null,Se.current=null,me},linkWithSiwe:async({message:q,signature:Y,chainId:ae,walletClientType:re,connectorType:le})=>{let me;se("siwe");let $e=null;try{S({status:"submitting-signature"}),me=await e.linkWithSiwe({message:q,signature:Y,chainId:ae,walletClientType:re,connectorType:le}),me=await He.refreshSessionAndUser()??me,S({status:"done"}),($e=et(me)||null)&&Ge(be,"linkAccount","onSuccess",{user:me,linkMethod:"siwe",linkedAccount:$e})}catch(Mt){throw Ge(be,"linkAccount","onError",Mt.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),xe.current=null,Se.current=null,S({status:"error",error:Mt}),Mt}let Oe=me||h;return f(Oe||null),xe.current=null,Se.current=null,{user:Oe,linkedAccount:$e}},refreshSessionAndUser:async()=>{let q=await e.getAuthenticatedUser();return u(!!q),f(q),q},walletProxy:j,createAnalyticsEvent:({eventName:q,payload:Y,timestamp:ae})=>e.createAnalyticsEvent({eventName:q,payload:Y,timestamp:ae}),acceptTerms:async()=>{let q=await e.acceptTerms();return f(q),q},getUsdTokenPrice:q=>e.getUsdTokenPrice(q),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:q=>e.getSplTokenMetadata(q),recoverEmbeddedWallet:async q=>new Promise(async(Y,ae)=>{if(!h)return void Y(!0);let re=q!=null&&q.address?Hf(h,q.address):Cd(h)||XL(h)||f2e(h);if(!re||vl(re))return void Y(!0);let le=await yr();if(!le||!j||!re)return void ae(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:me,entropyIdVerifier:$e}=Zu(h,re);try{await j.connect({accessToken:le,entropyId:me,entropyIdVerifier:$e}),Y(!0)}catch(Oe){if(f8(Oe)&&re.recoveryMethod==="privy"){let Mt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:re.address}});try{Mt=await j.recover({entropyId:me,entropyIdVerifier:$e,accessToken:le})}catch(bt){return void ae(bt)}Mt.entropyId||ae(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:re.address}}),Y(!0)}else f8(Oe)&&re.recoveryMethod!=="privy"&&re.recoveryMethod!=="privy-v2"?(G({recoverWallet:{entropyId:me,entropyIdVerifier:$e,onFailure:ae,onSuccess:()=>Y(!0)},recoveryOAuthStatus:{provider:re.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Ce(xEe(re.recoveryMethod))):ae(Oe)}}),setReadyToTrue:q=>{l(!0),Z==null||Z(q)},updateWallets:()=>Le(),fundWallet:async(q,Y)=>{G({funding:dae({address:q,appConfig:L,fundWalletConfig:Y,methodScreen:ud})}),Ce(ud)},openModal:Ce,requestFarcasterSignerStatus:async q=>{var le;let Y=await yr(),ae=h==null?void 0:h.linkedAccounts.find(me=>me.type==="wallet"&&me.walletClientType==="privy");if(!Y)throw Error("Must have valid access token to connect with Farcaster");if(!j||!ae)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((le=h==null?void 0:h.farcaster)!=null&&le.fid))throw Error("Must have Farcaster account to use Farcaster signers");let re=await e.requestFarcasterSignerStatus(q);return re.status==="approved"&&f(await e.getAuthenticatedUser()||h||null),re},connectCoinbaseSmartWallet:async()=>{var Y,ae;L.externalWallets.coinbaseWallet.config.preference={...L.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let q=((Y=e.connectors)==null?void 0:Y.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((ae=e.connectors)==null?void 0:ae.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(q)return q.updateConnectionPreference("smartWalletOnly"),U(q);await K("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var Y;let q=(Y=e.connectors)==null?void 0:Y.findWalletConnector("base_account","base_account");if(q)return U(q);await K("base_account","base_account")},initiateAccountTransfer:async({nonce:q,account:Y,accountType:ae,externalWalletMetadata:re,telegramAuthResult:le,telegramWebAppData:me,farcasterEmbeddedAddress:$e,oAuthUserInfo:Oe})=>{let Mt=await e.sendAccountTransferRequest({nonce:q,account:Y,accountType:ae,externalWalletMetadata:re,telegramAuthResult:le,telegramWebAppData:me,farcasterEmbeddedAddress:$e,oAuthUserInfo:Oe});return f(Mt),Mt},inProgressAuthFlowRef:xe,inProgressLoginOrLinkMethodRef:Se};aAe=He.recoverEmbeddedWallet,He.recoverEmbeddedWallet;let Ln=x.useMemo(()=>({wallets:p,ready:de&&Ue}),[p,de,Ue]),En=e.authFlow instanceof X5,ot=!L.headless&&L.captchaEnabled&&!c&&(a||En);return d.jsx(nAe.Provider,{value:!0,children:d.jsx(q3.Provider,{value:Bt,children:d.jsx(r4e.Provider,{value:be,children:d.jsx(w4e.Provider,{value:Ln,children:d.jsx(x9t,{...L,children:d.jsxs(Vbe.Provider,{value:He,children:[d.jsx(z_t,{children:d.jsxs(R9t,{data:O,setModalData:G,setInitialScreen:A,initialScreen:b,authenticated:c,open:i,children:[t.children,d.jsx(TOt,{customAuth:L.customAuth}),ot&&d.jsx(GRt,{delayedExecution:!1}),d.jsx(fjt,{}),d.jsx(Mjt,{disabled:L.embeddedWallets.disableAutomaticMigration}),d.jsx(tjt,{palette:L.appearance.palette||{}}),!L.render.standalone&&d.jsx(ujt,{open:i})]})}),d.jsx(gjt,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h==null?void 0:h.mfaMethods,mfaPromise:fe,mfaSubmitPromise:ke,onLoad:I,onLoadFailed:()=>null}),L.loginConfig.telegramAuthConfiguration&&d.jsx(e3,{$if:!0,children:d.jsx(hjt,{scriptHost:t.apiUrl||oU,botUsername:L.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};const DOt=()=>{const{ready:t,authenticated:e,login:n}=eo(),r=ur();return x.useEffect(()=>{t&&e&&r("/wallet-connect/success")},[t,e,r]),t?(e&&r("/wallet-connect/success"),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col px-4 py-6",children:[d.jsx("header",{className:"flex items-center justify-between mb-8",children:d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Connect Wallet"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"secure & simple"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("img",{src:si,alt:"Lighter Farm",className:"w-auto h-16 mx-auto mb-6"}),d.jsx("h2",{className:"text-4xl font-bold text-golden-light mb-4",children:"Welcome to LighterFarm"}),d.jsx("p",{className:"text-lg text-golden-light/80",children:"Connect securely with Privy - no seed phrases needed"})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(c_,{className:"w-6 h-6 text-golden-light"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Secure Authentication"}),d.jsxs("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:["Powered by ",d.jsx("span",{className:"font-semibold text-golden-light",children:"Privy"})]})]})]}),d.jsxs(qt,{onClick:n,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50 mb-4",children:[d.jsx(aTe,{className:"w-10 h-10"}),"Connect with Privy"]}),d.jsx("p",{className:"text-xs text-golden-light/60 text-center",children:"Privy will guide you through the secure authentication process"})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Why Privy?"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:nk,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"No seed phrases to remember"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:nk,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Institutional-grade security"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:nk,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Easy account recovery"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:nk,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Multi-device synchronization"})]})]})]}),d.jsxs(ye.div,{className:"flex items-center justify-center gap-6 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(c_,{className:"w-4 h-4 text-golden-light"}),d.jsx("span",{className:"text-xs text-golden-light/60",children:"SOC 2 Certified"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Dhe,{className:"w-4 h-4 text-golden-light"}),d.jsx("span",{className:"text-xs text-golden-light/60",children:"Self-Custodial"})]})]}),d.jsx(ye.div,{className:"text-center mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},children:d.jsx("p",{className:"text-xs text-golden-light/50",children:"Your wallet is secured with enterprise-grade encryption"})})]})]})):d.jsx("div",{className:"flex min-h-screen items-center justify-center",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})};function lAe(t,e){return function(){return t.apply(e,arguments)}}const{toString:BOt}=Object.prototype,{getPrototypeOf:wK}=Object,{iterator:MN,toStringTag:cAe}=Symbol,DN=(t=>e=>{const n=BOt.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pd=t=>(t=t.toLowerCase(),e=>DN(e)===t),BN=t=>e=>typeof e===t,{isArray:r5}=Array,x8=BN("undefined");function LOt(t){return t!==null&&!x8(t)&&t.constructor!==null&&!x8(t.constructor)&&Ja(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const uAe=Pd("ArrayBuffer");function FOt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&uAe(t.buffer),e}const UOt=BN("string"),Ja=BN("function"),dAe=BN("number"),LN=t=>t!==null&&typeof t=="object",zOt=t=>t===!0||t===!1,xS=t=>{if(DN(t)!=="object")return!1;const e=wK(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(cAe in t)&&!(MN in t)},WOt=Pd("Date"),HOt=Pd("File"),VOt=Pd("Blob"),qOt=Pd("FileList"),GOt=t=>LN(t)&&Ja(t.pipe),KOt=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ja(t.append)&&((e=DN(t))==="formdata"||e==="object"&&Ja(t.toString)&&t.toString()==="[object FormData]"))},YOt=Pd("URLSearchParams"),[QOt,ZOt,JOt,XOt]=["ReadableStream","Request","Response","Headers"].map(Pd),eMt=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yC(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),r5(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function hAe(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,fAe=t=>!x8(t)&&t!==Fy;function KU(){const{caseless:t}=fAe(this)&&this||{},e={},n=(r,i)=>{const s=t&&hAe(e,i)||i;xS(e[s])&&xS(r)?e[s]=KU(e[s],r):xS(r)?e[s]=KU({},r):r5(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yC(arguments[r],n);return e}const tMt=(t,e,n,{allOwnKeys:r}={})=>(yC(e,(i,s)=>{n&&Ja(i)?t[s]=lAe(i,n):t[s]=i},{allOwnKeys:r}),t),nMt=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rMt=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iMt=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&wK(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},sMt=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oMt=t=>{if(!t)return null;if(r5(t))return t;let e=t.length;if(!dAe(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},aMt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wK(Uint8Array)),lMt=(t,e)=>{const r=(t&&t[MN]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},cMt=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},uMt=Pd("HTMLFormElement"),dMt=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),jae=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hMt=Pd("RegExp"),pAe=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yC(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},fMt=t=>{pAe(t,(e,n)=>{if(Ja(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ja(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pMt=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return r5(t)?r(t):r(String(t).split(e)),n},mMt=()=>{},gMt=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yMt(t){return!!(t&&Ja(t.append)&&t[cAe]==="FormData"&&t[MN])}const wMt=t=>{const e=new Array(10),n=(r,i)=>{if(LN(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=r5(r)?[]:{};return yC(r,(o,a)=>{const l=n(o,i+1);!x8(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},bMt=Pd("AsyncFunction"),vMt=t=>t&&(LN(t)||Ja(t))&&Ja(t.then)&&Ja(t.catch),mAe=((t,e)=>t?setImmediate:e?((n,r)=>(Fy.addEventListener("message",({source:i,data:s})=>{i===Fy&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Fy.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ja(Fy.postMessage)),xMt=typeof queueMicrotask<"u"?queueMicrotask.bind(Fy):typeof process<"u"&&process.nextTick||mAe,EMt=t=>t!=null&&Ja(t[MN]),Pe={isArray:r5,isArrayBuffer:uAe,isBuffer:LOt,isFormData:KOt,isArrayBufferView:FOt,isString:UOt,isNumber:dAe,isBoolean:zOt,isObject:LN,isPlainObject:xS,isReadableStream:QOt,isRequest:ZOt,isResponse:JOt,isHeaders:XOt,isUndefined:x8,isDate:WOt,isFile:HOt,isBlob:VOt,isRegExp:hMt,isFunction:Ja,isStream:GOt,isURLSearchParams:YOt,isTypedArray:aMt,isFileList:qOt,forEach:yC,merge:KU,extend:tMt,trim:eMt,stripBOM:nMt,inherits:rMt,toFlatObject:iMt,kindOf:DN,kindOfTest:Pd,endsWith:sMt,toArray:oMt,forEachEntry:lMt,matchAll:cMt,isHTMLForm:uMt,hasOwnProperty:jae,hasOwnProp:jae,reduceDescriptors:pAe,freezeMethods:fMt,toObjectSet:pMt,toCamelCase:dMt,noop:mMt,toFiniteNumber:gMt,findKey:hAe,global:Fy,isContextDefined:fAe,isSpecCompliantForm:yMt,toJSONObject:wMt,isAsyncFn:bMt,isThenable:vMt,setImmediate:mAe,asap:xMt,isIterable:EMt};function on(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Pe.inherits(on,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const gAe=on.prototype,yAe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yAe[t]={value:t}});Object.defineProperties(on,yAe);Object.defineProperty(gAe,"isAxiosError",{value:!0});on.from=(t,e,n,r,i,s)=>{const o=Object.create(gAe);return Pe.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),on.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const AMt=null;function YU(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function wAe(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function Oae(t,e,n){return t?t.concat(e).map(function(i,s){return i=wAe(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function CMt(t){return Pe.isArray(t)&&!t.some(YU)}const kMt=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function FN(t,e,n){if(!Pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Pe.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Pe.isDate(m))return m.toISOString();if(!l&&Pe.isBlob(m))throw new on("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(m)||Pe.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let w=m;if(m&&!y&&typeof m=="object"){if(Pe.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(Pe.isArray(m)&&CMt(m)||(Pe.isFileList(m)||Pe.endsWith(g,"[]"))&&(w=Pe.toArray(m)))return g=wAe(g),w.forEach(function(b,A){!(Pe.isUndefined(b)||b===null)&&e.append(o===!0?Oae([g],A,s):o===null?g:g+"[]",c(b))}),!1}return YU(m)?!0:(e.append(Oae(y,g,s),c(m)),!1)}const h=[],f=Object.assign(kMt,{defaultVisitor:u,convertValue:c,isVisitable:YU});function p(m,g){if(!Pe.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),Pe.forEach(m,function(w,v){(!(Pe.isUndefined(w)||w===null)&&i.call(e,w,Pe.isString(v)?v.trim():v,g,f))===!0&&p(w,g?g.concat(v):[v])}),h.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Mae(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bK(t,e){this._pairs=[],t&&FN(t,this,e)}const bAe=bK.prototype;bAe.append=function(e,n){this._pairs.push([e,n])};bAe.toString=function(e){const n=e?function(r){return e.call(this,r,Mae)}:Mae;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function SMt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vAe(t,e,n){if(!e)return t;const r=n&&n.encode||SMt;Pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Pe.isURLSearchParams(e)?e.toString():new bK(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Dae{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const xAe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_Mt=typeof URLSearchParams<"u"?URLSearchParams:bK,IMt=typeof FormData<"u"?FormData:null,TMt=typeof Blob<"u"?Blob:null,$Mt={isBrowser:!0,classes:{URLSearchParams:_Mt,FormData:IMt,Blob:TMt},protocols:["http","https","file","blob","url","data"]},vK=typeof window<"u"&&typeof document<"u",QU=typeof navigator=="object"&&navigator||void 0,NMt=vK&&(!QU||["ReactNative","NativeScript","NS"].indexOf(QU.product)<0),PMt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RMt=vK&&window.location.href||"http://localhost",jMt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vK,hasStandardBrowserEnv:NMt,hasStandardBrowserWebWorkerEnv:PMt,navigator:QU,origin:RMt},Symbol.toStringTag,{value:"Module"})),Io={...jMt,...$Mt};function OMt(t,e){return FN(t,new Io.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Io.isNode&&Pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function MMt(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function DMt(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function EAe(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Pe.isArray(i)?i.length:o,l?(Pe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Pe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Pe.isArray(i[o])&&(i[o]=DMt(i[o])),!a)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const n={};return Pe.forEachEntry(t,(r,i)=>{e(MMt(r),i,n,0)}),n}return null}function BMt(t,e,n){if(Pe.isString(t))try{return(e||JSON.parse)(t),Pe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const wC={transitional:xAe,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Pe.isObject(e);if(s&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return i?JSON.stringify(EAe(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OMt(e,this.formSerializer).toString();if((a=Pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return FN(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),BMt(e)):e}],transformResponse:[function(e){const n=this.transitional||wC.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?on.from(a,on.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Io.classes.FormData,Blob:Io.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{wC.headers[t]={}});const LMt=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FMt=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&LMt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bae=Symbol("internals");function l6(t){return t&&String(t).trim().toLowerCase()}function ES(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(ES):String(t)}function UMt(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const zMt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lM(t,e,n,r,i){if(Pe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Pe.isString(e)){if(Pe.isString(r))return e.indexOf(r)!==-1;if(Pe.isRegExp(r))return r.test(e)}}function WMt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function HMt(t,e){const n=Pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Xa{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=l6(l);if(!u)throw new Error("header name must be a non-empty string");const h=Pe.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=ES(a))}const o=(a,l)=>Pe.forEach(a,(c,u)=>s(c,u,l));if(Pe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Pe.isString(e)&&(e=e.trim())&&!zMt(e))o(FMt(e),n);else if(Pe.isObject(e)&&Pe.isIterable(e)){let a={},l,c;for(const u of e){if(!Pe.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Pe.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=l6(e),e){const r=Pe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return UMt(i);if(Pe.isFunction(n))return n.call(this,i,r);if(Pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=l6(e),e){const r=Pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||lM(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=l6(o),o){const a=Pe.findKey(r,o);a&&(!n||lM(r,r[a],a,n))&&(delete r[a],i=!0)}}return Pe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||lM(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Pe.forEach(this,(i,s)=>{const o=Pe.findKey(r,s);if(o){n[o]=ES(i),delete n[s];return}const a=e?WMt(s):String(s).trim();a!==s&&delete n[s],n[a]=ES(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Bae]=this[Bae]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=l6(o);r[a]||(HMt(i,o),r[a]=!0)}return Pe.isArray(e)?e.forEach(s):s(e),this}}Xa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Xa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Pe.freezeMethods(Xa);function cM(t,e){const n=this||wC,r=e||n,i=Xa.from(r.headers);let s=r.data;return Pe.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function AAe(t){return!!(t&&t.__CANCEL__)}function i5(t,e,n){on.call(this,t??"canceled",on.ERR_CANCELED,e,n),this.name="CanceledError"}Pe.inherits(i5,on,{__CANCEL__:!0});function CAe(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new on("Request failed with status code "+n.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VMt(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qMt(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function GMt(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const eI=(t,e,n=3)=>{let r=0;const i=qMt(50,250);return GMt(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Lae=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Fae=t=>(...e)=>Pe.asap(()=>t(...e)),KMt=Io.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Io.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Io.origin),Io.navigator&&/(msie|trident)/i.test(Io.navigator.userAgent)):()=>!0,YMt=Io.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Pe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Pe.isString(r)&&o.push("path="+r),Pe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QMt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZMt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kAe(t,e,n){let r=!QMt(e);return t&&(r||n==!1)?ZMt(t,e):e}const Uae=t=>t instanceof Xa?{...t}:t;function hw(t,e){e=e||{};const n={};function r(c,u,h,f){return Pe.isPlainObject(c)&&Pe.isPlainObject(u)?Pe.merge.call({caseless:f},c,u):Pe.isPlainObject(u)?Pe.merge({},u):Pe.isArray(u)?u.slice():u}function i(c,u,h,f){if(Pe.isUndefined(u)){if(!Pe.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function s(c,u){if(!Pe.isUndefined(u))return r(void 0,u)}function o(c,u){if(Pe.isUndefined(u)){if(!Pe.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(Uae(c),Uae(u),h,!0)};return Pe.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||i,f=h(t[u],e[u],u);Pe.isUndefined(f)&&h!==a||(n[u]=f)}),n}const SAe=t=>{const e=hw({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Xa.from(o),e.url=vAe(kAe(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Pe.isFormData(n)){if(Io.hasStandardBrowserEnv||Io.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Io.hasStandardBrowserEnv&&(r&&Pe.isFunction(r)&&(r=r(e)),r||r!==!1&&KMt(e.url))){const c=i&&s&&YMt.read(s);c&&o.set(i,c)}return e},JMt=typeof XMLHttpRequest<"u",XMt=JMt&&function(t){return new Promise(function(n,r){const i=SAe(t);let s=i.data;const o=Xa.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const b=Xa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};CAe(function(N){n(N),g()},function(N){r(N),g()},E),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new on("Request aborted",on.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new on("Network Error",on.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||xAe;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new on(A,E.clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Pe.forEach(o.toJSON(),function(A,E){y.setRequestHeader(E,A)}),Pe.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,m]=eI(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=eI(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new i5(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=VMt(i.url);if(v&&Io.protocols.indexOf(v)===-1){r(new on("Unsupported protocol "+v+":",on.ERR_BAD_REQUEST,t));return}y.send(s||null)})},eDt=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof on?u:new i5(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new on(`timeout ${e} of ms exceeded`,on.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Pe.asap(a),l}},tDt=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},nDt=async function*(t,e){for await(const n of rDt(t))yield*tDt(n,e)},rDt=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},zae=(t,e,n,r)=>{const i=nDt(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},UN=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_Ae=UN&&typeof ReadableStream=="function",iDt=UN&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),IAe=(t,...e)=>{try{return!!t(...e)}catch{return!1}},sDt=_Ae&&IAe(()=>{let t=!1;const e=new Request(Io.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Wae=64*1024,ZU=_Ae&&IAe(()=>Pe.isReadableStream(new Response("").body)),tI={stream:ZU&&(t=>t.body)};UN&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!tI[e]&&(tI[e]=Pe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new on(`Response type '${e}' is not supported`,on.ERR_NOT_SUPPORT,r)})})})(new Response);const oDt=async t=>{if(t==null)return 0;if(Pe.isBlob(t))return t.size;if(Pe.isSpecCompliantForm(t))return(await new Request(Io.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(t)||Pe.isArrayBuffer(t))return t.byteLength;if(Pe.isURLSearchParams(t)&&(t=t+""),Pe.isString(t))return(await iDt(t)).byteLength},aDt=async(t,e)=>{const n=Pe.toFiniteNumber(t.getContentLength());return n??oDt(e)},lDt=UN&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=SAe(t);c=c?(c+"").toLowerCase():"text";let p=eDt([i,s&&s.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&sDt&&n!=="get"&&n!=="head"&&(y=await aDt(u,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(Pe.isFormData(r)&&($=E.headers.get("content-type"))&&u.setContentType($),E.body){const[N,R]=Lae(y,eI(Fae(l)));r=zae(E.body,Wae,N,R)}}Pe.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let v=await fetch(m);const b=ZU&&(c==="stream"||c==="response");if(ZU&&(a||b&&g)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=v[M]});const $=Pe.toFiniteNumber(v.headers.get("content-length")),[N,R]=a&&Lae($,eI(Fae(a),!0))||[];v=new Response(zae(v.body,Wae,N,()=>{R&&R(),g&&g()}),E)}c=c||"text";let A=await tI[Pe.findKey(tI,c)||"text"](v,t);return!b&&g&&g(),await new Promise((E,$)=>{CAe(E,$,{data:A,headers:Xa.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:m})})}catch(w){throw g&&g(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new on("Network Error",on.ERR_NETWORK,t,m),{cause:w.cause||w}):on.from(w,w&&w.code,t,m)}}),JU={http:AMt,xhr:XMt,fetch:lDt};Pe.forEach(JU,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Hae=t=>`- ${t}`,cDt=t=>Pe.isFunction(t)||t===null||t===!1,TAe={getAdapter:t=>{t=Pe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!cDt(n)&&(r=JU[(o=String(n)).toLowerCase()],r===void 0))throw new on(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Hae).join(`
`):" "+Hae(s[0]):"as no adapter specified";throw new on("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:JU};function uM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new i5(null,t)}function Vae(t){return uM(t),t.headers=Xa.from(t.headers),t.data=cM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),TAe.getAdapter(t.adapter||wC.adapter)(t).then(function(r){return uM(t),r.data=cM.call(t,t.transformResponse,r),r.headers=Xa.from(r.headers),r},function(r){return AAe(r)||(uM(t),r&&r.response&&(r.response.data=cM.call(t,t.transformResponse,r.response),r.response.headers=Xa.from(r.response.headers))),Promise.reject(r)})}const $Ae="1.9.0",zN={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zN[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qae={};zN.transitional=function(e,n,r){function i(s,o){return"[Axios v"+$Ae+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new on(i(o," has been removed"+(n?" in "+n:"")),on.ERR_DEPRECATED);return n&&!qae[o]&&(qae[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};zN.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function uDt(t,e,n){if(typeof t!="object")throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new on("option "+s+" must be "+l,on.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new on("Unknown option "+s,on.ERR_BAD_OPTION)}}const AS={assertOptions:uDt,validators:zN},Gd=AS.validators;class N1{constructor(e){this.defaults=e||{},this.interceptors={request:new Dae,response:new Dae}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=hw(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&AS.assertOptions(r,{silentJSONParsing:Gd.transitional(Gd.boolean),forcedJSONParsing:Gd.transitional(Gd.boolean),clarifyTimeoutError:Gd.transitional(Gd.boolean)},!1),i!=null&&(Pe.isFunction(i)?n.paramsSerializer={serialize:i}:AS.assertOptions(i,{encode:Gd.function,serialize:Gd.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),AS.assertOptions(n,{baseUrl:Gd.spelling("baseURL"),withXsrfToken:Gd.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Pe.merge(s.common,s[n.method]);s&&Pe.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Xa.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[Vae.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=Vae.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=hw(this.defaults,e);const n=kAe(e.baseURL,e.url,e.allowAbsoluteUrls);return vAe(n,e.params,e.paramsSerializer)}}Pe.forEach(["delete","get","head","options"],function(e){N1.prototype[e]=function(n,r){return this.request(hw(r||{},{method:e,url:n,data:(r||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(hw(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}N1.prototype[e]=n(),N1.prototype[e+"Form"]=n(!0)});class xK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new i5(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xK(function(i){e=i}),cancel:e}}}function dDt(t){return function(n){return t.apply(null,n)}}function hDt(t){return Pe.isObject(t)&&t.isAxiosError===!0}const XU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(XU).forEach(([t,e])=>{XU[e]=t});function NAe(t){const e=new N1(t),n=lAe(N1.prototype.request,e);return Pe.extend(n,N1.prototype,e,{allOwnKeys:!0}),Pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return NAe(hw(t,i))},n}const Vt=NAe(wC);Vt.Axios=N1;Vt.CanceledError=i5;Vt.CancelToken=xK;Vt.isCancel=AAe;Vt.VERSION=$Ae;Vt.toFormData=FN;Vt.AxiosError=on;Vt.Cancel=Vt.CanceledError;Vt.all=function(e){return Promise.all(e)};Vt.spread=dDt;Vt.isAxiosError=hDt;Vt.mergeConfig=hw;Vt.AxiosHeaders=Xa;Vt.formToJSON=t=>EAe(Pe.isHTMLForm(t)?new FormData(t):t);Vt.getAdapter=TAe.getAdapter;Vt.HttpStatusCode=XU;Vt.default=Vt;function fDt(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var WN="Checkbox",[pDt,HZt]=pA(WN),[mDt,EK]=pDt(WN);function gDt(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:h}=t,[f,p]=che({prop:n,defaultProp:i??!1,onChange:l,caller:WN}),[m,g]=x.useState(null),[y,w]=x.useState(null),v=x.useRef(!1),b=m?!!o||!!m.closest("form"):!0,A={checked:f,disabled:s,setChecked:p,control:m,setControl:g,name:a,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:sg(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:w};return d.jsx(mDt,{scope:e,...A,children:yDt(h)?h(A):r})}var PAe="CheckboxTrigger",RAe=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=EK(PAe,t),g=Yl(i,u),y=x.useRef(l);return x.useEffect(()=>{const w=s==null?void 0:s.form;if(w){const v=()=>h(y.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[s,h]),d.jsx(Ys.button,{type:"button",role:"checkbox","aria-checked":sg(l)?"mixed":l,"aria-required":c,"data-state":BAe(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:Ni(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ni(n,w=>{h(v=>sg(v)?!0:!v),m&&p&&(f.current=w.isPropagationStopped(),f.current||w.stopPropagation())})})});RAe.displayName=PAe;var AK=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:u,...h}=t;return d.jsx(gDt,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:f})=>d.jsxs(d.Fragment,{children:[d.jsx(RAe,{...h,ref:e,__scopeCheckbox:n}),f&&d.jsx(DAe,{__scopeCheckbox:n})]})})});AK.displayName=WN;var jAe="CheckboxIndicator",OAe=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=EK(jAe,n);return d.jsx(XI,{present:r||sg(s.checked)||s.checked===!0,children:d.jsx(Ys.span,{"data-state":BAe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});OAe.displayName=jAe;var MAe="CheckboxBubbleInput",DAe=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:u,form:h,bubbleInput:f,setBubbleInput:p}=EK(MAe,t),m=Yl(n,p),g=fDt(s),y=hfe(r);x.useEffect(()=>{const v=f;if(!v)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,$=!i.current;if(g!==s&&E){const N=new Event("click",{bubbles:$});v.indeterminate=sg(s),E.call(v,sg(s)?!1:s),v.dispatchEvent(N)}},[f,g,s,i]);const w=x.useRef(sg(s)?!1:s);return d.jsx(Ys.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:c,value:u,form:h,...e,tabIndex:-1,ref:m,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DAe.displayName=MAe;function yDt(t){return typeof t=="function"}function sg(t){return t==="indeterminate"}function BAe(t){return sg(t)?"indeterminate":t?"checked":"unchecked"}const LAe=x.forwardRef(({className:t,...e},n)=>d.jsx(AK,{ref:n,className:ua("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(OAe,{className:ua("flex items-center justify-center text-current"),children:d.jsx(gA,{className:"h-4 w-4"})})}));LAe.displayName=AK.displayName;const FAe=Bw(t=>({balance:"0",usdcBalance:"0",usdValue:"0",isLoading:!1,setBalance:e=>t({balance:e}),setUsdcBalance:e=>t({usdcBalance:e}),setUsdValue:e=>t({usdValue:e}),setIsLoading:e=>t({isLoading:e})}));function HN(){const{ready:t,authenticated:e,user:n,login:r,logout:i}=eo(),{wallets:s}=Lg(),o=s[0],a=o==null?void 0:o.address;return{ready:t,authenticated:e,user:n,wallet:o,address:a,login:r,logout:i}}const wDt=()=>{const t=ur(),{toast:e}=wa(),[n,r]=x.useState(!1),[i,s]=x.useState(!1),{user:o}=eo();HN();const a=()=>{t("/wallet-connect")},l=async()=>{var c,u,h,f;if(!n){e({title:"Terms Required",description:"Please agree to the terms and conditions to continue",variant:"destructive"});return}if(!(o!=null&&o.id)){e({title:"Wallet Required",description:"Wallet address or user ID not found.",variant:"destructive"});return}s(!0),console.log(" Checking user existence for:",o.id);try{const p=await Vt.post("/api/check_user_exist",{privy_id:o.id});if(console.log(" Check user response:",p.data),p.data&&p.data.exists==="yes"){const m=p.data.user;console.log(" Storing user data in localStorage:",m);const g={id:m.id,wallet_address:m.wallet_address,referral_code:m.referral_code};localStorage.setItem(o.id,JSON.stringify(g)),console.log(" User data stored successfully:",{key:o.id,dataKeys:Object.keys(g)}),e({title:" Welcome Back!",description:"Redirecting to your dashboard...",duration:2e3}),setTimeout(()=>{t("/dashboard")},1e3)}else console.log(" User not found, redirecting to registration"),e({title:"Registration Required",description:"Please complete registration with an invite code.",duration:3e3}),setTimeout(()=>{t("/invite-only")},1500)}catch(p){if(console.error(" Error checking user existence:",p),Vt.isAxiosError(p)){const m=((u=(c=p.response)==null?void 0:c.data)==null?void 0:u.error)||((f=(h=p.response)==null?void 0:h.data)==null?void 0:f.message)||"Could not verify your account.";e({title:"Verification Error",description:m,variant:"destructive"})}else e({title:"Connection Error",description:"Please check your connection and try again.",variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col py-6 px-4",children:[d.jsx("header",{className:"flex items-center justify-end mb-8",children:d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"ready to farm"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(ye.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(eTe,{className:"w-10 h-10 text-green-500"})}),d.jsx("h2",{className:"text-3xl font-bold text-golden-light mb-2",children:"You're all set!"}),d.jsx("p",{className:"text-lg text-golden-light/80",children:"Ready to start farming Lighter points?"})]}),d.jsx(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:d.jsxs("div",{className:"flex items-center gap-3 mb-0",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(c_,{className:"w-5 h-5 text-golden-light"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:"Secured by Privy"})]})]})}),d.jsx(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(LAe,{id:"terms",checked:n,onCheckedChange:c=>r(c),className:"mt-1 border-2 border-golden-light/30 data-[state=checked]:bg-golden-light data-[state=checked]:text-black data-[state=checked]:border-golden-light"}),d.jsxs("label",{htmlFor:"terms",className:"text-sm text-golden-light/80 leading-relaxed cursor-pointer",children:["I agree with the LighterFarm"," ",d.jsx("span",{className:"text-golden-light underline hover:text-golden-light/80 transition-colors",children:"user terms and conditions"})," ","and acknowledge the TFH"," ",d.jsx("span",{className:"text-golden-light underline hover:text-golden-light/80 transition-colors",children:"privacy notice"})]})]})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"flex gap-4 mb-6",children:[d.jsx(qt,{onClick:a,disabled:i,className:"flex-1 h-14 bg-transparent border-2 border-golden-light/30 text-golden-light hover:bg-golden-light/10 rounded-xl text-lg font-semibold transition-all disabled:opacity-50",children:"Back"}),d.jsx(qt,{onClick:l,disabled:!n||i,className:"flex-1 h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:i?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Checking..."]}):"Start Farming"})]}),d.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 text-golden-light/60",children:[d.jsx(c_,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Protected by Privy"})]}),d.jsx("p",{className:"text-xs text-golden-light/40 mt-2",children:"Your wallet is secured with enterprise-grade encryption"})]})]})]})},bC=x.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ua("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));bC.displayName="Input";const bDt=()=>{const t=ur(),{toast:e}=wa(),[n,r]=x.useState(""),[i,s]=x.useState(!1),{address:o}=HN(),{ready:a,authenticated:l,login:c,user:u}=eo(),h=async()=>{var f,p,m;if(!n.trim()){e({title:"Code Required",description:"Please enter an invite code to continue",variant:"destructive"});return}if(!l||!(u!=null&&u.id)){e({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!o){e({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}s(!0);try{const g={privy_id:u.id,referral_code:n.trim()},y={"Content-Type":"application/json",Accept:"application/json"};console.log(" Making registration request:",{url:"/register_new_user",method:"POST",headers:y,data:g,baseURL:Vt.defaults.baseURL||window.location.origin});const w=await Vt.post("/api/register_new_user",g,{headers:y});if(console.log(" Registration response:",{status:w.status,statusText:w.statusText,headers:w.headers,data:w.data}),(w.status===200||w.status===201)&&((f=w.data)!=null&&f.success)){const{user:v,referral_info:b,message:A}=w.data;let E=A||"Welcome to LighterFarm!";if(b!=null&&b.bonus_points_received&&(E=` You received ${b.bonus_points_received} bonus points! ${b.is_referred?"Thanks for using a referral code!":""}`),e({title:" Registration Successful!",description:E,duration:3e3}),console.log(" Registration success details:",{user:v,referral_info:b,points_balance:v==null?void 0:v.points_balance,bonus_points:v==null?void 0:v.bonus_points,referral_code:v==null?void 0:v.referral_code,wallet_address:v==null?void 0:v.wallet_address,is_referred:b==null?void 0:b.is_referred,max_referrals:b==null?void 0:b.max_referrals}),v){const $={id:v.id,privy_id:v.privy_id,wallet_address:v.wallet_address,referral_code:v.referral_code};localStorage.setItem(u.id,JSON.stringify($)),console.log(" User info stored in localStorage:",$)}setTimeout(()=>{t("/welcome-congratulations")},1500)}else e({title:"Registration Failed",description:((p=w.data)==null?void 0:p.message)||((m=w.data)==null?void 0:m.error)||"Unexpected response from server",variant:"destructive"})}catch(g){console.error(" Registration error details:",{error:g,message:g.message,name:g.name,code:g.code,isAxiosError:Vt.isAxiosError(g)});let y="Network or server error",w="Registration Error";if(Vt.isAxiosError(g))if(console.log(" Axios error details:",{hasResponse:!!g.response,hasRequest:!!g.request,config:g.config,response:g.response?{status:g.response.status,statusText:g.response.statusText,headers:g.response.headers,data:g.response.data}:null}),g.response){const v=g.response.status,b=g.response.data;console.log(` Server responded with ${v}:`,b),v===400?(w="Invalid Request",y=(b==null?void 0:b.error)||(b==null?void 0:b.message)||"Please check your input and try again"):v===401?(w="Authentication Failed",y="Please reconnect your wallet and try again"):v===404?(w="API Endpoint Not Found",y="The server endpoint is not available. Please check if your server is running."):v===409?(w="Already Registered",y=(b==null?void 0:b.message)||(b==null?void 0:b.error)||"This wallet or user is already registered"):v===422?(w="Invalid Referral Code",y=(b==null?void 0:b.message)||(b==null?void 0:b.error)||"The referral code is invalid or expired"):v>=500?(w="Server Error",y="Server is temporarily unavailable. Please try again later"):y=(b==null?void 0:b.error)||(b==null?void 0:b.message)||`Server error (${v})`}else g.request?(console.log(" Network error:",g.request),w="Connection Error",y="Unable to connect to server. Please check your internet connection and ensure the server is running."):(console.log(" Request setup error:",g.message),y=g.message||"Failed to make request");else g instanceof Error?y=g.message:typeof g=="string"&&(y=g);e({title:w,description:y,variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col py-6 px-4",children:[!l&&d.jsx(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-4 mb-4 max-w-md mx-auto w-full",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-yellow-500 text-sm",children:" Please authenticate with Privy first"})})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(UD,{className:"w-10 h-10 text-golden-light"})}),d.jsx("h2",{className:"text-4xl font-bold text-golden-light mb-4",children:"Invite Only!"}),d.jsx("p",{className:"text-lg text-golden-light/80 leading-relaxed",children:"LighterFarm is currently in exclusive beta. Enter your invite code to unlock premium farming opportunities."})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center",children:d.jsx(UD,{className:"w-4 h-4 text-golden-light"})}),d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Enter Invite Code"})]}),d.jsx("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:d.jsx(bC,{type:"text",placeholder:"Enter Invite code here",value:n,onChange:f=>r(f.target.value),className:"bg-transparent border-none text-golden-light text-xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto placeholder:text-golden-light/30 tracking-wider",onKeyDown:f=>f.key==="Enter"&&!i&&h(),disabled:i})}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center",children:"Don't have a code? Join our community for early access"})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mb-6",children:d.jsx(qt,{onClick:h,disabled:!n.trim()||i||!l||!o,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:i?d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-2 inline-block",children:d.jsx(bp,{className:"w-5 h-5"})}),"Validating..."]}):"Continue to Farm"})}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4 text-center",children:"Need an invite code?"}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx("a",{href:"https://x.com/LighterFarm",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-golden-light/10 hover:bg-golden-light/20 rounded-xl p-3 flex items-center justify-center gap-2 transition-colors",children:d.jsx("span",{className:"text-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})}),d.jsx("a",{href:"https://t.me/+sKmppf_5gNo5YzRl",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-golden-light/10 hover:bg-golden-light/20 rounded-xl p-3 flex items-center justify-center gap-2 transition-colors",children:d.jsx("span",{className:"text-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})})})})]}),d.jsx("p",{className:"text-xs text-golden-light/60 text-center mt-3",children:"Follow us for exclusive invite code drops"})]})]})]})},gu=({children:t,className:e})=>d.jsx("div",{className:ua("px-4 max-w-md mx-auto relative min-h-screen bg-background",e),children:t}),vDt="/assets/Home-BW3sMItB.png",xDt="/assets/Lightning%20Bolt-Dz0r_pJy.png",EDt="/assets/Money%20Circulation-D-lZ1T6t.png",ADt="/assets/People-DsY4PItJ.png",CDt="/assets/Profile-Bgtetq_J.png",kDt=({icon:t,label:e,path:n,active:r})=>{const i=ur(),s=typeof t=="string";return d.jsxs("button",{onClick:()=>i(n),className:ua("flex flex-col items-center justify-center py-2 px-3 min-w-0 flex-1","text-xs font-medium transition-colors duration-200",r?"text-[#A07715]":"text-[#A07715]/70 hover:text-[#A07715]"),children:[s?d.jsx("img",{src:t,alt:e,className:ua("w-5 h-5 mb-1",r&&"animate-bounce-gentle")}):(()=>{const o=t;return d.jsx(o,{className:ua("w-5 h-5 mb-1",r&&"animate-bounce-gentle")})})(),d.jsx("span",{className:"truncate",children:e})]})},Rd=()=>{const t=i0(),e=[{icon:vDt,label:"Home",path:"/dashboard"},{icon:xDt,label:"Farm",path:"/farm"},{icon:EDt,label:"Buy/Sell",path:"/trade"},{icon:ADt,label:"Refer",path:"/referrals"},{icon:CDt,label:"Profile",path:"/profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-transparent z-50",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsx("div",{className:"flex bg-[#090b0c]",children:e.map(n=>d.jsx(kDt,{icon:n.icon,label:n.label,path:n.path,active:t.pathname===n.path},n.path))})})})},CK="/assets/deposit-BfT0jDIz.png",UAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxvSURBVHgB7Z0JcNXFHcf3+r+X5CWEJEgMxHCWiVbpFBxti2KroKMzahMRD47AUKlKPZipRbQo1epEywhYUmTqaIISMEdBK1OrbW21jG01Os3gCdGkCYYcvJfjnf9jt7svCQnvyrvi/P+6H+YB+V/vZb+7+9v9/X67DwCJRCKRSJIDgiSYzMmxsQINGfZMyhTKGAISgCCkPgQ1G9X8bt3R63Q6B0CCJCTIebPzSvbvuGmuqqJHVZUuYBAqEHAxKJAMlyRlvEAgUBWCm3JzlceuXlPz4eedrnZ+iiXwmNgsLCrKaqhec2WXa6AaQpgLh+9iIMkm9jVmbJkw/oNhsL7CEmXdZTfv+FNHB/CNd/945QkvKp2e/0xleZWhseX8DSBlcQktGYZXYCAqMMF4/+rbn914tNvTDWK0lpiCzCnMnlq7c9UbEOP5lEohkkXUYcKtLC/D5ru2vnz5fz45cSratTjaieLi4sxDVbdW8f8uNaSNSAnRQoQoCKPCa5acO+/I0S8O9/R41YjXRntGy2sPljvdA/WGQaO2IiTeSRqRMLjdADBCuYg+BiEE8ovQ9d+6ZOcrke4lkQ7OKppc0u3qexZjGLG4hRAMMqBrmkYh9vF3km1IgABkGnXY7YSIihrazYvChLyp9LTrNXPm5M9vaXG2hz4iYoEf++uD1zp7+19hUWwPrwCekplZy3+4rPozn9cd8Mc5pPu6k8HLE2Up9nf2r7+gvcP9AkLYEfFCXpmzCbri/PJdfws9FdZC8vJAbp+rbxPkg2kWUu/FiEGnzLN2c/2iz77o/i+QhOP0gXMu3XZ83qypi/Y+vuwIIsgR2lIQ/+Nj8Fd5eXlNLper/8xzIShKboEaMBZGfDOu7MwSx0opxviIMirOnnILjDBNEEf8AePCHIUWhJ4LEyQDGRkMIlvocdE6NJVqi5c/cxRI4uKye3d/HAhQHaEzLYP4CQFDUXlZh94TJgimCh8yszDbIg5gBLw+rxYAkrjwudwBTKAnymmEKVHCDoZfxyCNZqO5rFAa8LgJlhUERuhxFnxF9sdKL63JkIKYDCmIyZCCmAwpiMmQgpiMxAThHkU/lMPeeMnJJD5ewgmVF0nkYu5shAWOrFJFUaZlENm6xkOx23TuB4fRo07hxC2ICN1y73L+c5XL/wJkGDc+RPiWhbvhY5FQCxFzT+FYkTGp+Ek0ByExQYKhSCaNyAQi7YDJkIKYDCmIyZCCmAwpiMmQgpgMKYjJkIKYDCmIyZCCmIwEfVnjczoBO0H/isGEW1R6ydIrCC9Pv24Y/KHB1BexwGfcW0TGqgGJYkeIUhpMyPsmkzZBMGJa0bSssitWVh/3uNWEsuFFmuSR2i3z2vvb66hhZCVyb+iSCKsvLEqLIKJQSnKm3lK46OHDIEmKlt53rOXotqt6P2p9m8Xhsg4KwfvFgGYAhoZc0JBBaFdwUCCDMkt2gCkLIroYv0bpxWu3fQhS5Kqrn+ysqSzTFZtCYtZ0HvUxKFRz7WTnil/U1vq8Xqrxri+H2B2NuyuWeQb992AFEkatt6AodUHEX4jC7Oxs/t9BkAqUaVlijVGsAYFYQ8QYfPvura+u1hytJ461Am3kXBfwgO9ct/3fpbPzaqorV+zGGCzSLdZSUh72ioiYnSC4t/KmJ2bNKpoBhkSGCb7I/PmFU1/dvWYVJhhFjbIN9VJv3bGlsfxfn7S2NjWNijEG9snnrqPrN9eXGwwegdBaNiUtNoTyrkGj+rX7Hi//XpYd/SEjE7QAKjr52HpTNLQFhBpgRW6/fuOAJ1AMooyyYHA4BtTV99Vv+Li9a2QVKzx/RkFp3Z47phObZr+6oqqtpd39kXh0c0tXz/otdat2P1T+mWJDxCrGPi2CBCsur9UYw7NUnf1UDfZcogDiH2wR3lONF3/OyybbuRgfDj8ctf1j07ITJ937BvtdRHyKmidXGTOnTbq1+LIn6sU1+qddJ3Izld96dLoRWIT0zdSH4+00hVfUR/PWofLR1FW3v3AQDE8555Zkn/slF0PB3HiDofe2E4z/1zm47/wZRaXiGt5U1OUb97+g6gYIXTRjVizhOgmuOGKQ+TS/d+TY3/ffPhNDRsQS5JGLxFAXQ0Re33lbych1Az7dQBbKW0qrIGJuIGpi8N9YLzT0ite9Euz8xLIuCEf6QOjqU+dG+vjCBPXjgW+D4QEghHxMzicqwCKkbaYuCoL7oz51ZONdCCmdVA8vLUQAVRCjNsM29WT/4P1ck5nxerCGuqXRSwlFOJKNEjNEXT9zSZ6VxlnpMer818/KwrvX/bxxS6x9PMYyd3r+4bqnbt3Dx63XyEyvUVLuskQXxP2JrGzD3t/HK4bg+Alnx4oH6jdpFjK4XwVpsSG8J2FIbLGRIH6/G/NZvmwgY0jLTF3BGB3es25hgrei16vv/oHCnU5yD65R0mJDxBygb9BTc/zNzWTpqmc+0DQ1Zgk7shzw4K6KH7mcg9tl8ziTiIIk06NzM4J7ewaqX3ziJiZ2CopZznxWPujxWszL9NUQWZCkbOzQvIIoJK7bv8nd1FD5RHYrhQliIF0bnkglJYtcrjA+wzs5UIr1sF3lwow6ozgAGVOBZEKBEKmGEb5vTPjmMyo8ZbfjJiCZUHik+V1dd/SGHg8TpLWvry8D6Q8xJnftmyjEjoiTs5XKSDtfR5yHXH9f3TGDoj45g04/IpTAp8Kua1bujbjvWERBxOaM+cW4ggG5GVPa4ZV86jlkXYvT2RHxdLT71t7c+Ibdhl4kYo21FCUtiB7HBmHjpTc8/WcQpVSjCvJOR4dv/aaGe/mErxljIJempwgRm4oaRnPFnc/d2dkJvNGui+nL4t5b52337F1KCKnFBEmvbBIIb7io0Nzdt++ura9c3tzl7ol5/TjPY/wB3WUbd66bfDa+QafMJczKSMTv9AtO9EsYQxZMPAFJILa8DebATPTnDCkXkYLEQxN9k6ej636yoX79cHgi5u8Ql3OxtRX4512y4+Ccafnv/nHPLRcMeuH9PDB6Ie/H7KKghqeeE0ZQCZ0GFKr5QaIw7KO6pqqMZAA2wR0vEl17sOYEbBg12Ql6uHxz7bFIO1hHIxFvL2v50tl+3rVV7fn5+f8kxDOFh2ozMikj3C+VwPYqiSN2DNHt2N3RHWgDCdLe3d+2YkPNfGInDhZht9V0MvoNO9g/qKFToZskx0NS7vfhCQ1/WWLHWL1jIHDMIp9VrqAyG1IQkyEFMRlpX2OYKjMKc2chpk+iBlTbTrlb+KG0hgLmzgV2rzdnpl2nGZ6APtjdH2gFwDzff2ImQVDnm78sb+t01RjQyEQ8epOZa9v14589/0grd0GDNDB7dl5uw441D3v71bsYNDCf6vpmzJiyetqiR0TOsClEMUuXBd87cv+SDmd/HSIwS8EEYgUqmk/f2PCb1S9dVJpTAFLkouk5BQcqVzZofm0jUSCPNPP3ICjry05nXdfrT34fmARTCJKTk5NvdHi2MYPBsdnwBhVfC0Cv/N2ja2tTEaWUi1G1Y+1+iNgSkZx9RtY9Baitr6OqJDc3D5gAUwgy2W7Y+QS3MFIU3wjm0dErn36s4kBpEqIIMaqfrjgAIF16OlN+DCz4HvRsr6JlAhNgCkHsk72nFMJepVF6cSEKomBJ9ago8bhA4IgYmIElkcQQiMCoTSGHenu9vcAEmEKQ48dBoOKhg1sB0zzRNg6gI6L8uuJA8aRJ+UaUb4YTufTc/hjcgOc8v31VTDGCPjKku2+8+8WnQJpHc8liJn86ZGzKd99/+Ya3Aj7FgaIu6RC+TPYWM/TXECaPR7qC26JNCKMlvLyXRsv/otytZbfp/gVlDYsg7P0AmCQMZ7YAx5AoB7koKhclQm6jKN9gzWbAyT3N+RGfwlgPQuismGIoXIzyQ4shPPkeMFFM1IwRp6AoTYdufFsN4CwUJeGUBb9NCCZ8TohhsxnehWVCjM73gckC1GYNAY62lECs7isxRltGw6W8mxK5Z6YLTJvVl8VEv76grHGx3a55KE293pzZTZlTDIHZg+RpaSlmthmhWCFrISVRrCSGwCppJEmJYjUxBFbK60lIFCuKIbBaolVcolhVDIEVM99Oz+h1PnkMzewRk0aCrSmGwIoh3KEh8fWNixnTvRCOTUwT9Uv3Lih/+RIriiGwakw9KMraB1662DBos6ozGtAp5W705nUPHJ5vxhl4vFg9WReK4JbDwc62CU86QSc7OgZcQObrSyQSieQbyP8BRCm4nBHA+XwAAAAASUVORK5CYII=",SDt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhCSURBVHgB7Z17bBzVFcbPuTOzD+/6tXhZtjHUQqnUpEkErQpp1UKBRoK2qgKtSZtAlRIaqKJU0EaEEEitkMSpSEPfVZRGbiCkqVKUKiCIIMEBCxAgnoqCIhIFsMGYtdfPtde7M/dyrs0j4rmCmdm5M/OT1tb6j7F2v/nOvfd8c2cAQkJCQpRBA/+A2Wy2JpFIRAqFgkXvBSgIgj/AEw+vnjMwOLaRA8aMpL55c8efHt27FyxQDF8I0tX168Zon94pBJ9DHwlRiDdqoHjOnCt35EExGKiPHuuPXAFCfEVw0AQXTCBrYDWJL4GCJ5zyghzb/7sGq2St4ZzH3/8jKVMscSXHR6UFmQ0QGTMnr6YaNUOWqvf+joBKDugSpQW5/+AtjWZZ3CgERMEnKCvI7NkQGRwcuh4Yng7+mS2qK0jXlpWnmwDX0SAeAR+hpCAtLRA7McpvQIFN4CN3SJQU5MGO1WfQr19wAQb4DOUEaW5ujo8NjK0RCI3gQ1QTBB+5Z3ELt0Qrzax08CFKCULNw/hgb2EdMlYLPkUlQfBQx6KvCgaXci586Q6JMoKk0+lEYcRaT2vwOvAxqgiCh3Zc9Q2O/ALhj4boJ6LEh2tqakpOjpdvA4EJ8DkqCMIO/2vJRZzB+UIIX7tD4vkPKLZtqx0vW7dxwX3vDonXBdFeSB/5EZWqWXhKe93PeFqQ7gM31k+a/FYurBoICF4WRO+bEIsY4JchIO6QeFaQY50UzZbLq7gQMQgQnhRkKprNl6+hxrqSFyp8ETwpyAMHbjitXLZWCu6faLZSPCeIjGZzI6UVTMM0BMwdEs8Jsv+fazNc4DLus2i2UjwliIxm828PraI51WkQQHdIvCQIHuy4uRk4LPZjNFspnhGEotlYvm/sFopmGyDAeEUQ7Lyr9WwOfKFfo9lK8YQgmUymJj8w2YYMfR0+VYIXBMHO7UvmAscFnPtqA9HnouqCyGh2tFRqo3ZVbXA6Vp9MtQVhB3cuOQ+E+HYQwqdKqOqXkEqlkuOj5fWUdyTBZuLM4KAg1ZzRsM5/X71gcsI6hzq6thcr09TkMbVWCh1zNi0yDwNIkR0VumpVu6trcWOkNyX3Bc6zO++g8lcUDNdFBbxmoT3H1mi6wQ19JN1Q88IPrt80cPQolMABqiWI/vy9K68qcf536ujangaSBKQJFpHRT7vMN3UYOpoQY6DjnZf/Zt9fenp6JsBmqjLN7Dm4qXFoYnSn4CLjUBooj2kAtWAE2PSSxxIiQuU1icjm/+zSWfnnTljP9/b22lrCqjGoG73Dby0GLs5UMZqVFZBbPEkeXLXl1rm2XwnjuiCjj7c1CstaRWed0uETOSV1ZryxCWzGVUFkNHu0t/9XAtXfF0gljJvMGAebcVWQfYfWpsHkK2jsUNodVLY4Ar703SUdI2AzrgkycyZEh/NDK1Fj6odPAiYMXduSy+Vsn2W5JshjO9eeQcHTL1WPZqlUUY8HXzz3irsP01vbb27jiiDNzRDv7h5aTR9E+X2BNMkqRBPa7xHzY+AAbgiCj91101mg4ZU0M1E7mqUZr4b46IJl/3kSHGqhOC5ISwtE+/OF31LdrQe1kav+0bq4sb6vr8/22dV7OC7IyEgqUi6LyxiqHT7J9SCdVA9+b/meI+Dg3eocF6SB2kkaiLhQfd3BxchZTdHbqVVi+8zqVBwXpBCJmEJnRyieVTKfkJA7TJ3B/7659L8nweF7OTouCNXbYjKib6KSNQyKIgAH0zV1m53o7n4YN+q6ePqVp7oXXjL/JLfgfDrbdBLHpN9lu14w/ZJhm+1lkTEsaUJs//FNd/4/n3f+pppu1nX92P7lDRPl5FzLNNNMs2feyGjuYyLXqQO7nWqJrd1XIfdgI77VHI2cN2Ph1m5wgWoMtKzVxv/7Nfreds1MJXfe/vPXDB0bqBMAdoEMJ3XG2xet/sfm48dhElygGpk63wv2IY/V0s/Z9Fhr3/kl3UHpYC4VS2xzSwxJoC/b/DRo7ChGEbb+9Id3DICLhNdCfQxietH0ZiZTu+tZoAmDi4SCfAzkjgkWYe3ZC9oHwWVCQT6CvGAFTkbOzt5Lb0xwmXAM+RCIbEJn2vp589bYngZWQuiQU6DsiczBX/56f/YAQHWerBA65BRoEViIRbR1eN3No1AlQoe8i7xwgbLZZy6+dncXQPUaoaFDppEXnI4Zht7W39/vSDRbKaFDYDp8oi/ikcuW76FlR3UflRQ6RLoDcTRdF93gZDRbKYF3iHQHZeX3zV+6+2XwwIPEAi8ITXSHU6nkBqej2UoJdMmiUlXWEPZcuLRdZh2eeCpPwB0iBpvqGrb09IAn3CEJrENoEVgii3R8f8WGN8FDBNIhsr0uOAzUp+r+6mb4VAmBdAhjUNQR/3b5JRtz4DEC55DpaBZyjc1sx1FwZiftFyFwDtEofNI1uKP1W3/25GNZA+YQ6Q/oic+u3e12NFspgRKE1h1FQxcbZ81q9+xVlAEqWXLvk35Cm5ndD1WIZislMA5BYOOGhm3VimYrJRCCTO0LZPDSuT+5+2EAbz/0PhCCyH2BMd1oc2pfoJ34XxC5pxzh8YuX73oCwPt7VPwuyFQ0m9C1DblcrgAK4GtBpvYFAj60YMXe58Aj7fXPws+C0FCOI/W1zu8LtBPfrkNoEWgxwH0XXXPPcVDEHRL/OoSL4WzK+INK7pD4yCEfmIBN7TnEXd+5duvroJA7JL5wSMEwTF3HY1SmTHkFIi3L356Rqf/jq69CERTDF4LIKW2qNrqMc34f6dEZi7OlMy7c6KloNohgNputyWQycidu4O8hHxISEuIC7wBGTfwH1JFwPQAAAABJRU5ErkJggg==",_Dt="/assets/refercardbg-mAPZC_mu.png",zAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA/CAYAAAC4nXvhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYOSURBVHgB7VptbFNVGH7POfe2a7u169Z2IgGUCcYQdRIkKAkSNSYz0UR/SFQE+RSICR9z44cYZ4wu2SImKgwUCGP+kBB/GCOaaaJmGiMGIQZ+aFBIMGy069qtWz/We8/hnNsOthF2u+6sG+l9kia9X+ee577Pec5773sALFiwkCcQ3AaQ2cnhtthHtWA/RZ0VKZVhkkIM8gRRGF5QWhptPBEayLafd1tjIT067XsC9Xe66espqnr4JkN5dpYxQAgx7LTj1D+XU29s2hs+BhIhi7gRjZPNgdZYP2wZHALAaPLB4eSNp+Z3Ywj261s3NPccAEnAIAds1/OOZRjQlvgQ442ySbEevhoh8QCBBvsoBDyk9chu32sgCbKIQyhGaqmGjM7y+E9KSZk22BDKtIIJBhqKUuYvIwcO13m3gARII84Qcsh0DKbDJbvKdjptSKeUYcxlFBKR99paj9RXboVJQhpxzICCRAS8pKzlZM++S1e1F/l/YBQQJ2/I3l+u7D9c55tU5KURlw2FIDynrNzV8Gnvia6IttbvxTz0RuRpTx9lgQql9VBdYNuISyaktxlLXOcG59SYQWZTS/hYd1R7tcqIPMNIGF5Uhyov2ne0PjAs+wkZ6owlPgZoY3O47UpUW+Pn5HUKhGRlX+lB+w/tmrjb50J8rISUlfyX3V+o9NSI5ubmcHuQy77Ki2Gk7KsqyYExsjeFGfHrxBrXel74stH31dEGX+e2twJn31tX8RRITCFzBNpgyJ4asud2ikTSEIxSqKpA+w435G54ZsQFMdb58ayDNdWO47EEepYQtIwosAgrMBumECJxiSs3pX9im8s+1HYlrK3xccOj9MY8H3CT1s92eDdnzx1XjaZSf2edZ1U4yjZHBnRxW8bHl2E8OkVpmELwHKjkFocysv8g3B6KCcPjrEfM89Vz7Z80rCq9D0zUaEr8/nm21dGYDsbLBirYmIZgn+Z95iG8Y7xz1jeF285dTC93u0iKbwrykEiC2tuHHgUTKGbH++MsgAnXHS3se7aWBmYrIW///OGs2l/Opf4PRtKKTbnRBT7RoWQS6b0xPaxTJcp3VV0/xi83a9+MuIDUjCxXiDxdDKsLV7SlC+coSxfdrYrsbRS4D0AqzSCWYCDGOWQVjKj5q6EZcfFgC+3cGWSHFScEgwnDY295KskM2AnlJLdLAiMdFvFig0W82GARLzZYxIsNFvFig0W82GARLzZYxIsNFvFiQ/7EMR316Y8iIDADYHyZU5hpX/IibnwF1KFs1D7EYsZKn+n5NDmiIwCqDSJmp+VFXJDjxZvqG7cCuAvTr+06o/yzMJsW8qLKw+/rsqFIuRs6zU7Pi/hgEmDxPbYnxZIsyNaz3v02fsY2gPY6XLx8LVotIHvxpFUFobl+Aj+eTWxvOhYLg0ntLJeCwk3gQeX1M/LgxqfLeKkm9uvw7hVN3fVt230XZvugTrOrXsTYlBcjxMMvsWHoDqcvd5yKv9lyov+74UPjXWdWFiJtDf5OROCRUVbGjHiiQDk580dH99LGn4ySjRFn8WtsBHz+N3e5Q2NIVaa2IJHm9yhBinbwh0h/djHh9RWW412XH/FMq3w8Izy/Mv35ivrIK2PanG6LM0Xe05lYeweUsX971NXft8z6Zl1tqT97aMaTFjCb7/Bzy13ruVnNuZVXifAOJOnCJfeWbHisxuHx2qH/8ZWu+AMkqZ/uMtqX+aMgaflJ3lIfA8qnEuxUEVS4cZqPgb5Uaij5XxcwVYXJgxuYXUHk/YM9iy8NQjdIgJmrizWaOAf1ihI6pDQGXb26ytXhQ/xp3eGVo3tRMi5RkU7sDpWXTkEGTMvEnLo20d5n1qAyGDItz+fYHghDQdoQTuggCWbmprtKtd+NkcWmybT4fbmQoLwMXwzMgxBIgqmrn4ukm2ZXKmGW9YNCJWTD9+EhRtWVGM7/nd59+jRIW3CEcjjO9rzkXvDEEufxeJzVsIItAEKGyEqcpDv4Z2Lny+2RL0BijpALCaEKw9MfXqDWaIx4EIaCpKLAUNo/3/1XR8fVQZimxKigK54sWLBgwUKeuAbjskLNtQA4lAAAAABJRU5ErkJggg==",WAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAqPSURBVHgB7VoJbBTXGf7fHHuvd33bgImJcUw4XBoSAz2QA7QlpKThsEpCSpUSQIUgFUgvAgRo1Jb0CCpESkRTCgkqaBtD0xIaRxADEkohIbE42vrCHAJ8rL33zs7szMt7u2tjLOyZvcCW/MnH7Ox78//vm//973//+wGGMYxh3AUI0gf6bEwvcnPBwjDR63ihKIDa28EX+8jQW5AGpJMIWFWZa5k1k3nd41dmIIwlQCiuQSBMfhDWWY3o5IGLsNbhaPdBmsBBGlExjfkFluEFjqWfEuUcgYLRQ0+W4FYHwEZIE9JKhDcoP2DQsSCHybRACTKBASsMIF9AGQ1pRFqJsKDgH/JNlll+I1uAFawgiM9PkMaIOAXEG/GNgM/zR0gj0u4sNzxlzncqTAVxcUyYic/RcQgY8qZkox2f+f07vjbo5YDvJguSQFqdZYqhOthDlebJ/6swTqs74/v3gVqhBeIg6L4RUVUFOmsoR4+7BANYAETQhcQrnYLjErlMALtWGmY8/IDtA4+CzAxSOgKSWPXMFlct3B7jgITckzhi7FjQzxqTMfrhUn56m1euyM9gSycU60aKMtYDRgZMWjJYEVgdEi62yDecnVJDno09U9cknT7R5LnW2AghNWGvrcp5tziPXeIPKAoiU8pq4kJKEJ6q+u3NGtBgGakm4g6BP5xpKyktZqrKH9QtEEVcznBITxtIYQw+AQPTRzomHsRsRMBzUbcqyTho0qPz51vE6vrmgGPPsVBzf7LeXJe9uiCT29XlIYst8UUKxmy2hQ0FRVi0+NXWf4EKGakkokfQhh9kTpxUxP98RA47v80tm/1k0OQt0Sgx8l8LMHkSJUoh/80GBPl21nvDiQ83tInbN+/uvNhXJr2u3pr3VlhGy/0CIQMRXomDNuaz0oOnhdlTq10nQUX5ZNEzB7c8bbd/rRy96tUZXhCEsF4gs52NqppUHEH7UkL0PICJ5wQwCbsPnQ5v3XfY64zJp790RULV23J3yTJa5QtgSgZhBNhcK3Pkuxtb58EAFsFAcuh+I3jfOtPcssmGS7cU3WqvJ6yXRMAs6mmVOOGxvtQ6JAmwKxg2BDp1a+ZNtpz/80rznJh8JTYWvGBz+2qOxzssRoRIiM5yZgYaAvI1UPERyRDRTQJ6b2veNnuW9X1RkAvDYiRUwEkNvn+JdHBYJDYfDIUL84ssRxxbcrbAbYuIBPPzN7avRQZ2vTGbq38sqBy8vqdjk/qjE1WJDJYsgeziCQW7FcDPkxAYULoIuBtwxLeiDBOi2uw9eKFtmcMBMvTaoU4pBNNnNyEQ60FJkvt7HAvxo4eE70/IO0iun/X5I85J8xTAODoQngNEdpZYzzNIljHIMtDnaCMSRfwuDonUdzCTJ+VZx7eB71BLS2SwkWfc9IHUW+xAj0tkakQeuHhi7ltkQAu9cZJAQdvzPCCvHzf996q86MLl0EJvCDdxfJzWRMkgPbwBspEBZdGLlTlv9NYxHsRLRETRf/4q56eKwiyLeeaEnGGmlRU6vfLTG952Vm/+q6v6hiu80E7WfRzvEKKWAYRUcs2tqN6Wta7nmzgQLxF401LrdL2B+Y03qECiJHBEars73L7raFd3gIQ+OOpqaHeF2/hE9sNEB7KqYI9fBpOO3/7ysxkVEKdVxEXE2iowVoyz7LnejlkmGcdIeoVFjEOhnjQAvkyuaTiYsP+OkqHc7FK46RNNe9Y8MVYfT3etRES0m1RsXx8S5bKkSOh+IHNnfxwNPpNdcRi6vAZFPL58vHt9tyhNHUEb8IoFpsKiPNNPvIGktv33BHQpLy5g1r8035IHGqeI5qkxtdSysrVLyo58uFexQiKI6dbapWR9pdTwY63dNBHxejHYSeZgmaRANGga5KA6SiSasBnQsj9lQYaWPpqIYB6zPk620KOi25pBbA3diIXiiGNGoUp7pZYumojgy9hnfCGkeQs9KEDU9QokshiPlmhprkrEj74O1hK74RFBTMsBU1ohhBUYa9dNWVs1yqjWVpWIayFjOQ6jIpTshv0+gG7dZZkpqmu49VXVtmoNxhVypUFJ1sEQRVCQdWWjLaVq7VSJ+M4U6xi3D0czRUMMNE51k5hizjRTsVpbVSJcojyKoa2GwmrRB9S5s2R++LxikVpbNSJIYpyeOgx1IDqGAV+kGhHkuEExQ4oRy6spvWsmulhQ5DTVPhCBZpJIGnCsakRgsjeSIMWgR1mFLKN7kb+dOvsdIWIkh3RSGlwRSSWGSRovqQwVOTZS/JBqkOFLeiaveGHWE923ChbnzpEMbEH/WcXEQSyQFpgMaG2qaRCbkXd2ecKQUldJ3k2noLC2An7v9uWZMxFLDixz0VKnW0FsiuMVmQw/MwM51dqpElFXH2ouK+YgEEqdyVJvTsareNyKuWQUv4oS43KTI0Cm53wiZTCRU7K6eqFZrZ2q0GOf+65kmFIfVlIu6LJM8p7gC0ZIAJRiEiisRPePPw+1qLVTFZybaawjb9CJh1w4FQ2oSJq7ozAH1am1VX8D+e6rPgka2NQbRdrBkFMbMYgb9h8Xrqq2Vfke0dOjC83ih9TEhppV2IwMfHFFPKolmaQaR0QbSX8jLAhDKh9BjwQxBBVWOqiluSaD3/QXbz05xTiOYgJgsANHjw5JIFW7Zbe3XksXzVns0xeEHYXZHFZg8G++iCWggmwOTpwP7dDaR7MLvOpwHycnUbVGHRrcVkF0M+oRdLjCH+/8u7tGazfNBzwOEqTVNft/ZtAzYmRLPgjJiDhzopuOZ0Nnm8SXYrdTe8BD/7x2IPApqwg7eT6ybRx8U4S8HJas81kGYceOg+5zPXc1IJ7oIDLwjz5xvUxi9085llZrDR6rINag0FKDbAt7rrq265XYbc0vK95CEeZMI4TtPFczYQy/RJAwzVXcuyqZ/kBXCaKbzcy2Hj7d9a03j4bpJitSU6X1EfESEZmFZxsE14gRSu24ctNzQZfCk3sKuk9kUEugJIzMY4PH69xz3jgkXOylq2YkVUN19jlL5a0y6yFXMGwPk4xK3xPudINOTVplYzeynluc63vLfynUgoYq27shGcUjApfOMZcvrrTWON1yPq2Bin2TVkJiVRSY44hPyGDbDhz3zN1bE/gMEiSBIpFist5AdY1SK6/D7z5aZppMHHZJSIpUE6XFb3QTQOWSvQ+ym5lj//iPb/bbR/yNkOQqliwRFOiLBsn30De8+1mv2V+Uy00VZcVAM0PUiUV3wpAUugmghSQ6HqHCbMZ3rQNvrP5/6+p974k0DZewJfQMAlKDHkWe/7axaOoE068LMvmFMsZGjz9aaxVlBOJCdx9MLjLMDLAsEto6ZMepS75X3qkRLveVnewAUokepaq+aRn/+KP6NWUj+bkkAzXaRQihOQ1qKZH4o5+pEylGZ6K/tIjdZmHAqmdvNF0X3z9xTti5/5TvUl9ZqVI81bhDwRWzM21hVpr95HTTTE8IzzDxaIxJh/TkoJq7i3BMCJCDEhaDAm6ymNDJI5+ETvkU/JHjQ08npBH3dLnLzwfzvEeMmeNGsA86A1wJuWVTGMiIRD4YvAiDK9OGGs81Cy0nzgedN2+XDw9jGMMYxjAGA74EkacwC+zn03kAAAAASUVORK5CYII=",IDt=({initialTime:t=3600,mode:e="countdown"})=>{const n=ur(),{user:r,authenticated:i}=eo(),s=localStorage.getItem(r==null?void 0:r.id),o=s?JSON.parse(s):null,a=o==null?void 0:o.id,l=o==null?void 0:o.referral_code,[c,u]=x.useState(t),[h,f]=x.useState(!1),[p,m]=x.useState(!1),[g,y]=x.useState({id:"",usdl_balance:0,points_balance:0,staked_amount:0,total_portfolio_value:0,points_usd_value:0,wallet_address:""}),[w,v]=x.useState({exchange_rate:"0.00",last_updated:new Date().toISOString(),points_to_usdl_rate:"",usdl_to_points_rate:""}),[b,A]=x.useState({action:"HOLD",confidence:"MEDIUM",reason:"Loading market data...",icon:d.jsx(JP,{className:"w-3 h-3"}),color:"text-gray-400"}),E=G=>{switch(G){case"buy_points":return"Bought Points";case"sell_points":return"Sold Points";case"deposit":return"Deposited";case"withdraw":return"Withdrawn";case"stake":return"Staked";case"unstake":return"Unstaked";case"completed":return"Completed";case"referral_reward":return"Referral Reward";default:return G.replace("_"," ").replace(/\b\w/g,Z=>Z.toUpperCase())}},$=G=>{const Z=new Date,Q=new Date(G),ie=Math.floor((Z.getTime()-Q.getTime())/1e3);if(ie<60)return`${ie}s ago`;const de=Math.floor(ie/60);if(de<60)return`${de}m ago`;const oe=Math.floor(de/60);if(oe<24)return`${oe}h ago`;const he=Math.floor(oe/24);return he<30?`${he}d ago`:`${Math.floor(he/30)}mo ago`},N=G=>{const Z=["buy_points","referral_reward","unstake","withdraw","completed"],Q=["sell_points","stake","deposit"];return Z.includes(G)?"+":Q.includes(G)?"-":""};x.useEffect(()=>{const G=setInterval(()=>{u(Z=>e==="countdown"?Math.max(Z-1,0):Z+1)},1e3);return()=>clearInterval(G)},[e]);const R=G=>{const Z=String(Math.floor(G/3600)).padStart(2,"0"),Q=String(Math.floor(G%3600/60)).padStart(2,"0"),ie=String(G%60).padStart(2,"0");return`${Z}:${Q}:${ie}`},M=async()=>{var G;if(!a||!(r!=null&&r.id)){console.warn("User ID or Privy ID not found");return}f(!0);try{const Z=await Vt.post("/api/get_referal_code",{id:a,privy_id:r.id});if(Z.data&&Z.data.success!==!1){const Q=Z.data;y({id:Q.id||a,usdl_balance:parseFloat(Q.usdl_balance)||0,points_balance:parseFloat(Q.points_balance)||0,staked_amount:parseFloat(Q.staked_amount)||0,total_portfolio_value:parseFloat(Q.total_portfolio_value)||0,points_usd_value:parseFloat(Q.points_usd_value)||0,wallet_address:Q.wallet_address||o.wallet_address});const ie={...o,usdl_balance:Q.usdl_balance,points_balance:Q.points_balance,staked_amount:Q.staked_amount,total_portfolio_value:Q.total_portfolio_value,points_usd_value:Q.points_usd_value};localStorage.setItem(r.id,JSON.stringify(ie))}else throw new Error(((G=Z.data)==null?void 0:G.error)||"Failed to fetch balance data")}catch(Z){console.error(" Error fetching balance:",Z),a_({title:"Balance Error",description:"Could not fetch balance data. Please try again.",variant:"destructive"})}finally{f(!1)}},F=async()=>{m(!0);try{const G=await Vt.get("/api/points/price");if(G.data&&G.data.data){const Z={exchange_rate:G.data.data.exchange_rate||"0",last_updated:G.data.data.last_updated||new Date().toISOString(),points_to_usdl_rate:G.data.data.points_to_usdl_rate||"",usdl_to_points_rate:G.data.data.usdl_to_points_rate||""},Q=parseFloat(G.data.data.exchange_rate),ie=(1/Q).toFixed(2),de={...o,buyPrice:Q,sellPrice:ie};localStorage.setItem(r.id,JSON.stringify(de)),v(Z),W(Z)}else throw new Error("Invalid price data response")}catch(G){console.error(" Error fetching point price:",G),a_({title:"Price Data Error",description:"Could not fetch current price data.",variant:"destructive"})}finally{m(!1)}},W=G=>{const Z=parseFloat(G.exchange_rate);let Q;Z>4?Q={action:"SELL",confidence:"MEDIUM",reason:"High exchange rate! Good time to convert points",icon:d.jsx(N9,{className:"w-3 h-3"}),color:"text-green-400"}:Z<3.5?Q={action:"BUY",confidence:"MEDIUM",reason:"Low exchange rate! Good opportunity to acquire points",icon:d.jsx($9,{className:"w-3 h-3"}),color:"text-green-400"}:Z>=3.5&&Z<=4?Q={action:"FARM",confidence:"HIGH",reason:"Stable rate. Great time for farming rewards",icon:d.jsx(JP,{className:"w-3 h-3"}),color:"text-yellow-400"}:Q={action:"HOLD",confidence:"MEDIUM",reason:"Exchange rate stable. Monitor for changes",icon:d.jsx(JP,{className:"w-3 h-3"}),color:"text-gray-400"},A(Q)},V=()=>{b.action==="BUY"||b.action==="SELL"?n("/trade"):(b.action==="FARM"||b.action==="STAKE")&&n("/farm")},B=async()=>{await Promise.all([M(),F(),L()])},k=G=>{const Z=parseFloat(G),Q=Z>4?"text-green-400":Z<3.5?"text-red-400":"text-yellow-400";return{rate:Z.toFixed(3),color:Q}};x.useEffect(()=>{const G=setInterval(()=>{i&&F()},12e4);return()=>clearInterval(G)},[i]);const[C,S]=x.useState([]),[T,_]=x.useState([]),[P,D]=x.useState([]),[j,I]=x.useState(!1),L=async()=>{var G,Z,Q,ie,de,oe,he;if(!a){console.warn("User ID not found - cannot fetch transaction history");return}I(!0);try{const[fe,ke]=await Promise.all([Vt.get(`/api/points/history/${a}?limit=100`),Vt.get(`/api/transactions/${a}?limit=100`)]),be=(((G=fe.data)==null?void 0:G.data)||[]).map(Ne=>({...Ne,source:"points"})),Ue=(((Z=ke.data)==null?void 0:Z.data)||[]).map(Ne=>({...Ne,source:"general"})),Me=new Set,Se=[...be,...Ue].filter(Ne=>Me.has(Ne.tx_hash)?!1:(Me.add(Ne.tx_hash),!0));Se.sort((Ne,Be)=>new Date(Be.created_at).getTime()-new Date(Ne.created_at).getTime());const xe=Se.map((Ne,Be)=>({...Ne,uniqueId:`${Ne.source}-${Ne.id}-${Be}`}));S(((Q=fe.data)==null?void 0:Q.data)||[]),_(((ie=ke.data)==null?void 0:ie.data)||[]),D(xe)}catch(we){console.error(" Error fetching transaction history:",we),Vt.isAxiosError(we)&&console.error("Error details:",{status:(de=we.response)==null?void 0:de.status,message:((he=(oe=we.response)==null?void 0:oe.data)==null?void 0:he.error)||we.message})}finally{I(!1)}};x.useEffect(()=>{i&&a&&(M(),F(),L())},[i,a]);const{rate:J,color:O}=k(w.exchange_rate);return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4 mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("h1",{className:"text-2xl font-thin text-golden-light",children:["Hello, ",d.jsx("span",{className:"font-medium",children:"User!"})]}),(o==null?void 0:o.wallet_address)&&d.jsxs("p",{className:"text-xs text-muted-foreground font-extralight mt-1",children:[o.wallet_address.slice(0,6),"...",o.wallet_address.slice(-4)]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:B,className:"p-2 rounded-full bg-golden-light/10 hover:bg-golden-light/20 transition-colors",disabled:h||p,children:d.jsx(ye.div,{animate:h||p?{rotate:360}:{},transition:{duration:1,repeat:h||p?1/0:0,ease:"linear"},children:d.jsx(bp,{className:"w-4 h-4 text-golden-light"})})}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mb-2",children:"Your Total Portfolio Value"}),d.jsx("p",{className:"text-5xl font-bold text-golden-light mb-2",children:h?d.jsx(ye.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."}):`$${g.total_portfolio_value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),d.jsxs("div",{className:"bg-[#31302F] rounded-xl p-6 mb-6 grid grid-cols-3 divide-x divide-border/[#D4B679]",children:[d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.usdl_balance.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"USDL"})]}),d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.staked_amount.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"Staked"})]}),d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.points_usd_value.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"Point Value"})]})]}),d.jsxs("div",{className:"flex justify-between items-center px-2",children:[d.jsx("p",{className:"text-sm font-thin text-muted-foreground",children:"Your Current Lighter Points"}),d.jsx("p",{className:"text-2xl font-bold text-golden-light",children:h?"...":g.points_balance.toFixed(1)})]})]}),d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4 grid grid-cols-3 gap-4 divide-x divide-border/[#D4B679]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsxs("button",{onClick:()=>n("/deposit"),className:"flex flex-col items-center gap-2 group",children:[d.jsx("img",{src:CK,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Deposit"})]}),d.jsxs("button",{className:"flex flex-col items-center gap-2 group opacity-50 cursor-not-allowed",disabled:!0,children:[d.jsx("img",{src:UAe,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Withdraw"})]}),d.jsxs("button",{onClick:()=>n("/farm"),className:"flex flex-col items-center gap-2 group",children:[d.jsx("img",{src:SDt,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Farm"})]})]}),d.jsxs(ye.div,{className:"relative rounded-2xl px-6 py-4 mb-4 overflow-hidden cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>n("/referrals"),children:[d.jsx("div",{className:"absolute inset-0 opacity-100",style:{backgroundImage:`url(${_Dt})`,backgroundSize:"cover"}}),d.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[d.jsx("div",{className:"flex justify-end",children:d.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-golden-light",children:d.jsx(wp,{className:"w-5 h-5 text-black"})})}),d.jsxs("div",{className:"flex items-end justify-between mt-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-golden-light mb-0",children:"Refer a friend"}),d.jsxs("p",{className:"text-xs font-extralight text-muted-foreground",children:["Earn ",d.jsx("span",{className:"font-bold text-golden-light",children:"10%"})," for each* referral"]})]}),d.jsxs("div",{className:`inline-flex items-end gap-1 border border-dashed \r
                      border-golden-light/60 rounded-lg px-1.5 py-1.5 bg-black/40`,children:[d.jsx("img",{src:zAe,alt:"",className:"h-4 w-4"}),d.jsx("span",{className:"text-golden-light text-xs font-bold",children:l||"..."})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Limited Bonus"}),d.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-golden-light",children:d.jsx(wp,{className:"w-4 h-4 text-black"})})]}),d.jsx("p",{className:"text-sm text-golden-light mb-1",children:"Stake"}),d.jsx("p",{className:"text-3xl font-bold text-golden-light mb-2",children:"$100+"}),d.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Get ",d.jsx("span",{className:"text-golden-light font-bold",children:"2"})," free points"]}),d.jsxs("div",{className:"flex items-center gap-1 text-golden-light",children:[d.jsx("img",{src:WAe,alt:"",className:"h-5 w-5"}),d.jsx("span",{className:"text-xs text-[#A07715] font-bold",children:R(c)})]})]}),d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Exchange rate alert!"}),p&&d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx(bp,{className:"w-3 h-3 text-golden-light"})})]}),b.action!=="HOLD"&&d.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-golden-light",children:d.jsx("button",{onClick:V,className:"flex items-center",children:d.jsx(wp,{className:"w-4 h-4 text-black"})})})]}),d.jsx("p",{className:"text-3xl font-bold text-golden-light mb-1",children:p?"...":J}),d.jsxs("div",{className:`flex items-center gap-1 mb-3 ${O}`,children:[b.icon,d.jsx("span",{className:"text-xs font-bold",children:"Exchange Rate"})]}),d.jsxs("div",{className:"mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested action:"}),d.jsx("span",{className:`text-xs font-bold ${b.color}`,children:b.action})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:b.reason})]}),d.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground mt-2 pt-2 border-t border-border/50",children:[w.points_to_usdl_rate&&d.jsx("div",{className:"text-[#A07715] font-bold",children:w.points_to_usdl_rate}),w.usdl_to_points_rate&&d.jsx("div",{className:"text-[#A07715] font-bold",children:w.usdl_to_points_rate}),d.jsx("div",{className:"text-right",children:d.jsxs("span",{children:["Updated: ",d.jsx("span",{className:"font-bold text-[#A07715]",children:new Date(w.last_updated).toLocaleTimeString()})]})})]})]})]}),d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-golden-light",children:"Recent Activity:"}),j&&d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx(bp,{className:"w-4 h-4 text-golden-light"})})]}),d.jsx("div",{className:"space-y-4",children:j?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})}):P.length===0?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})}):P.slice(0,5).map(G=>d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"font-extralight text-xs opacity-60",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm text-foreground",children:E(G.type)}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${G.source==="points"?"bg-golden-light/20 text-golden-light":"bg-blue-500/20 text-blue-400"}`,children:G.source==="points"?"Points":"Wallet"})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:$(G.created_at)}),G.tx_hash&&d.jsxs("p",{className:"text-xs font-bold text-muted-foreground/50 mt-1",children:["Tx: ",G.tx_hash.slice(0,6),"...",G.tx_hash.slice(-4)]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:`font-bold ${N(G.type)==="+"?"text-green-400":"text-[#A07715]"}`,children:[N(G.type)," $",G.amount.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:G.status==="success"||G.status==="completed"?"":""})]})]},G.uniqueId||`${G.source}-${G.id}`))}),P.length>5&&d.jsx("button",{onClick:()=>n("/history"),className:"w-full mt-4 text-center text-sm text-golden-light hover:text-golden-light/80 transition-colors",children:"View all transactions "})]}),d.jsx(Rd,{})]})},dM="/assets/money-bag-Dg9XkaHW.png",TDt="/assets/watermark-FCbzTWCD.png",$Dt="6.15.0";function NDt(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Vo(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Lt(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&NDt(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function $v(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>$v(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return $v(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${$v(r,e)}: ${$v(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function zs(t,e){return t&&t.code===e}function kK(t){return zs(t,"CALL_EXCEPTION")}function Zr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${$v(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+$v(a))}}s.push(`code=${e}`),s.push(`version=${$Dt}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Lt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Lt(i,{shortMessage:r}),i}function We(t,e,n,r){if(!t)throw Zr(e,n,r)}function ge(t,e,n,r){We(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function HAe(t,e,n){n==null&&(n=""),n&&(n=": "+n),We(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),We(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function vC(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),We(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function VAe(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}ge(!1,"invalid BytesLike value",e||"value",t)}function vn(t,e){return VAe(t,e,!1)}function ea(t,e){return VAe(t,e,!0)}function _r(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function SK(t){return _r(t,!0)||t instanceof Uint8Array}const Gae="0123456789abcdef";function pt(t){const e=vn(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Gae[(i&240)>>4]+Gae[i&15]}return n}function yi(t){return"0x"+t.map(e=>pt(e).substring(2)).join("")}function u2(t){return _r(t,!0)?(t.length-2)/2:vn(t).length}function hi(t,e,n){const r=vn(t);return n!=null&&n>r.length&&We(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),pt(r.slice(e??0,n??r.length))}function qAe(t,e,n){const r=vn(t);We(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),pt(i)}function e0(t,e){return qAe(t,e,!0)}function PDt(t,e){return qAe(t,e,!1)}const VN=BigInt(0),td=BigInt(1),Nv=9007199254740991;function nI(t,e){const n=qN(t,"value"),r=BigInt(wn(e,"width"));if(We(n>>r===VN,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-td){const i=(td<<r)-td;return-((~n&i)+td)}return n}function GAe(t,e){let n=Et(t,"value");const r=BigInt(wn(e,"width")),i=td<<r-td;if(n<VN){n=-n,We(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(td<<r)-td;return(~n&s)+td}else We(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Uy(t,e){const n=qN(t,"value"),r=BigInt(wn(e,"bits"));return n&(td<<r)-td}function Et(t,e){switch(typeof t){case"bigint":return t;case"number":return ge(Number.isInteger(t),"underflow",e||"value",t),ge(t>=-Nv&&t<=Nv,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ge(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ge(!1,"invalid BigNumberish value",e||"value",t)}function qN(t,e){const n=Et(t,e);return We(n>=VN,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Kae="0123456789abcdef";function GN(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Kae[n>>4],e+=Kae[n&15];return BigInt(e)}return Et(t)}function wn(t,e){switch(typeof t){case"bigint":return ge(t>=-Nv&&t<=Nv,"overflow",e||"value",t),Number(t);case"number":return ge(Number.isInteger(t),"underflow",e||"value",t),ge(t>=-Nv&&t<=Nv,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return wn(BigInt(t),e)}catch(n){ge(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ge(!1,"invalid numeric value",e||"value",t)}function RDt(t){return wn(GN(t))}function Eg(t,e){let r=qN(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=wn(e,"width");for(We(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function is(t){const e=qN(t,"value");if(e===VN)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Ju(t){let e=pt(SK(t)?t:is(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Yae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Qae=BigInt(58);function jDt(t){const e=vn(t);let n=GN(e),r="";for(;n;)r=Yae[Number(n%Qae)]+r,n/=Qae;for(let i=0;i<e.length&&!e[i];i++)r=Yae[0]+r;return r}function ODt(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return vn(e)}function MDt(t){const e=vn(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var S2;class KAe{constructor(e,n,r){Ee(this,"filter");Ee(this,"emitter");ve(this,S2);te(this,S2,n),Lt(this,{emitter:e,filter:r})}async removeListener(){H(this,S2)!=null&&await this.emitter.off(this.filter,H(this,S2))}}S2=new WeakMap;function DDt(t,e,n,r,i){ge(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function YAe(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function BDt(t,e,n,r,i){return t==="OVERLONG"?(ge(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),YAe(t,e,n))}const LDt=Object.freeze({error:DDt,ignore:YAe,replace:BDt});function FDt(t,e){e==null&&(e=LDt.error);const n=vn(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-o,n,r,l);continue}r.push(l)}}return r}function Tp(t,e){ge(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);ge(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function UDt(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function rI(t,e){return UDt(FDt(t,e))}function QAe(t){async function e(n,r){We(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();We(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),We(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Zr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Zr("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(p){throw clearTimeout(a),s||p}clearTimeout(a);const u={};c.headers.forEach((p,m)=>{u[m.toLowerCase()]=p});const h=await c.arrayBuffer(),f=h==null?null:new Uint8Array(h);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const zDt=12,WDt=250;let Zae=QAe();const HDt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),VDt=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let hM=!1;async function ZAe(t,e){try{const n=t.match(HDt);if(!n)throw new Error("invalid data");return new og(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?ODt(n[3]):GDt(n[3]))}catch{return new og(599,"BAD REQUEST (invalid data: URI)",{},null,new t0(t))}}function JAe(t){async function e(n,r){try{const i=n.match(VDt);if(!i)throw new Error("invalid link");return new t0(`${t}${i[2]}`)}catch{return new og(599,"BAD REQUEST (invalid IPFS URI)",{},null,new t0(n))}}return e}const t9={data:ZAe,ipfs:JAe("https://gateway.ipfs.io/ipfs/")},XAe=new WeakMap;var Zy,bm;class qDt{constructor(e){ve(this,Zy);ve(this,bm);te(this,Zy,[]),te(this,bm,!1),XAe.set(e,()=>{if(!H(this,bm)){te(this,bm,!0);for(const n of H(this,Zy))setTimeout(()=>{n()},0);te(this,Zy,[])}})}addListener(e){We(!H(this,bm),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),H(this,Zy).push(e)}get cancelled(){return H(this,bm)}checkSignal(){We(!this.cancelled,"cancelled","CANCELLED",{})}}Zy=new WeakMap,bm=new WeakMap;function n9(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var _2,I2,zu,Zf,T2,$2,fs,Cl,Jf,Jy,Xy,e1,ch,Wu,vm,t1,M6;const $I=class $I{constructor(e){ve(this,t1);ve(this,_2);ve(this,I2);ve(this,zu);ve(this,Zf);ve(this,T2);ve(this,$2);ve(this,fs);ve(this,Cl);ve(this,Jf);ve(this,Jy);ve(this,Xy);ve(this,e1);ve(this,ch);ve(this,Wu);ve(this,vm);te(this,$2,String(e)),te(this,_2,!1),te(this,I2,!0),te(this,zu,{}),te(this,Zf,""),te(this,T2,3e5),te(this,Wu,{slotInterval:WDt,maxAttempts:zDt}),te(this,vm,null)}get url(){return H(this,$2)}set url(e){te(this,$2,String(e))}get body(){return H(this,fs)==null?null:new Uint8Array(H(this,fs))}set body(e){if(e==null)te(this,fs,void 0),te(this,Cl,void 0);else if(typeof e=="string")te(this,fs,Tp(e)),te(this,Cl,"text/plain");else if(e instanceof Uint8Array)te(this,fs,e),te(this,Cl,"application/octet-stream");else if(typeof e=="object")te(this,fs,Tp(JSON.stringify(e))),te(this,Cl,"application/json");else throw new Error("invalid body")}hasBody(){return H(this,fs)!=null}get method(){return H(this,Zf)?H(this,Zf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),te(this,Zf,String(e).toUpperCase())}get headers(){const e=Object.assign({},H(this,zu));return H(this,Jf)&&(e.authorization=`Basic ${MDt(Tp(H(this,Jf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&H(this,Cl)&&(e["content-type"]=H(this,Cl)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){H(this,zu)[String(e).toLowerCase()]=String(n)}clearHeaders(){te(this,zu,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return H(this,Jf)||null}setCredentials(e,n){ge(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),te(this,Jf,`${e}:${n}`)}get allowGzip(){return H(this,I2)}set allowGzip(e){te(this,I2,!!e)}get allowInsecureAuthentication(){return!!H(this,_2)}set allowInsecureAuthentication(e){te(this,_2,!!e)}get timeout(){return H(this,T2)}set timeout(e){ge(e>=0,"timeout must be non-zero","timeout",e),te(this,T2,e)}get preflightFunc(){return H(this,Jy)||null}set preflightFunc(e){te(this,Jy,e)}get processFunc(){return H(this,Xy)||null}set processFunc(e){te(this,Xy,e)}get retryFunc(){return H(this,e1)||null}set retryFunc(e){te(this,e1,e)}get getUrlFunc(){return H(this,vm)||Zae}set getUrlFunc(e){te(this,vm,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${H(this,fs)?pt(H(this,fs)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(H(this,Wu).slotInterval=e.slotInterval),e.maxAttempts!=null&&(H(this,Wu).maxAttempts=e.maxAttempts)}send(){return We(H(this,ch)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),te(this,ch,new qDt(this)),Fe(this,t1,M6).call(this,0,Jae()+this.timeout,0,this,new og(0,"",{},null,this))}cancel(){We(H(this,ch)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=XAe.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();We(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new $I(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,te(i,zu,Object.assign({},H(this,zu))),H(this,fs)&&te(i,fs,new Uint8Array(H(this,fs))),te(i,Cl,H(this,Cl)),i}clone(){const e=new $I(this.url);return te(e,Zf,H(this,Zf)),H(this,fs)&&te(e,fs,H(this,fs)),te(e,Cl,H(this,Cl)),te(e,zu,Object.assign({},H(this,zu))),te(e,Jf,H(this,Jf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),te(e,Jy,H(this,Jy)),te(e,Xy,H(this,Xy)),te(e,e1,H(this,e1)),te(e,Wu,Object.assign({},H(this,Wu))),te(e,vm,H(this,vm)),e}static lockConfig(){hM=!0}static getGateway(e){return t9[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(hM)throw new Error("gateways locked");t9[e]=n}static registerGetUrl(e){if(hM)throw new Error("gateways locked");Zae=e}static createGetUrlFunc(e){return QAe(e)}static createDataGateway(){return ZAe}static createIpfsGatewayFunc(e){return JAe(e)}};_2=new WeakMap,I2=new WeakMap,zu=new WeakMap,Zf=new WeakMap,T2=new WeakMap,$2=new WeakMap,fs=new WeakMap,Cl=new WeakMap,Jf=new WeakMap,Jy=new WeakMap,Xy=new WeakMap,e1=new WeakMap,ch=new WeakMap,Wu=new WeakMap,vm=new WeakMap,t1=new WeakSet,M6=async function(e,n,r,i,s){var u,h,f;if(e>=H(this,Wu).maxAttempts)return s.makeServerError("exceeded maximum retry limit");We(Jae()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await KDt(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in t9){const p=await t9[a](o.url,n9(H(i,ch)));if(p instanceof og){let m=p;if(this.processFunc){n9(H(i,ch));try{m=await this.processFunc(o,m)}catch(g){(g.throttle==null||typeof g.stall!="number")&&m.makeServerError("error in post-processing function",g).assertOk()}}return m}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,n9(H(i,ch)));let c=new og(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return Fe(u=o.redirect(p),t1,M6).call(u,e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const p=c.headers["retry-after"];let m=H(this,Wu).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(m=parseInt(p)),Fe(h=o.clone(),t1,M6).call(h,e+1,n,m,i,c)}if(this.processFunc){n9(H(i,ch));try{c=await this.processFunc(o,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let m=H(this,Wu).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(m=p.stall),Fe(f=o.clone(),t1,M6).call(f,e+1,n,m,i,c)}}return c};let t0=$I;var Z8,J8,X8,kl,N2,n1;const vY=class vY{constructor(e,n,r,i,s){ve(this,Z8);ve(this,J8);ve(this,X8);ve(this,kl);ve(this,N2);ve(this,n1);te(this,Z8,e),te(this,J8,n),te(this,X8,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),te(this,kl,i==null?null:new Uint8Array(i)),te(this,N2,s||null),te(this,n1,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${H(this,kl)?pt(H(this,kl)):"null"}>`}get statusCode(){return H(this,Z8)}get statusMessage(){return H(this,J8)}get headers(){return Object.assign({},H(this,X8))}get body(){return H(this,kl)==null?null:new Uint8Array(H(this,kl))}get bodyText(){try{return H(this,kl)==null?"":rI(H(this,kl))}catch{We(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{We(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new vY(599,r,this.headers,this.body,H(this,N2)||void 0);return te(i,n1,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:ge(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Lt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return H(this,kl)!=null}get request(){return H(this,N2)}ok(){return H(this,n1).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=H(this,n1);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{H(this,kl)&&(i=rI(H(this,kl)))}catch{}We(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Z8=new WeakMap,J8=new WeakMap,X8=new WeakMap,kl=new WeakMap,N2=new WeakMap,n1=new WeakMap;let og=vY;function Jae(){return new Date().getTime()}function GDt(t){return Tp(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function KDt(t){return new Promise(e=>setTimeout(e,t))}const YDt=BigInt(-1),Ru=BigInt(0),Pv=BigInt(1),QDt=BigInt(5),Db={};let d2="0000";for(;d2.length<80;)d2+=d2;function Zg(t){let e=d2;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function c6(t,e,n){const r=BigInt(e.width);if(e.signed){const i=Pv<<r-Pv;We(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Ru?t=nI(Uy(t,r),r):t=-nI(Uy(-t,r),r)}else{const i=Pv<<r;We(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-Pv}return t}function fM(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ge(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,l,c)=>s[a]==null?c:(ge(typeof s[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}ge(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ge(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function ZDt(t,e){let n="";t<Ru&&(n="-",t*=YDt);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=d2+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Hu,dr,zo,rr,ay,jf,tz,nz,rz,iz;const im=class im{constructor(e,n,r){ve(this,rr);Ee(this,"format");ve(this,Hu);ve(this,dr);ve(this,zo);Ee(this,"_value");vC(e,Db,"FixedNumber"),te(this,dr,n),te(this,Hu,r);const i=ZDt(n,r.decimals);Lt(this,{format:r.name,_value:i}),te(this,zo,Zg(r.decimals))}get signed(){return H(this,Hu).signed}get width(){return H(this,Hu).width}get decimals(){return H(this,Hu).decimals}get value(){return H(this,dr)}addUnsafe(e){return Fe(this,rr,tz).call(this,e)}add(e){return Fe(this,rr,tz).call(this,e,"add")}subUnsafe(e){return Fe(this,rr,nz).call(this,e)}sub(e){return Fe(this,rr,nz).call(this,e,"sub")}mulUnsafe(e){return Fe(this,rr,rz).call(this,e)}mul(e){return Fe(this,rr,rz).call(this,e,"mul")}mulSignal(e){Fe(this,rr,ay).call(this,e);const n=H(this,dr)*H(e,dr);return We(n%H(this,zo)===Ru,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Fe(this,rr,jf).call(this,n/H(this,zo),"mulSignal")}divUnsafe(e){return Fe(this,rr,iz).call(this,e)}div(e){return Fe(this,rr,iz).call(this,e,"div")}divSignal(e){We(H(e,dr)!==Ru,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Fe(this,rr,ay).call(this,e);const n=H(this,dr)*H(this,zo);return We(n%H(e,dr)===Ru,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Fe(this,rr,jf).call(this,n/H(e,dr),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Zg(i):i<0&&(n*=Zg(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=H(this,dr);return H(this,dr)<Ru&&(e-=H(this,zo)-Pv),e=H(this,dr)/H(this,zo)*H(this,zo),Fe(this,rr,jf).call(this,e,"floor")}ceiling(){let e=H(this,dr);return H(this,dr)>Ru&&(e+=H(this,zo)-Pv),e=H(this,dr)/H(this,zo)*H(this,zo),Fe(this,rr,jf).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=QDt*Zg(n-1);let i=this.value+r;const s=Zg(n);return i=i/s*s,c6(i,H(this,Hu),"round"),new im(Db,i,H(this,Hu))}isZero(){return H(this,dr)===Ru}isNegative(){return H(this,dr)<Ru}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return im.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:wn(n),s=fM(r);let o=Et(e,"value");const a=i-s.decimals;if(a>0){const l=Zg(a);We(o%l===Ru,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=Zg(-a));return c6(o,s,"fromValue"),new im(Db,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ge(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=fM(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=d2;We(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return c6(a,i,"fromString"),new im(Db,a,i)}static fromBytes(e,n){let r=GN(vn(e,"value"));const i=fM(n);return i.signed&&(r=nI(r,i.width)),c6(r,i,"fromBytes"),new im(Db,r,i)}};Hu=new WeakMap,dr=new WeakMap,zo=new WeakMap,rr=new WeakSet,ay=function(e){ge(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},jf=function(e,n){return e=c6(e,H(this,Hu),n),new im(Db,e,H(this,Hu))},tz=function(e,n){return Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)+H(e,dr),n)},nz=function(e,n){return Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)-H(e,dr),n)},rz=function(e,n){return Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)*H(e,dr)/H(this,zo),n)},iz=function(e,n){return We(H(e,dr)!==Ru,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Fe(this,rr,ay).call(this,e),Fe(this,rr,jf).call(this,H(this,dr)*H(this,zo)/H(e,dr),n)};let ez=im;function JDt(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Xae(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function ele(t,e,n,r){const i=[];for(;n<e+1+r;){const s=eCe(t,n);i.push(s.result),n+=s.consumed,We(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function eCe(t,e){We(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{We(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=Xae(t,e+1,r);return n(e+1+r+i),ele(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),ele(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=Xae(t,e+1,r);n(e+1+r+i);const s=pt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=pt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:JDt(t[e])}}function xC(t){const e=vn(t,"data"),n=eCe(e,0);return ge(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function tle(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function tCe(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(tCe(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=tle(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(vn(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=tle(e.length);return n.unshift(183+n.length),n.concat(e)}const nle="0123456789abcdef";function Ag(t){let e="0x";for(const n of tCe(t))e+=nle[n>>4],e+=nle[n&15];return e}function XDt(t,e){let n=18;return n=wn(e,"unit"),ez.fromValue(t,n,{decimals:n,width:512}).toString()}const ia=32,sz=new Uint8Array(ia),eBt=["then"],r9={},nCe=new WeakMap;function yy(t){return nCe.get(t)}function rle(t,e){nCe.set(t,e)}function u6(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function oz(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof r3?oz(yy(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof r3&&(o=oz(yy(o),o,n)),r[i]=o),r},{})}var P2;const Ov=class Ov extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==r9&&(i=n,s=[],o=!1);super(i.length);ve(this,P2);i.forEach((c,u)=>{this[u]=c});const a=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(rle(this,Object.freeze(i.map((c,u)=>{const h=s[u];return h!=null&&a.get(h)===1?h:null}))),te(this,P2,[]),H(this,P2)==null&&H(this,P2),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,h)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=wn(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const m=c[p];return m instanceof Error&&u6(`index ${p}`,m),m}if(eBt.indexOf(u)>=0)return Reflect.get(c,u,h);const f=c[u];if(f instanceof Function)return function(...p){return f.apply(this===h?c:this,p)};if(!(u in c))return c.getValue.apply(this===h?c:this,[u])}return Reflect.get(c,u,h)}});return rle(l,yy(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&u6(`index ${s}`,i),n&&i instanceof Ov&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=yy(this);return r.reduce((i,s,o)=>(We(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),oz(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=yy(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new Ov(r9,s,o)}filter(n,r){const i=yy(this),s=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&u6(`index ${a}`,l),n.call(r,l,a,this)&&(s.push(l),o.push(i[a]))}return new Ov(r9,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&u6(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=yy(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&u6(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new Ov(r9,n,r)}};P2=new WeakMap;let r3=Ov;function ile(t){let e=is(t);return We(e.length<=ia,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ia,offset:e.length}),e.length!==ia&&(e=ea(yi([sz.slice(e.length%ia),e]))),e}class l0{constructor(e,n,r,i){Ee(this,"name");Ee(this,"type");Ee(this,"localName");Ee(this,"dynamic");Lt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ge(!1,e,this.localName,n)}}var Xf,r1,R2,CS;class az{constructor(){ve(this,R2);ve(this,Xf);ve(this,r1);te(this,Xf,[]),te(this,r1,0)}get data(){return yi(H(this,Xf))}get length(){return H(this,r1)}appendWriter(e){return Fe(this,R2,CS).call(this,ea(e.data))}writeBytes(e){let n=ea(e);const r=n.length%ia;return r&&(n=ea(yi([n,sz.slice(r)]))),Fe(this,R2,CS).call(this,n)}writeValue(e){return Fe(this,R2,CS).call(this,ile(e))}writeUpdatableValue(){const e=H(this,Xf).length;return H(this,Xf).push(sz),te(this,r1,H(this,r1)+ia),n=>{H(this,Xf)[e]=ile(n)}}}Xf=new WeakMap,r1=new WeakMap,R2=new WeakSet,CS=function(e){return H(this,Xf).push(e),te(this,r1,H(this,r1)+e.length),e.length};var Ta,Sl,i1,s1,xm,vw,cz,rCe;const xY=class xY{constructor(e,n,r){ve(this,vw);Ee(this,"allowLoose");ve(this,Ta);ve(this,Sl);ve(this,i1);ve(this,s1);ve(this,xm);Lt(this,{allowLoose:!!n}),te(this,Ta,ea(e)),te(this,i1,0),te(this,s1,null),te(this,xm,r??1024),te(this,Sl,0)}get data(){return pt(H(this,Ta))}get dataLength(){return H(this,Ta).length}get consumed(){return H(this,Sl)}get bytes(){return new Uint8Array(H(this,Ta))}subReader(e){const n=new xY(H(this,Ta).slice(H(this,Sl)+e),this.allowLoose,H(this,xm));return te(n,s1,this),n}readBytes(e,n){let r=Fe(this,vw,rCe).call(this,0,e,!!n);return Fe(this,vw,cz).call(this,e),te(this,Sl,H(this,Sl)+r.length),r.slice(0,e)}readValue(){return GN(this.readBytes(ia))}readIndex(){return RDt(this.readBytes(ia))}};Ta=new WeakMap,Sl=new WeakMap,i1=new WeakMap,s1=new WeakMap,xm=new WeakMap,vw=new WeakSet,cz=function(e){var n;if(H(this,s1))return Fe(n=H(this,s1),vw,cz).call(n,e);te(this,i1,H(this,i1)+e),We(H(this,xm)<1||H(this,i1)<=H(this,xm)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${H(this,xm)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ea(H(this,Ta)),offset:H(this,Sl),length:e,info:{bytesRead:H(this,i1),dataLength:this.dataLength}})},rCe=function(e,n,r){let i=Math.ceil(n/ia)*ia;return H(this,Sl)+i>H(this,Ta).length&&(this.allowLoose&&r&&H(this,Sl)+n<=H(this,Ta).length?i=n:We(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ea(H(this,Ta)),length:H(this,Ta).length,offset:H(this,Sl)+i})),H(this,Ta).slice(H(this,Sl),H(this,Sl)+i)};let lz=xY;function iI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function _K(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function tBt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");iI(t.outputLen),iI(t.blockLen)}function i3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function iCe(t,e){_K(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const pM=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sCe=t=>t instanceof Uint8Array,nBt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),mM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Kd=(t,e)=>t<<32-e|t>>>e,rBt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rBt)throw new Error("Non little-endian hardware is not supported");function iBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function KN(t){if(typeof t=="string"&&(t=iBt(t)),!sCe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function sBt(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!sCe(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let IK=class{clone(){return this._cloneInto()}};function TK(t){const e=r=>t().update(KN(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function oBt(t=32){if(pM&&typeof pM.getRandomValues=="function")return pM.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let oCe=class extends IK{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,tBt(e);const r=KN(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return i3(this),this.iHash.update(e),this}digestInto(e){i3(this),_K(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const aCe=(t,e,n)=>new oCe(t,e).update(n).digest();aCe.create=(t,e)=>new oCe(t,e);function aBt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class lCe extends IK{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mM(this.buffer)}update(e){i3(this);const{view:n,buffer:r,blockLen:i}=this;e=KN(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=mM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){i3(this),iCe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;aBt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=mM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const lBt=(t,e,n)=>t&e^~t&n,cBt=(t,e,n)=>t&e^t&n^e&n,uBt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),j0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),O0=new Uint32Array(64);let dBt=class extends lCe{constructor(){super(64,32,8,!1),this.A=j0[0]|0,this.B=j0[1]|0,this.C=j0[2]|0,this.D=j0[3]|0,this.E=j0[4]|0,this.F=j0[5]|0,this.G=j0[6]|0,this.H=j0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)O0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=O0[h-15],p=O0[h-2],m=Kd(f,7)^Kd(f,18)^f>>>3,g=Kd(p,17)^Kd(p,19)^p>>>10;O0[h]=g+O0[h-7]+m+O0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Kd(a,6)^Kd(a,11)^Kd(a,25),p=u+f+lBt(a,l,c)+uBt[h]+O0[h]|0,g=(Kd(r,2)^Kd(r,13)^Kd(r,22))+cBt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){O0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const cCe=TK(()=>new dBt),i9=BigInt(2**32-1),uz=BigInt(32);function uCe(t,e=!1){return e?{h:Number(t&i9),l:Number(t>>uz&i9)}:{h:Number(t>>uz&i9)|0,l:Number(t&i9)|0}}function dCe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=uCe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const hBt=(t,e)=>BigInt(t>>>0)<<uz|BigInt(e>>>0),fBt=(t,e,n)=>t>>>n,pBt=(t,e,n)=>t<<32-n|e>>>n,mBt=(t,e,n)=>t>>>n|e<<32-n,gBt=(t,e,n)=>t<<32-n|e>>>n,yBt=(t,e,n)=>t<<64-n|e>>>n-32,wBt=(t,e,n)=>t>>>n-32|e<<64-n,bBt=(t,e)=>e,vBt=(t,e)=>t,hCe=(t,e,n)=>t<<n|e>>>32-n,fCe=(t,e,n)=>e<<n|t>>>32-n,pCe=(t,e,n)=>e<<n-32|t>>>64-n,mCe=(t,e,n)=>t<<n-32|e>>>64-n;function xBt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const EBt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ABt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,CBt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),kBt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,SBt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),_Bt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,pn={fromBig:uCe,split:dCe,toBig:hBt,shrSH:fBt,shrSL:pBt,rotrSH:mBt,rotrSL:gBt,rotrBH:yBt,rotrBL:wBt,rotr32H:bBt,rotr32L:vBt,rotlSH:hCe,rotlSL:fCe,rotlBH:pCe,rotlBL:mCe,add:xBt,add3L:EBt,add3H:ABt,add4L:CBt,add4H:kBt,add5H:_Bt,add5L:SBt},[IBt,TBt]=pn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),M0=new Uint32Array(80),D0=new Uint32Array(80);let $Bt=class extends lCe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)M0[b]=e.getUint32(n),D0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=M0[b-15]|0,E=D0[b-15]|0,$=pn.rotrSH(A,E,1)^pn.rotrSH(A,E,8)^pn.shrSH(A,E,7),N=pn.rotrSL(A,E,1)^pn.rotrSL(A,E,8)^pn.shrSL(A,E,7),R=M0[b-2]|0,M=D0[b-2]|0,F=pn.rotrSH(R,M,19)^pn.rotrBH(R,M,61)^pn.shrSH(R,M,6),W=pn.rotrSL(R,M,19)^pn.rotrBL(R,M,61)^pn.shrSL(R,M,6),V=pn.add4L(N,W,D0[b-7],D0[b-16]),B=pn.add4H(V,$,F,M0[b-7],M0[b-16]);M0[b]=B|0,D0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=pn.rotrSH(h,f,14)^pn.rotrSH(h,f,18)^pn.rotrBH(h,f,41),E=pn.rotrSL(h,f,14)^pn.rotrSL(h,f,18)^pn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=pn.add5L(v,E,N,TBt[b],D0[b]),M=pn.add5H(R,w,A,$,IBt[b],M0[b]),F=R|0,W=pn.rotrSH(r,i,28)^pn.rotrBH(r,i,34)^pn.rotrBH(r,i,39),V=pn.rotrSL(r,i,28)^pn.rotrBL(r,i,34)^pn.rotrBL(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=pn.add(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=pn.add3L(F,V,k);r=pn.add3H(C,M,W,B),i=C|0}({h:r,l:i}=pn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=pn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=pn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=pn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=pn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=pn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=pn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=pn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){M0.fill(0),D0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const NBt=TK(()=>new $Bt);function PBt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const sle=PBt();sle.crypto||sle.msCrypto;function RBt(t){switch(t){case"sha256":return cCe.create();case"sha512":return NBt.create()}ge(!1,"invalid hashing algorithm name","algorithm",t)}const[gCe,yCe,wCe]=[[],[],[]],jBt=BigInt(0),d6=BigInt(1),OBt=BigInt(2),MBt=BigInt(7),DBt=BigInt(256),BBt=BigInt(113);for(let t=0,e=d6,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],gCe.push(2*(5*r+n)),yCe.push((t+1)*(t+2)/2%64);let i=jBt;for(let s=0;s<7;s++)e=(e<<d6^(e>>MBt)*BBt)%DBt,e&OBt&&(i^=d6<<(d6<<BigInt(s))-d6);wCe.push(i)}const[LBt,FBt]=dCe(wCe,!0),ole=(t,e,n)=>n>32?pCe(t,e,n):hCe(t,e,n),ale=(t,e,n)=>n>32?mCe(t,e,n):fCe(t,e,n);function UBt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=ole(c,u,1)^n[a],f=ale(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=yCe[o],l=ole(i,s,a),c=ale(i,s,a),u=gCe[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=LBt[r],t[1]^=FBt[r]}n.fill(0)}class $K extends IK{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,iI(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nBt(this.state)}keccak(){UBt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){i3(this);const{blockLen:n,state:r}=this;e=KN(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){i3(this,!1),_K(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return iI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(iCe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new $K(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const zBt=(t,e,n)=>TK(()=>new $K(e,t,n)),WBt=zBt(1,136,256/8);let bCe=!1;const vCe=function(t){return WBt(t)};let xCe=vCe;function Gi(t){const e=vn(t,"data");return pt(xCe(e))}Gi._=vCe;Gi.lock=function(){bCe=!0};Gi.register=function(t){if(bCe)throw new TypeError("keccak256 is locked");xCe=t};Object.freeze(Gi);const ECe=function(t){return RBt("sha256").update(t).digest()};let ACe=ECe,CCe=!1;function s5(t){const e=vn(t,"data");return pt(ACe(e))}s5._=ECe;s5.lock=function(){CCe=!0};s5.register=function(t){if(CCe)throw new Error("sha256 is locked");ACe=t};Object.freeze(s5);Object.freeze(s5);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kCe=BigInt(0),YN=BigInt(1),HBt=BigInt(2),QN=t=>t instanceof Uint8Array,VBt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function s3(t){if(!QN(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=VBt[t[n]];return e}function SCe(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function NK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function o3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function P1(t){return NK(s3(t))}function PK(t){if(!QN(t))throw new Error("Uint8Array expected");return NK(s3(Uint8Array.from(t).reverse()))}function a3(t,e){return o3(t.toString(16).padStart(e*2,"0"))}function RK(t,e){return a3(t,e).reverse()}function qBt(t){return o3(SCe(t))}function Lu(t,e,n){let r;if(typeof e=="string")try{r=o3(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(QN(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function E8(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!QN(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function GBt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function KBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function YBt(t){let e;for(e=0;t>kCe;t>>=YN,e+=1);return e}function QBt(t,e){return t>>BigInt(e)&YN}const ZBt=(t,e,n)=>t|(n?YN:kCe)<<BigInt(e),jK=t=>(HBt<<BigInt(t-1))-YN,gM=t=>new Uint8Array(t),lle=t=>Uint8Array.from(t);function _Ce(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gM(t),i=gM(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=gM())=>{i=a(lle([0]),h),r=a(),h.length!==0&&(i=a(lle([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return E8(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const JBt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function EC(t,e,n={}){const r=(i,s,o)=>{const a=JBt[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const XBt=Object.freeze(Object.defineProperty({__proto__:null,bitGet:QBt,bitLen:YBt,bitMask:jK,bitSet:ZBt,bytesToHex:s3,bytesToNumberBE:P1,bytesToNumberLE:PK,concatBytes:E8,createHmacDrbg:_Ce,ensureBytes:Lu,equalBytes:GBt,hexToBytes:o3,hexToNumber:NK,numberToBytesBE:a3,numberToBytesLE:RK,numberToHexUnpadded:SCe,numberToVarBytesBE:qBt,utf8ToBytes:KBt,validateObject:EC},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Es=BigInt(0),ji=BigInt(1),wy=BigInt(2),eLt=BigInt(3),dz=BigInt(4),cle=BigInt(5),ule=BigInt(8);BigInt(9);BigInt(16);function Ma(t,e){const n=t%e;return n>=Es?n:e+n}function tLt(t,e,n){if(n<=Es||e<Es)throw new Error("Expected power/modulo > 0");if(n===ji)return Es;let r=ji;for(;e>Es;)e&ji&&(r=r*t%n),t=t*t%n,e>>=ji;return r}function xc(t,e,n){let r=t;for(;e-- >Es;)r*=r,r%=n;return r}function hz(t,e){if(t===Es||e<=Es)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ma(t,e),r=e,i=Es,s=ji;for(;n!==Es;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==ji)throw new Error("invert: does not exist");return Ma(i,e)}function nLt(t){const e=(t-ji)/wy;let n,r,i;for(n=t-ji,r=0;n%wy===Es;n/=wy,r++);for(i=wy;i<t&&tLt(i,e,t)!==t-ji;i++);if(r===1){const o=(t+ji)/dz;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ji)/wy;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(u,ji<<BigInt(c-p-1));u=a.sqr(m),h=a.mul(h,m),f=a.mul(f,u),c=p}return h}}function rLt(t){if(t%dz===eLt){const e=(t+ji)/dz;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%ule===cle){const e=(t-cle)/ule;return function(r,i){const s=r.mul(i,wy),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,wy),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return nLt(t)}const iLt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sLt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=iLt.reduce((r,i)=>(r[i]="function",r),e);return EC(t,n)}function oLt(t,e,n){if(n<Es)throw new Error("Expected power > 0");if(n===Es)return t.ONE;if(n===ji)return e;let r=t.ONE,i=e;for(;n>Es;)n&ji&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ji;return r}function aLt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function ICe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lLt(t,e,n=!1,r={}){if(t<=Es)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=ICe(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=rLt(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:jK(i),ZERO:Es,ONE:ji,create:l=>Ma(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Es<=l&&l<t},is0:l=>l===Es,isOdd:l=>(l&ji)===ji,neg:l=>Ma(-l,t),eql:(l,c)=>l===c,sqr:l=>Ma(l*l,t),add:(l,c)=>Ma(l+c,t),sub:(l,c)=>Ma(l-c,t),mul:(l,c)=>Ma(l*c,t),pow:(l,c)=>oLt(a,l,c),div:(l,c)=>Ma(l*hz(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>hz(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>aLt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?RK(l,s):a3(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?PK(l):P1(l)}});return Object.freeze(a)}function TCe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $Ce(t){const e=TCe(t);return e+Math.ceil(e/2)}function cLt(t,e,n=!1){const r=t.length,i=TCe(e),s=$Ce(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?P1(t):PK(t),a=Ma(o,e-ji)+ji;return n?RK(a,i):a3(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uLt=BigInt(0),yM=BigInt(1);function dLt(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>uLt;)s&yM&&(o=o.add(a)),a=a.double(),s>>=yM;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let h=0;h<o;h++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const h=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let m=0;m<a;m++){const g=m*l;let y=Number(o&h);o>>=p,y>l&&(y-=f,o+=yM);const w=g,v=g+Math.abs(y)-1,b=m%2!==0,A=y<0;y===0?u=u.add(n(b,s[w])):c=c.add(n(A,s[v]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function NCe(t){return sLt(t.Fp),EC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ICe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hLt(t){const e=NCe(t);EC(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:fLt,hexToBytes:pLt}=XBt,zy={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=zy;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:fLt(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=zy,n=typeof t=="string"?pLt(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=zy._parseInt(n.subarray(2)),{d:o,l:a}=zy._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},cp=BigInt(0),Dc=BigInt(1);BigInt(2);const dle=BigInt(3);BigInt(4);function mLt(t){const e=hLt(t),{Fp:n}=e,r=e.toBytes||((m,g,y)=>{const w=g.toAffine();return E8(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function s(m){const{a:g,b:y}=e,w=n.sqr(m),v=n.mul(w,m);return n.add(n.add(v,n.mul(m,g)),y)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&cp<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:w,n:v}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=s3(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let b;try{b=typeof m=="bigint"?m:P1(Lu("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return w&&(b=Ma(b,v)),a(b),b}const c=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,y,w){if(this.px=g,this.py=y,this.pz=w,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(g){const{x:y,y:w}=g||{};if(!g||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(w)?h.ZERO:new h(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=n.invertBatch(g.map(w=>w.pz));return g.map((w,v)=>w.toAffine(y[v])).map(h.fromAffine)}static fromHex(g){const y=h.fromAffine(i(Lu("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return h.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const w=n.sqr(y),v=s(g);if(!n.eql(w,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:A,pz:E}=g,$=n.eql(n.mul(y,E),n.mul(b,v)),N=n.eql(n.mul(w,E),n.mul(A,v));return $&&N}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,w=n.mul(y,dle),{px:v,py:b,pz:A}=this;let E=n.ZERO,$=n.ZERO,N=n.ZERO,R=n.mul(v,v),M=n.mul(b,b),F=n.mul(A,A),W=n.mul(v,b);return W=n.add(W,W),N=n.mul(v,A),N=n.add(N,N),E=n.mul(g,N),$=n.mul(w,F),$=n.add(E,$),E=n.sub(M,$),$=n.add(M,$),$=n.mul(E,$),E=n.mul(W,E),N=n.mul(w,N),F=n.mul(g,F),W=n.sub(R,F),W=n.mul(g,W),W=n.add(W,N),N=n.add(R,R),R=n.add(N,R),R=n.add(R,F),R=n.mul(R,W),$=n.add($,R),F=n.mul(b,A),F=n.add(F,F),R=n.mul(F,W),E=n.sub(E,R),N=n.mul(F,M),N=n.add(N,N),N=n.add(N,N),new h(E,$,N)}add(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:A,pz:E}=g;let $=n.ZERO,N=n.ZERO,R=n.ZERO;const M=e.a,F=n.mul(e.b,dle);let W=n.mul(y,b),V=n.mul(w,A),B=n.mul(v,E),k=n.add(y,w),C=n.add(b,A);k=n.mul(k,C),C=n.add(W,V),k=n.sub(k,C),C=n.add(y,v);let S=n.add(b,E);return C=n.mul(C,S),S=n.add(W,B),C=n.sub(C,S),S=n.add(w,v),$=n.add(A,E),S=n.mul(S,$),$=n.add(V,B),S=n.sub(S,$),R=n.mul(M,C),$=n.mul(F,B),R=n.add($,R),$=n.sub(V,R),R=n.add(V,R),N=n.mul($,R),V=n.add(W,W),V=n.add(V,W),B=n.mul(M,B),C=n.mul(F,C),V=n.add(V,B),B=n.sub(W,B),B=n.mul(M,B),C=n.add(C,B),W=n.mul(V,C),N=n.add(N,W),W=n.mul(S,C),$=n.mul(k,$),$=n.sub($,W),W=n.mul(k,V),R=n.mul(S,R),R=n.add(R,W),new h($,N,R)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return p.wNAFCached(this,c,g,y=>{const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(h.fromAffine)})}multiplyUnsafe(g){const y=h.ZERO;if(g===cp)return y;if(a(g),g===Dc)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,g);let{k1neg:v,k1:b,k2neg:A,k2:E}=w.splitScalar(g),$=y,N=y,R=this;for(;b>cp||E>cp;)b&Dc&&($=$.add(R)),E&Dc&&(N=N.add(R)),R=R.double(),b>>=Dc,E>>=Dc;return v&&($=$.negate()),A&&(N=N.negate()),N=new h(n.mul(N.px,w.beta),N.py,N.pz),$.add(N)}multiply(g){a(g);let y=g,w,v;const{endo:b}=e;if(b){const{k1neg:A,k1:E,k2neg:$,k2:N}=b.splitScalar(y);let{p:R,f:M}=this.wNAF(E),{p:F,f:W}=this.wNAF(N);R=p.constTimeNegate(A,R),F=p.constTimeNegate($,F),F=new h(n.mul(F.px,b.beta),F.py,F.pz),w=R.add(F),v=M.add(W)}else{const{p:A,f:E}=this.wNAF(y);w=A,v=E}return h.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(g,y,w){const v=h.BASE,b=(E,$)=>$===cp||$===Dc||!E.equals(v)?E.multiplyUnsafe($):E.multiply($),A=b(this,y).add(b(g,w));return A.is0()?void 0:A}toAffine(g){const{px:y,py:w,pz:v}=this,b=this.is0();g==null&&(g=b?n.ONE:n.inv(v));const A=n.mul(y,g),E=n.mul(w,g),$=n.mul(v,g);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:A,y:E}}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===Dc)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===Dc?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return s3(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=dLt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function gLt(t){const e=NCe(t);return EC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function yLt(t){const e=gLt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return cp<C&&C<n.ORDER}function a(C){return Ma(C,r)}function l(C){return hz(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:f}=mLt({...e,toBytes(C,S,T){const _=S.toAffine(),P=n.toBytes(_.x),D=E8;return T?D(Uint8Array.from([S.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,n.toBytes(_.y))},fromBytes(C){const S=C.length,T=C[0],_=C.subarray(1);if(S===i&&(T===2||T===3)){const P=P1(_);if(!o(P))throw new Error("Point is not on curve");const D=h(P);let j=n.sqrt(D);const I=(j&Dc)===Dc;return(T&1)===1!==I&&(j=n.neg(j)),{x:P,y:j}}else if(S===s&&T===4){const P=n.fromBytes(_.subarray(0,n.BYTES)),D=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:P,y:D}}else throw new Error(`Point of length ${S} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=C=>s3(a3(C,e.nByteLength));function m(C){const S=r>>Dc;return C>S}function g(C){return m(C)?a(-C):C}const y=(C,S,T)=>P1(C.slice(S,T));class w{constructor(S,T,_){this.r=S,this.s=T,this.recovery=_,this.assertValidity()}static fromCompact(S){const T=e.nByteLength;return S=Lu("compactSignature",S,T*2),new w(y(S,0,T),y(S,T,2*T))}static fromDER(S){const{r:T,s:_}=zy.toSig(Lu("DER",S));return new w(T,_)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new w(this.r,this.s,S)}recoverPublicKey(S){const{r:T,s:_,recovery:P}=this,D=N(Lu("msgHash",S));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const j=P===2||P===3?T+e.n:T;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=P&1?"03":"02",L=c.fromHex(I+p(j)),J=l(j),O=a(-D*J),G=a(_*J),Z=c.BASE.multiplyAndAddUnsafe(L,O,G);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return o3(this.toDERHex())}toDERHex(){return zy.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return o3(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=$Ce(e.n);return cLt(e.randomBytes(C),e.n)},precompute(C=8,S=c.BASE){return S._setWindowSize(C),S.multiply(BigInt(3)),S}};function b(C,S=!0){return c.fromPrivateKey(C).toRawBytes(S)}function A(C){const S=C instanceof Uint8Array,T=typeof C=="string",_=(S||T)&&C.length;return S?_===i||_===s:T?_===2*i||_===2*s:C instanceof c}function E(C,S,T=!0){if(A(C))throw new Error("first arg must be private key");if(!A(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(C)).toRawBytes(T)}const $=e.bits2int||function(C){const S=P1(C),T=C.length*8-e.nBitLength;return T>0?S>>BigInt(T):S},N=e.bits2int_modN||function(C){return a($(C))},R=jK(e.nBitLength);function M(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(cp<=C&&C<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return a3(C,e.nByteLength)}function F(C,S,T=W){if(["recovered","canonical"].some(ie=>ie in T))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:P}=e;let{lowS:D,prehash:j,extraEntropy:I}=T;D==null&&(D=!0),C=Lu("msgHash",C),j&&(C=Lu("prehashed msgHash",_(C)));const L=N(C),J=u(S),O=[M(J),M(L)];if(I!=null){const ie=I===!0?P(n.BYTES):I;O.push(Lu("extraEntropy",ie))}const G=E8(...O),Z=L;function Q(ie){const de=$(ie);if(!f(de))return;const oe=l(de),he=c.BASE.multiply(de).toAffine(),we=a(he.x);if(we===cp)return;const fe=a(oe*a(Z+we*J));if(fe===cp)return;let ke=(he.x===we?0:2)|Number(he.y&Dc),be=fe;return D&&m(fe)&&(be=g(fe),ke^=1),new w(we,be,ke)}return{seed:G,k2sig:Q}}const W={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function B(C,S,T=W){const{seed:_,k2sig:P}=F(C,S,T),D=e;return _Ce(D.hash.outputLen,D.nByteLength,D.hmac)(_,P)}c.BASE._setWindowSize(8);function k(C,S,T,_=V){var he;const P=C;if(S=Lu("msgHash",S),T=Lu("publicKey",T),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:D,prehash:j}=_;let I,L;try{if(typeof P=="string"||P instanceof Uint8Array)try{I=w.fromDER(P)}catch(we){if(!(we instanceof zy.Err))throw we;I=w.fromCompact(P)}else if(typeof P=="object"&&typeof P.r=="bigint"&&typeof P.s=="bigint"){const{r:we,s:fe}=P;I=new w(we,fe)}else throw new Error("PARSE");L=c.fromHex(T)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&I.hasHighS())return!1;j&&(S=e.hash(S));const{r:J,s:O}=I,G=N(S),Z=l(O),Q=a(G*Z),ie=a(J*Z),de=(he=c.BASE.multiplyAndAddUnsafe(L,Q,ie))==null?void 0:he.toAffine();return de?a(de.x)===J:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:B,verify:k,ProjectivePoint:c,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wLt(t){return{hash:t,hmac:(e,...n)=>aCe(t,e,sBt(...n)),randomBytes:oBt}}function bLt(t,e){const n=r=>yLt({...t,...wLt(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PCe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vLt=BigInt(1),fz=BigInt(2),fle=(t,e)=>(t+e/fz)/e;function xLt(t){const e=PCe,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=xc(u,n,e)*u%e,f=xc(h,n,e)*u%e,p=xc(f,fz,e)*c%e,m=xc(p,i,e)*p%e,g=xc(m,s,e)*m%e,y=xc(g,a,e)*g%e,w=xc(y,l,e)*y%e,v=xc(w,a,e)*g%e,b=xc(v,n,e)*u%e,A=xc(b,o,e)*m%e,E=xc(A,r,e)*c%e,$=xc(E,fz,e);if(!pz.eql(pz.sqr($),t))throw new Error("Cannot find square root");return $}const pz=lLt(PCe,void 0,void 0,{sqrt:xLt}),G0=bLt({a:BigInt(0),b:BigInt(7),Fp:pz,n:hle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hle,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-vLt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=fle(s*t,e),l=fle(-r*t,e);let c=Ma(t-a*n-l*i,e),u=Ma(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},cCe);BigInt(0);G0.ProjectivePoint;const A8="0x0000000000000000000000000000000000000000",ple="0x0000000000000000000000000000000000000000000000000000000000000000",mle=BigInt(0),gle=BigInt(1),yle=BigInt(2),wle=BigInt(27),ble=BigInt(28),s9=BigInt(35),Bb={};function vle(t){return e0(is(t),32)}var j2,uh,O2,o1;const ju=class ju{constructor(e,n,r,i){ve(this,j2);ve(this,uh);ve(this,O2);ve(this,o1);vC(e,Bb,"Signature"),te(this,j2,n),te(this,uh,r),te(this,O2,i),te(this,o1,null)}get r(){return H(this,j2)}set r(e){ge(u2(e)===32,"invalid r","value",e),te(this,j2,pt(e))}get s(){return ge(parseInt(H(this,uh).substring(0,3))<8,"non-canonical s; use ._s","s",H(this,uh)),H(this,uh)}set s(e){ge(u2(e)===32,"invalid s","value",e),te(this,uh,pt(e))}get _s(){return H(this,uh)}isValid(){return parseInt(H(this,uh).substring(0,3))<8}get v(){return H(this,O2)}set v(e){const n=wn(e,"value");ge(n===27||n===28,"invalid v","v",e),te(this,O2,n)}get networkV(){return H(this,o1)}get legacyChainId(){const e=this.networkV;return e==null?null:ju.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=vn(this.s);return this.yParity&&(e[0]|=128),pt(e)}get compactSerialized(){return yi([this.r,this.yParityAndS])}get serialized(){return yi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ju(Bb,this.r,this._s,this.v);return this.networkV&&te(e,o1,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=Et(e,"v");return n==wle||n==ble?mle:(ge(n>=s9,"invalid EIP-155 v","v",e),(n-s9)/yle)}static getChainIdV(e,n){return Et(e)*yle+BigInt(35+n-27)}static getNormalizedV(e){const n=Et(e);return n===mle||n===wle?27:n===gle||n===ble?28:(ge(n>=s9,"invalid v","v",e),n&gle?27:28)}static from(e){function n(c,u){ge(c,u,"signature",e)}if(e==null)return new ju(Bb,ple,ple,27);if(typeof e=="string"){const c=vn(e,"signature");if(c.length===64){const u=pt(c.slice(0,32)),h=c.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new ju(Bb,u,pt(h),f)}if(c.length===65){const u=pt(c.slice(0,32)),h=pt(c.slice(32,64)),f=ju.getNormalizedV(c[64]);return new ju(Bb,u,h,f)}n(!1,"invalid raw signature length")}if(e instanceof ju)return e.clone();const r=e.r;n(r!=null,"missing r");const i=vle(r),s=function(c,u){if(c!=null)return vle(c);if(u!=null){n(_r(u,32),"invalid yParityAndS");const h=vn(u);return h[0]&=127,pt(h)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,u,h){if(c!=null){const f=Et(c);return{networkV:f>=s9?f:void 0,v:ju.getNormalizedV(f)}}if(u!=null)return n(_r(u,32),"invalid yParityAndS"),{v:vn(u)[0]&128?28:27};if(h!=null){switch(wn(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new ju(Bb,i,s,a);return o&&te(l,o1,o),n(e.yParity==null||wn(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};j2=new WeakMap,uh=new WeakMap,O2=new WeakMap,o1=new WeakMap;let el=ju;var ep;const Ay=class Ay{constructor(e){ve(this,ep);ge(u2(e)===32,"invalid private key","privateKey","[REDACTED]"),te(this,ep,pt(e))}get privateKey(){return H(this,ep)}get publicKey(){return Ay.computePublicKey(H(this,ep))}get compressedPublicKey(){return Ay.computePublicKey(H(this,ep),!0)}sign(e){ge(u2(e)===32,"invalid digest length","digest",e);const n=G0.sign(ea(e),ea(H(this,ep)),{lowS:!0});return el.from({r:Eg(n.r,32),s:Eg(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Ay.computePublicKey(e);return pt(G0.getSharedSecret(ea(H(this,ep)),vn(n),!1))}static computePublicKey(e,n){let r=vn(e,"key");if(r.length===32){const s=G0.getPublicKey(r,!!n);return pt(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=G0.ProjectivePoint.fromHex(r);return pt(i.toRawBytes(n))}static recoverPublicKey(e,n){ge(u2(e)===32,"invalid digest length","digest",e);const r=el.from(n);let i=G0.Signature.fromCompact(ea(yi([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(ea(e));return ge(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=G0.ProjectivePoint.fromHex(Ay.computePublicKey(e).substring(2)),s=G0.ProjectivePoint.fromHex(Ay.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};ep=new WeakMap;let C8=Ay;const ELt=BigInt(0),ALt=BigInt(36);function xle(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=vn(Gi(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const OK={};for(let t=0;t<10;t++)OK[String(t)]=String(t);for(let t=0;t<26;t++)OK[String.fromCharCode(65+t)]=String(10+t);const Ele=15;function CLt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>OK[r]).join("");for(;e.length>=Ele;){let r=e.substring(0,Ele);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const kLt=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function SLt(t){t=t.toLowerCase();let e=ELt;for(let n=0;n<t.length;n++)e=e*ALt+kLt[t[n]];return e}function ir(t){if(ge(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=xle(t);return ge(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ge(t.substring(2,4)===CLt(t),"bad icap checksum","address",t);let e=SLt(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return xle("0x"+e)}ge(!1,"invalid address","address",t)}function _Lt(t){const e=ir(t.from);let r=Et(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ir(hi(Gi(Ag([e,r])),12))}function RCe(t){return t&&typeof t.getAddress=="function"}async function wM(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(We(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ge(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ir(n)}function sa(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ir(t):(We(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),wM(t,e.resolveName(t)));if(RCe(t))return wM(t,t.getAddress());if(t&&typeof t.then=="function")return wM(t,t);ge(!1,"unsupported addressable value","target",t)}const Lf={};function vt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Oo(Lf,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Kn(t,e){return new Oo(Lf,`bytes${e||""}`,t,{size:e})}const Ale=Symbol.for("_ethers_typed");var a1;const Ff=class Ff{constructor(e,n,r,i){Ee(this,"type");Ee(this,"value");ve(this,a1);Ee(this,"_typedSymbol");i==null&&(i=null),vC(Lf,e,"Typed"),Lt(this,{_typedSymbol:Ale,type:n,value:r}),te(this,a1,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return H(this,a1)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return H(this,a1)===!0?-1:H(this,a1)===!1?this.value.length:null}static from(e,n){return new Ff(Lf,e,n)}static uint8(e){return vt(e,8)}static uint16(e){return vt(e,16)}static uint24(e){return vt(e,24)}static uint32(e){return vt(e,32)}static uint40(e){return vt(e,40)}static uint48(e){return vt(e,48)}static uint56(e){return vt(e,56)}static uint64(e){return vt(e,64)}static uint72(e){return vt(e,72)}static uint80(e){return vt(e,80)}static uint88(e){return vt(e,88)}static uint96(e){return vt(e,96)}static uint104(e){return vt(e,104)}static uint112(e){return vt(e,112)}static uint120(e){return vt(e,120)}static uint128(e){return vt(e,128)}static uint136(e){return vt(e,136)}static uint144(e){return vt(e,144)}static uint152(e){return vt(e,152)}static uint160(e){return vt(e,160)}static uint168(e){return vt(e,168)}static uint176(e){return vt(e,176)}static uint184(e){return vt(e,184)}static uint192(e){return vt(e,192)}static uint200(e){return vt(e,200)}static uint208(e){return vt(e,208)}static uint216(e){return vt(e,216)}static uint224(e){return vt(e,224)}static uint232(e){return vt(e,232)}static uint240(e){return vt(e,240)}static uint248(e){return vt(e,248)}static uint256(e){return vt(e,256)}static uint(e){return vt(e,256)}static int8(e){return vt(e,-8)}static int16(e){return vt(e,-16)}static int24(e){return vt(e,-24)}static int32(e){return vt(e,-32)}static int40(e){return vt(e,-40)}static int48(e){return vt(e,-48)}static int56(e){return vt(e,-56)}static int64(e){return vt(e,-64)}static int72(e){return vt(e,-72)}static int80(e){return vt(e,-80)}static int88(e){return vt(e,-88)}static int96(e){return vt(e,-96)}static int104(e){return vt(e,-104)}static int112(e){return vt(e,-112)}static int120(e){return vt(e,-120)}static int128(e){return vt(e,-128)}static int136(e){return vt(e,-136)}static int144(e){return vt(e,-144)}static int152(e){return vt(e,-152)}static int160(e){return vt(e,-160)}static int168(e){return vt(e,-168)}static int176(e){return vt(e,-176)}static int184(e){return vt(e,-184)}static int192(e){return vt(e,-192)}static int200(e){return vt(e,-200)}static int208(e){return vt(e,-208)}static int216(e){return vt(e,-216)}static int224(e){return vt(e,-224)}static int232(e){return vt(e,-232)}static int240(e){return vt(e,-240)}static int248(e){return vt(e,-248)}static int256(e){return vt(e,-256)}static int(e){return vt(e,-256)}static bytes1(e){return Kn(e,1)}static bytes2(e){return Kn(e,2)}static bytes3(e){return Kn(e,3)}static bytes4(e){return Kn(e,4)}static bytes5(e){return Kn(e,5)}static bytes6(e){return Kn(e,6)}static bytes7(e){return Kn(e,7)}static bytes8(e){return Kn(e,8)}static bytes9(e){return Kn(e,9)}static bytes10(e){return Kn(e,10)}static bytes11(e){return Kn(e,11)}static bytes12(e){return Kn(e,12)}static bytes13(e){return Kn(e,13)}static bytes14(e){return Kn(e,14)}static bytes15(e){return Kn(e,15)}static bytes16(e){return Kn(e,16)}static bytes17(e){return Kn(e,17)}static bytes18(e){return Kn(e,18)}static bytes19(e){return Kn(e,19)}static bytes20(e){return Kn(e,20)}static bytes21(e){return Kn(e,21)}static bytes22(e){return Kn(e,22)}static bytes23(e){return Kn(e,23)}static bytes24(e){return Kn(e,24)}static bytes25(e){return Kn(e,25)}static bytes26(e){return Kn(e,26)}static bytes27(e){return Kn(e,27)}static bytes28(e){return Kn(e,28)}static bytes29(e){return Kn(e,29)}static bytes30(e){return Kn(e,30)}static bytes31(e){return Kn(e,31)}static bytes32(e){return Kn(e,32)}static address(e){return new Ff(Lf,"address",e)}static bool(e){return new Ff(Lf,"bool",!!e)}static bytes(e){return new Ff(Lf,"bytes",e)}static string(e){return new Ff(Lf,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Ff(Lf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Ale}static dereference(e,n){if(Ff.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};a1=new WeakMap;let Oo=Ff;class ILt extends l0{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Oo.dereference(n,"string");try{r=ir(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return ir(Eg(e.readValue(),20))}}class TLt extends l0{constructor(n){super(n.name,n.type,"_",n.dynamic);Ee(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function jCe(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return We(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),We(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else ge(!1,"invalid tuple value","tuple",n);ge(e.length===r.length,"types/value length mismatch","tuple",n);let i=new az,s=new az,o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let h=s.length;l.encode(s,u);let f=i.writeUpdatableValue();o.push(p=>{f(p+h)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function OCe(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),l=i.subReader(a);try{o=s.decode(l)}catch(c){if(zs(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(zs(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),r3.fromItems(n,r)}class $Lt extends l0{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);Ee(this,"coder");Ee(this,"length");Lt(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Oo.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),HAe(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return jCe(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),We(r*ia<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*ia,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new TLt(this.coder));return OCe(n,i)}}class NLt extends l0{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Oo.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class MCe extends l0{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ea(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class PLt extends MCe{constructor(e){super("bytes",e)}decode(e){return pt(super.decode(e))}}class RLt extends l0{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);Ee(this,"size");Lt(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=ea(Oo.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return pt(n.readBytes(this.size))}}const jLt=new Uint8Array([]);class OLt extends l0{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(jLt)}decode(e){return e.readBytes(0),null}}const MLt=BigInt(0),DLt=BigInt(1),BLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class LLt extends l0{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);Ee(this,"size");Ee(this,"signed");Lt(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=Et(Oo.dereference(r,this.type)),s=Uy(BLt,ia*8);if(this.signed){let o=Uy(s,this.size*8-1);(i>o||i<-(o+DLt))&&this._throwError("value out-of-bounds",r),i=GAe(i,8*ia)}else(i<MLt||i>Uy(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Uy(n.readValue(),this.size*8);return this.signed&&(r=nI(r,this.size*8)),r}}class FLt extends MCe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Tp(Oo.dereference(n,"string")))}decode(e){return rI(super.decode(e))}}class o9 extends l0{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);Ee(this,"coders");Lt(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Oo.dereference(r,"tuple");return jCe(n,this.coders,i)}decode(n){return OCe(n,this.coders)}}function bM(t,e){return{address:ir(t),storageKeys:e.map((n,r)=>(ge(_r(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Qw(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ge(n.length===2,"invalid slot set",`value[${r}]`,n),bM(n[0],n[1])):(ge(n!=null&&typeof n=="object","invalid address-slot set","value",t),bM(n.address,n.storageKeys)));ge(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return bM(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function DCe(t){return{address:ir(t.address),nonce:Et(t.nonce!=null?t.nonce:0),chainId:Et(t.chainId!=null?t.chainId:0),signature:el.from(t.signature)}}function ULt(t){let e;return typeof t=="string"?e=C8.computePublicKey(t,!1):e=t.publicKey,ir(Gi("0x"+e.substring(4)).substring(26))}function zLt(t,e){return ULt(C8.recoverPublicKey(t,e))}const vs=BigInt(0),WLt=BigInt(2),HLt=BigInt(27),VLt=BigInt(28),qLt=BigInt(35),GLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vM=4096*32;function KLt(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return vn(t.blobToKzgCommitment(pt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return vn(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return vn(t.blobToKZGCommitment(pt(r)));ge(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return vn(t.computeBlobProof(pt(r),pt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return vn(t.computeBlobKZGProof(pt(r),pt(i)));ge(!1,"unsupported KZG library","kzg",t)}}}function Cle(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=s5(e).substring(4),"0x"+n}function o5(t){return t==="0x"?null:ir(t)}function ZN(t,e){try{return Qw(t)}catch(n){ge(!1,n.message,e,t)}}function YLt(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:o5(i[1]),nonce:fr(i[2],"nonce"),chainId:fr(i[0],"chainId"),signature:el.from({yParity:Zw(i[3],"yParity"),r:e0(i[4],32),s:e0(i[5],32)})})}return n}catch(n){ge(!1,n.message,e,t)}}function Zw(t,e){return t==="0x"?0:wn(t,e)}function fr(t,e){if(t==="0x")return vs;const n=Et(t,e);return ge(n<=GLt,"value exceeds uint size",e,n),n}function Dn(t,e){const n=Et(t,"value"),r=is(n);return ge(r.length<=32,"value too large",`tx.${e}`,n),r}function JN(t){return Qw(t).map(e=>[e.address,e.storageKeys])}function QLt(t){return t.map(e=>[Dn(e.chainId,"chainId"),e.address,Dn(e.nonce,"nonce"),Dn(e.signature.yParity,"yParity"),is(e.signature.r),is(e.signature.s)])}function ZLt(t,e){ge(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ge(_r(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function JLt(t){const e=xC(t);ge(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Zw(e[0],"nonce"),gasPrice:fr(e[1],"gasPrice"),gasLimit:fr(e[2],"gasLimit"),to:o5(e[3]),value:fr(e[4],"value"),data:pt(e[5]),chainId:vs};if(e.length===6)return n;const r=fr(e[6],"v"),i=fr(e[7],"r"),s=fr(e[8],"s");if(i===vs&&s===vs)n.chainId=r;else{let o=(r-qLt)/WLt;o<vs&&(o=vs),n.chainId=o,ge(o!==vs||r===HLt||r===VLt,"non-canonical legacy v","v",e[6]),n.signature=el.from({r:e0(e[7],32),s:e0(e[8],32),v:r})}return n}function XLt(t,e){const n=[Dn(t.nonce,"nonce"),Dn(t.gasPrice||0,"gasPrice"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data];let r=vs;if(t.chainId!=vs)r=Et(t.chainId,"tx.chainId"),ge(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==vs&&(n.push(is(r)),n.push("0x"),n.push("0x")),Ag(n);let i=BigInt(27+e.yParity);return r!==vs?i=el.getChainIdV(r,e.v):BigInt(e.v)!==i&&ge(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(is(i)),n.push(is(e.r)),n.push(is(e.s)),Ag(n)}function XN(t,e){let n;try{if(n=Zw(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ge(!1,"invalid yParity","yParity",e[0])}const r=e0(e[1],32),i=e0(e[2],32),s=el.from({r,s:i,yParity:n});t.signature=s}function eFt(t){const e=xC(vn(t).slice(1));ge(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",pt(t));const n={type:2,chainId:fr(e[0],"chainId"),nonce:Zw(e[1],"nonce"),maxPriorityFeePerGas:fr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fr(e[4],"gasLimit"),to:o5(e[5]),value:fr(e[6],"value"),data:pt(e[7]),accessList:ZN(e[8],"accessList")};return e.length===9||XN(n,e.slice(9)),n}function tFt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,JN(t.accessList||[])];return e&&(n.push(Dn(e.yParity,"yParity")),n.push(is(e.r)),n.push(is(e.s))),yi(["0x02",Ag(n)])}function nFt(t){const e=xC(vn(t).slice(1));ge(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",pt(t));const n={type:1,chainId:fr(e[0],"chainId"),nonce:Zw(e[1],"nonce"),gasPrice:fr(e[2],"gasPrice"),gasLimit:fr(e[3],"gasLimit"),to:o5(e[4]),value:fr(e[5],"value"),data:pt(e[6]),accessList:ZN(e[7],"accessList")};return e.length===8||XN(n,e.slice(8)),n}function rFt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.gasPrice||0,"gasPrice"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,JN(t.accessList||[])];return e&&(n.push(Dn(e.yParity,"recoveryParam")),n.push(is(e.r)),n.push(is(e.s))),yi(["0x01",Ag(n)])}function iFt(t){let e=xC(vn(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];ge(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ge(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ge(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ge(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ge(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:s[l],commitment:o[l],proof:a[l]});e=e[0]}ge(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",pt(t));const i={type:3,chainId:fr(e[0],"chainId"),nonce:Zw(e[1],"nonce"),maxPriorityFeePerGas:fr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fr(e[4],"gasLimit"),to:o5(e[5]),value:fr(e[6],"value"),data:pt(e[7]),accessList:ZN(e[8],"accessList"),maxFeePerBlobGas:fr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ge(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ge(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)ge(_r(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||XN(i,e.slice(11)),i}function sFt(t,e,n){const r=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||A8,Dn(t.value,"value"),t.data,JN(t.accessList||[]),Dn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ZLt(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Dn(e.yParity,"yParity")),r.push(is(e.r)),r.push(is(e.s)),n)?yi(["0x03",Ag([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):yi(["0x03",Ag(r)])}function oFt(t){const e=xC(vn(t).slice(1));ge(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",pt(t));const n={type:4,chainId:fr(e[0],"chainId"),nonce:Zw(e[1],"nonce"),maxPriorityFeePerGas:fr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fr(e[4],"gasLimit"),to:o5(e[5]),value:fr(e[6],"value"),data:pt(e[7]),accessList:ZN(e[8],"accessList"),authorizationList:YLt(e[9],"authorizationList")};return e.length===10||XN(n,e.slice(10)),n}function aFt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,JN(t.accessList||[]),QLt(t.authorizationList||[])];return e&&(n.push(Dn(e.yParity,"yParity")),n.push(is(e.r)),n.push(is(e.s))),yi(["0x04",Ag(n)])}var Vu,M2,D2,B2,L2,F2,U2,z2,W2,H2,V2,q2,l1,Em,dh,Am,G2,K2,kS,$l;let BCe=($l=class{constructor(){ve(this,K2);ve(this,Vu);ve(this,M2);ve(this,D2);ve(this,B2);ve(this,L2);ve(this,F2);ve(this,U2);ve(this,z2);ve(this,W2);ve(this,H2);ve(this,V2);ve(this,q2);ve(this,l1);ve(this,Em);ve(this,dh);ve(this,Am);ve(this,G2);te(this,Vu,null),te(this,M2,null),te(this,B2,0),te(this,L2,vs),te(this,F2,null),te(this,U2,null),te(this,z2,null),te(this,D2,"0x"),te(this,W2,vs),te(this,H2,vs),te(this,V2,null),te(this,q2,null),te(this,l1,null),te(this,Em,null),te(this,dh,null),te(this,Am,null),te(this,G2,null)}get type(){return H(this,Vu)}set type(e){switch(e){case null:te(this,Vu,null);break;case 0:case"legacy":te(this,Vu,0);break;case 1:case"berlin":case"eip-2930":te(this,Vu,1);break;case 2:case"london":case"eip-1559":te(this,Vu,2);break;case 3:case"cancun":case"eip-4844":te(this,Vu,3);break;case 4:case"pectra":case"eip-7702":te(this,Vu,4);break;default:ge(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=H(this,M2);return e==null&&this.type===3?A8:e}set to(e){te(this,M2,e==null?null:ir(e))}get nonce(){return H(this,B2)}set nonce(e){te(this,B2,wn(e,"value"))}get gasLimit(){return H(this,L2)}set gasLimit(e){te(this,L2,Et(e))}get gasPrice(){const e=H(this,F2);return e==null&&(this.type===0||this.type===1)?vs:e}set gasPrice(e){te(this,F2,e==null?null:Et(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=H(this,U2);return e??(this.type===2||this.type===3?vs:null)}set maxPriorityFeePerGas(e){te(this,U2,e==null?null:Et(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=H(this,z2);return e??(this.type===2||this.type===3?vs:null)}set maxFeePerGas(e){te(this,z2,e==null?null:Et(e,"maxFeePerGas"))}get data(){return H(this,D2)}set data(e){te(this,D2,pt(e))}get value(){return H(this,W2)}set value(e){te(this,W2,Et(e,"value"))}get chainId(){return H(this,H2)}set chainId(e){te(this,H2,Et(e))}get signature(){return H(this,V2)||null}set signature(e){te(this,V2,e==null?null:el.from(e))}get accessList(){const e=H(this,q2)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){te(this,q2,e==null?null:Qw(e))}get authorizationList(){const e=H(this,G2)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){te(this,G2,e==null?null:e.map(n=>DCe(n)))}get maxFeePerBlobGas(){const e=H(this,l1);return e==null&&this.type===3?vs:e}set maxFeePerBlobGas(e){te(this,l1,e==null?null:Et(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=H(this,Em);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ge(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ge(_r(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}te(this,Em,e)}get blobs(){return H(this,Am)==null?null:H(this,Am).map(e=>Object.assign({},e))}set blobs(e){if(e==null){te(this,Am,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(SK(s)){We(H(this,dh),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=vn(s);if(ge(o.length<=vM,"blob is too large",`blobs[${i}]`,s),o.length!==vM){const c=new Uint8Array(vM);c.set(o),o=c}const a=H(this,dh).blobToKzgCommitment(o),l=pt(H(this,dh).computeBlobKzgProof(o,a));n.push({data:pt(o),commitment:pt(a),proof:l}),r.push(Cle(1,a))}else{const o=pt(s.commitment);n.push({data:pt(s.data),commitment:o,proof:pt(s.proof)}),r.push(Cle(1,o))}}te(this,Am,n),te(this,Em,r)}get kzg(){return H(this,dh)}set kzg(e){e==null?te(this,dh,null):te(this,dh,KLt(e))}get hash(){return this.signature==null?null:Gi(Fe(this,K2,kS).call(this,!0,!1))}get unsignedHash(){return Gi(this.unsignedSerialized)}get from(){return this.signature==null?null:zLt(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:C8.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Fe(this,K2,kS).call(this,!0,!0)}get unsignedSerialized(){return Fe(this,K2,kS).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=H(this,l1)!=null||H(this,Em);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&We(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),We(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),We(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return $l.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new $l;if(typeof e=="string"){const r=vn(e);if(r[0]>=127)return $l.from(JLt(r));switch(r[0]){case 1:return $l.from(nFt(r));case 2:return $l.from(eFt(r));case 3:return $l.from(iFt(r));case 4:return $l.from(oFt(r))}We(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new $l;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=el.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ge(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ge(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ge(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ge(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}},Vu=new WeakMap,M2=new WeakMap,D2=new WeakMap,B2=new WeakMap,L2=new WeakMap,F2=new WeakMap,U2=new WeakMap,z2=new WeakMap,W2=new WeakMap,H2=new WeakMap,V2=new WeakMap,q2=new WeakMap,l1=new WeakMap,Em=new WeakMap,dh=new WeakMap,Am=new WeakMap,G2=new WeakMap,K2=new WeakSet,kS=function(e,n){We(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return XLt(this,r);case 1:return rFt(this,r);case 2:return tFt(this,r);case 3:return sFt(this,r,n?this.blobs:null);case 4:return aFt(this,r)}We(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},$l);function fw(t){return Gi(Tp(t))}var lFt="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const kle=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Sle=4;function cFt(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=2**h,p=f>>>1,m=p>>1,g=f-1;let y=0;for(let E=0;E<h;E++)y=y<<1|u();let w=[],v=0,b=f;for(;;){let E=Math.floor(((y-v+1)*i-1)/b),$=0,N=r;for(;N-$>1;){let F=$+N>>>1;E<s[F]?N=F:$=F}if($==0)break;w.push($);let R=v+Math.floor(b*s[$]/i),M=v+Math.floor(b*s[$+1]/i)-1;for(;!((R^M)&p);)y=y<<1&g|u(),R=R<<1&g,M=M<<1&g|1;for(;R&~M&m;)y=y&p|y<<1&g>>>1|u(),R=R<<1^p,M=(M^p)<<1|p|1;v=R,b=1+M-R}let A=r-4;return w.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function uFt(t){let e=0;return()=>t[e++]}function LCe(t){return uFt(cFt(dFt(t)))}function dFt(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function hFt(t){return t&1?~t>>1:t>>1}function fFt(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=hFt(e());return n}function k8(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function FCe(t){return S8(()=>{let e=k8(t);if(e.length)return e})}function UCe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(pFt(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(mFt(n,t))}return e.flat()}function S8(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function zCe(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)fFt(t,n).forEach((s,o)=>r[o].push(s));return r}function pFt(t,e){let n=1+e(),r=e(),i=S8(e);return zCe(i.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(i[a]).fill().map((u,h)=>{let f=h*r;return[l+h*n,c.map(p=>p+f)]})})}function mFt(t,e){let n=1+e();return zCe(n,1+t,e).map(i=>[i[0],i.slice(1)])}function gFt(t){let e=[],n=k8(t);return i(r([]),[]),e;function r(s){let o=t(),a=S8(()=>{let l=k8(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],l)}}}function yFt(t){return t.toString(16).toUpperCase().padStart(2,"0")}function WCe(t){return`{${yFt(t)}}`}function wFt(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function l3(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function bFt(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var vFt="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const _8=44032,sI=4352,oI=4449,aI=4519,HCe=19,VCe=21,c3=28,lI=VCe*c3,xFt=HCe*lI,EFt=_8+xFt,AFt=sI+HCe,CFt=oI+VCe,kFt=aI+c3;function D6(t){return t>>24&255}function qCe(t){return t&16777215}let mz,_le,gz,SS;function SFt(){let t=LCe(vFt);mz=new Map(FCe(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),_le=new Set(k8(t)),gz=new Map,SS=new Map;for(let[e,n]of UCe(t)){if(!_le.has(e)&&n.length==2){let[r,i]=n,s=SS.get(r);s||(s=new Map,SS.set(r,s)),s.set(i,e)}gz.set(e,n.reverse())}}function GCe(t){return t>=_8&&t<EFt}function _Ft(t,e){if(t>=sI&&t<AFt&&e>=oI&&e<CFt)return _8+(t-sI)*lI+(e-oI)*c3;if(GCe(t)&&e>aI&&e<kFt&&(t-_8)%c3==0)return t+(e-aI);{let n=SS.get(t);return n&&(n=n.get(e),n)?n:-1}}function KCe(t){mz||SFt();let e=[],n=[],r=!1;function i(s){let o=mz.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(GCe(s)){let o=s-_8,a=o/lI|0,l=o%lI/c3|0,c=o%c3;i(sI+a),i(oI+l),c>0&&i(aI+c)}else{let o=gz.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=D6(e[0]);for(let o=1;o<e.length;o++){let a=D6(e[o]);if(a==0||s<=a){s=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(s=D6(e[--l]),s<=a))break}s=D6(e[o])}}return e}function IFt(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=D6(s),a=qCe(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let l=_Ft(r,a);l>=0?r=l:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function YCe(t){return KCe(t).map(qCe)}function TFt(t){return IFt(KCe(t))}const Ile=45,QCe=".",ZCe=65039,JCe=1,cI=t=>Array.from(t);function I8(t,e){return t.P.has(e)||t.Q.has(e)}class $Ft extends Array{get is_emoji(){return!0}}let yz,XCe,Wy,wz,eke,h2,xM,Kb,ly,Tle,bz;function MK(){if(yz)return;let t=LCe(lFt);const e=()=>k8(t),n=()=>new Set(e()),r=(u,h)=>h.forEach(f=>u.add(f));yz=new Map(UCe(t)),XCe=n(),Wy=e(),wz=new Set(e().map(u=>Wy[u])),Wy=new Set(Wy),eke=n(),n();let i=FCe(t),s=t();const o=()=>{let u=new Set;return e().forEach(h=>r(u,i[h])),r(u,e()),u};h2=S8(u=>{let h=S8(t).map(f=>f+96);if(h.length){let f=u>=s;h[0]-=32,h=l3(h),f&&(h=`Restricted[${h}]`);let p=o(),m=o(),g=!t();return{N:h,P:p,Q:m,M:g,R:f}}}),xM=n(),Kb=new Map;let a=e().concat(cI(xM)).sort((u,h)=>u-h);a.forEach((u,h)=>{let f=t(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(u),xM.has(u)||Kb.set(u,p)});for(let{V:u,M:h}of new Set(Kb.values())){let f=[];for(let m of u){let g=h2.filter(w=>I8(w,m)),y=f.find(({G:w})=>g.some(v=>w.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(m),r(y.G,g)}let p=f.flatMap(m=>cI(m.G));for(let{G:m,V:g}of f){let y=new Set(p.filter(w=>!m.has(w)));for(let w of g)h.set(w,y)}}ly=new Set;let l=new Set;const c=u=>ly.has(u)?l.add(u):ly.add(u);for(let u of h2){for(let h of u.P)c(h);for(let h of u.Q)c(h)}for(let u of ly)!Kb.has(u)&&!l.has(u)&&Kb.set(u,JCe);r(ly,YCe(ly)),Tle=gFt(t).map(u=>$Ft.from(u)).sort(bFt),bz=new Map;for(let u of Tle){let h=[bz];for(let f of u){let p=h.map(m=>{let g=m.get(f);return g||(g=new Map,m.set(f,g)),g});f===ZCe?h.push(...p):h=p}for(let f of h)f.V=u}}function DK(t){return(tke(t)?"":`${BK(eP([t]))} `)+WCe(t)}function BK(t){return`"${t}"`}function NFt(t){if(t.length>=4&&t[2]==Ile&&t[3]==Ile)throw new Error(`invalid label extension: "${l3(t.slice(0,4))}"`)}function PFt(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function RFt(t){let e=t[0],n=kle.get(e);if(n)throw I4(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=kle.get(e);if(o){if(i==s)throw I4(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw I4(`trailing ${n}`)}function eP(t,e=1/0,n=WCe){let r=[];jFt(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];tke(a)&&(r.push(l3(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(l3(t.slice(i,s))),r.join("")}function jFt(t){return MK(),Wy.has(t)}function tke(t){return MK(),eke.has(t)}function OFt(t){return LFt(MFt(t,TFt,zFt))}function MFt(t,e,n){if(!t)return[];MK();let r=0;return t.split(QCe).map(i=>{let s=wFt(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=UFt(s,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(PFt(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))NFt(u),c="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)c="Emoji";else{if(Wy.has(u[0]))throw I4("leading combining mark");for(let g=1;g<l;g++){let y=a[g];if(!y.is_emoji&&Wy.has(y[0]))throw I4(`emoji + combining mark: "${l3(a[g-1])} + ${eP([y[0]])}"`)}RFt(u);let p=cI(new Set(f)),[m]=BFt(p);FFt(m,f),DFt(m,p),c=m.N}}o.type=c}catch(a){o.error=a}return o})}function DFt(t,e){let n,r=[];for(let i of e){let s=Kb.get(i);if(s===JCe)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):cI(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>I8(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function BFt(t){let e=h2;for(let n of t){let r=e.filter(i=>I8(i,n));if(!r.length)throw h2.some(i=>I8(i,n))?rke(e[0],n):nke(n);if(e=r,r.length==1)break}return e}function LFt(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${BK(eP(e,63))}: ${i}`)}return l3(r)}).join(QCe)}function nke(t){return new Error(`disallowed character: ${DK(t)}`)}function rke(t,e){let n=DK(e),r=h2.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function I4(t){return new Error(`illegal placement: ${t}`)}function FFt(t,e){for(let n of e)if(!I8(t,n))throw rke(t,n);if(t.M){let n=YCe(e);for(let r=1,i=n.length;r<i;r++)if(wz.has(n[r])){let s=r+1;for(let o;s<i&&wz.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${DK(o)}`);if(s-r>Sle)throw new Error(`excessive non-spacing marks: ${BK(eP(n.slice(r-1,s)))} (${s-r}/${Sle})`);r=s}}}function UFt(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=WFt(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(ly.has(o))i.push(o);else{let a=yz.get(o);if(a)i.push(...a);else if(!XCe.has(o))throw nke(o)}}}return i.length&&r.push(e(i)),r}function zFt(t){return t.filter(e=>e!=ZCe)}function WFt(t,e){let n=bz,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const ike=new Uint8Array(32);ike.fill(0);function $le(t){return ge(t.length!==0,"invalid ENS name; empty component","comp",t),t}function ske(t){const e=Tp(HFt(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push($le(e.slice(r,i))),r=i+1);return ge(r<e.length,"invalid ENS name; empty component","name",t),n.push($le(e.slice(r))),n}function HFt(t){try{if(t.length===0)throw new Error("empty label");return OFt(t)}catch(e){ge(!1,`invalid ENS name (${e.message})`,"name",t)}}function vz(t){ge(typeof t=="string","invalid ENS name; not a string","name",t),ge(t.length,"invalid ENS name (empty label)","name",t);let e=ike;const n=ske(t);for(;n.length;)e=Gi(yi([e,Gi(n.pop())]));return pt(e)}function VFt(t,e){const n=e;return ge(n<=255,"DNS encoded label cannot exceed 255","length",n),pt(yi(ske(t).map(r=>{ge(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const oke=new Uint8Array(32);oke.fill(0);const qFt=BigInt(-1),ake=BigInt(0),lke=BigInt(1),GFt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function KFt(t){const e=vn(t),n=e.length%32;return n?yi([e,oke.slice(n)]):pt(e)}const YFt=Eg(lke,32),QFt=Eg(ake,32),Nle={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},EM=["name","version","chainId","verifyingContract","salt"];function Ple(t){return function(e){return ge(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const ZFt={name:Ple("name"),version:Ple("version"),chainId:function(t){const e=Et(t,"domain.chainId");return ge(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ju(e)},verifyingContract:function(t){try{return ir(t).toLowerCase()}catch{}ge(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=vn(t,"domain.salt");return ge(e.length===32,'invalid domain value "salt"',"domain.salt",t),pt(e)}};function AM(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ge(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Uy(GFt,n?r-1:r),s=n?(i+lke)*qFt:ake;return function(o){const a=Et(o,"value");return ge(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),Eg(n?GAe(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ge(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=vn(r);return ge(i.length===n,`invalid length for ${t}`,"value",r),KFt(r)}}}switch(t){case"address":return function(e){return e0(ir(e),32)};case"bool":return function(e){return e?YFt:QFt};case"bytes":return function(e){return Gi(e)};case"string":return function(e){return fw(e)}}return null}function Rle(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function a9(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var eA,tp,Y2,NI,cke;const Sc=class Sc{constructor(e){ve(this,NI);Ee(this,"primaryType");ve(this,eA);ve(this,tp);ve(this,Y2);te(this,tp,new Map),te(this,Y2,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:h,index:f}=a9(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:c,type:h+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),te(this,eA,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){ge(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const h=a9(u.type).base;ge(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!AM(h)&&(ge(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),n.get(l).add(h))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);ge(o.length!==0,"missing primary type","types",e),ge(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Lt(this,{primaryType:o[0]});function a(l,c){ge(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const h of c)i.get(h).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),H(this,tp).set(l,Rle(l,s[l])+u.map(h=>Rle(h,s[h])).join(""))}}get types(){return JSON.parse(H(this,eA))}getEncoder(e){let n=H(this,Y2).get(e);return n||(n=Fe(this,NI,cke).call(this,e),H(this,Y2).set(e,n)),n}encodeType(e){const n=H(this,tp).get(e);return ge(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Gi(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(AM(e))return r(e,n);const i=a9(e).array;if(i)return ge(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});ge(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Sc(e)}static getPrimaryType(e){return Sc.from(e).primaryType}static hashStruct(e,n,r){return Sc.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=Nle[r];ge(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>EM.indexOf(r.name)-EM.indexOf(i.name)),Sc.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return yi(["0x1901",Sc.hashDomain(e),Sc.from(n).hash(r)])}static hash(e,n,r){return Gi(Sc.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!_r(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Sc.from(n);o.visit(r,(a,l)=>(a==="address"&&!_r(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Sc.hashDomain(e);const i={},s=[];EM.forEach(l=>{const c=e[l];c!=null&&(i[l]=ZFt[l](c),s.push({name:l,type:Nle[l]}))});const o=Sc.from(n);n=o.types;const a=Object.assign({},n);return ge(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return pt(vn(c));if(l.match(/^u?int/))return Et(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return ge(typeof c=="string","invalid string","value",c),c}ge(!1,"unsupported type","type",l)})}}};eA=new WeakMap,tp=new WeakMap,Y2=new WeakMap,NI=new WeakSet,cke=function(e){{const i=AM(e);if(i)return i}const n=a9(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{ge(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return H(this,tp).has(i)&&(a=a.map(Gi)),Gi(yi(a))}}const r=this.types[e];if(r){const i=fw(H(this,tp).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return H(this,tp).has(l)?Gi(c):c});return o.unshift(i),yi(o)}}ge(!1,`unknown type: ${e}`,"type",e)};let uI=Sc;function oa(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const JFt="external public payable override",XFt=oa(JFt.split(" ")),uke="constant external internal payable private public pure view override",eUt=oa(uke.split(" ")),dke="constructor error event fallback function receive struct",hke=oa(dke.split(" ")),fke="calldata memory storage payable indexed",tUt=oa(fke.split(" ")),nUt="tuple returns",rUt=[dke,fke,nUt,uke].join(" "),iUt=oa(rUt.split(" ")),sUt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},oUt=new RegExp("^(\\s*)"),aUt=new RegExp("^([0-9]+)"),lUt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),pke=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),mke=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var js,qu,tA,xz;const PI=class PI{constructor(e){ve(this,tA);ve(this,js);ve(this,qu);te(this,js,0),te(this,qu,e.slice())}get offset(){return H(this,js)}get length(){return H(this,qu).length-H(this,js)}clone(){return new PI(H(this,qu))}reset(){te(this,js,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=Fe(this,tA,xz).call(this,H(this,js)+1,e.match+1);return te(this,js,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;H(this,js)<e.match-1;){const r=this.peek().linkNext;n.push(Fe(this,tA,xz).call(this,H(this,js)+1,r)),te(this,js,r)}return te(this,js,e.match+1),n}peek(){if(H(this,js)>=H(this,qu).length)throw new Error("out-of-bounds");return H(this,qu)[H(this,js)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return c0(this,js)._++,e}toString(){const e=[];for(let n=H(this,js);n<H(this,qu).length;n++){const r=H(this,qu)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};js=new WeakMap,qu=new WeakMap,tA=new WeakSet,xz=function(e=0,n=0){return new PI(H(this,qu).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Id=PI;function zg(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(oUt);a&&(s+=a[1].length,o=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let c=sUt[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;u=h+u,e[e.length-1].value=wn(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(lUt),a){if(l.text=a[1],s+=l.text.length,iUt.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(mke)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(aUt),a){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Id(e.map(o=>Object.freeze(o)))}function jle(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function tP(t,e){if(e.peekKeyword(hke)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function n0(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function gke(t){let e=n0(t,eUt);return jle(e,oa("constant payable nonpayable".split(" "))),jle(e,oa("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function $p(t,e){return t.popParams().map(n=>Vs.from(n,e))}function yke(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Et(t.pop().text);throw new Error("invalid gas")}return null}function pw(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const cUt=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ole(t){const e=t.match(mke);if(ge(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ge(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ge(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ei={},il=Symbol.for("_ethers_internal"),Mle="_ParamTypeInternal",Dle="_ErrorInternal",Ble="_EventInternal",Lle="_ConstructorInternal",Fle="_FallbackInternal",Ule="_FunctionInternal",zle="_StructInternal";var Q2,_S;const _c=class _c{constructor(e,n,r,i,s,o,a,l){ve(this,Q2);Ee(this,"name");Ee(this,"type");Ee(this,"baseType");Ee(this,"indexed");Ee(this,"components");Ee(this,"arrayLength");Ee(this,"arrayChildren");if(vC(e,ei,"ParamType"),Object.defineProperty(this,il,{value:Mle}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Lt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return Fe(this,Q2,_S).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(_c.isParamType(e))return e;if(typeof e=="string")try{return _c.from(zg(e),n)}catch{ge(!1,"invalid param type","obj",e)}else if(e instanceof Id){let a="",l="",c=null;n0(e,oa(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(g=>_c.from(g)),a=`tuple(${c.map(g=>g.format()).join(",")})`):(a=Ole(e.popType("TYPE")),l=a);let u=null,h=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new _c(ei,"",a,l,null,c,h,u),h=g.value,a+=g.text,l="array",c=null}let f=null;if(n0(e,tUt).has("indexed")){if(!n)throw new Error("");f=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new _c(ei,m,a,l,f,c,h,u)}const r=e.name;ge(!r||typeof r=="string"&&r.match(pke),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ge(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(cUt);if(o){const a=parseInt(o[2]||"-1"),l=_c.from({type:o[1],components:e.components});return new _c(ei,r||"",s,"array",i,null,a,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>_c.from(c)):null;return new _c(ei,r||"",s,"tuple",i,a,null,null)}return s=Ole(e.type),new _c(ei,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[il]===Mle}};Q2=new WeakSet,_S=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{var u;Fe(u=o,Q2,_S).call(u,e,l,r,h=>{a[c]=h})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var u;Fe(u=o[c],Q2,_S).call(u,e,l,r,h=>{a[c]=h})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let Vs=_c;class mw{constructor(e,n,r){Ee(this,"type");Ee(this,"inputs");vC(e,ei,"Fragment"),r=Object.freeze(r.slice()),Lt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{mw.from(JSON.parse(e))}catch{}return mw.from(zg(e))}if(e instanceof Id)switch(e.peekKeyword(hke)){case"constructor":return gp.from(e);case"error":return Ba.from(e);case"event":return Ah.from(e);case"fallback":case"receive":return Kf.from(e);case"function":return Ch.from(e);case"struct":return R1.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return gp.from(e);case"error":return Ba.from(e);case"event":return Ah.from(e);case"fallback":case"receive":return Kf.from(e);case"function":return Ch.from(e);case"struct":return R1.from(e)}We(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ge(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return gp.isFragment(e)}static isError(e){return Ba.isFragment(e)}static isEvent(e){return Ah.isFragment(e)}static isFunction(e){return Ch.isFragment(e)}static isStruct(e){return R1.isFragment(e)}}class nP extends mw{constructor(n,r,i,s){super(n,r,s);Ee(this,"name");ge(typeof i=="string"&&i.match(pke),"invalid identifier","name",i),s=Object.freeze(s.slice()),Lt(this,{name:i})}}function T8(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Ba extends nP{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,il,{value:Dle})}get selector(){return fw(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+T8(e,this.inputs)),n.join(" ")}static from(e){if(Ba.isFragment(e))return e;if(typeof e=="string")return Ba.from(zg(e));if(e instanceof Id){const n=tP("error",e),r=$p(e);return pw(e),new Ba(ei,n,r)}return new Ba(ei,e.name,e.inputs?e.inputs.map(Vs.from):[])}static isFragment(e){return e&&e[il]===Dle}}class Ah extends nP{constructor(n,r,i,s){super(n,"event",r,i);Ee(this,"anonymous");Object.defineProperty(this,il,{value:Ble}),Lt(this,{anonymous:s})}get topicHash(){return fw(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+T8(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Vs.from(s)),new Ah(ei,n,r,!1).topicHash}static from(n){if(Ah.isFragment(n))return n;if(typeof n=="string")try{return Ah.from(zg(n))}catch{ge(!1,"invalid event fragment","obj",n)}else if(n instanceof Id){const r=tP("event",n),i=$p(n,!0),s=!!n0(n,oa(["anonymous"])).has("anonymous");return pw(n),new Ah(ei,r,i,s)}return new Ah(ei,n.name,n.inputs?n.inputs.map(r=>Vs.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[il]===Ble}}class gp extends mw{constructor(n,r,i,s,o){super(n,r,i);Ee(this,"payable");Ee(this,"gas");Object.defineProperty(this,il,{value:Lle}),Lt(this,{payable:s,gas:o})}format(n){if(We(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${T8(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(gp.isFragment(n))return n;if(typeof n=="string")try{return gp.from(zg(n))}catch{ge(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Id){n0(n,oa(["constructor"]));const r=$p(n),i=!!n0(n,XFt).has("payable"),s=yke(n);return pw(n),new gp(ei,"constructor",r,i,s)}return new gp(ei,"constructor",n.inputs?n.inputs.map(Vs.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[il]===Lle}}class Kf extends mw{constructor(n,r,i){super(n,"fallback",r);Ee(this,"payable");Object.defineProperty(this,il,{value:Fle}),Lt(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Kf.isFragment(n))return n;if(typeof n=="string")try{return Kf.from(zg(n))}catch{ge(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Id){const r=n.toString(),i=n.peekKeyword(oa(["fallback","receive"]));if(ge(i,"type must be fallback or receive","obj",r),n.popKeyword(oa(["fallback","receive"]))==="receive"){const l=$p(n);return ge(l.length===0,"receive cannot have arguments","obj.inputs",l),n0(n,oa(["payable"])),pw(n),new Kf(ei,[],!0)}let o=$p(n);o.length?ge(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[Vs.from("bytes")];const a=gke(n);if(ge(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),n0(n,oa(["returns"])).has("returns")){const l=$p(n);ge(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return pw(n),new Kf(ei,o,a==="payable")}if(n.type==="receive")return new Kf(ei,[],!0);if(n.type==="fallback"){const r=[Vs.from("bytes")],i=n.stateMutability==="payable";return new Kf(ei,r,i)}ge(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[il]===Fle}}class Ch extends nP{constructor(n,r,i,s,o,a){super(n,"function",r,s);Ee(this,"constant");Ee(this,"outputs");Ee(this,"stateMutability");Ee(this,"payable");Ee(this,"gas");Object.defineProperty(this,il,{value:Ule}),o=Object.freeze(o.slice()),Lt(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return fw(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+T8(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(T8(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Vs.from(s)),new Ch(ei,n,"view",r,[],null).selector}static from(n){if(Ch.isFragment(n))return n;if(typeof n=="string")try{return Ch.from(zg(n))}catch{ge(!1,"invalid function fragment","obj",n)}else if(n instanceof Id){const i=tP("function",n),s=$p(n),o=gke(n);let a=[];n0(n,oa(["returns"])).has("returns")&&(a=$p(n));const l=yke(n);return pw(n),new Ch(ei,i,o,s,a,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Ch(ei,n.name,r,n.inputs?n.inputs.map(Vs.from):[],n.outputs?n.outputs.map(Vs.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[il]===Ule}}class R1 extends nP{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,il,{value:zle})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return R1.from(zg(e))}catch{ge(!1,"invalid struct fragment","obj",e)}else if(e instanceof Id){const n=tP("struct",e),r=$p(e);return pw(e),new R1(ei,n,r)}return new R1(ei,e.name,e.inputs?e.inputs.map(Vs.from):[])}static isFragment(e){return e&&e[il]===zle}}const jd=new Map;jd.set(0,"GENERIC_PANIC");jd.set(1,"ASSERT_FALSE");jd.set(17,"OVERFLOW");jd.set(18,"DIVIDE_BY_ZERO");jd.set(33,"ENUM_RANGE_ERROR");jd.set(34,"BAD_STORAGE_DATA");jd.set(49,"STACK_UNDERFLOW");jd.set(50,"ARRAY_RANGE_ERROR");jd.set(65,"OUT_OF_MEMORY");jd.set(81,"UNINITIALIZED_FUNCTION_CALL");const uUt=new RegExp(/^bytes([0-9]*)$/),dUt=new RegExp(/^(u?int)([0-9]*)$/);let CM=null,Wle=1024;function hUt(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const c=vn(n);if(n=pt(n),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(pt(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(pt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${jd.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?ir(e.to):null,data:e.data||"0x"};return e.from&&(l.from=ir(e.from)),Zr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:o,revert:a})}var Cm,Yb;const RI=class RI{constructor(){ve(this,Cm)}getDefaultValue(e){const n=e.map(i=>Fe(this,Cm,Yb).call(this,Vs.from(i)));return new o9(n,"_").defaultValue()}encode(e,n){HAe(n.length,e.length,"types/values length mismatch");const r=e.map(o=>Fe(this,Cm,Yb).call(this,Vs.from(o))),i=new o9(r,"_"),s=new az;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>Fe(this,Cm,Yb).call(this,Vs.from(o)));return new o9(i,"_").decode(new lz(n,r,Wle))}static _setDefaultMaxInflation(e){ge(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Wle=e}static defaultAbiCoder(){return CM==null&&(CM=new RI),CM}static getBuiltinCallException(e,n,r){return hUt(e,n,r,RI.defaultAbiCoder())}};Cm=new WeakSet,Yb=function(e){if(e.isArray())return new $Lt(Fe(this,Cm,Yb).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new o9(e.components.map(r=>Fe(this,Cm,Yb).call(this,r)),e.name);switch(e.baseType){case"address":return new ILt(e.name);case"bool":return new NLt(e.name);case"string":return new FLt(e.name);case"bytes":return new PLt(e.name);case"":return new OLt(e.name)}let n=e.type.match(dUt);if(n){let r=parseInt(n[2]||"256");return ge(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new LLt(r/8,n[1]==="int",e.name)}if(n=e.type.match(uUt),n){let r=parseInt(n[1]);return ge(r!==0&&r<=32,"invalid bytes length","param",e),new RLt(r,e.name)}ge(!1,"invalid type","type",e.type)};let $8=RI;class fUt{constructor(e,n,r){Ee(this,"fragment");Ee(this,"name");Ee(this,"signature");Ee(this,"topic");Ee(this,"args");const i=e.name,s=e.format();Lt(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class pUt{constructor(e,n,r,i){Ee(this,"fragment");Ee(this,"name");Ee(this,"args");Ee(this,"signature");Ee(this,"selector");Ee(this,"value");const s=e.name,o=e.format();Lt(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class mUt{constructor(e,n,r){Ee(this,"fragment");Ee(this,"name");Ee(this,"args");Ee(this,"signature");Ee(this,"selector");const i=e.name,s=e.format();Lt(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class Hle{constructor(e){Ee(this,"hash");Ee(this,"_isIndexed");Lt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Vle={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},qle={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Vle[t.toString()]&&(e=Vle[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var hh,fh,ph,yo,Kh,IS,TS;const Cy=class Cy{constructor(e){ve(this,Kh);Ee(this,"fragments");Ee(this,"deploy");Ee(this,"fallback");Ee(this,"receive");ve(this,hh);ve(this,fh);ve(this,ph);ve(this,yo);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,te(this,ph,new Map),te(this,hh,new Map),te(this,fh,new Map);const r=[];for(const o of n)try{r.push(mw.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Lt(this,{fragments:Object.freeze(r)});let i=null,s=!1;te(this,yo,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Lt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(ge(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":l=H(this,ph);break;case"event":l=H(this,fh);break;case"error":l=H(this,hh);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||Lt(this,{deploy:gp.from("constructor()")}),Lt(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return $8.defaultAbiCoder()}getFunctionName(e){const n=Fe(this,Kh,IS).call(this,e,null,!1);return ge(n,"no matching function","key",e),n.name}hasFunction(e){return!!Fe(this,Kh,IS).call(this,e,null,!1)}getFunction(e,n){return Fe(this,Kh,IS).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(H(this,ph).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(H(this,ph).get(i),r)}}getEventName(e){const n=Fe(this,Kh,TS).call(this,e,null,!1);return ge(n,"no matching event","key",e),n.name}hasEvent(e){return!!Fe(this,Kh,TS).call(this,e,null,!1)}getEvent(e,n){return Fe(this,Kh,TS).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(H(this,fh).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(H(this,fh).get(i),r)}}getError(e,n){if(_r(e)){const i=e.toLowerCase();if(qle[i])return Ba.from(qle[i].signature);for(const s of H(this,hh).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of H(this,hh))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Ba.from("error Error(string)"):e==="Panic"?Ba.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");ge(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Ba.from(e).format(),e==="Error(string)")return Ba.from("error Error(string)");if(e==="Panic(uint256)")return Ba.from("error Panic(uint256)");const r=H(this,hh).get(e);return r||null}forEachError(e){const n=Array.from(H(this,hh).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(H(this,hh).get(i),r)}}_decodeParams(e,n){return H(this,yo).decode(e,n)}_encodeParams(e,n){return H(this,yo).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ge(r,"unknown error","fragment",e),e=r}return ge(hi(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,hi(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ge(r,"unknown error","fragment",e),e=r}return yi([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ge(r,"unknown function","fragment",e),e=r}return ge(hi(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,hi(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ge(r,"unknown function","fragment",e),e=r}return yi([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);ge(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=ea(n);if(i.length%32===0)try{return H(this,yo).decode(e.outputs,i)}catch{r="could not decode result data"}We(!1,r,"BAD_DATA",{value:pt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=vn(e,"data"),i=$8.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=pt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=H(this,yo).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ge(r,"unknown function","fragment",e),e=r}return pt(H(this,yo).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);ge(s,"unknown event","eventFragment",e),e=s}We(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?fw(o):s.type==="bytes"?Gi(pt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Eg(o):s.type.match(/^bytes/)?o=PDt(o,32):s.type==="address"&&H(this,yo).encode(["address"],[o]),e0(pt(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){ge(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ge(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);ge(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ge(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(fw(l));else if(o.type==="bytes")r.push(Gi(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(H(this,yo).encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:H(this,yo).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const p=this.getEvent(e);ge(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;ge(_r(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Vs.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});const a=r!=null?H(this,yo).decode(i,yi(r)):null,l=H(this,yo).decode(s,n,!0),c=[],u=[];let h=0,f=0;return e.inputs.forEach((p,m)=>{let g=null;if(p.indexed)if(a==null)g=new Hle(null);else if(o[m])g=new Hle(a[f++]);else try{g=a[f++]}catch(y){g=y}else try{g=l[h++]}catch(y){g=y}c.push(g),u.push(p.name||null)}),r3.fromItems(c,u)}parseTransaction(e){const n=vn(e.data,"tx.data"),r=Et(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(pt(n.slice(0,4)));if(!i)return null;const s=H(this,yo).decode(i.inputs,n.slice(4));return new pUt(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new fUt(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=pt(e),r=this.getError(hi(n,0,4));if(!r)return null;const i=H(this,yo).decode(r.inputs,hi(n,4));return new mUt(r,r.selector,i)}static from(e){return e instanceof Cy?e:typeof e=="string"?new Cy(JSON.parse(e)):typeof e.formatJson=="function"?new Cy(e.formatJson()):typeof e.format=="function"?new Cy(e.format("json")):new Cy(e)}};hh=new WeakMap,fh=new WeakMap,ph=new WeakMap,yo=new WeakMap,Kh=new WeakSet,IS=function(e,n,r){if(_r(e)){const s=e.toLowerCase();for(const o of H(this,ph).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of H(this,ph))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;Oo.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==a&&(!l||u!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let h=0;h<n.length;h++)if(Oo.isTyped(n[h])){if(h>=u.length){if(n[h].type==="overrides")continue;s.splice(c,1);break}if(n[h].type!==u[h].baseType){s.splice(c,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ge(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=H(this,ph).get(Ch.from(e).format());return i||null},TS=function(e,n,r){if(_r(e)){const s=e.toLowerCase();for(const o of H(this,fh).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of H(this,fh))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let l=0;l<n.length;l++)if(Oo.isTyped(n[l])&&n[l].type!==a[l].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ge(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=H(this,fh).get(Ah.from(e).format());return i||null};let Ez=Cy;const wke=BigInt(0);function f2(t){return t??null}function Ti(t){return t==null?null:t.toString()}class Gle{constructor(e,n,r){Ee(this,"gasPrice");Ee(this,"maxFeePerGas");Ee(this,"maxPriorityFeePerGas");Lt(this,{gasPrice:f2(e),maxFeePerGas:f2(n),maxPriorityFeePerGas:f2(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Ti(e),maxFeePerGas:Ti(n),maxPriorityFeePerGas:Ti(r)}}}function dI(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=pt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Et(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=wn(t[i],`request.${i}`));return t.accessList&&(e.accessList=Qw(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>SK(i)?pt(i):Object.assign({},i))),e}var np;class gUt{constructor(e,n){Ee(this,"provider");Ee(this,"number");Ee(this,"hash");Ee(this,"timestamp");Ee(this,"parentHash");Ee(this,"parentBeaconBlockRoot");Ee(this,"nonce");Ee(this,"difficulty");Ee(this,"gasLimit");Ee(this,"gasUsed");Ee(this,"stateRoot");Ee(this,"receiptsRoot");Ee(this,"blobGasUsed");Ee(this,"excessBlobGas");Ee(this,"miner");Ee(this,"prevRandao");Ee(this,"extraData");Ee(this,"baseFeePerGas");ve(this,np);te(this,np,e.transactions.map(r=>typeof r!="string"?new N8(r,n):r)),Lt(this,{provider:n,hash:f2(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:f2(e.prevRandao),extraData:e.extraData,baseFeePerGas:f2(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return H(this,np).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=H(this,np).slice();return e.length===0?[]:(We(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:h,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,timestamp:g,transactions:y}=this;return{_type:"Block",baseFeePerGas:Ti(e),difficulty:Ti(n),extraData:r,gasLimit:Ti(i),gasUsed:Ti(s),blobGasUsed:Ti(this.blobGasUsed),excessBlobGas:Ti(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:h,timestamp:g,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return H(this,np).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=H(this,np)[e];else{const r=e.toLowerCase();for(const i of H(this,np))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ge(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return yUt(this)}}np=new WeakMap;class AC{constructor(e,n){Ee(this,"provider");Ee(this,"transactionHash");Ee(this,"blockHash");Ee(this,"blockNumber");Ee(this,"removed");Ee(this,"address");Ee(this,"data");Ee(this,"topics");Ee(this,"index");Ee(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Lt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return We(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return We(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return We(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return wUt(this)}}var nA;class bke{constructor(e,n){Ee(this,"provider");Ee(this,"to");Ee(this,"from");Ee(this,"contractAddress");Ee(this,"hash");Ee(this,"index");Ee(this,"blockHash");Ee(this,"blockNumber");Ee(this,"logsBloom");Ee(this,"gasUsed");Ee(this,"blobGasUsed");Ee(this,"cumulativeGasUsed");Ee(this,"gasPrice");Ee(this,"blobGasPrice");Ee(this,"type");Ee(this,"status");Ee(this,"root");ve(this,nA);te(this,nA,Object.freeze(e.logs.map(i=>new AC(i,n))));let r=wke;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Lt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return H(this,nA)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Ti(this.cumulativeGasUsed),from:n,gasPrice:Ti(this.gasPrice),blobGasUsed:Ti(this.blobGasUsed),blobGasPrice:Ti(this.blobGasPrice),gasUsed:Ti(this.gasUsed),hash:i,index:s,logs:c,logsBloom:l,root:h,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return xke(this)}reorderedEvent(e){return We(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),vke(this,e)}}nA=new WeakMap;var km;const EY=class EY{constructor(e,n){Ee(this,"provider");Ee(this,"blockNumber");Ee(this,"blockHash");Ee(this,"index");Ee(this,"hash");Ee(this,"type");Ee(this,"to");Ee(this,"from");Ee(this,"nonce");Ee(this,"gasLimit");Ee(this,"gasPrice");Ee(this,"maxPriorityFeePerGas");Ee(this,"maxFeePerGas");Ee(this,"maxFeePerBlobGas");Ee(this,"data");Ee(this,"value");Ee(this,"chainId");Ee(this,"signature");Ee(this,"accessList");Ee(this,"blobVersionedHashes");Ee(this,"authorizationList");ve(this,km);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,te(this,km,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:l,data:c,signature:u,accessList:h,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:Ti(this.chainId),data:c,from:a,gasLimit:Ti(this.gasLimit),gasPrice:Ti(this.gasPrice),hash:i,maxFeePerGas:Ti(this.maxFeePerGas),maxPriorityFeePerGas:Ti(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ti(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:r,type:s,value:Ti(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Vo({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=H(this,km),o=-1,a=s===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:p}=await Vo({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){s=f;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(o===-1&&(o=s-3,o<H(this,km)&&(o=H(this,km)));o<=f;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const y of g)if(y===this.hash)return;for(let y=0;y<g.length;y++){const w=await g.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(w.hash);if(v==null||f-v.blockNumber+1<r)return;let b="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?b="repriced":w.data==="0x"&&w.from===w.to&&w.value===wke&&(b="cancelled"),We(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:w.replaceableTransaction(s),hash:w.hash,receipt:v})}}o++}},c=f=>{if(f==null||f.status!==0)return f;We(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,p)=>{const m=[],g=()=>{m.forEach(w=>w())};if(m.push(()=>{a=!0}),i>0){const w=setTimeout(()=>{g(),p(Zr("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(w)})}const y=async w=>{if(await w.confirmations()>=r){g();try{f(c(w))}catch(v){p(v)}}};if(m.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),s>=0){const w=async()=>{try{await l()}catch(v){if(zs(v,"TRANSACTION_REPLACED")){g(),p(v);return}}a||this.provider.once("block",w)};m.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return We(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),xke(this)}reorderedEvent(e){return We(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),We(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),vke(this,e)}replaceableTransaction(e){ge(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new EY(this,this.provider);return te(n,km,e),n}};km=new WeakMap;let N8=EY;function yUt(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function vke(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function xke(t){return{orphan:"drop-transaction",tx:t}}function wUt(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class LK extends AC{constructor(n,r,i){super(n,n.provider);Ee(this,"interface");Ee(this,"fragment");Ee(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);Lt(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Eke extends AC{constructor(n,r){super(n,n.provider);Ee(this,"error");Lt(this,{error:r})}}var Z2;class bUt extends bke{constructor(n,r,i){super(i,r);ve(this,Z2);te(this,Z2,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?H(this,Z2).getEvent(n.topics[0]):null;if(r)try{return new LK(n,H(this,Z2),r)}catch(i){return new Eke(n,i)}return n})}}Z2=new WeakMap;var rA;class FK extends N8{constructor(n,r,i){super(i,r);ve(this,rA);te(this,rA,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new bUt(H(this,rA),this.provider,i)}}rA=new WeakMap;class Ake extends KAe{constructor(n,r,i,s){super(n,r,i);Ee(this,"log");Lt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class vUt extends Ake{constructor(e,n,r,i,s){super(e,n,r,new LK(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Lt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Kle=BigInt(0);function Cke(t){return t&&typeof t.call=="function"}function kke(t){return t&&typeof t.estimateGas=="function"}function rP(t){return t&&typeof t.resolveName=="function"}function Ske(t){return t&&typeof t.sendTransaction=="function"}function _ke(t){if(t!=null){if(rP(t))return t;if(t.provider)return t.provider}}var iA;class xUt{constructor(e,n,r){ve(this,iA);Ee(this,"fragment");if(Lt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=gw(e.runner,"resolveName"),s=rP(i)?i:null;te(this,iA,async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,h)=>u==="address"?Array.isArray(h)?Promise.all(h.map(f=>sa(f,s))):sa(h,s):h)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return H(this,iA)}}iA=new WeakMap;function gw(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Hy(t){return t==null?null:t.provider||null}async function Ike(t,e){const n=Oo.dereference(t,"overrides");ge(typeof n=="object","invalid overrides parameter","overrides",t);const r=dI(n);return ge(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ge(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function EUt(t,e,n){const r=gw(t,"resolveName"),i=rP(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,l)=>(l=Oo.dereference(l,a),a==="address"?sa(l,i):l))))}function AUt(t){const e=async function(o){const a=await Ike(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await sa(a.from,_ke(t.runner)));const l=t.interface,c=Et(a.value||Kle,"overrides.value")===Kle,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&ge(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ge(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const h=l.receive||l.fallback&&l.fallback.payable;return ge(h||c,"cannot send value to non-payable fallback","overrides.value",a.value),ge(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=gw(t.runner,"call");We(Cke(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw kK(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;We(Ske(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=Hy(t.runner);return new FK(t.interface,c,l)},i=async function(o){const a=gw(t.runner,"estimateGas");return We(kke(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return Lt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function CUt(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return We(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let h={};if(u.inputs.length+1===c.length&&(h=await Ike(c.pop()),h.from&&(h.from=await sa(h.from,_ke(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await EUt(t.runner,u.inputs,c);return Object.assign({},h,await Vo({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},s=async function(...c){const u=t.runner;We(Ske(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await u.sendTransaction(await r(...c)),f=Hy(t.runner);return new FK(t.interface,f,h)},o=async function(...c){const u=gw(t.runner,"estimateGas");return We(kke(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=gw(t.runner,"call");We(Cke(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await r(...c);let f="0x";try{f=await u.call(h)}catch(m){throw kK(m)&&m.data?t.interface.makeError(m.data,h):m}const p=n(...c);return t.interface.decodeFunctionResult(p,f)},l=async(...c)=>n(...c).constant?await i(...c):await s(...c);return Lt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return We(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function kUt(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return We(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new xUt(t,n(...i),i)};return Lt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return We(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const hI=Symbol.for("_ethersInternal_contract"),Tke=new WeakMap;function SUt(t,e){Tke.set(t[hI],e)}function Al(t){return Tke.get(t[hI])}function _Ut(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function UK(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(_r(o,32))return o;const a=t.interface.getEvent(o);return ge(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?_r(e,32)?n=[e]:(r=t.interface.getEvent(e),ge(r,"unknown fragment","event",e),n=[r.topicHash]):_Ut(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ge(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function B6(t,e){const{subs:n}=Al(t);return n.get((await UK(t,e)).tag)||null}async function Yle(t,e,n){const r=Hy(t.runner);We(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await UK(t,n),{addr:a,subs:l}=Al(t);let c=l.get(s);if(!c){const h={address:a||t,topics:o},f=y=>{let w=i;if(w==null)try{w=t.interface.getEvent(y.topics[0])}catch{}if(w){const v=w,b=i?t.interface.decodeEventLog(i,y.data,y.topics):[];Cz(t,n,b,A=>new vUt(t,A,n,v,y))}else Cz(t,n,[],v=>new Ake(t,v,n,y))};let p=[];c={tag:s,listeners:[],start:()=>{p.length||p.push(r.on(h,f))},stop:async()=>{if(p.length==0)return;let y=p;p=[],await Promise.all(y),r.off(h,f)}},l.set(s,c)}return c}let Az=Promise.resolve();async function IUt(t,e,n,r){await Az;const i=await B6(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Al(t).subs.delete(i.tag)),s>0}async function Cz(t,e,n,r){try{await Az}catch{}const i=IUt(t,e,n,r);return Az=i,await i}const l9=["then"];var Uce;Uce=hI;const T4=class T4{constructor(e,n,r,i){Ee(this,"target");Ee(this,"interface");Ee(this,"runner");Ee(this,"filters");Ee(this,Uce);Ee(this,"fallback");ge(typeof e=="string"||RCe(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Ez.from(n);Lt(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,hI,{value:{}});let o,a=null,l=null;if(i){const h=Hy(r);l=new FK(this.interface,h,i)}let c=new Map;if(typeof e=="string")if(_r(e))a=e,o=Promise.resolve(e);else{const h=gw(r,"resolveName");if(!rP(h))throw Zr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(f=>{if(f==null)throw Zr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Al(this).addr=f,f})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return Al(this).addr=h,h});SUt(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(h,f,p)=>{if(typeof f=="symbol"||l9.indexOf(f)>=0)return Reflect.get(h,f,p);try{return this.getEvent(f)}catch(m){if(!zs(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(h,f)=>l9.indexOf(f)>=0?Reflect.has(h,f):Reflect.has(h,f)||this.interface.hasEvent(String(f))});return Lt(this,{filters:u}),Lt(this,{fallback:s.receive||s.fallback?AUt(this):null}),new Proxy(this,{get:(h,f,p)=>{if(typeof f=="symbol"||f in h||l9.indexOf(f)>=0)return Reflect.get(h,f,p);try{return h.getFunction(f)}catch(m){if(!zs(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(h,f)=>typeof f=="symbol"||f in h||l9.indexOf(f)>=0?Reflect.has(h,f):h.interface.hasFunction(f)})}connect(e){return new T4(this.target,this.interface,e)}attach(e){return new T4(e,this.interface,this.runner)}async getAddress(){return await Al(this).addrPromise}async getDeployedCode(){const e=Hy(this.runner);We(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Hy(this.runner);return We(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Al(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),CUt(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),kUt(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Al(this),o=i||await s,{fragment:a,topics:l}=await UK(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},u=Hy(this.runner);return We(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(h=>{let f=a;if(f==null)try{f=this.interface.getEvent(h.topics[0])}catch{}if(f)try{return new LK(h,this.interface,f)}catch(p){return new Eke(h,p)}return new AC(h,u)})}async on(e,n){const r=await Yle(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await Yle(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Cz(this,e,n,null)}async listenerCount(e){if(e){const i=await B6(this,e);return i?i.listeners.length:0}const{subs:n}=Al(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await B6(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Al(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await B6(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Al(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await B6(this,e);if(!n)return this;n.stop(),Al(this).subs.delete(n.tag)}else{const{subs:n}=Al(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends T4{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let kz=T4;function TUt(){return kz}class p2 extends TUt(){}function kM(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ge(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class $Ut{constructor(e){Ee(this,"name");Lt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const $ke=new RegExp("^(ipfs)://(.*)$","i"),Qle=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),$ke,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Sm,c1,_m,Qb,jI,Nke;const Mv=class Mv{constructor(e,n,r){ve(this,_m);Ee(this,"provider");Ee(this,"address");Ee(this,"name");ve(this,Sm);ve(this,c1);Lt(this,{provider:e,address:n,name:r}),te(this,Sm,null),te(this,c1,new p2(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return H(this,Sm)==null&&te(this,Sm,(async()=>{try{return await H(this,c1).supportsInterface("0x9061b923")}catch(e){if(zs(e,"CALL_EXCEPTION"))return!1;throw te(this,Sm,null),e}})()),await H(this,Sm)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await Fe(this,_m,Qb).call(this,"addr(bytes32)");return s==null||s===A8?null:s}catch(s){if(zs(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await Fe(this,_m,Qb).call(this,"addr(bytes32,uint)",[s]);if(_r(o,20))return ir(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof $Ut&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await Fe(this,_m,Qb).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;We(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await Fe(this,_m,Qb).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await Fe(this,_m,Qb).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${jDt("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;We(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Qle.length;r++){const i=n.match(Qle[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=kM(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new p2(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const g=await u.ownerOf(c);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(s==="erc1155"){const g=await u.balanceOf(a,c);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let h=await u[o](c);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",Eg(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=kM(h)),e.push({type:"metadata-url",value:h});let f={};const p=await new t0(h).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const w=p.body;return w&&e.push({type:"!metadata",value:pt(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let m=f.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match($ke)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=kM(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return We(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await Fe(i=Mv,jI,Nke).call(i,e,r);if(s!=null){const o=new Mv(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};Sm=new WeakMap,c1=new WeakMap,_m=new WeakSet,Qb=async function(e,n){n=(n||[]).slice();const r=H(this,c1).interface;n.unshift(vz(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),We(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[VFt(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await H(this,c1)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!zs(s,"CALL_EXCEPTION"))throw s}return null},jI=new WeakSet,Nke=async function(e,n){const r=await Mv.getEnsAddress(e);try{const s=await new p2(r,["function resolver(bytes32) view returns (address)"],e).resolver(vz(n),{enableCcipRead:!0});return s===A8?null:s}catch(i){throw i}return null},ve(Mv,jI);let fI=Mv;const Zle=BigInt(0);function Mn(t,e){return function(n){return n==null?e:t(n)}}function P8(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function CC(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";We(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function NUt(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ge(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function u3(t){return ge(_r(t,!0),"invalid data","value",t),t}function Fs(t){return ge(_r(t,32),"invalid hash","value",t),t}const PUt=CC({address:ir,blockHash:Fs,blockNumber:wn,data:u3,index:wn,removed:Mn(NUt,!1),topics:P8(Fs),transactionHash:Fs,transactionIndex:wn},{index:["logIndex"]});function RUt(t){return PUt(t)}const jUt=CC({hash:Mn(Fs),parentHash:Fs,parentBeaconBlockRoot:Mn(Fs,null),number:wn,timestamp:wn,nonce:Mn(u3),difficulty:Et,gasLimit:Et,gasUsed:Et,stateRoot:Mn(Fs,null),receiptsRoot:Mn(Fs,null),blobGasUsed:Mn(Et,null),excessBlobGas:Mn(Et,null),miner:Mn(ir),prevRandao:Mn(Fs,null),extraData:u3,baseFeePerGas:Mn(Et)},{prevRandao:["mixHash"]});function OUt(t){const e=jUt(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Pke(n)),e}const MUt=CC({transactionIndex:wn,blockNumber:wn,transactionHash:Fs,address:ir,topics:P8(Fs),data:u3,index:wn,blockHash:Fs},{index:["logIndex"]});function DUt(t){return MUt(t)}const BUt=CC({to:Mn(ir,null),from:Mn(ir,null),contractAddress:Mn(ir,null),index:wn,root:Mn(pt),gasUsed:Et,blobGasUsed:Mn(Et,null),logsBloom:Mn(u3),blockHash:Fs,hash:Fs,logs:P8(DUt),blockNumber:wn,cumulativeGasUsed:Et,effectiveGasPrice:Mn(Et),blobGasPrice:Mn(Et,null),status:Mn(wn),type:Mn(wn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function LUt(t){return BUt(t)}function Pke(t){t.to&&Et(t.to)===Zle&&(t.to="0x0000000000000000000000000000000000000000");const e=CC({hash:Fs,index:Mn(wn,void 0),type:n=>n==="0x"||n==null?0:wn(n),accessList:Mn(Qw,null),blobVersionedHashes:Mn(P8(Fs,!0),null),authorizationList:Mn(P8(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:ir(n.address),chainId:Et(n.chainId),nonce:Et(n.nonce),signature:el.from(r)}},!1),null),blockHash:Mn(Fs,null),blockNumber:Mn(wn,null),transactionIndex:Mn(wn,null),from:ir,gasPrice:Mn(Et),maxPriorityFeePerGas:Mn(Et),maxFeePerGas:Mn(Et),maxFeePerBlobGas:Mn(Et,null),gasLimit:Et,to:Mn(ir,null),value:Et,nonce:wn,data:u3,creates:Mn(ir,null),chainId:Mn(Et,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=_Lt(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=el.from(t.signature):e.signature=el.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Et(e.blockHash)===Zle&&(e.blockHash=null),e}const FUt="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class kC{constructor(e){Ee(this,"name");Lt(this,{name:e})}clone(){return new kC(this.name)}}class iP extends kC{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);Ee(this,"effectiveBlock");Ee(this,"txBase");Ee(this,"txCreate");Ee(this,"txDataZero");Ee(this,"txDataNonzero");Ee(this,"txAccessListStorageKey");Ee(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let l=(r||{})[o];l==null&&(l=a),ge(typeof l=="number",`invalud value for ${o}`,"costs",r),i[o]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Lt(this,i)}clone(){return new iP(this.effectiveBlock,this)}}class sP extends kC{constructor(n,r){super("org.ethers.plugins.network.Ens");Ee(this,"address");Ee(this,"targetNetwork");Lt(this,{address:n||FUt,targetNetwork:r??1})}clone(){return new sP(this.address,this.targetNetwork)}}var sA,oA;class UUt extends kC{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ve(this,sA);ve(this,oA);te(this,sA,n),te(this,oA,r)}get url(){return H(this,sA)}get processFunc(){return H(this,oA)}clone(){return this}}sA=new WeakMap,oA=new WeakMap;const SM=new Map;var J2,X2,Im;const Dv=class Dv{constructor(e,n){ve(this,J2);ve(this,X2);ve(this,Im);te(this,J2,e),te(this,X2,Et(n)),te(this,Im,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return H(this,J2)}set name(e){te(this,J2,e)}get chainId(){return H(this,X2)}set chainId(e){te(this,X2,Et(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Et(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Et(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Et(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(H(this,Im).values())}attachPlugin(e){if(H(this,Im).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return H(this,Im).set(e.name,e.clone()),this}getPlugin(e){return H(this,Im).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Dv(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new iP;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Qw(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(zUt(),e==null)return Dv.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=SM.get(e);if(n)return n();if(typeof e=="bigint")return new Dv("unknown",e);ge(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ge(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Dv(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new sP(e.ensAddress,e.ensNetwork)),n}ge(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=SM.get(e);r&&ge(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),SM.set(e,n)}};J2=new WeakMap,X2=new WeakMap,Im=new WeakMap;let $h=Dv;function Jle(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function Xle(t){return new UUt(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Jle(a.maxFee,9),maxPriorityFeePerGas:Jle(a.maxPriorityFee,9)}}catch(s){We(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let ece=!1;function zUt(){if(ece)return;ece=!0;function t(e,n,r){const i=function(){const s=new $h(e,n);return r.ensNetwork!=null&&s.attachPlugin(new sP(null,r.ensNetwork)),s.attachPlugin(new iP),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};$h.register(e,i),$h.register(n,i),r.altNames&&r.altNames.forEach(s=>{$h.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Xle("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Xle("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Sz(t){return JSON.parse(JSON.stringify(t))}var rp,Nc,Tm,mh,ex,$S;class WUt{constructor(e){ve(this,ex);ve(this,rp);ve(this,Nc);ve(this,Tm);ve(this,mh);te(this,rp,e),te(this,Nc,null),te(this,Tm,4e3),te(this,mh,-2)}get pollingInterval(){return H(this,Tm)}set pollingInterval(e){te(this,Tm,e)}start(){H(this,Nc)||(te(this,Nc,H(this,rp)._setTimeout(Fe(this,ex,$S).bind(this),H(this,Tm))),Fe(this,ex,$S).call(this))}stop(){H(this,Nc)&&(H(this,rp)._clearTimeout(H(this,Nc)),te(this,Nc,null))}pause(e){this.stop(),e&&te(this,mh,-2)}resume(){this.start()}}rp=new WeakMap,Nc=new WeakMap,Tm=new WeakMap,mh=new WeakMap,ex=new WeakSet,$S=async function(){try{const e=await H(this,rp).getBlockNumber();if(H(this,mh)===-2){te(this,mh,e);return}if(e!==H(this,mh)){for(let n=H(this,mh)+1;n<=e;n++){if(H(this,Nc)==null)return;await H(this,rp).emit("block",n)}te(this,mh,e)}}catch{}H(this,Nc)!=null&&te(this,Nc,H(this,rp)._setTimeout(Fe(this,ex,$S).bind(this),H(this,Tm)))};var u1,d1,$m;class zK{constructor(e){ve(this,u1);ve(this,d1);ve(this,$m);te(this,u1,e),te(this,$m,!1),te(this,d1,n=>{this._poll(n,H(this,u1))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){H(this,$m)||(te(this,$m,!0),H(this,d1).call(this,-2),H(this,u1).on("block",H(this,d1)))}stop(){H(this,$m)&&(te(this,$m,!1),H(this,u1).off("block",H(this,d1)))}pause(e){this.stop()}resume(){this.start()}}u1=new WeakMap,d1=new WeakMap,$m=new WeakMap;var tx,ip;class HUt extends zK{constructor(n,r){super(n);ve(this,tx);ve(this,ip);te(this,tx,r),te(this,ip,-2)}pause(n){n&&te(this,ip,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(H(this,tx));i!=null&&(H(this,ip)===-2?te(this,ip,i.number):i.number>H(this,ip)&&(r.emit(H(this,tx),i.number),te(this,ip,i.number)))}}tx=new WeakMap,ip=new WeakMap;var OI;class VUt extends zK{constructor(n,r){super(n);ve(this,OI);te(this,OI,Sz(r))}async _poll(n,r){throw new Error("@TODO")}}OI=new WeakMap;var nx;class qUt extends zK{constructor(n,r){super(n);ve(this,nx);te(this,nx,r)}async _poll(n,r){const i=await r.getTransactionReceipt(H(this,nx));i&&r.emit(H(this,nx),i)}}nx=new WeakMap;var sp,rx,ix,Nm,Pc,MI,Rke;class WK{constructor(e,n){ve(this,MI);ve(this,sp);ve(this,rx);ve(this,ix);ve(this,Nm);ve(this,Pc);te(this,sp,e),te(this,rx,Sz(n)),te(this,ix,Fe(this,MI,Rke).bind(this)),te(this,Nm,!1),te(this,Pc,-2)}start(){H(this,Nm)||(te(this,Nm,!0),H(this,Pc)===-2&&H(this,sp).getBlockNumber().then(e=>{te(this,Pc,e)}),H(this,sp).on("block",H(this,ix)))}stop(){H(this,Nm)&&(te(this,Nm,!1),H(this,sp).off("block",H(this,ix)))}pause(e){this.stop(),e&&te(this,Pc,-2)}resume(){this.start()}}sp=new WeakMap,rx=new WeakMap,ix=new WeakMap,Nm=new WeakMap,Pc=new WeakMap,MI=new WeakSet,Rke=async function(e){if(H(this,Pc)===-2)return;const n=Sz(H(this,rx));n.fromBlock=H(this,Pc)+1,n.toBlock=e;const r=await H(this,sp).getLogs(n);if(r.length===0){H(this,Pc)<e-60&&te(this,Pc,e-60);return}for(const i of r)H(this,sp).emit(H(this,rx),i),te(this,Pc,i.blockNumber)};const GUt=BigInt(2),KUt=10;function c9(t){return t&&typeof t.then=="function"}function NS(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class jke{constructor(e){Ee(this,"name");Lt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function YUt(t){return JSON.parse(JSON.stringify(t))}function _z(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function _M(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(_r(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:NS("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:NS("orphan",n),filter:YUt(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?_z(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{_r(a)?i.push(a):s.push((async()=>{i.push(await sa(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=_z(i.map(a=>a.toLowerCase()))}return{filter:r,tag:NS("event",r),type:"event"}}ge(!1,"unknown ProviderEvent","event",t)}function IM(){return new Date().getTime()}const QUt={cacheTimeout:250,pollingInterval:4e3};var wo,Pm,bo,sx,_l,h1,Rm,op,aA,Rc,ox,ax,kn,bl,Iz,Tz,L6,$z,F6,PS;class ZUt{constructor(e,n){ve(this,kn);ve(this,wo);ve(this,Pm);ve(this,bo);ve(this,sx);ve(this,_l);ve(this,h1);ve(this,Rm);ve(this,op);ve(this,aA);ve(this,Rc);ve(this,ox);ve(this,ax);if(te(this,ax,Object.assign({},QUt,n||{})),e==="any")te(this,h1,!0),te(this,_l,null);else if(e){const r=$h.from(e);te(this,h1,!1),te(this,_l,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else te(this,h1,!1),te(this,_l,null);te(this,op,-1),te(this,Rm,new Map),te(this,wo,new Map),te(this,Pm,new Map),te(this,bo,null),te(this,sx,!1),te(this,aA,1),te(this,Rc,new Map),te(this,ox,!1)}get pollingInterval(){return H(this,ax).pollingInterval}get provider(){return this}get plugins(){return Array.from(H(this,Pm).values())}attachPlugin(e){if(H(this,Pm).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return H(this,Pm).set(e.name,e.connect(this)),this}getPlugin(e){return H(this,Pm).get(e)||null}get disableCcipRead(){return H(this,ox)}set disableCcipRead(e){te(this,ox,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=new t0(c);l.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let h="unknown error",f;try{f=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}We(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:h}}),o.push(h)}We(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new gUt(OUt(e),this)}_wrapLog(e,n){return new AC(RUt(e),this)}_wrapTransactionReceipt(e,n){return new bke(LUt(e),this)}_wrapTransactionResponse(e,n){return new N8(Pke(e),this)}_detectNetwork(){We(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){We(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=wn(await Fe(this,kn,bl).call(this,{method:"getBlockNumber"}),"%response");return H(this,op)>=0&&te(this,op,e),e}_getAddress(e){return sa(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(_r(e))return _r(e,32)?e:Ju(e);if(typeof e=="bigint"&&(e=wn(e,"blockTag")),typeof e=="number")return e>=0?Ju(e):H(this,op)>=0?Ju(H(this,op)+e):this.getBlockNumber().then(n=>Ju(n+e));ge(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?_z(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let h;switch(l.length){case 0:break;case 1:h=l[0];break;default:l.sort(),h=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return h&&(f.address=h),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(l=>i(l[0],l[1],l[2])):i(s,o,a)}_getTransactionRequest(e){const n=dI(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=sa(n[i],this);c9(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);c9(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(H(this,_l)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw H(this,_l)===i&&te(this,_l,null),s}})();return te(this,_l,i),(await i).clone()}const e=H(this,_l),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(H(this,h1)?(this.emit("network",r,n),H(this,_l)===e&&te(this,_l,Promise.resolve(r))):We(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Vo({_block:Fe(this,kn,$z).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Fe(this,kn,bl).call(this,{method:"getGasPrice"});return Et(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Fe(this,kn,bl).call(this,{method:"getPriorityFee"});return Et(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*GUt+l),new Gle(s,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new t0(r.url),s=await r.processFunc(n,this,i);return new Gle(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return c9(n)&&(n=await n),Et(await Fe(this,kn,bl).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Vo({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Fe(this,kn,Tz).call(this,Fe(this,kn,Iz).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return Et(await Fe(this,kn,L6).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return wn(await Fe(this,kn,L6).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return pt(await Fe(this,kn,L6).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=Et(n,"position");return pt(await Fe(this,kn,L6).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Vo({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=BCe.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Vo({network:this.getNetwork(),params:Fe(this,kn,$z).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Vo({network:this.getNetwork(),params:Fe(this,kn,bl).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Vo({network:this.getNetwork(),params:Fe(this,kn,bl).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await Fe(this,kn,bl).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Vo({network:this.getNetwork(),result:Fe(this,kn,bl).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:pt(n)}async getLogs(e){let n=this._getFilter(e);c9(n)&&(n=await n);const{network:r,params:i}=await Vo({network:this.getNetwork(),params:Fe(this,kn,bl).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){We(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await fI.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ir(e);const n=vz(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await fI.getEnsAddress(this),s=await new p2(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===A8)return null;const a=await new p2(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(zs(r,"BAD_DATA")&&r.value==="0x"||zs(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(Zr("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){We(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=H(this,Rc).get(e);n&&(n.timer&&clearTimeout(n.timer),H(this,Rc).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=c0(this,aA)._++,i=()=>{H(this,Rc).delete(r),e()};if(this.paused)H(this,Rc).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);H(this,Rc).set(r,{timer:s,func:i,time:IM()})}return r}_forEachSubscriber(e){for(const n of H(this,wo).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new jke(e.type);case"block":{const n=new WUt(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new HUt(this,e.type);case"event":return new WK(this,e.filter);case"transaction":return new qUt(this,e.hash);case"orphan":return new VUt(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of H(this,wo).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),H(this,bo)!=null&&n.pause(H(this,bo));break}}async on(e,n){const r=await Fe(this,kn,PS).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,H(this,bo)!=null&&r.subscriber.pause(H(this,bo))),this}async once(e,n){const r=await Fe(this,kn,PS).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,H(this,bo)!=null&&r.subscriber.pause(H(this,bo))),this}async emit(e,...n){const r=await Fe(this,kn,F6).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new KAe(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),H(this,wo).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await Fe(this,kn,F6).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of H(this,wo).values())n+=r.length;return n}async listeners(e){if(e){const r=await Fe(this,kn,F6).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of H(this,wo).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await Fe(this,kn,F6).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),H(this,wo).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await Fe(this,kn,PS).call(this,e);r&&i.stop(),H(this,wo).delete(n)}else for(const[n,{started:r,subscriber:i}]of H(this,wo))r&&i.stop(),H(this,wo).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return H(this,sx)}destroy(){this.removeAllListeners();for(const e of H(this,Rc).keys())this._clearTimeout(e);te(this,sx,!0)}get paused(){return H(this,bo)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(te(this,op,-1),H(this,bo)!=null){if(H(this,bo)==!!e)return;We(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),te(this,bo,!!e);for(const n of H(this,Rc).values())n.timer&&clearTimeout(n.timer),n.time=IM()-n.time}resume(){if(H(this,bo)!=null){this._forEachSubscriber(e=>e.resume()),te(this,bo,null);for(const e of H(this,Rc).values()){let n=e.time;n<0&&(n=0),e.time=IM(),setTimeout(e.func,n)}}}}wo=new WeakMap,Pm=new WeakMap,bo=new WeakMap,sx=new WeakMap,_l=new WeakMap,h1=new WeakMap,Rm=new WeakMap,op=new WeakMap,aA=new WeakMap,Rc=new WeakMap,ox=new WeakMap,ax=new WeakMap,kn=new WeakSet,bl=async function(e){const n=H(this,ax).cacheTimeout;if(n<0)return await this._perform(e);const r=NS(e.method,e);let i=H(this,Rm).get(r);return i||(i=this._perform(e),H(this,Rm).set(r,i),setTimeout(()=>{H(this,Rm).get(r)===i&&H(this,Rm).delete(r)},n)),await i},Iz=async function(e,n,r){We(r<KUt,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=dI(e);try{return pt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&kK(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&hi(s.data,0,4)==="0x556f1830"){const o=s.data,a=await sa(i.to,this);let l;try{l=nzt(hi(s.data,4))}catch(h){We(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}We(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);We(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const u={to:a,data:yi([l.selector,tzt([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await Fe(this,kn,Iz).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},Tz=async function(e){const{value:n}=await Vo({network:this.getNetwork(),value:e});return n},L6=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await Fe(this,kn,Tz).call(this,Fe(this,kn,bl).call(this,Object.assign(e,{address:i,blockTag:s})))},$z=async function(e,n){if(_r(e,32))return await Fe(this,kn,bl).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await Fe(this,kn,bl).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},F6=async function(e,n){let r=await _M(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await _M({orphan:"drop-log",log:n[0]},this)),H(this,wo).get(r.tag)||null},PS=async function(e){const n=await _M(e,this),r=n.tag;let i=H(this,wo).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},H(this,wo).set(r,i)),i};function JUt(t,e){try{const n=Nz(t,e);if(n)return rI(n)}catch{}return null}function Nz(t,e){if(t==="0x")return null;try{const n=wn(hi(t,e,e+32)),r=wn(hi(t,n,n+32));return hi(t,n+32,n+32+r)}catch{}return null}function tce(t){const e=is(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function XUt(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const ezt=new Uint8Array([]);function tzt(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(ezt),n+=32;for(let r=0;r<t.length;r++){const i=vn(t[r]);e[r]=tce(n),e.push(tce(i.length)),e.push(XUt(i)),n+=32+Math.ceil(i.length/32)*32}return yi(e)}const nce="0x0000000000000000000000000000000000000000000000000000000000000000";function nzt(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};We(u2(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=hi(t,0,32);We(hi(n,0,12)===hi(nce,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=hi(n,12);try{const r=[],i=wn(hi(t,32,64)),s=wn(hi(t,i,i+32)),o=hi(t,i+32);for(let a=0;a<s;a++){const l=JUt(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{We(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Nz(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{We(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}We(hi(t,100,128)===hi(nce,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=hi(t,96,100);try{const r=Nz(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{We(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Jg(t,e){if(t.provider)return t.provider;We(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function rce(t,e){let n=dI(e);if(n.to!=null&&(n.to=sa(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),sa(r,t)]).then(([i,s])=>(ge(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Vo(n)}class rzt{constructor(e){Ee(this,"provider");Lt(this,{provider:e||null})}async getNonce(e){return Jg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await rce(this,e)}async populateTransaction(e){const n=Jg(this,"populateTransaction"),r=await rce(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=Et(r.chainId);ge(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ge(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ge(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();We(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(We(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):We(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Vo(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Jg(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Jg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Jg(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Jg(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Jg(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=BCe.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){We(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function izt(t){return JSON.parse(JSON.stringify(t))}var Wo,gh,f1,jm,p1,lx,Cg,Pz,Rz;class Oke{constructor(e){ve(this,Cg);ve(this,Wo);ve(this,gh);ve(this,f1);ve(this,jm);ve(this,p1);ve(this,lx);te(this,Wo,e),te(this,gh,null),te(this,f1,Fe(this,Cg,Pz).bind(this)),te(this,jm,!1),te(this,p1,null),te(this,lx,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){H(this,jm)||(te(this,jm,!0),Fe(this,Cg,Pz).call(this,-2))}stop(){H(this,jm)&&(te(this,jm,!1),te(this,lx,!0),Fe(this,Cg,Rz).call(this),H(this,Wo).off("block",H(this,f1)))}pause(e){e&&Fe(this,Cg,Rz).call(this),H(this,Wo).off("block",H(this,f1))}resume(){this.start()}}Wo=new WeakMap,gh=new WeakMap,f1=new WeakMap,jm=new WeakMap,p1=new WeakMap,lx=new WeakMap,Cg=new WeakSet,Pz=async function(e){try{H(this,gh)==null&&te(this,gh,this._subscribe(H(this,Wo)));let n=null;try{n=await H(this,gh)}catch(s){if(!zs(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){te(this,gh,null),H(this,Wo)._recoverSubscriber(this,this._recover(H(this,Wo)));return}const r=await H(this,Wo).getNetwork();if(H(this,p1)||te(this,p1,r),H(this,p1).chainId!==r.chainId)throw new Error("chaid changed");if(H(this,lx))return;const i=await H(this,Wo).send("eth_getFilterChanges",[n]);await this._emitResults(H(this,Wo),i)}catch(n){console.log("@TODO",n)}H(this,Wo).once("block",H(this,f1))},Rz=function(){const e=H(this,gh);e&&(te(this,gh,null),e.then(n=>{H(this,Wo).destroyed||H(this,Wo).send("eth_uninstallFilter",[n])}))};var m1;class szt extends Oke{constructor(n,r){super(n);ve(this,m1);te(this,m1,izt(r))}_recover(n){return new WK(n,H(this,m1))}async _subscribe(n){return await n.send("eth_newFilter",[H(this,m1)])}async _emitResults(n,r){for(const i of r)n.emit(H(this,m1),n._wrapLog(i,n._network))}}m1=new WeakMap;class ozt extends Oke{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const azt="bigint,boolean,function,number,string,symbol".split(/,/g);function RS(t){if(t==null||azt.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(RS);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function lzt(t){return new Promise(e=>{setTimeout(e,t)})}function Lb(t){return t&&t.toLowerCase()}function ice(t){return t&&typeof t.pollingInterval=="number"}const Mke={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class TM extends rzt{constructor(n,r){super(n);Ee(this,"address");r=ir(r),Lt(this,{address:r})}connect(n){We(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=RS(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await sa(o,this.provider);ge(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await sa(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(r));return}}catch(u){if(zs(u,"CANCELLED")||zs(u,"BAD_DATA")||zs(u,"NETWORK_ERROR")||zs(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(zs(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,l>10)){o(u);return}this.provider.emit("error",Zr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=RS(n);if(r.from){const s=await sa(r.from,this.provider);ge(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Tp(n):n;return await this.provider.send("personal_sign",[pt(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=RS(i),o=await uI.resolveNames(n,r,s,async a=>{const l=await sa(a);return ge(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(uI.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Tp(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),pt(r)])}}var g1,cx,ap,yh,Gu,jc,$a,lA,jz;class czt extends ZUt{constructor(n,r){super(n,r);ve(this,lA);ve(this,g1);ve(this,cx);ve(this,ap);ve(this,yh);ve(this,Gu);ve(this,jc);ve(this,$a);te(this,cx,1),te(this,g1,Object.assign({},Mke,r||{})),te(this,ap,[]),te(this,yh,null),te(this,jc,null),te(this,$a,null);{let s=null;const o=new Promise(a=>{s=a});te(this,Gu,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(ge(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&te(this,jc,$h.from(n))):i&&(ge(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),te(this,jc,i))}_getOption(n){return H(this,g1)[n]}get _network(){return We(H(this,jc),"network is not available yet","NETWORK_ERROR"),H(this,jc)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&Et(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(H(this,jc))return H(this,jc)}else return n;return H(this,$a)?await H(this,$a):this.ready?(te(this,$a,(async()=>{try{const r=$h.from(Et(await this.send("eth_chainId",[])));return te(this,$a,null),r}catch(r){throw te(this,$a,null),r}})()),await H(this,$a)):(te(this,$a,(async()=>{const r={id:c0(this,cx)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],te(this,$a,null)}catch(s){throw te(this,$a,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return $h.from(Et(i.result));throw this.getRpcError(r,i)})()),await H(this,$a))}_start(){H(this,Gu)==null||H(this,Gu).resolve==null||(H(this,Gu).resolve(),te(this,Gu,null),(async()=>{for(;H(this,jc)==null&&!this.destroyed;)try{te(this,jc,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Zr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await lzt(1e3)}Fe(this,lA,jz).call(this)})())}async _waitUntilReady(){if(H(this,Gu)!=null)return await H(this,Gu).promise}_getSubscriber(n){return n.type==="pending"?new ozt(this):n.type==="event"?this._getOption("polling")?new WK(this,n.filter):new szt(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new jke("orphan"):super._getSubscriber(n)}get ready(){return H(this,Gu)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Ju(Et(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=pt(n[i]))}),n.accessList&&(r.accessList=Qw(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=DCe(i);return{address:s.address,nonce:Ju(s.nonce),chainId:Ju(s.chainId),yParity:Ju(s.signature.yParity),r:Ju(s.signature.r),s:Ju(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Lb(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Lb(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Lb(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Lb(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Lb):n.filter.address=Lb(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return Zr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return Zr("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=Oz(s),c=$8.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return c.info={error:s,payload:n},c}const o=JSON.stringify(hzt(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Zr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Zr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Zr("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Zr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(o.match(/only replay-protected/i))return Zr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Zr("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Zr("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Zr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=c0(this,cx)._++,s=new Promise((o,a)=>{H(this,ap).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return Fe(this,lA,jz).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new TM(this,s[n])}const{accounts:i}=await Vo({network:this.getNetwork(),accounts:r});n=ir(n);for(const s of i)if(ir(s)===n)return new TM(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new TM(this,r))}destroy(){H(this,yh)&&(clearTimeout(H(this,yh)),te(this,yh,null));for(const{payload:n,reject:r}of H(this,ap))r(Zr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));te(this,ap,[]),super.destroy()}}g1=new WeakMap,cx=new WeakMap,ap=new WeakMap,yh=new WeakMap,Gu=new WeakMap,jc=new WeakMap,$a=new WeakMap,lA=new WeakSet,jz=function(){if(H(this,yh))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");te(this,yh,setTimeout(()=>{te(this,yh,null);const r=H(this,ap);for(te(this,ap,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==H(this,g1).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>H(this,g1).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of i){if(this.destroyed){l(Zr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(h=>h.id===c.id)[0];if(u==null){const h=Zr("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",h),l(h);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var Om;class uzt extends czt{constructor(n,r){super(n,r);ve(this,Om);let i=this._getOption("pollingInterval");i==null&&(i=Mke.pollingInterval),te(this,Om,i)}_getSubscriber(n){const r=super._getSubscriber(n);return ice(r)&&(r.pollingInterval=H(this,Om)),r}get pollingInterval(){return H(this,Om)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");te(this,Om,n),this._forEachSubscriber(r=>{ice(r)&&(r.pollingInterval=H(this,Om))})}}Om=new WeakMap;var ux;class dzt extends uzt{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);ve(this,ux);typeof n=="string"?te(this,ux,new t0(n)):te(this,ux,n.clone())}_getConnection(){return H(this,ux).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}ux=new WeakMap;function Oz(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&_r(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Oz(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Oz(JSON.parse(t))}catch{}return null}function Mz(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Mz(t[n],e);if(typeof t=="string")try{return Mz(JSON.parse(t),e)}catch{}}}function hzt(t){const e=[];return Mz(t,e),e}const fzt=()=>{var _,P;const[t]=x.useState("0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"),[e,n]=x.useState(null),[r,i]=x.useState(3576),[s,o]=x.useState(0),{toast:a}=wa(),l=ur(),{user:c,authenticated:u}=eo(),{address:h}=HN(),f=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],[p,m]=x.useState(!1),[g,y]=x.useState(!1),[w,v]=x.useState(0),b=localStorage.getItem(c==null?void 0:c.id),A=b?JSON.parse(b):null,E=A==null?void 0:A.referral_code,[$,N]=x.useState(null),R=async()=>{var D,j,I,L,J;if(!(c!=null&&c.id)){console.warn("User ID not found - cannot fetch balance");return}m(!0);try{const O=await Vt.post("/api/check_user_exist",{privy_id:c.id});if(O.data&&O.data.exists==="yes"){const Z=O.data.user;N(Z);try{const Q="0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",ie=new dzt("https://mainnet.base.org"),oe=await new p2(Q,f,ie).balanceOf(Z.wallet_address),he=XDt(oe,6);console.log("Base USDC:",he),v(parseFloat(he))}catch(Q){console.error(" Error fetching on-chain balance:",Q),v(0)}}else if(O.data&&O.data.exists==="no")console.warn(" User does not exist in backend"),a({title:"User Not Found",description:"Please complete registration first.",variant:"destructive"});else throw new Error(((D=O.data)==null?void 0:D.error)||"Unexpected response format")}catch(O){console.error(" Error fetching balance:",O),Vt.isAxiosError(O)?((j=O.response)==null?void 0:j.status)===404?a({title:"User Not Found",description:"Please complete registration first.",variant:"destructive"}):((I=O.response)==null?void 0:I.status)>=500?a({title:"Server Error",description:"Backend server is temporarily unavailable.",variant:"destructive"}):a({title:"Balance Error",description:((J=(L=O.response)==null?void 0:L.data)==null?void 0:J.error)||"Could not fetch balance data.",variant:"destructive"}):a({title:"Network Error",description:"Please check your connection and try again.",variant:"destructive"})}finally{m(!1)}},M=async()=>{var D,j,I,L,J;if(!e||!($!=null&&$.id)){a({title:"Missing Information",description:"Please select an amount and ensure you're logged in.",variant:"destructive"});return}y(!0);try{const O=await Vt.post("/api/deposit",{id:$.id,amount:e},{headers:{"X-Privy-User-Id":c.id,"X-Wallet-Address":$.wallet_address,"Content-Type":"application/json"}});if(O.data.success){const G=((D=k.find(oe=>oe.value===e))==null?void 0:D.points)||0;if(a({title:" Deposit Successful!",description:`You've earned ${G} Lighter Points!`,duration:3e3}),window.Audio)try{const oe=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");oe.volume=.6,oe.play().catch(()=>{})}catch{}const Q=O.data.new_points-E||0||0,ie=O.data.new_balance||0,de=O.data.tx_hash||"";l("/deposit/success",{state:{amount:e,pointsEarned:Q,pointsValue:(Q*4.005).toFixed(2),newBalance:ie,transactionHash:de,blockNumber:O.data.block_number||null,gasUsed:O.data.gas_used||null,referralInfo:O.data.referral_info||null,date:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}}),setTimeout(()=>{R()},1e3)}else throw new Error(O.data.error||"Deposit failed")}catch(O){if(console.error(" Deposit error:",O),Vt.isAxiosError(O)){const G=((I=(j=O.response)==null?void 0:j.data)==null?void 0:I.error)||((J=(L=O.response)==null?void 0:L.data)==null?void 0:J.message)||"Deposit failed. Please try again.";a({title:"Deposit Failed",description:G,variant:"destructive"})}else a({title:"Deposit Error",description:O.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{y(!1)}};x.useEffect(()=>{u&&(c!=null&&c.id)&&R()},[u,c==null?void 0:c.id]);const F=D=>`${D.slice(0,6)}...${D.slice(-4)}`,W=async()=>{try{await R(),a({title:" Refreshed!",description:"Balance updated successfully",variant:"default"})}catch(D){console.error(" Refresh failed:",D),a({title:"Refresh Failed",description:"Could not update balance",variant:"destructive"})}};x.useEffect(()=>{const D=setInterval(()=>{i(j=>j>0?j-1:0)},1e3);return()=>clearInterval(D)},[]),x.useEffect(()=>{const D=setInterval(()=>{o(j=>(j+1)%3)},4e3);return()=>clearInterval(D)},[]);const V=D=>{const j=Math.floor(D/3600),I=Math.floor(D%3600/60),L=D%60;return`${j.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},B=[{title:`Make your first
deposit and earn`,subtitle:"Up to 1 lighter point",image:dM},{title:`Refer friends
and multiply`,subtitle:"Earn 10% of their points",image:dM},{title:`Farm daily
for bonus points`,subtitle:"Compound your earnings",image:dM}],k=[{value:.1,points:24.9},{value:250,points:62.3},{value:500,points:124.7},{value:1e3,points:249.4}],C=D=>{n(D),setTimeout(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},100)},S=async()=>{try{await navigator.clipboard.writeText(t),a({title:" Address Copied!",description:"Deposit address copied to clipboard"})}catch{a({title:"Copy Failed",description:"Unable to copy address",variant:"destructive"})}},T=async()=>{try{await navigator.clipboard.writeText(($==null?void 0:$.wallet_address)||h||""),a({title:" Wallet Copied!",description:"Wallet address copied to clipboard"})}catch{a({title:"Copy Failed",description:"Unable to copy wallet address",variant:"destructive"})}};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>l(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Quick Start"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"deposit & earn"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-gradient-to-r from-[#7D5A02] to-[#A07715] rounded-2xl p-6 mb-6 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs(ye.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeInOut"},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:B[s].title.split(`
`).map((D,j)=>d.jsxs("span",{children:[D,j<B[s].title.split(`
`).length-1&&d.jsx("br",{})]},j))}),d.jsx("p",{className:"text-white/90 font-medium mb-4",children:B[s].subtitle})]},s),d.jsx("div",{className:"flex gap-1 mb-4",children:B.map((D,j)=>d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${j===s?"bg-white":"bg-white/30"}`},j))}),d.jsxs("div",{className:"flex items-center gap-2 text-white",children:[d.jsx("img",{src:WAe,alt:"",className:"h-5 w-5",style:{filter:"brightness(0) invert(1)"}}),d.jsx("span",{className:"text-lg font-bold",children:V(r)})]})]}),d.jsx(ye.img,{src:B[s].image,alt:"Promo",className:"absolute right-4 top-1/4 -translate-y-1/2 w-32 h-32 object-contain",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2}},`image-${s}`)]}),d.jsxs(ye.div,{className:"border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{backgroundImage:`url(${TDt})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[d.jsx("p",{className:"text-golden-light text-md font-bold mb-2",children:"Wallet Balance:"}),d.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[d.jsx("p",{className:"text-4xl font-bold text-golden-light",children:p?d.jsx(ye.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."}):`$${(w||0).toFixed(2)} USDC`}),d.jsx("button",{onClick:W,disabled:p,className:"text-golden-light hover:opacity-80 mb-1 mr-6 disabled:opacity-50",children:d.jsx(bp,{className:`h-4 w-4 ${p?"animate-spin":""}`})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-10",children:[d.jsx("span",{className:"text-sm font-extralight",children:($==null?void 0:$.wallet_address)&&F($.wallet_address)}),d.jsx("button",{className:"text-golden-light",onClick:T,children:d.jsx("img",{src:zAe,alt:"",className:"h-4 w-auto"})})]})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Choose Amount:"}),d.jsx(qt,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-golden-light/20 text-golden-light hover:bg-golden-light/30",children:d.jsx(oTe,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"grid grid-cols-4 gap-3",children:k.map(D=>d.jsxs("button",{onClick:()=>C(D.value),className:`bg-[#D4B679]/90 hover:bg-[#D4B679] rounded-xl p-4 flex flex-col items-center justify-center transition-all duration-200 ${e===D.value?"ring-2 ring-golden-light scale-105":""}`,children:[d.jsxs("span",{className:"text-xl font-bold text-background",children:["$",D.value]}),d.jsxs("span",{className:"text-xs text-background/70 mt-1",children:["(~",D.points,"pt)"]})]},D.value))})]}),d.jsx(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(jhe,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Instant Point Credit"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(UD,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Secured by Privy"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(iTe,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"2,847 farmers trust us"})]})]})}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Deposit Address:"}),d.jsx("p",{className:"text-center text-golden-light font-extralight opacity-60 text-sm mb-4",children:"Send only USDC to this address"}),d.jsx("div",{className:"border-2 border-dashed border-golden-light/30 rounded-xl p-4 cursor-pointer hover:border-golden-light/50 transition-colors",onClick:S,children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Aw,{className:"w-5 h-5 text-golden-light"}),d.jsx("span",{className:"text-golden-light font-mono text-xs break-all",children:t})]})}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center mt-3",children:"Tap to copy address"})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6",children:d.jsxs(qt,{onClick:M,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white disabled:opacity-50",disabled:!e||g,children:[g?d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full mr-2"}):d.jsx("img",{src:CK,alt:"",className:"h-6 mt-0.5 w-auto",style:{filter:"brightness(0) invert(1)"}}),g?"Processing...":`Deposit $${e||0}`]})}),e&&!g&&d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4 text-center",children:"Ready to deposit"}),d.jsxs("p",{className:"text-center text-golden-light font-extralight opacity-60 mb-4",children:["Click the deposit button to earn $",e," worth of USDC and get ",((_=k.find(D=>D.value===e))==null?void 0:_.points)||0," points"]}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-foreground",children:["You'll earn ",d.jsxs("span",{className:"font-semibold text-golden-light",children:[((P=k.find(D=>D.value===e))==null?void 0:P.points)||0," points"]})]})})]}),d.jsx("div",{className:"text-center mb-6",children:d.jsx("button",{className:"text-golden-light hover:text-golden-light/80 font-medium transition-colors",children:"Need help?"})}),d.jsx(Rd,{})]})},Dke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABkCAYAAAAonQZNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhiSURBVHgB7VxdTFRHFJ4FqqKhWoOCTQnW/mjSplVp7EOTak3a1MRW+sCDrak+VH0ysbpJaW0KSmMwrZpoJfVBoAhWjRrRhgIRlX+jAlJsAkWx/LruAoLIP3tvv1nnrsOwbK+729R7d77kZvbuvTN3z7dnZs6cc+4QIiEhISEhISEhISEhISEhISEhISHxlMNCzAUqj0o/JCcnh0RGRsYsX748rrOz80VFUSLCwsL65syZ05SXl1dttVpbtHv5ekENm832OshKczqdzaqqDuJw4lBYOUC/x/VDd+/efY2rZjYl0gWX0CDF4nA4NqG0qQxjY2MqD+Hc1t3dvZnW49sJFriFhRYlgoRRaJSKrqmRo6geQK+ze5yotyNYySMdHR2fQfhhRpoyGWECeQq9HxhpbW39lAQbduzYEQPhG71pmDf+GIl/bdu2LYYEExobG7/Wup8v0OqhnUQSLNizZ08EZC7nCfCVOJRlWVlZM/Q8N4QYHMuWLYtFMR9jFbFYLD7ZYqhHWP35QKyeOoYnDubHCyimh4aG0lOfZ0RWf4bdbtc1zhmeuMHBwTESOKs/BHbeM7puJMaEW7NiYmL6SOCIG4bmdROTwk1abm7uGxjTT1BzTPUTbEVRf/Xq1WhiVuTn589DF01S2dKKGbG+Tanq41l1eHj4aEJCQigxCdwatmHDhmkPHz78HDLWcQL7TNhj3lxN9EPbPiQmg6WiomI5utN5la1FNaFVP6FpG9rOWrFiRRgxC6AFC0ZHRw9AtgdUQG4BL5KmCGT8G6kKt9Cvqq+vf56YAXBEzqqtrd0Kof7WJJ1sLONcRXdw/KGRN9lKQrhW0dTUtJA91nCeEfcPBmFht27diodAZYJWTJCf0z7qrMw6ePDgopMnT0YPDQ39iHOHSKzgi3NAk/c2NDREEqOjra1tMQTKZkRogiqelcb9dSlcSp9cunSJH58sRUVFS4uLi79HG/m4pwbHnziqUe/3kpKSnZcvX16iPvbBGROHDx+OhD8sGYLYKRPeBn+OsNaWlpbt2dnZz3pre8uWLVPPnDkzNy0tbcG5c+ci8SxdK4OnEe5/GVoyDVq2nmmEN3tM4bpZH9zdaSkpKa94atNwiIuLe2b16tXTV61aNdXDZVEwCzTlXZCQq453dU+YKblrYygLMZB/IHQx45GWmJj43LVr19ZAkGRY8ukDAwMn+vv7MyHszpqamjVbt26dJdY5derUgr6+Pmpe9HLj2ATSlPEzQt3NmzfX79u3L5xryniE0ZkP9tU69dHMNyLOeux8GEf5hQsX1tH7CwoKZnR1dX2p6jAvuPbsmPl2oY0oYmC4/mE6GEOgw1RZNCE9Ecd9P4TjVxx5/FjlwcRQQJL2eXBkZCS7rKxsMTE4XKTBRgqHluR462IiGXq/02ZSkFd+5cqVNVRLxecbFhi/vqPCMSF9ceWI4xh/2gbSrKmpqTOJmYAgxlsQrlMNDBTOVuvDpHLo2LFji7jHmScofP/+/f1USk5gX+CqzLo5/XwevrX3VKObF5MBLp3ZEK7W1/AbD0baDQRZNqJdw5oXuvxPnZ2dL6GIgsBaCM6faFJvc3PzdoThioRLhkqz0hWsgbdhLorwkBDX7f5qhhNLLScxOHQRR/sWCSAC3d7/AV3EhYeHO1AMBkje0JUrVxreRa2LuClTptxGYSMBAGblmbGxsXt7enq+EPI0TJmXZoE5ss9lQ/hnjrjW7pyD8jesYVeKzyJmQnp6+lKVc0f7Cd4A7qUG8NmzZxdyjzMXeQjYfksl9WPJNRl5FO2Yva3UVUVMBJcGZGRkTIOAR6mUXuIB48jR8x3vYcGfU1FeXr5GiHEaWgNdP/7IkSM0ke9nHE5OYGUiF+5rAzioRyVP0LIJdQS30lEaUCFmAufILKVKMokjcwRHSWFh4Vp6P8awiN7eXrcjkxHrjXAKGrzZBQ2cS8wE6hqvrq7+GFqUBNf5EeY6z4DmJFdVVX2UlJQ0IQKVk5OzAAQeBCE9lBnxPQSeQA4u17nVatWVZmoo0GBNQkJC+KZNm3SF37hgzZiXLs+nPFCGabDmfaGpoHkvwS0oDb6I4UHFswuGDw8+gPF8aPfu3a96ajOowALSO9mYNmnKg3CNBqStmOnFSNo4EjG+TsnNzY2iAWk4FyIPHDgwlZgN9+7de1N9NAPzKRBOYfBTBQJL29vb4/kYBX1zEL6+JaWlpSloowD33FBZCgRNiSguLk7BiiWOmADjkm4aGhpo0k2FRpAOk4cS/QtNujl9+vQ82II/qDqSbjCZ7b9+/brxk2540BUES/NqFrureC6kedWqE80ahS+Fa5X4oxYRs4EmFmLSoJH/Hk1oDxg3p+jN2OQIrDFNYqEImsoK+/D8I14Clsqq8KmsQizX8HCPf7ARp/8XydOsHKysrFxFzAyYFdFYodB8uoCm62N9nGM2rfMI+oIISDuh+u/i0iaYhrKyMnOOdQzu7nvx4sW3IXCXGhjYjx8//o6eH2DUd7ncUSPEaKkjIVByTEXceLaeGw3/9mBEREQgZVAQOx7Wc6PhiYuOjm5DQfcSIf6A1e+Piopq03O/4YmDCUEdo3fYi7o+g9W/U1dX10KCBXQTAjqy+5oUpBnUT7KZgeE1jgJO0WwUjfTdevLkyTsqy4lpyMzMzCHBBriW1kJpRrw4QyeA27Bl2GazrSVBBn6LoK9U5opXdYQuGWlj3d3d33hqLxjg3hcJbvWNqv5NqTocDsdm6vgU2gkquIWm25vZ7fZDbBs0GtfVlmS0HGTboP0kbIPm28NMAn4DPUtqampMfHz8EhD0Ms4jcPTBTrsNJ0EVNK0dmqZ4qCchISEhISEhISEhISEhISEhISEhYQ78AwLL51sWiMa6AAAAAElFTkSuQmCC",pzt=()=>{const t=ur(),e=i0(),{toast:n}=wa(),r=e.state||{amount:25,pointsEarned:.87,pointsValue:30.45,newBalance:9,transactionHash:"SDFSDF5484SD",blockNumber:null,gasUsed:null,referralInfo:null,date:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})},[i,s]=x.useState(!0);x.useEffect(()=>{const u=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(u)},[]);const o=async()=>{const u=` I just earned ${r.pointsEarned.toFixed(2)} Lighter Points worth $${r.pointsValue} on LighterFarm! `;if(navigator.share)try{await navigator.share({title:"Lighter Farm Achievement",text:u,url:window.location.origin}),n({title:" Shared!",description:"Achievement shared successfully"})}catch(h){console.log("Share cancelled or failed:",h)}else try{await navigator.clipboard.writeText(u),n({title:" Copied!",description:"Achievement copied to clipboard"})}catch{n({title:"Share Failed",description:"Unable to share achievement",variant:"destructive"})}},a=()=>{const u=`https://basescan.org/tx/${r.transactionHash}`;window.open(u,"_blank"),n({title:" Opening Explorer",description:"Transaction details will open in new tab"})},l=()=>{t("/dashboard")},c=()=>{t("/farm")};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 flex flex-col px-4",children:[i&&d.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:d.jsxs(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-golden-light mb-2",children:"Success!"}),d.jsx("p",{className:"text-golden-light",children:"Deposit completed successfully"})]})}),d.jsxs("header",{className:"flex items-center justify-center py-6 relative",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Deposit Complete"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"transaction successful"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto absolute right-0"})]}),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[d.jsx(ye.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6,delay:.2},className:"mb-6 relative",children:d.jsxs("div",{className:"w-32 h-32 bg-gradient-to-r from-[#7D5A02] to-[#A07715] rounded-full flex items-center justify-center relative",children:[d.jsx(jhe,{className:"w-16 h-16 text-white"}),d.jsx(ye.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full border-4 border-golden-light"}),d.jsx(ye.div,{animate:{scale:[1,1.4,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute inset-0 rounded-full border-2 border-golden-light"})]})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-golden-light mb-3",children:"Congratulations!"}),d.jsx("p",{className:"text-lg text-golden-light mb-2",children:"You've successfully earned"}),d.jsxs("p",{className:"text-4xl font-bold text-golden-light mb-2",children:[r.pointsEarned.toFixed(2)," Lighter Points"]}),d.jsxs("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:["Worth approximately $",r.pointsValue]})]}),d.jsxs(ye.div,{className:"grid grid-cols-2 gap-4 w-full mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-golden-light mb-1",children:["$",r.amount]}),d.jsx("div",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Deposited"})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-golden-light mb-1",children:["$",r.newBalance.toFixed(2)]}),d.jsx("div",{className:"text-xs text-golden-light font-extralight opacity-60",children:"New Balance"})]})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Transaction Details"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-green-500 font-semibold text-sm",children:"Confirmed"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Transaction Hash"}),d.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-foreground font-semibold hover:text-golden-light transition-colors",children:[d.jsxs("span",{className:"font-mono text-sm",children:[r.transactionHash.slice(0,6),"...",r.transactionHash.slice(-4)]}),d.jsx(x3,{className:"w-4 h-4"})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Date & Time"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:r.date})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Network"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:"Base Mainnet"})]}),r.blockNumber&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Block Number"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:r.blockNumber.toLocaleString()})]}),r.gasUsed&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Gas Used"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:r.gasUsed.toLocaleString()})]})]})]})]}),d.jsxs("div",{className:"space-y-3 px-4",children:[d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:d.jsxs(qt,{onClick:o,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white",children:[d.jsx("img",{src:Dke,alt:"",className:"h-7 w-auto mr-2"}),"Share Achievement"]})}),d.jsxs(ye.div,{className:"grid grid-cols-2 gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:[d.jsx(qt,{onClick:c,className:"h-12 bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold rounded-md",children:"Start Farming"}),d.jsx(qt,{onClick:l,className:"h-12 border border-golden-light/30 bg-transparent text-golden-light font-bold rounded-md hover:bg-golden-light/10",children:"View Dashboard"})]})]})]})},mzt=({isOpen:t,onClose:e,data:n,onStakeAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const p=setTimeout(()=>a(1),300),m=setTimeout(()=>a(2),800),g=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(p),clearTimeout(m),clearTimeout(g)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=p=>`${p.slice(0,6)}...${p.slice(-6)}`,f=()=>{e(),c("/dashboard")};return n?d.jsx(kw,{children:t&&d.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((p,m)=>d.jsx(ye.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},m))}),d.jsxs(ye.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:p=>p.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(wA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:si,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(ye.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(ye.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(gA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Stake Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your USDL is now earning rewards"})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Amount Staked"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.staked_amount).toLocaleString()]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"APY"})}),d.jsx("p",{className:"text-lg font-bold text-[#D4B679]",children:n.estimated_apy})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Daily Yield"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.estimated_daily_yield).toFixed(4)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4 ",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Total Staked"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.total_staked).toLocaleString()]})]})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:h(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Aw,{size:14,className:"text-gray-400 hover:text-black"})})]})]})})]}),d.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(qt,{onClick:f,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},Bke=({isOpen:t,onClose:e,data:n,onUnstakeAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const m=setTimeout(()=>a(1),300),g=setTimeout(()=>a(2),800),y=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(m),clearTimeout(g),clearTimeout(y)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=m=>`${m.slice(0,6)}...${m.slice(-6)}`,p=()=>{e(),c("/dashboard")};return n?d.jsx(kw,{children:t&&d.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((m,g)=>d.jsx(ye.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},g))}),d.jsxs(ye.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:m=>m.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(wA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:si,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(ye.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(ye.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(gA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Unstake Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your USDL has been withdrawn with rewards"})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Total Received"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.total_received).toLocaleString()]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Unstaked Amount"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.unstaked_amount).toLocaleString()]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Rewards Earned"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.rewards_earned).toLocaleString()]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Remaining Staked"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.remaining_staked).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Penalty Fee"}),d.jsx("span",{className:"text-sm font-bold text-gray-400",children:parseFloat(n.penalty_fee)>0?`$${parseFloat(n.penalty_fee).toLocaleString()}`:"None"})]})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:f(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Aw,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:h(n.timestamp)})]})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(qt,{onClick:p,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},gzt=()=>{const[t,e]=x.useState("stake"),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(!1),{toast:u}=wa(),h=ur(),{user:f,authenticated:p,getAccessToken:m}=eo(),[g,y]=x.useState(!1),[w,v]=x.useState(null),[b,A]=x.useState(!1),[E,$]=x.useState(null),[N,R]=x.useState(0),[M,F]=x.useState(0),W=localStorage.getItem(f==null?void 0:f.id),V=W?JSON.parse(W):null,B=V==null?void 0:V.wallet_address,[k,C]=x.useState("");x.useEffect(()=>{(async()=>{if(!B){u({title:"Wallet Required",description:"Wallet address not found.",variant:"destructive"});return}R((V==null?void 0:V.usdl_balance)||0),F((V==null?void 0:V.staked_amount)||0)})()},[W]),x.useEffect(()=>{(async()=>{if(W){const he=JSON.parse(W);C(he.id)}})()},[B,f==null?void 0:f.id]);const S=oe=>{e(oe),r(""),s("")},T=async()=>{var oe,he,we,fe,ke,be,Ue,Me,Se;if(!n||parseFloat(n)<=0){u({title:"Invalid Amount",description:"Please enter a valid stake amount",variant:"destructive"});return}if(!p||!(f!=null&&f.id)){u({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!B){u({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!k){u({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}a(!0);try{const xe={wallet_address:B,amount:n,duration_days:0},Ne={"X-Privy-User-Id":k,"X-Wallet-Address":B,"Content-Type":"application/json",Accept:"application/json"},Be=await Vt.post("/api/stake",xe,{headers:Ne});if(Be.status===200&&((oe=Be.data)!=null&&oe.success)){if(v(Be.data.data),y(!0),r(""),window.Audio)try{const Ce=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ce.volume=.6,Ce.play().catch(()=>{})}catch{}}else u({title:"Stake failed",description:((we=(he=Be.data)==null?void 0:he.error)==null?void 0:we.message)||((fe=Be.data)==null?void 0:fe.error)||"Unexpected response from server",variant:"destructive"})}catch(xe){console.error(" Stake error details:",xe);let Ne="Network or server error",Be="Stake Error";if(Vt.isAxiosError(xe))if(xe.response){const Ce=xe.response.status,De=xe.response.data;Ce===400?(Be="Invalid Request",(be=(ke=De==null?void 0:De.detail)==null?void 0:ke.error)!=null&&be.message?Ne=De.detail.error.message:(Ue=De==null?void 0:De.error)!=null&&Ue.message?Ne=De.error.message:De!=null&&De.error?Ne=De.error:De!=null&&De.message?Ne=De.message:Ne="Please check your input and try again"):Ce===401?(Be="Authentication Failed",Ne=((Me=De==null?void 0:De.error)==null?void 0:Me.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ce===404?(Be="API Endpoint Not Found",Ne="The API endpoint is not available. Please check if your server is running."):Ce>=500?(Be="Server Error",Ne="Server is temporarily unavailable. Please try again later"):Ne=((Se=De==null?void 0:De.error)==null?void 0:Se.message)||(De==null?void 0:De.error)||(De==null?void 0:De.message)||`Server error (${Ce})`}else xe.request?(Be="Connection Error",Ne="Unable to connect to server. Please check your internet connection."):Ne=xe.message||"Failed to make request";else xe.message&&xe.message.includes("access token")?(Be="Authentication Error",Ne="Failed to authenticate. Please try logging out and back in."):xe instanceof Error?Ne=xe.message:typeof xe=="string"&&(Ne=xe);u({title:Be,description:Ne,variant:"destructive"})}finally{a(!1)}},_=async()=>{var oe,he,we,fe,ke,be,Ue,Me,Se;if(!i||parseFloat(i)<=0){u({title:"Invalid Amount",description:"Please enter a valid unstake amount",variant:"destructive"});return}if(!p||!(f!=null&&f.id)){u({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!B){u({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!k){u({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}c(!0);try{const xe={wallet_address:B,amount:i,force_unlock:"false"},Ne={"X-Privy-User-Id":k,"X-Wallet-Address":B,"Content-Type":"application/json",Accept:"application/json"},Be=await Vt.post("/api/unstake",xe,{headers:Ne});if(Be.status===200&&((oe=Be.data)!=null&&oe.success)){if($(Be.data.data),A(!0),s(""),window.Audio)try{const Ce=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ce.volume=.6,Ce.play().catch(()=>{})}catch{}}else u({title:"Unstake failed",description:((we=(he=Be.data)==null?void 0:he.error)==null?void 0:we.message)||((fe=Be.data)==null?void 0:fe.error)||"Unexpected response from server",variant:"destructive"})}catch(xe){console.error(" Unstake error details:",xe);let Ne="Network or server error",Be="Unstake Error";if(Vt.isAxiosError(xe))if(xe.response){const Ce=xe.response.status,De=xe.response.data;Ce===400?(Be="Invalid Request",(be=(ke=De==null?void 0:De.detail)==null?void 0:ke.error)!=null&&be.message?Ne=De.detail.error.message:(Ue=De==null?void 0:De.error)!=null&&Ue.message?Ne=De.error.message:De!=null&&De.error?Ne=De.error:De!=null&&De.message?Ne=De.message:Ne="Please check your input and try again"):Ce===401?(Be="Authentication Failed",Ne=((Me=De==null?void 0:De.error)==null?void 0:Me.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ce===404?(Be="API Endpoint Not Found",Ne="The API endpoint is not available. Please check if your server is running."):Ce>=500?(Be="Server Error",Ne="Server is temporarily unavailable. Please try again later"):Ne=((Se=De==null?void 0:De.error)==null?void 0:Se.message)||(De==null?void 0:De.error)||(De==null?void 0:De.message)||`Server error (${Ce})`}else xe.request?(Be="Connection Error",Ne="Unable to connect to server. Please check your internet connection."):Ne=xe.message||"Failed to make request";else xe.message&&xe.message.includes("access token")?(Be="Authentication Error",Ne="Failed to authenticate. Please try logging out and back in."):xe instanceof Error?Ne=xe.message:typeof xe=="string"&&(Ne=xe);u({title:Be,description:Ne,variant:"destructive"})}finally{c(!1)}},P=()=>{y(!1),v(null)},D=()=>{y(!1),v(null),setTimeout(()=>{const oe=document.querySelector('input[type="number"]');oe&&oe.focus()},100)},j=()=>{A(!1),$(null)},I=()=>{A(!1),$(null),setTimeout(()=>{const oe=document.querySelector('input[type="number"]');oe&&oe.focus()},100)},L=()=>{const oe=parseFloat(n)||0,he=oe/100*7.9,we=414,fe=oe/28450*100;return{weekly:he.toFixed(1),apy:we,poolShare:fe.toFixed(1)}},J=()=>{const oe=parseFloat(i)||0,he=oe/100*7.9,we=414,fe=oe/28450*100;return{weeklyLoss:he.toFixed(1),apy:we,poolShareLoss:fe.toFixed(1)}},O=L(),G=J(),Z=oe=>{const he=(N*oe/100).toFixed(2);r(he)},Q=oe=>{const he=(M*oe/100).toFixed(2);s(he)},ie=t==="stake"?n:i,de=t==="stake"?o:l;return d.jsxs(d.Fragment,{children:[d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>h(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Farm USDL"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"for points"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-2 mb-4 relative z-10 grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsx("button",{onClick:()=>S("stake"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="stake"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(FQ,{className:"w-4 h-4"}),"Stake"]})}),d.jsx("button",{onClick:()=>S("unstake"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="unstake"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(FD,{className:"w-4 h-4"}),"Unstake"]})})]}),d.jsx(kw,{mode:"wait",children:d.jsxs(ye.div,{initial:{opacity:0,x:t==="stake"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="stake"?20:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Available":"Available to Unstake"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[t==="stake"?N.toFixed(2):M.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Total Farmed":"Current Balance"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[t==="stake"?M.toFixed(2):N.toFixed(2)," USDL"]})]})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsxs("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:[t==="stake"?"Stake":"Unstake"," Amount:"]}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(bC,{type:"number",value:ie,onChange:oe=>t==="stake"?r(oe.target.value):s(oe.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:"USDL"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(qt,{onClick:()=>t==="stake"?Z(25):Q(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(qt,{onClick:()=>t==="stake"?Z(50):Q(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(qt,{onClick:()=>t==="stake"?Z(75):Q(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(qt,{onClick:()=>t==="stake"?Z(100):Q(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]})]}),d.jsx("div",{className:"mb-6 relative z-10",children:d.jsx(qt,{onClick:t==="stake"?T:_,disabled:!ie||parseFloat(ie)<=0||t==="unstake"&&parseFloat(ie)>M||de||!p||!B||!k,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2",children:de?d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(GW,{className:"w-5 h-5"})}),t==="stake"?"Staking...":"Unstaking..."]}):d.jsxs(d.Fragment,{children:[t==="stake"?d.jsx(FQ,{className:"w-5 h-5"}):d.jsx(FD,{className:"w-5 h-5"}),t==="stake"?"Stake Now":"Unstake Now"]})})}),ie&&parseFloat(ie)>0&&d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:t==="stake"?"Projections:":"Impact of Unstaking:"}),d.jsx("div",{className:"space-y-3",children:t==="stake"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["~",O.weekly," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"APY"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[O.apy,"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Pool Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[O.poolShare,"%"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points Loss"}),d.jsxs("span",{className:"text-red-400 font-semibold",children:["-",G.weeklyLoss," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll Receive"}),d.jsxs("span",{className:"text-green-400 font-semibold",children:["$",i," USDC"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Remaining Staked"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",(M-parseFloat(i||"0")).toFixed(2)," USDL"]})]})]})})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Pool Statistics:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Staked"}),d.jsx("span",{className:"text-foreground font-semibold",children:"$28,450"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Your Share":"Your Current Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[(M/28450*100).toFixed(2),"%"]})]})]})]})]},t)}),d.jsx(Rd,{})]}),d.jsx(mzt,{isOpen:g,onClose:P,data:w,onStakeAgain:D}),d.jsx(Bke,{isOpen:b,onClose:j,data:E,onUnstakeAgain:I})]})},$M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACeCAYAAAASTnVOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAuzSURBVHgB7Z17jFxVHcd/89qZ2Z19TaejVrCrIhoxWgG7+MAUS1ojYMEAAZUEG0tpJWhMMTExPgMm1r+sEIg0PCxFseoqqKU2xEcqKi1SG1JIK7UtEbszu93dzs7szs6D7+/OubvDLEt3Z+ee+/p9kpsz9+7s3b3ne3+/8zu/c+65RIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCGchRP4ljC1GtTqoqs3T+FXsQDqdXh2NRr8ej8f7E4nEYD6fH6TWCh5sOF+AbMaXYi9duvSTgUDgB8FgcA22FdguDofD/5qcnHyFWgMLXens7Hx3d3f3xra2tpMTExMjZLPgQfIfbdi+gO0DVKv8jmq1+mFY+YeodVRSqdRF8Bov4POdEPsIRH8n2dxU+E3sUDKZ/BzKjzQch97Vbmoh5XL5K1zCg7DAYZS3ks2EyUfArfbAXd+Ij+c0/gxilMkaDNeNm6lENuMny26Hq14DUc8nPVQa9m2P9n0j9pIlS3oRiG2Chb1NHfJ8V6sRv4gd4sgb5UU0ExHb3hXSjS/E7urquhjumwOmGPkYXwRosVjsUhTvJ5/jectGW92P4ioSvC822urLUHycBG+LjQTKBWirP6V2fRd9N+JlscPoZm1E+TG177vouxGvBmghDHa8Dy58NQRnkdmqfS+2Jy0bgw5dEPlWbOeqQ74XmvGkZWOUaTnaak6idJIwjZcs27DeRCKxFELfgo9vUcd9H5iZeElsQ9RIJLIS7vvzNJMtExeu8JQbT6VSyxCUXU8z7lsCszo8FaCVSqXLYdWfoRnXLULX4RmxEYH3woWvQnudIOtEDtDscy+2Dl/vfJb8/54ROxqNXgWhrySLQQCYQh/+QDqdPt7b28sDLDxJodl6NHIAyN+vw3YC59zd19fXRhbhCbFR+WzNV/NHspZqe3v70ygvxHYuPMlfIDinY5sR3BAa//v6UCg0gO2taILW5nK5x8miHoQXxA5XKpWbUX5U7VvZ1eKAdhnVxA3wLEUI/jsEhlfSwgQ35pTj926BN9qO0/D8tyBPTkSA+V6yCNeLjQpLwypuwse0OmRlUFbCjfVNiML1VgqwOtVqBQI9Djd8Dc1PcGNOOb6/Cb93H/8+TsPz91nwAM5/B1mEq8XGqFYXKooruY/0EMxmsz9E+V2qWXmZhWfBcMP9Ci6Zu32Vs5yjgu99Cd+/hy1a3Tj8OyHs347z7yQJ0GYTDoe5jV5P1rfVJob7Hhwc/BYs8DtUe6JmWnCUP4enuUF9t7FuDQEh9G343o+V0CF1Tv792zKZzDb1PWmzG4iggvgxHm7jdPanjUQNLPDb7NKpJnjFFByu+VEEbRw/vFz/Szh+AkJfi+9tqxOaz8UabIbQd5OFQjOuzaChQnm60ZexRUk/puDfg4As3J1UJzhH6dg/Of3lapXTuFvw8e31QvPwK7YNOM/9ZLHQjFstO4DK4wn/7yL7smSG4LDIu1B+DaIZba9qg3lbrr7DT5uwq36H+sxtc1WNs69XQjc+8WkJrhQb2TKelOCESYSGG0YbvhX/zx2m4HU/N29Es56N7po6fjNulAfUz84W1LUEV4qN8epPwEJWkDMwAiwVpXOzMqd4ptAoPguhHyKNQhO5T+wAPwoLoS9T+04ZqzYEh4A/4qiaXkfEOqFvxI3xKGkWmsh9YnO2jB997Vf7ThrVMvrKHFXjf9xEde1wneu+DkL/jGwQmshdYvMkwn70rVeThsi1STgLFoKg90LwDVSzZA7amGtwI+wim4QmcpHYGIDgdOjtNDPdyKlj1abg90PoL3J0Xi6Xr0YQN0CqT0424RaxAxD7fFQcP9nhhofzDMFhyduLxWLf0NDQb6hW11Y98D8vXCF2PB4/Bxmo9bCUXnXIDZMIDWFHRkaOq33bLNrELWKvRHEdLNsc2JfpRk3geLF7enqWq3VQ4uqQTA1uEjdY9qfhvtfV7YtVN4mjxU4kEmnkwC+F+/bVqk5W4WixIfS1KC4noSU41WICGOzgNcuugFX3kgbQVEySx3Gq2OFoNLoBQl9SyzRa/2QH/layq6sriS5eBUmQlteLGhGrhkKh0ujo6On6P02agk5HBjtIi56HyueM0wWkB67sfRBkf20OYdWqBXyrOP8UymO4ofYj2XIQn7V5FMeJ3dnZuQRWvRmVsgVbF+mhfsDCcjiFiu2FqampbwwPD3N2TctSl45bghpt9XvgSu9CZbyJ9N6MAV2ov5eCS++LxWIvFQoFnsJkeYbNadE4J07WqBUTtApNejE9yUrc2BuTyWScNOAUsY3KRrbsElz8Zh/0q6eDMlxvPyw8TRpwSqUa0XZbW9sVdQvJ+gJ+gghFgjTgGDcOq+aU6DryD2bTMVYqlYZJA06xbLbqtSjPIx8Bq57C9uzp06fHSANOsOxgKpVahYvuJ/9gzic/AavmOWl50oATxOYxap6+80HyD+arJA7gRt+Nj0XSgN1uPJROp3mq0Sq174cFb8xr/A/E3nH06FFtGTRbLRsJFI68t+Cizacw/TBWbVxjpVIZyGazT5BG7LTsIIKyCzmxABceIf/Alv3fYrH4FGmedWObZSMHzpH39RC6nfwFW/aueDz+Z9KMbZYNkfmpxrXk0fVT54AtOTM5OflHDHOOk2bsbLN7ITi/Jc8P7bTprjnqvgdC/1Pta71228SG0Hzhtk6a14jZ1XoJG6+ZMqqO+6PNxkXzsN5z5B/BT+GaH8hkMv8nm7BN7LGxsedx8T/FVlCHvDof3LyuY8qqc2QTdk5e4Lzwy9FolMsVcOu6n+EyFpoj62EXPoau1sPIgXO2zLbHgGwPjniSXywW4ywav+Z4mRrys6pC2MoKuLFWkVrjxGLMB/D3YNz6plOnTg2Sjdgp9qxZlR0dHW+ORCJRVIxl7fjw8HAmmUw+GA6HbyAN8KuUkS376tDQ0DayGTv7uLPa6PHxcS3BCwQYJX38An9vgByAq1c4bBYLpwo3/h2eNrwH3uQkOQBfik16mi9uivaUy+VnyCH4VWwd8NDlQ7Dq58khiNgWAPfN2cG9iEH2qUOOSAmL2BaArt1JCL41n8+bAacjEkYidovhrhYKfrUEp4JtX0elHnnIvXUYCRRwGEHZg+hXT5DDELFbh9kuH4DQfyIHDvCIG28N5tRgtupHyKEjeSJ2azCsGkLvglXvJYcibrw18EP2hycmJhwrNCOW3RqqGOzYkcvl/kEORsReJLzqMIrjsOq/ksYlM5pBxG4eMyhjge89c+bMc+RwpM1uHnMS4eGpqanHyMbpRvNFLHtx/A9i3zcyMvIKuQARexFA6EPFYpHfDqDlKczFImI3Txbu+8mxsTGe9eKKmbEi9sIxVzp6OpFI8OuaXDPvXQK0hcOB2WSpVHoik8loWQulVYhlNwG6W4/Ahf+aXIaIvXDG2aqRLcuQyxCxFwYnUAZg1YfIhUibvQAQlPGEhJ2IwI+SCxHLnj9s1b8vFAr7yaWI2PMEVn0MxVY3ttUmIvY8UJMI96KrxXPAXftosYj9xpgjW89gvPph0rQIvFVIgPbGTK9EODQ0xG21qxcMEMueG1PYg+hq7SIPrAwhYs+NadWPYQhT+5plViBizw2/H+ZZbE+qfdcv4SViz80kArPt2Wz232pf3LgXgTXzsOWL4+Pjf0M5RR5BxH4tZlcrD8F/ArGPkIcQsV+LGZQdgtA8hKl9fVErEbFncwJi353P581lrDyztqqI3QCE/nskEuHVjczpRp5ZeVEyaHXweqpIoOxGDpyX2PTc8ppi2TVMYfcFg8FfkkfXUfWlZUNQcx008+UsvOVg1X9AtkzLO7bswK+L3plLYNQHXzuw/ZY8jC/FRj/6KQj+ItUsm2eg8GuXdsKqR8jDOO792TooFApH2tvbBzFG3QORD0L87yMo4zXLXD1efTb88H6OuYh3dHR0Q+hyLpfjdtrRz1YLgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIQmt5FZ5CPjP3BSlzAAAAAElFTkSuQmCC",NM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACeCAYAAAASTnVOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwxSURBVHgB7Z17jB1VHcd/Z+579+5273b3tkUERCQKRHloF1EIUCwERHxBMEiCROXxhxpCTFT+1j+IIfGJMUbA0mipsWqjUBtETalAW1ub0lYKjdRYu3d3u3t7d+/unTtz/J65Z9rb9z7mzvP3SWZndvY+duZ7fr/zO7/zGCKGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYZizkKLkksaWp9Y9kHqLNUkVW5TL5RW5XO4bhUJhqFgsDk9NTQ2Tt4Ib+vMy2Gz1ncT4z+Dg4C3lJeXt2GxstSVLlry8aNGiq8g7DP09l6NQTWN7tz4fqOAGJY8s/NkXpKQPUOvmd9tSfhhW/iHyBnVPbQj8fiHEP6SUOWy7UaDeRS1LD0zwpImd6u/vvwdO9RrRdstxLKUhF9HCOSo09jsgsg3BlQtP4/hf2sIDEzxRYve8o6cvnUl/Dvf63BP/Jmxh0cJwhFaum44JrUQ1hFOapIqP9uLv76GW4L7f+ySJ3ZVr5lYKEhd3wKxcoa/QrtsV2v0qoQVXwu8ZGBi4mFpBm6/3PzFiL168uGRI4yFJ8jwtgVeRt/o0e+nSpcsh5LZTCH30dVpwYRjGHvw/7yOfBU+K2CkjY6zE/ioEZketjRaO+gyJ4Otq27ZfOYPQR1+vBadUKvU64odLyMdmWSLE7u3t/SDq5K/hluaFd7fVERqu+1qIt7lNaLfunyLtPaRSl2hSn7e14DKdTu8qlUqXkU91eCLEzufz1+JuqgjZq+t1hEbdez2E+6sSrk3oNKz8UdM0f6Bf55hzo9H4Js4/Qa1EluUKnslkdvb19almYMddeuzFRt04hN3tHvpJR2h87grUvX/WQqvzjtDYnhwZGfkuzi1pfxNetgTnH8F+rX6dElyo92ez2e0quKMOCx57sSHIDZDnOo9qRUdotJc/hjp3Y7vQyivDcn88PDz8kDqhIu8T/xX1o1Kp3Im/PUfHC65c+zZ4iiupg4LHWmwEQJfiJt4qW3G3F9G3sugbsd+gBVLnbCU09t+D5T5Mx4KtE7/P/V1A8Lvwnl/ptncTn2Ooz0PB3IqC5Lp0z4mz2Cpr9QBu/Ud1UOZJ9A2LXqMt2mlbK8GwPQEBv6q/42yFysmg4fV3432rdUGxtOCqfl9LHSKuYqdQB16GunCFbmp51qbW1qiQWujHVV1MNKfvcQTH++7B+1fpz3Tea1nWDHWIWIqNHqxe3MAHkUB5p4dWrUC1bN+MfQ2frwKyb0GwrxPNq0C5gt+rPIP2FiO1Wu1W6lC7O00xBBZ9Pm6cSqL0kLcYo6Ojr2JfWrZsWe7gwYOqLb0Qz+EKrjzDY9jq1EHiZNmONRSLxUEI/WX8tszDwMzFDZwsLbQXn+++303CdGzUTJzEdm4QkhTL4b4/j8O8xy488sTKjXcNDJyTSRt3Sfuo+w50sEDYiFWAlm02b0Kc82mVidSnWOg2YiM2IvBSJpe5nqQoEot8SmLjxnO53O3YfTz244EXQCwsGwmUImz5k4i+BwXb9GmJg9iqA+I+7D8ivB2BEjsi78bRU1Q2UgayUFTmptaZibRlo1erFwmUT+HwAlb47ERa7HQ6PQg7vh+Hg2zPZyfKYmekIW+BZV9CkqWeDZEVu1QqDUFk1YecY6lnR1TFFsiBr0QCRc2uYKlnSSTFRrZshRTydm5Tz41Iip3NZ28UUlxOzJyImtgC7eqrBIkbdOYkzAmU0PmdqImtsmUPYj8UgQTKcQkrtBpyFDBRElsNIhxKZ9JeDyLsCBB3ndrrqT+K31PAREbsrq6uMnZfwbYsAlZtjI2NrbEs6z6Ivgn7z4yPj79EAd/vqOTGBcS+WBjiOthzPgKNLWdWx+jo6NPYP63PGdShwf+zJRKWXSgUzjXSxv2SZEmfikLPln2W330nEmJnC4Xl0qY7EYVniXu25k3oxe7r6zs/l1broFBBn+L+6nkSBcv+BNz3HW3ZMrbqeRJqsYvFYjmTzVwLfWM5c8VvQi02Ojs+i//wJmI8IawWI9DZ0ZdKp29DDrzkh+NGx0rHZk+GhbCKnc7lcl9CQuJq25mz3PmZHShU/b29vf1Vw7B7LMvz+6JXYpCpVKo5MTFxuP2ryaegM5TBDtKiFyGBsg46X+pTN6ZKam6C4luEmoJNslOrNcOBCBP7/ciqbUHSZQeOffMooRO7p6dnca6QexhW/ShufC/5Q/sSVj4gDEOIPaZpPoa06m9xokk+ELr1xlFXv9cQxrf1akN+FkbhG+SUroF0KnVBPp9/q16vHyAfMmxhi8ZV4mSlWjHB50GE/no4PfEQ17ncSBkP9Pf3F8gHwiK2c7ORLbvaMAzlwtMxT50IvaolwYsNIWgrkw+ERWwn2s5ms7ch+j6PEpQlU4scYlckHwiNG4dV3wGJ70jQIEKn8kYprzabzTHygdC4cVj1zXBrF1GCgFWb0ra3HT58uEo+EAaxDbXgK4KVIUoOToAG0367KZu/pNbiOR0nDGJnceVfxIVfkSQXroIzFPCtA6WB5/F7g3wg6HRpqlwuX4f99eri/UiLhgC9aiW9aVty1b59+3zLoAVq2UignAd1H0UJH0zQ3GonMLOlvW5kZGQ9+UiQYhsIyq5EQV+OtGiGkoJ0vNf+xnTjRfJ51E1gYiMHfhG+/S4U8y5KELKVP1tbLRT+Qj4TWJ0NkS/ERd+MS497tqwdCRdemZme+RNNTEySzwTpxksQXD0lLwlSu/1pDRTwH6E/+1V93tdrD9KyVXNDLeOchCf9toIyW76Fi16N3yf0+WTU2SjqB1Cut9OxRyPFFm3Vh3Dw82ql8j8KiMDErlaruyD4L7DVyfulosOEe3X71WMicFSjgAjShSIvLP+Ty+VMtEYuh6fL+5xBUx7Fj8KuLqvaaDSeQQ5cZcsCmwYUeHCkBvnl83mVRbsG/805EN59knwnUFZWR7teZewu9KFwydb0YrkB/db3Hjp0aJgCJEixTxpV2d3dvTSTyeQMw+hYPT42Nlbp7+9/Kp1J300+ALWbtmU/Mjo6+n0KmCBz4yfV0ZOTk74EL5aUE35cuGxl+p+D4OsoBCTlKbvHIaT0KVaRJsTeAG9ygEJAIsUmf6ovC3d3g9WwXqOQkFSxO0urglJdl0/DqndRSGCxO4AUUmUHN05WJzfpU6FICbPYHuMMwiBxADmEx6emptyAMxQJIxbbc2QT0m7GgUoFB76OSjs8yd07nIYW2G01rafQrp6mkMFie4douXDaCqFfohB28LAb9wY9lQdWbVnPUkh78lhsb3D6qyH0Wlj1RgopLLYXoPcGEfjr09PToRVawXW2B0inxWWvqtVqr1CIYcteIKisbbjwf09PTf+NfFwyYz6w2PNHtmaxiBmY9pNHjhzZTiGH3fj8aU25teVu0zTXUIDDjWYLW/Y8cfqqJf0X5v2T8fHxgxQBWOwFgCB8Z6PRWEs+zcJcKCz2PIELHzEb5gvValWNAY/EyFgWe+5IPbd6c7FYVE8JiMy4dw7Q5o4KzGbMRnN95VDFl7VQvIIte47o/upnEYH/hiIGiz1HYNWTTdlcj2xZhSIGiz03VAJlnTlt7qQIwnX2bGkFZdP4sRoR+D6KIGzZs0U4Vv2Her2+hSIKiz0LdFNrPw4fj2Jd7cJizwrZJJs2VioVNQY8slOLWewz46xthIb1a7ZtP0M+LQLfKThAOzNCz6RXgwhVXR3pBQPYsk+PXl+Udpgz5lqKwcoQLPbpcdcXXYMuTN/XLOsELPapcFdBMeQ2ackX9NnIL+HFYp+KlqwzwhY/GxkZ+ac+y248jqAPU3Vb7p2cnHwZe5NiAot9PO4gwilpy59C7DcoRrDYx+MOItwJoVUXpu/ri3YSFrsNvRLh2zDvH05NTbnLWMVmbVUWuw1t1X/PZDJqdSN3uFFsVl7kDJqLdJbHOGCa5vPIgdcpRiK7sGW3cJ+4uskwjF9TDIVWJNOyDcNdB819AI0KzGqNGfOPyJb58oytIEjqonfuEhhO8KVXIlyFn7+jGJNMsYV4EfXzXmpZ9gwUf9O05GpY9TjFmCSs4n8S9Xr9ja5817At7T50dOywSHzncKWi1iyLdH/12UjOo1hOptDd3b0IVm7VajVVT4d6bjXDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDeMv/AX6FlrG4kvxPAAAAAElFTkSuQmCC",yzt=({isOpen:t,onClose:e,data:n,onBuyAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const g=setTimeout(()=>a(1),300),y=setTimeout(()=>a(2),800),w=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(w)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=()=>{n!=null&&n.tx_hash&&window.open(`https://basescan.org/tx/${n.tx_hash}`,"_blank")},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=g=>`${g.slice(0,6)}...${g.slice(-6)}`,m=()=>{e(),c("/dashboard")};return n?d.jsx(kw,{children:t&&d.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,y)=>d.jsx(ye.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},y))}),d.jsxs(ye.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:g=>g.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(wA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:si,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(ye.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(ye.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(gA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Purchase Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"You've successfully bought Lighter Points"})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Points Received"})}),d.jsx("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:parseFloat(n.points_received).toFixed(2)}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"Lighter Points"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"USDL Spent"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.usdl_spent).toFixed(2)]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Exchange Rate"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.exchange_rate).toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New Points Balance"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.new_points_balance).toFixed(2)})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Price Impact"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:n.price_impact})]})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:p(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Aw,{size:14,className:"text-gray-400 hover:text-black"})}),d.jsx("button",{onClick:h,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(x3,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:f(n.timestamp)})]})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(qt,{onClick:m,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},wzt=({isOpen:t,onClose:e,data:n,onSellAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=wa(),c=ur();x.useEffect(()=>{if(t&&n){const g=setTimeout(()=>a(1),300),y=setTimeout(()=>a(2),800),w=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(w)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=()=>{n!=null&&n.tx_hash&&window.open(`https://basescan.org/tx/${n.tx_hash}`,"_blank")},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=g=>`${g.slice(0,6)}...${g.slice(-6)}`,m=()=>{e(),c("/dashboard")};return n?d.jsx(kw,{children:t&&d.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,y)=>d.jsx(ye.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},y))}),d.jsxs(ye.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:g=>g.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(wA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(ye.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:si,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(ye.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(ye.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(gA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Sale Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"You've successfully sold your Lighter Points"})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"USDL Received"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.usdl_received).toFixed(2)]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Points Sold"})}),d.jsx("p",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.points_sold).toFixed(2)})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Exchange Rate"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.exchange_rate).toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New Points Balance"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.new_points_balance).toFixed(2)})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Price Impact"}),d.jsx("span",{className:"text-sm font-bold text-[#D4B679]",children:n.price_impact})]})]})]}),d.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:p(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(Aw,{size:14,className:"text-gray-400 hover:text-black"})}),d.jsx("button",{onClick:h,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(x3,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:f(n.timestamp)})]})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(qt,{onClick:m,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(wp,{size:18})]})})]})]})}):null},bzt=()=>{const[t,e]=x.useState("buy"),[n,r]=x.useState(""),[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null),{toast:m}=wa(),g=ur(),{user:y,authenticated:w,getAccessToken:v}=eo();FAe();const[b,A]=x.useState(0),[E,$]=x.useState(0),[N,R]=x.useState(""),[M,F]=x.useState(""),[W,V]=x.useState(""),B=localStorage.getItem(y==null?void 0:y.id),k=B?JSON.parse(B):null,C=k==null?void 0:k.buyPrice,S=k==null?void 0:k.sellPrice,T=k==null?void 0:k.wallet_address,_=0;x.useEffect(()=>{(async()=>{if(B){const oe=JSON.parse(B);R(oe.id),A(oe.usdl_balance||0),$(oe.points_balance||0)}})()},[T,y==null?void 0:y.id]);const P=de=>{e(de),r("")},D=()=>{const de=parseFloat(n)||0;if(t==="buy"){const oe=de/C,he=de*(_/100);return{receive:oe.toFixed(2),fee:he.toFixed(2),total:(de+he).toFixed(2),receiveLabel:"points",totalLabel:"USDL"}}else{const oe=de*S,he=oe*(_/100);return{receive:(oe-he).toFixed(2),fee:he.toFixed(2),total:de.toFixed(2),receiveLabel:"USDL",totalLabel:"points"}}};x.useEffect(()=>{if(t==="buy"){const oe=(parseFloat(n)||0)/C;F(oe>0?oe.toFixed(2):"")}else if(t==="sell"){const oe=(parseFloat(n)||0)*S,he=oe*(_/100);V(oe>0?(oe-he).toFixed(2):"")}else F("")},[n,t,C,S]);const j=D(),I=de=>{r(((t==="buy"?b:E)*de/100).toFixed(2))},L=async()=>{var de,oe,he,we,fe,ke,be,Ue;if(!w||!(y!=null&&y.id)){m({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!T){m({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!N){m({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}s(!0);try{const Me={wallet_address:T,usdl_amount:n,expected_points:M},Se={"X-Privy-User-Id":N,"X-Wallet-Address":T,"Content-Type":"application/json",Accept:"application/json"},xe=await Vt.post("/api/points/buy",Me,{headers:Se});if(xe.status===200&&((de=xe.data)!=null&&de.success)){if(h(xe.data.data),a(!0),r(""),window.Audio)try{const Ne=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ne.volume=.6,Ne.play().catch(()=>{})}catch{}}else m({title:"Buy failed",description:((he=(oe=xe.data)==null?void 0:oe.error)==null?void 0:he.message)||((we=xe.data)==null?void 0:we.error)||"Unexpected response from server",variant:"destructive"})}catch(Me){console.error(" Buy error details:",Me);let Se="Network or server error",xe="Buy Error";if(Vt.isAxiosError(Me)&&Me.response){const Ne=Me.response.status,Be=Me.response.data;Ne===400?(xe="Invalid Request",Se=((ke=(fe=Be==null?void 0:Be.detail)==null?void 0:fe.error)==null?void 0:ke.message)||((be=Be==null?void 0:Be.error)==null?void 0:be.message)||(Be==null?void 0:Be.error)||(Be==null?void 0:Be.message)||"Please check your input and try again"):Ne===401?(xe="Authentication Failed",Se=((Ue=Be==null?void 0:Be.error)==null?void 0:Ue.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ne>=500&&(xe="Server Error",Se="Server is temporarily unavailable. Please try again later")}m({title:xe,description:Se,variant:"destructive"})}finally{s(!1)}},J=async()=>{var de,oe,he,we,fe,ke,be,Ue;if(!w||!(y!=null&&y.id)){m({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!T){m({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!N){m({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}s(!0);try{const Me={wallet_address:T,points_amount:n,expected_usdl:W},Se={"X-Privy-User-Id":N,"X-Wallet-Address":T,"Content-Type":"application/json",Accept:"application/json"},xe=await Vt.post("/api/points/sell",Me,{headers:Se});if(xe.status===200&&((de=xe.data)!=null&&de.success)){if(p(xe.data.data),c(!0),r(""),window.Audio)try{const Ne=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ne.volume=.6,Ne.play().catch(()=>{})}catch{}}else m({title:"Sell failed",description:((he=(oe=xe.data)==null?void 0:oe.error)==null?void 0:he.message)||((we=xe.data)==null?void 0:we.error)||"Unexpected response from server",variant:"destructive"})}catch(Me){console.error(" Sell error details:",Me);let Se="Network or server error",xe="Sell Error";if(Vt.isAxiosError(Me)&&Me.response){const Ne=Me.response.status,Be=Me.response.data;Ne===400?(xe="Invalid Request",Se=((ke=(fe=Be==null?void 0:Be.detail)==null?void 0:fe.error)==null?void 0:ke.message)||((be=Be==null?void 0:Be.error)==null?void 0:be.message)||(Be==null?void 0:Be.error)||(Be==null?void 0:Be.message)||"Please check your input and try again"):Ne===401?(xe="Authentication Failed",Se=((Ue=Be==null?void 0:Be.error)==null?void 0:Ue.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ne>=500&&(xe="Server Error",Se="Server is temporarily unavailable. Please try again later")}m({title:xe,description:Se,variant:"destructive"})}finally{s(!1)}},O=async()=>{if(!n||parseFloat(n)<=0){m({title:"Invalid Amount",description:"Please enter a valid amount",variant:"destructive"});return}t==="buy"?await L():t==="sell"&&await J()},G=()=>{a(!1),h(null)},Z=()=>{c(!1),p(null)},Q=()=>{a(!1),h(null),e("buy"),setTimeout(()=>{const de=document.querySelector('input[type="number"]');de&&de.focus()},100)},ie=()=>{c(!1),p(null),e("sell"),setTimeout(()=>{const de=document.querySelector('input[type="number"]');de&&de.focus()},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>g(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Buy/Sell"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"with USDL"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-2 mb-4 relative z-10 grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("button",{onClick:()=>P("buy"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="buy"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:$M,alt:"",className:`h-5 w-auto ${t==="buy"?"invert":"invert opacity-60"}`}),"Buy Points"]})}),d.jsx("button",{onClick:()=>P("sell"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="sell"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:NM,alt:"",className:`h-5 w-auto ${t==="sell"?"invert":"invert opacity-60"}`}),"Sell Points"]})})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Available"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[b.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Points"}),d.jsx("span",{className:"text-golden-light font-bold",children:E.toFixed(2)})]})]}),d.jsx(kw,{mode:"wait",children:d.jsxs(ye.div,{initial:{opacity:0,x:t==="buy"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="buy"?20:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light rounded-md flex items-center justify-center",children:t==="buy"?d.jsx("img",{src:$M,alt:"",className:"h-12 w-auto"}):d.jsx("img",{src:NM,alt:"",className:"h-12 w-auto"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-semibold text-golden-light text-lg",children:[t==="buy"?"BUY":"SELL"," Points"]}),d.jsxs("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:["$",t==="buy"?C:S,"/point"]})]})]}),d.jsx("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:t==="buy"?"Buy Amount:":"Sell Amount:"}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(bC,{type:"number",value:n,onChange:de=>r(de.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:()=>r((parseFloat(n||"0")+1).toFixed(2)),className:"text-golden-light hover:text-golden-light/70",children:d.jsx(XIe,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(Math.max(0,parseFloat(n||"0")-1).toFixed(2)),className:"text-golden-light hover:text-golden-light/70",children:d.jsx(JIe,{className:"w-4 h-4"})})]}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:t==="buy"?"USDL":"Points"})]})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[d.jsx(qt,{onClick:()=>I(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(qt,{onClick:()=>I(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(qt,{onClick:()=>I(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(qt,{onClick:()=>I(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]}),d.jsxs("div",{className:"text-sm text-golden-light font-extralight opacity-60 mb-6",children:["Available: ",t==="buy"?`${b.toFixed(2)} USDL`:`${E.toFixed(2)} Points`]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll receive"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["~",j.receive," ",j.receiveLabel]})]}),d.jsxs("div",{className:"flex justify-between items-center pb-3",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Trading fee"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",j.fee," USDL"]})]}),d.jsx("div",{className:"border-t border-golden-light/20 pt-3",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="buy"?"Total cost":"You'll receive"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",t==="buy"?j.total:j.receive," USDL"]})]})})]})]}),d.jsx(qt,{onClick:O,disabled:!n||parseFloat(n)<=0||i||!w||!T||!N,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl mb-6 disabled:opacity-50 flex items-center justify-center gap-2",children:i?d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(GW,{className:"w-5 h-5"})}),"Processing..."]}):d.jsxs(d.Fragment,{children:[t==="buy"?d.jsx("img",{src:$M,alt:"",className:"h-5 invert w-auto"}):d.jsx("img",{src:NM,alt:"",className:"h-5 invert w-auto"}),t==="buy"?"BUY":"SELL"," Now"]})}),n&&parseFloat(n)>0&&d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Transaction Preview:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Price per point"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",t==="buy"?C:S]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="buy"?"Points to receive":"USDL to receive"}),d.jsxs("span",{className:"font-semibold text-green-400",children:["~",j.receive," ",j.receiveLabel]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total amount"}),d.jsx("span",{className:"text-foreground font-semibold",children:t==="buy"?`${n} USDL`:`${n} Points`})]})]})]})]},t)}),d.jsx(Rd,{})]}),d.jsx(yzt,{isOpen:o,onClose:G,data:u,onBuyAgain:Q}),d.jsx(wzt,{isOpen:l,onClose:Z,data:f,onSellAgain:ie})]})},vzt="/assets/referbox-CeCLsqk0.png",xzt="/assets/and-CJPallgC.png",Ezt=()=>{const[t,e]=x.useState(""),{toast:n}=wa(),r=ur(),{user:i}=eo(),[s,o]=x.useState(0),[a,l]=x.useState(0),[c,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(!(i!=null&&i.id))return;const m=localStorage.getItem(i.id),g=m?JSON.parse(m):null;g!=null&&g.referral_code&&e(g.referral_code),u(!0);try{const y=await Vt.post("/api/check_user_exist",{privy_id:i.id});y.data&&y.data.exists==="yes"&&(u(!1),o(y.data.user.referral_count||0),l(y.data.user.referral_rewards_earned||0))}catch(y){console.error(" Error fetching referral count:",y)}})()},[i==null?void 0:i.id]);const h=async()=>{try{await navigator.clipboard.writeText(t),n({title:" Code Copied!",description:"Referral code copied to clipboard"})}catch{n({title:"Copy Failed",description:"Unable to copy code",variant:"destructive"})}},f=async()=>{const p=`Join Lighter Farm with my referral code: ${t}`;if(navigator.share)try{await navigator.share({title:"Join Lighter Farm",text:p})}catch{h()}else h()};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Refer Stats"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"earn together"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Points Earned"}),d.jsx("span",{className:"text-golden-light font-bold",children:c?d.jsx(bp,{className:"h-4 w-4 animate-spin"}):`${a}`})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Referrals used "}),d.jsx("span",{className:"text-golden-light font-bold",children:c?d.jsx(bp,{className:"h-4 w-4 animate-spin"}):`${s}/3`})]})]}),d.jsxs(ye.div,{className:"mb-8 flex flex-col items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:[d.jsx("div",{className:"relative w-full max-w-sm mb-6 items-center flex justify-center",children:d.jsx("img",{src:vzt,alt:"",className:"h-120 w-auto"})}),d.jsxs("p",{className:"text-lg text-golden-light text-center mb-8 font-extralight",children:["You get ",d.jsx("span",{className:"font-bold text-golden-light",children:"10%"})," of their earned points"]}),d.jsxs("div",{className:"flex items-center gap-4 w-full max-w-sm mb-8",children:[d.jsx("div",{className:"flex-1 h-px bg-golden-light/20"}),d.jsx("div",{className:"flex items-center gap",children:d.jsx("img",{src:xzt,alt:"",className:"h-18 w-auto"})}),d.jsx("div",{className:"flex-1 h-px bg-golden-light/20"})]}),d.jsxs("p",{className:"text-lg font-extralight text-foreground text-center mb-8",children:["Your friend gets ",d.jsx("span",{className:"font-bold text-golden-light",children:"1 bonus point"})," on signup"]})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-4",children:d.jsxs(qt,{onClick:f,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white disabled:opacity-50",children:[d.jsx("img",{src:Dke,alt:"",className:"h-6 w-auto"}),"Share Invite"]})}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Your Referral Code:"}),d.jsxs("div",{className:"border-2 border-dashed border-golden-light/30 rounded-xl p-4 flex items-center justify-center gap-3 cursor-pointer hover:border-golden-light/50 transition-colors",onClick:h,children:[d.jsx(Aw,{className:"w-5 h-5 text-golden-light"}),d.jsx("span",{className:"text-xl font-mono font-bold text-golden-light tracking-wider",children:t})]}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center mt-3",children:"Tap to copy code"})]}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"How it works:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"1"})}),d.jsx("p",{className:"text-foreground text-sm",children:"Share your referral code with friends"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"2"})}),d.jsxs("p",{className:"text-foreground text-sm",children:["They sign up and get ",d.jsx("span",{className:"font-semibold text-golden-light",children:"1 bonus point"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"3"})}),d.jsxs("p",{className:"text-foreground text-sm",children:["You earn ",d.jsx("span",{className:"font-semibold text-golden-light",children:"10% of their points"})," forever"]})]})]})]}),d.jsx(Rd,{})]})},jS=x.memo(({icon:t,label:e,description:n,href:r,index:i,onClick:s,disabled:o})=>{const a=ur(),l=x.useCallback(()=>{s?s():r&&a(r)},[s,r,a]);return d.jsxs(ye.button,{onClick:l,disabled:o,className:`w-full bg-card backdrop-blur-sm border border-border rounded-2xl p-4 flex items-center gap-4 text-left hover:bg-card/80 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1,duration:.3},whileHover:o?{}:{scale:1.02},whileTap:o?{}:{scale:.98},layoutId:`menu-card-${e.toLowerCase().replace(" ","-")}`,children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light/20 rounded-xl flex items-center justify-center flex-shrink-0",children:typeof t=="string"?d.jsx("img",{src:t,alt:"",className:"w-6 h-6"}):d.jsx(t,{className:"w-6 h-6 text-golden-light"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-golden-light mb-0.5",children:e}),d.jsx("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:n})]}),d.jsx("div",{className:"w-8 h-8 bg-golden-light rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(wp,{className:"w-4 h-4 text-background"})})]})});jS.displayName="MenuCard";const Azt=()=>{var E;const{toast:t}=wa(),e=ur(),{address:n,logout:r}=HN(),{ready:i,authenticated:s,user:o,exportWallet:a}=eo(),l=localStorage.getItem(o.id),c=JSON.parse(l),u=x.useMemo(()=>i&&s,[i,s]),h=x.useMemo(()=>o!=null&&o.linkedAccounts?!!o.linkedAccounts.find($=>$.type==="wallet"&&$.walletClientType==="privy"&&$.chainType==="ethereum"):!1,[o==null?void 0:o.linkedAccounts]),f=x.useMemo(()=>c.wallet_address?`${c.wallet_address.slice(0,6)}...${c.wallet_address.slice(-4)}`:"",[n]),p=x.useMemo(()=>[{icon:CK,label:"Deposit",description:"Deposit and earn",href:"/deposit"},{icon:UAe,label:"Withdraw",description:"Withdraw money into any crypto account",href:"",disabled:!0}],[]),m=x.useMemo(()=>[{icon:Ohe,label:"Help and Support",description:"Get help and tutorials",href:"/help"},{icon:nT,label:"Community",description:"Join our telegram and X (formerly twitter)",href:"/community"}],[]),g=x.useCallback(()=>{n&&(navigator.clipboard.writeText(c.wallet_address),t({title:" Copied!",description:"Wallet address copied to clipboard"}))},[c.wallet_address,t]),y=x.useCallback(async()=>{try{localStorage.clear(),sessionStorage.clear(),await r(),t({title:" Logged out",description:"You have been logged out successfully",variant:"default"}),e("/wallet-connect")}catch($){console.error("Logout error:",$),t({title:"Error",description:"Failed to logout. Please try again.",variant:"destructive"})}},[r,t,e]),w=x.useCallback(()=>{e(-1)},[e]),v=x.useCallback(()=>{u&&h&&a()},[u,h,a]),b={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,staggerChildren:.1}}},A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs(ye.div,{initial:"hidden",animate:"visible",variants:b,children:[d.jsxs(ye.header,{className:"flex items-center justify-between py-6",variants:A,children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:w,className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Profile"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"manage account"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"p-6 mb-6 text-center",variants:A,layoutId:"user-greeting",children:[d.jsx("div",{className:"w-20 h-20 bg-[#a07715] rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(hTe,{className:"w-10 h-10 text-black"})}),d.jsxs("div",{className:"flex items-center justify-center gap-2 ml-2",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#a07715] mb-1",children:f}),d.jsx(qt,{variant:"ghost",size:"icon",onClick:g,className:"h-8 w-8 text-[#a07715] hover:bg-[#a07715] hover:text-black",children:d.jsx(Aw,{className:"w-4 h-4"})})]}),((E=o==null?void 0:o.email)==null?void 0:E.address)&&d.jsx("p",{className:"text-md text-[#a07715] font-extralight",children:o.email.address})]}),d.jsxs(ye.div,{className:"mb-6",variants:A,layoutId:"payment-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Payment"}),d.jsx("div",{className:"space-y-3",children:p.map(($,N)=>d.jsx(jS,{...$,index:N},`payment-${N}`))})]}),d.jsxs(ye.div,{className:"mb-6",variants:A,layoutId:"account-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Account"}),d.jsx("div",{className:"space-y-3",children:d.jsx(jS,{icon:Dhe,label:"Private Key",description:"Export private keys",index:p.length,onClick:v,disabled:!u||!h},"private-key")})]}),d.jsxs(ye.div,{className:"mb-6",variants:A,layoutId:"support-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Support"}),d.jsx("div",{className:"space-y-3",children:m.map(($,N)=>d.jsx(jS,{...$,index:N+p.length+1},`support-${N}`))})]}),d.jsx(ye.div,{variants:A,className:"mb-6",layoutId:"logout-section",children:d.jsxs("button",{onClick:y,className:"w-full bg-card backdrop-blur-sm border border-border rounded-2xl p-4 flex items-center gap-4 text-left hover:bg-card/80 transition-colors group",children:[d.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:d.jsx(lTe,{className:"w-6 h-6 text-red-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-red-500 mb-0.5",children:"Log Out"}),d.jsx("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:"Sign out of your account"})]}),d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 group-hover:bg-red-600 transition-colors",children:d.jsx(wp,{className:"w-4 h-4 text-white"})})]})}),d.jsxs(ye.div,{variants:A,className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",layoutId:"app-info",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx("img",{src:si,alt:"",className:"h-6 w-auto opacity-80"}),d.jsx("span",{className:"text-golden-light font-semibold",children:"Lighter Farm"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 mb-1",children:"Version 1.0.0"}),d.jsx("p",{className:"text-xs text-golden-light font-extralight opacity-40",children:" 2025 Lighter Farm. All rights reserved."})]})]})]},"profile-container"),d.jsx(Rd,{})]})},Czt=()=>{const t=ur(),{user:e,authenticated:n}=eo(),r=localStorage.getItem((e==null?void 0:e.id)||""),i=r?JSON.parse(r):null,s=i==null?void 0:i.id,[o,a]=x.useState([]),[l,c]=x.useState([]),[u,h]=x.useState(!1),[f,p]=x.useState("all"),[m,g]=x.useState({totalBought:0,totalSold:0,totalDeposited:0,totalWithdrawn:0,totalStaked:0,totalUnstaked:0,totalTransactions:0,netChange:0}),y=async()=>{var M,F;if(!s){console.warn("User ID not found - cannot fetch transaction history");return}h(!0);try{const[V,B]=await Promise.all([Vt.get(`/api/points/history/${s}?limit=100`),Vt.get(`/api/transactions/${s}?limit=100`)]);console.log(" Points history:",V.data),console.log(" General transactions:",B.data);const k=(((M=V.data)==null?void 0:M.data)||[]).map(P=>({...P,source:"points"})),C=(((F=B.data)==null?void 0:F.data)||[]).map(P=>({...P,source:"general"})),S=new Set,T=[...k,...C].filter(P=>S.has(P.tx_hash)?!1:(S.add(P.tx_hash),!0));T.sort((P,D)=>new Date(D.created_at).getTime()-new Date(P.created_at).getTime());const _=T.map((P,D)=>({...P,uniqueId:`${P.source}-${P.id}-${D}`}));a(_),c(_),w(_),console.log(` Total unified transactions: ${_.length}`)}catch(W){console.error(" Error fetching transaction history:",W),a_({title:"History Error",description:"Could not fetch transaction history. Please try again.",variant:"destructive"})}finally{h(!1)}},w=M=>{const F=M.filter(S=>S.type==="buy_points").reduce((S,T)=>S+T.amount,0),W=M.filter(S=>S.type==="sell_points").reduce((S,T)=>S+T.amount,0),V=M.filter(S=>S.type==="deposit").reduce((S,T)=>S+T.amount,0),B=M.filter(S=>S.type==="withdraw").reduce((S,T)=>S+T.amount,0),k=M.filter(S=>S.type==="stake").reduce((S,T)=>S+T.amount,0),C=M.filter(S=>S.type==="unstake").reduce((S,T)=>S+T.amount,0);g({totalBought:F,totalSold:W,totalDeposited:V,totalWithdrawn:B,totalStaked:k,totalUnstaked:C,totalTransactions:M.length,netChange:F-W+V-B+C-k})},v=M=>{if(p(M),M==="all")c(o);else{const F=o.filter(W=>W.type===M);c(F)}},b=M=>{switch(M){case"buy_points":return"Bought Points";case"sell_points":return"Sold Points";case"deposit":return"Deposited";case"withdraw":return"Withdrawn";case"stake":return"Staked";case"unstake":return"Unstaked";case"completed":return"Completed";case"referral_reward":return"Referral Reward";default:return M.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase())}},A=M=>{const F=new Date(M),W=F.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),V=F.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return{date:W,time:V}},E=M=>{const F=new Date,W=new Date(M),V=Math.floor((F.getTime()-W.getTime())/1e3);if(V<60)return`${V}s ago`;const B=Math.floor(V/60);if(B<60)return`${B}m ago`;const k=Math.floor(B/60);if(k<24)return`${k}h ago`;const C=Math.floor(k/24);return C<30?`${C}d ago`:`${Math.floor(C/30)}mo ago`},$=M=>["buy_points","referral_reward","unstake","withdraw","completed"].includes(M)?{sign:"+",color:"text-green-400",icon:d.jsx(N9,{className:"w-4 h-4"})}:{sign:"-",color:"text-[#A07715]",icon:d.jsx($9,{className:"w-4 h-4"})},N=M=>{window.open(`https://basescan.org/tx/${M}`,"_blank")};x.useEffect(()=>{n&&s&&y()},[n,s]);const R=[{value:"all",label:"All"},{value:"buy_points",label:"Buy"},{value:"sell_points",label:"Sell"},{value:"deposit",label:"Deposit"},{value:"withdraw",label:"Withdraw"},{value:"stake",label:"Stake"},{value:"unstake",label:"Unstake"},{value:"referral_reward",label:"Rewards"}];return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsx("div",{className:"text-center flex-1",children:d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Transaction History"})}),d.jsx("button",{onClick:y,className:"p-2 rounded-full bg-golden-light/10 hover:bg-golden-light/20 transition-colors",disabled:u,children:d.jsx(ye.div,{animate:u?{rotate:360}:{},transition:{duration:1,repeat:u?1/0:0,ease:"linear"},children:d.jsx(bp,{className:"w-5 h-5 text-golden-light"})})})]}),d.jsxs(ye.div,{className:"grid grid-cols-2 gap-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(N9,{className:"w-4 h-4 text-[#A07715]"}),d.jsx("p",{className:"text-xs font-regular text-golden-light",children:"Total Bought"})]}),d.jsxs("p",{className:"text-2xl font-bold text-[#A07715]",children:["+ $",m.totalBought.toFixed(2)]}),d.jsx("p",{className:"text-xs text-[#A07715] mt-1",children:"Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx($9,{className:"w-4 h-4 text-[#A07715]"}),d.jsx("p",{className:"text-xs font-regular text-golden-light",children:"Total Sold"})]}),d.jsxs("p",{className:"text-2xl font-bold text-[#A07715]",children:["- $",m.totalSold.toFixed(2)]}),d.jsx("p",{className:"text-xs text-[#A07715] mt-1",children:"Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(N9,{className:"w-4 h-4 text-green-400"}),d.jsx("p",{className:"text-xs font-regular text-golden-light",children:"Deposited"})]}),d.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["+ $",m.totalDeposited.toFixed(2)]}),d.jsx("p",{className:"text-xs text-green-400 mt-1",children:"USDL"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx($9,{className:"w-4 h-4 text-[#A07715]"}),d.jsx("p",{className:"text-xs font-regular text-golden-light",children:"Staked"})]}),d.jsxs("p",{className:"text-2xl font-bold text-[#A07715]",children:["$",m.totalStaked.toFixed(2)]}),d.jsx("p",{className:"text-xs text-[#A07715] mt-1",children:"USDL"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(tTe,{className:"w-4 h-4 text-[#A07715]"}),d.jsx("p",{className:"text-xs font-regular text-golden-light",children:"Net Change"})]}),d.jsxs("p",{className:`text-2xl font-bold ${m.netChange>=0?"text-green-400":"text-red-400"}`,children:[m.netChange>=0?"+":""," $",m.netChange.toFixed(2)]}),d.jsx("p",{className:"text-xs text-[#A07715] mt-1",children:"Overall"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Mhe,{className:"w-4 h-4 text-[#A07715]"}),d.jsx("p",{className:"text-xs font-regular text-golden-light",children:"Total Txns"})]}),d.jsx("p",{className:"text-2xl font-bold text-[#A07715]",children:m.totalTransactions}),d.jsx("p",{className:"text-xs text-[#A07715] mt-1",children:"Transactions"})]})]}),d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(nTe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-sm font-thin text-muted-foreground",children:"Filter by type:"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(M=>d.jsx("button",{onClick:()=>v(M.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${f===M.value?"bg-golden-light text-black":"bg-[#31302F] text-golden-light hover:bg-golden-light/20"}`,children:M.label},M.value))})]}),d.jsx(ye.div,{className:"space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:u?d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 text-center",children:[d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:d.jsx(bp,{className:"w-8 h-8 text-golden-light"})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):l.length===0?d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 text-center",children:[d.jsx("p",{className:"text-lg font-bold text-golden-light mb-2",children:"No transactions found"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:f!=="all"?"Try changing the filter or make your first transaction":"Make your first transaction to see it here"})]}):l.map((M,F)=>{const{date:W,time:V}=A(M.created_at),{sign:B,color:k,icon:C}=$(M.type);return d.jsxs(ye.div,{className:"bg-card border border-border rounded-2xl p-4 hover:border-golden-light/30 transition-colors",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-[#31302F] text-[#A07715]",children:C}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"text-sm font-bold text-golden-light",children:b(M.type)}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${M.source==="points"?"bg-golden-light/20 text-golden-light":"bg-blue-500/20 text-blue-400"}`,children:M.source==="points"?"Points":"Wallet"})]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[W,"  ",V]}),d.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:E(M.created_at)})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`text-xl font-bold ${k}`,children:[B,"$",M.amount.toFixed(2)]}),d.jsx("div",{className:"flex items-center gap-1 mt-1",children:d.jsx("span",{className:`text-xs ${M.status==="success"||M.status==="completed"?"text-green-400":M.status==="pending"?"text-yellow-400":"text-red-400"}`,children:M.status==="success"||M.status==="completed"?" Success":M.status==="pending"?" Pending":" Failed"})})]})]}),M.tx_hash&&d.jsx("div",{className:"bg-[#31302F] rounded-lg p-3 mt-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Transaction Hash"}),d.jsx("p",{className:"text-xs font-mono text-golden-light truncate",children:M.tx_hash})]}),d.jsx("button",{onClick:()=>N(M.tx_hash),className:"ml-3 p-2 rounded-lg bg-golden-light/10 hover:bg-golden-light/20 transition-colors",children:d.jsx(x3,{className:"w-4 h-4 text-golden-light"})})]})})]},M.uniqueId)})}),l.length>=100&&d.jsx(ye.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:d.jsx("button",{onClick:y,className:"w-full bg-card border border-border rounded-2xl p-4 text-golden-light hover:border-golden-light/30 transition-colors",children:d.jsx("span",{className:"text-sm font-bold",children:"Load More Transactions"})})}),d.jsx(Rd,{})]})},kzt=()=>{const t=ur(),e=x.useCallback(()=>{t("/")},[t]),n=x.useCallback(()=>{t(-1)},[t]);return d.jsxs(gu,{className:"bg-background min-h-screen justify-start flex flex-col",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 px-4",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:n,className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Page Not Found"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"Lost in the farm?"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs("div",{className:"flex flex-col mt-16 items-center justify-center py-16 px-4 text-center relative z-10",children:[d.jsxs(ye.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8 max-w-sm",children:[d.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-4xl font-bold text-[#D4B679] mb-3",children:"404"}),d.jsx(ye.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-xl font-semibold text-[#D4B679] mb-4",children:"Page Not Found"}),d.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.6},className:"flex items-center justify-center gap-2 mb-8 px-4 py-2 bg-[#D4B679]/10 rounded-full border border-[#D4B679]/20",children:[d.jsx(Bhe,{className:"w-4 h-4 text-[#D4B679]/70"}),d.jsx("span",{className:"text-[#D4B679]/70 text-sm font-medium",children:"Lost in the farm"})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-full max-w-sm space-y-3",children:d.jsxs(qt,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl flex items-center justify-center gap-3 group",children:[d.jsx(sTe,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),d.jsx("span",{children:"Return to Farm"})]})})]}),d.jsx(Rd,{})]})},Szt="cmg1ysrm0005xl70cpgxa39o6";let a5=class extends Error{constructor(n,r={}){super(n,r.cause?{cause:r.cause}:void 0);Ee(this,"name","BaseError");Ee(this,"cause");this.cause=r.cause}};class _zt extends a5{constructor(){super("Invalid domain manifest");Ee(this,"name","AddMiniApp.InvalidDomainManifest")}}let Izt=class extends a5{constructor(){super("Add miniapp rejected by user");Ee(this,"name","AddMiniApp.RejectedByUser")}},Lke=class extends a5{constructor(){super("Sign in rejected by user");Ee(this,"name","SignIn.RejectedByUser")}};class Tzt extends a5{constructor(){super("Sign manifest rejected by user");Ee(this,"name","SignManifest.RejectedByUser")}}class $zt extends a5{constructor(){super("Invalid domain provided");Ee(this,"name","SignManifest.InvalidDomain")}}class Nzt extends a5{constructor(n="Manifest signing failed"){super(n);Ee(this,"name","SignManifest.GenericError")}}const Pzt=/[@#$%^&*+=/\\|~]/,Rzt=/(!{2,}|\?{2,}|-{2,})/,jzt=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,l5=({max:t,noSpaces:e}={})=>(e?mi().max(t??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):mi().max(t??Number.POSITIVE_INFINITY)).refine(r=>!jzt.test(r),{message:"Emojis and symbols are not allowed"}).refine(r=>!Pzt.test(r),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(r=>!Rzt.test(r),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),qo=mi().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(t=>!t.includes(" "),{message:"URL must not contain spaces"}).refine(t=>{try{const e=new URL(t).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),HK=mi().max(32),Fke=mi().max(32),Ozt=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,Mzt=mi().regex(Ozt,{message:"Invalid CAIP-19 asset ID"}),VK=mi().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),Dzt=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Bzt=mi().max(1024).regex(Dzt,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(t=>!t.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(t=>!t.includes("/"),{message:"Domain must not include path separators"}).refine(t=>!t.includes("@"),{message:"Domain must not include @ symbol"}).refine(t=>!t.includes(":"),{message:"Domain must not include port numbers"}),Lzt=H_([$o("1:1"),$o("3:2")]),Fzt=Gs({header:mi(),payload:mi(),signature:mi()});Gs({fid:Mye(),type:$o("app_key"),key:mi().startsWith("0x")});const Uzt=Gs({type:$o("launch_frame"),name:HK,url:qo.optional(),splashImageUrl:qo.optional(),splashBackgroundColor:VK.optional()}),zzt=Gs({type:$o("launch_miniapp"),name:HK,url:qo.optional(),splashImageUrl:qo.optional(),splashBackgroundColor:VK.optional()}),Wzt=Gs({type:$o("view_token"),token:Mzt}),Hzt=Dye("type",[zzt,Wzt,Uzt]),Vzt=Gs({title:Fke,action:Hzt});Gs({version:H_([mi(),Mye()]).transform(t=>String(t)).pipe(H_([$o("next"),$o("1")])),imageUrl:qo,aspectRatio:Lzt.optional(),button:Vzt});const Uke=Gs({url:mi(),token:mi()});Gs({notificationId:mi().max(128),title:mi().max(32),body:mi().max(128),targetUrl:qo,tokens:mi().array().max(100)});Gs({result:Gs({successfulTokens:A1(mi()),invalidTokens:A1(mi()),rateLimitedTokens:A1(mi())})});const qzt=Gs({event:$o("miniapp_added"),notificationDetails:Uke.optional()}),Gzt=Gs({event:$o("miniapp_removed")}),Kzt=Gs({event:$o("notifications_enabled"),notificationDetails:Uke.required()}),Yzt=Gs({event:$o("notifications_disabled")});Dye("event",[qzt,Gzt,Kzt,Yzt]);const Qzt=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],Zzt=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],Jzt=EV(Zzt),Xzt=H_([$o("0.0.0"),$o("0.0.1"),$o("1"),$o("next")]),eWt=l5({max:30}),tWt=l5({max:170}),nWt=A1(qo).max(3),rWt=A1(l5({max:20,noSpaces:!0})).max(5),iWt=l5({max:30}),sWt=l5({max:30}),oWt=l5({max:100}),aWt=Rqe(),lWt=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function zke(t){const e=new Set(t);return Array.from(e)}const cWt=A1(EV(lWt)).transform(zke),uWt=A1(EV(Qzt)).transform(zke),sce=Gs({version:Xzt,name:HK,iconUrl:qo,homeUrl:qo,imageUrl:qo.optional(),buttonTitle:Fke.optional(),splashImageUrl:qo.optional(),splashBackgroundColor:VK.optional(),webhookUrl:qo.optional(),subtitle:eWt.optional(),description:tWt.optional(),screenshotUrls:nWt.optional(),primaryCategory:Jzt.optional(),tags:rWt.optional(),heroImageUrl:qo.optional(),tagline:iWt.optional(),ogTitle:sWt.optional(),ogDescription:oWt.optional(),ogImageUrl:qo.optional(),noindex:aWt.optional(),requiredChains:cWt.optional(),requiredCapabilities:uWt.optional(),castShareUrl:qo.optional(),canonicalDomain:Bzt.optional()}).refine(t=>{if(t.castShareUrl===void 0)return!0;try{const e=new URL(t.homeUrl).hostname,n=new URL(t.castShareUrl).hostname;return e===n}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});Gs({accountAssociation:Fzt,miniapp:sce.optional(),frame:sce.optional()}).refine(t=>t.frame&&t.miniapp?JSON.stringify(t.frame)===JSON.stringify(t.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(t=>({...t,frame:t.frame??t.miniapp}));var yn={},oP={};oP.byteLength=fWt;oP.toByteArray=mWt;oP.fromByteArray=wWt;var kh=[],Tc=[],dWt=typeof Uint8Array<"u"?Uint8Array:Array,PM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Fb=0,hWt=PM.length;Fb<hWt;++Fb)kh[Fb]=PM[Fb],Tc[PM.charCodeAt(Fb)]=Fb;Tc[45]=62;Tc[95]=63;function Wke(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function fWt(t){var e=Wke(t),n=e[0],r=e[1];return(n+r)*3/4-r}function pWt(t,e,n){return(e+n)*3/4-n}function mWt(t){var e,n=Wke(t),r=n[0],i=n[1],s=new dWt(pWt(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Tc[t.charCodeAt(l)]<<18|Tc[t.charCodeAt(l+1)]<<12|Tc[t.charCodeAt(l+2)]<<6|Tc[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Tc[t.charCodeAt(l)]<<2|Tc[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Tc[t.charCodeAt(l)]<<10|Tc[t.charCodeAt(l+1)]<<4|Tc[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function gWt(t){return kh[t>>18&63]+kh[t>>12&63]+kh[t>>6&63]+kh[t&63]}function yWt(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(gWt(r));return i.join("")}function wWt(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(yWt(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(kh[e>>2]+kh[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(kh[e>>10]+kh[e>>4&63]+kh[e<<2&63]+"=")),i.join("")}var qK={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qK.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(p?-1:1)*o*Math.pow(2,s-r)};qK.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,m=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=f/l:e+=f*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=a&255,p+=m,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+p]=o&255,p+=m,o/=256,c-=8);t[n+p-m]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=oP,n=qK,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const K=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(K,U),K.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');const U=new Uint8Array(K);return Object.setPrototypeOf(U,a.prototype),U}function a(K,U,z){if(typeof K=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(K)}return l(K,U,z)}a.poolSize=8192;function l(K,U,z){if(typeof K=="string")return f(K,U);if(ArrayBuffer.isView(K))return m(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Be(K,ArrayBuffer)||K&&Be(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(K,SharedArrayBuffer)||K&&Be(K.buffer,SharedArrayBuffer)))return g(K,U,z);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=K.valueOf&&K.valueOf();if(ee!=null&&ee!==K)return a.from(ee,U,z);const ne=y(K);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return a.from(K[Symbol.toPrimitive]("string"),U,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}a.from=function(K,U,z){return l(K,U,z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function u(K,U,z){return c(K),K<=0?o(K):U!==void 0?typeof z=="string"?o(K).fill(U,z):o(K).fill(U):o(K)}a.alloc=function(K,U,z){return u(K,U,z)};function h(K){return c(K),o(K<0?0:w(K)|0)}a.allocUnsafe=function(K){return h(K)},a.allocUnsafeSlow=function(K){return h(K)};function f(K,U){if((typeof U!="string"||U==="")&&(U="utf8"),!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);const z=b(K,U)|0;let ee=o(z);const ne=ee.write(K,U);return ne!==z&&(ee=ee.slice(0,ne)),ee}function p(K){const U=K.length<0?0:w(K.length)|0,z=o(U);for(let ee=0;ee<U;ee+=1)z[ee]=K[ee]&255;return z}function m(K){if(Be(K,Uint8Array)){const U=new Uint8Array(K);return g(U.buffer,U.byteOffset,U.byteLength)}return p(K)}function g(K,U,z){if(U<0||K.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<U+(z||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return U===void 0&&z===void 0?ee=new Uint8Array(K):z===void 0?ee=new Uint8Array(K,U):ee=new Uint8Array(K,U,z),Object.setPrototypeOf(ee,a.prototype),ee}function y(K){if(a.isBuffer(K)){const U=w(K.length)|0,z=o(U);return z.length===0||K.copy(z,0,0,U),z}if(K.length!==void 0)return typeof K.length!="number"||Ce(K.length)?o(0):p(K);if(K.type==="Buffer"&&Array.isArray(K.data))return p(K.data)}function w(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function v(K){return+K!=K&&(K=0),a.alloc(+K)}a.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==a.prototype},a.compare=function(U,z){if(Be(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),Be(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(U)||!a.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===z)return 0;let ee=U.length,ne=z.length;for(let se=0,ce=Math.min(ee,ne);se<ce;++se)if(U[se]!==z[se]){ee=U[se],ne=z[se];break}return ee<ne?-1:ne<ee?1:0},a.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(U,z){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return a.alloc(0);let ee;if(z===void 0)for(z=0,ee=0;ee<U.length;++ee)z+=U[ee].length;const ne=a.allocUnsafe(z);let se=0;for(ee=0;ee<U.length;++ee){let ce=U[ee];if(Be(ce,Uint8Array))se+ce.length>ne.length?(a.isBuffer(ce)||(ce=a.from(ce)),ce.copy(ne,se)):Uint8Array.prototype.set.call(ne,ce,se);else if(a.isBuffer(ce))ce.copy(ne,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ce.length}return ne};function b(K,U){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Be(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const z=K.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&z===0)return 0;let ne=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return Ue(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return xe(K).length;default:if(ne)return ee?-1:Ue(K).length;U=(""+U).toLowerCase(),ne=!0}}a.byteLength=b;function A(K,U,z){let ee=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,U>>>=0,z<=U))return"";for(K||(K="utf8");;)switch(K){case"hex":return P(this,U,z);case"utf8":case"utf-8":return k(this,U,z);case"ascii":return T(this,U,z);case"latin1":case"binary":return _(this,U,z);case"base64":return B(this,U,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,U,z);default:if(ee)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),ee=!0}}a.prototype._isBuffer=!0;function E(K,U,z){const ee=K[U];K[U]=K[z],K[z]=ee}a.prototype.swap16=function(){const U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<U;z+=2)E(this,z,z+1);return this},a.prototype.swap32=function(){const U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<U;z+=4)E(this,z,z+3),E(this,z+1,z+2);return this},a.prototype.swap64=function(){const U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<U;z+=8)E(this,z,z+7),E(this,z+1,z+6),E(this,z+2,z+5),E(this,z+3,z+4);return this},a.prototype.toString=function(){const U=this.length;return U===0?"":arguments.length===0?k(this,0,U):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(U){if(!a.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:a.compare(this,U)===0},a.prototype.inspect=function(){let U="";const z=t.INSPECT_MAX_BYTES;return U=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(U+=" ... "),"<Buffer "+U+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(U,z,ee,ne,se){if(Be(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(z===void 0&&(z=0),ee===void 0&&(ee=U?U.length:0),ne===void 0&&(ne=0),se===void 0&&(se=this.length),z<0||ee>U.length||ne<0||se>this.length)throw new RangeError("out of range index");if(ne>=se&&z>=ee)return 0;if(ne>=se)return-1;if(z>=ee)return 1;if(z>>>=0,ee>>>=0,ne>>>=0,se>>>=0,this===U)return 0;let ce=se-ne,Le=ee-z;const Xe=Math.min(ce,Le),Ye=this.slice(ne,se),et=U.slice(z,ee);for(let Re=0;Re<Xe;++Re)if(Ye[Re]!==et[Re]){ce=Ye[Re],Le=et[Re];break}return ce<Le?-1:Le<ce?1:0};function $(K,U,z,ee,ne){if(K.length===0)return-1;if(typeof z=="string"?(ee=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,Ce(z)&&(z=ne?0:K.length-1),z<0&&(z=K.length+z),z>=K.length){if(ne)return-1;z=K.length-1}else if(z<0)if(ne)z=0;else return-1;if(typeof U=="string"&&(U=a.from(U,ee)),a.isBuffer(U))return U.length===0?-1:N(K,U,z,ee,ne);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(K,U,z):Uint8Array.prototype.lastIndexOf.call(K,U,z):N(K,[U],z,ee,ne);throw new TypeError("val must be string, number or Buffer")}function N(K,U,z,ee,ne){let se=1,ce=K.length,Le=U.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(K.length<2||U.length<2)return-1;se=2,ce/=2,Le/=2,z/=2}function Xe(et,Re){return se===1?et[Re]:et.readUInt16BE(Re*se)}let Ye;if(ne){let et=-1;for(Ye=z;Ye<ce;Ye++)if(Xe(K,Ye)===Xe(U,et===-1?0:Ye-et)){if(et===-1&&(et=Ye),Ye-et+1===Le)return et*se}else et!==-1&&(Ye-=Ye-et),et=-1}else for(z+Le>ce&&(z=ce-Le),Ye=z;Ye>=0;Ye--){let et=!0;for(let Re=0;Re<Le;Re++)if(Xe(K,Ye+Re)!==Xe(U,Re)){et=!1;break}if(et)return Ye}return-1}a.prototype.includes=function(U,z,ee){return this.indexOf(U,z,ee)!==-1},a.prototype.indexOf=function(U,z,ee){return $(this,U,z,ee,!0)},a.prototype.lastIndexOf=function(U,z,ee){return $(this,U,z,ee,!1)};function R(K,U,z,ee){z=Number(z)||0;const ne=K.length-z;ee?(ee=Number(ee),ee>ne&&(ee=ne)):ee=ne;const se=U.length;ee>se/2&&(ee=se/2);let ce;for(ce=0;ce<ee;++ce){const Le=parseInt(U.substr(ce*2,2),16);if(Ce(Le))return ce;K[z+ce]=Le}return ce}function M(K,U,z,ee){return Ne(Ue(U,K.length-z),K,z,ee)}function F(K,U,z,ee){return Ne(Me(U),K,z,ee)}function W(K,U,z,ee){return Ne(xe(U),K,z,ee)}function V(K,U,z,ee){return Ne(Se(U,K.length-z),K,z,ee)}a.prototype.write=function(U,z,ee,ne){if(z===void 0)ne="utf8",ee=this.length,z=0;else if(ee===void 0&&typeof z=="string")ne=z,ee=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(ee)?(ee=ee>>>0,ne===void 0&&(ne="utf8")):(ne=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-z;if((ee===void 0||ee>se)&&(ee=se),U.length>0&&(ee<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ce=!1;for(;;)switch(ne){case"hex":return R(this,U,z,ee);case"utf8":case"utf-8":return M(this,U,z,ee);case"ascii":case"latin1":case"binary":return F(this,U,z,ee);case"base64":return W(this,U,z,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,U,z,ee);default:if(ce)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(K,U,z){return U===0&&z===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(U,z))}function k(K,U,z){z=Math.min(K.length,z);const ee=[];let ne=U;for(;ne<z;){const se=K[ne];let ce=null,Le=se>239?4:se>223?3:se>191?2:1;if(ne+Le<=z){let Xe,Ye,et,Re;switch(Le){case 1:se<128&&(ce=se);break;case 2:Xe=K[ne+1],(Xe&192)===128&&(Re=(se&31)<<6|Xe&63,Re>127&&(ce=Re));break;case 3:Xe=K[ne+1],Ye=K[ne+2],(Xe&192)===128&&(Ye&192)===128&&(Re=(se&15)<<12|(Xe&63)<<6|Ye&63,Re>2047&&(Re<55296||Re>57343)&&(ce=Re));break;case 4:Xe=K[ne+1],Ye=K[ne+2],et=K[ne+3],(Xe&192)===128&&(Ye&192)===128&&(et&192)===128&&(Re=(se&15)<<18|(Xe&63)<<12|(Ye&63)<<6|et&63,Re>65535&&Re<1114112&&(ce=Re))}}ce===null?(ce=65533,Le=1):ce>65535&&(ce-=65536,ee.push(ce>>>10&1023|55296),ce=56320|ce&1023),ee.push(ce),ne+=Le}return S(ee)}const C=4096;function S(K){const U=K.length;if(U<=C)return String.fromCharCode.apply(String,K);let z="",ee=0;for(;ee<U;)z+=String.fromCharCode.apply(String,K.slice(ee,ee+=C));return z}function T(K,U,z){let ee="";z=Math.min(K.length,z);for(let ne=U;ne<z;++ne)ee+=String.fromCharCode(K[ne]&127);return ee}function _(K,U,z){let ee="";z=Math.min(K.length,z);for(let ne=U;ne<z;++ne)ee+=String.fromCharCode(K[ne]);return ee}function P(K,U,z){const ee=K.length;(!U||U<0)&&(U=0),(!z||z<0||z>ee)&&(z=ee);let ne="";for(let se=U;se<z;++se)ne+=De[K[se]];return ne}function D(K,U,z){const ee=K.slice(U,z);let ne="";for(let se=0;se<ee.length-1;se+=2)ne+=String.fromCharCode(ee[se]+ee[se+1]*256);return ne}a.prototype.slice=function(U,z){const ee=this.length;U=~~U,z=z===void 0?ee:~~z,U<0?(U+=ee,U<0&&(U=0)):U>ee&&(U=ee),z<0?(z+=ee,z<0&&(z=0)):z>ee&&(z=ee),z<U&&(z=U);const ne=this.subarray(U,z);return Object.setPrototypeOf(ne,a.prototype),ne};function j(K,U,z){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+U>z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(U,z,ee){U=U>>>0,z=z>>>0,ee||j(U,z,this.length);let ne=this[U],se=1,ce=0;for(;++ce<z&&(se*=256);)ne+=this[U+ce]*se;return ne},a.prototype.readUintBE=a.prototype.readUIntBE=function(U,z,ee){U=U>>>0,z=z>>>0,ee||j(U,z,this.length);let ne=this[U+--z],se=1;for(;z>0&&(se*=256);)ne+=this[U+--z]*se;return ne},a.prototype.readUint8=a.prototype.readUInt8=function(U,z){return U=U>>>0,z||j(U,1,this.length),this[U]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(U,z){return U=U>>>0,z||j(U,2,this.length),this[U]|this[U+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(U,z){return U=U>>>0,z||j(U,2,this.length),this[U]<<8|this[U+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(U,z){return U=U>>>0,z||j(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(U,z){return U=U>>>0,z||j(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},a.prototype.readBigUInt64LE=Ve(function(U){U=U>>>0,we(U,"offset");const z=this[U],ee=this[U+7];(z===void 0||ee===void 0)&&fe(U,this.length-8);const ne=z+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24,se=this[++U]+this[++U]*2**8+this[++U]*2**16+ee*2**24;return BigInt(ne)+(BigInt(se)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ve(function(U){U=U>>>0,we(U,"offset");const z=this[U],ee=this[U+7];(z===void 0||ee===void 0)&&fe(U,this.length-8);const ne=z*2**24+this[++U]*2**16+this[++U]*2**8+this[++U],se=this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+ee;return(BigInt(ne)<<BigInt(32))+BigInt(se)}),a.prototype.readIntLE=function(U,z,ee){U=U>>>0,z=z>>>0,ee||j(U,z,this.length);let ne=this[U],se=1,ce=0;for(;++ce<z&&(se*=256);)ne+=this[U+ce]*se;return se*=128,ne>=se&&(ne-=Math.pow(2,8*z)),ne},a.prototype.readIntBE=function(U,z,ee){U=U>>>0,z=z>>>0,ee||j(U,z,this.length);let ne=z,se=1,ce=this[U+--ne];for(;ne>0&&(se*=256);)ce+=this[U+--ne]*se;return se*=128,ce>=se&&(ce-=Math.pow(2,8*z)),ce},a.prototype.readInt8=function(U,z){return U=U>>>0,z||j(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},a.prototype.readInt16LE=function(U,z){U=U>>>0,z||j(U,2,this.length);const ee=this[U]|this[U+1]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt16BE=function(U,z){U=U>>>0,z||j(U,2,this.length);const ee=this[U+1]|this[U]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt32LE=function(U,z){return U=U>>>0,z||j(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},a.prototype.readInt32BE=function(U,z){return U=U>>>0,z||j(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},a.prototype.readBigInt64LE=Ve(function(U){U=U>>>0,we(U,"offset");const z=this[U],ee=this[U+7];(z===void 0||ee===void 0)&&fe(U,this.length-8);const ne=this[U+4]+this[U+5]*2**8+this[U+6]*2**16+(ee<<24);return(BigInt(ne)<<BigInt(32))+BigInt(z+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24)}),a.prototype.readBigInt64BE=Ve(function(U){U=U>>>0,we(U,"offset");const z=this[U],ee=this[U+7];(z===void 0||ee===void 0)&&fe(U,this.length-8);const ne=(z<<24)+this[++U]*2**16+this[++U]*2**8+this[++U];return(BigInt(ne)<<BigInt(32))+BigInt(this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+ee)}),a.prototype.readFloatLE=function(U,z){return U=U>>>0,z||j(U,4,this.length),n.read(this,U,!0,23,4)},a.prototype.readFloatBE=function(U,z){return U=U>>>0,z||j(U,4,this.length),n.read(this,U,!1,23,4)},a.prototype.readDoubleLE=function(U,z){return U=U>>>0,z||j(U,8,this.length),n.read(this,U,!0,52,8)},a.prototype.readDoubleBE=function(U,z){return U=U>>>0,z||j(U,8,this.length),n.read(this,U,!1,52,8)};function I(K,U,z,ee,ne,se){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>ne||U<se)throw new RangeError('"value" argument is out of bounds');if(z+ee>K.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(U,z,ee,ne){if(U=+U,z=z>>>0,ee=ee>>>0,!ne){const Le=Math.pow(2,8*ee)-1;I(this,U,z,ee,Le,0)}let se=1,ce=0;for(this[z]=U&255;++ce<ee&&(se*=256);)this[z+ce]=U/se&255;return z+ee},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(U,z,ee,ne){if(U=+U,z=z>>>0,ee=ee>>>0,!ne){const Le=Math.pow(2,8*ee)-1;I(this,U,z,ee,Le,0)}let se=ee-1,ce=1;for(this[z+se]=U&255;--se>=0&&(ce*=256);)this[z+se]=U/ce&255;return z+ee},a.prototype.writeUint8=a.prototype.writeUInt8=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,1,255,0),this[z]=U&255,z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,2,65535,0),this[z]=U&255,this[z+1]=U>>>8,z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,2,65535,0),this[z]=U>>>8,this[z+1]=U&255,z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,4,4294967295,0),this[z+3]=U>>>24,this[z+2]=U>>>16,this[z+1]=U>>>8,this[z]=U&255,z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,4,4294967295,0),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=U&255,z+4};function L(K,U,z,ee,ne){he(U,ee,ne,K,z,7);let se=Number(U&BigInt(4294967295));K[z++]=se,se=se>>8,K[z++]=se,se=se>>8,K[z++]=se,se=se>>8,K[z++]=se;let ce=Number(U>>BigInt(32)&BigInt(4294967295));return K[z++]=ce,ce=ce>>8,K[z++]=ce,ce=ce>>8,K[z++]=ce,ce=ce>>8,K[z++]=ce,z}function J(K,U,z,ee,ne){he(U,ee,ne,K,z,7);let se=Number(U&BigInt(4294967295));K[z+7]=se,se=se>>8,K[z+6]=se,se=se>>8,K[z+5]=se,se=se>>8,K[z+4]=se;let ce=Number(U>>BigInt(32)&BigInt(4294967295));return K[z+3]=ce,ce=ce>>8,K[z+2]=ce,ce=ce>>8,K[z+1]=ce,ce=ce>>8,K[z]=ce,z+8}a.prototype.writeBigUInt64LE=Ve(function(U,z=0){return L(this,U,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ve(function(U,z=0){return J(this,U,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(U,z,ee,ne){if(U=+U,z=z>>>0,!ne){const Xe=Math.pow(2,8*ee-1);I(this,U,z,ee,Xe-1,-Xe)}let se=0,ce=1,Le=0;for(this[z]=U&255;++se<ee&&(ce*=256);)U<0&&Le===0&&this[z+se-1]!==0&&(Le=1),this[z+se]=(U/ce>>0)-Le&255;return z+ee},a.prototype.writeIntBE=function(U,z,ee,ne){if(U=+U,z=z>>>0,!ne){const Xe=Math.pow(2,8*ee-1);I(this,U,z,ee,Xe-1,-Xe)}let se=ee-1,ce=1,Le=0;for(this[z+se]=U&255;--se>=0&&(ce*=256);)U<0&&Le===0&&this[z+se+1]!==0&&(Le=1),this[z+se]=(U/ce>>0)-Le&255;return z+ee},a.prototype.writeInt8=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,1,127,-128),U<0&&(U=255+U+1),this[z]=U&255,z+1},a.prototype.writeInt16LE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,2,32767,-32768),this[z]=U&255,this[z+1]=U>>>8,z+2},a.prototype.writeInt16BE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,2,32767,-32768),this[z]=U>>>8,this[z+1]=U&255,z+2},a.prototype.writeInt32LE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,4,2147483647,-2147483648),this[z]=U&255,this[z+1]=U>>>8,this[z+2]=U>>>16,this[z+3]=U>>>24,z+4},a.prototype.writeInt32BE=function(U,z,ee){return U=+U,z=z>>>0,ee||I(this,U,z,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=U&255,z+4},a.prototype.writeBigInt64LE=Ve(function(U,z=0){return L(this,U,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ve(function(U,z=0){return J(this,U,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function O(K,U,z,ee,ne,se){if(z+ee>K.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function G(K,U,z,ee,ne){return U=+U,z=z>>>0,ne||O(K,U,z,4),n.write(K,U,z,ee,23,4),z+4}a.prototype.writeFloatLE=function(U,z,ee){return G(this,U,z,!0,ee)},a.prototype.writeFloatBE=function(U,z,ee){return G(this,U,z,!1,ee)};function Z(K,U,z,ee,ne){return U=+U,z=z>>>0,ne||O(K,U,z,8),n.write(K,U,z,ee,52,8),z+8}a.prototype.writeDoubleLE=function(U,z,ee){return Z(this,U,z,!0,ee)},a.prototype.writeDoubleBE=function(U,z,ee){return Z(this,U,z,!1,ee)},a.prototype.copy=function(U,z,ee,ne){if(!a.isBuffer(U))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!ne&&ne!==0&&(ne=this.length),z>=U.length&&(z=U.length),z||(z=0),ne>0&&ne<ee&&(ne=ee),ne===ee||U.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),U.length-z<ne-ee&&(ne=U.length-z+ee);const se=ne-ee;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,ee,ne):Uint8Array.prototype.set.call(U,this.subarray(ee,ne),z),se},a.prototype.fill=function(U,z,ee,ne){if(typeof U=="string"){if(typeof z=="string"?(ne=z,z=0,ee=this.length):typeof ee=="string"&&(ne=ee,ee=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(U.length===1){const ce=U.charCodeAt(0);(ne==="utf8"&&ce<128||ne==="latin1")&&(U=ce)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(z<0||this.length<z||this.length<ee)throw new RangeError("Out of range index");if(ee<=z)return this;z=z>>>0,ee=ee===void 0?this.length:ee>>>0,U||(U=0);let se;if(typeof U=="number")for(se=z;se<ee;++se)this[se]=U;else{const ce=a.isBuffer(U)?U:a.from(U,ne),Le=ce.length;if(Le===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(se=0;se<ee-z;++se)this[se+z]=ce[se%Le]}return this};const Q={};function ie(K,U,z){Q[K]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(K,U){return`The "${K}" argument must be of type number. Received type ${typeof U}`},TypeError),ie("ERR_OUT_OF_RANGE",function(K,U,z){let ee=`The value of "${K}" is out of range.`,ne=z;return Number.isInteger(z)&&Math.abs(z)>2**32?ne=de(String(z)):typeof z=="bigint"&&(ne=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(ne=de(ne)),ne+="n"),ee+=` It must be ${U}. Received ${ne}`,ee},RangeError);function de(K){let U="",z=K.length;const ee=K[0]==="-"?1:0;for(;z>=ee+4;z-=3)U=`_${K.slice(z-3,z)}${U}`;return`${K.slice(0,z)}${U}`}function oe(K,U,z){we(U,"offset"),(K[U]===void 0||K[U+z]===void 0)&&fe(U,K.length-(z+1))}function he(K,U,z,ee,ne,se){if(K>z||K<U){const ce=typeof U=="bigint"?"n":"";let Le;throw U===0||U===BigInt(0)?Le=`>= 0${ce} and < 2${ce} ** ${(se+1)*8}${ce}`:Le=`>= -(2${ce} ** ${(se+1)*8-1}${ce}) and < 2 ** ${(se+1)*8-1}${ce}`,new Q.ERR_OUT_OF_RANGE("value",Le,K)}oe(ee,ne,se)}function we(K,U){if(typeof K!="number")throw new Q.ERR_INVALID_ARG_TYPE(U,"number",K)}function fe(K,U,z){throw Math.floor(K)!==K?(we(K,z),new Q.ERR_OUT_OF_RANGE("offset","an integer",K)):U<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${U}`,K)}const ke=/[^+/0-9A-Za-z-_]/g;function be(K){if(K=K.split("=")[0],K=K.trim().replace(ke,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function Ue(K,U){U=U||1/0;let z;const ee=K.length;let ne=null;const se=[];for(let ce=0;ce<ee;++ce){if(z=K.charCodeAt(ce),z>55295&&z<57344){if(!ne){if(z>56319){(U-=3)>-1&&se.push(239,191,189);continue}else if(ce+1===ee){(U-=3)>-1&&se.push(239,191,189);continue}ne=z;continue}if(z<56320){(U-=3)>-1&&se.push(239,191,189),ne=z;continue}z=(ne-55296<<10|z-56320)+65536}else ne&&(U-=3)>-1&&se.push(239,191,189);if(ne=null,z<128){if((U-=1)<0)break;se.push(z)}else if(z<2048){if((U-=2)<0)break;se.push(z>>6|192,z&63|128)}else if(z<65536){if((U-=3)<0)break;se.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if((U-=4)<0)break;se.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return se}function Me(K){const U=[];for(let z=0;z<K.length;++z)U.push(K.charCodeAt(z)&255);return U}function Se(K,U){let z,ee,ne;const se=[];for(let ce=0;ce<K.length&&!((U-=2)<0);++ce)z=K.charCodeAt(ce),ee=z>>8,ne=z%256,se.push(ne),se.push(ee);return se}function xe(K){return e.toByteArray(be(K))}function Ne(K,U,z,ee){let ne;for(ne=0;ne<ee&&!(ne+z>=U.length||ne>=K.length);++ne)U[ne+z]=K[ne];return ne}function Be(K,U){return K instanceof U||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===U.name}function Ce(K){return K!==K}const De=function(){const K="0123456789abcdef",U=new Array(256);for(let z=0;z<16;++z){const ee=z*16;for(let ne=0;ne<16;++ne)U[ee+ne]=K[z]+K[ne]}return U}();function Ve(K){return typeof BigInt>"u"?rt:K}function rt(){throw new Error("BigInt not supported")}})(yn);function oce(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bWt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function aP(t,...e){if(!bWt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vWt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");oce(t.outputLen),oce(t.blockLen)}function pI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xWt(t,e){aP(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ub=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Yd=(t,e)=>t<<32-e|t>>>e;function EWt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function GK(t){return typeof t=="string"&&(t=EWt(t)),aP(t),t}function AWt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];aP(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Hke=class{clone(){return this._cloneInto()}};function Vke(t){const e=r=>t().update(GK(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function qke(t=32){if(Ub&&typeof Ub.getRandomValues=="function")return Ub.getRandomValues(new Uint8Array(t));if(Ub&&typeof Ub.randomBytes=="function")return Ub.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function CWt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const kWt=(t,e,n)=>t&e^~t&n,SWt=(t,e,n)=>t&e^t&n^e&n;let Gke=class extends Hke{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RM(this.buffer)}update(e){pI(this);const{view:n,buffer:r,blockLen:i}=this;e=GK(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=RM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pI(this),xWt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;CWt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=RM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const u9=BigInt(2**32-1),Dz=BigInt(32);function Kke(t,e=!1){return e?{h:Number(t&u9),l:Number(t>>Dz&u9)}:{h:Number(t>>Dz&u9)|0,l:Number(t&u9)|0}}function _Wt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Kke(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const IWt=(t,e)=>BigInt(t>>>0)<<Dz|BigInt(e>>>0),TWt=(t,e,n)=>t>>>n,$Wt=(t,e,n)=>t<<32-n|e>>>n,NWt=(t,e,n)=>t>>>n|e<<32-n,PWt=(t,e,n)=>t<<32-n|e>>>n,RWt=(t,e,n)=>t<<64-n|e>>>n-32,jWt=(t,e,n)=>t>>>n-32|e<<64-n,OWt=(t,e)=>e,MWt=(t,e)=>t,DWt=(t,e,n)=>t<<n|e>>>32-n,BWt=(t,e,n)=>e<<n|t>>>32-n,LWt=(t,e,n)=>e<<n-32|t>>>64-n,FWt=(t,e,n)=>t<<n-32|e>>>64-n;function UWt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const zWt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),WWt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,HWt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),VWt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,qWt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),GWt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,mn={fromBig:Kke,split:_Wt,toBig:IWt,shrSH:TWt,shrSL:$Wt,rotrSH:NWt,rotrSL:PWt,rotrBH:RWt,rotrBL:jWt,rotr32H:OWt,rotr32L:MWt,rotlSH:DWt,rotlSL:BWt,rotlBH:LWt,rotlBL:FWt,add:UWt,add3L:zWt,add3H:WWt,add4L:HWt,add4H:VWt,add5H:GWt,add5L:qWt},[KWt,YWt]=mn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),B0=new Uint32Array(80),L0=new Uint32Array(80);class QWt extends Gke{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)B0[b]=e.getUint32(n),L0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=B0[b-15]|0,E=L0[b-15]|0,$=mn.rotrSH(A,E,1)^mn.rotrSH(A,E,8)^mn.shrSH(A,E,7),N=mn.rotrSL(A,E,1)^mn.rotrSL(A,E,8)^mn.shrSL(A,E,7),R=B0[b-2]|0,M=L0[b-2]|0,F=mn.rotrSH(R,M,19)^mn.rotrBH(R,M,61)^mn.shrSH(R,M,6),W=mn.rotrSL(R,M,19)^mn.rotrBL(R,M,61)^mn.shrSL(R,M,6),V=mn.add4L(N,W,L0[b-7],L0[b-16]),B=mn.add4H(V,$,F,B0[b-7],B0[b-16]);B0[b]=B|0,L0[b]=V|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=mn.rotrSH(h,f,14)^mn.rotrSH(h,f,18)^mn.rotrBH(h,f,41),E=mn.rotrSL(h,f,14)^mn.rotrSL(h,f,18)^mn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=mn.add5L(v,E,N,YWt[b],L0[b]),M=mn.add5H(R,w,A,$,KWt[b],B0[b]),F=R|0,W=mn.rotrSH(r,i,28)^mn.rotrBH(r,i,34)^mn.rotrBH(r,i,39),V=mn.rotrSL(r,i,28)^mn.rotrBL(r,i,34)^mn.rotrBL(r,i,39),B=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=mn.add(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=mn.add3L(F,V,k);r=mn.add3H(C,M,W,B),i=C|0}({h:r,l:i}=mn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=mn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=mn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=mn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=mn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=mn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=mn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=mn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){B0.fill(0),L0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ZWt=Vke(()=>new QWt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lP=BigInt(0),cP=BigInt(1),JWt=BigInt(2);function yw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function SC(t){if(!yw(t))throw new Error("Uint8Array expected")}function Np(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const XWt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ww(t){SC(t);let e="";for(let n=0;n<t.length;n++)e+=XWt[t[n]];return e}function Rv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function KK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?lP:BigInt("0x"+t)}const Tf={_0:48,_9:57,A:65,F:70,a:97,f:102};function ace(t){if(t>=Tf._0&&t<=Tf._9)return t-Tf._0;if(t>=Tf.A&&t<=Tf.F)return t-(Tf.A-10);if(t>=Tf.a&&t<=Tf.f)return t-(Tf.a-10)}function d3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=ace(t.charCodeAt(s)),a=ace(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function j1(t){return KK(ww(t))}function m2(t){return SC(t),KK(ww(Uint8Array.from(t).reverse()))}function h3(t,e){return d3(t.toString(16).padStart(e*2,"0"))}function R8(t,e){return h3(t,e).reverse()}function eHt(t){return d3(Rv(t))}function zi(t,e,n){let r;if(typeof e=="string")try{r=d3(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(yw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function bw(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];SC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function tHt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function nHt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const jM=t=>typeof t=="bigint"&&lP<=t;function uP(t,e,n){return jM(t)&&jM(e)&&jM(n)&&e<=t&&t<n}function Vc(t,e,n,r){if(!uP(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Yke(t){let e;for(e=0;t>lP;t>>=cP,e+=1);return e}function rHt(t,e){return t>>BigInt(e)&cP}function iHt(t,e,n){return t|(n?cP:lP)<<BigInt(e)}const YK=t=>(JWt<<BigInt(t-1))-cP,OM=t=>new Uint8Array(t),lce=t=>Uint8Array.from(t);function Qke(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=OM(t),i=OM(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=OM())=>{i=a(lce([0]),h),r=a(),h.length!==0&&(i=a(lce([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return bw(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const sHt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||yw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function c5(t,e,n={}){const r=(i,s,o)=>{const a=sHt[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const oHt=()=>{throw new Error("not implemented")};function j8(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const aHt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Vc,abool:Np,abytes:SC,bitGet:rHt,bitLen:Yke,bitMask:YK,bitSet:iHt,bytesToHex:ww,bytesToNumberBE:j1,bytesToNumberLE:m2,concatBytes:bw,createHmacDrbg:Qke,ensureBytes:zi,equalBytes:tHt,hexToBytes:d3,hexToNumber:KK,inRange:uP,isBytes:yw,memoized:j8,notImplemented:oHt,numberToBytesBE:h3,numberToBytesLE:R8,numberToHexUnpadded:Rv,numberToVarBytesBE:eHt,utf8ToBytes:nHt,validateObject:c5},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const As=BigInt(0),ti=BigInt(1),by=BigInt(2),lHt=BigInt(3),Bz=BigInt(4),cce=BigInt(5),uce=BigInt(8);function Vr(t,e){const n=t%e;return n>=As?n:e+n}function cHt(t,e,n){if(e<As)throw new Error("invalid exponent, negatives unsupported");if(n<=As)throw new Error("invalid modulus");if(n===ti)return As;let r=ti;for(;e>As;)e&ti&&(r=r*t%n),t=t*t%n,e>>=ti;return r}function li(t,e,n){let r=t;for(;e-- >As;)r*=r,r%=n;return r}function Lz(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let n=Vr(t,e),r=e,i=As,s=ti;for(;n!==As;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==ti)throw new Error("invert: does not exist");return Vr(i,e)}function uHt(t){const e=(t-ti)/by;let n,r,i;for(n=t-ti,r=0;n%by===As;n/=by,r++);for(i=by;i<t&&cHt(i,e,t)!==t-ti;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ti)/Bz;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ti)/by;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(u,ti<<BigInt(c-p-1));u=a.sqr(m),h=a.mul(h,m),f=a.mul(f,u),c=p}return h}}function dHt(t){if(t%Bz===lHt){const e=(t+ti)/Bz;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%uce===cce){const e=(t-cce)/uce;return function(r,i){const s=r.mul(i,by),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,by),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return uHt(t)}const hHt=(t,e)=>(Vr(t,e)&ti)===ti,fHt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pHt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fHt.reduce((r,i)=>(r[i]="function",r),e);return c5(t,n)}function mHt(t,e,n){if(n<As)throw new Error("invalid exponent, negatives unsupported");if(n===As)return t.ONE;if(n===ti)return e;let r=t.ONE,i=e;for(;n>As;)n&ti&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ti;return r}function gHt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Zke(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function dP(t,e,n=!1,r={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Zke(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:YK(i),ZERO:As,ONE:ti,create:l=>Vr(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return As<=l&&l<t},is0:l=>l===As,isOdd:l=>(l&ti)===ti,neg:l=>Vr(-l,t),eql:(l,c)=>l===c,sqr:l=>Vr(l*l,t),add:(l,c)=>Vr(l+c,t),sub:(l,c)=>Vr(l-c,t),mul:(l,c)=>Vr(l*c,t),pow:(l,c)=>mHt(a,l,c),div:(l,c)=>Vr(l*Lz(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Lz(l,t),sqrt:r.sqrt||(l=>(o||(o=dHt(t)),o(a,l))),invertBatch:l=>gHt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?R8(l,s):h3(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?m2(l):j1(l)}});return Object.freeze(a)}function Jke(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Xke(t){const e=Jke(t);return e+Math.ceil(e/2)}function yHt(t,e,n=!1){const r=t.length,i=Jke(e),s=Xke(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?m2(t):j1(t),a=Vr(o,e-ti)+ti;return n?R8(a,i):h3(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dce=BigInt(0),d9=BigInt(1);function MM(t,e){const n=e.negate();return t?n:e}function e9e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function DM(t,e){e9e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function wHt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function bHt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const BM=new WeakMap,t9e=new WeakMap;function LM(t){return t9e.get(t)||1}function n9e(t,e){return{constTimeNegate:MM,hasPrecomputes(n){return LM(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>dce;)r&d9&&(i=i.add(s)),s=s.double(),r>>=d9;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=DM(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=DM(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=d9);const g=p,y=p+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?l=l.add(MM(w,r[g])):a=a.add(MM(v,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=DM(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===dce)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=d9),p===0)continue;let m=r[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=BM.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&BM.set(r,i(s))),s},wNAFCached(n,r,i){const s=LM(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=LM(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){e9e(r,e),t9e.set(n,r),BM.delete(n)}}}function r9e(t,e,n,r){if(wHt(n,t),bHt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Yke(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<r.length;p++){const m=r[p],g=Number(m>>BigInt(h)&BigInt(a));l[g]=l[g].add(n[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function QK(t){return pHt(t.Fp),c5(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zke(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cu=BigInt(0),Sa=BigInt(1),h9=BigInt(2),vHt=BigInt(8),xHt={zip215:!0};function EHt(t){const e=QK(t);return c5(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function AHt(t){const e=EHt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=h9<<BigInt(a*8)-Sa,u=n.create,h=dP(e.n,e.nBitLength),f=e.uvRatio||((S,T)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv(T))}}catch{return{isValid:!1,value:Cu}}}),p=e.adjustScalarBytes||(S=>S),m=e.domain||((S,T,_)=>{if(Np("phflag",_),T.length||_)throw new Error("Contexts/pre-hash are not supported");return S});function g(S,T){Vc("coordinate "+S,T,Cu,c)}function y(S){if(!(S instanceof b))throw new Error("ExtendedPoint expected")}const w=j8((S,T)=>{const{ex:_,ey:P,ez:D}=S,j=S.is0();T==null&&(T=j?vHt:n.inv(D));const I=u(_*T),L=u(P*T),J=u(D*T);if(j)return{x:Cu,y:Sa};if(J!==Sa)throw new Error("invZ was invalid");return{x:I,y:L}}),v=j8(S=>{const{a:T,d:_}=e;if(S.is0())throw new Error("bad point: ZERO");const{ex:P,ey:D,ez:j,et:I}=S,L=u(P*P),J=u(D*D),O=u(j*j),G=u(O*O),Z=u(L*T),Q=u(O*u(Z+J)),ie=u(G+u(_*u(L*J)));if(Q!==ie)throw new Error("bad point: equation left != right (1)");const de=u(P*D),oe=u(j*I);if(de!==oe)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(T,_,P,D){this.ex=T,this.ey=_,this.ez=P,this.et=D,g("x",T),g("y",_),g("z",P),g("t",D),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof b)throw new Error("extended point not allowed");const{x:_,y:P}=T||{};return g("x",_),g("y",P),new b(_,P,Sa,u(_*P))}static normalizeZ(T){const _=n.invertBatch(T.map(P=>P.ez));return T.map((P,D)=>P.toAffine(_[D])).map(b.fromAffine)}static msm(T,_){return r9e(b,h,T,_)}_setWindowSize(T){$.setWindowSize(this,T)}assertValidity(){v(this)}equals(T){y(T);const{ex:_,ey:P,ez:D}=this,{ex:j,ey:I,ez:L}=T,J=u(_*L),O=u(j*D),G=u(P*L),Z=u(I*D);return J===O&&G===Z}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=e,{ex:_,ey:P,ez:D}=this,j=u(_*_),I=u(P*P),L=u(h9*u(D*D)),J=u(T*j),O=_+P,G=u(u(O*O)-j-I),Z=J+I,Q=Z-L,ie=J-I,de=u(G*Q),oe=u(Z*ie),he=u(G*ie),we=u(Q*Z);return new b(de,oe,we,he)}add(T){y(T);const{a:_,d:P}=e,{ex:D,ey:j,ez:I,et:L}=this,{ex:J,ey:O,ez:G,et:Z}=T;if(_===BigInt(-1)){const xe=u((j-D)*(O+J)),Ne=u((j+D)*(O-J)),Be=u(Ne-xe);if(Be===Cu)return this.double();const Ce=u(I*h9*Z),De=u(L*h9*G),Ve=De+Ce,rt=Ne+xe,K=De-Ce,U=u(Ve*Be),z=u(rt*K),ee=u(Ve*K),ne=u(Be*rt);return new b(U,z,ne,ee)}const Q=u(D*J),ie=u(j*O),de=u(L*P*Z),oe=u(I*G),he=u((D+j)*(J+O)-Q-ie),we=oe-de,fe=oe+de,ke=u(ie-_*Q),be=u(he*we),Ue=u(fe*ke),Me=u(he*ke),Se=u(we*fe);return new b(be,Ue,Se,Me)}subtract(T){return this.add(T.negate())}wNAF(T){return $.wNAFCached(this,T,b.normalizeZ)}multiply(T){const _=T;Vc("scalar",_,Sa,r);const{p:P,f:D}=this.wNAF(_);return b.normalizeZ([P,D])[0]}multiplyUnsafe(T,_=b.ZERO){const P=T;return Vc("scalar",P,Cu,r),P===Cu?E:this.is0()||P===Sa?this:$.wNAFCachedUnsafe(this,P,b.normalizeZ,_)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(T){return w(this,T)}clearCofactor(){const{h:T}=e;return T===Sa?this:this.multiplyUnsafe(T)}static fromHex(T,_=!1){const{d:P,a:D}=e,j=n.BYTES;T=zi("pointHex",T,j),Np("zip215",_);const I=T.slice(),L=T[j-1];I[j-1]=L&-129;const J=m2(I),O=_?c:n.ORDER;Vc("pointHex.y",J,Cu,O);const G=u(J*J),Z=u(G-Sa),Q=u(P*G-D);let{isValid:ie,value:de}=f(Z,Q);if(!ie)throw new Error("Point.fromHex: invalid y coordinate");const oe=(de&Sa)===Sa,he=(L&128)!==0;if(!_&&de===Cu&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==oe&&(de=u(-de)),b.fromAffine({x:de,y:J})}static fromPrivateKey(T){return M(T).point}toRawBytes(){const{x:T,y:_}=this.toAffine(),P=R8(_,n.BYTES);return P[P.length-1]|=T&Sa?128:0,P}toHex(){return ww(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Sa,u(e.Gx*e.Gy)),b.ZERO=new b(Cu,Sa,Sa,Cu);const{BASE:A,ZERO:E}=b,$=n9e(b,a*8);function N(S){return Vr(S,r)}function R(S){return N(m2(S))}function M(S){const T=n.BYTES;S=zi("private key",S,T);const _=zi("hashed private key",s(S),2*T),P=p(_.slice(0,T)),D=_.slice(T,2*T),j=R(P),I=A.multiply(j),L=I.toRawBytes();return{head:P,prefix:D,scalar:j,point:I,pointBytes:L}}function F(S){return M(S).pointBytes}function W(S=new Uint8Array,...T){const _=bw(...T);return R(s(m(_,zi("context",S),!!i)))}function V(S,T,_={}){S=zi("message",S),i&&(S=i(S));const{prefix:P,scalar:D,pointBytes:j}=M(T),I=W(_.context,P,S),L=A.multiply(I).toRawBytes(),J=W(_.context,L,j,S),O=N(I+J*D);Vc("signature.s",O,Cu,r);const G=bw(L,R8(O,n.BYTES));return zi("result",G,n.BYTES*2)}const B=xHt;function k(S,T,_,P=B){const{context:D,zip215:j}=P,I=n.BYTES;S=zi("signature",S,2*I),T=zi("message",T),_=zi("publicKey",_,I),j!==void 0&&Np("zip215",j),i&&(T=i(T));const L=m2(S.slice(I,2*I));let J,O,G;try{J=b.fromHex(_,j),O=b.fromHex(S.slice(0,I),j),G=A.multiplyUnsafe(L)}catch{return!1}if(!j&&J.isSmallOrder())return!1;const Z=W(D,O.toRawBytes(),J.toRawBytes(),T);return O.add(J.multiplyUnsafe(Z)).subtract(G).clearCofactor().equals(b.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:V,verify:k,ExtendedPoint:b,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute(S=8,T=b.BASE){return T._setWindowSize(S),T.multiply(BigInt(3)),T}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZK=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),hce=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const CHt=BigInt(1),fce=BigInt(2);BigInt(3);const kHt=BigInt(5),SHt=BigInt(8);function _Ht(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=ZK,a=t*t%s*t%s,l=li(a,fce,s)*a%s,c=li(l,CHt,s)*t%s,u=li(c,kHt,s)*c%s,h=li(u,e,s)*u%s,f=li(h,n,s)*h%s,p=li(f,r,s)*f%s,m=li(p,i,s)*p%s,g=li(m,i,s)*p%s,y=li(g,e,s)*u%s;return{pow_p_5_8:li(y,fce,s)*t%s,b2:a}}function IHt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function THt(t,e){const n=ZK,r=Vr(e*e*e,n),i=Vr(r*r*e,n),s=_Ht(t*i).pow_p_5_8;let o=Vr(t*r*s,n);const a=Vr(e*o*o,n),l=o,c=Vr(o*hce,n),u=a===t,h=a===Vr(-t,n),f=a===Vr(-t*hce,n);return u&&(o=l),(h||f)&&(o=c),hHt(o,n)&&(o=Vr(-o,n)),{isValid:u||h,value:o}}const $Ht=dP(ZK,void 0,!0),NHt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$Ht,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:SHt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ZWt,randomBytes:qke,adjustScalarBytes:IHt,uvRatio:THt},JK=AHt(NHt);var Fz={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=yn,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Fz,Fz.exports);var i9e=Fz.exports,f9=i9e.Buffer;function PHt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=f9.from(p)),!f9.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,g=0,y=0,w=p.length;y!==w&&p[y]===0;)y++,m++;for(var v=(w-y)*c+1>>>0,b=new Uint8Array(v);y!==w;){for(var A=p[y],E=0,$=v-1;(A!==0||E<g)&&$!==-1;$--,E++)A+=256*b[$]>>>0,b[$]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");g=E,y++}for(var N=v-g;N!==v&&b[N]===0;)N++;for(var R=a.repeat(m);N<v;++N)R+=t.charAt(b[N]);return R}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return f9.alloc(0);for(var m=0,g=0,y=0;p[m]===a;)g++,m++;for(var w=(p.length-m)*l+1>>>0,v=new Uint8Array(w);m<p.length;){var b=p.charCodeAt(m);if(b>255)return;var A=e[b];if(A===255)return;for(var E=0,$=w-1;(A!==0||E<y)&&$!==-1;$--,E++)A+=o*v[$]>>>0,v[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}for(var N=w-y;N!==w&&v[N]===0;)N++;var R=f9.allocUnsafe(g+(w-N));R.fill(0,0,g);for(var M=g;N!==w;)R[M++]=v[N++];return R}function f(p){var m=h(p);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var RHt=PHt,jHt=RHt,OHt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",MHt=jHt(OHt);const Zo=Ks(MHt);function DHt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function s9e(t,...e){if(!DHt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function pce(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BHt(t,e){s9e(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Qd=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function LHt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function o9e(t){return typeof t=="string"&&(t=LHt(t)),s9e(t),t}class FHt{clone(){return this._cloneInto()}}function UHt(t){const e=r=>t().update(o9e(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function zHt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const WHt=(t,e,n)=>t&e^~t&n,HHt=(t,e,n)=>t&e^t&n^e&n;class VHt extends FHt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=FM(this.buffer)}update(e){pce(this);const{view:n,buffer:r,blockLen:i}=this;e=o9e(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=FM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pce(this),BHt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;zHt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=FM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const qHt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),F0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),U0=new Uint32Array(64);let GHt=class extends VHt{constructor(){super(64,32,8,!1),this.A=F0[0]|0,this.B=F0[1]|0,this.C=F0[2]|0,this.D=F0[3]|0,this.E=F0[4]|0,this.F=F0[5]|0,this.G=F0[6]|0,this.H=F0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)U0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=U0[h-15],p=U0[h-2],m=Qd(f,7)^Qd(f,18)^f>>>3,g=Qd(p,17)^Qd(p,19)^p>>>10;U0[h]=g+U0[h-7]+m+U0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Qd(a,6)^Qd(a,11)^Qd(a,25),p=u+f+WHt(a,l,c)+qHt[h]+U0[h]|0,g=(Qd(r,2)^Qd(r,13)^Qd(r,22))+HHt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){U0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const mce=UHt(()=>new GHt);var Ls={},p9=i9e.Buffer;function KHt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=p9.from(p)),!p9.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,g=0,y=0,w=p.length;y!==w&&p[y]===0;)y++,m++;for(var v=(w-y)*c+1>>>0,b=new Uint8Array(v);y!==w;){for(var A=p[y],E=0,$=v-1;(A!==0||E<g)&&$!==-1;$--,E++)A+=256*b[$]>>>0,b[$]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");g=E,y++}for(var N=v-g;N!==v&&b[N]===0;)N++;for(var R=a.repeat(m);N<v;++N)R+=t.charAt(b[N]);return R}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return p9.alloc(0);for(var m=0,g=0,y=0;p[m]===a;)g++,m++;for(var w=(p.length-m)*l+1>>>0,v=new Uint8Array(w);m<p.length;){var b=p.charCodeAt(m);if(b>255)return;var A=e[b];if(A===255)return;for(var E=0,$=w-1;(A!==0||E<y)&&$!==-1;$--,E++)A+=o*v[$]>>>0,v[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}for(var N=w-y;N!==w&&v[N]===0;)N++;var R=p9.allocUnsafe(g+(w-N));R.fill(0,0,g);for(var M=g;N!==w;)R[M++]=v[N++];return R}function f(p){var m=h(p);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var YHt=KHt,QHt=YHt,ZHt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",JHt=QHt(ZHt);function up(t,e,n){return e<=t&&t<=n}function hP(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function XHt(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function eVt(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var mI=-1;function XK(t){this.tokens=[].slice.call(t)}XK.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():mI},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var f3=-1;function UM(t,e){if(t)throw TypeError("Decoder error");return e||65533}var gI="utf-8";function yI(t,e){if(!(this instanceof yI))return new yI(t,e);if(t=t!==void 0?String(t).toLowerCase():gI,t!==gI)throw new Error("Encoding not supported. Only utf-8 is supported");e=hP(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}yI.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=hP(n),this._streaming||(this._decoder=new tVt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new XK(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==f3);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===f3)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),eVt(s)}};function wI(t,e){if(!(this instanceof wI))return new wI(t,e);if(t=t!==void 0?String(t).toLowerCase():gI,t!==gI)throw new Error("Encoding not supported. Only utf-8 is supported");e=hP(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}wI.prototype={encode:function(e,n){e=e?String(e):"",n=hP(n),this._streaming||(this._encoder=new nVt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new XK(XHt(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==f3);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==f3;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function tVt(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===mI&&i!==0)return i=0,UM(e);if(l===mI)return f3;if(i===0){if(up(l,0,127))return l;if(up(l,194,223))i=1,n=l-192;else if(up(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(up(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return UM(e);return n=n<<6*i,null}if(!up(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),UM(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function nVt(t){t.fatal,this.handler=function(e,n){if(n===mI)return f3;if(up(n,0,127))return n;var r,i;up(n,128,2047)?(r=1,i=192):up(n,2048,65535)?(r=2,i=224):up(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const rVt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:yI,TextEncoder:wI},Symbol.toStringTag,{value:"Module"})),iVt=y3(rVt);var sVt=ql&&ql.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),oVt=ql&&ql.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ff=ql&&ql.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},aVt=ql&&ql.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&sVt(e,t,n);return oVt(e,t),e},a9e=ql&&ql.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ls,"__esModule",{value:!0});var l9e=Ls.deserializeUnchecked=p9e=Ls.deserialize=f9e=Ls.serialize=Ls.BinaryReader=Ls.BinaryWriter=Ls.BorshError=Ls.baseDecode=Ls.baseEncode=void 0;const qm=a9e(O1e),c9e=a9e(JHt),lVt=aVt(iVt),cVt=typeof TextDecoder!="function"?lVt.TextDecoder:TextDecoder,uVt=new cVt("utf-8",{fatal:!0});function dVt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),c9e.default.encode(Buffer.from(t))}Ls.baseEncode=dVt;function hVt(t){return Buffer.from(c9e.default.decode(t))}Ls.baseDecode=hVt;const zM=1024;class aa extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ls.BorshError=aa;class u9e{constructor(){this.buf=Buffer.alloc(zM),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(zM)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new qm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new qm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new qm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new qm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(zM)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Ls.BinaryWriter=u9e;function pf(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new aa("Reached the end of buffer when deserializing")}throw s}}}class cc{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new qm.default(e,"le")}readU128(){const e=this.readBuffer(16);return new qm.default(e,"le")}readU256(){const e=this.readBuffer(32);return new qm.default(e,"le")}readU512(){const e=this.readBuffer(64);return new qm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new aa(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return uVt.decode(n)}catch(r){throw new aa(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ff([pf],cc.prototype,"readU8",null);ff([pf],cc.prototype,"readU16",null);ff([pf],cc.prototype,"readU32",null);ff([pf],cc.prototype,"readU64",null);ff([pf],cc.prototype,"readU128",null);ff([pf],cc.prototype,"readU256",null);ff([pf],cc.prototype,"readU512",null);ff([pf],cc.prototype,"readString",null);ff([pf],cc.prototype,"readFixedArray",null);ff([pf],cc.prototype,"readArray",null);Ls.BinaryReader=cc;function d9e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vy(t,e,n,r,i){try{if(typeof r=="string")i[`write${d9e(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new aa(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new aa(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)vy(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{vy(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),vy(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{vy(t,e,o,r.key,i),vy(t,e,s,r.value,i)});break}default:throw new aa(`FieldType ${r} unrecognized`)}else h9e(t,n,i)}catch(s){throw s instanceof aa&&s.addToFieldPath(e),s}}function h9e(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new aa(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{vy(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),vy(t,o,e[o],a,n);break}}}else throw new aa(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function fVt(t,e,n=u9e){const r=new n;return h9e(t,e,r),r.toArray()}var f9e=Ls.serialize=fVt;function xy(t,e,n,r){try{if(typeof n=="string")return r[`read${d9e(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(xy(t,null,n[0],r));return i}else return r.readArray(()=>xy(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?xy(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=xy(t,e,n.key,r),l=xy(t,e,n.value,r);i.set(a,l)}return i}return eY(t,n,r)}catch(i){throw i instanceof aa&&i.addToFieldPath(e),i}}function eY(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new aa(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=xy(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new aa(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=xy(t,s,o,n);return new e({[s]:a})}throw new aa(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function pVt(t,e,n,r=cc){const i=new r(n),s=eY(t,e,i);if(i.offset<n.length)throw new aa(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var p9e=Ls.deserialize=pVt;function mVt(t,e,n,r=cc){const i=new r(n);return eY(t,e,i)}l9e=Ls.deserializeUnchecked=mVt;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.s16=Te.s8=Te.nu64be=Te.u48be=Te.u40be=Te.u32be=Te.u24be=Te.u16be=Rs=Te.nu64=Te.u48=Te.u40=Ot=Te.u32=Te.u24=Lc=Te.u16=Xn=Te.u8=O1=Te.offset=Te.greedy=Te.Constant=Te.UTF8=Te.CString=Te.Blob=Te.Boolean=Te.BitField=Te.BitStructure=Te.VariantLayout=Te.Union=Te.UnionLayoutDiscriminator=Te.UnionDiscriminator=Te.Structure=Te.Sequence=Te.DoubleBE=Te.Double=Te.FloatBE=Te.Float=Te.NearInt64BE=Te.NearInt64=Te.NearUInt64BE=Te.NearUInt64=Te.IntBE=Te.Int=Te.UIntBE=Te.UInt=Te.OffsetLayout=Te.GreedyCount=Te.ExternalLayout=Te.bindConstructorLayout=Te.nameWithProperty=Te.Layout=Te.uint8ArrayToBuffer=Te.checkUint8Array=void 0;Te.constant=Te.utf8=Te.cstr=Br=Te.blob=Te.unionLayoutDiscriminator=Te.union=la=Te.seq=Te.bits=It=Te.struct=Te.f64be=Te.f64=Te.f32be=Te.f32=Te.ns64be=Te.s48be=Te.s40be=Te.s32be=Te.s24be=Te.s16be=Ol=Te.ns64=Te.s48=Te.s40=Te.s32=Te.s24=void 0;const tY=yn;function u5(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Te.checkUint8Array=u5;function Jn(t){return u5(t),tY.Buffer.from(t.buffer,t.byteOffset,t.length)}Te.uint8ArrayToBuffer=Jn;class cr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Te.Layout=cr;function nY(t,e){return e.property?t+"["+e.property+"]":t}Te.nameWithProperty=nY;function gVt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof cr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Te.bindConstructorLayout=gVt;class Ua extends cr{isCount(){throw new Error("ExternalLayout is abstract")}}Te.ExternalLayout=Ua;class m9e extends Ua{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){u5(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Te.GreedyCount=m9e;class rY extends Ua{constructor(e,n=0,r){if(!(e instanceof cr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Qc||this.layout instanceof dd}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Te.OffsetLayout=rY;class Qc extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Jn(n).writeUIntLE(e,r,this.span),this.span}}Te.UInt=Qc;class dd extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Jn(n).writeUIntBE(e,r,this.span),this.span}}Te.UIntBE=dd;class Jw extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readIntLE(n,this.span)}encode(e,n,r=0){return Jn(n).writeIntLE(e,r,this.span),this.span}}Te.Int=Jw;class d5 extends cr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readIntBE(n,this.span)}encode(e,n,r=0){return Jn(n).writeIntBE(e,r,this.span),this.span}}Te.IntBE=d5;const Uz=Math.pow(2,32);function fP(t){const e=Math.floor(t/Uz),n=t-e*Uz;return{hi32:e,lo32:n}}function pP(t,e){return t*Uz+e}class g9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return pP(s,i)}encode(e,n,r=0){const i=fP(e),s=Jn(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}Te.NearUInt64=g9e;class y9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return pP(i,s)}encode(e,n,r=0){const i=fP(e),s=Jn(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Te.NearUInt64BE=y9e;class w9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return pP(s,i)}encode(e,n,r=0){const i=fP(e),s=Jn(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}Te.NearInt64=w9e;class b9e extends cr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return pP(i,s)}encode(e,n,r=0){const i=fP(e),s=Jn(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Te.NearInt64BE=b9e;class v9e extends cr{constructor(e){super(4,e)}decode(e,n=0){return Jn(e).readFloatLE(n)}encode(e,n,r=0){return Jn(n).writeFloatLE(e,r),4}}Te.Float=v9e;class x9e extends cr{constructor(e){super(4,e)}decode(e,n=0){return Jn(e).readFloatBE(n)}encode(e,n,r=0){return Jn(n).writeFloatBE(e,r),4}}Te.FloatBE=x9e;class E9e extends cr{constructor(e){super(8,e)}decode(e,n=0){return Jn(e).readDoubleLE(n)}encode(e,n,r=0){return Jn(n).writeDoubleLE(e,r),8}}Te.Double=E9e;class A9e extends cr{constructor(e){super(8,e)}decode(e,n=0){return Jn(e).readDoubleBE(n)}encode(e,n,r=0){return Jn(n).writeDoubleBE(e,r),8}}Te.DoubleBE=A9e;class C9e extends cr{constructor(e,n,r){if(!(e instanceof cr))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Ua&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Ua)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Ua&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Ua&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Ua&&this.count.encode(e.length,n,r),s}}Te.Sequence=C9e;class k9e extends cr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof cr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){u5(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Te.Structure=k9e;class iY{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Te.UnionDiscriminator=iY;class bI extends iY{constructor(e,n){if(!(e instanceof Ua&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Te.UnionLayoutDiscriminator=bI;class sY extends cr{constructor(e,n,r){let i;if(e instanceof Qc||e instanceof dd)i=new bI(new rY(e));else if(e instanceof Ua&&e.isCount())i=new bI(e);else if(e instanceof iY)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof cr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Qc||e instanceof dd)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Qc||e instanceof dd,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new S9e(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Te.Union=sY;class S9e extends cr{constructor(e,n,r,i){if(!(e instanceof sY))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof cr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Te.VariantLayout=S9e;function Zb(t){return 0>t&&(t+=4294967296),t}class oY extends cr{constructor(e,n,r){if(!(e instanceof Qc||e instanceof dd))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Zb(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new aY(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new _9e(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Te.BitStructure=oY;class aY{constructor(e,n,r){if(!(e instanceof oY))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Zb(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Zb(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Zb(e&this.valueMask))throw new TypeError(nY("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Zb(e<<this.start);this.container._packedSetValue(Zb(n&~this.wordMask)|r)}}Te.BitField=aY;let _9e=class extends aY{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Te.Boolean=_9e;let I9e=class extends cr{constructor(e,n){if(!(e instanceof Ua&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ua||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Jn(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Ua&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(nY("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Jn(e);return Jn(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Ua&&this.length.encode(i,n,r),i}};Te.Blob=I9e;class T9e extends cr{constructor(e){super(-1,e)}getSpan(e,n=0){u5(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Jn(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=tY.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Jn(n);return i.copy(o,r),o[r+s]=0,s+1}}Te.CString=T9e;class $9e extends cr{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return u5(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Jn(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=tY.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Jn(n),r),s}}Te.UTF8=$9e;class N9e extends cr{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Te.Constant=N9e;Te.greedy=(t,e)=>new m9e(t,e);var O1=Te.offset=(t,e,n)=>new rY(t,e,n),Xn=Te.u8=t=>new Qc(1,t),Lc=Te.u16=t=>new Qc(2,t);Te.u24=t=>new Qc(3,t);var Ot=Te.u32=t=>new Qc(4,t);Te.u40=t=>new Qc(5,t);Te.u48=t=>new Qc(6,t);var Rs=Te.nu64=t=>new g9e(t);Te.u16be=t=>new dd(2,t);Te.u24be=t=>new dd(3,t);Te.u32be=t=>new dd(4,t);Te.u40be=t=>new dd(5,t);Te.u48be=t=>new dd(6,t);Te.nu64be=t=>new y9e(t);Te.s8=t=>new Jw(1,t);Te.s16=t=>new Jw(2,t);Te.s24=t=>new Jw(3,t);Te.s32=t=>new Jw(4,t);Te.s40=t=>new Jw(5,t);Te.s48=t=>new Jw(6,t);var Ol=Te.ns64=t=>new w9e(t);Te.s16be=t=>new d5(2,t);Te.s24be=t=>new d5(3,t);Te.s32be=t=>new d5(4,t);Te.s40be=t=>new d5(5,t);Te.s48be=t=>new d5(6,t);Te.ns64be=t=>new b9e(t);Te.f32=t=>new v9e(t);Te.f32be=t=>new x9e(t);Te.f64=t=>new E9e(t);Te.f64be=t=>new A9e(t);var It=Te.struct=(t,e,n)=>new k9e(t,e,n);Te.bits=(t,e,n)=>new oY(t,e,n);var la=Te.seq=(t,e,n)=>new C9e(t,e,n);Te.union=(t,e,n)=>new sY(t,e,n);Te.unionLayoutDiscriminator=(t,e)=>new bI(t,e);var Br=Te.blob=(t,e)=>new I9e(t,e);Te.cstr=t=>new T9e(t);Te.utf8=(t,e)=>new $9e(t,e);Te.constant=(t,e)=>new N9e(t,e);var yVt=8078e3,wVt=8078001,bVt=8078004,vVt=8078005,xVt=8078006,EVt=8078011;function P9e(t){return Array.isArray(t)?"%5B"+t.map(P9e).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function AVt([t,e]){return`${t}=${P9e(e)}`}function CVt(t){const e=Object.entries(t).map(AVt).join("&");return btoa(e)}function kVt(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${CVt(e)}'`),`${n}\``}}var g2=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=kVt(e,r);super(s,i);Ee(this,"cause",this.cause);Ee(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function SVt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function _Vt(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(SVt(e,t));return t.write(e,n,0),n}})}function IVt(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function zb(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function TVt(t,e){if(zb(t)!==zb(e))throw new g2(bVt);if(zb(t)&&zb(e)&&t.fixedSize!==e.fixedSize)throw new g2(vVt,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!zb(t)&&!zb(e)&&t.maxSize!==e.maxSize)throw new g2(xVt,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function $Vt(t,e,n=0){if(e.length-n<=0)throw new g2(yVt,{codecDescription:t})}function NVt(t,e,n,r=0){const i=n.length-r;if(i<e)throw new g2(wVt,{bytesLength:i,codecDescription:t,expected:e})}function PVt(t,e,n,r){if(r<e||r>n)throw new g2(EVt,{codecDescription:t,max:n,min:e,value:r})}function R9e(t){return(t==null?void 0:t.endian)!==1}function RVt(t){return _Vt({fixedSize:t.size,write(e,n,r){t.range&&PVt(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,R9e(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function jVt(t){return IVt({fixedSize:t.size,read(e,n=0){$Vt(t.name,e,n),NVt(t.name,t.size,e,n);const r=new DataView(OVt(e,n,t.size));return[t.get(r,R9e(t.config)),n+t.size]}})}function OVt(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var MVt=(t={})=>RVt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),DVt=(t={})=>jVt({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),BVt=(t={})=>TVt(MVt(t),DVt(t));class LVt extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function FVt(t){return _C(t)&&typeof t[Symbol.iterator]=="function"}function _C(t){return typeof t=="object"&&t!=null}function vI(t){return _C(t)&&!Array.isArray(t)}function Td(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function UVt(t){const{done:e,value:n}=t.next();return e?void 0:n}function zVt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Td(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*gce(t,e,n,r){FVt(t)||(t=[t]);for(const i of t){const s=zVt(i,e,n,r);s&&(yield s)}}function*lY(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,h]of e.entries(t,a)){const f=lY(u,h,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const p of f)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(u=p[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):_C(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let mf=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return gce(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return gce(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return WVt(e,this,n)}create(e,n){return O8(e,this,n)}is(e){return j9e(e,this)}mask(e,n){return HVt(e,this,n)}validate(e,n={}){return IC(e,this,n)}};function WVt(t,e,n){const r=IC(t,e,{message:n});if(r[0])throw r[0]}function O8(t,e,n){const r=IC(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function HVt(t,e,n){const r=IC(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function j9e(t,e){return!IC(t,e)[0]}function IC(t,e,n={}){const r=lY(t,e,n),i=UVt(r);return i[0]?[new LVt(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Xw(t,e){return new mf({type:t,schema:null,validator:e})}function VVt(){return Xw("any",()=>!0)}function yt(t){return new mf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Td(e)}`}})}function sf(){return Xw("boolean",t=>typeof t=="boolean")}function cY(t){return Xw("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Td(e)}`)}function Xr(t){const e=Td(t),n=typeof t;return new mf({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Td(r)}`}})}function qVt(){return Xw("never",()=>!1)}function wt(t){return new mf({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function _e(){return Xw("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Td(t)}`)}function Rt(t){return new mf({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function O9e(t,e){return new mf({type:"record",schema:null,*entries(n){if(_C(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return vI(n)||`Expected an object, but received: ${Td(n)}`},coercer(n){return vI(n)?{...n}:n}})}function nt(){return Xw("string",t=>typeof t=="string"||`Expected a string, but received: ${Td(t)}`)}function uY(t){const e=qVt();return new mf({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Td(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Ke(t){const e=Object.keys(t);return new mf({type:"type",schema:t,*entries(n){if(_C(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return vI(n)||`Expected an object, but received: ${Td(n)}`},coercer(n){return vI(n)?{...n}:n}})}function ma(t){const e=t.map(n=>n.type).join(" | ");return new mf({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=lY(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Td(n)}`,...i]}})}function h5(){return Xw("unknown",()=>!0)}function TC(t,e,n){return new mf({...t,coercer:(r,i)=>j9e(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const M9e=y3(art),GVt=M9e.v4,KVt=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return GVt()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var YVt=KVt;const QVt=M9e.v4,ZVt=YVt,xI=function(t,e){if(!(this instanceof xI))return new xI(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return QVt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};xI.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=ZVt(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){i._parseResponse(c,u,r)}),s};xI.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var JVt={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(JVt);const XVt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),z0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),W0=new Uint32Array(64);class eqt extends Gke{constructor(){super(64,32,8,!1),this.A=z0[0]|0,this.B=z0[1]|0,this.C=z0[2]|0,this.D=z0[3]|0,this.E=z0[4]|0,this.F=z0[5]|0,this.G=z0[6]|0,this.H=z0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)W0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=W0[h-15],p=W0[h-2],m=Yd(f,7)^Yd(f,18)^f>>>3,g=Yd(p,17)^Yd(p,19)^p>>>10;W0[h]=g+W0[h-7]+m+W0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Yd(a,6)^Yd(a,11)^Yd(a,25),p=u+f+kWt(a,l,c)+XVt[h]+W0[h]|0,g=(Yd(r,2)^Yd(r,13)^Yd(r,22))+SWt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){W0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const tqt=Vke(()=>new eqt);class D9e extends Hke{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,vWt(e);const r=GK(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return pI(this),this.iHash.update(e),this}digestInto(e){pI(this),aP(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const B9e=(t,e,n)=>new D9e(t,e).update(n).digest();B9e.create=(t,e)=>new D9e(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yce(t){t.lowS!==void 0&&Np("lowS",t.lowS),t.prehash!==void 0&&Np("prehash",t.prehash)}function nqt(t){const e=QK(t);c5(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:rqt,hexToBytes:iqt}=aHt;class sqt extends Error{constructor(e=""){super(e)}}const Yf={Err:sqt,_tlv:{encode:(t,e)=>{const{Err:n}=Yf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Rv(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Rv(i.length/2|128):"";return Rv(t)+s+i+e},decode(t,e){const{Err:n}=Yf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Yf;if(t<dp)throw new e("integer: negative integers are not allowed");let n=Rv(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Yf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return rqt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Yf,i=typeof t=="string"?iqt(t):t;SC(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Yf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},dp=BigInt(0),gs=BigInt(1);BigInt(2);const wce=BigInt(3);BigInt(4);function oqt(t){const e=nqt(t),{Fp:n}=e,r=dP(e.n,e.nBitLength),i=e.toBytes||((g,y,w)=>{const v=y.toAffine();return bw(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=e.fromBytes||(g=>{const y=g.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),v=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:v}});function o(g){const{a:y,b:w}=e,v=n.sqr(g),b=n.mul(v,g);return n.add(n.add(b,n.mul(g,y)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return uP(g,gs,e.n)}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:v,n:b}=e;if(y&&typeof g!="bigint"){if(yw(g)&&(g=ww(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let A;try{A=typeof g=="bigint"?g:j1(zi("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return v&&(A=Vr(A,b)),Vc("private key",A,gs,b),A}function c(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}const u=j8((g,y)=>{const{px:w,py:v,pz:b}=g;if(n.eql(b,n.ONE))return{x:w,y:v};const A=g.is0();y==null&&(y=A?n.ONE:n.inv(b));const E=n.mul(w,y),$=n.mul(v,y),N=n.mul(b,y);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:E,y:$}}),h=j8(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=g.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const v=n.sqr(w),b=o(y);if(!n.eql(v,b))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(y,w,v){if(this.px=y,this.py=w,this.pz=v,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:w,y:v}=y||{};if(!y||!n.isValid(w)||!n.isValid(v))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const b=A=>n.eql(A,n.ZERO);return b(w)&&b(v)?f.ZERO:new f(w,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(s(zi("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(l(y))}static msm(y,w){return r9e(f,r,y,w)}_setWindowSize(y){m.setWindowSize(this,y)}assertValidity(){h(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:w,py:v,pz:b}=this,{px:A,py:E,pz:$}=y,N=n.eql(n.mul(w,$),n.mul(A,b)),R=n.eql(n.mul(v,$),n.mul(E,b));return N&&R}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,v=n.mul(w,wce),{px:b,py:A,pz:E}=this;let $=n.ZERO,N=n.ZERO,R=n.ZERO,M=n.mul(b,b),F=n.mul(A,A),W=n.mul(E,E),V=n.mul(b,A);return V=n.add(V,V),R=n.mul(b,E),R=n.add(R,R),$=n.mul(y,R),N=n.mul(v,W),N=n.add($,N),$=n.sub(F,N),N=n.add(F,N),N=n.mul($,N),$=n.mul(V,$),R=n.mul(v,R),W=n.mul(y,W),V=n.sub(M,W),V=n.mul(y,V),V=n.add(V,R),R=n.add(M,M),M=n.add(R,M),M=n.add(M,W),M=n.mul(M,V),N=n.add(N,M),W=n.mul(A,E),W=n.add(W,W),M=n.mul(W,V),$=n.sub($,M),R=n.mul(W,F),R=n.add(R,R),R=n.add(R,R),new f($,N,R)}add(y){c(y);const{px:w,py:v,pz:b}=this,{px:A,py:E,pz:$}=y;let N=n.ZERO,R=n.ZERO,M=n.ZERO;const F=e.a,W=n.mul(e.b,wce);let V=n.mul(w,A),B=n.mul(v,E),k=n.mul(b,$),C=n.add(w,v),S=n.add(A,E);C=n.mul(C,S),S=n.add(V,B),C=n.sub(C,S),S=n.add(w,b);let T=n.add(A,$);return S=n.mul(S,T),T=n.add(V,k),S=n.sub(S,T),T=n.add(v,b),N=n.add(E,$),T=n.mul(T,N),N=n.add(B,k),T=n.sub(T,N),M=n.mul(F,S),N=n.mul(W,k),M=n.add(N,M),N=n.sub(B,M),M=n.add(B,M),R=n.mul(N,M),B=n.add(V,V),B=n.add(B,V),k=n.mul(F,k),S=n.mul(W,S),B=n.add(B,k),k=n.sub(V,k),k=n.mul(F,k),S=n.add(S,k),V=n.mul(B,S),R=n.add(R,V),V=n.mul(T,S),N=n.mul(C,N),N=n.sub(N,V),V=n.mul(C,B),M=n.mul(T,M),M=n.add(M,V),new f(N,R,M)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,y,f.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:v}=e;Vc("scalar",y,dp,v);const b=f.ZERO;if(y===dp)return b;if(this.is0()||y===gs)return this;if(!w||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,y,f.normalizeZ);let{k1neg:A,k1:E,k2neg:$,k2:N}=w.splitScalar(y),R=b,M=b,F=this;for(;E>dp||N>dp;)E&gs&&(R=R.add(F)),N&gs&&(M=M.add(F)),F=F.double(),E>>=gs,N>>=gs;return A&&(R=R.negate()),$&&(M=M.negate()),M=new f(n.mul(M.px,w.beta),M.py,M.pz),R.add(M)}multiply(y){const{endo:w,n:v}=e;Vc("scalar",y,gs,v);let b,A;if(w){const{k1neg:E,k1:$,k2neg:N,k2:R}=w.splitScalar(y);let{p:M,f:F}=this.wNAF($),{p:W,f:V}=this.wNAF(R);M=m.constTimeNegate(E,M),W=m.constTimeNegate(N,W),W=new f(n.mul(W.px,w.beta),W.py,W.pz),b=M.add(W),A=F.add(V)}else{const{p:E,f:$}=this.wNAF(y);b=E,A=$}return f.normalizeZ([b,A])[0]}multiplyAndAddUnsafe(y,w,v){const b=f.BASE,A=($,N)=>N===dp||N===gs||!$.equals(b)?$.multiplyUnsafe(N):$.multiply(N),E=A(this,w).add(A(y,v));return E.is0()?void 0:E}toAffine(y){return u(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===gs)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===gs?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return Np("isCompressed",y),this.assertValidity(),i(f,this,y)}toHex(y=!0){return Np("isCompressed",y),ww(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,m=n9e(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function aqt(t){const e=QK(t);return c5(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function lqt(t){const e=aqt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(k){return Vr(k,r)}function a(k){return Lz(k,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=oqt({...e,toBytes(k,C,S){const T=C.toAffine(),_=n.toBytes(T.x),P=bw;return Np("isCompressed",S),S?P(Uint8Array.from([C.hasEvenY()?2:3]),_):P(Uint8Array.from([4]),_,n.toBytes(T.y))},fromBytes(k){const C=k.length,S=k[0],T=k.subarray(1);if(C===i&&(S===2||S===3)){const _=j1(T);if(!uP(_,gs,n.ORDER))throw new Error("Point is not on curve");const P=u(_);let D;try{D=n.sqrt(P)}catch(L){const J=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+J)}const j=(D&gs)===gs;return(S&1)===1!==j&&(D=n.neg(D)),{x:_,y:D}}else if(C===s&&S===4){const _=n.fromBytes(T.subarray(0,n.BYTES)),P=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:_,y:P}}else{const _=i,P=s;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+P+", got "+C)}}}),f=k=>ww(h3(k,e.nByteLength));function p(k){const C=r>>gs;return k>C}function m(k){return p(k)?o(-k):k}const g=(k,C,S)=>j1(k.slice(C,S));class y{constructor(C,S,T){this.r=C,this.s=S,this.recovery=T,this.assertValidity()}static fromCompact(C){const S=e.nByteLength;return C=zi("compactSignature",C,S*2),new y(g(C,0,S),g(C,S,2*S))}static fromDER(C){const{r:S,s:T}=Yf.toSig(zi("DER",C));return new y(S,T)}assertValidity(){Vc("r",this.r,gs,r),Vc("s",this.s,gs,r)}addRecoveryBit(C){return new y(this.r,this.s,C)}recoverPublicKey(C){const{r:S,s:T,recovery:_}=this,P=$(zi("msgHash",C));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const D=_===2||_===3?S+e.n:S;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=_&1?"03":"02",I=l.fromHex(j+f(D)),L=a(D),J=o(-P*L),O=o(T*L),G=l.BASE.multiplyAndAddUnsafe(I,J,O);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return d3(this.toDERHex())}toDERHex(){return Yf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return d3(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const w={isValidPrivateKey(k){try{return c(k),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const k=Xke(e.n);return yHt(e.randomBytes(k),e.n)},precompute(k=8,C=l.BASE){return C._setWindowSize(k),C.multiply(BigInt(3)),C}};function v(k,C=!0){return l.fromPrivateKey(k).toRawBytes(C)}function b(k){const C=yw(k),S=typeof k=="string",T=(C||S)&&k.length;return C?T===i||T===s:S?T===2*i||T===2*s:k instanceof l}function A(k,C,S=!0){if(b(k))throw new Error("first arg must be private key");if(!b(C))throw new Error("second arg must be public key");return l.fromHex(C).multiply(c(k)).toRawBytes(S)}const E=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const C=j1(k),S=k.length*8-e.nBitLength;return S>0?C>>BigInt(S):C},$=e.bits2int_modN||function(k){return o(E(k))},N=YK(e.nBitLength);function R(k){return Vc("num < 2^"+e.nBitLength,k,dp,N),h3(k,e.nByteLength)}function M(k,C,S=F){if(["recovered","canonical"].some(Q=>Q in S))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:_}=e;let{lowS:P,prehash:D,extraEntropy:j}=S;P==null&&(P=!0),k=zi("msgHash",k),yce(S),D&&(k=zi("prehashed msgHash",T(k)));const I=$(k),L=c(C),J=[R(L),R(I)];if(j!=null&&j!==!1){const Q=j===!0?_(n.BYTES):j;J.push(zi("extraEntropy",Q))}const O=bw(...J),G=I;function Z(Q){const ie=E(Q);if(!h(ie))return;const de=a(ie),oe=l.BASE.multiply(ie).toAffine(),he=o(oe.x);if(he===dp)return;const we=o(de*o(G+he*L));if(we===dp)return;let fe=(oe.x===he?0:2)|Number(oe.y&gs),ke=we;return P&&p(we)&&(ke=m(we),fe^=1),new y(he,ke,fe)}return{seed:O,k2sig:Z}}const F={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function V(k,C,S=F){const{seed:T,k2sig:_}=M(k,C,S),P=e;return Qke(P.hash.outputLen,P.nByteLength,P.hmac)(T,_)}l.BASE._setWindowSize(8);function B(k,C,S,T=W){var fe;const _=k;C=zi("msgHash",C),S=zi("publicKey",S);const{lowS:P,prehash:D,format:j}=T;if(yce(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&j!=="compact"&&j!=="der")throw new Error("format must be compact or der");const I=typeof _=="string"||yw(_),L=!I&&!j&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!I&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,O;try{if(L&&(J=new y(_.r,_.s)),I){try{j!=="compact"&&(J=y.fromDER(_))}catch(ke){if(!(ke instanceof Yf.Err))throw ke}!J&&j!=="der"&&(J=y.fromCompact(_))}O=l.fromHex(S)}catch{return!1}if(!J||P&&J.hasHighS())return!1;D&&(C=e.hash(C));const{r:G,s:Z}=J,Q=$(C),ie=a(Z),de=o(Q*ie),oe=o(G*ie),he=(fe=l.BASE.multiplyAndAddUnsafe(O,de,oe))==null?void 0:fe.toAffine();return he?o(he.x)===G:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:A,sign:V,verify:B,ProjectivePoint:l,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cqt(t){return{hash:t,hmac:(e,...n)=>B9e(t,e,AWt(...n)),randomBytes:qke}}function uqt(t,e){const n=r=>lqt({...t,...cqt(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L9e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bce=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dqt=BigInt(1),zz=BigInt(2),vce=(t,e)=>(t+e/zz)/e;function hqt(t){const e=L9e,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=li(u,n,e)*u%e,f=li(h,n,e)*u%e,p=li(f,zz,e)*c%e,m=li(p,i,e)*p%e,g=li(m,s,e)*m%e,y=li(g,a,e)*g%e,w=li(y,l,e)*y%e,v=li(w,a,e)*g%e,b=li(v,n,e)*u%e,A=li(b,o,e)*m%e,E=li(A,r,e)*c%e,$=li(E,zz,e);if(!Wz.eql(Wz.sqr($),t))throw new Error("Cannot find square root");return $}const Wz=dP(L9e,void 0,void 0,{sqrt:hqt}),fqt=uqt({a:BigInt(0),b:BigInt(7),Fp:Wz,n:bce,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=bce,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dqt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=vce(s*t,e),l=vce(-r*t,e);let c=Vr(t-a*n-l*i,e),u=Vr(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},tqt);BigInt(0);function xce(t){try{return JK.ExtendedPoint.fromHex(t),!0}catch{return!1}}const F9e=(t,e)=>JK.sign(t,e.slice(0,32)),pqt=JK.verify,dY=t=>yn.Buffer.isBuffer(t)?t:t instanceof Uint8Array?yn.Buffer.from(t.buffer,t.byteOffset,t.byteLength):yn.Buffer.from(t);class mqt{constructor(e){Object.assign(this,e)}encode(){return yn.Buffer.from(f9e(OS,this))}static decode(e){return p9e(OS,this,e)}static decodeUnchecked(e){return l9e(OS,this,e)}}const OS=new Map;var U9e;const gqt=32,ag=32;function yqt(t){return t._bn!==void 0}let Ece=1;class nn extends mqt{constructor(e){if(super({}),this._bn=void 0,yqt(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Zo.decode(e);if(n.length!=ag)throw new Error("Invalid public key input");this._bn=new zt(n)}else this._bn=new zt(e);if(this._bn.byteLength()>ag)throw new Error("Invalid public key input")}}static unique(){const e=new nn(Ece);return Ece+=1,new nn(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Zo.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(yn.Buffer);if(e.length===ag)return e;const n=yn.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=yn.Buffer.concat([e.toBuffer(),yn.Buffer.from(n),r.toBuffer()]),s=mce(i);return new nn(s)}static createProgramAddressSync(e,n){let r=yn.Buffer.alloc(0);e.forEach(function(s){if(s.length>gqt)throw new TypeError("Max seed length exceeded");r=yn.Buffer.concat([r,dY(s)])}),r=yn.Buffer.concat([r,n.toBuffer(),yn.Buffer.from("ProgramDerivedAddress")]);const i=mce(r);if(xce(i))throw new Error("Invalid seeds, address must fall off the curve");return new nn(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(yn.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new nn(e);return xce(n.toBytes())}}U9e=nn;nn.default=new U9e("11111111111111111111111111111111");OS.set(nn,{kind:"struct",fields:[["_bn","u256"]]});new nn("BPFLoader1111111111111111111111111111111111");const y2=1232,hY=127,EI=64;class AI{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Tn=(t="publicKey")=>Br(32,t),wqt=(t="signature")=>Br(64,t),jv=(t="string")=>{const e=It([Ot("length"),Ot("lengthPadding"),Br(O1(Ot(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:yn.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>Ot().span+Ot().span+yn.Buffer.from(s,"utf8").length,i},bqt=(t="authorized")=>It([Tn("staker"),Tn("withdrawer")],t),vqt=(t="lockup")=>It([Ol("unixTimestamp"),Ol("epoch"),Tn("custodian")],t),xqt=(t="voteInit")=>It([Tn("nodePubkey"),Tn("authorizedVoter"),Tn("authorizedWithdrawer"),Xn("commission")],t),Eqt=(t="voteAuthorizeWithSeedArgs")=>It([Ot("voteAuthorizationType"),Tn("currentAuthorityDerivedKeyOwnerPubkey"),jv("currentAuthorityDerivedKeySeed"),Tn("newAuthorized")],t);function Ml(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Dl(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function es(t,e){if(!t)throw new Error(e||"Assertion failed")}class mP{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new mP(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];es(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{es(n.length>0,"Expected at least one writable signer key");const[l]=n[0];es(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new nn(l)),...r.map(([l])=>new nn(l)),...i.map(([l])=>new nn(l)),...s.map(([l])=>new nn(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new nn(s),l=e.findIndex(c=>c.equals(a));l>=0&&(es(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const z9e="Reached end of buffer unexpectedly";function hp(t){if(t.length===0)throw new Error(z9e);return t.shift()}function Bl(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(z9e);return t.splice(...e)}class p3{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new nn(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Zo.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new AI(this.staticAccountKeys)}static compile(e){const n=mP.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new AI(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Zo.encode(a.data)}));return new p3({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Dl(n,e);const r=this.instructions.map(h=>{const{accounts:f,programIdIndex:p}=h,m=Array.from(Zo.decode(h.data));let g=[];Dl(g,f.length);let y=[];return Dl(y,m.length),{programIdIndex:p,keyIndicesCount:yn.Buffer.from(g),keyIndices:f,dataLength:yn.Buffer.from(y),data:m}});let i=[];Dl(i,r.length);let s=yn.Buffer.alloc(y2);yn.Buffer.from(i).copy(s);let o=i.length;r.forEach(h=>{const p=It([Xn("programIdIndex"),Br(h.keyIndicesCount.length,"keyIndicesCount"),la(Xn("keyIndex"),h.keyIndices.length,"keyIndices"),Br(h.dataLength.length,"dataLength"),la(Xn("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=p}),s=s.slice(0,o);const a=It([Br(1,"numRequiredSignatures"),Br(1,"numReadonlySignedAccounts"),Br(1,"numReadonlyUnsignedAccounts"),Br(n.length,"keyCount"),la(Tn("key"),e,"keys"),Tn("recentBlockhash")]),l={numRequiredSignatures:yn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yn.Buffer.from(n),keys:this.accountKeys.map(h=>dY(h.toBytes())),recentBlockhash:Zo.decode(this.recentBlockhash)};let c=yn.Buffer.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=hp(n);if(r!==(r&hY))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=hp(n),s=hp(n),o=Ml(n);let a=[];for(let f=0;f<o;f++){const p=Bl(n,0,ag);a.push(new nn(yn.Buffer.from(p)))}const l=Bl(n,0,ag),c=Ml(n);let u=[];for(let f=0;f<c;f++){const p=hp(n),m=Ml(n),g=Bl(n,0,m),y=Ml(n),w=Bl(n,0,y),v=Zo.encode(yn.Buffer.from(w));u.push({programIdIndex:p,accounts:g,data:v})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Zo.encode(yn.Buffer.from(l)),accountKeys:a,instructions:u};return new p3(h)}}class CI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new AI(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=mP.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const h=n.extractTableLookup(u);if(h!==void 0){const[f,{writable:p,readonly:m}]=h;r.push(f),i.writable.push(...p),i.readonly.push(...m)}}const[o,a]=n.getMessageComponents(),c=new AI(a,i).compileInstructions(e.instructions);return new CI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Dl(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Dl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Dl(s,this.addressTableLookups.length);const o=It([Xn("prefix"),It([Xn("numRequiredSignatures"),Xn("numReadonlySignedAccounts"),Xn("numReadonlyUnsignedAccounts")],"header"),Br(e.length,"staticAccountKeysLength"),la(Tn(),this.staticAccountKeys.length,"staticAccountKeys"),Tn("recentBlockhash"),Br(r.length,"instructionsLength"),Br(n.length,"serializedInstructions"),Br(s.length,"addressTableLookupsLength"),Br(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(y2),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Zo.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(y2);for(const r of this.compiledInstructions){const i=Array();Dl(i,r.accountKeyIndexes.length);const s=Array();Dl(s,r.data.length);const o=It([Xn("programIdIndex"),Br(i.length,"encodedAccountKeyIndexesLength"),la(Xn(),r.accountKeyIndexes.length,"accountKeyIndexes"),Br(s.length,"encodedDataLength"),Br(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(y2);for(const r of this.addressTableLookups){const i=Array();Dl(i,r.writableIndexes.length);const s=Array();Dl(s,r.readonlyIndexes.length);const o=It([Tn("accountKey"),Br(i.length,"encodedWritableIndexesLength"),la(Xn(),r.writableIndexes.length,"writableIndexes"),Br(s.length,"encodedReadonlyIndexesLength"),la(Xn(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=hp(n),i=r&hY;es(r!==i,"Expected versioned message but received legacy message");const s=i;es(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:hp(n),numReadonlySignedAccounts:hp(n),numReadonlyUnsignedAccounts:hp(n)},a=[],l=Ml(n);for(let m=0;m<l;m++)a.push(new nn(Bl(n,0,ag)));const c=Zo.encode(Bl(n,0,ag)),u=Ml(n),h=[];for(let m=0;m<u;m++){const g=hp(n),y=Ml(n),w=Bl(n,0,y),v=Ml(n),b=new Uint8Array(Bl(n,0,v));h.push({programIdIndex:g,accountKeyIndexes:w,data:b})}const f=Ml(n),p=[];for(let m=0;m<f;m++){const g=new nn(Bl(n,0,ag)),y=Ml(n),w=Bl(n,0,y),v=Ml(n),b=Bl(n,0,v);p.push({accountKey:g,writableIndexes:w,readonlyIndexes:b})}return new CI({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:p})}}const fY={deserializeMessageVersion(t){const e=t[0],n=e&hY;return n===e?"legacy":n},deserialize:t=>{const e=fY.deserializeMessageVersion(t);if(e==="legacy")return p3.from(t);if(e===0)return CI.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},Aqt=yn.Buffer.alloc(EI).fill(0);class Ace{constructor(e){this.keys=void 0,this.programId=void 0,this.data=yn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class kI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ace(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],s=[];n.forEach(g=>{g.keys.forEach(w=>{s.push({...w})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{s.push({pubkey:new nn(g),isSigner:!1,isWritable:!1})});const o=[];s.forEach(g=>{const y=g.pubkey.toString(),w=o.findIndex(v=>v.pubkey.toString()===y);w>-1?(o[w].isWritable=o[w].isWritable||g.isWritable,o[w].isSigner=o[w].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",w)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=o.findIndex(w=>w.pubkey.equals(g.publicKey));if(y>-1)o[y].isSigner||(o[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,u=0;const h=[],f=[];o.forEach(({pubkey:g,isSigner:y,isWritable:w})=>{y?(h.push(g.toString()),l+=1,w||(c+=1)):(f.push(g.toString()),w||(u+=1))});const p=h.concat(f),m=n.map(g=>{const{data:y,programId:w}=g;return{programIdIndex:p.indexOf(w.toString()),accounts:g.keys.map(v=>p.indexOf(v.pubkey.toString())),data:Zo.encode(y)}});return m.forEach(g=>{es(g.programIdIndex>=0),g.accounts.forEach(y=>es(y>=0))}),new p3({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:p,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=F9e(r,i.secretKey);this._addSignature(i.publicKey,dY(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){es(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=yn.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):pqt(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Dl(r,n.length);const i=r.length+n.length*64+e.length,s=yn.Buffer.alloc(i);return es(n.length<256),yn.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(es(o.length===64,"signature has invalid length"),yn.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),es(s.length<=y2,`Transaction too large: ${s.length} > ${y2}`),s}get keys(){return es(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return es(this.instructions.length===1),this.instructions[0].programId}get data(){return es(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Ml(n);let i=[];for(let s=0;s<r;s++){const o=Bl(n,0,EI);i.push(Zo.encode(yn.Buffer.from(o)))}return kI.populate(p3.from(n),i)}static populate(e,n=[]){const r=new kI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Zo.encode(Aqt)?null:Zo.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ace({keys:s,programId:e.accountKeys[i.programIdIndex],data:Zo.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class pY{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)es(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(EI));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Dl(n,this.signatures.length);const r=It([Br(n.length,"encodedSignaturesLength"),la(wqt(),this.signatures.length,"signatures"),Br(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Ml(n);for(let o=0;o<i;o++)r.push(new Uint8Array(Bl(n,0,EI)));const s=fY.deserialize(new Uint8Array(n));return new pY(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));es(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=F9e(n,i.secretKey)}}addSignature(e,n){es(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));es(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}new nn("SysvarC1ock11111111111111111111111111111111");new nn("SysvarEpochSchedu1e111111111111111111111111");new nn("Sysvar1nstructions1111111111111111111111111");new nn("SysvarRecentB1ockHashes11111111111111111111");new nn("SysvarRent111111111111111111111111111111111");new nn("SysvarRewards111111111111111111111111111111");new nn("SysvarS1otHashes111111111111111111111111111");new nn("SysvarS1otHistory11111111111111111111111111");new nn("SysvarStakeHistory1111111111111111111111111");const Cqt=Rs("lamportsPerSignature"),kqt=It([Ot("version"),Ot("state"),Tn("authorizedPubkey"),Tn("nonce"),It([Cqt],"feeCalculator")]);kqt.span;function m3(t){const e=Br(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=BVt();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:It([Ot("instruction"),Ol("lamports"),Ol("space"),Tn("programId")])},Assign:{index:1,layout:It([Ot("instruction"),Tn("programId")])},Transfer:{index:2,layout:It([Ot("instruction"),m3("lamports")])},CreateWithSeed:{index:3,layout:It([Ot("instruction"),Tn("base"),jv("seed"),Ol("lamports"),Ol("space"),Tn("programId")])},AdvanceNonceAccount:{index:4,layout:It([Ot("instruction")])},WithdrawNonceAccount:{index:5,layout:It([Ot("instruction"),Ol("lamports")])},InitializeNonceAccount:{index:6,layout:It([Ot("instruction"),Tn("authorized")])},AuthorizeNonceAccount:{index:7,layout:It([Ot("instruction"),Tn("authorized")])},Allocate:{index:8,layout:It([Ot("instruction"),Ol("space")])},AllocateWithSeed:{index:9,layout:It([Ot("instruction"),Tn("base"),jv("seed"),Ol("space"),Tn("programId")])},AssignWithSeed:{index:10,layout:It([Ot("instruction"),Tn("base"),jv("seed"),Tn("programId")])},TransferWithSeed:{index:11,layout:It([Ot("instruction"),m3("lamports"),jv("seed"),Tn("programId")])},UpgradeNonceAccount:{index:12,layout:It([Ot("instruction")])}});new nn("11111111111111111111111111111111");new nn("BPFLoader2111111111111111111111111111111111");It([Ot("typeIndex"),m3("deactivationSlot"),Rs("lastExtendedSlot"),Xn("lastExtendedStartIndex"),Xn(),la(Tn(),O1(Xn(),-1),"authority")]);const wi=TC(cY(nn),nt(),t=>new nn(t)),W9e=uY([nt(),Xr("base64")]),mY=TC(cY(yn.Buffer),W9e,t=>yn.Buffer.from(t[0],"base64"));function H9e(t){return ma([Ke({jsonrpc:Xr("2.0"),id:nt(),result:t}),Ke({jsonrpc:Xr("2.0"),id:nt(),error:Ke({code:h5(),message:nt(),data:Rt(VVt())})})])}const Sqt=H9e(h5());function Tr(t){return TC(H9e(t),Sqt,e=>"error"in e?e:{...e,result:O8(e.result,t)})}function Od(t){return Tr(Ke({context:Ke({slot:_e()}),value:t}))}function gP(t){return Ke({context:Ke({slot:_e()}),value:t})}const _qt=Ke({foundation:_e(),foundationTerm:_e(),initial:_e(),taper:_e(),terminal:_e()});Tr(yt(wt(Ke({epoch:_e(),effectiveSlot:_e(),amount:_e(),postBalance:_e(),commission:Rt(wt(_e()))}))));const Iqt=yt(Ke({slot:_e(),prioritizationFee:_e()})),Tqt=Ke({total:_e(),validator:_e(),foundation:_e(),epoch:_e()}),$qt=Ke({epoch:_e(),slotIndex:_e(),slotsInEpoch:_e(),absoluteSlot:_e(),blockHeight:Rt(_e()),transactionCount:Rt(_e())}),Nqt=Ke({slotsPerEpoch:_e(),leaderScheduleSlotOffset:_e(),warmup:sf(),firstNormalEpoch:_e(),firstNormalSlot:_e()}),Pqt=O9e(nt(),yt(_e())),eb=wt(ma([Ke({}),nt()])),Rqt=Ke({err:eb}),jqt=Xr("receivedSignature");Ke({"solana-core":nt(),"feature-set":Rt(_e())});const Oqt=Ke({program:nt(),programId:wi,parsed:h5()}),Mqt=Ke({programId:wi,accounts:yt(wi),data:nt()});Od(Ke({err:wt(ma([Ke({}),nt()])),logs:wt(yt(nt())),accounts:Rt(wt(yt(wt(Ke({executable:sf(),owner:nt(),lamports:_e(),data:yt(nt()),rentEpoch:Rt(_e())}))))),unitsConsumed:Rt(_e()),returnData:Rt(wt(Ke({programId:nt(),data:uY([nt(),Xr("base64")])}))),innerInstructions:Rt(wt(yt(Ke({index:_e(),instructions:yt(ma([Oqt,Mqt]))}))))}));Od(Ke({byIdentity:O9e(nt(),yt(_e())),range:Ke({firstSlot:_e(),lastSlot:_e()})}));Tr(_qt);Tr(Tqt);Tr(Iqt);Tr($qt);Tr(Nqt);Tr(Pqt);Tr(_e());Od(Ke({total:_e(),circulating:_e(),nonCirculating:_e(),nonCirculatingAccounts:yt(wi)}));const Dqt=Ke({amount:nt(),uiAmount:wt(_e()),decimals:_e(),uiAmountString:Rt(nt())});Od(yt(Ke({address:wi,amount:nt(),uiAmount:wt(_e()),decimals:_e(),uiAmountString:Rt(nt())})));Od(yt(Ke({pubkey:wi,account:Ke({executable:sf(),owner:wi,lamports:_e(),data:mY,rentEpoch:_e()})})));const Hz=Ke({program:nt(),parsed:h5(),space:_e()});Od(yt(Ke({pubkey:wi,account:Ke({executable:sf(),owner:wi,lamports:_e(),data:Hz,rentEpoch:_e()})})));Od(yt(Ke({lamports:_e(),address:wi})));const gY=Ke({executable:sf(),owner:wi,lamports:_e(),data:mY,rentEpoch:_e()});Ke({pubkey:wi,account:gY});const Bqt=TC(ma([cY(yn.Buffer),Hz]),ma([W9e,Hz]),t=>Array.isArray(t)?O8(t,mY):t),Lqt=Ke({executable:sf(),owner:wi,lamports:_e(),data:Bqt,rentEpoch:_e()});Ke({pubkey:wi,account:Lqt});Ke({state:ma([Xr("active"),Xr("inactive"),Xr("activating"),Xr("deactivating")]),active:_e(),inactive:_e()});Tr(yt(Ke({signature:nt(),slot:_e(),err:eb,memo:wt(nt()),blockTime:Rt(wt(_e()))})));Tr(yt(Ke({signature:nt(),slot:_e(),err:eb,memo:wt(nt()),blockTime:Rt(wt(_e()))})));Ke({subscription:_e(),result:gP(gY)});const Fqt=Ke({pubkey:wi,account:gY});Ke({subscription:_e(),result:gP(Fqt)});const Uqt=Ke({parent:_e(),slot:_e(),root:_e()});Ke({subscription:_e(),result:Uqt});const zqt=ma([Ke({type:ma([Xr("firstShredReceived"),Xr("completed"),Xr("optimisticConfirmation"),Xr("root")]),slot:_e(),timestamp:_e()}),Ke({type:Xr("createdBank"),parent:_e(),slot:_e(),timestamp:_e()}),Ke({type:Xr("frozen"),slot:_e(),timestamp:_e(),stats:Ke({numTransactionEntries:_e(),numSuccessfulTransactions:_e(),numFailedTransactions:_e(),maxTransactionsPerEntry:_e()})}),Ke({type:Xr("dead"),slot:_e(),timestamp:_e(),err:nt()})]);Ke({subscription:_e(),result:zqt});Ke({subscription:_e(),result:gP(ma([Rqt,jqt]))});Ke({subscription:_e(),result:_e()});Ke({pubkey:nt(),gossip:wt(nt()),tpu:wt(nt()),rpc:wt(nt()),version:wt(nt())});const Cce=Ke({votePubkey:nt(),nodePubkey:nt(),activatedStake:_e(),epochVoteAccount:sf(),epochCredits:yt(uY([_e(),_e(),_e()])),commission:_e(),lastVote:_e(),rootSlot:wt(_e())});Tr(Ke({current:yt(Cce),delinquent:yt(Cce)}));const Wqt=ma([Xr("processed"),Xr("confirmed"),Xr("finalized")]),Hqt=Ke({slot:_e(),confirmations:wt(_e()),err:eb,confirmationStatus:Rt(Wqt)});Od(yt(wt(Hqt)));Tr(_e());const V9e=Ke({accountKey:wi,writableIndexes:yt(_e()),readonlyIndexes:yt(_e())}),yY=Ke({signatures:yt(nt()),message:Ke({accountKeys:yt(nt()),header:Ke({numRequiredSignatures:_e(),numReadonlySignedAccounts:_e(),numReadonlyUnsignedAccounts:_e()}),instructions:yt(Ke({accounts:yt(_e()),data:nt(),programIdIndex:_e()})),recentBlockhash:nt(),addressTableLookups:Rt(yt(V9e))})}),q9e=Ke({pubkey:wi,signer:sf(),writable:sf(),source:Rt(ma([Xr("transaction"),Xr("lookupTable")]))}),G9e=Ke({accountKeys:yt(q9e),signatures:yt(nt())}),K9e=Ke({parsed:h5(),program:nt(),programId:wi}),Y9e=Ke({accounts:yt(wi),data:nt(),programId:wi}),Vqt=ma([Y9e,K9e]),qqt=ma([Ke({parsed:h5(),program:nt(),programId:nt()}),Ke({accounts:yt(nt()),data:nt(),programId:nt()})]),Q9e=TC(Vqt,qqt,t=>"accounts"in t?O8(t,Y9e):O8(t,K9e)),Z9e=Ke({signatures:yt(nt()),message:Ke({accountKeys:yt(q9e),instructions:yt(Q9e),recentBlockhash:nt(),addressTableLookups:Rt(wt(yt(V9e)))})}),SI=Ke({accountIndex:_e(),mint:nt(),owner:Rt(nt()),programId:Rt(nt()),uiTokenAmount:Dqt}),J9e=Ke({writable:yt(wi),readonly:yt(wi)}),yP=Ke({err:eb,fee:_e(),innerInstructions:Rt(wt(yt(Ke({index:_e(),instructions:yt(Ke({accounts:yt(_e()),data:nt(),programIdIndex:_e()}))})))),preBalances:yt(_e()),postBalances:yt(_e()),logMessages:Rt(wt(yt(nt()))),preTokenBalances:Rt(wt(yt(SI))),postTokenBalances:Rt(wt(yt(SI))),loadedAddresses:Rt(J9e),computeUnitsConsumed:Rt(_e()),costUnits:Rt(_e())}),wY=Ke({err:eb,fee:_e(),innerInstructions:Rt(wt(yt(Ke({index:_e(),instructions:yt(Q9e)})))),preBalances:yt(_e()),postBalances:yt(_e()),logMessages:Rt(wt(yt(nt()))),preTokenBalances:Rt(wt(yt(SI))),postTokenBalances:Rt(wt(yt(SI))),loadedAddresses:Rt(J9e),computeUnitsConsumed:Rt(_e()),costUnits:Rt(_e())}),f5=ma([Xr(0),Xr("legacy")]),tb=Ke({pubkey:nt(),lamports:_e(),postBalance:wt(_e()),rewardType:wt(nt()),commission:Rt(wt(_e()))});Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ke({transaction:yY,meta:wt(yP),version:Rt(f5)})),rewards:Rt(yt(tb)),blockTime:wt(_e()),blockHeight:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),rewards:Rt(yt(tb)),blockTime:wt(_e()),blockHeight:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ke({transaction:G9e,meta:wt(yP),version:Rt(f5)})),rewards:Rt(yt(tb)),blockTime:wt(_e()),blockHeight:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ke({transaction:Z9e,meta:wt(wY),version:Rt(f5)})),rewards:Rt(yt(tb)),blockTime:wt(_e()),blockHeight:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ke({transaction:G9e,meta:wt(wY),version:Rt(f5)})),rewards:Rt(yt(tb)),blockTime:wt(_e()),blockHeight:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),rewards:Rt(yt(tb)),blockTime:wt(_e()),blockHeight:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ke({transaction:yY,meta:wt(yP)})),rewards:Rt(yt(tb)),blockTime:wt(_e())})));Tr(wt(Ke({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),signatures:yt(nt()),blockTime:wt(_e())})));Tr(wt(Ke({slot:_e(),meta:wt(yP),blockTime:Rt(wt(_e())),transaction:yY,version:Rt(f5)})));Tr(wt(Ke({slot:_e(),transaction:Z9e,meta:wt(wY),blockTime:Rt(wt(_e())),version:Rt(f5)})));Od(Ke({blockhash:nt(),lastValidBlockHeight:_e()}));Od(sf());const Gqt=Ke({slot:_e(),numTransactions:_e(),numSlots:_e(),samplePeriodSecs:_e()});Tr(yt(Gqt));Od(wt(Ke({feeCalculator:Ke({lamportsPerSignature:_e()})})));Tr(nt());Tr(nt());const Kqt=Ke({err:eb,logs:yt(nt()),signature:nt()});Ke({result:gP(Kqt),subscription:_e()});Object.freeze({CreateLookupTable:{index:0,layout:It([Ot("instruction"),m3("recentSlot"),Xn("bumpSeed")])},FreezeLookupTable:{index:1,layout:It([Ot("instruction")])},ExtendLookupTable:{index:2,layout:It([Ot("instruction"),m3(),la(Tn(),O1(Ot(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:It([Ot("instruction")])},CloseLookupTable:{index:4,layout:It([Ot("instruction")])}});new nn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:It([Xn("instruction"),Ot("units"),Ot("additionalFee")])},RequestHeapFrame:{index:1,layout:It([Xn("instruction"),Ot("bytes")])},SetComputeUnitLimit:{index:2,layout:It([Xn("instruction"),Ot("units")])},SetComputeUnitPrice:{index:3,layout:It([Xn("instruction"),m3("microLamports")])}});new nn("ComputeBudget111111111111111111111111111111");It([Xn("numSignatures"),Xn("padding"),Lc("signatureOffset"),Lc("signatureInstructionIndex"),Lc("publicKeyOffset"),Lc("publicKeyInstructionIndex"),Lc("messageDataOffset"),Lc("messageDataSize"),Lc("messageInstructionIndex")]);new nn("Ed25519SigVerify111111111111111111111111111");fqt.utils.isValidPrivateKey;It([Xn("numSignatures"),Lc("signatureOffset"),Xn("signatureInstructionIndex"),Lc("ethAddressOffset"),Xn("ethAddressInstructionIndex"),Lc("messageDataOffset"),Lc("messageDataSize"),Xn("messageInstructionIndex"),Br(20,"ethAddress"),Br(64,"signature"),Xn("recoveryId")]);new nn("KeccakSecp256k11111111111111111111111111111");var X9e;new nn("StakeConfig11111111111111111111111111111111");class eSe{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}X9e=eSe;eSe.default=new X9e(0,0,nn.default);Object.freeze({Initialize:{index:0,layout:It([Ot("instruction"),bqt(),vqt()])},Authorize:{index:1,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("stakeAuthorizationType")])},Delegate:{index:2,layout:It([Ot("instruction")])},Split:{index:3,layout:It([Ot("instruction"),Ol("lamports")])},Withdraw:{index:4,layout:It([Ot("instruction"),Ol("lamports")])},Deactivate:{index:5,layout:It([Ot("instruction")])},Merge:{index:7,layout:It([Ot("instruction")])},AuthorizeWithSeed:{index:8,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("stakeAuthorizationType"),jv("authoritySeed"),Tn("authorityOwner")])}});new nn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:It([Ot("instruction"),xqt()])},Authorize:{index:1,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("voteAuthorizationType")])},Withdraw:{index:3,layout:It([Ot("instruction"),Ol("lamports")])},UpdateValidatorIdentity:{index:4,layout:It([Ot("instruction")])},AuthorizeWithSeed:{index:10,layout:It([Ot("instruction"),Eqt()])}});new nn("Vote111111111111111111111111111111111111111");new nn("Va1idator1nfo111111111111111111111111111111");Ke({name:nt(),website:Rt(nt()),details:Rt(nt()),iconUrl:Rt(nt()),keybaseUsername:Rt(nt())});new nn("Vote111111111111111111111111111111111111111");It([Tn("nodePubkey"),Tn("authorizedWithdrawer"),Xn("commission"),Rs(),la(It([Rs("slot"),Ot("confirmationCount")]),O1(Ot(),-8),"votes"),Xn("rootSlotValid"),Rs("rootSlot"),Rs(),la(It([Rs("epoch"),Tn("authorizedVoter")]),O1(Ot(),-8),"authorizedVoters"),It([la(It([Tn("authorizedPubkey"),Rs("epochOfLastAuthorizedSwitch"),Rs("targetEpoch")]),32,"buf"),Rs("idx"),Xn("isEmpty")],"priorVoters"),Rs(),la(It([Rs("epoch"),Rs("credits"),Rs("prevCredits")]),O1(Ot(),-8),"epochCredits"),It([Rs("slot"),Rs("timestamp")],"lastTimestamp")]);const Yqt=t=>({request:t,signMessage:e=>t({method:"signMessage",params:{message:e}}),signTransaction:e=>t({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>t({method:"signAndSendTransaction",params:e})});function kce(t){return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64")}function Qqt(t){const e=Buffer.from(t,"base64");return fY.deserializeMessageVersion(e)==="legacy"?pY.deserialize(e):kI.from(e)}function Zqt(t){return async n=>{if(n.method==="connect")return await t(n);if(n.method==="signMessage")return await t(n);if(n.method==="signAndSendTransaction"){const{transaction:r}=n.params,i={transaction:kce(r)};return await t({method:"signAndSendTransaction",params:i})}if(n.method==="signTransaction"){const{transaction:r}=n.params,i={transaction:kce(r)},{signedTransaction:s}=await t({method:"signTransaction",params:i});return{signedTransaction:Qqt(s)}}}}const Jqt=({miniAppHost:t,emitter:e})=>{let n,r=null;return{visible:!1,get onback(){return r},set onback(i){r&&e.removeListener("backNavigationTriggered",r),r=i,i&&e.addListener("backNavigationTriggered",i)},async show(){await t.updateBackState({visible:!0}),this.visible=!0},async hide(){await t.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){n=Xqt({back:this,emitter:e})},async disableWebNavigation(){n==null||n(),n=void 0}}};function Xqt({emitter:t,back:e}){const n=eGt();if(n)return tGt({emitter:t,back:e,navigation:n});if(typeof window<"u")return nGt({emitter:t,back:e,window})}function eGt(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function tGt({emitter:t,back:e,navigation:n}){function r(){n.canGoBack?e.show():e.hide()}function i(){e.visible&&n.canGoBack&&n.back()}return n.addEventListener("navigatesuccess",r),t.addListener("backNavigationTriggered",i),()=>{n.removeEventListener("navigatesuccess",r),t.removeListener("backNavigationTriggered",i)}}function nGt({emitter:t,back:e,window:n}){e.show();function r(){e.visible&&n.history.back()}return t.addListener("backNavigationTriggered",r),()=>{t.removeListener("backNavigationTriggered",r)}}var tSe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(tSe);var rGt=tSe.exports;const nSe=Ks(rGt),iGt="0.1.1";function sGt(){return iGt}let oGt=class Vz extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof Vz){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Vz&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${sGt()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return rSe(this,e)}};function rSe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?rSe(t.cause,e):e?null:t}function iSe(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error){const{code:i}=r.error,s=i===g3.code?g3:i===M8.code?M8:i===V8.code?V8:i===W8.code?W8:i===U8.code?U8:i===H8.code?H8:i===F8.code?F8:i===q8.code?q8:i===D8.code?D8:i===B8.code?B8:i===L8.code?L8:i===z8.code?z8:hl;throw new s(r.error)}return r.result}let hl=class extends Error{constructor(e){const{code:n,message:r,data:i}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.data=i}};class M8 extends hl{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:M8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(M8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class D8 extends hl{constructor(e={}){super({message:"Requested resource not found.",...e,code:D8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(D8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class B8 extends hl{constructor(e={}){super({message:"Requested resource not available.",...e,code:B8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(B8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class L8 extends hl{constructor(e={}){super({message:"Transaction creation failed.",...e,code:L8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(L8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class F8 extends hl{constructor(e={}){super({message:"Method is not implemented.",...e,code:F8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(F8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class U8 extends hl{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:U8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(U8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class z8 extends hl{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:z8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(z8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class W8 extends hl{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:W8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(W8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class H8 extends hl{constructor(e={}){super({message:"Method does not exist.",...e,code:H8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(H8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class V8 extends hl{constructor(e={}){super({message:"Invalid method parameters.",...e,code:V8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(V8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class g3 extends hl{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:g3.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(g3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class q8 extends hl{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:q8.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(q8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class nb extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class sSe extends nb{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(sSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class oSe extends nb{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(oSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class aSe extends nb{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(aSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class lSe extends nb{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(lSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class cSe extends nb{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(cSe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function aGt(){const t=new nSe;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function lGt(t,e={}){var r,i;const{includeEvents:n=!0}=e;if(!t)throw new cGt;return{...n?{on:(r=t.on)==null?void 0:r.bind(t),removeListener:(i=t.removeListener)==null?void 0:i.bind(t)}:{},async request(s){const o=await t.request(s);return o&&typeof o=="object"&&"jsonrpc"in o?iSe(o):o}}}class cGt extends oGt{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function uGt(t={}){let e=t.id??0;return{prepare(n){return dGt({id:e++,...n})},get id(){return e}}}function dGt(t){return{...t,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uSe=Symbol("Comlink.proxy"),hGt=Symbol("Comlink.endpoint"),fGt=Symbol("Comlink.releaseProxy"),WM=Symbol("Comlink.finalizer"),MS=Symbol("Comlink.thrown"),dSe=t=>typeof t=="object"&&t!==null||typeof t=="function",pGt={canHandle:t=>dSe(t)&&t[uSe],serialize(t){const{port1:e,port2:n}=new MessageChannel;return fSe(t,e),[n,[n]]},deserialize(t){return t.start(),mSe(t)}},mGt={canHandle:t=>dSe(t)&&MS in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},hSe=new Map([["proxy",pGt],["throw",mGt]]);function gGt(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function fSe(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!gGt(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:s,type:o,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Ey);let c;try{const u=a.slice(0,-1).reduce((f,p)=>f[p],t),h=a.reduce((f,p)=>f[p],t);switch(o){case"GET":c=h;break;case"SET":u[a.slice(-1)[0]]=Ey(i.data.value),c=!0;break;case"APPLY":c=h.apply(u,l);break;case"CONSTRUCT":{const f=new h(...l);c=EGt(f)}break;case"ENDPOINT":{const{port1:f,port2:p}=new MessageChannel;fSe(t,p),c=xGt(f,[f])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[MS]:0}}Promise.resolve(c).catch(u=>({value:u,[MS]:0})).then(u=>{const[h,f]=TI(u);e.postMessage(Object.assign(Object.assign({},h),{id:s}),f),o==="RELEASE"&&(e.removeEventListener("message",r),pSe(e),WM in t&&typeof t[WM]=="function"&&t[WM]())}).catch(u=>{const[h,f]=TI({value:new TypeError("Unserializable return value"),[MS]:0});e.postMessage(Object.assign(Object.assign({},h),{id:s}),f)})}),e.start&&e.start()}function yGt(t){return t.constructor.name==="MessagePort"}function pSe(t){yGt(t)&&t.close()}function mSe(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:s}=i;if(!s||!s.id)return;const o=n.get(s.id);if(o)try{o(s)}finally{n.delete(s.id)}}),qz(t,n,[],e)}function m9(t){if(t)throw new Error("Proxy has been released and is not useable")}function gSe(t){return Jb(t,new Map,{type:"RELEASE"}).then(()=>{pSe(t)})}const _I=new WeakMap,II="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(_I.get(t)||0)-1;_I.set(t,e),e===0&&gSe(t)});function wGt(t,e){const n=(_I.get(e)||0)+1;_I.set(e,n),II&&II.register(t,e,t)}function bGt(t){II&&II.unregister(t)}function qz(t,e,n=[],r=function(){}){let i=!1;const s=new Proxy(r,{get(o,a){if(m9(i),a===fGt)return()=>{bGt(s),gSe(t),e.clear(),i=!0};if(a==="then"){if(n.length===0)return{then:()=>s};const l=Jb(t,e,{type:"GET",path:n.map(c=>c.toString())}).then(Ey);return l.then.bind(l)}return qz(t,e,[...n,a])},set(o,a,l){m9(i);const[c,u]=TI(l);return Jb(t,e,{type:"SET",path:[...n,a].map(h=>h.toString()),value:c},u).then(Ey)},apply(o,a,l){m9(i);const c=n[n.length-1];if(c===hGt)return Jb(t,e,{type:"ENDPOINT"}).then(Ey);if(c==="bind")return qz(t,e,n.slice(0,-1));const[u,h]=Sce(l);return Jb(t,e,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:u},h).then(Ey)},construct(o,a){m9(i);const[l,c]=Sce(a);return Jb(t,e,{type:"CONSTRUCT",path:n.map(u=>u.toString()),argumentList:l},c).then(Ey)}});return wGt(s,t),s}function vGt(t){return Array.prototype.concat.apply([],t)}function Sce(t){const e=t.map(TI);return[e.map(n=>n[0]),vGt(e.map(n=>n[1]))]}const ySe=new WeakMap;function xGt(t,e){return ySe.set(t,e),t}function EGt(t){return Object.assign(t,{[uSe]:!0})}function AGt(t,e=globalThis,n="*"){return{postMessage:(r,i)=>t.postMessage(r,n,i),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function TI(t){for(const[e,n]of hSe)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},ySe.get(t)||[]]}function Ey(t){switch(t.type){case"HANDLER":return hSe.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Jb(t,e,n,r){return new Promise(i=>{const s=CGt();e.set(s,i),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}function CGt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const kGt={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},SGt={postMessage:t=>{window.ReactNativeWebView.postMessage(JSON.stringify(t))},addEventListener:(t,e,...n)=>{document.addEventListener("FarcasterFrameCallback",e,...n)},removeEventListener:(t,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},_Gt=typeof window>"u"?kGt:window!=null&&window.ReactNativeWebView?SGt:AGt((window==null?void 0:window.parent)??window),tn=mSe(_Gt),bY=aGt(),IGt=uGt();function TGt({code:t,details:e}){switch(t){case 4001:return new sSe;case 4100:return new oSe;case 4200:return new aSe;case 4900:return new lSe;case 4901:return new cSe;default:return new nb(t,e??"Unknown provider RPC error")}}const G8=lGt({...bY,async request(t){const e=IGt.prepare(t);try{const n=await tn.ethProviderRequestV2(e).then(r=>iSe(r,{request:e,raw:!0}));if(n.error)throw TGt(n.error);return n.result}catch(n){if(n instanceof Error&&n.message.match(/cannot read property 'apply'/i))return await tn.ethProviderRequest(e);throw n instanceof nb||n instanceof hl?n:new g3({message:n instanceof Error?n.message:void 0})}}});async function $Gt(){try{const t=await tn.getCapabilities();return!t.includes("wallet.getEthereumProvider")&&!t.includes("wallet.getEvmProvider")?void 0:G8}catch{return G8}}function wSe(t){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(t)});window.dispatchEvent(e);const n=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{tn.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",t=>{if(t instanceof MessageEvent){const e=t.data;bY.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="eip6963:announceProvider"&&wSe({info:e.info,provider:G8})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{tn.eip6963RequestProvider()}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEthProviderEvent"){const e=t.data;bY.emit(e.event,...e.params)}}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="eip6963:announceProvider"&&wSe({info:e.info,provider:G8})}}));new TextEncoder;const bSe=new TextDecoder,NGt=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},PGt=t=>{let e=t;e instanceof Uint8Array&&(e=bSe.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return NGt(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},RGt=PGt;function jGt(t){return typeof t=="object"&&t!==null}function OGt(t){if(!jGt(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}class xa extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}xa.code="ERR_JOSE_GENERIC";class MGt extends xa{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}MGt.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class DGt extends xa{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}DGt.code="ERR_JWT_EXPIRED";class BGt extends xa{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}BGt.code="ERR_JOSE_ALG_NOT_ALLOWED";class LGt extends xa{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}LGt.code="ERR_JOSE_NOT_SUPPORTED";class FGt extends xa{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}FGt.code="ERR_JWE_DECRYPTION_FAILED";class UGt extends xa{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}UGt.code="ERR_JWE_INVALID";class zGt extends xa{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}zGt.code="ERR_JWS_INVALID";class K0 extends xa{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}K0.code="ERR_JWT_INVALID";class WGt extends xa{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}WGt.code="ERR_JWK_INVALID";class HGt extends xa{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}HGt.code="ERR_JWKS_INVALID";class VGt extends xa{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}VGt.code="ERR_JWKS_NO_MATCHING_KEY";class qGt extends xa{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}qGt.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class GGt extends xa{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}GGt.code="ERR_JWKS_TIMEOUT";class KGt extends xa{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}KGt.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function YGt(t){if(typeof t!="string")throw new K0("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new K0("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new K0("Invalid JWT");if(!e)throw new K0("JWTs must contain a payload");let r;try{r=RGt(e)}catch{throw new K0("Failed to base64url decode the payload")}let i;try{i=JSON.parse(bSe.decode(r))}catch{throw new K0("Failed to parse the decoded payload as JSON")}if(!OGt(i))throw new K0("Invalid JWT Claims Set");return i}function QGt(t){return YGt(t)}class wP extends Error{constructor(e,n={}){const r=(()=>{var s;if(n.cause instanceof wP){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details})(),i=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(s=>typeof s=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.cause=n.cause,this.details=r,this.shortMessage=e}}class vSe extends wP{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class ZGt extends wP{constructor(e){super(e),this.name="InvalidToken"}}async function JGt({origin:t}){const e=await fetch(`${t}/nonce`,{method:"POST"});if(!e.ok)throw new vSe({status:e.status});return await e.json()}async function XGt({origin:t},e){const n=await fetch(`${t}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!n.ok)throw new vSe({status:n.status});const r=await n.json();if(r.valid===!1)throw new ZGt(r.message??"unknown");return{token:r.token}}function eKt(t={}){return{origin:t.origin??"https://auth.farcaster.xyz"}}function tKt(t={}){const e=eKt(t);return{generateNonce:()=>JGt(e),verifySiwf:n=>XGt(e,n)}}const nKt=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rKt=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function iKt(t){var h,f,p;const{scheme:e,statement:n,...r}=((h=t.match(nKt))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(rKt))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const _ce=(()=>{let t,e;async function n(r){const i=tKt({origin:r.quickAuthServerOrigin}),{nonce:s}=await i.generateNonce(),o=await tn.signIn({nonce:s,acceptAuthAddress:!0});if(o.result){const a=iKt(o.result.message);if(!a.domain)throw new Error("Missing domain on SIWE message");const l=await i.verifySiwf({domain:a.domain,message:o.result.message,signature:o.result.signature});return t={token:l.token,payload:QGt(l.token)},l}throw o.error.type==="rejected_by_user"?new Lke:new Error("Unreachable")}return{get token(){if(t&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3))return t.token},async getToken(r={}){const i=r.force??!1;return t&&!i&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:t.token}:(e||(e=n(r)),e.finally(()=>{e=void 0}),e)},async fetch(r,i){const{token:s}=await this.getToken(),o=new Headers(i==null?void 0:i.headers);return o.set("Authorization",`Bearer ${s}`),fetch(r,{...i,headers:o})}}})();function sKt(){const t=new nSe;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}const Co=sKt(),{solanaProviderRequest:Ice}=tn;let xSe;Ice&&(xSe=Yqt(Zqt(Ice)));async function Tce(){let t;try{t=await tn.getCapabilities()}catch{}if(t!=null&&t.includes("wallet.getSolanaProvider"))return xSe}let $ce=null;async function oKt(t=1e3){if($ce===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([tn.context.then(n=>!!n),new Promise(n=>{setTimeout(()=>n(!1),t)})]).catch(()=>!1);return e&&($ce=!0),e}const Nce=async()=>{const t=await tn.addFrame();if(t.result)return t.result;throw t.error.type==="invalid_domain_manifest"?new _zt:t.error.type==="rejected_by_user"?new Izt:new Error("Unreachable")},ESe={...Co,getCapabilities:tn.getCapabilities,getChains:tn.getChains,isInMiniApp:oKt,context:tn.context,back:Jqt({miniAppHost:tn,emitter:Co}),quickAuth:_ce,actions:{setPrimaryButton:tn.setPrimaryButton.bind(tn),ready:async(t={})=>await tn.ready(t),close:tn.close.bind(tn),viewCast:tn.viewCast.bind(tn),viewProfile:tn.viewProfile.bind(tn),openMiniApp:tn.openMiniApp.bind(tn),signIn:async t=>{const e=await tn.signIn({...t,acceptAuthAddress:t.acceptAuthAddress??!0});if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new Lke:new Error("Unreachable")},openUrl:t=>{const e=typeof t=="string"?t:t.url;return tn.openUrl(e.trim())},addFrame:Nce,addMiniApp:Nce,composeCast(t={}){return tn.composeCast(t)},viewToken:tn.viewToken.bind(tn),sendToken:tn.sendToken.bind(tn),swapToken:tn.swapToken.bind(tn),requestCameraAndMicrophoneAccess:tn.requestCameraAndMicrophoneAccess.bind(tn)},experimental:{getSolanaProvider:Tce,signManifest:async t=>{const e=await tn.signManifest(t);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new Tzt:e.error.type==="invalid_domain"?new $zt:e.error.type==="generic_error"?new Nzt(e.error.message):new Error("Unreachable")},quickAuth(t){return _ce.getToken(t)}},wallet:{ethProvider:G8,getEthereumProvider:$Gt,getSolanaProvider:Tce},haptics:{impactOccurred:tn.impactOccurred.bind(tn),notificationOccurred:tn.notificationOccurred.bind(tn),selectionChanged:tn.selectionChanged.bind(tn)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="primary_button_clicked"?Co.emit("primaryButtonClicked"):e.event==="miniapp_added"?Co.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Co.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Co.emit("miniAppRemoved"):e.event==="notifications_enabled"?Co.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Co.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Co.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="primary_button_clicked"?Co.emit("primaryButtonClicked"):e.event==="miniapp_added"?Co.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Co.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Co.emit("miniAppRemoved"):e.event==="notifications_enabled"?Co.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Co.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Co.emit("backNavigationTriggered")}});function aKt(){return x.useEffect(()=>{ESe.actions.ready()},[]),null}const lKt=()=>{const t=ur();wa();const[e,n]=x.useState(!1),[r,i]=x.useState(0);x.useEffect(()=>{const a=setTimeout(()=>{n(!0)},500),l=setInterval(()=>{i(c=>(c+1)%3)},2e3);return()=>{clearTimeout(a),clearInterval(l)}},[]);const s=x.useCallback(()=>{t("/deposit")},[t]),o=[{icon:zQ,text:"Welcome Bonus Ready"},{icon:UQ,text:"1 Lighter Point Waiting"},{icon:dTe,text:"Join Elite Farmers"}];return d.jsxs("div",{className:"min-h-screen bg-background overflow-hidden relative",children:[d.jsx(kw,{children:e&&d.jsx(d.Fragment,{children:[...Array(20)].map((a,l)=>d.jsx(ye.div,{className:"absolute w-2 h-2 bg-[#D4B679] rounded-full z-10",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},initial:{scale:0,rotate:0,opacity:0},animate:{scale:[0,1,0],rotate:[0,360,720],opacity:[0,1,0],y:[-50,50,-50],x:[-25,25,-25]},transition:{duration:3,repeat:1/0,delay:l*.1,ease:"easeInOut"}},l))})}),d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-6 relative z-20",children:[d.jsxs(ye.div,{initial:{opacity:0,y:-50,scale:.5},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-8",children:[d.jsx("div",{className:"relative mb-6",children:d.jsx("img",{src:si,alt:"LighterFarm",className:"w-auto h-20 mx-auto"})}),d.jsx(ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-[#D4B679] mb-2",children:"Congratulations!"}),d.jsx(ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-lg text-[#D4B679]/80",children:"Welcome to the LighterFarm Elite!"})]}),d.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7,duration:.8,ease:"easeOut"},className:"bg-gradient-to-br from-[#D4B679]/20 to-[#7D5A02]/10 border-2 border-[#D4B679]/30 rounded-3xl p-8 mb-8 max-w-sm w-full relative overflow-hidden",children:[d.jsx(ye.div,{animate:{opacity:[.3,.6,.3],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-br from-[#D4B679]/10 to-transparent rounded-3xl"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx(ye.div,{animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"w-20 h-20 bg-[#D4B679]/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(zQ,{className:"w-10 h-10 text-[#D4B679]"})}),d.jsx("h2",{className:"text-2xl font-bold text-[#D4B679] mb-2",children:"Welcome Bonus"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(ye.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:d.jsx(UQ,{className:"w-8 h-8 text-[#D4B679]"})}),d.jsx("span",{className:"text-3xl font-bold text-[#D4B679]",children:"1"}),d.jsx("span",{className:"text-xl text-[#D4B679]/80",children:"Lighter Point"})]}),d.jsx("p",{className:"text-sm text-[#D4B679]/70 leading-relaxed",children:"Your exclusive welcome bonus is ready to claim! Make your first deposit to unlock this reward."})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"flex items-center justify-center gap-4 mb-8 max-w-sm w-full",children:o.map((a,l)=>d.jsxs(ye.div,{className:`flex flex-col items-center gap-2 ${r===l?"opacity-100":"opacity-50"}`,animate:{scale:r===l?1.1:1,opacity:r===l?1:.5},transition:{duration:.3},children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r===l?"bg-[#D4B679]/30 border-2 border-[#D4B679]":"bg-[#D4B679]/10 border border-[#D4B679]/30"}`,children:d.jsx(a.icon,{className:"w-6 h-6 text-[#D4B679]"})}),d.jsx("span",{className:"text-xs text-[#D4B679]/70 text-center max-w-[80px]",children:a.text})]},l))}),d.jsx(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.6},className:"w-full max-w-sm space-y-3",children:d.jsxs(qt,{onClick:s,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl flex items-center justify-center gap-3 group relative overflow-hidden",children:[d.jsx(ye.div,{animate:{x:[-100,100]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),d.jsx("span",{className:"relative z-10",children:"Claim My Bonus Now!"}),d.jsx(ye.div,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:d.jsx(Rhe,{className:"w-5 h-5 relative z-10"})})]})}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2,duration:.6},className:"text-center mt-6 max-w-sm",children:d.jsxs("p",{className:"text-[#D4B679]/60 text-sm leading-relaxed",children:[" Limited time offer for new members only!",d.jsx("br",{}),d.jsx("span",{className:"text-[#D4B679] font-semibold",children:"Start farming now to maximize your rewards."})]})}),[...Array(8)].map((a,l)=>d.jsx(ye.div,{className:"absolute w-1 h-1 bg-[#D4B679]/40 rounded-full",style:{left:`${20+l*10}%`,top:`${30+l%3*20}%`},animate:{y:[-20,-40,-20],opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:3+l*.2,repeat:1/0,delay:l*.3,ease:"easeInOut"}},l))]})]})},cKt=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(!1),[i,s]=x.useState(!1),[o,a]=x.useState(null),{toast:l}=wa(),c=ur(),{user:u,authenticated:h,getAccessToken:f}=eo(),p=localStorage.getItem(u.id),m=JSON.parse(p),g=m.wallet_address;FAe();const[y,w]=x.useState(""),[v,b]=x.useState(0),[A,E]=x.useState(0);x.useEffect(()=>{(async()=>{if(p){const B=JSON.parse(p);B.referral_code,w(B.id)}b(m.usdl_balance||0),E(m.staked_amount||0)})()},[g,u==null?void 0:u.id]);const N=(()=>{const V=parseFloat(t)||0,B=V/100*7.9,k=414,C=V/28450*100;return{weeklyLoss:B.toFixed(1),apy:k,poolShareLoss:C.toFixed(1)}})(),R=V=>{const B=(A*V/100).toFixed(2);e(B)},M=async()=>{var V,B,k,C,S,T,_,P,D;if(!t||parseFloat(t)<=0){l({title:"Invalid Amount",description:"Please enter a valid unstake amount",variant:"destructive"});return}if(!h||!(u!=null&&u.id)){l({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!g){l({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!y){l({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}r(!0);try{const j={wallet_address:g,amount:t,force_unlock:"false"},I={"X-Privy-User-Id":y,"X-Wallet-Address":g,"Content-Type":"application/json",Accept:"application/json"},L=await Vt.post("/api/unstake",j,{headers:I});if(L.status===200&&((V=L.data)!=null&&V.success)){if(a(L.data.data),s(!0),e(""),window.Audio)try{const J=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");J.volume=.6,J.play().catch(()=>{})}catch{}}else l({title:"Unstake failed",description:((k=(B=L.data)==null?void 0:B.error)==null?void 0:k.message)||((C=L.data)==null?void 0:C.error)||"Unexpected response from server",variant:"destructive"})}catch(j){console.error(" Unstake error details:",{error:j,message:j.message,name:j.name,code:j.code,isAxiosError:Vt.isAxiosError(j)});let I="Network or server error",L="Unstake Error";if(Vt.isAxiosError(j))if(j.response){const J=j.response.status,O=j.response.data;J===400?(L="Invalid Request",(T=(S=O==null?void 0:O.detail)==null?void 0:S.error)!=null&&T.message?I=O.detail.error.message:(_=O==null?void 0:O.error)!=null&&_.message?I=O.error.message:O!=null&&O.error?I=O.error:O!=null&&O.message?I=O.message:I="Please check your input and try again"):J===401?(L="Authentication Failed",I=((P=O==null?void 0:O.error)==null?void 0:P.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):J===404?(L="API Endpoint Not Found",I="The API endpoint is not available. Please check if your server is running."):J>=500?(L="Server Error",I="Server is temporarily unavailable. Please try again later"):I=((D=O==null?void 0:O.error)==null?void 0:D.message)||(O==null?void 0:O.error)||(O==null?void 0:O.message)||`Server error (${J})`}else j.request?(L="Connection Error",I="Unable to connect to server. Please check your internet connection."):I=j.message||"Failed to make request";else j.message&&j.message.includes("access token")?(L="Authentication Error",I="Failed to authenticate. Please try logging out and back in."):j instanceof Error?I=j.message:typeof j=="string"&&(I=j);l({title:L,description:I,variant:"destructive"})}finally{r(!1)}},F=()=>{s(!1),a(null)},W=()=>{s(!1),a(null),setTimeout(()=>{const V=document.querySelector('input[type="number"]');V&&V.focus()},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>c("/farm"),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(of,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Unstake USDL"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"withdraw from farm"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Available to Unstake"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[A.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Current Balance"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[v.toFixed(2)," USDL"]})]})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:"Unstake Amount:"}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(bC,{type:"number",value:t,onChange:V=>e(V.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:"USDL"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(qt,{onClick:()=>R(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(qt,{onClick:()=>R(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(qt,{onClick:()=>R(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(qt,{onClick:()=>R(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]})]}),d.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6 relative z-10",children:d.jsx(qt,{onClick:M,disabled:!t||parseFloat(t)<=0||parseFloat(t)>A||n||!h||!g||!y,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2",children:n?d.jsxs(d.Fragment,{children:[d.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(GW,{className:"w-5 h-5"})}),"Unstaking..."]}):d.jsxs(d.Fragment,{children:[d.jsx(FD,{className:"w-5 h-5"}),"Unstake Now"]})})}),t&&parseFloat(t)>0&&d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Impact of Unstaking:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points Loss"}),d.jsxs("span",{className:"text-red-400 font-semibold",children:["-",N.weeklyLoss," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll Receive"}),d.jsxs("span",{className:"text-green-400 font-semibold",children:["$",t," USDC"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Remaining Staked"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",(A-parseFloat(t)).toFixed(2)," USDL"]})]})]})]}),d.jsxs(ye.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Pool Statistics:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Staked"}),d.jsx("span",{className:"text-foreground font-semibold",children:"$28,450"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Your Current Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[(A/28450*100).toFixed(2),"%"]})]})]})]}),d.jsx(Rd,{})]}),d.jsx(Bke,{isOpen:i,onClose:F,data:o,onUnstakeAgain:W})]})},uKt=()=>{const t=ur(),e=[{title:"Getting Started",description:"Learn the basics of LighterFarm",icon:d.jsx(ZIe,{className:"w-6 h-6"}),items:["How to create an account","Connecting your wallet","Making your first deposit","Understanding USDL tokens"]},{title:"Farming & Staking",description:"Maximize your rewards",icon:d.jsx(uTe,{className:"w-6 h-6"}),items:["How to stake USDL","Understanding APY rates","Unstaking process","Reward calculations"]},{title:"Trading Points",description:"Buy and sell Lighter Points",icon:d.jsx(nT,{className:"w-6 h-6"}),items:["How to buy points","Selling your points","Understanding price impact","Market analysis tools"]}],n=[{title:"Contact Support",description:"Get direct help from our team",icon:d.jsx(cTe,{className:"w-5 h-5"}),action:()=>window.open("mailto:bd@melloai.health","_blank")},{title:"Documentation",description:"Read detailed guides",icon:d.jsx(Mhe,{className:"w-5 h-5"}),action:()=>window.open("https://docs.lighterfarm.com","_blank")}];return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-[#D4B679] rounded-full hover:bg-[#A07715]",children:d.jsx(of,{className:"w-8 h-8 text-black"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-[#D4B679]",children:"Help and Support"}),d.jsx("p",{className:"text-sm text-[#D4B679]/80",children:"Get help and tutorials"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-[#2a2929] border border-[#a07715]/20 rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#a07715] rounded-full flex items-center justify-center",children:d.jsx(Ohe,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-[#a07715]",children:"Need Help?"}),d.jsx("p",{className:"text-sm text-gray-400",children:"We're here to help you succeed"})]})]}),d.jsx("p",{className:"text-[#a07715] text-sm",children:"Find answers to common questions, watch tutorials, or contact our support team directly."})]}),d.jsxs(ye.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Quick Actions"}),d.jsx("div",{className:"grid gap-3",children:n.map((r,i)=>d.jsxs(ye.button,{onClick:r.action,className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4 hover:bg-[#3a3939] transition-colors group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center group-hover:bg-[#D4B679]/30 transition-colors",children:r.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:r.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:r.description})]}),d.jsx("div",{className:"w-6 h-6 bg-[#D4B679] rounded-full flex items-center justify-center",children:d.jsx(x3,{className:"w-3 h-3 text-black"})})]},i))})]}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Help Topics"}),d.jsx("div",{className:"space-y-4",children:e.map((r,i)=>d.jsxs(ye.div,{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+i*.1},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:r.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:r.description})]})]}),d.jsx("div",{className:"space-y-2",children:r.items.map((s,o)=>d.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-[#3a3939] transition-colors cursor-pointer",children:[d.jsx("div",{className:"w-2 h-2 bg-[#D4B679] rounded-full"}),d.jsx("span",{className:"text-gray-300 text-sm",children:s})]},o))})]},i))})]}),d.jsxs(ye.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Frequently Asked Questions"}),d.jsx("div",{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"border-b border-[#D4B679]/10 pb-4",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"What is USDL?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"USDL is our platform token used for farming and earning rewards on LighterFarm."})]}),d.jsxs("div",{className:"border-b border-[#D4B679]/10 pb-4",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"How do I earn rewards?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"Stake your USDL tokens to earn points and participate in our farming ecosystem."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"Is my wallet secure?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"Yes, we use industry-standard security measures and your private keys remain in your control."})]})]})})]}),d.jsx(Rd,{})]})},dKt=()=>{const t=ur(),e=[{name:"Telegram",description:"Join our main community chat",icon:d.jsx("svg",{className:"w-8 h-8 ",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})}),members:"12.5K",url:"https://t.me/+sKmppf_5gNo5YzRl",color:"bg-blue-500"},{name:"Twitter (X)",description:"Follow us for latest updates",icon:d.jsx("svg",{className:"w-6 h-6 ",viewBox:"0 0 23 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),members:"8.2K",url:"https://x.com/LighterFarm",color:"bg-black"},{name:"Website",description:"Visit our official website",icon:d.jsx(rTe,{className:"w-6 h-6"}),members:"Official",url:"https://lighter.farm",color:"bg-[#D4B679]"}],n=[{title:"Community Rewards",description:"Earn points for active participation",icon:d.jsx(WQ,{className:"w-5 h-5"}),reward:"+50 points"},{title:"Daily Discussions",description:"Join daily market discussions",icon:d.jsx(nT,{className:"w-5 h-5"}),reward:"+10 points"},{title:"Event Notifications",description:"Get notified about special events",icon:d.jsx(QIe,{className:"w-5 h-5"}),reward:"Exclusive"}],r=[{type:"announcement",title:"New Staking Rewards Program",time:"2 hours ago",preview:"Introducing enhanced APY rates for long-term stakers..."},{type:"update",title:"Platform Maintenance Complete",time:"6 hours ago",preview:"All systems are now running smoothly after the scheduled update..."},{type:"event",title:"Community AMA Session",time:"1 day ago",preview:"Join us for a live Q&A session with the development team..."}],i=s=>{window.open(s,"_blank")};return d.jsxs(gu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(qt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-[#D4B679] rounded-full hover:bg-[#A07715]",children:d.jsx(of,{className:"w-8 h-8 text-black"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-[#D4B679]",children:"Community"}),d.jsx("p",{className:"text-sm text-[#D4B679]/80",children:"Join our telegram and X (formerly twitter)"})]}),d.jsx("img",{src:si,alt:"",className:"h-8 w-auto"})]}),d.jsxs(ye.div,{className:"bg-[#2a2929] border border-[#a07715]/20 rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#a07715] rounded-full flex items-center justify-center",children:d.jsx(WQ,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-[#a07715]",children:"Join Our Community"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Connect with fellow farmers"})]})]}),d.jsx("p",{className:"text-[#a07715] text-sm",children:"Be part of our growing community! Get the latest updates, participate in discussions, and earn rewards."})]}),d.jsxs(ye.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Connect With Us"}),d.jsx("div",{className:"grid gap-3",children:e.map((s,o)=>d.jsxs(ye.button,{onClick:()=>i(s.url),className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4 hover:bg-[#3a3939] transition-colors group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"w-12 h-12 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:s.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:s.name}),d.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),d.jsx("div",{className:"w-6 h-6 bg-[#D4B679] rounded-full flex items-center justify-center",children:d.jsx(x3,{className:"w-3 h-3 text-black"})})]},o))})]}),d.jsxs(ye.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Community Benefits"}),d.jsx("div",{className:"grid gap-3",children:n.map((s,o)=>d.jsxs(ye.div,{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+o*.1},children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:s.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:s.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),d.jsx("div",{className:"bg-[#D4B679]/10 text-gray-400 px-3 py-1 rounded-full text-xs font-extalight",children:s.reward})]},o))})]}),d.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Recent Updates"}),d.jsx("div",{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",children:d.jsx("div",{className:"space-y-4",children:r.map((s,o)=>d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-[#3a3939] transition-colors cursor-pointer",children:[d.jsx("div",{className:"w-8 h-8 bg-[#D4B679]/20 rounded-full flex items-center justify-center mt-1",children:d.jsx(yA,{className:"w-4 h-4 text-[#D4B679]"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold text-sm",children:s.title}),d.jsx("span",{className:"text-gray-500 text-xs",children:s.time})]}),d.jsx("p",{className:"text-gray-300 text-sm",children:s.preview})]})]},o))})})]}),d.jsx(Rd,{})]})},hKt=new NPe,Ec=({children:t})=>{const{authenticated:e,ready:n}=eo(),r=i0();return n?e?d.jsx(d.Fragment,{children:t}):d.jsx(XD,{to:"/",state:{from:r},replace:!0}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-golden-light mx-auto mb-4"}),d.jsx("p",{className:"text-golden-light font-extralight",children:"Loading..."})]})})},Xg=({children:t})=>{const{authenticated:e,ready:n}=eo(),r=i0();if(!n)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-golden-light mx-auto mb-4"}),d.jsx("p",{className:"text-golden-light font-extralight",children:"Loading..."})]})});if(e){const i=["/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"];if(r.pathname==="/")return d.jsx(XD,{to:"/dashboard",replace:!0});if(!i.includes(r.pathname))return d.jsx(XD,{to:"/dashboard",replace:!0})}return d.jsx(d.Fragment,{children:t})},fKt=({children:t})=>{const{authenticated:e,ready:n,user:r}=eo(),i=ur(),s=i0(),[o,a]=x.useState(!1),l=x.useRef(s.pathname),c=["/","/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"],u=["/welcome-congratulations","/dashboard","/deposit","/farm","unstake","/trade","/referrals","/profile","/help","/community","/history"],h=p=>c.includes(p),f=p=>u.some(m=>p.startsWith(m));return x.useEffect(()=>{var p,m;if(n&&!o){if(console.log("Auth state changed:",{authenticated:e,ready:n,user:!!r,currentPath:s.pathname,previousPath:l.current}),e&&r){const g=(m=(p=s.state)==null?void 0:p.from)==null?void 0:m.pathname;g&&f(g)?(console.log("Redirecting to intended protected destination:",g),i(g,{replace:!0})):s.pathname==="/"&&(console.log("Authenticated user on splash, redirecting to dashboard"),i("/dashboard",{replace:!0})),a(!0)}else if(!e&&n){const g=s.pathname,y=l.current;f(g)&&(console.log("Unauthenticated user accessing protected route:",g),h(y)?(console.log("Redirecting back to previous public page:",y),i(y,{replace:!0,state:{from:s}})):(console.log("Redirecting to splash page"),i("/",{replace:!0,state:{from:s}}))),a(!0)}}l.current=s.pathname},[e,n,r,i,s,o]),x.useEffect(()=>{const p=h(s.pathname),m=f(s.pathname),g=h(l.current),y=f(l.current);(p&&y||m&&g)&&a(!1)},[s.pathname]),d.jsx(d.Fragment,{children:t})},pKt=({children:t})=>{const{authenticated:e,ready:n}=eo(),r=i0(),i=ur(),[s,o]=x.useState("/"),a=["/","/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"],l=["/welcome-congratulations","/dashboard","/deposit","/farm","unstake","/trade","/referrals","/profile","/help","/community","/history"],c=h=>a.includes(h),u=h=>l.some(f=>h.startsWith(f));return x.useEffect(()=>{c(r.pathname)&&(o(r.pathname),console.log("Updated last public route:",r.pathname))},[r.pathname]),x.useEffect(()=>{n&&!e&&u(r.pathname)&&(console.log("Intercepting navigation to protected route:",r.pathname),console.log("Redirecting back to last public route:",s),i(s,{replace:!0,state:{from:r,message:"Please complete authentication to access this page"}}))},[n,e,r.pathname,s,i]),d.jsx(d.Fragment,{children:t})},mKt=()=>d.jsx(pKt,{children:d.jsx(fKt,{children:d.jsxs(xRe,{children:[d.jsx(xi,{path:"/",element:d.jsx(Xg,{children:d.jsx(QDe,{})})}),d.jsx(xi,{path:"/onboarding/1",element:d.jsx(Xg,{children:d.jsx(XDe,{})})}),d.jsx(xi,{path:"/onboarding/2",element:d.jsx(Xg,{children:d.jsx(eBe,{})})}),d.jsx(xi,{path:"/onboarding/3",element:d.jsx(Xg,{children:d.jsx(tBe,{})})}),d.jsx(xi,{path:"/wallet-connect",element:d.jsx(Xg,{children:d.jsx(DOt,{})})}),d.jsx(xi,{path:"/wallet-connect/success",element:d.jsx(Xg,{children:d.jsx(wDt,{})})}),d.jsx(xi,{path:"/invite-only",element:d.jsx(Xg,{children:d.jsx(bDt,{})})}),d.jsx(xi,{path:"/welcome-congratulations",element:d.jsx(Ec,{children:d.jsx(lKt,{})})}),d.jsx(xi,{path:"/dashboard",element:d.jsx(Ec,{children:d.jsx(IDt,{})})}),d.jsx(xi,{path:"/deposit",element:d.jsx(Ec,{children:d.jsx(fzt,{})})}),d.jsx(xi,{path:"/deposit/success",element:d.jsx(Ec,{children:d.jsx(pzt,{})})}),d.jsx(xi,{path:"/farm",element:d.jsx(Ec,{children:d.jsx(gzt,{})})}),d.jsx(xi,{path:"/unstake",element:d.jsx(Ec,{children:d.jsx(cKt,{})})}),d.jsx(xi,{path:"/trade",element:d.jsx(Ec,{children:d.jsx(bzt,{})})}),d.jsx(xi,{path:"/referrals",element:d.jsx(Ec,{children:d.jsx(Ezt,{})})}),d.jsx(xi,{path:"/history",element:d.jsx(Ec,{children:d.jsx(Czt,{})})}),d.jsx(xi,{path:"/profile",element:d.jsx(Ec,{children:d.jsx(Azt,{})})}),d.jsx(xi,{path:"/help",element:d.jsx(Ec,{children:d.jsx(uKt,{})})}),d.jsx(xi,{path:"/community",element:d.jsx(Ec,{children:d.jsx(dKt,{})})}),d.jsx(xi,{path:"*",element:d.jsx(kzt,{})})]})})}),gKt=()=>d.jsxs(d.Fragment,{children:[d.jsx(aKt,{}),d.jsx(OOt,{appId:Szt,config:{appearance:{theme:"dark",accentColor:"#D4B679",logo:si},loginMethods:["email","wallet"],embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"}}},children:d.jsx(RPe,{client:hKt,children:d.jsxs(iPe,{children:[d.jsx(KTe,{}),d.jsx(S$e,{}),d.jsx(CRe,{children:d.jsx(mKt,{})})]})})})]});ESe.actions.ready();the(document.getElementById("root")).render(d.jsx(gKt,{}));export{qp as $,nUe as A,aUe as B,Qa as C,LUe as D,dWe as E,HB as F,Wge as G,Zl as H,mg as I,Pw as J,ol as K,vT as L,lQe as M,x1e as N,Oi as O,M3 as P,uV as Q,Fp as R,SWe as S,WZt as T,MKt as U,ss as V,Hp as W,D3 as X,l1e as Y,Vp as Z,hr as _,nge as a,nh as a$,Ro as a0,A5e as a1,_ie as a2,H3t as a3,W3t as a4,Xge as a5,xQe as a6,Ix as a7,_i as a8,x1 as a9,sxe as aA,xF as aB,va as aC,ul as aD,lc as aE,eN as aF,P5t as aG,T3t as aH,i5t as aI,oC as aJ,pu as aK,F6t as aL,bG as aM,nN as aN,h8 as aO,Uw as aP,zq as aQ,vh as aR,kre as aS,o3e as aT,nwt as aU,Qp as aV,sw as aW,Wm as aX,tN as aY,rh as aZ,Mc as a_,Ep as aa,sge as ab,pi as ac,bFe as ad,R3 as ae,YKt as af,pd as ag,PA as ah,JH as ai,Wa as aj,sVe as ak,A1e as al,pE as am,D9 as an,gv as ao,FB as ap,Sre as aq,Fw as ar,Mh as as,oxe as at,tt as au,rw as av,Wq as aw,JA as ax,Xwt as ay,$pt as az,Bme as b,$d as b0,nV as b1,PT as b2,vWe as b3,NT as b4,n4 as b5,mxe as b6,aQt as b7,F$ as b8,i8 as b9,A7 as ba,iw as bb,E7 as bc,lQt as bd,uQt as be,Cmt as bf,QA as bg,P3 as c,yUe as d,FKt as e,_w as f,Sye as g,md as h,nl as i,FU as j,tae as k,Fr as l,Ks as m,$t as n,Xc as o,$3 as p,DWe as q,Ws as r,Cx as s,bd as t,Pme as u,Pt as v,hL as w,ze as x,bPt as y,RA as z};
