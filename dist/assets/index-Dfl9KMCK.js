var n_e=Object.defineProperty;var rY=t=>{throw TypeError(t)};var r_e=(t,e,n)=>e in t?n_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>r_e(t,typeof e!="symbol"?e+"":e,n),sP=(t,e,n)=>e.has(t)||rY("Cannot "+n);var V=(t,e,n)=>(sP(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?rY("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(sP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ze=(t,e,n)=>(sP(t,e,"access private method"),n);var n0=(t,e,n,r)=>({set _(i){te(t,e,i,n)},get _(){return V(t,e,r)}});function i_e(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Gs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ece={exports:{}},vI={},Ace={exports:{}},Sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE=Symbol.for("react.element"),s_e=Symbol.for("react.portal"),o_e=Symbol.for("react.fragment"),a_e=Symbol.for("react.strict_mode"),l_e=Symbol.for("react.profiler"),c_e=Symbol.for("react.provider"),u_e=Symbol.for("react.context"),d_e=Symbol.for("react.forward_ref"),h_e=Symbol.for("react.suspense"),f_e=Symbol.for("react.memo"),p_e=Symbol.for("react.lazy"),iY=Symbol.iterator;function m_e(t){return t===null||typeof t!="object"?null:(t=iY&&t[iY]||t["@@iterator"],typeof t=="function"?t:null)}var Cce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kce=Object.assign,_ce={};function o3(t,e,n){this.props=t,this.context=e,this.refs=_ce,this.updater=n||Cce}o3.prototype.isReactComponent={};o3.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};o3.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sce(){}Sce.prototype=o3.prototype;function Sz(t,e,n){this.props=t,this.context=e,this.refs=_ce,this.updater=n||Cce}var Iz=Sz.prototype=new Sce;Iz.constructor=Sz;kce(Iz,o3.prototype);Iz.isPureReactComponent=!0;var sY=Array.isArray,Ice=Object.prototype.hasOwnProperty,Tz={current:null},Tce={key:!0,ref:!0,__self:!0,__source:!0};function $ce(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ice.call(e,r)&&!Tce.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ZE,type:t,key:s,ref:o,props:i,_owner:Tz.current}}function g_e(t,e){return{$$typeof:ZE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $z(t){return typeof t=="object"&&t!==null&&t.$$typeof===ZE}function y_e(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oY=/\/+/g;function oP(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y_e(""+t.key):e.toString(36)}function n9(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ZE:case s_e:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+oP(o,0):r,sY(i)?(n="",t!=null&&(n=t.replace(oY,"$&/")+"/"),n9(i,e,n,"",function(c){return c})):i!=null&&($z(i)&&(i=g_e(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oY,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sY(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+oP(s,a);o+=n9(s,e,n,l,i)}else if(l=m_e(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+oP(s,a++),o+=n9(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yC(t,e,n){if(t==null)return t;var r=[],i=0;return n9(t,r,"","",function(s){return e.call(n,s,i++)}),r}function w_e(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fa={current:null},r9={transition:null},b_e={ReactCurrentDispatcher:fa,ReactCurrentBatchConfig:r9,ReactCurrentOwner:Tz};function Nce(){throw Error("act(...) is not supported in production builds of React.")}Sn.Children={map:yC,forEach:function(t,e,n){yC(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yC(t,function(){e++}),e},toArray:function(t){return yC(t,function(e){return e})||[]},only:function(t){if(!$z(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Sn.Component=o3;Sn.Fragment=o_e;Sn.Profiler=l_e;Sn.PureComponent=Sz;Sn.StrictMode=a_e;Sn.Suspense=h_e;Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_e;Sn.act=Nce;Sn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kce({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tz.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ice.call(e,l)&&!Tce.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ZE,type:t.type,key:i,ref:s,props:r,_owner:o}};Sn.createContext=function(t){return t={$$typeof:u_e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c_e,_context:t},t.Consumer=t};Sn.createElement=$ce;Sn.createFactory=function(t){var e=$ce.bind(null,t);return e.type=t,e};Sn.createRef=function(){return{current:null}};Sn.forwardRef=function(t){return{$$typeof:d_e,render:t}};Sn.isValidElement=$z;Sn.lazy=function(t){return{$$typeof:p_e,_payload:{_status:-1,_result:t},_init:w_e}};Sn.memo=function(t,e){return{$$typeof:f_e,type:t,compare:e===void 0?null:e}};Sn.startTransition=function(t){var e=r9.transition;r9.transition={};try{t()}finally{r9.transition=e}};Sn.unstable_act=Nce;Sn.useCallback=function(t,e){return fa.current.useCallback(t,e)};Sn.useContext=function(t){return fa.current.useContext(t)};Sn.useDebugValue=function(){};Sn.useDeferredValue=function(t){return fa.current.useDeferredValue(t)};Sn.useEffect=function(t,e){return fa.current.useEffect(t,e)};Sn.useId=function(){return fa.current.useId()};Sn.useImperativeHandle=function(t,e,n){return fa.current.useImperativeHandle(t,e,n)};Sn.useInsertionEffect=function(t,e){return fa.current.useInsertionEffect(t,e)};Sn.useLayoutEffect=function(t,e){return fa.current.useLayoutEffect(t,e)};Sn.useMemo=function(t,e){return fa.current.useMemo(t,e)};Sn.useReducer=function(t,e,n){return fa.current.useReducer(t,e,n)};Sn.useRef=function(t){return fa.current.useRef(t)};Sn.useState=function(t){return fa.current.useState(t)};Sn.useSyncExternalStore=function(t,e,n){return fa.current.useSyncExternalStore(t,e,n)};Sn.useTransition=function(){return fa.current.useTransition()};Sn.version="18.3.1";Ace.exports=Sn;var x=Ace.exports;const Ae=Gs(x),w4=i_e({__proto__:null,default:Ae},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_e=x,x_e=Symbol.for("react.element"),E_e=Symbol.for("react.fragment"),A_e=Object.prototype.hasOwnProperty,C_e=v_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k_e={key:!0,ref:!0,__self:!0,__source:!0};function Pce(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)A_e.call(e,r)&&!k_e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:x_e,type:t,key:s,ref:o,props:i,_owner:C_e.current}}vI.Fragment=E_e;vI.jsx=Pce;vI.jsxs=Pce;Ece.exports=vI;var d=Ece.exports,Rce={exports:{}},Xl={},jce={exports:{}},Oce={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,P){var D=S.length;S.push(P);e:for(;0<D;){var O=D-1>>>1,I=S[O];if(0<i(I,P))S[O]=P,S[D]=I,D=O;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var P=S[0],D=S.pop();if(D!==P){S[0]=D;e:for(var O=0,I=S.length,B=I>>>1;O<B;){var Q=2*(O+1)-1,j=S[Q],Y=Q+1,ee=S[Y];if(0>i(j,D))Y<I&&0>i(ee,j)?(S[O]=ee,S[Y]=D,O=Y):(S[O]=j,S[Q]=D,O=Q);else if(Y<I&&0>i(ee,D))S[O]=ee,S[Y]=D,O=Y;else break e}}return P}function i(S,P){var D=S.sortIndex-P.sortIndex;return D!==0?D:S.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=S)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function A(S){if(g=!1,b(S),!m)if(n(l)!==null)m=!0,_(E);else{var P=n(c);P!==null&&T(A,P.startTime-S)}}function E(S,P){m=!1,g&&(g=!1,w(R),R=-1),p=!0;var D=f;try{for(b(P),h=n(l);h!==null&&(!(h.expirationTime>P)||S&&!W());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var I=O(h.expirationTime<=P);P=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),b(P)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var Q=n(c);Q!==null&&T(A,Q.startTime-P),B=!1}return B}finally{h=null,f=D,p=!1}}var $=!1,N=null,R=-1,M=5,F=-1;function W(){return!(t.unstable_now()-F<M)}function H(){if(N!==null){var S=t.unstable_now();F=S;var P=!0;try{P=N(!0,S)}finally{P?L():($=!1,N=null)}}else $=!1}var L;if(typeof v=="function")L=function(){v(H)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,C=k.port2;k.port1.onmessage=H,L=function(){C.postMessage(null)}}else L=function(){y(H,0)};function _(S){N=S,$||($=!0,L())}function T(S,P){R=y(function(){S(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,_(E))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var D=f;f=P;try{return S()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,P){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var D=f;f=S;try{return P()}finally{f=D}},t.unstable_scheduleCallback=function(S,P,D){var O=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?O+D:O):D=O,S){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=D+I,S={id:u++,callback:P,priorityLevel:S,startTime:D,expirationTime:I,sortIndex:-1},D>O?(S.sortIndex=D,e(c,S),n(l)===null&&S===n(c)&&(g?(w(R),R=-1):g=!0,T(A,D-O))):(S.sortIndex=I,e(l,S),m||p||(m=!0,_(E))),S},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(S){var P=f;return function(){var D=f;f=P;try{return S.apply(this,arguments)}finally{f=D}}}})(Oce);jce.exports=Oce;var __e=jce.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_e=x,Hl=__e;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mce=new Set,b4={};function dw(t,e){X2(t,e),X2(t+"Capture",e)}function X2(t,e){for(b4[t]=e,t=0;t<e.length;t++)Mce.add(e[t])}var kp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_M=Object.prototype.hasOwnProperty,I_e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aY={},lY={};function T_e(t){return _M.call(lY,t)?!0:_M.call(aY,t)?!1:I_e.test(t)?lY[t]=!0:(aY[t]=!0,!1)}function $_e(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N_e(t,e,n,r){if(e===null||typeof e>"u"||$_e(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pa(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vs[t]=new pa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vs[e]=new pa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vs[t]=new pa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vs[t]=new pa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vs[t]=new pa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vs[t]=new pa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vs[t]=new pa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vs[t]=new pa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vs[t]=new pa(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nz=/[\-:]([a-z])/g;function Pz(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nz,Pz);Vs[e]=new pa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nz,Pz);Vs[e]=new pa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nz,Pz);Vs[e]=new pa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vs[t]=new pa(t,1,!1,t.toLowerCase(),null,!1,!1)});Vs.xlinkHref=new pa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vs[t]=new pa(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rz(t,e,n,r){var i=Vs.hasOwnProperty(e)?Vs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N_e(e,n,i,r)&&(n=null),r||i===null?T_e(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qp=S_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wC=Symbol.for("react.element"),zb=Symbol.for("react.portal"),Wb=Symbol.for("react.fragment"),jz=Symbol.for("react.strict_mode"),SM=Symbol.for("react.profiler"),Dce=Symbol.for("react.provider"),Bce=Symbol.for("react.context"),Oz=Symbol.for("react.forward_ref"),IM=Symbol.for("react.suspense"),TM=Symbol.for("react.suspense_list"),Mz=Symbol.for("react.memo"),z0=Symbol.for("react.lazy"),Lce=Symbol.for("react.offscreen"),cY=Symbol.iterator;function i5(t){return t===null||typeof t!="object"?null:(t=cY&&t[cY]||t["@@iterator"],typeof t=="function"?t:null)}var ri=Object.assign,aP;function X5(t){if(aP===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);aP=e&&e[1]||""}return`
`+aP+t}var lP=!1;function cP(t,e){if(!t||lP)return"";lP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lP=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?X5(t):""}function P_e(t){switch(t.tag){case 5:return X5(t.type);case 16:return X5("Lazy");case 13:return X5("Suspense");case 19:return X5("SuspenseList");case 0:case 2:case 15:return t=cP(t.type,!1),t;case 11:return t=cP(t.type.render,!1),t;case 1:return t=cP(t.type,!0),t;default:return""}}function $M(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wb:return"Fragment";case zb:return"Portal";case SM:return"Profiler";case jz:return"StrictMode";case IM:return"Suspense";case TM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bce:return(t.displayName||"Context")+".Consumer";case Dce:return(t._context.displayName||"Context")+".Provider";case Oz:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mz:return e=t.displayName||null,e!==null?e:$M(t.type)||"Memo";case z0:e=t._payload,t=t._init;try{return $M(t(e))}catch{}}return null}function R_e(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $M(e);case 8:return e===jz?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tg(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fce(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j_e(t){var e=Fce(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bC(t){t._valueTracker||(t._valueTracker=j_e(t))}function Uce(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fce(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function x_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function NM(t,e){var n=e.checked;return ri({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uY(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tg(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zce(t,e){e=e.checked,e!=null&&Rz(t,"checked",e,!1)}function PM(t,e){zce(t,e);var n=tg(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RM(t,e.type,n):e.hasOwnProperty("defaultValue")&&RM(t,e.type,tg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dY(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function RM(t,e,n){(e!=="number"||x_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var e6=Array.isArray;function Sv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tg(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return ri({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hY(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Qe(92));if(e6(n)){if(1<n.length)throw Error(Qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tg(n)}}function Wce(t,e){var n=tg(e.value),r=tg(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fY(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hce(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hce(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vC,Vce=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vC=vC||document.createElement("div"),vC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vC.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function v4(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var T6={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O_e=["Webkit","ms","Moz","O"];Object.keys(T6).forEach(function(t){O_e.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),T6[e]=T6[t]})});function qce(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||T6.hasOwnProperty(t)&&T6[t]?(""+e).trim():e+"px"}function Gce(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qce(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var M_e=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MM(t,e){if(e){if(M_e[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function DM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BM=null;function Dz(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var LM=null,Iv=null,Tv=null;function pY(t){if(t=eA(t)){if(typeof LM!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=kI(e),LM(t.stateNode,t.type,e))}}function Kce(t){Iv?Tv?Tv.push(t):Tv=[t]:Iv=t}function Yce(){if(Iv){var t=Iv,e=Tv;if(Tv=Iv=null,pY(t),e)for(t=0;t<e.length;t++)pY(e[t])}}function Qce(t,e){return t(e)}function Zce(){}var uP=!1;function Jce(t,e,n){if(uP)return t(e,n);uP=!0;try{return Qce(t,e,n)}finally{uP=!1,(Iv!==null||Tv!==null)&&(Zce(),Yce())}}function x4(t,e){var n=t.stateNode;if(n===null)return null;var r=kI(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Qe(231,e,typeof n));return n}var FM=!1;if(kp)try{var s5={};Object.defineProperty(s5,"passive",{get:function(){FM=!0}}),window.addEventListener("test",s5,s5),window.removeEventListener("test",s5,s5)}catch{FM=!1}function D_e(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var $6=!1,E_=null,A_=!1,UM=null,B_e={onError:function(t){$6=!0,E_=t}};function L_e(t,e,n,r,i,s,o,a,l){$6=!1,E_=null,D_e.apply(B_e,arguments)}function F_e(t,e,n,r,i,s,o,a,l){if(L_e.apply(this,arguments),$6){if($6){var c=E_;$6=!1,E_=null}else throw Error(Qe(198));A_||(A_=!0,UM=c)}}function hw(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xce(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mY(t){if(hw(t)!==t)throw Error(Qe(188))}function U_e(t){var e=t.alternate;if(!e){if(e=hw(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mY(i),t;if(s===r)return mY(i),e;s=s.sibling}throw Error(Qe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Qe(189))}}if(n.alternate!==r)throw Error(Qe(190))}if(n.tag!==3)throw Error(Qe(188));return n.stateNode.current===n?t:e}function eue(t){return t=U_e(t),t!==null?tue(t):null}function tue(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tue(t);if(e!==null)return e;t=t.sibling}return null}var nue=Hl.unstable_scheduleCallback,gY=Hl.unstable_cancelCallback,z_e=Hl.unstable_shouldYield,W_e=Hl.unstable_requestPaint,Ii=Hl.unstable_now,H_e=Hl.unstable_getCurrentPriorityLevel,Bz=Hl.unstable_ImmediatePriority,rue=Hl.unstable_UserBlockingPriority,C_=Hl.unstable_NormalPriority,V_e=Hl.unstable_LowPriority,iue=Hl.unstable_IdlePriority,xI=null,_h=null;function q_e(t){if(_h&&typeof _h.onCommitFiberRoot=="function")try{_h.onCommitFiberRoot(xI,t,void 0,(t.current.flags&128)===128)}catch{}}var Xu=Math.clz32?Math.clz32:Y_e,G_e=Math.log,K_e=Math.LN2;function Y_e(t){return t>>>=0,t===0?32:31-(G_e(t)/K_e|0)|0}var xC=64,EC=4194304;function t6(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function k_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=t6(a):(s&=o,s!==0&&(r=t6(s)))}else o=n&~i,o!==0?r=t6(o):s!==0&&(r=t6(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xu(e),i=1<<n,r|=t[n],e&=~i;return r}function Q_e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_e(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xu(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Q_e(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function zM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sue(){var t=xC;return xC<<=1,!(xC&4194240)&&(xC=64),t}function dP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function JE(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xu(e),t[e]=n}function J_e(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xu(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lz(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ar=0;function oue(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aue,Fz,lue,cue,uue,WM=!1,AC=[],Lm=null,Fm=null,Um=null,E4=new Map,A4=new Map,Z0=[],X_e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yY(t,e){switch(t){case"focusin":case"focusout":Lm=null;break;case"dragenter":case"dragleave":Fm=null;break;case"mouseover":case"mouseout":Um=null;break;case"pointerover":case"pointerout":E4.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":A4.delete(e.pointerId)}}function o5(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eA(e),e!==null&&Fz(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eSe(t,e,n,r,i){switch(e){case"focusin":return Lm=o5(Lm,t,e,n,r,i),!0;case"dragenter":return Fm=o5(Fm,t,e,n,r,i),!0;case"mouseover":return Um=o5(Um,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return E4.set(s,o5(E4.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,A4.set(s,o5(A4.get(s)||null,t,e,n,r,i)),!0}return!1}function due(t){var e=gy(t.target);if(e!==null){var n=hw(e);if(n!==null){if(e=n.tag,e===13){if(e=Xce(n),e!==null){t.blockedOn=e,uue(t.priority,function(){lue(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function i9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=HM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);BM=r,n.target.dispatchEvent(r),BM=null}else return e=eA(n),e!==null&&Fz(e),t.blockedOn=n,!1;e.shift()}return!0}function wY(t,e,n){i9(t)&&n.delete(e)}function tSe(){WM=!1,Lm!==null&&i9(Lm)&&(Lm=null),Fm!==null&&i9(Fm)&&(Fm=null),Um!==null&&i9(Um)&&(Um=null),E4.forEach(wY),A4.forEach(wY)}function a5(t,e){t.blockedOn===e&&(t.blockedOn=null,WM||(WM=!0,Hl.unstable_scheduleCallback(Hl.unstable_NormalPriority,tSe)))}function C4(t){function e(i){return a5(i,t)}if(0<AC.length){a5(AC[0],t);for(var n=1;n<AC.length;n++){var r=AC[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lm!==null&&a5(Lm,t),Fm!==null&&a5(Fm,t),Um!==null&&a5(Um,t),E4.forEach(e),A4.forEach(e),n=0;n<Z0.length;n++)r=Z0[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Z0.length&&(n=Z0[0],n.blockedOn===null);)due(n),n.blockedOn===null&&Z0.shift()}var $v=Qp.ReactCurrentBatchConfig,__=!0;function nSe(t,e,n,r){var i=ar,s=$v.transition;$v.transition=null;try{ar=1,Uz(t,e,n,r)}finally{ar=i,$v.transition=s}}function rSe(t,e,n,r){var i=ar,s=$v.transition;$v.transition=null;try{ar=4,Uz(t,e,n,r)}finally{ar=i,$v.transition=s}}function Uz(t,e,n,r){if(__){var i=HM(t,e,n,r);if(i===null)xP(t,e,r,S_,n),yY(t,r);else if(eSe(i,t,e,n,r))r.stopPropagation();else if(yY(t,r),e&4&&-1<X_e.indexOf(t)){for(;i!==null;){var s=eA(i);if(s!==null&&aue(s),s=HM(t,e,n,r),s===null&&xP(t,e,r,S_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xP(t,e,r,null,n)}}var S_=null;function HM(t,e,n,r){if(S_=null,t=Dz(r),t=gy(t),t!==null)if(e=hw(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xce(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return S_=t,null}function hue(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H_e()){case Bz:return 1;case rue:return 4;case C_:case V_e:return 16;case iue:return 536870912;default:return 16}default:return 16}}var Im=null,zz=null,s9=null;function fue(){if(s9)return s9;var t,e=zz,n=e.length,r,i="value"in Im?Im.value:Im.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return s9=i.slice(t,1<r?1-r:void 0)}function o9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function CC(){return!0}function bY(){return!1}function ec(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?CC:bY,this.isPropagationStopped=bY,this}return ri(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=CC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=CC)},persist:function(){},isPersistent:CC}),e}var a3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wz=ec(a3),XE=ri({},a3,{view:0,detail:0}),iSe=ec(XE),hP,fP,l5,EI=ri({},XE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hz,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==l5&&(l5&&t.type==="mousemove"?(hP=t.screenX-l5.screenX,fP=t.screenY-l5.screenY):fP=hP=0,l5=t),hP)},movementY:function(t){return"movementY"in t?t.movementY:fP}}),vY=ec(EI),sSe=ri({},EI,{dataTransfer:0}),oSe=ec(sSe),aSe=ri({},XE,{relatedTarget:0}),pP=ec(aSe),lSe=ri({},a3,{animationName:0,elapsedTime:0,pseudoElement:0}),cSe=ec(lSe),uSe=ri({},a3,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dSe=ec(uSe),hSe=ri({},a3,{data:0}),xY=ec(hSe),fSe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pSe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mSe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gSe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mSe[t])?!!e[t]:!1}function Hz(){return gSe}var ySe=ri({},XE,{key:function(t){if(t.key){var e=fSe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=o9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pSe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hz,charCode:function(t){return t.type==="keypress"?o9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?o9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wSe=ec(ySe),bSe=ri({},EI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EY=ec(bSe),vSe=ri({},XE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hz}),xSe=ec(vSe),ESe=ri({},a3,{propertyName:0,elapsedTime:0,pseudoElement:0}),ASe=ec(ESe),CSe=ri({},EI,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kSe=ec(CSe),_Se=[9,13,27,32],Vz=kp&&"CompositionEvent"in window,N6=null;kp&&"documentMode"in document&&(N6=document.documentMode);var SSe=kp&&"TextEvent"in window&&!N6,pue=kp&&(!Vz||N6&&8<N6&&11>=N6),AY=" ",CY=!1;function mue(t,e){switch(t){case"keyup":return _Se.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hb=!1;function ISe(t,e){switch(t){case"compositionend":return gue(e);case"keypress":return e.which!==32?null:(CY=!0,AY);case"textInput":return t=e.data,t===AY&&CY?null:t;default:return null}}function TSe(t,e){if(Hb)return t==="compositionend"||!Vz&&mue(t,e)?(t=fue(),s9=zz=Im=null,Hb=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pue&&e.locale!=="ko"?null:e.data;default:return null}}var $Se={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kY(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$Se[t.type]:e==="textarea"}function yue(t,e,n,r){Kce(r),e=I_(e,"onChange"),0<e.length&&(n=new Wz("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var P6=null,k4=null;function NSe(t){Iue(t,0)}function AI(t){var e=Gb(t);if(Uce(e))return t}function PSe(t,e){if(t==="change")return e}var wue=!1;if(kp){var mP;if(kp){var gP="oninput"in document;if(!gP){var _Y=document.createElement("div");_Y.setAttribute("oninput","return;"),gP=typeof _Y.oninput=="function"}mP=gP}else mP=!1;wue=mP&&(!document.documentMode||9<document.documentMode)}function SY(){P6&&(P6.detachEvent("onpropertychange",bue),k4=P6=null)}function bue(t){if(t.propertyName==="value"&&AI(k4)){var e=[];yue(e,k4,t,Dz(t)),Jce(NSe,e)}}function RSe(t,e,n){t==="focusin"?(SY(),P6=e,k4=n,P6.attachEvent("onpropertychange",bue)):t==="focusout"&&SY()}function jSe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return AI(k4)}function OSe(t,e){if(t==="click")return AI(e)}function MSe(t,e){if(t==="input"||t==="change")return AI(e)}function DSe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ad=typeof Object.is=="function"?Object.is:DSe;function _4(t,e){if(ad(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_M.call(e,i)||!ad(t[i],e[i]))return!1}return!0}function IY(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TY(t,e){var n=IY(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IY(n)}}function vue(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vue(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xue(){for(var t=window,e=x_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=x_(t.document)}return e}function qz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BSe(t){var e=xue(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vue(n.ownerDocument.documentElement,n)){if(r!==null&&qz(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TY(n,s);var o=TY(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LSe=kp&&"documentMode"in document&&11>=document.documentMode,Vb=null,VM=null,R6=null,qM=!1;function $Y(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qM||Vb==null||Vb!==x_(r)||(r=Vb,"selectionStart"in r&&qz(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),R6&&_4(R6,r)||(R6=r,r=I_(VM,"onSelect"),0<r.length&&(e=new Wz("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vb)))}function kC(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qb={animationend:kC("Animation","AnimationEnd"),animationiteration:kC("Animation","AnimationIteration"),animationstart:kC("Animation","AnimationStart"),transitionend:kC("Transition","TransitionEnd")},yP={},Eue={};kp&&(Eue=document.createElement("div").style,"AnimationEvent"in window||(delete qb.animationend.animation,delete qb.animationiteration.animation,delete qb.animationstart.animation),"TransitionEvent"in window||delete qb.transitionend.transition);function CI(t){if(yP[t])return yP[t];if(!qb[t])return t;var e=qb[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Eue)return yP[t]=e[n];return t}var Aue=CI("animationend"),Cue=CI("animationiteration"),kue=CI("animationstart"),_ue=CI("transitionend"),Sue=new Map,NY="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wg(t,e){Sue.set(t,e),dw(e,[t])}for(var wP=0;wP<NY.length;wP++){var bP=NY[wP],FSe=bP.toLowerCase(),USe=bP[0].toUpperCase()+bP.slice(1);wg(FSe,"on"+USe)}wg(Aue,"onAnimationEnd");wg(Cue,"onAnimationIteration");wg(kue,"onAnimationStart");wg("dblclick","onDoubleClick");wg("focusin","onFocus");wg("focusout","onBlur");wg(_ue,"onTransitionEnd");X2("onMouseEnter",["mouseout","mouseover"]);X2("onMouseLeave",["mouseout","mouseover"]);X2("onPointerEnter",["pointerout","pointerover"]);X2("onPointerLeave",["pointerout","pointerover"]);dw("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dw("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dw("onBeforeInput",["compositionend","keypress","textInput","paste"]);dw("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dw("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dw("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n6="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zSe=new Set("cancel close invalid load scroll toggle".split(" ").concat(n6));function PY(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F_e(r,e,void 0,t),t.currentTarget=null}function Iue(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;PY(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;PY(i,a,c),s=l}}}if(A_)throw t=UM,A_=!1,UM=null,t}function Nr(t,e){var n=e[ZM];n===void 0&&(n=e[ZM]=new Set);var r=t+"__bubble";n.has(r)||(Tue(e,t,2,!1),n.add(r))}function vP(t,e,n){var r=0;e&&(r|=4),Tue(n,t,r,e)}var _C="_reactListening"+Math.random().toString(36).slice(2);function S4(t){if(!t[_C]){t[_C]=!0,Mce.forEach(function(n){n!=="selectionchange"&&(zSe.has(n)||vP(n,!1,t),vP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_C]||(e[_C]=!0,vP("selectionchange",!1,e))}}function Tue(t,e,n,r){switch(hue(e)){case 1:var i=nSe;break;case 4:i=rSe;break;default:i=Uz}n=i.bind(null,e,n,t),i=void 0,!FM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xP(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gy(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jce(function(){var c=s,u=Dz(n),h=[];e:{var f=Sue.get(t);if(f!==void 0){var p=Wz,m=t;switch(t){case"keypress":if(o9(n)===0)break e;case"keydown":case"keyup":p=wSe;break;case"focusin":m="focus",p=pP;break;case"focusout":m="blur",p=pP;break;case"beforeblur":case"afterblur":p=pP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vY;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oSe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xSe;break;case Aue:case Cue:case kue:p=cSe;break;case _ue:p=ASe;break;case"scroll":p=iSe;break;case"wheel":p=kSe;break;case"copy":case"cut":case"paste":p=dSe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=EY}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,b;v!==null;){b=v;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,w!==null&&(A=x4(v,w),A!=null&&g.push(I4(v,A,b)))),y)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==BM&&(m=n.relatedTarget||n.fromElement)&&(gy(m)||m[_p]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?gy(m):null,m!==null&&(y=hw(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=vY,A="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=EY,A="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?f:Gb(p),b=m==null?f:Gb(m),f=new g(A,v+"leave",p,n,u),f.target=y,f.relatedTarget=b,A=null,gy(u)===c&&(g=new g(w,v+"enter",m,n,u),g.target=b,g.relatedTarget=y,A=g),y=A,p&&m)t:{for(g=p,w=m,v=0,b=g;b;b=Gw(b))v++;for(b=0,A=w;A;A=Gw(A))b++;for(;0<v-b;)g=Gw(g),v--;for(;0<b-v;)w=Gw(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Gw(g),w=Gw(w)}g=null}else g=null;p!==null&&RY(h,f,p,g,!1),m!==null&&y!==null&&RY(h,y,m,g,!0)}}e:{if(f=c?Gb(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=PSe;else if(kY(f))if(wue)E=MSe;else{E=jSe;var $=RSe}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=OSe);if(E&&(E=E(t,c))){yue(h,E,n,u);break e}$&&$(t,f,c),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&RM(f,"number",f.value)}switch($=c?Gb(c):window,t){case"focusin":(kY($)||$.contentEditable==="true")&&(Vb=$,VM=c,R6=null);break;case"focusout":R6=VM=Vb=null;break;case"mousedown":qM=!0;break;case"contextmenu":case"mouseup":case"dragend":qM=!1,$Y(h,n,u);break;case"selectionchange":if(LSe)break;case"keydown":case"keyup":$Y(h,n,u)}var N;if(Vz)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Hb?mue(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(pue&&n.locale!=="ko"&&(Hb||R!=="onCompositionStart"?R==="onCompositionEnd"&&Hb&&(N=fue()):(Im=u,zz="value"in Im?Im.value:Im.textContent,Hb=!0)),$=I_(c,R),0<$.length&&(R=new xY(R,t,null,n,u),h.push({event:R,listeners:$}),N?R.data=N:(N=gue(n),N!==null&&(R.data=N)))),(N=SSe?ISe(t,n):TSe(t,n))&&(c=I_(c,"onBeforeInput"),0<c.length&&(u=new xY("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=N))}Iue(h,e)})}function I4(t,e,n){return{instance:t,listener:e,currentTarget:n}}function I_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=x4(t,n),s!=null&&r.unshift(I4(t,s,i)),s=x4(t,e),s!=null&&r.push(I4(t,s,i))),t=t.return}return r}function Gw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RY(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=x4(n,s),l!=null&&o.unshift(I4(n,l,a))):i||(l=x4(n,s),l!=null&&o.push(I4(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WSe=/\r\n?/g,HSe=/\u0000|\uFFFD/g;function jY(t){return(typeof t=="string"?t:""+t).replace(WSe,`
`).replace(HSe,"")}function SC(t,e,n){if(e=jY(e),jY(t)!==e&&n)throw Error(Qe(425))}function T_(){}var GM=null,KM=null;function YM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QM=typeof setTimeout=="function"?setTimeout:void 0,VSe=typeof clearTimeout=="function"?clearTimeout:void 0,OY=typeof Promise=="function"?Promise:void 0,qSe=typeof queueMicrotask=="function"?queueMicrotask:typeof OY<"u"?function(t){return OY.resolve(null).then(t).catch(GSe)}:QM;function GSe(t){setTimeout(function(){throw t})}function EP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),C4(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);C4(e)}function zm(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MY(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var l3=Math.random().toString(36).slice(2),gh="__reactFiber$"+l3,T4="__reactProps$"+l3,_p="__reactContainer$"+l3,ZM="__reactEvents$"+l3,KSe="__reactListeners$"+l3,YSe="__reactHandles$"+l3;function gy(t){var e=t[gh];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_p]||n[gh]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MY(t);t!==null;){if(n=t[gh])return n;t=MY(t)}return e}t=n,n=t.parentNode}return null}function eA(t){return t=t[gh]||t[_p],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gb(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function kI(t){return t[T4]||null}var JM=[],Kb=-1;function bg(t){return{current:t}}function Dr(t){0>Kb||(t.current=JM[Kb],JM[Kb]=null,Kb--)}function Cr(t,e){Kb++,JM[Kb]=t.current,t.current=e}var ng={},jo=bg(ng),Ha=bg(!1),_1=ng;function ex(t,e){var n=t.type.contextTypes;if(!n)return ng;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Va(t){return t=t.childContextTypes,t!=null}function $_(){Dr(Ha),Dr(jo)}function DY(t,e,n){if(jo.current!==ng)throw Error(Qe(168));Cr(jo,e),Cr(Ha,n)}function $ue(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qe(108,R_e(t)||"Unknown",i));return ri({},n,r)}function N_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ng,_1=jo.current,Cr(jo,t),Cr(Ha,Ha.current),!0}function BY(t,e,n){var r=t.stateNode;if(!r)throw Error(Qe(169));n?(t=$ue(t,e,_1),r.__reactInternalMemoizedMergedChildContext=t,Dr(Ha),Dr(jo),Cr(jo,t)):Dr(Ha),Cr(Ha,n)}var Of=null,_I=!1,AP=!1;function Nue(t){Of===null?Of=[t]:Of.push(t)}function QSe(t){_I=!0,Nue(t)}function vg(){if(!AP&&Of!==null){AP=!0;var t=0,e=ar;try{var n=Of;for(ar=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Of=null,_I=!1}catch(i){throw Of!==null&&(Of=Of.slice(t+1)),nue(Bz,vg),i}finally{ar=e,AP=!1}}return null}var Yb=[],Qb=0,P_=null,R_=0,Dc=[],Bc=0,S1=null,ap=1,lp="";function qg(t,e){Yb[Qb++]=R_,Yb[Qb++]=P_,P_=t,R_=e}function Pue(t,e,n){Dc[Bc++]=ap,Dc[Bc++]=lp,Dc[Bc++]=S1,S1=t;var r=ap;t=lp;var i=32-Xu(r)-1;r&=~(1<<i),n+=1;var s=32-Xu(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ap=1<<32-Xu(e)+i|n<<i|r,lp=s+t}else ap=1<<s|n<<i|r,lp=t}function Gz(t){t.return!==null&&(qg(t,1),Pue(t,1,0))}function Kz(t){for(;t===P_;)P_=Yb[--Qb],Yb[Qb]=null,R_=Yb[--Qb],Yb[Qb]=null;for(;t===S1;)S1=Dc[--Bc],Dc[Bc]=null,lp=Dc[--Bc],Dc[Bc]=null,ap=Dc[--Bc],Dc[Bc]=null}var Fl=null,Bl=null,Hr=!1,Hu=null;function Rue(t,e){var n=Wc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LY(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fl=t,Bl=zm(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fl=t,Bl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=S1!==null?{id:ap,overflow:lp}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fl=t,Bl=null,!0):!1;default:return!1}}function XM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eD(t){if(Hr){var e=Bl;if(e){var n=e;if(!LY(t,e)){if(XM(t))throw Error(Qe(418));e=zm(n.nextSibling);var r=Fl;e&&LY(t,e)?Rue(r,n):(t.flags=t.flags&-4097|2,Hr=!1,Fl=t)}}else{if(XM(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,Hr=!1,Fl=t}}}function FY(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fl=t}function IC(t){if(t!==Fl)return!1;if(!Hr)return FY(t),Hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!YM(t.type,t.memoizedProps)),e&&(e=Bl)){if(XM(t))throw jue(),Error(Qe(418));for(;e;)Rue(t,e),e=zm(e.nextSibling)}if(FY(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bl=zm(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bl=null}}else Bl=Fl?zm(t.stateNode.nextSibling):null;return!0}function jue(){for(var t=Bl;t;)t=zm(t.nextSibling)}function tx(){Bl=Fl=null,Hr=!1}function Yz(t){Hu===null?Hu=[t]:Hu.push(t)}var ZSe=Qp.ReactCurrentBatchConfig;function c5(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qe(309));var r=n.stateNode}if(!r)throw Error(Qe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Qe(284));if(!n._owner)throw Error(Qe(290,t))}return t}function TC(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UY(t){var e=t._init;return e(t._payload)}function Oue(t){function e(w,v){if(t){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=qm(w,v),w.index=0,w.sibling=null,w}function s(w,v,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,A){return v===null||v.tag!==6?(v=$P(b,w.mode,A),v.return=w,v):(v=i(v,b),v.return=w,v)}function l(w,v,b,A){var E=b.type;return E===Wb?u(w,v,b.props.children,A,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===z0&&UY(E)===v.type)?(A=i(v,b.props),A.ref=c5(w,v,b),A.return=w,A):(A=f9(b.type,b.key,b.props,null,w.mode,A),A.ref=c5(w,v,b),A.return=w,A)}function c(w,v,b,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=NP(b,w.mode,A),v.return=w,v):(v=i(v,b.children||[]),v.return=w,v)}function u(w,v,b,A,E){return v===null||v.tag!==7?(v=l1(b,w.mode,A,E),v.return=w,v):(v=i(v,b),v.return=w,v)}function h(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$P(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wC:return b=f9(v.type,v.key,v.props,null,w.mode,b),b.ref=c5(w,null,v),b.return=w,b;case zb:return v=NP(v,w.mode,b),v.return=w,v;case z0:var A=v._init;return h(w,A(v._payload),b)}if(e6(v)||i5(v))return v=l1(v,w.mode,b,null),v.return=w,v;TC(w,v)}return null}function f(w,v,b,A){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(w,v,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wC:return b.key===E?l(w,v,b,A):null;case zb:return b.key===E?c(w,v,b,A):null;case z0:return E=b._init,f(w,v,E(b._payload),A)}if(e6(b)||i5(b))return E!==null?null:u(w,v,b,A,null);TC(w,b)}return null}function p(w,v,b,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(b)||null,a(v,w,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wC:return w=w.get(A.key===null?b:A.key)||null,l(v,w,A,E);case zb:return w=w.get(A.key===null?b:A.key)||null,c(v,w,A,E);case z0:var $=A._init;return p(w,v,b,$(A._payload),E)}if(e6(A)||i5(A))return w=w.get(b)||null,u(v,w,A,E,null);TC(v,A)}return null}function m(w,v,b,A){for(var E=null,$=null,N=v,R=v=0,M=null;N!==null&&R<b.length;R++){N.index>R?(M=N,N=null):M=N.sibling;var F=f(w,N,b[R],A);if(F===null){N===null&&(N=M);break}t&&N&&F.alternate===null&&e(w,N),v=s(F,v,R),$===null?E=F:$.sibling=F,$=F,N=M}if(R===b.length)return n(w,N),Hr&&qg(w,R),E;if(N===null){for(;R<b.length;R++)N=h(w,b[R],A),N!==null&&(v=s(N,v,R),$===null?E=N:$.sibling=N,$=N);return Hr&&qg(w,R),E}for(N=r(w,N);R<b.length;R++)M=p(N,w,R,b[R],A),M!==null&&(t&&M.alternate!==null&&N.delete(M.key===null?R:M.key),v=s(M,v,R),$===null?E=M:$.sibling=M,$=M);return t&&N.forEach(function(W){return e(w,W)}),Hr&&qg(w,R),E}function g(w,v,b,A){var E=i5(b);if(typeof E!="function")throw Error(Qe(150));if(b=E.call(b),b==null)throw Error(Qe(151));for(var $=E=null,N=v,R=v=0,M=null,F=b.next();N!==null&&!F.done;R++,F=b.next()){N.index>R?(M=N,N=null):M=N.sibling;var W=f(w,N,F.value,A);if(W===null){N===null&&(N=M);break}t&&N&&W.alternate===null&&e(w,N),v=s(W,v,R),$===null?E=W:$.sibling=W,$=W,N=M}if(F.done)return n(w,N),Hr&&qg(w,R),E;if(N===null){for(;!F.done;R++,F=b.next())F=h(w,F.value,A),F!==null&&(v=s(F,v,R),$===null?E=F:$.sibling=F,$=F);return Hr&&qg(w,R),E}for(N=r(w,N);!F.done;R++,F=b.next())F=p(N,w,R,F.value,A),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?R:F.key),v=s(F,v,R),$===null?E=F:$.sibling=F,$=F);return t&&N.forEach(function(H){return e(w,H)}),Hr&&qg(w,R),E}function y(w,v,b,A){if(typeof b=="object"&&b!==null&&b.type===Wb&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wC:e:{for(var E=b.key,$=v;$!==null;){if($.key===E){if(E=b.type,E===Wb){if($.tag===7){n(w,$.sibling),v=i($,b.props.children),v.return=w,w=v;break e}}else if($.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===z0&&UY(E)===$.type){n(w,$.sibling),v=i($,b.props),v.ref=c5(w,$,b),v.return=w,w=v;break e}n(w,$);break}else e(w,$);$=$.sibling}b.type===Wb?(v=l1(b.props.children,w.mode,A,b.key),v.return=w,w=v):(A=f9(b.type,b.key,b.props,null,w.mode,A),A.ref=c5(w,v,b),A.return=w,w=A)}return o(w);case zb:e:{for($=b.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=i(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=NP(b,w.mode,A),v.return=w,w=v}return o(w);case z0:return $=b._init,y(w,v,$(b._payload),A)}if(e6(b))return m(w,v,b,A);if(i5(b))return g(w,v,b,A);TC(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,b),v.return=w,w=v):(n(w,v),v=$P(b,w.mode,A),v.return=w,w=v),o(w)):n(w,v)}return y}var nx=Oue(!0),Mue=Oue(!1),j_=bg(null),O_=null,Zb=null,Qz=null;function Zz(){Qz=Zb=O_=null}function Jz(t){var e=j_.current;Dr(j_),t._currentValue=e}function tD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nv(t,e){O_=t,Qz=Zb=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(La=!0),t.firstContext=null)}function Kc(t){var e=t._currentValue;if(Qz!==t)if(t={context:t,memoizedValue:e,next:null},Zb===null){if(O_===null)throw Error(Qe(308));Zb=t,O_.dependencies={lanes:0,firstContext:t}}else Zb=Zb.next=t;return e}var yy=null;function Xz(t){yy===null?yy=[t]:yy.push(t)}function Due(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xz(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sp(t,r)}function Sp(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var W0=!1;function eW(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bue(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dp(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wm(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Vn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sp(t,n)}return i=r.interleaved,i===null?(e.next=e,Xz(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sp(t,n)}function a9(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lz(t,n)}}function zY(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function M_(t,e,n,r){var i=t.updateQueue;W0=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=ri({},h,f);break e;case 2:W0=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);T1|=o,t.lanes=o,t.memoizedState=h}}function WY(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qe(191,i));i.call(r)}}}var tA={},Sh=bg(tA),$4=bg(tA),N4=bg(tA);function wy(t){if(t===tA)throw Error(Qe(174));return t}function tW(t,e){switch(Cr(N4,e),Cr($4,t),Cr(Sh,tA),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=OM(e,t)}Dr(Sh),Cr(Sh,e)}function rx(){Dr(Sh),Dr($4),Dr(N4)}function Lue(t){wy(N4.current);var e=wy(Sh.current),n=OM(e,t.type);e!==n&&(Cr($4,t),Cr(Sh,n))}function nW(t){$4.current===t&&(Dr(Sh),Dr($4))}var Zr=bg(0);function D_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var CP=[];function rW(){for(var t=0;t<CP.length;t++)CP[t]._workInProgressVersionPrimary=null;CP.length=0}var l9=Qp.ReactCurrentDispatcher,kP=Qp.ReactCurrentBatchConfig,I1=0,ni=null,Xi=null,ms=null,B_=!1,j6=!1,P4=0,JSe=0;function eo(){throw Error(Qe(321))}function iW(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ad(t[n],e[n]))return!1;return!0}function sW(t,e,n,r,i,s){if(I1=s,ni=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,l9.current=t===null||t.memoizedState===null?n7e:r7e,t=n(r,i),j6){s=0;do{if(j6=!1,P4=0,25<=s)throw Error(Qe(301));s+=1,ms=Xi=null,e.updateQueue=null,l9.current=i7e,t=n(r,i)}while(j6)}if(l9.current=L_,e=Xi!==null&&Xi.next!==null,I1=0,ms=Xi=ni=null,B_=!1,e)throw Error(Qe(300));return t}function oW(){var t=P4!==0;return P4=0,t}function Yd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?ni.memoizedState=ms=t:ms=ms.next=t,ms}function Yc(){if(Xi===null){var t=ni.alternate;t=t!==null?t.memoizedState:null}else t=Xi.next;var e=ms===null?ni.memoizedState:ms.next;if(e!==null)ms=e,Xi=t;else{if(t===null)throw Error(Qe(310));Xi=t,t={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},ms===null?ni.memoizedState=ms=t:ms=ms.next=t}return ms}function R4(t,e){return typeof e=="function"?e(t):e}function _P(t){var e=Yc(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=Xi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((I1&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ni.lanes|=u,T1|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ad(r,e.memoizedState)||(La=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ni.lanes|=s,T1|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function SP(t){var e=Yc(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ad(s,e.memoizedState)||(La=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Fue(){}function Uue(t,e){var n=ni,r=Yc(),i=e(),s=!ad(r.memoizedState,i);if(s&&(r.memoizedState=i,La=!0),r=r.queue,aW(Hue.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ms!==null&&ms.memoizedState.tag&1){if(n.flags|=2048,j4(9,Wue.bind(null,n,r,i,e),void 0,null),Es===null)throw Error(Qe(349));I1&30||zue(n,e,i)}return i}function zue(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ni.updateQueue,e===null?(e={lastEffect:null,stores:null},ni.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wue(t,e,n,r){e.value=n,e.getSnapshot=r,Vue(e)&&que(t)}function Hue(t,e,n){return n(function(){Vue(e)&&que(t)})}function Vue(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ad(t,n)}catch{return!0}}function que(t){var e=Sp(t,1);e!==null&&ed(e,t,1,-1)}function HY(t){var e=Yd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R4,lastRenderedState:t},e.queue=t,t=t.dispatch=t7e.bind(null,ni,t),[e.memoizedState,t]}function j4(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ni.updateQueue,e===null?(e={lastEffect:null,stores:null},ni.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gue(){return Yc().memoizedState}function c9(t,e,n,r){var i=Yd();ni.flags|=t,i.memoizedState=j4(1|e,n,void 0,r===void 0?null:r)}function SI(t,e,n,r){var i=Yc();r=r===void 0?null:r;var s=void 0;if(Xi!==null){var o=Xi.memoizedState;if(s=o.destroy,r!==null&&iW(r,o.deps)){i.memoizedState=j4(e,n,s,r);return}}ni.flags|=t,i.memoizedState=j4(1|e,n,s,r)}function VY(t,e){return c9(8390656,8,t,e)}function aW(t,e){return SI(2048,8,t,e)}function Kue(t,e){return SI(4,2,t,e)}function Yue(t,e){return SI(4,4,t,e)}function Que(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zue(t,e,n){return n=n!=null?n.concat([t]):null,SI(4,4,Que.bind(null,e,t),n)}function lW(){}function Jue(t,e){var n=Yc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iW(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xue(t,e){var n=Yc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iW(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ede(t,e,n){return I1&21?(ad(n,e)||(n=sue(),ni.lanes|=n,T1|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,La=!0),t.memoizedState=n)}function XSe(t,e){var n=ar;ar=n!==0&&4>n?n:4,t(!0);var r=kP.transition;kP.transition={};try{t(!1),e()}finally{ar=n,kP.transition=r}}function tde(){return Yc().memoizedState}function e7e(t,e,n){var r=Vm(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nde(t))rde(e,n);else if(n=Due(t,e,n,r),n!==null){var i=oa();ed(n,t,r,i),ide(n,e,r)}}function t7e(t,e,n){var r=Vm(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nde(t))rde(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ad(a,o)){var l=e.interleaved;l===null?(i.next=i,Xz(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Due(t,e,i,r),n!==null&&(i=oa(),ed(n,t,r,i),ide(n,e,r))}}function nde(t){var e=t.alternate;return t===ni||e!==null&&e===ni}function rde(t,e){j6=B_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ide(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lz(t,n)}}var L_={readContext:Kc,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useInsertionEffect:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useSyncExternalStore:eo,useId:eo,unstable_isNewReconciler:!1},n7e={readContext:Kc,useCallback:function(t,e){return Yd().memoizedState=[t,e===void 0?null:e],t},useContext:Kc,useEffect:VY,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,c9(4194308,4,Que.bind(null,e,t),n)},useLayoutEffect:function(t,e){return c9(4194308,4,t,e)},useInsertionEffect:function(t,e){return c9(4,2,t,e)},useMemo:function(t,e){var n=Yd();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yd();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=e7e.bind(null,ni,t),[r.memoizedState,t]},useRef:function(t){var e=Yd();return t={current:t},e.memoizedState=t},useState:HY,useDebugValue:lW,useDeferredValue:function(t){return Yd().memoizedState=t},useTransition:function(){var t=HY(!1),e=t[0];return t=XSe.bind(null,t[1]),Yd().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ni,i=Yd();if(Hr){if(n===void 0)throw Error(Qe(407));n=n()}else{if(n=e(),Es===null)throw Error(Qe(349));I1&30||zue(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,VY(Hue.bind(null,r,s,t),[t]),r.flags|=2048,j4(9,Wue.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yd(),e=Es.identifierPrefix;if(Hr){var n=lp,r=ap;n=(r&~(1<<32-Xu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=P4++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JSe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r7e={readContext:Kc,useCallback:Jue,useContext:Kc,useEffect:aW,useImperativeHandle:Zue,useInsertionEffect:Kue,useLayoutEffect:Yue,useMemo:Xue,useReducer:_P,useRef:Gue,useState:function(){return _P(R4)},useDebugValue:lW,useDeferredValue:function(t){var e=Yc();return ede(e,Xi.memoizedState,t)},useTransition:function(){var t=_P(R4)[0],e=Yc().memoizedState;return[t,e]},useMutableSource:Fue,useSyncExternalStore:Uue,useId:tde,unstable_isNewReconciler:!1},i7e={readContext:Kc,useCallback:Jue,useContext:Kc,useEffect:aW,useImperativeHandle:Zue,useInsertionEffect:Kue,useLayoutEffect:Yue,useMemo:Xue,useReducer:SP,useRef:Gue,useState:function(){return SP(R4)},useDebugValue:lW,useDeferredValue:function(t){var e=Yc();return Xi===null?e.memoizedState=t:ede(e,Xi.memoizedState,t)},useTransition:function(){var t=SP(R4)[0],e=Yc().memoizedState;return[t,e]},useMutableSource:Fue,useSyncExternalStore:Uue,useId:tde,unstable_isNewReconciler:!1};function Nu(t,e){if(t&&t.defaultProps){e=ri({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ri({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var II={isMounted:function(t){return(t=t._reactInternals)?hw(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=oa(),i=Vm(t),s=dp(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wm(t,s,i),e!==null&&(ed(e,t,i,r),a9(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=oa(),i=Vm(t),s=dp(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wm(t,s,i),e!==null&&(ed(e,t,i,r),a9(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=oa(),r=Vm(t),i=dp(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wm(t,i,r),e!==null&&(ed(e,t,r,n),a9(e,t,r))}};function qY(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_4(n,r)||!_4(i,s):!0}function sde(t,e,n){var r=!1,i=ng,s=e.contextType;return typeof s=="object"&&s!==null?s=Kc(s):(i=Va(e)?_1:jo.current,r=e.contextTypes,s=(r=r!=null)?ex(t,i):ng),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=II,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function GY(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&II.enqueueReplaceState(e,e.state,null)}function rD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},eW(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kc(s):(s=Va(e)?_1:jo.current,i.context=ex(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nD(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&II.enqueueReplaceState(i,i.state,null),M_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ix(t,e){try{var n="",r=e;do n+=P_e(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function IP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s7e=typeof WeakMap=="function"?WeakMap:Map;function ode(t,e,n){n=dp(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){U_||(U_=!0,pD=r),iD(t,e)},n}function ade(t,e,n){n=dp(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iD(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){iD(t,e),typeof r!="function"&&(Hm===null?Hm=new Set([this]):Hm.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KY(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s7e;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b7e.bind(null,t,e,n),e.then(t,t))}function YY(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QY(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dp(-1,1),e.tag=2,Wm(n,e,1))),n.lanes|=1),t)}var o7e=Qp.ReactCurrentOwner,La=!1;function Uo(t,e,n,r){e.child=t===null?Mue(e,null,n,r):nx(e,t.child,n,r)}function ZY(t,e,n,r,i){n=n.render;var s=e.ref;return Nv(e,i),r=sW(t,e,n,r,s,i),n=oW(),t!==null&&!La?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ip(t,e,i)):(Hr&&n&&Gz(e),e.flags|=1,Uo(t,e,r,i),e.child)}function JY(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gW(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lde(t,e,s,r,i)):(t=f9(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_4,n(o,r)&&t.ref===e.ref)return Ip(t,e,i)}return e.flags|=1,t=qm(s,r),t.ref=e.ref,t.return=e,e.child=t}function lde(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_4(s,r)&&t.ref===e.ref)if(La=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(La=!0);else return e.lanes=t.lanes,Ip(t,e,i)}return sD(t,e,n,r,i)}function cde(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Xb,kl),kl|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(Xb,kl),kl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Cr(Xb,kl),kl|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Cr(Xb,kl),kl|=r;return Uo(t,e,i,n),e.child}function ude(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sD(t,e,n,r,i){var s=Va(n)?_1:jo.current;return s=ex(e,s),Nv(e,i),n=sW(t,e,n,r,s,i),r=oW(),t!==null&&!La?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ip(t,e,i)):(Hr&&r&&Gz(e),e.flags|=1,Uo(t,e,n,i),e.child)}function XY(t,e,n,r,i){if(Va(n)){var s=!0;N_(e)}else s=!1;if(Nv(e,i),e.stateNode===null)u9(t,e),sde(e,n,r),rD(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kc(c):(c=Va(n)?_1:jo.current,c=ex(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&GY(e,o,r,c),W0=!1;var f=e.memoizedState;o.state=f,M_(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ha.current||W0?(typeof u=="function"&&(nD(e,n,u,r),l=e.memoizedState),(a=W0||qY(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bue(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nu(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kc(l):(l=Va(n)?_1:jo.current,l=ex(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&GY(e,o,r,l),W0=!1,f=e.memoizedState,o.state=f,M_(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||Ha.current||W0?(typeof p=="function"&&(nD(e,n,p,r),m=e.memoizedState),(c=W0||qY(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return oD(t,e,n,r,s,i)}function oD(t,e,n,r,i,s){ude(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&BY(e,n,!1),Ip(t,e,s);r=e.stateNode,o7e.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nx(e,t.child,null,s),e.child=nx(e,null,a,s)):Uo(t,e,a,s),e.memoizedState=r.state,i&&BY(e,n,!0),e.child}function dde(t){var e=t.stateNode;e.pendingContext?DY(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DY(t,e.context,!1),tW(t,e.containerInfo)}function eQ(t,e,n,r,i){return tx(),Yz(i),e.flags|=256,Uo(t,e,n,r),e.child}var aD={dehydrated:null,treeContext:null,retryLane:0};function lD(t){return{baseLanes:t,cachePool:null,transitions:null}}function hde(t,e,n){var r=e.pendingProps,i=Zr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cr(Zr,i&1),t===null)return eD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=NI(o,r,0,null),t=l1(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lD(n),e.memoizedState=aD,t):cW(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return a7e(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qm(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qm(a,s):(s=l1(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=aD,r}return s=t.child,t=s.sibling,r=qm(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cW(t,e){return e=NI({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $C(t,e,n,r){return r!==null&&Yz(r),nx(e,t.child,null,n),t=cW(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a7e(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=IP(Error(Qe(422))),$C(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=NI({mode:"visible",children:r.children},i,0,null),s=l1(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nx(e,t.child,null,o),e.child.memoizedState=lD(o),e.memoizedState=aD,s);if(!(e.mode&1))return $C(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Qe(419)),r=IP(s,r,void 0),$C(t,e,o,r)}if(a=(o&t.childLanes)!==0,La||a){if(r=Es,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sp(t,i),ed(r,t,i,-1))}return mW(),r=IP(Error(Qe(421))),$C(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v7e.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bl=zm(i.nextSibling),Fl=e,Hr=!0,Hu=null,t!==null&&(Dc[Bc++]=ap,Dc[Bc++]=lp,Dc[Bc++]=S1,ap=t.id,lp=t.overflow,S1=e),e=cW(e,r.children),e.flags|=4096,e)}function tQ(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tD(t.return,e,n)}function TP(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fde(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Uo(t,e,r.children,n),r=Zr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tQ(t,n,e);else if(t.tag===19)tQ(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Cr(Zr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&D_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),TP(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&D_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}TP(e,!0,n,null,s);break;case"together":TP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function u9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ip(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),T1|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,n=qm(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qm(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l7e(t,e,n){switch(e.tag){case 3:dde(e),tx();break;case 5:Lue(e);break;case 1:Va(e.type)&&N_(e);break;case 4:tW(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Cr(j_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Cr(Zr,Zr.current&1),e.flags|=128,null):n&e.child.childLanes?hde(t,e,n):(Cr(Zr,Zr.current&1),t=Ip(t,e,n),t!==null?t.sibling:null);Cr(Zr,Zr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fde(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cr(Zr,Zr.current),r)break;return null;case 22:case 23:return e.lanes=0,cde(t,e,n)}return Ip(t,e,n)}var pde,cD,mde,gde;pde=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cD=function(){};mde=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wy(Sh.current);var s=null;switch(n){case"input":i=NM(t,i),r=NM(t,r),s=[];break;case"select":i=ri({},i,{value:void 0}),r=ri({},r,{value:void 0}),s=[];break;case"textarea":i=jM(t,i),r=jM(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=T_)}MM(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(b4.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(b4.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Nr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};gde=function(t,e,n,r){n!==r&&(e.flags|=4)};function u5(t,e){if(!Hr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function to(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c7e(t,e,n){var r=e.pendingProps;switch(Kz(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(e),null;case 1:return Va(e.type)&&$_(),to(e),null;case 3:return r=e.stateNode,rx(),Dr(Ha),Dr(jo),rW(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(IC(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hu!==null&&(yD(Hu),Hu=null))),cD(t,e),to(e),null;case 5:nW(e);var i=wy(N4.current);if(n=e.type,t!==null&&e.stateNode!=null)mde(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qe(166));return to(e),null}if(t=wy(Sh.current),IC(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gh]=e,r[T4]=s,t=(e.mode&1)!==0,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<n6.length;i++)Nr(n6[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":uY(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":hY(r,s),Nr("invalid",r)}MM(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&SC(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&SC(r.textContent,a,t),i=["children",""+a]):b4.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nr("scroll",r)}switch(n){case"input":bC(r),dY(r,s,!0);break;case"textarea":bC(r),fY(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=T_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hce(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gh]=e,t[T4]=r,pde(t,e,!1,!1),e.stateNode=t;e:{switch(o=DM(n,r),n){case"dialog":Nr("cancel",t),Nr("close",t),i=r;break;case"iframe":case"object":case"embed":Nr("load",t),i=r;break;case"video":case"audio":for(i=0;i<n6.length;i++)Nr(n6[i],t);i=r;break;case"source":Nr("error",t),i=r;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),i=r;break;case"details":Nr("toggle",t),i=r;break;case"input":uY(t,r),i=NM(t,r),Nr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ri({},r,{value:void 0}),Nr("invalid",t);break;case"textarea":hY(t,r),i=jM(t,r),Nr("invalid",t);break;default:i=r}MM(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Gce(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vce(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&v4(t,l):typeof l=="number"&&v4(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(b4.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nr("scroll",t):l!=null&&Rz(t,s,l,o))}switch(n){case"input":bC(t),dY(t,r,!1);break;case"textarea":bC(t),fY(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tg(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sv(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=T_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return to(e),null;case 6:if(t&&e.stateNode!=null)gde(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qe(166));if(n=wy(N4.current),wy(Sh.current),IC(e)){if(r=e.stateNode,n=e.memoizedProps,r[gh]=e,(s=r.nodeValue!==n)&&(t=Fl,t!==null))switch(t.tag){case 3:SC(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&SC(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gh]=e,e.stateNode=r}return to(e),null;case 13:if(Dr(Zr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hr&&Bl!==null&&e.mode&1&&!(e.flags&128))jue(),tx(),e.flags|=98560,s=!1;else if(s=IC(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[gh]=e}else tx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;to(e),s=!1}else Hu!==null&&(yD(Hu),Hu=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Zr.current&1?ts===0&&(ts=3):mW())),e.updateQueue!==null&&(e.flags|=4),to(e),null);case 4:return rx(),cD(t,e),t===null&&S4(e.stateNode.containerInfo),to(e),null;case 10:return Jz(e.type._context),to(e),null;case 17:return Va(e.type)&&$_(),to(e),null;case 19:if(Dr(Zr),s=e.memoizedState,s===null)return to(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)u5(s,!1);else{if(ts!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=D_(t),o!==null){for(e.flags|=128,u5(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(Zr,Zr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ii()>sx&&(e.flags|=128,r=!0,u5(s,!1),e.lanes=4194304)}else{if(!r)if(t=D_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),u5(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Hr)return to(e),null}else 2*Ii()-s.renderingStartTime>sx&&n!==1073741824&&(e.flags|=128,r=!0,u5(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ii(),e.sibling=null,n=Zr.current,Cr(Zr,r?n&1|2:n&1),e):(to(e),null);case 22:case 23:return pW(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kl&1073741824&&(to(e),e.subtreeFlags&6&&(e.flags|=8192)):to(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function u7e(t,e){switch(Kz(e),e.tag){case 1:return Va(e.type)&&$_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rx(),Dr(Ha),Dr(jo),rW(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nW(e),null;case 13:if(Dr(Zr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));tx()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dr(Zr),null;case 4:return rx(),null;case 10:return Jz(e.type._context),null;case 22:case 23:return pW(),null;case 24:return null;default:return null}}var NC=!1,Ao=!1,d7e=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Jb(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){di(t,e,r)}else n.current=null}function uD(t,e,n){try{n()}catch(r){di(t,e,r)}}var nQ=!1;function h7e(t,e){if(GM=__,t=xue(),qz(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(KM={focusedElem:t,selectionRange:n},__=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Nu(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(A){di(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return m=nQ,nQ=!1,m}function O6(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uD(e,n,s)}i=i.next}while(i!==r)}}function TI(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yde(t){var e=t.alternate;e!==null&&(t.alternate=null,yde(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gh],delete e[T4],delete e[ZM],delete e[KSe],delete e[YSe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wde(t){return t.tag===5||t.tag===3||t.tag===4}function rQ(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wde(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=T_));else if(r!==4&&(t=t.child,t!==null))for(hD(t,e,n),t=t.sibling;t!==null;)hD(t,e,n),t=t.sibling}function fD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fD(t,e,n),t=t.sibling;t!==null;)fD(t,e,n),t=t.sibling}var js=null,Wu=!1;function r0(t,e,n){for(n=n.child;n!==null;)bde(t,e,n),n=n.sibling}function bde(t,e,n){if(_h&&typeof _h.onCommitFiberUnmount=="function")try{_h.onCommitFiberUnmount(xI,n)}catch{}switch(n.tag){case 5:Ao||Jb(n,e);case 6:var r=js,i=Wu;js=null,r0(t,e,n),js=r,Wu=i,js!==null&&(Wu?(t=js,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):js.removeChild(n.stateNode));break;case 18:js!==null&&(Wu?(t=js,n=n.stateNode,t.nodeType===8?EP(t.parentNode,n):t.nodeType===1&&EP(t,n),C4(t)):EP(js,n.stateNode));break;case 4:r=js,i=Wu,js=n.stateNode.containerInfo,Wu=!0,r0(t,e,n),js=r,Wu=i;break;case 0:case 11:case 14:case 15:if(!Ao&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uD(n,e,o),i=i.next}while(i!==r)}r0(t,e,n);break;case 1:if(!Ao&&(Jb(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){di(n,e,a)}r0(t,e,n);break;case 21:r0(t,e,n);break;case 22:n.mode&1?(Ao=(r=Ao)||n.memoizedState!==null,r0(t,e,n),Ao=r):r0(t,e,n);break;default:r0(t,e,n)}}function iQ(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d7e),e.forEach(function(r){var i=x7e.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pu(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:js=a.stateNode,Wu=!1;break e;case 3:js=a.stateNode.containerInfo,Wu=!0;break e;case 4:js=a.stateNode.containerInfo,Wu=!0;break e}a=a.return}if(js===null)throw Error(Qe(160));bde(s,o,i),js=null,Wu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){di(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vde(e,t),e=e.sibling}function vde(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pu(e,t),Nd(t),r&4){try{O6(3,t,t.return),TI(3,t)}catch(g){di(t,t.return,g)}try{O6(5,t,t.return)}catch(g){di(t,t.return,g)}}break;case 1:pu(e,t),Nd(t),r&512&&n!==null&&Jb(n,n.return);break;case 5:if(pu(e,t),Nd(t),r&512&&n!==null&&Jb(n,n.return),t.flags&32){var i=t.stateNode;try{v4(i,"")}catch(g){di(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zce(i,s),DM(a,o);var c=DM(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Gce(i,h):u==="dangerouslySetInnerHTML"?Vce(i,h):u==="children"?v4(i,h):Rz(i,u,h,c)}switch(a){case"input":PM(i,s);break;case"textarea":Wce(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Sv(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Sv(i,!!s.multiple,s.defaultValue,!0):Sv(i,!!s.multiple,s.multiple?[]:"",!1))}i[T4]=s}catch(g){di(t,t.return,g)}}break;case 6:if(pu(e,t),Nd(t),r&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){di(t,t.return,g)}}break;case 3:if(pu(e,t),Nd(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{C4(e.containerInfo)}catch(g){di(t,t.return,g)}break;case 4:pu(e,t),Nd(t);break;case 13:pu(e,t),Nd(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hW=Ii())),r&4&&iQ(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ao=(c=Ao)||u,pu(e,t),Ao=c):pu(e,t),Nd(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(h=xt=u;xt!==null;){switch(f=xt,p=f.child,f.tag){case 0:case 11:case 14:case 15:O6(4,f,f.return);break;case 1:Jb(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){di(r,n,g)}}break;case 5:Jb(f,f.return);break;case 22:if(f.memoizedState!==null){oQ(h);continue}}p!==null?(p.return=f,xt=p):oQ(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qce("display",o))}catch(g){di(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){di(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pu(e,t),Nd(t),r&4&&iQ(t);break;case 21:break;default:pu(e,t),Nd(t)}}function Nd(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wde(n)){var r=n;break e}n=n.return}throw Error(Qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(v4(i,""),r.flags&=-33);var s=rQ(t);fD(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rQ(t);hD(t,a,o);break;default:throw Error(Qe(161))}}catch(l){di(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f7e(t,e,n){xt=t,xde(t)}function xde(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||NC;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ao;a=NC;var c=Ao;if(NC=o,(Ao=l)&&!c)for(xt=i;xt!==null;)o=xt,l=o.child,o.tag===22&&o.memoizedState!==null?aQ(i):l!==null?(l.return=o,xt=l):aQ(i);for(;s!==null;)xt=s,xde(s),s=s.sibling;xt=i,NC=a,Ao=c}sQ(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):sQ(t)}}function sQ(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ao||TI(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ao)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nu(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&WY(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WY(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&C4(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Ao||e.flags&512&&dD(e)}catch(f){di(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function oQ(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function aQ(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{TI(4,e)}catch(l){di(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){di(e,i,l)}}var s=e.return;try{dD(e)}catch(l){di(e,s,l)}break;case 5:var o=e.return;try{dD(e)}catch(l){di(e,o,l)}}}catch(l){di(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var p7e=Math.ceil,F_=Qp.ReactCurrentDispatcher,uW=Qp.ReactCurrentOwner,Vc=Qp.ReactCurrentBatchConfig,Vn=0,Es=null,Hi=null,Ws=0,kl=0,Xb=bg(0),ts=0,O4=null,T1=0,$I=0,dW=0,M6=null,ja=null,hW=0,sx=1/0,Tf=null,U_=!1,pD=null,Hm=null,PC=!1,Tm=null,z_=0,D6=0,mD=null,d9=-1,h9=0;function oa(){return Vn&6?Ii():d9!==-1?d9:d9=Ii()}function Vm(t){return t.mode&1?Vn&2&&Ws!==0?Ws&-Ws:ZSe.transition!==null?(h9===0&&(h9=sue()),h9):(t=ar,t!==0||(t=window.event,t=t===void 0?16:hue(t.type)),t):1}function ed(t,e,n,r){if(50<D6)throw D6=0,mD=null,Error(Qe(185));JE(t,n,r),(!(Vn&2)||t!==Es)&&(t===Es&&(!(Vn&2)&&($I|=n),ts===4&&J0(t,Ws)),qa(t,r),n===1&&Vn===0&&!(e.mode&1)&&(sx=Ii()+500,_I&&vg()))}function qa(t,e){var n=t.callbackNode;Z_e(t,e);var r=k_(t,t===Es?Ws:0);if(r===0)n!==null&&gY(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gY(n),e===1)t.tag===0?QSe(lQ.bind(null,t)):Nue(lQ.bind(null,t)),qSe(function(){!(Vn&6)&&vg()}),n=null;else{switch(oue(r)){case 1:n=Bz;break;case 4:n=rue;break;case 16:n=C_;break;case 536870912:n=iue;break;default:n=C_}n=Tde(n,Ede.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ede(t,e){if(d9=-1,h9=0,Vn&6)throw Error(Qe(327));var n=t.callbackNode;if(Pv()&&t.callbackNode!==n)return null;var r=k_(t,t===Es?Ws:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=W_(t,r);else{e=r;var i=Vn;Vn|=2;var s=Cde();(Es!==t||Ws!==e)&&(Tf=null,sx=Ii()+500,a1(t,e));do try{y7e();break}catch(a){Ade(t,a)}while(!0);Zz(),F_.current=s,Vn=i,Hi!==null?e=0:(Es=null,Ws=0,e=ts)}if(e!==0){if(e===2&&(i=zM(t),i!==0&&(r=i,e=gD(t,i))),e===1)throw n=O4,a1(t,0),J0(t,r),qa(t,Ii()),n;if(e===6)J0(t,r);else{if(i=t.current.alternate,!(r&30)&&!m7e(i)&&(e=W_(t,r),e===2&&(s=zM(t),s!==0&&(r=s,e=gD(t,s))),e===1))throw n=O4,a1(t,0),J0(t,r),qa(t,Ii()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Qe(345));case 2:Gg(t,ja,Tf);break;case 3:if(J0(t,r),(r&130023424)===r&&(e=hW+500-Ii(),10<e)){if(k_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){oa(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=QM(Gg.bind(null,t,ja,Tf),e);break}Gg(t,ja,Tf);break;case 4:if(J0(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xu(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ii()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p7e(r/1960))-r,10<r){t.timeoutHandle=QM(Gg.bind(null,t,ja,Tf),r);break}Gg(t,ja,Tf);break;case 5:Gg(t,ja,Tf);break;default:throw Error(Qe(329))}}}return qa(t,Ii()),t.callbackNode===n?Ede.bind(null,t):null}function gD(t,e){var n=M6;return t.current.memoizedState.isDehydrated&&(a1(t,e).flags|=256),t=W_(t,e),t!==2&&(e=ja,ja=n,e!==null&&yD(e)),t}function yD(t){ja===null?ja=t:ja.push.apply(ja,t)}function m7e(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ad(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function J0(t,e){for(e&=~dW,e&=~$I,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xu(e),r=1<<n;t[n]=-1,e&=~r}}function lQ(t){if(Vn&6)throw Error(Qe(327));Pv();var e=k_(t,0);if(!(e&1))return qa(t,Ii()),null;var n=W_(t,e);if(t.tag!==0&&n===2){var r=zM(t);r!==0&&(e=r,n=gD(t,r))}if(n===1)throw n=O4,a1(t,0),J0(t,e),qa(t,Ii()),n;if(n===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gg(t,ja,Tf),qa(t,Ii()),null}function fW(t,e){var n=Vn;Vn|=1;try{return t(e)}finally{Vn=n,Vn===0&&(sx=Ii()+500,_I&&vg())}}function $1(t){Tm!==null&&Tm.tag===0&&!(Vn&6)&&Pv();var e=Vn;Vn|=1;var n=Vc.transition,r=ar;try{if(Vc.transition=null,ar=1,t)return t()}finally{ar=r,Vc.transition=n,Vn=e,!(Vn&6)&&vg()}}function pW(){kl=Xb.current,Dr(Xb)}function a1(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VSe(n)),Hi!==null)for(n=Hi.return;n!==null;){var r=n;switch(Kz(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$_();break;case 3:rx(),Dr(Ha),Dr(jo),rW();break;case 5:nW(r);break;case 4:rx();break;case 13:Dr(Zr);break;case 19:Dr(Zr);break;case 10:Jz(r.type._context);break;case 22:case 23:pW()}n=n.return}if(Es=t,Hi=t=qm(t.current,null),Ws=kl=e,ts=0,O4=null,dW=$I=T1=0,ja=M6=null,yy!==null){for(e=0;e<yy.length;e++)if(n=yy[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yy=null}return t}function Ade(t,e){do{var n=Hi;try{if(Zz(),l9.current=L_,B_){for(var r=ni.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}B_=!1}if(I1=0,ms=Xi=ni=null,j6=!1,P4=0,uW.current=null,n===null||n.return===null){ts=1,O4=e,Hi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ws,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=YY(o);if(p!==null){p.flags&=-257,QY(p,o,a,s,e),p.mode&1&&KY(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){KY(s,c,e),mW();break e}l=Error(Qe(426))}}else if(Hr&&a.mode&1){var y=YY(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),QY(y,o,a,s,e),Yz(ix(l,a));break e}}s=l=ix(l,a),ts!==4&&(ts=2),M6===null?M6=[s]:M6.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=ode(s,l,e);zY(s,w);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hm===null||!Hm.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=ade(s,a,e);zY(s,A);break e}}s=s.return}while(s!==null)}_de(n)}catch(E){e=E,Hi===n&&n!==null&&(Hi=n=n.return);continue}break}while(!0)}function Cde(){var t=F_.current;return F_.current=L_,t===null?L_:t}function mW(){(ts===0||ts===3||ts===2)&&(ts=4),Es===null||!(T1&268435455)&&!($I&268435455)||J0(Es,Ws)}function W_(t,e){var n=Vn;Vn|=2;var r=Cde();(Es!==t||Ws!==e)&&(Tf=null,a1(t,e));do try{g7e();break}catch(i){Ade(t,i)}while(!0);if(Zz(),Vn=n,F_.current=r,Hi!==null)throw Error(Qe(261));return Es=null,Ws=0,ts}function g7e(){for(;Hi!==null;)kde(Hi)}function y7e(){for(;Hi!==null&&!z_e();)kde(Hi)}function kde(t){var e=Ide(t.alternate,t,kl);t.memoizedProps=t.pendingProps,e===null?_de(t):Hi=e,uW.current=null}function _de(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u7e(n,e),n!==null){n.flags&=32767,Hi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ts=6,Hi=null;return}}else if(n=c7e(n,e,kl),n!==null){Hi=n;return}if(e=e.sibling,e!==null){Hi=e;return}Hi=e=t}while(e!==null);ts===0&&(ts=5)}function Gg(t,e,n){var r=ar,i=Vc.transition;try{Vc.transition=null,ar=1,w7e(t,e,n,r)}finally{Vc.transition=i,ar=r}return null}function w7e(t,e,n,r){do Pv();while(Tm!==null);if(Vn&6)throw Error(Qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(J_e(t,s),t===Es&&(Hi=Es=null,Ws=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||PC||(PC=!0,Tde(C_,function(){return Pv(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vc.transition,Vc.transition=null;var o=ar;ar=1;var a=Vn;Vn|=4,uW.current=null,h7e(t,n),vde(n,t),BSe(KM),__=!!GM,KM=GM=null,t.current=n,f7e(n),W_e(),Vn=a,ar=o,Vc.transition=s}else t.current=n;if(PC&&(PC=!1,Tm=t,z_=i),s=t.pendingLanes,s===0&&(Hm=null),q_e(n.stateNode),qa(t,Ii()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(U_)throw U_=!1,t=pD,pD=null,t;return z_&1&&t.tag!==0&&Pv(),s=t.pendingLanes,s&1?t===mD?D6++:(D6=0,mD=t):D6=0,vg(),null}function Pv(){if(Tm!==null){var t=oue(z_),e=Vc.transition,n=ar;try{if(Vc.transition=null,ar=16>t?16:t,Tm===null)var r=!1;else{if(t=Tm,Tm=null,z_=0,Vn&6)throw Error(Qe(331));var i=Vn;for(Vn|=4,xt=t.current;xt!==null;){var s=xt,o=s.child;if(xt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:O6(8,u,s)}var h=u.child;if(h!==null)h.return=u,xt=h;else for(;xt!==null;){u=xt;var f=u.sibling,p=u.return;if(yde(u),u===c){xt=null;break}if(f!==null){f.return=p,xt=f;break}xt=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xt=o;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:O6(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,xt=w;break e}xt=s.return}}var v=t.current;for(xt=v;xt!==null;){o=xt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,xt=b;else e:for(o=v;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:TI(9,a)}}catch(E){di(a,a.return,E)}if(a===o){xt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,xt=A;break e}xt=a.return}}if(Vn=i,vg(),_h&&typeof _h.onPostCommitFiberRoot=="function")try{_h.onPostCommitFiberRoot(xI,t)}catch{}r=!0}return r}finally{ar=n,Vc.transition=e}}return!1}function cQ(t,e,n){e=ix(n,e),e=ode(t,e,1),t=Wm(t,e,1),e=oa(),t!==null&&(JE(t,1,e),qa(t,e))}function di(t,e,n){if(t.tag===3)cQ(t,t,n);else for(;e!==null;){if(e.tag===3){cQ(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hm===null||!Hm.has(r))){t=ix(n,t),t=ade(e,t,1),e=Wm(e,t,1),t=oa(),e!==null&&(JE(e,1,t),qa(e,t));break}}e=e.return}}function b7e(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=oa(),t.pingedLanes|=t.suspendedLanes&n,Es===t&&(Ws&n)===n&&(ts===4||ts===3&&(Ws&130023424)===Ws&&500>Ii()-hW?a1(t,0):dW|=n),qa(t,e)}function Sde(t,e){e===0&&(t.mode&1?(e=EC,EC<<=1,!(EC&130023424)&&(EC=4194304)):e=1);var n=oa();t=Sp(t,e),t!==null&&(JE(t,e,n),qa(t,n))}function v7e(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sde(t,n)}function x7e(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Qe(314))}r!==null&&r.delete(e),Sde(t,n)}var Ide;Ide=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ha.current)La=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return La=!1,l7e(t,e,n);La=!!(t.flags&131072)}else La=!1,Hr&&e.flags&1048576&&Pue(e,R_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;u9(t,e),t=e.pendingProps;var i=ex(e,jo.current);Nv(e,n),i=sW(null,e,r,t,i,n);var s=oW();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Va(r)?(s=!0,N_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eW(e),i.updater=II,e.stateNode=i,i._reactInternals=e,rD(e,r,t,n),e=oD(null,e,r,!0,s,n)):(e.tag=0,Hr&&s&&Gz(e),Uo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(u9(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=A7e(r),t=Nu(r,t),i){case 0:e=sD(null,e,r,t,n);break e;case 1:e=XY(null,e,r,t,n);break e;case 11:e=ZY(null,e,r,t,n);break e;case 14:e=JY(null,e,r,Nu(r.type,t),n);break e}throw Error(Qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nu(r,i),sD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nu(r,i),XY(t,e,r,i,n);case 3:e:{if(dde(e),t===null)throw Error(Qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bue(t,e),M_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ix(Error(Qe(423)),e),e=eQ(t,e,r,n,i);break e}else if(r!==i){i=ix(Error(Qe(424)),e),e=eQ(t,e,r,n,i);break e}else for(Bl=zm(e.stateNode.containerInfo.firstChild),Fl=e,Hr=!0,Hu=null,n=Mue(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tx(),r===i){e=Ip(t,e,n);break e}Uo(t,e,r,n)}e=e.child}return e;case 5:return Lue(e),t===null&&eD(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,YM(r,i)?o=null:s!==null&&YM(r,s)&&(e.flags|=32),ude(t,e),Uo(t,e,o,n),e.child;case 6:return t===null&&eD(e),null;case 13:return hde(t,e,n);case 4:return tW(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nx(e,null,r,n):Uo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nu(r,i),ZY(t,e,r,i,n);case 7:return Uo(t,e,e.pendingProps,n),e.child;case 8:return Uo(t,e,e.pendingProps.children,n),e.child;case 12:return Uo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Cr(j_,r._currentValue),r._currentValue=o,s!==null)if(ad(s.value,o)){if(s.children===i.children&&!Ha.current){e=Ip(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dp(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),tD(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Qe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tD(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Uo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Nv(e,n),i=Kc(i),r=r(i),e.flags|=1,Uo(t,e,r,n),e.child;case 14:return r=e.type,i=Nu(r,e.pendingProps),i=Nu(r.type,i),JY(t,e,r,i,n);case 15:return lde(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nu(r,i),u9(t,e),e.tag=1,Va(r)?(t=!0,N_(e)):t=!1,Nv(e,n),sde(e,r,i),rD(e,r,i,n),oD(null,e,r,!0,t,n);case 19:return fde(t,e,n);case 22:return cde(t,e,n)}throw Error(Qe(156,e.tag))};function Tde(t,e){return nue(t,e)}function E7e(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wc(t,e,n,r){return new E7e(t,e,n,r)}function gW(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A7e(t){if(typeof t=="function")return gW(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oz)return 11;if(t===Mz)return 14}return 2}function qm(t,e){var n=t.alternate;return n===null?(n=Wc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function f9(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gW(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wb:return l1(n.children,i,s,e);case jz:o=8,i|=8;break;case SM:return t=Wc(12,n,e,i|2),t.elementType=SM,t.lanes=s,t;case IM:return t=Wc(13,n,e,i),t.elementType=IM,t.lanes=s,t;case TM:return t=Wc(19,n,e,i),t.elementType=TM,t.lanes=s,t;case Lce:return NI(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dce:o=10;break e;case Bce:o=9;break e;case Oz:o=11;break e;case Mz:o=14;break e;case z0:o=16,r=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=Wc(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function l1(t,e,n,r){return t=Wc(7,t,r,e),t.lanes=n,t}function NI(t,e,n,r){return t=Wc(22,t,r,e),t.elementType=Lce,t.lanes=n,t.stateNode={isHidden:!1},t}function $P(t,e,n){return t=Wc(6,t,null,e),t.lanes=n,t}function NP(t,e,n){return e=Wc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C7e(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dP(0),this.expirationTimes=dP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yW(t,e,n,r,i,s,o,a,l){return t=new C7e(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eW(s),t}function k7e(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zb,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $de(t){if(!t)return ng;t=t._reactInternals;e:{if(hw(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Va(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var n=t.type;if(Va(n))return $ue(t,n,e)}return e}function Nde(t,e,n,r,i,s,o,a,l){return t=yW(n,r,!0,t,i,s,o,a,l),t.context=$de(null),n=t.current,r=oa(),i=Vm(n),s=dp(r,i),s.callback=e??null,Wm(n,s,i),t.current.lanes=i,JE(t,i,r),qa(t,r),t}function PI(t,e,n,r){var i=e.current,s=oa(),o=Vm(i);return n=$de(n),e.context===null?e.context=n:e.pendingContext=n,e=dp(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wm(i,e,o),t!==null&&(ed(t,i,o,s),a9(t,i,o)),o}function H_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uQ(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wW(t,e){uQ(t,e),(t=t.alternate)&&uQ(t,e)}function _7e(){return null}var Pde=typeof reportError=="function"?reportError:function(t){console.error(t)};function bW(t){this._internalRoot=t}RI.prototype.render=bW.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));PI(t,e,null,null)};RI.prototype.unmount=bW.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$1(function(){PI(null,t,null,null)}),e[_p]=null}};function RI(t){this._internalRoot=t}RI.prototype.unstable_scheduleHydration=function(t){if(t){var e=cue();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Z0.length&&e!==0&&e<Z0[n].priority;n++);Z0.splice(n,0,t),n===0&&due(t)}};function vW(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dQ(){}function S7e(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=H_(o);s.call(c)}}var o=Nde(e,r,t,0,null,!1,!1,"",dQ);return t._reactRootContainer=o,t[_p]=o.current,S4(t.nodeType===8?t.parentNode:t),$1(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=H_(l);a.call(c)}}var l=yW(t,0,!1,null,null,!1,!1,"",dQ);return t._reactRootContainer=l,t[_p]=l.current,S4(t.nodeType===8?t.parentNode:t),$1(function(){PI(e,l,n,r)}),l}function OI(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=H_(o);a.call(l)}}PI(e,o,t,i)}else o=S7e(n,e,t,i,r);return H_(o)}aue=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=t6(e.pendingLanes);n!==0&&(Lz(e,n|1),qa(e,Ii()),!(Vn&6)&&(sx=Ii()+500,vg()))}break;case 13:$1(function(){var r=Sp(t,1);if(r!==null){var i=oa();ed(r,t,1,i)}}),wW(t,1)}};Fz=function(t){if(t.tag===13){var e=Sp(t,134217728);if(e!==null){var n=oa();ed(e,t,134217728,n)}wW(t,134217728)}};lue=function(t){if(t.tag===13){var e=Vm(t),n=Sp(t,e);if(n!==null){var r=oa();ed(n,t,e,r)}wW(t,e)}};cue=function(){return ar};uue=function(t,e){var n=ar;try{return ar=t,e()}finally{ar=n}};LM=function(t,e,n){switch(e){case"input":if(PM(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kI(r);if(!i)throw Error(Qe(90));Uce(r),PM(r,i)}}}break;case"textarea":Wce(t,n);break;case"select":e=n.value,e!=null&&Sv(t,!!n.multiple,e,!1)}};Qce=fW;Zce=$1;var I7e={usingClientEntryPoint:!1,Events:[eA,Gb,kI,Kce,Yce,fW]},d5={findFiberByHostInstance:gy,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T7e={bundleType:d5.bundleType,version:d5.version,rendererPackageName:d5.rendererPackageName,rendererConfig:d5.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qp.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eue(t),t===null?null:t.stateNode},findFiberByHostInstance:d5.findFiberByHostInstance||_7e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var RC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!RC.isDisabled&&RC.supportsFiber)try{xI=RC.inject(T7e),_h=RC}catch{}}Xl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I7e;Xl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vW(e))throw Error(Qe(200));return k7e(t,e,null,n)};Xl.createRoot=function(t,e){if(!vW(t))throw Error(Qe(299));var n=!1,r="",i=Pde;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yW(t,1,!1,null,null,n,!1,r,i),t[_p]=e.current,S4(t.nodeType===8?t.parentNode:t),new bW(e)};Xl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=eue(e),t=t===null?null:t.stateNode,t};Xl.flushSync=function(t){return $1(t)};Xl.hydrate=function(t,e,n){if(!jI(e))throw Error(Qe(200));return OI(null,t,e,!0,n)};Xl.hydrateRoot=function(t,e,n){if(!vW(t))throw Error(Qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Pde;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nde(e,null,t,1,n??null,i,!1,s,o),t[_p]=e.current,S4(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new RI(e)};Xl.render=function(t,e,n){if(!jI(e))throw Error(Qe(200));return OI(null,t,e,!1,n)};Xl.unmountComponentAtNode=function(t){if(!jI(t))throw Error(Qe(40));return t._reactRootContainer?($1(function(){OI(null,null,t,!1,function(){t._reactRootContainer=null,t[_p]=null})}),!0):!1};Xl.unstable_batchedUpdates=fW;Xl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jI(n))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return OI(t,e,n,!1,r)};Xl.version="18.3.1-next-f1338f8080-20240426";function Rde(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rde)}catch(t){console.error(t)}}Rde(),Rce.exports=Xl;var Vl=Rce.exports;const jde=Gs(Vl);var Ode,hQ=Vl;Ode=hQ.createRoot,hQ.hydrateRoot;const $7e=1,N7e=1e6;let PP=0;function P7e(){return PP=(PP+1)%Number.MAX_SAFE_INTEGER,PP.toString()}const RP=new Map,fQ=t=>{if(RP.has(t))return;const e=setTimeout(()=>{RP.delete(t),B6({type:"REMOVE_TOAST",toastId:t})},N7e);RP.set(t,e)},R7e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,$7e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?fQ(n):t.toasts.forEach(r=>{fQ(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},p9=[];let m9={toasts:[]};function B6(t){m9=R7e(m9,t),p9.forEach(e=>{e(m9)})}function V_({...t}){const e=P7e(),n=i=>B6({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>B6({type:"DISMISS_TOAST",toastId:e});return B6({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function ma(){const[t,e]=x.useState(m9);return x.useEffect(()=>(p9.push(e),()=>{const n=p9.indexOf(e);n>-1&&p9.splice(n,1)}),[t]),{...t,toast:V_,dismiss:n=>B6({type:"DISMISS_TOAST",toastId:n})}}function Ti(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pQ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mde(...t){return e=>{let n=!1;const r=t.map(i=>{const s=pQ(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():pQ(t[i],null)}}}}function ql(...t){return x.useCallback(Mde(...t),t)}function nA(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:f,children:p,...m}=h,g=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,y=x.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:y,children:p})};c.displayName=s+"Provider";function u(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,m=x.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,j7e(i,...e)]}function j7e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function q_(t){const e=M7e(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(B7e);if(l){const c=l.props.children,u=a.map(h=>h===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var O7e=q_("Slot");function M7e(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=F7e(i),a=L7e(s,i.props);return i.type!==x.Fragment&&(a.ref=r?Mde(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dde=Symbol("radix.slottable");function D7e(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Dde,e}function B7e(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dde}function L7e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function F7e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function U7e(t){const e=t+"CollectionProvider",[n,r]=nA(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,v=Ae.useRef(null),b=Ae.useRef(new Map).current;return d.jsx(i,{scope:y,itemMap:b,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=q_(a),c=Ae.forwardRef((g,y)=>{const{scope:w,children:v}=g,b=s(a,w),A=ql(y,b.collectionRef);return d.jsx(l,{ref:A,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=q_(u),p=Ae.forwardRef((g,y)=>{const{scope:w,children:v,...b}=g,A=Ae.useRef(null),E=ql(y,A),$=s(u,w);return Ae.useEffect(()=>($.itemMap.set(A,{ref:A,...b}),()=>void $.itemMap.delete(A))),d.jsx(f,{[h]:"",ref:E,children:v})});p.displayName=u;function m(g){const y=s(t+"CollectionConsumer",g);return Ae.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort(($,N)=>b.indexOf($.ref.current)-b.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},m,r]}var z7e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ks=z7e.reduce((t,e)=>{const n=q_(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Bde(t,e){t&&Vl.flushSync(()=>t.dispatchEvent(e))}function rg(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function W7e(t,e=globalThis==null?void 0:globalThis.document){const n=rg(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var H7e="DismissableLayer",wD="dismissableLayer.update",V7e="dismissableLayer.pointerDownOutside",q7e="dismissableLayer.focusOutside",mQ,Lde=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xW=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=x.useContext(Lde),[u,h]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),m=ql(e,N=>h(N)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=v>=w,E=K7e(N=>{const R=N.target,M=[...c.branches].some(F=>F.contains(R));!A||M||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},f),$=Y7e(N=>{const R=N.target;[...c.branches].some(F=>F.contains(R))||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},f);return W7e(N=>{v===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},f),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mQ=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gQ(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=mQ)}},[u,f,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gQ())},[u,c]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(wD,N),()=>document.removeEventListener(wD,N)},[]),d.jsx(Ks.div,{...l,ref:m,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Ti(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Ti(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ti(t.onPointerDownCapture,E.onPointerDownCapture)})});xW.displayName=H7e;var G7e="DismissableLayerBranch",Fde=x.forwardRef((t,e)=>{const n=x.useContext(Lde),r=x.useRef(null),i=ql(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx(Ks.div,{...t,ref:i})});Fde.displayName=G7e;function K7e(t,e=globalThis==null?void 0:globalThis.document){const n=rg(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Ude(V7e,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y7e(t,e=globalThis==null?void 0:globalThis.document){const n=rg(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&Ude(q7e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gQ(){const t=new CustomEvent(wD);document.dispatchEvent(t)}function Ude(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Bde(i,s):i.dispatchEvent(s)}var Q7e=xW,Z7e=Fde,ig=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},J7e="Portal",zde=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);ig(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jde.createPortal(d.jsx(Ks.div,{...r,ref:e}),o):null});zde.displayName=J7e;function X7e(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var MI=t=>{const{present:e,children:n}=t,r=eIe(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=ql(r.ref,tIe(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};MI.displayName="Presence";function eIe(t){const[e,n]=x.useState(),r=x.useRef(null),i=x.useRef(t),s=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=X7e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=jC(r.current);s.current=a==="mounted"?c:"none"},[a]),ig(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,p=jC(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ig(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=jC(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(s.current=jC(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function jC(t){return(t==null?void 0:t.animationName)||"none"}function tIe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nIe=w4[" useInsertionEffect ".trim().toString()]||ig;function Wde({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=rIe({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=x.useRef(t!==void 0);x.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=x.useCallback(u=>{var h;if(a){const f=iIe(u)?u(t):u;f!==t&&((h=o.current)==null||h.call(o,f))}else s(u)},[a,t,s,o]);return[l,c]}function rIe({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),i=x.useRef(n),s=x.useRef(e);return nIe(()=>{s.current=e},[e]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function iIe(t){return typeof t=="function"}var sIe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oIe="VisuallyHidden",DI=x.forwardRef((t,e)=>d.jsx(Ks.span,{...t,ref:e,style:{...sIe,...t.style}}));DI.displayName=oIe;var aIe=DI,EW="ToastProvider",[AW,lIe,cIe]=U7e("Toast"),[Hde,YGt]=nA("Toast",[cIe]),[uIe,BI]=Hde(EW),Vde=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=x.useState(null),[c,u]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${EW}\`. Expected non-empty \`string\`.`),d.jsx(AW.Provider,{scope:e,children:d.jsx(uIe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Vde.displayName=EW;var qde="ToastViewport",dIe=["F8"],bD="toast.viewportPause",vD="toast.viewportResume",Gde=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dIe,label:i="Notifications ({hotkey})",...s}=t,o=BI(qde,n),a=lIe(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),h=x.useRef(null),f=ql(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;x.useEffect(()=>{const y=w=>{var b;r.length!==0&&r.every(A=>w[A]||w.code===A)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=l.current,w=h.current;if(m&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(bD);w.dispatchEvent($),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(vD);w.dispatchEvent($),o.isClosePausedRef.current=!1}},A=$=>{!y.contains($.relatedTarget)&&b()},E=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",A),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const v=a().map(b=>{const A=b.ref.current,E=[A,...CIe(A)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return x.useEffect(()=>{const y=h.current;if(y){const w=v=>{var E,$,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const R=document.activeElement,M=v.shiftKey;if(v.target===y&&M){(E=c.current)==null||E.focus();return}const H=g({tabbingDirection:M?"backwards":"forwards"}),L=H.findIndex(k=>k===R);jP(H.slice(L+1))?v.preventDefault():M?($=c.current)==null||$.focus():(N=u.current)==null||N.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,g]),d.jsxs(Z7e,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&d.jsx(xD,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});jP(y)}}),d.jsx(AW.Slot,{scope:n,children:d.jsx(Ks.ol,{tabIndex:-1,...s,ref:f})}),m&&d.jsx(xD,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});jP(y)}})]})});Gde.displayName=qde;var Kde="ToastFocusProxy",xD=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=BI(Kde,n);return d.jsx(DI,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});xD.displayName=Kde;var rA="Toast",hIe="toast.swipeStart",fIe="toast.swipeMove",pIe="toast.swipeCancel",mIe="toast.swipeEnd",Yde=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=Wde({prop:r,defaultProp:i??!0,onChange:s,caller:rA});return d.jsx(MI,{present:n||a,children:d.jsx(wIe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:rg(t.onPause),onResume:rg(t.onResume),onSwipeStart:Ti(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ti(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ti(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ti(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Yde.displayName=rA;var[gIe,yIe]=Hde(rA,{onClose(){}}),wIe=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...m}=t,g=BI(rA,n),[y,w]=x.useState(null),v=ql(e,k=>w(k)),b=x.useRef(null),A=x.useRef(null),E=i||g.duration,$=x.useRef(0),N=x.useRef(E),R=x.useRef(0),{onToastAdd:M,onToastRemove:F}=g,W=rg(()=>{var C;(y==null?void 0:y.contains(document.activeElement))&&((C=g.viewport)==null||C.focus()),o()}),H=x.useCallback(k=>{!k||k===1/0||(window.clearTimeout(R.current),$.current=new Date().getTime(),R.current=window.setTimeout(W,k))},[W]);x.useEffect(()=>{const k=g.viewport;if(k){const C=()=>{H(N.current),c==null||c()},_=()=>{const T=new Date().getTime()-$.current;N.current=N.current-T,window.clearTimeout(R.current),l==null||l()};return k.addEventListener(bD,_),k.addEventListener(vD,C),()=>{k.removeEventListener(bD,_),k.removeEventListener(vD,C)}}},[g.viewport,E,l,c,H]),x.useEffect(()=>{s&&!g.isClosePausedRef.current&&H(E)},[s,E,g.isClosePausedRef,H]),x.useEffect(()=>(M(),()=>F()),[M,F]);const L=x.useMemo(()=>y?nhe(y):null,[y]);return g.viewport?d.jsxs(d.Fragment,{children:[L&&d.jsx(bIe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),d.jsx(gIe,{scope:n,onClose:W,children:Vl.createPortal(d.jsx(AW.ItemSlot,{scope:n,children:d.jsx(Q7e,{asChild:!0,onEscapeKeyDown:Ti(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ks.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ti(t.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Ti(t.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:Ti(t.onPointerMove,k=>{if(!b.current)return;const C=k.clientX-b.current.x,_=k.clientY-b.current.y,T=!!A.current,S=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=S?P(0,C):0,O=S?0:P(0,_),I=k.pointerType==="touch"?10:2,B={x:D,y:O},Q={originalEvent:k,delta:B};T?(A.current=B,OC(fIe,h,Q,{discrete:!1})):yQ(B,g.swipeDirection,I)?(A.current=B,OC(hIe,u,Q,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(C)>I||Math.abs(_)>I)&&(b.current=null)}),onPointerUp:Ti(t.onPointerUp,k=>{const C=A.current,_=k.target;if(_.hasPointerCapture(k.pointerId)&&_.releasePointerCapture(k.pointerId),A.current=null,b.current=null,C){const T=k.currentTarget,S={originalEvent:k,delta:C};yQ(C,g.swipeDirection,g.swipeThreshold)?OC(mIe,p,S,{discrete:!0}):OC(pIe,f,S,{discrete:!0}),T.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),bIe=t=>{const{__scopeToast:e,children:n,...r}=t,i=BI(rA,e),[s,o]=x.useState(!1),[a,l]=x.useState(!1);return EIe(()=>o(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(zde,{asChild:!0,children:d.jsx(DI,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},vIe="ToastTitle",Qde=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ks.div,{...r,ref:e})});Qde.displayName=vIe;var xIe="ToastDescription",Zde=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ks.div,{...r,ref:e})});Zde.displayName=xIe;var Jde="ToastAction",Xde=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(the,{altText:n,asChild:!0,children:d.jsx(CW,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Jde}\`. Expected non-empty \`string\`.`),null)});Xde.displayName=Jde;var ehe="ToastClose",CW=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=yIe(ehe,n);return d.jsx(the,{asChild:!0,children:d.jsx(Ks.button,{type:"button",...r,ref:e,onClick:Ti(t.onClick,i.onClose)})})});CW.displayName=ehe;var the=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx(Ks.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function nhe(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),AIe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nhe(r))}}),e}function OC(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Bde(i,s):i.dispatchEvent(s)}var yQ=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function EIe(t=()=>{}){const e=rg(t);ig(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function AIe(t){return t.nodeType===t.ELEMENT_NODE}function CIe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jP(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var kIe=Vde,rhe=Gde,ihe=Yde,she=Qde,ohe=Zde,ahe=Xde,lhe=CW;function che(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=che(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uhe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=che(t))&&(r&&(r+=" "),r+=e);return r}const wQ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bQ=uhe,dhe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return bQ(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const f=wQ(u)||wQ(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...c,h,f]:c},[]);return bQ(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hhe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SIe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IIe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...SIe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hhe("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(IIe,{ref:s,iconNode:e,className:hhe(`lucide-${_Ie(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=Jt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=Jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Jt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TIe=Jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ie=Jt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NIe=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PIe=Jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=Jt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RIe=Jt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=Jt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=Jt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Jt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jIe=Jt("Diff",[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Jt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=Jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OIe=Jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=Jt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MIe=Jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Jt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DIe=Jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BIe=Jt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LIe=Jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=Jt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FIe=Jt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UIe=Jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zIe=Jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Jt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Jt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WIe=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=Jt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Jt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HIe=Jt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VIe=Jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qIe=Jt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Jt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),SW="-",GIe=t=>{const e=YIe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(SW);return a[0]===""&&a.length!==1&&a.shift(),bhe(a,e)||KIe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bhe=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bhe(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(SW);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},CQ=/^\[(.+)\]$/,KIe=t=>{if(CQ.test(t)){const e=CQ.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},YIe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ZIe(Object.entries(t.classGroups),n).forEach(([s,o])=>{_D(o,r,s,e)}),r},_D=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:kQ(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(QIe(i)){_D(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{_D(o,kQ(e,s),n,r)})})},kQ=(t,e)=>{let n=t;return e.split(SW).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QIe=t=>t.isThemeGetter,ZIe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,JIe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},vhe="!",XIe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let y=0;y<a.length;y++){let w=a[y];if(c===0){if(w===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(w==="/"){h=y;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(vhe),m=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},eTe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tTe=t=>({cache:JIe(t.cacheSize),parseClassName:XIe(t),...GIe(t)}),nTe=/\s+/,rTe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(nTe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=eTe(u).join(":"),w=h?y+vhe:y,v=w+g;if(s.includes(v))continue;s.push(v);const b=i(g,m);for(let A=0;A<b.length;++A){const E=b[A];s.push(w+E)}a=c+(a.length>0?" "+a:a)}return a};function iTe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xhe(e))&&(r&&(r+=" "),r+=n);return r}const xhe=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xhe(t[r]))&&(n&&(n+=" "),n+=e);return n};function sTe(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=tTe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=rTe(l,n);return i(l,u),u}return function(){return s(iTe.apply(null,arguments))}}const Tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ehe=/^\[(?:([a-z-]+):)?(.+)\]$/i,oTe=/^\d+\/\d+$/,aTe=new Set(["px","full","screen"]),lTe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cTe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uTe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dTe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hTe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,df=t=>Rv(t)||aTe.has(t)||oTe.test(t),i0=t=>u3(t,"length",vTe),Rv=t=>!!t&&!Number.isNaN(Number(t)),MP=t=>u3(t,"number",Rv),h5=t=>!!t&&Number.isInteger(Number(t)),fTe=t=>t.endsWith("%")&&Rv(t.slice(0,-1)),ln=t=>Ehe.test(t),s0=t=>lTe.test(t),pTe=new Set(["length","size","percentage"]),mTe=t=>u3(t,pTe,Ahe),gTe=t=>u3(t,"position",Ahe),yTe=new Set(["image","url"]),wTe=t=>u3(t,yTe,ETe),bTe=t=>u3(t,"",xTe),f5=()=>!0,u3=(t,e,n)=>{const r=Ehe.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vTe=t=>cTe.test(t)&&!uTe.test(t),Ahe=()=>!1,xTe=t=>dTe.test(t),ETe=t=>hTe.test(t),ATe=()=>{const t=Tr("colors"),e=Tr("spacing"),n=Tr("blur"),r=Tr("brightness"),i=Tr("borderColor"),s=Tr("borderRadius"),o=Tr("borderSpacing"),a=Tr("borderWidth"),l=Tr("contrast"),c=Tr("grayscale"),u=Tr("hueRotate"),h=Tr("invert"),f=Tr("gap"),p=Tr("gradientColorStops"),m=Tr("gradientColorStopPositions"),g=Tr("inset"),y=Tr("margin"),w=Tr("opacity"),v=Tr("padding"),b=Tr("saturate"),A=Tr("scale"),E=Tr("sepia"),$=Tr("skew"),N=Tr("space"),R=Tr("translate"),M=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ln,e],H=()=>[ln,e],L=()=>["",df,i0],k=()=>["auto",Rv,ln],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ln],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Rv,ln];return{cacheSize:500,separator:":",theme:{colors:[f5],spacing:[df,i0],blur:["none","",s0,ln],brightness:O(),borderColor:[t],borderRadius:["none","","full",s0,ln],borderSpacing:H(),borderWidth:L(),contrast:O(),grayscale:P(),hueRotate:O(),invert:P(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[fTe,i0],inset:W(),margin:W(),opacity:O(),padding:H(),saturate:O(),scale:O(),sepia:P(),skew:O(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",ln]}],container:["container"],columns:[{columns:[s0]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ln]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",h5,ln]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ln]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",h5,ln]}],"grid-cols":[{"grid-cols":[f5]}],"col-start-end":[{col:["auto",{span:["full",h5,ln]},ln]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[f5]}],"row-start-end":[{row:["auto",{span:[h5,ln]},ln]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ln]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ln]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ln,e]}],"min-w":[{"min-w":[ln,e,"min","max","fit"]}],"max-w":[{"max-w":[ln,e,"none","full","min","max","fit","prose",{screen:[s0]},s0]}],h:[{h:[ln,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ln,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ln,e,"auto","min","max","fit"]}],"font-size":[{text:["base",s0,i0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",MP]}],"font-family":[{font:[f5]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ln]}],"line-clamp":[{"line-clamp":["none",Rv,MP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",df,ln]}],"list-image":[{"list-image":["none",ln]}],"list-style-type":[{list:["none","disc","decimal",ln]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",df,i0]}],"underline-offset":[{"underline-offset":["auto",df,ln]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ln]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ln]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),gTe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mTe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wTe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:_()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[df,ln]}],"outline-w":[{outline:[df,i0]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[df,i0]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",s0,bTe]}],"shadow-color":[{shadow:[f5]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",s0,ln]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ln]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",ln]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",ln]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[h5,ln]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ln]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ln]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ln]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[df,i0,MP]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},CTe=sTe(ATe);function aa(...t){return CTe(uhe(t))}const kTe=kIe,Che=x.forwardRef(({className:t,...e},n)=>d.jsx(rhe,{ref:n,className:aa("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Che.displayName=rhe.displayName;const _Te=dhe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),khe=x.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(ihe,{ref:r,className:aa(_Te({variant:e}),t),...n}));khe.displayName=ihe.displayName;const STe=x.forwardRef(({className:t,...e},n)=>d.jsx(ahe,{ref:n,className:aa("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));STe.displayName=ahe.displayName;const _he=x.forwardRef(({className:t,...e},n)=>d.jsx(lhe,{ref:n,className:aa("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(oA,{className:"h-4 w-4"})}));_he.displayName=lhe.displayName;const She=x.forwardRef(({className:t,...e},n)=>d.jsx(she,{ref:n,className:aa("text-sm font-semibold",t),...e}));She.displayName=she.displayName;const Ihe=x.forwardRef(({className:t,...e},n)=>d.jsx(ohe,{ref:n,className:aa("text-sm opacity-90",t),...e}));Ihe.displayName=ohe.displayName;function ITe(){const{toasts:t}=ma();return d.jsxs(kTe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return d.jsxs(khe,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(She,{children:n}),r&&d.jsx(Ihe,{children:r})]}),i,d.jsx(_he,{})]},e)}),d.jsx(Che,{})]})}var _Q=["light","dark"],TTe="(prefers-color-scheme: dark)",$Te=x.createContext(void 0),NTe={setTheme:t=>{},themes:[]},PTe=()=>{var t;return(t=x.useContext($Te))!=null?t:NTe};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?_Q.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,g=!1,y=!0)=>{let w=o?o[m]:m,v=g?m+"|| ''":`'${w}'`,b="";return i&&y&&!g&&_Q.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?g||w?b+=`c.add(${v})`:b+="null":w&&(b+=`d[s](n,${v})`),b},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${TTe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var RTe=t=>{switch(t){case"success":return MTe;case"info":return BTe;case"warning":return DTe;case"error":return LTe;default:return null}},jTe=Array(12).fill(0),OTe=({visible:t,className:e})=>Ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ae.createElement("div",{className:"sonner-spinner"},jTe.map((n,r)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),MTe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DTe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BTe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LTe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FTe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UTe=()=>{let[t,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},SD=1,zTe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:SD++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Ae.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(HTe(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||SD++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ia=new zTe,WTe=(t,e)=>{let n=(e==null?void 0:e.id)||SD++;return Ia.addToast({title:t,...e,id:n}),n},HTe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VTe=WTe,qTe=()=>Ia.toasts,GTe=()=>Ia.getActiveToasts();Object.assign(VTe,{success:Ia.success,info:Ia.info,warning:Ia.warning,error:Ia.error,custom:Ia.custom,message:Ia.message,promise:Ia.promise,dismiss:Ia.dismiss,loading:Ia.loading},{getHistory:qTe,getToasts:GTe});function KTe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}KTe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function MC(t){return t.label!==void 0}var YTe=3,QTe="32px",ZTe="16px",SQ=4e3,JTe=356,XTe=14,e$e=20,t$e=200;function mu(...t){return t.filter(Boolean).join(" ")}function n$e(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var r$e=t=>{var e,n,r,i,s,o,a,l,c,u,h;let{invert:f,toast:p,unstyled:m,interacting:g,setHeights:y,visibleToasts:w,heights:v,index:b,toasts:A,expanded:E,removeToast:$,defaultRichColors:N,closeButton:R,style:M,cancelButtonStyle:F,actionButtonStyle:W,className:H="",descriptionClassName:L="",duration:k,position:C,gap:_,loadingIcon:T,expandByDefault:S,classNames:P,icons:D,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:I}=t,[B,Q]=Ae.useState(null),[j,Y]=Ae.useState(null),[ee,Z]=Ae.useState(!1),[oe,de]=Ae.useState(!1),[ce,he]=Ae.useState(!1),[be,fe]=Ae.useState(!1),[ke,we]=Ae.useState(!1),[Fe,Me]=Ae.useState(0),[Se,ve]=Ae.useState(0),Oe=Ae.useRef(p.duration||k||SQ),Le=Ae.useRef(null),Ce=Ae.useRef(null),De=b===0,We=b+1<=w,rt=p.type,G=p.dismissible!==!1,U=p.className||"",z=p.descriptionClassName||"",X=Ae.useMemo(()=>v.findIndex(ot=>ot.toastId===p.id)||0,[v,p.id]),ne=Ae.useMemo(()=>{var ot;return(ot=p.closeButton)!=null?ot:R},[p.closeButton,R]),ie=Ae.useMemo(()=>p.duration||k||SQ,[p.duration,k]),le=Ae.useRef(0),Be=Ae.useRef(0),Xe=Ae.useRef(0),Ke=Ae.useRef(null),[et,Pe]=C.split("-"),Tt=Ae.useMemo(()=>v.reduce((ot,Qt,q)=>q>=X?ot:ot+Qt.height,0),[v,X]),dn=UTe(),Bt=p.invert||f,ze=rt==="loading";Be.current=Ae.useMemo(()=>X*_+Tt,[X,Tt]),Ae.useEffect(()=>{Oe.current=ie},[ie]),Ae.useEffect(()=>{Z(!0)},[]),Ae.useEffect(()=>{let ot=Ce.current;if(ot){let Qt=ot.getBoundingClientRect().height;return ve(Qt),y(q=>[{toastId:p.id,height:Qt,position:p.position},...q]),()=>y(q=>q.filter(K=>K.toastId!==p.id))}},[y,p.id]),Ae.useLayoutEffect(()=>{if(!ee)return;let ot=Ce.current,Qt=ot.style.height;ot.style.height="auto";let q=ot.getBoundingClientRect().height;ot.style.height=Qt,ve(q),y(K=>K.find(se=>se.toastId===p.id)?K.map(se=>se.toastId===p.id?{...se,height:q}:se):[{toastId:p.id,height:q,position:p.position},...K])},[ee,p.title,p.description,y,p.id]);let Ln=Ae.useCallback(()=>{de(!0),Me(Be.current),y(ot=>ot.filter(Qt=>Qt.toastId!==p.id)),setTimeout(()=>{$(p)},t$e)},[p,$,y,Be]);Ae.useEffect(()=>{if(p.promise&&rt==="loading"||p.duration===1/0||p.type==="loading")return;let ot;return E||g||I&&dn?(()=>{if(Xe.current<le.current){let Qt=new Date().getTime()-le.current;Oe.current=Oe.current-Qt}Xe.current=new Date().getTime()})():Oe.current!==1/0&&(le.current=new Date().getTime(),ot=setTimeout(()=>{var Qt;(Qt=p.onAutoClose)==null||Qt.call(p,p),Ln()},Oe.current)),()=>clearTimeout(ot)},[E,g,p,rt,I,dn,Ln]),Ae.useEffect(()=>{p.delete&&Ln()},[Ln,p.delete]);function vn(){var ot,Qt,q;return D!=null&&D.loading?Ae.createElement("div",{className:mu(P==null?void 0:P.loader,(ot=p==null?void 0:p.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":rt==="loading"},D.loading):T?Ae.createElement("div",{className:mu(P==null?void 0:P.loader,(Qt=p==null?void 0:p.classNames)==null?void 0:Qt.loader,"sonner-loader"),"data-visible":rt==="loading"},T):Ae.createElement(OTe,{className:mu(P==null?void 0:P.loader,(q=p==null?void 0:p.classNames)==null?void 0:q.loader),visible:rt==="loading"})}return Ae.createElement("li",{tabIndex:0,ref:Ce,className:mu(H,U,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[rt],(n=p==null?void 0:p.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":ee,"data-promise":!!p.promise,"data-swiped":ke,"data-removed":oe,"data-visible":We,"data-y-position":et,"data-x-position":Pe,"data-index":b,"data-front":De,"data-swiping":ce,"data-dismissible":G,"data-type":rt,"data-invert":Bt,"data-swipe-out":be,"data-swipe-direction":j,"data-expanded":!!(E||S&&ee),style:{"--index":b,"--toasts-before":b,"--z-index":A.length-b,"--offset":`${oe?Fe:Be.current}px`,"--initial-height":S?"auto":`${Se}px`,...M,...p.style},onDragEnd:()=>{he(!1),Q(null),Ke.current=null},onPointerDown:ot=>{ze||!G||(Le.current=new Date,Me(Be.current),ot.target.setPointerCapture(ot.pointerId),ot.target.tagName!=="BUTTON"&&(he(!0),Ke.current={x:ot.clientX,y:ot.clientY}))},onPointerUp:()=>{var ot,Qt,q,K;if(be||!G)return;Ke.current=null;let se=Number(((ot=Ce.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),re=Number(((Qt=Ce.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ae=new Date().getTime()-((q=Le.current)==null?void 0:q.getTime()),ge=B==="x"?se:re,$e=Math.abs(ge)/ae;if(Math.abs(ge)>=e$e||$e>.11){Me(Be.current),(K=p.onDismiss)==null||K.call(p,p),Y(B==="x"?se>0?"right":"left":re>0?"down":"up"),Ln(),fe(!0),we(!1);return}he(!1),Q(null)},onPointerMove:ot=>{var Qt,q,K,se;if(!Ke.current||!G||((Qt=window.getSelection())==null?void 0:Qt.toString().length)>0)return;let re=ot.clientY-Ke.current.y,ae=ot.clientX-Ke.current.x,ge=(q=t.swipeDirections)!=null?q:n$e(C);!B&&(Math.abs(ae)>1||Math.abs(re)>1)&&Q(Math.abs(ae)>Math.abs(re)?"x":"y");let $e={x:0,y:0};B==="y"?(ge.includes("top")||ge.includes("bottom"))&&(ge.includes("top")&&re<0||ge.includes("bottom")&&re>0)&&($e.y=re):B==="x"&&(ge.includes("left")||ge.includes("right"))&&(ge.includes("left")&&ae<0||ge.includes("right")&&ae>0)&&($e.x=ae),(Math.abs($e.x)>0||Math.abs($e.y)>0)&&we(!0),(K=Ce.current)==null||K.style.setProperty("--swipe-amount-x",`${$e.x}px`),(se=Ce.current)==null||se.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},ne&&!p.jsx?Ae.createElement("button",{"aria-label":O,"data-disabled":ze,"data-close-button":!0,onClick:ze||!G?()=>{}:()=>{var ot;Ln(),(ot=p.onDismiss)==null||ot.call(p,p)},className:mu(P==null?void 0:P.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=D==null?void 0:D.close)!=null?s:FTe):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ae.createElement(Ae.Fragment,null,rt||p.icon||p.promise?Ae.createElement("div",{"data-icon":"",className:mu(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||vn():null,p.type!=="loading"?p.icon||(D==null?void 0:D[rt])||RTe(rt):null):null,Ae.createElement("div",{"data-content":"",className:mu(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},Ae.createElement("div",{"data-title":"",className:mu(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?Ae.createElement("div",{"data-description":"",className:mu(L,z,P==null?void 0:P.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&MC(p.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:ot=>{var Qt,q;MC(p.cancel)&&G&&((q=(Qt=p.cancel).onClick)==null||q.call(Qt,ot),Ln())},className:mu(P==null?void 0:P.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&MC(p.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:ot=>{var Qt,q;MC(p.action)&&((q=(Qt=p.action).onClick)==null||q.call(Qt,ot),!ot.defaultPrevented&&Ln())},className:mu(P==null?void 0:P.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function IQ(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function i$e(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?ZTe:QTe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var s$e=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:p,visibleToasts:m=YTe,toastOptions:g,dir:y=IQ(),gap:w=XTe,loadingIcon:v,icons:b,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:E}=t,[$,N]=Ae.useState([]),R=Ae.useMemo(()=>Array.from(new Set([r].concat($.filter(I=>I.position).map(I=>I.position)))),[$,r]),[M,F]=Ae.useState([]),[W,H]=Ae.useState(!1),[L,k]=Ae.useState(!1),[C,_]=Ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=Ae.useRef(null),S=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=Ae.useRef(null),D=Ae.useRef(!1),O=Ae.useCallback(I=>{N(B=>{var Q;return(Q=B.find(j=>j.id===I.id))!=null&&Q.delete||Ia.dismiss(I.id),B.filter(({id:j})=>j!==I.id)})},[]);return Ae.useEffect(()=>Ia.subscribe(I=>{if(I.dismiss){N(B=>B.map(Q=>Q.id===I.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{jde.flushSync(()=>{N(B=>{let Q=B.findIndex(j=>j.id===I.id);return Q!==-1?[...B.slice(0,Q),{...B[Q],...I},...B.slice(Q+1)]:[I,...B]})})})}),[]),Ae.useEffect(()=>{if(u!=="system"){_(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_("dark"):_("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:B})=>{_(B?"dark":"light")})}catch{I.addListener(({matches:Q})=>{try{_(Q?"dark":"light")}catch(j){console.error(j)}})}},[u]),Ae.useEffect(()=>{$.length<=1&&H(!1)},[$]),Ae.useEffect(()=>{let I=B=>{var Q,j;i.every(Y=>B[Y]||B.code===Y)&&(H(!0),(Q=T.current)==null||Q.focus()),B.code==="Escape"&&(document.activeElement===T.current||(j=T.current)!=null&&j.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[i]),Ae.useEffect(()=>{if(T.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,D.current=!1)}},[T.current]),Ae.createElement("section",{ref:e,"aria-label":`${A} ${S}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((I,B)=>{var Q;let[j,Y]=I.split("-");return $.length?Ae.createElement("ol",{key:I,dir:y==="auto"?IQ():y,tabIndex:-1,ref:T,className:a,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":j,"data-lifted":W&&$.length>1&&!s,"data-x-position":Y,style:{"--front-toast-height":`${((Q=M[0])==null?void 0:Q.height)||0}px`,"--width":`${JTe}px`,"--gap":`${w}px`,...p,...i$e(l,c)},onBlur:ee=>{D.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(D.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||D.current||(D.current=!0,P.current=ee.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{L||H(!1)},onDragEnd:()=>H(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},$.filter(ee=>!ee.position&&B===0||ee.position===I).map((ee,Z)=>{var oe,de;return Ae.createElement(r$e,{key:ee.id,icons:b,index:Z,toast:ee,defaultRichColors:h,duration:(oe=g==null?void 0:g.duration)!=null?oe:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:o,interacting:L,position:I,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:O,toasts:$.filter(ce=>ce.position==ee.position),heights:M.filter(ce=>ce.position==ee.position),setHeights:F,expandByDefault:s,gap:w,loadingIcon:v,expanded:W,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const o$e=({...t})=>{const{theme:e="system"}=PTe();return d.jsx(s$e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},a$e=["top","right","bottom","left"],Tp=Math.min,Co=Math.max,M4=Math.round,DC=Math.floor,Ih=t=>({x:t,y:t}),l$e={left:"right",right:"left",bottom:"top",top:"bottom"},c$e={start:"end",end:"start"};function ID(t,e,n){return Co(t,Tp(e,n))}function Hh(t,e){return typeof t=="function"?t(e):t}function $p(t){return t.split("-")[0]}function d3(t){return t.split("-")[1]}function IW(t){return t==="x"?"y":"x"}function TW(t){return t==="y"?"height":"width"}const u$e=new Set(["top","bottom"]);function xh(t){return u$e.has($p(t))?"y":"x"}function $W(t){return IW(xh(t))}function d$e(t,e,n){n===void 0&&(n=!1);const r=d3(t),i=$W(t),s=TW(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=K_(o)),[o,K_(o)]}function h$e(t){const e=K_(t);return[TD(t),e,TD(e)]}function TD(t){return t.replace(/start|end/g,e=>c$e[e])}const TQ=["left","right"],$Q=["right","left"],f$e=["top","bottom"],p$e=["bottom","top"];function m$e(t,e,n){switch(t){case"top":case"bottom":return n?e?$Q:TQ:e?TQ:$Q;case"left":case"right":return e?f$e:p$e;default:return[]}}function g$e(t,e,n,r){const i=d3(t);let s=m$e($p(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(TD)))),s}function K_(t){return t.replace(/left|right|bottom|top/g,e=>l$e[e])}function y$e(t){return{top:0,right:0,bottom:0,left:0,...t}}function The(t){return typeof t!="number"?y$e(t):{top:t,right:t,bottom:t,left:t}}function Y_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function NQ(t,e,n){let{reference:r,floating:i}=t;const s=xh(e),o=$W(e),a=TW(o),l=$p(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(d3(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const w$e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=NQ(c,r,l),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:w}=a[g],{x:v,y:b,data:A,reset:E}=await w({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,h=b??h,p={...p,[y]:{...p[y],...A}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:h}=NQ(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function ox(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Hh(e,t),m=The(p),y=a[f?h==="floating"?"reference":"floating":h],w=Y_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Y_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(w.top-E.top+m.top)/A.y,bottom:(E.bottom-w.bottom+m.bottom)/A.y,left:(w.left-E.left+m.left)/A.x,right:(E.right-w.right+m.right)/A.x}}const b$e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Hh(t,e)||{};if(c==null)return{};const h=The(u),f={x:n,y:r},p=$W(i),m=TW(p),g=await o.getDimensions(c),y=p==="y",w=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",A=s.reference[m]+s.reference[p]-f[p]-s.floating[m],E=f[p]-s.reference[p],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=$?$[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement($)))&&(N=a.floating[b]||s.floating[m]);const R=A/2-E/2,M=N/2-g[m]/2-1,F=Tp(h[w],M),W=Tp(h[v],M),H=F,L=N-g[m]-W,k=N/2-g[m]/2+R,C=ID(H,k,L),_=!l.arrow&&d3(i)!=null&&k!==C&&s.reference[m]/2-(k<H?F:W)-g[m]/2<0,T=_?k<H?k-H:k-L:0;return{[p]:f[p]+T,data:{[p]:C,centerOffset:k-C-T,..._&&{alignmentOffset:T}},reset:_}}}),v$e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Hh(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=$p(i),v=xh(a),b=$p(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(b||!g?[K_(a)]:h$e(a)),$=m!=="none";!f&&$&&E.push(...g$e(a,g,m,A));const N=[a,...E],R=await ox(e,y),M=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&M.push(R[w]),h){const k=d$e(i,o,A);M.push(R[k[0]],R[k[1]])}if(F=[...F,{placement:i,overflows:M}],!M.every(k=>k<=0)){var W,H;const k=(((W=s.flip)==null?void 0:W.index)||0)+1,C=N[k];if(C&&(!(h==="alignment"?v!==xh(C):!1)||F.every(S=>S.overflows[0]>0&&xh(S.placement)===v)))return{data:{index:k,overflows:F},reset:{placement:C}};let _=(H=F.filter(T=>T.overflows[0]<=0).sort((T,S)=>T.overflows[1]-S.overflows[1])[0])==null?void 0:H.placement;if(!_)switch(p){case"bestFit":{var L;const T=(L=F.filter(S=>{if($){const P=xh(S.placement);return P===v||P==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(P=>P>0).reduce((P,D)=>P+D,0)]).sort((S,P)=>S[1]-P[1])[0])==null?void 0:L[0];T&&(_=T);break}case"initialPlacement":_=a;break}if(i!==_)return{reset:{placement:_}}}return{}}}};function PQ(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RQ(t){return a$e.some(e=>t[e]>=0)}const x$e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Hh(t,e);switch(r){case"referenceHidden":{const s=await ox(e,{...i,elementContext:"reference"}),o=PQ(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RQ(o)}}}case"escaped":{const s=await ox(e,{...i,altBoundary:!0}),o=PQ(s,n.floating);return{data:{escapedOffsets:o,escaped:RQ(o)}}}default:return{}}}}},$he=new Set(["left","top"]);async function E$e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=$p(n),a=d3(n),l=xh(n)==="y",c=$he.has(o)?-1:1,u=s&&l?-1:1,h=Hh(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const A$e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await E$e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},C$e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...l}=Hh(t,e),c={x:n,y:r},u=await ox(e,l),h=xh($p(i)),f=IW(h);let p=c[f],m=c[h];if(s){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=p+u[y],b=p-u[w];p=ID(v,p,b)}if(o){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=m+u[y],b=m-u[w];m=ID(v,m,b)}const g=a.fn({...e,[f]:p,[h]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[h]:o}}}}}},k$e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hh(t,e),u={x:n,y:r},h=xh(i),f=IW(h);let p=u[f],m=u[h];const g=Hh(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=f==="y"?"height":"width",A=s.reference[f]-s.floating[b]+y.mainAxis,E=s.reference[f]+s.reference[b]-y.mainAxis;p<A?p=A:p>E&&(p=E)}if(c){var w,v;const b=f==="y"?"width":"height",A=$he.has($p(i)),E=s.reference[h]-s.floating[b]+(A&&((w=o.offset)==null?void 0:w[h])||0)+(A?0:y.crossAxis),$=s.reference[h]+s.reference[b]+(A?0:((v=o.offset)==null?void 0:v[h])||0)-(A?y.crossAxis:0);m<E?m=E:m>$&&(m=$)}return{[f]:p,[h]:m}}}},_$e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Hh(t,e),u=await ox(e,c),h=$p(i),f=d3(i),p=xh(i)==="y",{width:m,height:g}=s.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,y=f==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=m-u.left-u.right,A=Tp(g-u[y],v),E=Tp(m-u[w],b),$=!e.middlewareData.shift;let N=A,R=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=v),$&&!f){const F=Co(u.left,0),W=Co(u.right,0),H=Co(u.top,0),L=Co(u.bottom,0);p?R=m-2*(F!==0||W!==0?F+W:Co(u.left,u.right)):N=g-2*(H!==0||L!==0?H+L:Co(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:N});const M=await o.getDimensions(a.floating);return m!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function FI(){return typeof window<"u"}function h3(t){return Nhe(t)?(t.nodeName||"").toLowerCase():"#document"}function Ul(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tf(t){var e;return(e=(Nhe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Nhe(t){return FI()?t instanceof Node||t instanceof Ul(t).Node:!1}function Jo(t){return FI()?t instanceof Element||t instanceof Ul(t).Element:!1}function Vh(t){return FI()?t instanceof HTMLElement||t instanceof Ul(t).HTMLElement:!1}function jQ(t){return!FI()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ul(t).ShadowRoot}const S$e=new Set(["inline","contents"]);function aA(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ld(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!S$e.has(i)}const I$e=new Set(["table","td","th"]);function T$e(t){return I$e.has(h3(t))}const $$e=[":popover-open",":modal"];function UI(t){return $$e.some(e=>{try{return t.matches(e)}catch{return!1}})}const N$e=["transform","translate","scale","rotate","perspective"],P$e=["transform","translate","scale","rotate","perspective","filter"],R$e=["paint","layout","strict","content"];function NW(t){const e=PW(),n=Jo(t)?ld(t):t;return N$e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||P$e.some(r=>(n.willChange||"").includes(r))||R$e.some(r=>(n.contain||"").includes(r))}function j$e(t){let e=sg(t);for(;Vh(e)&&!ax(e);){if(NW(e))return e;if(UI(e))return null;e=sg(e)}return null}function PW(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O$e=new Set(["html","body","#document"]);function ax(t){return O$e.has(h3(t))}function ld(t){return Ul(t).getComputedStyle(t)}function zI(t){return Jo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sg(t){if(h3(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jQ(t)&&t.host||tf(t);return jQ(e)?e.host:e}function Phe(t){const e=sg(t);return ax(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vh(e)&&aA(e)?e:Phe(e)}function D4(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Phe(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ul(i);if(s){const a=$D(o);return e.concat(o,o.visualViewport||[],aA(i)?i:[],a&&n?D4(a):[])}return e.concat(i,D4(i,[],n))}function $D(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Rhe(t){const e=ld(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vh(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=M4(n)!==s||M4(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function RW(t){return Jo(t)?t:t.contextElement}function jv(t){const e=RW(t);if(!Vh(e))return Ih(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Rhe(e);let o=(s?M4(n.width):n.width)/r,a=(s?M4(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const M$e=Ih(0);function jhe(t){const e=Ul(t);return!PW()||!e.visualViewport?M$e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D$e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ul(t)?!1:e}function N1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=RW(t);let o=Ih(1);e&&(r?Jo(r)&&(o=jv(r)):o=jv(t));const a=D$e(s,n,r)?jhe(s):Ih(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=Ul(s),p=r&&Jo(r)?Ul(r):r;let m=f,g=$D(m);for(;g&&r&&p!==m;){const y=jv(g),w=g.getBoundingClientRect(),v=ld(g),b=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,A=w.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=b,c+=A,m=Ul(g),g=$D(m)}}return Y_({width:u,height:h,x:l,y:c})}function jW(t,e){const n=zI(t).scrollLeft;return e?e.left+n:N1(tf(t)).left+n}function Ohe(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:jW(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function B$e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=tf(r),a=e?UI(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ih(1);const u=Ih(0),h=Vh(r);if((h||!h&&!s)&&((h3(r)!=="body"||aA(o))&&(l=zI(r)),Vh(r))){const p=N1(r);c=jv(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!s?Ohe(o,l,!0):Ih(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function L$e(t){return Array.from(t.getClientRects())}function F$e(t){const e=tf(t),n=zI(t),r=t.ownerDocument.body,i=Co(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Co(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jW(t);const a=-n.scrollTop;return ld(r).direction==="rtl"&&(o+=Co(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function U$e(t,e){const n=Ul(t),r=tf(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=PW();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const z$e=new Set(["absolute","fixed"]);function W$e(t,e){const n=N1(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Vh(t)?jv(t):Ih(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function OQ(t,e,n){let r;if(e==="viewport")r=U$e(t,n);else if(e==="document")r=F$e(tf(t));else if(Jo(e))r=W$e(e,n);else{const i=jhe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Y_(r)}function Mhe(t,e){const n=sg(t);return n===e||!Jo(n)||ax(n)?!1:ld(n).position==="fixed"||Mhe(n,e)}function H$e(t,e){const n=e.get(t);if(n)return n;let r=D4(t,[],!1).filter(a=>Jo(a)&&h3(a)!=="body"),i=null;const s=ld(t).position==="fixed";let o=s?sg(t):t;for(;Jo(o)&&!ax(o);){const a=ld(o),l=NW(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&z$e.has(i.position)||aA(o)&&!l&&Mhe(t,o))?r=r.filter(u=>u!==o):i=a,o=sg(o)}return e.set(t,r),r}function V$e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?UI(e)?[]:H$e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=OQ(e,u,i);return c.top=Co(h.top,c.top),c.right=Tp(h.right,c.right),c.bottom=Tp(h.bottom,c.bottom),c.left=Co(h.left,c.left),c},OQ(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function q$e(t){const{width:e,height:n}=Rhe(t);return{width:e,height:n}}function G$e(t,e,n){const r=Vh(e),i=tf(e),s=n==="fixed",o=N1(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ih(0);function c(){l.x=jW(i)}if(r||!r&&!s)if((h3(e)!=="body"||aA(i))&&(a=zI(e)),r){const p=N1(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?Ohe(i,a):Ih(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function DP(t){return ld(t).position==="static"}function MQ(t,e){if(!Vh(t)||ld(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tf(t)===n&&(n=n.ownerDocument.body),n}function Dhe(t,e){const n=Ul(t);if(UI(t))return n;if(!Vh(t)){let i=sg(t);for(;i&&!ax(i);){if(Jo(i)&&!DP(i))return i;i=sg(i)}return n}let r=MQ(t,e);for(;r&&T$e(r)&&DP(r);)r=MQ(r,e);return r&&ax(r)&&DP(r)&&!NW(r)?n:r||j$e(t)||n}const K$e=async function(t){const e=this.getOffsetParent||Dhe,n=this.getDimensions,r=await n(t.floating);return{reference:G$e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y$e(t){return ld(t).direction==="rtl"}const Q$e={convertOffsetParentRelativeRectToViewportRelativeRect:B$e,getDocumentElement:tf,getClippingRect:V$e,getOffsetParent:Dhe,getElementRects:K$e,getClientRects:L$e,getDimensions:q$e,getScale:jv,isElement:Jo,isRTL:Y$e};function Bhe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Z$e(t,e){let n=null,r;const i=tf(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const m=DC(h),g=DC(i.clientWidth-(u+f)),y=DC(i.clientHeight-(h+p)),w=DC(u),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Co(0,Tp(1,l))||1};let A=!0;function E($){const N=$[0].intersectionRatio;if(N!==l){if(!A)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!Bhe(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return o(!0),s}function Lhe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=RW(t),u=i||s?[...c?D4(c):[],...D4(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=c&&a?Z$e(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?N1(t):null;l&&y();function y(){const w=N1(t);g&&!Bhe(g,w)&&n(),g=w,m=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const BP=ox,J$e=A$e,X$e=C$e,eNe=v$e,tNe=_$e,nNe=x$e,DQ=b$e,rNe=k$e,iNe=(t,e,n)=>{const r=new Map,i={platform:Q$e,...n},s={...i.platform,_c:r};return w$e(t,e,{...i,platform:s})};var sNe=typeof document<"u",oNe=function(){},g9=sNe?x.useLayoutEffect:oNe;function Q_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Q_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Q_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Fhe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BQ(t,e){const n=Fhe(t);return Math.round(e*n)/n}function LP(t){const e=x.useRef(t);return g9(()=>{e.current=t}),e}function Uhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(r);Q_(f,r)||p(r);const[m,g]=x.useState(null),[y,w]=x.useState(null),v=x.useCallback(S=>{S!==$.current&&($.current=S,g(S))},[]),b=x.useCallback(S=>{S!==N.current&&(N.current=S,w(S))},[]),A=s||m,E=o||y,$=x.useRef(null),N=x.useRef(null),R=x.useRef(u),M=l!=null,F=LP(l),W=LP(i),H=LP(c),L=x.useCallback(()=>{if(!$.current||!N.current)return;const S={placement:e,strategy:n,middleware:f};W.current&&(S.platform=W.current),iNe($.current,N.current,S).then(P=>{const D={...P,isPositioned:H.current!==!1};k.current&&!Q_(R.current,D)&&(R.current=D,Vl.flushSync(()=>{h(D)}))})},[f,e,n,W,H]);g9(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(S=>({...S,isPositioned:!1})))},[c]);const k=x.useRef(!1);g9(()=>(k.current=!0,()=>{k.current=!1}),[]),g9(()=>{if(A&&($.current=A),E&&(N.current=E),A&&E){if(F.current)return F.current(A,E,L);L()}},[A,E,L,F,M]);const C=x.useMemo(()=>({reference:$,floating:N,setReference:v,setFloating:b}),[v,b]),_=x.useMemo(()=>({reference:A,floating:E}),[A,E]),T=x.useMemo(()=>{const S={position:n,left:0,top:0};if(!_.floating)return S;const P=BQ(_.floating,u.x),D=BQ(_.floating,u.y);return a?{...S,transform:"translate("+P+"px, "+D+"px)",...Fhe(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:D}},[n,a,_.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:C,elements:_,floatingStyles:T}),[u,L,C,_,T])}const aNe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DQ({element:r.current,padding:i}).fn(n):{}:r?DQ({element:r,padding:i}).fn(n):{}}}},OW=(t,e)=>({...J$e(t),options:[t,e]}),zhe=(t,e)=>({...X$e(t),options:[t,e]}),lNe=(t,e)=>({...rNe(t),options:[t,e]}),Whe=(t,e)=>({...eNe(t),options:[t,e]}),Hhe=(t,e)=>({...tNe(t),options:[t,e]}),cNe=(t,e)=>({...nNe(t),options:[t,e]}),uNe=(t,e)=>({...aNe(t),options:[t,e]});var dNe="Arrow",Vhe=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return d.jsx(Ks.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vhe.displayName=dNe;var hNe=Vhe;function qhe(t){const[e,n]=x.useState(void 0);return ig(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ghe="Popper",[Khe,Yhe]=nA(Ghe),[ZGt,Qhe]=Khe(Ghe),Zhe="PopperAnchor",Jhe=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Qhe(Zhe,n),o=x.useRef(null),a=ql(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ks.div,{...i,ref:a})});Jhe.displayName=Zhe;var MW="PopperContent",[fNe,pNe]=Khe(MW),Xhe=x.forwardRef((t,e)=>{var ee,Z,oe,de,ce,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,y=Qhe(MW,n),[w,v]=x.useState(null),b=ql(e,be=>v(be)),[A,E]=x.useState(null),$=qhe(A),N=($==null?void 0:$.width)??0,R=($==null?void 0:$.height)??0,M=r+(s!=="center"?"-"+s:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(c)?c:[c],H=W.length>0,L={padding:F,boundary:W.filter(gNe),altBoundary:H},{refs:k,floatingStyles:C,placement:_,isPositioned:T,middlewareData:S}=Uhe({strategy:"fixed",placement:M,whileElementsMounted:(...be)=>Lhe(...be,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[OW({mainAxis:i+R,alignmentAxis:o}),l&&zhe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?lNe():void 0,...L}),l&&Whe({...L}),Hhe({...L,apply:({elements:be,rects:fe,availableWidth:ke,availableHeight:we})=>{const{width:Fe,height:Me}=fe.reference,Se=be.floating.style;Se.setProperty("--radix-popper-available-width",`${ke}px`),Se.setProperty("--radix-popper-available-height",`${we}px`),Se.setProperty("--radix-popper-anchor-width",`${Fe}px`),Se.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),A&&uNe({element:A,padding:a}),yNe({arrowWidth:N,arrowHeight:R}),f&&cNe({strategy:"referenceHidden",...L})]}),[P,D]=nfe(_),O=rg(m);ig(()=>{T&&(O==null||O())},[T,O]);const I=(ee=S.arrow)==null?void 0:ee.x,B=(Z=S.arrow)==null?void 0:Z.y,Q=((oe=S.arrow)==null?void 0:oe.centerOffset)!==0,[j,Y]=x.useState();return ig(()=>{w&&Y(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:T?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(de=S.transformOrigin)==null?void 0:de.x,(ce=S.transformOrigin)==null?void 0:ce.y].join(" "),...((he=S.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(fNe,{scope:n,placedSide:P,onArrowChange:E,arrowX:I,arrowY:B,shouldHideArrow:Q,children:d.jsx(Ks.div,{"data-side":P,"data-align":D,...g,ref:b,style:{...g.style,animation:T?void 0:"none"}})})})});Xhe.displayName=MW;var efe="PopperArrow",mNe={top:"bottom",right:"left",bottom:"top",left:"right"},tfe=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=pNe(efe,r),o=mNe[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(hNe,{...i,ref:n,style:{...i.style,display:"block"}})})});tfe.displayName=efe;function gNe(t){return t!==null}var yNe=t=>({name:"transformOrigin",options:t,fn(e){var y,w,v;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=nfe(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?h:`${f}px`,g=`${-l}px`):c==="top"?(m=o?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?h:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:m,y:g}}}});function nfe(t){const[e,n="center"]=t.split("-");return[e,n]}var wNe=Jhe,bNe=Xhe,vNe=tfe,[WI,JGt]=nA("Tooltip",[Yhe]),DW=Yhe(),rfe="TooltipProvider",xNe=700,LQ="tooltip.open",[ENe,ife]=WI(rfe),sfe=t=>{const{__scopeTooltip:e,delayDuration:n=xNe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(ENe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};sfe.displayName=rfe;var ofe="Tooltip",[XGt,HI]=WI(ofe),ND="TooltipTrigger",ANe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=HI(ND,n),s=ife(ND,n),o=DW(n),a=x.useRef(null),l=ql(e,a,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(wNe,{asChild:!0,...o,children:d.jsx(Ks.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ti(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ti(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ti(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ti(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ti(t.onBlur,i.onClose),onClick:Ti(t.onClick,i.onClose)})})});ANe.displayName=ND;var CNe="TooltipPortal",[eKt,kNe]=WI(CNe,{forceMount:void 0}),lx="TooltipContent",afe=x.forwardRef((t,e)=>{const n=kNe(lx,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=HI(lx,t.__scopeTooltip);return d.jsx(MI,{present:r||o.open,children:o.disableHoverableContent?d.jsx(lfe,{side:i,...s,ref:e}):d.jsx(_Ne,{side:i,...s,ref:e})})}),_Ne=x.forwardRef((t,e)=>{const n=HI(lx,t.__scopeTooltip),r=ife(lx,t.__scopeTooltip),i=x.useRef(null),s=ql(e,i),[o,a]=x.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,f=x.useCallback(()=>{a(null),h(!1)},[h]),p=x.useCallback((m,g)=>{const y=m.currentTarget,w={x:m.clientX,y:m.clientY},v=NNe(w,y.getBoundingClientRect()),b=PNe(w,v),A=RNe(g.getBoundingClientRect()),E=ONe([...b,...A]);a(E),h(!0)},[h]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&u){const m=y=>p(y,u),g=y=>p(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,f]),x.useEffect(()=>{if(o){const m=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!jNe(w,o);v?f():b&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),d.jsx(lfe,{...t,ref:s})}),[SNe,INe]=WI(ofe,{isInside:!1}),TNe=D7e("TooltipContent"),lfe=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=HI(lx,n),c=DW(n),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(LQ,u),()=>document.removeEventListener(LQ,u)),[u]),x.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(xW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(bNe,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(TNe,{children:r}),d.jsx(SNe,{scope:n,isInside:!0,children:d.jsx(aIe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});afe.displayName=lx;var cfe="TooltipArrow",$Ne=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=DW(n);return INe(cfe,n).isInside?null:d.jsx(vNe,{...i,...r,ref:e})});$Ne.displayName=cfe;function NNe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function PNe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function RNe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function jNe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,f=l.y;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function ONe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MNe(e)}function MNe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DNe=sfe,ufe=afe;const BNe=DNe,LNe=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(ufe,{ref:r,sideOffset:e,className:aa("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));LNe.displayName=ufe.displayName;var VI=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FNe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},sm,_z,hce,UNe=(hce=class{constructor(){xe(this,sm,FNe);xe(this,_z,!1)}setTimeoutProvider(t){te(this,sm,t)}setTimeout(t,e){return V(this,sm).setTimeout(t,e)}clearTimeout(t){V(this,sm).clearTimeout(t)}setInterval(t,e){return V(this,sm).setInterval(t,e)}clearInterval(t){V(this,sm).clearInterval(t)}},sm=new WeakMap,_z=new WeakMap,hce),PD=new UNe;function zNe(t){setTimeout(t,0)}var qI=typeof window>"u"||"Deno"in globalThis;function Pu(){}function WNe(t,e){return typeof t=="function"?t(e):t}function HNe(t){return typeof t=="number"&&t>=0&&t!==1/0}function VNe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function RD(t,e){return typeof t=="function"?t(e):t}function qNe(t,e){return typeof t=="function"?t(e):t}function FQ(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==BW(o,e.options))return!1}else if(!L4(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function UQ(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(B4(e.options.mutationKey)!==B4(s))return!1}else if(!L4(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function BW(t,e){return((e==null?void 0:e.queryKeyHashFn)||B4)(t)}function B4(t){return JSON.stringify(t,(e,n)=>jD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function L4(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>L4(t[n],e[n])):!1}var GNe=Object.prototype.hasOwnProperty;function dfe(t,e){if(t===e)return t;const n=zQ(t)&&zQ(e);if(!n&&!(jD(t)&&jD(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c],h=t[u],f=e[u];if(h===f){a[u]=h,(n?c<i:GNe.call(t,u))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[u]=f;continue}const p=dfe(h,f);a[u]=p,p===h&&l++}return i===o&&l===i?t:a}function zQ(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jD(t){if(!WQ(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!WQ(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function WQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function KNe(t){return new Promise(e=>{PD.setTimeout(e,t)})}function YNe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?dfe(t,e):e}function QNe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ZNe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var LW=Symbol();function hfe(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===LW?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oy,om,o2,fce,JNe=(fce=class extends VI{constructor(){super();xe(this,Oy);xe(this,om);xe(this,o2);te(this,o2,e=>{if(!qI&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,om)||this.setEventListener(V(this,o2))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,om))==null||e.call(this),te(this,om,void 0))}setEventListener(e){var n;te(this,o2,e),(n=V(this,om))==null||n.call(this),te(this,om,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Oy)!==e&&(te(this,Oy,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Oy)=="boolean"?V(this,Oy):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oy=new WeakMap,om=new WeakMap,o2=new WeakMap,fce),ffe=new JNe;function XNe(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var ePe=zNe;function tPe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=ePe;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var qo=tPe(),a2,am,l2,pce,nPe=(pce=class extends VI{constructor(){super();xe(this,a2,!0);xe(this,am);xe(this,l2);te(this,l2,e=>{if(!qI&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,am)||this.setEventListener(V(this,l2))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,am))==null||e.call(this),te(this,am,void 0))}setEventListener(e){var n;te(this,l2,e),(n=V(this,am))==null||n.call(this),te(this,am,e(this.setOnline.bind(this)))}setOnline(e){V(this,a2)!==e&&(te(this,a2,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,a2)}},a2=new WeakMap,am=new WeakMap,l2=new WeakMap,pce),Z_=new nPe;function rPe(t){return Math.min(1e3*2**t,3e4)}function pfe(t){return(t??"online")==="online"?Z_.isOnline():!0}var OD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mfe(t){let e=!1,n=0,r;const i=XNe(),s=()=>i.status!=="pending",o=g=>{var y;if(!s()){const w=new OD(g);f(w),(y=t.onCancel)==null||y.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>ffe.isFocused()&&(t.networkMode==="always"||Z_.isOnline())&&t.canRun(),u=()=>pfe(t.networkMode)&&t.canRun(),h=g=>{s()||(r==null||r(),i.resolve(g))},f=g=>{s()||(r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var y;r=w=>{(s()||c())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;r=void 0,s()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(s())return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var $;if(s())return;const v=t.retry??(qI?0:3),b=t.retryDelay??rPe,A=typeof b=="function"?b(n,w):b,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!E){f(w);return}n++,($=t.onFail)==null||$.call(t,n,w),KNe(A).then(()=>c()?void 0:p()).then(()=>{e?f(w):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}var My,mce,gfe=(mce=class{constructor(){xe(this,My)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HNe(this.gcTime)&&te(this,My,PD.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qI?1/0:5*60*1e3))}clearGcTimeout(){V(this,My)&&(PD.clearTimeout(V(this,My)),te(this,My,void 0))}},My=new WeakMap,mce),Dy,c2,Sc,By,us,ME,Ly,Mu,kf,gce,iPe=(gce=class extends gfe{constructor(e){super();xe(this,Mu);xe(this,Dy);xe(this,c2);xe(this,Sc);xe(this,By);xe(this,us);xe(this,ME);xe(this,Ly);te(this,Ly,!1),te(this,ME,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,By,e.client),te(this,Sc,V(this,By).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,Dy,HQ(this.options)),this.state=e.state??V(this,Dy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,us))==null?void 0:e.promise}setOptions(e){if(this.options={...V(this,ME),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=HQ(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),te(this,Dy,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Sc).remove(this)}setData(e,n){const r=YNe(this.state.data,e,this.options);return Ze(this,Mu,kf).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ze(this,Mu,kf).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=V(this,us))==null?void 0:r.promise;return(i=V(this,us))==null||i.cancel(e),n?n.then(Pu).catch(Pu):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Dy))}isActive(){return this.observers.some(e=>qNe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LW||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>RD(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!VNe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,us))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,us))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Sc).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,us)&&(V(this,Ly)?V(this,us).cancel({revert:!0}):V(this,us).cancelRetry()),this.scheduleGc()),V(this,Sc).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Mu,kf).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,h,f,p,m,g,y,w,v,b;if(this.state.fetchStatus!=="idle"&&((l=V(this,us))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,us))return V(this,us).continueRetry(),V(this,us).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(E=>E.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(te(this,Ly,!0),r.signal)})},s=()=>{const A=hfe(this.options,n),$=(()=>{const N={client:V(this,By),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return te(this,Ly,!1),this.options.persister?this.options.persister(A,$,this):A($)},a=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:V(this,By),state:this.state,fetchFn:s};return i(A),A})();(c=this.options.behavior)==null||c.onFetch(a,this),te(this,c2,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Ze(this,Mu,kf).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),te(this,us,mfe({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:A=>{A instanceof OD&&A.revert&&this.setState({...V(this,c2),fetchStatus:"idle"}),r.abort()},onFail:(A,E)=>{Ze(this,Mu,kf).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Ze(this,Mu,kf).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Mu,kf).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const A=await V(this,us).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(p=(f=V(this,Sc).config).onSuccess)==null||p.call(f,A,this),(g=(m=V(this,Sc).config).onSettled)==null||g.call(m,A,this.state.error,this),A}catch(A){if(A instanceof OD){if(A.silent)return V(this,us).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Ze(this,Mu,kf).call(this,{type:"error",error:A}),(w=(y=V(this,Sc).config).onError)==null||w.call(y,A,this),(b=(v=V(this,Sc).config).onSettled)==null||b.call(v,this.state.data,A,this),A}finally{this.scheduleGc()}}},Dy=new WeakMap,c2=new WeakMap,Sc=new WeakMap,By=new WeakMap,us=new WeakMap,ME=new WeakMap,Ly=new WeakMap,Mu=new WeakSet,kf=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...sPe(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,c2,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),qo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Sc).notify({query:this,type:"updated",action:e})})},gce);function sPe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pfe(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function VQ(t){return{onFetch:(e,n)=>{var u,h,f,p,m;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=hfe(e.options,e.fetchOptions),v=async(b,A,E)=>{if(g)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};return y(W),W})(),R=await w(N),{maxPages:M}=e.options,F=E?ZNe:QNe;return{pages:F(b.pages,R,M),pageParams:F(b.pageParams,A,M)}};if(i&&s.length){const b=i==="backward",A=b?oPe:qQ,E={pages:s,pageParams:o},$=A(r,E);a=await v(E,$,b)}else{const b=t??s.length;do{const A=l===0?o[0]??r.initialPageParam:qQ(r,a);if(l>0&&A==null)break;a=await v(a,A),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function qQ(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oPe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var DE,th,Lo,Fy,nh,D0,yce,aPe=(yce=class extends gfe{constructor(e){super();xe(this,nh);xe(this,DE);xe(this,th);xe(this,Lo);xe(this,Fy);te(this,DE,e.client),this.mutationId=e.mutationId,te(this,Lo,e.mutationCache),te(this,th,[]),this.state=e.state||lPe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,th).includes(e)||(V(this,th).push(e),this.clearGcTimeout(),V(this,Lo).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,th,V(this,th).filter(n=>n!==e)),this.scheduleGc(),V(this,Lo).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,th).length||(this.state.status==="pending"?this.scheduleGc():V(this,Lo).remove(this))}continue(){var e;return((e=V(this,Fy))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,h,f,p,m,g,y,w,v,b,A,E,$,N,R,M;const n=()=>{Ze(this,nh,D0).call(this,{type:"continue"})},r={client:V(this,DE),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,Fy,mfe({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{Ze(this,nh,D0).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{Ze(this,nh,D0).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Lo).canRun(this)}));const i=this.state.status==="pending",s=!V(this,Fy).canStart();try{if(i)n();else{Ze(this,nh,D0).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=V(this,Lo).config).onMutate)==null?void 0:a.call(o,e,this,r));const W=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));W!==this.state.context&&Ze(this,nh,D0).call(this,{type:"pending",context:W,variables:e,isPaused:s})}const F=await V(this,Fy).start();return await((h=(u=V(this,Lo).config).onSuccess)==null?void 0:h.call(u,F,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,F,e,this.state.context,r)),await((g=(m=V(this,Lo).config).onSettled)==null?void 0:g.call(m,F,null,this.state.variables,this.state.context,this,r)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,F,null,e,this.state.context,r)),Ze(this,nh,D0).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(v=V(this,Lo).config).onError)==null?void 0:b.call(v,F,e,this.state.context,this,r)),await((E=(A=this.options).onError)==null?void 0:E.call(A,F,e,this.state.context,r)),await((N=($=V(this,Lo).config).onSettled)==null?void 0:N.call($,void 0,F,this.state.variables,this.state.context,this,r)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,F,e,this.state.context,r)),F}finally{Ze(this,nh,D0).call(this,{type:"error",error:F})}}finally{V(this,Lo).runNext(this)}}},DE=new WeakMap,th=new WeakMap,Lo=new WeakMap,Fy=new WeakMap,nh=new WeakSet,D0=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qo.batch(()=>{V(this,th).forEach(r=>{r.onMutationUpdate(e)}),V(this,Lo).notify({mutation:this,type:"updated",action:e})})},yce);function lPe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hf,Du,BE,wce,cPe=(wce=class extends VI{constructor(e={}){super();xe(this,Hf);xe(this,Du);xe(this,BE);this.config=e,te(this,Hf,new Set),te(this,Du,new Map),te(this,BE,0)}build(e,n,r){const i=new aPe({client:e,mutationCache:this,mutationId:++n0(this,BE)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){V(this,Hf).add(e);const n=BC(e);if(typeof n=="string"){const r=V(this,Du).get(n);r?r.push(e):V(this,Du).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(V(this,Hf).delete(e)){const n=BC(e);if(typeof n=="string"){const r=V(this,Du).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&V(this,Du).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=BC(e);if(typeof n=="string"){const r=V(this,Du).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=BC(e);if(typeof n=="string"){const i=(r=V(this,Du).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qo.batch(()=>{V(this,Hf).forEach(e=>{this.notify({type:"removed",mutation:e})}),V(this,Hf).clear(),V(this,Du).clear()})}getAll(){return Array.from(V(this,Hf))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UQ(n,r))}findAll(e={}){return this.getAll().filter(n=>UQ(e,n))}notify(e){qo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return qo.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pu))))}},Hf=new WeakMap,Du=new WeakMap,BE=new WeakMap,wce);function BC(t){var e;return(e=t.options.scope)==null?void 0:e.id}var rh,bce,uPe=(bce=class extends VI{constructor(e={}){super();xe(this,rh);this.config=e,te(this,rh,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??BW(i,n);let o=this.get(s);return o||(o=new iPe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){V(this,rh).has(e.queryHash)||(V(this,rh).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,rh).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,rh).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,rh).get(e)}getAll(){return[...V(this,rh).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>FQ(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>FQ(e,r)):n}notify(e){qo.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){qo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rh=new WeakMap,bce),si,lm,cm,u2,d2,um,h2,f2,vce,dPe=(vce=class{constructor(t={}){xe(this,si);xe(this,lm);xe(this,cm);xe(this,u2);xe(this,d2);xe(this,um);xe(this,h2);xe(this,f2);te(this,si,t.queryCache||new uPe),te(this,lm,t.mutationCache||new cPe),te(this,cm,t.defaultOptions||{}),te(this,u2,new Map),te(this,d2,new Map),te(this,um,0)}mount(){n0(this,um)._++,V(this,um)===1&&(te(this,h2,ffe.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,si).onFocus())})),te(this,f2,Z_.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,si).onOnline())})))}unmount(){var t,e;n0(this,um)._--,V(this,um)===0&&((t=V(this,h2))==null||t.call(this),te(this,h2,void 0),(e=V(this,f2))==null||e.call(this),te(this,f2,void 0))}isFetching(t){return V(this,si).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,lm).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,si).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=V(this,si).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(RD(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return V(this,si).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=V(this,si).get(r.queryHash),s=i==null?void 0:i.state.data,o=WNe(e,s);if(o!==void 0)return V(this,si).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return qo.batch(()=>V(this,si).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,si).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,si);qo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,si);return qo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=qo.batch(()=>V(this,si).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Pu).catch(Pu)}invalidateQueries(t,e={}){return qo.batch(()=>(V(this,si).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=qo.batch(()=>V(this,si).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Pu)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Pu)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,si).build(this,e);return n.isStaleByTime(RD(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pu).catch(Pu)}fetchInfiniteQuery(t){return t.behavior=VQ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pu).catch(Pu)}ensureInfiniteQueryData(t){return t.behavior=VQ(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Z_.isOnline()?V(this,lm).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,si)}getMutationCache(){return V(this,lm)}getDefaultOptions(){return V(this,cm)}setDefaultOptions(t){te(this,cm,t)}setQueryDefaults(t,e){V(this,u2).set(B4(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,u2).values()],n={};return e.forEach(r=>{L4(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){V(this,d2).set(B4(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,d2).values()],n={};return e.forEach(r=>{L4(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,cm).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=BW(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===LW&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,cm).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,si).clear(),V(this,lm).clear()}},si=new WeakMap,lm=new WeakMap,cm=new WeakMap,u2=new WeakMap,d2=new WeakMap,um=new WeakMap,h2=new WeakMap,f2=new WeakMap,vce),hPe=x.createContext(void 0),fPe=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(hPe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F4(){return F4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F4.apply(this,arguments)}var $m;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($m||($m={}));const GQ="popstate";function pPe(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return MD("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wfe(i)}return gPe(e,n,null,t)}function qi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yfe(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mPe(){return Math.random().toString(36).substr(2,8)}function KQ(t,e){return{usr:t.state,key:t.key,idx:e}}function MD(t,e,n,r){return n===void 0&&(n=null),F4({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?f3(e):e,{state:n,key:e&&e.key||r||mPe()})}function wfe(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function f3(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gPe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$m.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(F4({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=$m.Pop;let y=u(),w=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:w})}function f(y,w){a=$m.Push;let v=MD(g.location,y,w);c=u()+1;let b=KQ(v,c),A=g.createHref(v);try{o.pushState(b,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function p(y,w){a=$m.Replace;let v=MD(g.location,y,w);c=u();let b=KQ(v,c),A=g.createHref(v);o.replaceState(b,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:wfe(y);return v=v.replace(/ $/,"%20"),qi(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(GQ,h),l=y,()=>{i.removeEventListener(GQ,h),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var YQ;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YQ||(YQ={}));function yPe(t,e,n){return n===void 0&&(n="/"),wPe(t,e,n,!1)}function wPe(t,e,n,r){let i=typeof e=="string"?f3(e):e,s=xfe(i.pathname||"/",n);if(s==null)return null;let o=bfe(t);bPe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=$Pe(s);a=IPe(o[l],c,r)}return a}function bfe(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(qi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=c1([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(qi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bfe(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_Pe(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of vfe(s.path))i(s,o,l)}),e}function vfe(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vfe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bPe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SPe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vPe=/^:[\w-]+$/,xPe=3,EPe=2,APe=1,CPe=10,kPe=-2,QQ=t=>t==="*";function _Pe(t,e){let n=t.split("/"),r=n.length;return n.some(QQ)&&(r+=kPe),e&&(r+=EPe),n.filter(i=>!QQ(i)).reduce((i,s)=>i+(vPe.test(s)?xPe:s===""?APe:CPe),r)}function SPe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IPe(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=ZQ({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=ZQ({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:c1([s,h.pathname]),pathnameBase:jPe(c1([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=c1([s,h.pathnameBase]))}return o}function ZQ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TPe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TPe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yfe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $Pe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yfe(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xfe(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NPe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?f3(t):t;return{pathname:n?n.startsWith("/")?n:PPe(n,e):e,search:OPe(r),hash:MPe(i)}}function PPe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function FP(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RPe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Efe(t,e){let n=RPe(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Afe(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=f3(t):(i=F4({},t),qi(!i.pathname||!i.pathname.includes("?"),FP("?","pathname","search",i)),qi(!i.pathname||!i.pathname.includes("#"),FP("#","pathname","hash",i)),qi(!i.search||!i.search.includes("#"),FP("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=NPe(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const c1=t=>t.join("/").replace(/\/\/+/g,"/"),jPe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OPe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MPe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DPe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Cfe=["post","put","patch","delete"];new Set(Cfe);const BPe=["get",...Cfe];new Set(BPe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U4(){return U4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U4.apply(this,arguments)}const FW=x.createContext(null),LPe=x.createContext(null),lA=x.createContext(null),GI=x.createContext(null),pw=x.createContext({outlet:null,matches:[],isDataRoute:!1}),kfe=x.createContext(null);function cA(){return x.useContext(GI)!=null}function Zp(){return cA()||qi(!1),x.useContext(GI).location}function _fe(t){x.useContext(lA).static||x.useLayoutEffect(t)}function cr(){let{isDataRoute:t}=x.useContext(pw);return t?JPe():FPe()}function FPe(){cA()||qi(!1);let t=x.useContext(FW),{basename:e,future:n,navigator:r}=x.useContext(lA),{matches:i}=x.useContext(pw),{pathname:s}=Zp(),o=JSON.stringify(Efe(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return _fe(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Afe(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:c1([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function UPe(t,e){return zPe(t,e)}function zPe(t,e,n,r){cA()||qi(!1);let{navigator:i}=x.useContext(lA),{matches:s}=x.useContext(pw),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Zp(),u;if(e){var h;let y=typeof e=="string"?f3(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||qi(!1),u=y}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=yPe(t,{pathname:p}),g=GPe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:c1([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:c1([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&g?x.createElement(GI.Provider,{value:{location:U4({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$m.Pop}},g):g}function WPe(){let t=ZPe(),e=DPe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const HPe=x.createElement(WPe,null);class VPe extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(pw.Provider,{value:this.props.routeContext},x.createElement(kfe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qPe(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(FW);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(pw.Provider,{value:e},r)}function GPe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||qi(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,g=null,y=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||HPe,l&&(c<0&&f===0?(m=!0,y=null):c===f&&(m=!0,y=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let b;return p?b=g:m?b=y:h.route.Component?b=x.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,x.createElement(qPe,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(VPe,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Sfe=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sfe||{}),J_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(J_||{});function KPe(t){let e=x.useContext(FW);return e||qi(!1),e}function YPe(t){let e=x.useContext(LPe);return e||qi(!1),e}function QPe(t){let e=x.useContext(pw);return e||qi(!1),e}function Ife(t){let e=QPe(),n=e.matches[e.matches.length-1];return n.route.id||qi(!1),n.route.id}function ZPe(){var t;let e=x.useContext(kfe),n=YPe(J_.UseRouteError),r=Ife(J_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JPe(){let{router:t}=KPe(Sfe.UseNavigateStable),e=Ife(J_.UseNavigateStable),n=x.useRef(!1);return _fe(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,U4({fromRouteId:e},s)))},[t,e])}function XPe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function DD(t){let{to:e,replace:n,state:r,relative:i}=t;cA()||qi(!1);let{future:s,static:o}=x.useContext(lA),{matches:a}=x.useContext(pw),{pathname:l}=Zp(),c=cr(),u=Afe(e,Efe(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function bi(t){qi(!1)}function eRe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$m.Pop,navigator:s,static:o=!1,future:a}=t;cA()&&qi(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:s,static:o,future:U4({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=f3(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let y=xfe(u,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:m},navigationType:i}},[l,u,h,f,p,m,i]);return g==null?null:x.createElement(lA.Provider,{value:c},x.createElement(GI.Provider,{children:n,value:g}))}function tRe(t){let{children:e,location:n}=t;return UPe(BD(e),n)}new Promise(()=>{});function BD(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,BD(r.props.children,s));return}r.type!==bi&&qi(!1),!r.props.index||!r.props.children||qi(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=BD(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nRe="6";try{window.__reactRouterVersion=nRe}catch{}const rRe="startTransition",JQ=w4[rRe];function iRe(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=pPe({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(h=>{c&&JQ?JQ(()=>l(h)):l(h)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>XPe(r),[r]),x.createElement(eRe,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var XQ;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XQ||(XQ={}));var eZ;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eZ||(eZ={}));const UW=x.createContext({});function zW(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const KI=x.createContext(null),WW=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class sRe extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oRe({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(WW);return x.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(sRe,{isPresent:e,childRef:r,sizeRef:i,children:x.cloneElement(t,{ref:r})})}const aRe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=zW(lRe),l=x.useId(),c=x.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return x.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(oRe,{isPresent:n,children:t})),d.jsx(KI.Provider,{value:u,children:t})};function lRe(){return new Map}function Tfe(t=!0){const e=x.useContext(KI);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{t&&i(s)},[t]);const o=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const LC=t=>t.key||"";function tZ(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const HW=typeof window<"u",$fe=HW?x.useLayoutEffect:x.useEffect,mw=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=Tfe(o),c=x.useMemo(()=>tZ(t),[t]),u=o&&!a?[]:c.map(LC),h=x.useRef(!0),f=x.useRef(c),p=zW(()=>new Map),[m,g]=x.useState(c),[y,w]=x.useState(c);$fe(()=>{h.current=!1,f.current=c;for(let A=0;A<y.length;A++){const E=LC(y[A]);u.includes(E)?p.delete(E):p.get(E)!==!0&&p.set(E,!1)}},[y,u.length,u.join("-")]);const v=[];if(c!==m){let A=[...c];for(let E=0;E<y.length;E++){const $=y[E],N=LC($);u.includes(N)||(A.splice(E,0,$),v.push($))}s==="wait"&&v.length&&(A=v),w(tZ(A)),g(c);return}const{forceRender:b}=x.useContext(UW);return d.jsx(d.Fragment,{children:y.map(A=>{const E=LC(A),$=o&&!a?!1:c===y||u.includes(E),N=()=>{if(p.has(E))p.set(E,!0);else return;let R=!0;p.forEach(M=>{M||(R=!1)}),R&&(b==null||b(),w(f.current),o&&(l==null||l()),r&&r())};return d.jsx(aRe,{isPresent:$,initial:!h.current||n?void 0:!1,custom:$?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:$?void 0:N,children:A},E)})})},zl=t=>t;let LD=zl;function VW(t){let e;return()=>(e===void 0&&(e=t()),e)}const cx=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fp=t=>t*1e3,pp=t=>t/1e3,cRe={skipAnimations:!1,useManualTiming:!1};function uRe(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const p=h&&r?e:n;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const FC=["read","resolveKeyframes","update","preRender","render","postRender"],dRe=40;function Nfe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=FC.reduce((w,v)=>(w[v]=uRe(s),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=o,p=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,dRe),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:FC.reduce((w,v)=>{const b=o[v];return w[v]=(A,E=!1,$=!1)=>(n||m(),b.schedule(A,E,$)),w},{}),cancel:w=>{for(let v=0;v<FC.length;v++)o[FC[v]].cancel(w)},state:i,steps:o}}const{schedule:Lr,cancel:og,state:Os,steps:UP}=Nfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:zl,!0),Pfe=x.createContext({strict:!1}),nZ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ux={};for(const t in nZ)ux[t]={isEnabled:e=>nZ[t].some(n=>!!e[n])};function hRe(t){for(const e in t)ux[e]={...ux[e],...t[e]}}const fRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function X_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fRe.has(t)}let Rfe=t=>!X_(t);function pRe(t){t&&(Rfe=e=>e.startsWith("on")?!X_(e):t(e))}try{pRe(require("@emotion/is-prop-valid").default)}catch{}function mRe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Rfe(i)||n===!0&&X_(i)||!e&&!X_(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gRe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const YI=x.createContext({});function z4(t){return typeof t=="string"||Array.isArray(t)}function QI(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qW=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GW=["initial",...qW];function ZI(t){return QI(t.animate)||GW.some(e=>z4(t[e]))}function jfe(t){return!!(ZI(t)||t.variants)}function yRe(t,e){if(ZI(t)){const{initial:n,animate:r}=t;return{initial:n===!1||z4(n)?n:void 0,animate:z4(r)?r:void 0}}return t.inherit!==!1?e:{}}function wRe(t){const{initial:e,animate:n}=yRe(t,x.useContext(YI));return x.useMemo(()=>({initial:e,animate:n}),[rZ(e),rZ(n)])}function rZ(t){return Array.isArray(t)?t.join(" "):t}const bRe=Symbol.for("motionComponentSymbol");function ev(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vRe(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ev(n)&&(n.current=r))},[e])}const KW=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xRe="framerAppearId",Ofe="data-"+KW(xRe),{schedule:YW,cancel:tKt}=Nfe(queueMicrotask,!1),Mfe=x.createContext({});function ERe(t,e,n,r,i){var s,o;const{visualElement:a}=x.useContext(YI),l=x.useContext(Pfe),c=x.useContext(KI),u=x.useContext(WW).reducedMotion,h=x.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=x.useContext(Mfe);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&ARe(h.current,n,i,p);const m=x.useRef(!1);x.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const g=n[Ofe],y=x.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return $fe(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),YW.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),y.current=!1))}),f}function ARe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Dfe(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ev(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Dfe(t){if(t)return t.options.allowProjection!==!1?t.projection:Dfe(t.parent)}function CRe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&hRe(t);function a(c,u){let h;const f={...x.useContext(WW),...c,layoutId:kRe(c)},{isStatic:p}=f,m=wRe(c),g=r(c,p);if(!p&&HW){_Re();const y=SRe(f);h=y.MeasureLayout,m.visualElement=ERe(i,g,f,e,y.ProjectionNode)}return d.jsxs(YI.Provider,{value:m,children:[h&&m.visualElement?d.jsx(h,{visualElement:m.visualElement,...f}):null,n(i,c,vRe(g,m.visualElement,u),g,p,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=x.forwardRef(a);return l[bRe]=i,l}function kRe({layoutId:t}){const e=x.useContext(UW).id;return e&&t!==void 0?e+"-"+t:t}function _Re(t,e){x.useContext(Pfe).strict}function SRe(t){const{drag:e,layout:n}=ux;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IRe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QW(t){return typeof t!="string"||t.includes("-")?!1:!!(IRe.indexOf(t)>-1||/[A-Z]/u.test(t))}function iZ(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ZW(t,e,n,r){if(typeof e=="function"){const[i,s]=iZ(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=iZ(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const FD=t=>Array.isArray(t),TRe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$Re=t=>FD(t)?t[t.length-1]||0:t,So=t=>!!(t&&t.getVelocity);function y9(t){const e=So(t)?t.get():t;return TRe(e)?e.toValue():e}function NRe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:PRe(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Bfe=t=>(e,n)=>{const r=x.useContext(YI),i=x.useContext(KI),s=()=>NRe(t,e,r,i);return n?s():zW(s)};function PRe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=y9(s[f]);let{initial:o,animate:a}=t;const l=ZI(t),c=jfe(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!QI(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const m=ZW(t,f[p]);if(m){const{transitionEnd:g,transition:y,...w}=m;for(const v in w){let b=w[v];if(Array.isArray(b)){const A=u?b.length-1:0;b=b[A]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const p3=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gw=new Set(p3),Lfe=t=>e=>typeof e=="string"&&e.startsWith(t),Ffe=Lfe("--"),RRe=Lfe("var(--"),JW=t=>RRe(t)?jRe.test(t.split("/*")[0].trim()):!1,jRe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ufe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Np=(t,e,n)=>n>e?e:n<t?t:n,m3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},W4={...m3,transform:t=>Np(0,1,t)},UC={...m3,default:1},uA=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),B0=uA("deg"),Th=uA("%"),Ft=uA("px"),ORe=uA("vh"),MRe=uA("vw"),sZ={...Th,parse:t=>Th.parse(t)/100,transform:t=>Th.transform(t*100)},DRe={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft},BRe={rotate:B0,rotateX:B0,rotateY:B0,rotateZ:B0,scale:UC,scaleX:UC,scaleY:UC,scaleZ:UC,skew:B0,skewX:B0,skewY:B0,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:W4,originX:sZ,originY:sZ,originZ:Ft},oZ={...m3,transform:Math.round},XW={...DRe,...BRe,zIndex:oZ,size:Ft,fillOpacity:W4,strokeOpacity:W4,numOctaves:oZ},LRe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FRe=p3.length;function URe(t,e,n){let r="",i=!0;for(let s=0;s<FRe;s++){const o=p3[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Ufe(a,XW[o]);if(!l){i=!1;const u=LRe[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function eH(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(gw.has(l)){o=!0;continue}else if(Ffe(l)){i[l]=c;continue}else{const u=Ufe(c,XW[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=URe(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const zRe={offset:"stroke-dashoffset",array:"stroke-dasharray"},WRe={offset:"strokeDashoffset",array:"strokeDasharray"};function HRe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?zRe:WRe;t[s.offset]=Ft.transform(-r);const o=Ft.transform(e),a=Ft.transform(n);t[s.array]=`${o} ${a}`}function aZ(t,e,n){return typeof t=="string"?t:Ft.transform(e+n*t)}function VRe(t,e,n){const r=aZ(e,t.x,t.width),i=aZ(n,t.y,t.height);return`${r} ${i}`}function tH(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(eH(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=VRe(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&HRe(f,o,a,l,!1)}const nH=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zfe=()=>({...nH(),attrs:{}}),rH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wfe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Hfe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vfe(t,e,n,r){Wfe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Hfe.has(i)?i:KW(i),e.attrs[i])}const eS={};function qRe(t){Object.assign(eS,t)}function qfe(t,{layout:e,layoutId:n}){return gw.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!eS[t]||t==="opacity")}function iH(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(So(i[o])||e.style&&So(e.style[o])||qfe(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Gfe(t,e,n){const r=iH(t,e,n);for(const i in t)if(So(t[i])||So(e[i])){const s=p3.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function GRe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const lZ=["x","y","width","height","cx","cy","r"],KRe={useVisualState:Bfe({scrapeMotionValuesFromProps:Gfe,createRenderState:zfe,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(gw.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<lZ.length;a++){const l=lZ[a];t[l]!==e[l]&&(o=!0)}o&&Lr.read(()=>{GRe(n,r),Lr.render(()=>{tH(r,i,rH(n.tagName),t.transformTemplate),Vfe(n,r)})})}})},YRe={useVisualState:Bfe({scrapeMotionValuesFromProps:iH,createRenderState:nH})};function Kfe(t,e,n){for(const r in e)!So(e[r])&&!qfe(r,n)&&(t[r]=e[r])}function QRe({transformTemplate:t},e){return x.useMemo(()=>{const n=nH();return eH(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZRe(t,e){const n=t.style||{},r={};return Kfe(r,n,t),Object.assign(r,QRe(t,e)),r}function JRe(t,e){const n={},r=ZRe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function XRe(t,e,n,r){const i=x.useMemo(()=>{const s=zfe();return tH(s,e,rH(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Kfe(s,t.style,t),i.style={...s,...i.style}}return i}function eje(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(QW(n)?XRe:JRe)(r,s,o,n),c=mRe(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=x.useMemo(()=>So(h)?h.get():h,[h]);return x.createElement(n,{...u,children:f})}}function tje(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...QW(r)?KRe:YRe,preloadedFeatures:t,useRender:eje(i),createVisualElement:e,Component:r};return CRe(o)}}function Yfe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function JI(t,e,n){const r=t.getProps();return ZW(r,e,n!==void 0?n:r.custom,t)}const nje=VW(()=>window.ScrollTimeline!==void 0);class rje{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(nje()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ije extends rje{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sH(t,e){return t?t[e]||t.default||t:void 0}const UD=2e4;function Qfe(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<UD;)e+=n,r=t.next(e);return e>=UD?1/0:e}function oH(t){return typeof t=="function"}function cZ(t,e){t.timeline=e,t.onfinish=null}const aH=t=>Array.isArray(t)&&typeof t[0]=="number",sje={linearEasing:void 0};function oje(t,e){const n=VW(t);return()=>{var r;return(r=sje[e])!==null&&r!==void 0?r:n()}}const tS=oje(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zfe=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(cx(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Jfe(t){return!!(typeof t=="function"&&tS()||!t||typeof t=="string"&&(t in zD||tS())||aH(t)||Array.isArray(t)&&t.every(Jfe))}const r6=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:r6([0,.65,.55,1]),circOut:r6([.55,0,1,.45]),backIn:r6([.31,.01,.66,-.59]),backOut:r6([.33,1.53,.69,.99])};function Xfe(t,e){if(t)return typeof t=="function"&&tS()?Zfe(t,e):aH(t)?r6(t):Array.isArray(t)?t.map(n=>Xfe(n,e)||zD.easeOut):zD[t]}const Su={x:!1,y:!1};function epe(){return Su.x||Su.y}function aje(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function tpe(t,e){const n=aje(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function uZ(t){return e=>{e.pointerType==="touch"||epe()||t(e)}}function lje(t,e,n={}){const[r,i,s]=tpe(t,n),o=uZ(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=uZ(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const npe=(t,e)=>e?t===e?!0:npe(t,e.parentElement):!1,lH=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cje=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uje(t){return cje.has(t.tagName)||t.tabIndex!==-1}const i6=new WeakSet;function dZ(t){return e=>{e.key==="Enter"&&t(e)}}function zP(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dje=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=dZ(()=>{if(i6.has(n))return;zP(n,"down");const i=dZ(()=>{zP(n,"up")}),s=()=>zP(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hZ(t){return lH(t)&&!epe()}function hje(t,e,n={}){const[r,i,s]=tpe(t,n),o=a=>{const l=a.currentTarget;if(!hZ(a)||i6.has(l))return;i6.add(l);const c=e(a),u=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!hZ(p)||!i6.has(l))&&(i6.delete(l),typeof c=="function"&&c(p,{success:m}))},h=p=>{u(p,n.useGlobalTarget||npe(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!uje(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>dje(c,i),i)}),s}function fje(t){return t==="x"||t==="y"?Su[t]?null:(Su[t]=!0,()=>{Su[t]=!1}):Su.x||Su.y?null:(Su.x=Su.y=!0,()=>{Su.x=Su.y=!1})}const rpe=new Set(["width","height","top","left","right","bottom",...p3]);let w9;function pje(){w9=void 0}const $h={now:()=>(w9===void 0&&$h.set(Os.isProcessing||cRe.useManualTiming?Os.timestamp:performance.now()),w9),set:t=>{w9=t,queueMicrotask(pje)}};function cH(t,e){t.indexOf(e)===-1&&t.push(e)}function uH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dH{constructor(){this.subscriptions=[]}add(e){return cH(this.subscriptions,e),()=>uH(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ipe(t,e){return e?t*(1e3/e):0}const fZ=30,mje=t=>!isNaN(parseFloat(t));class gje{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=$h.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$h.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mje(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dH);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$h.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fZ)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fZ);return ipe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function H4(t,e){return new gje(t,e)}function yje(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,H4(n))}function wje(t,e){const n=JI(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=$Re(s[o]);yje(t,o,a)}}function bje(t){return!!(So(t)&&t.add)}function WD(t,e){const n=t.getValue("willChange");if(bje(n))return n.add(e)}function spe(t){return t.props[Ofe]}const ope=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vje=1e-7,xje=12;function Eje(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=ope(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>vje&&++a<xje);return o}function dA(t,e,n,r){if(t===e&&n===r)return zl;const i=s=>Eje(s,0,1,t,n);return s=>s===0||s===1?s:ope(i(s),e,r)}const ape=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lpe=t=>e=>1-t(1-e),cpe=dA(.33,1.53,.69,.99),hH=lpe(cpe),upe=ape(hH),dpe=t=>(t*=2)<1?.5*hH(t):.5*(2-Math.pow(2,-10*(t-1))),fH=t=>1-Math.sin(Math.acos(t)),hpe=lpe(fH),fpe=ape(fH),ppe=t=>/^0[^.\s]+$/u.test(t);function Aje(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ppe(t):!0}const L6=t=>Math.round(t*1e5)/1e5,pH=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Cje(t){return t==null}const kje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mH=(t,e)=>n=>!!(typeof n=="string"&&kje.test(n)&&n.startsWith(t)||e&&!Cje(n)&&Object.prototype.hasOwnProperty.call(n,e)),mpe=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(pH);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_je=t=>Np(0,255,t),WP={...m3,transform:t=>Math.round(_je(t))},by={test:mH("rgb","red"),parse:mpe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+WP.transform(t)+", "+WP.transform(e)+", "+WP.transform(n)+", "+L6(W4.transform(r))+")"};function Sje(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const HD={test:mH("#"),parse:Sje,transform:by.transform},tv={test:mH("hsl","hue"),parse:mpe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Th.transform(L6(e))+", "+Th.transform(L6(n))+", "+L6(W4.transform(r))+")"},wo={test:t=>by.test(t)||HD.test(t)||tv.test(t),parse:t=>by.test(t)?by.parse(t):tv.test(t)?tv.parse(t):HD.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?by.transform(t):tv.transform(t)},Ije=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tje(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pH))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ije))===null||n===void 0?void 0:n.length)||0)>0}const gpe="number",ype="color",$je="var",Nje="var(",pZ="${}",Pje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function V4(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Pje,l=>(wo.test(l)?(r.color.push(s),i.push(ype),n.push(wo.parse(l))):l.startsWith(Nje)?(r.var.push(s),i.push($je),n.push(l)):(r.number.push(s),i.push(gpe),n.push(parseFloat(l))),++s,pZ)).split(pZ);return{values:n,split:a,indexes:r,types:i}}function wpe(t){return V4(t).values}function bpe(t){const{split:e,types:n}=V4(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===gpe?s+=L6(i[o]):a===ype?s+=wo.transform(i[o]):s+=i[o]}return s}}const Rje=t=>typeof t=="number"?0:t;function jje(t){const e=wpe(t);return bpe(t)(e.map(Rje))}const ag={test:Tje,parse:wpe,createTransformer:bpe,getAnimatableNone:jje},Oje=new Set(["brightness","contrast","saturate","opacity"]);function Mje(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pH)||[];if(!r)return t;const i=n.replace(r,"");let s=Oje.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Dje=/\b([a-z-]*)\(.*?\)/gu,VD={...ag,getAnimatableNone:t=>{const e=t.match(Dje);return e?e.map(Mje).join(" "):t}},Bje={...XW,color:wo,backgroundColor:wo,outlineColor:wo,fill:wo,stroke:wo,borderColor:wo,borderTopColor:wo,borderRightColor:wo,borderBottomColor:wo,borderLeftColor:wo,filter:VD,WebkitFilter:VD},gH=t=>Bje[t];function vpe(t,e){let n=gH(t);return n!==VD&&(n=ag),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Lje=new Set(["auto","none","0"]);function Fje(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Lje.has(s)&&V4(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=vpe(n,i)}const mZ=t=>t===m3||t===Ft,gZ=(t,e)=>parseFloat(t.split(", ")[e]),yZ=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return gZ(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?gZ(s[1],t):0}},Uje=new Set(["x","y","z"]),zje=p3.filter(t=>!Uje.has(t));function Wje(t){const e=[];return zje.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const dx={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:yZ(4,13),y:yZ(5,14)};dx.translateX=dx.x;dx.translateY=dx.y;const u1=new Set;let qD=!1,GD=!1;function xpe(){if(GD){const t=Array.from(u1).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Wje(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GD=!1,qD=!1,u1.forEach(t=>t.complete()),u1.clear()}function Epe(){u1.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GD=!0)})}function Hje(){Epe(),xpe()}class yH{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(u1.add(this),qD||(qD=!0,Lr.read(Epe),Lr.resolveKeyframes(xpe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),u1.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,u1.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ape=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Vje=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qje(t){const e=Vje.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Cpe(t,e,n=1){const[r,i]=qje(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Ape(o)?parseFloat(o):o}return JW(i)?Cpe(i,e,n+1):i}const kpe=t=>e=>e.test(t),Gje={test:t=>t==="auto",parse:t=>t},_pe=[m3,Ft,Th,B0,MRe,ORe,Gje],wZ=t=>_pe.find(kpe(t));class Spe extends yH{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),JW(c))){const u=Cpe(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!rpe.has(r)||e.length!==2)return;const[i,s]=e,o=wZ(i),a=wZ(s);if(o!==a)if(mZ(o)&&mZ(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Aje(e[i])&&r.push(i);r.length&&Fje(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dx[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=dx[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const bZ=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ag.test(t)||t==="0")&&!t.startsWith("url("));function Kje(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Yje(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=bZ(i,e),a=bZ(s,e);return!o||!a?!1:Kje(t)||(n==="spring"||oH(n))&&r}const Qje=t=>t!==null;function XI(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Qje),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Zje=40;class Ipe{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$h.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zje?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Hje(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=$h.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Yje(e,r,i,s))if(o)this.options.duration=0;else{l&&l(XI(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ti=(t,e,n)=>t+(e-t)*n;function HP(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Jje({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=HP(l,a,t+1/3),s=HP(l,a,t),o=HP(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function nS(t,e){return n=>n>0?e:t}const VP=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Xje=[HD,by,tv],eOe=t=>Xje.find(e=>e.test(t));function vZ(t){const e=eOe(t);if(!e)return!1;let n=e.parse(t);return e===tv&&(n=Jje(n)),n}const xZ=(t,e)=>{const n=vZ(t),r=vZ(e);if(!n||!r)return nS(t,e);const i={...n};return s=>(i.red=VP(n.red,r.red,s),i.green=VP(n.green,r.green,s),i.blue=VP(n.blue,r.blue,s),i.alpha=ti(n.alpha,r.alpha,s),by.transform(i))},tOe=(t,e)=>n=>e(t(n)),hA=(...t)=>t.reduce(tOe),KD=new Set(["none","hidden"]);function nOe(t,e){return KD.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rOe(t,e){return n=>ti(t,e,n)}function wH(t){return typeof t=="number"?rOe:typeof t=="string"?JW(t)?nS:wo.test(t)?xZ:oOe:Array.isArray(t)?Tpe:typeof t=="object"?wo.test(t)?xZ:iOe:nS}function Tpe(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>wH(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function iOe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=wH(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function sOe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const oOe=(t,e)=>{const n=ag.createTransformer(e),r=V4(t),i=V4(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?KD.has(t)&&!i.values.length||KD.has(e)&&!r.values.length?nOe(t,e):hA(Tpe(sOe(r,i),i.values),n):nS(t,e)};function $pe(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ti(t,e,n):wH(t)(t,e)}const aOe=5;function Npe(t,e,n){const r=Math.max(e-aOe,0);return ipe(n-t(r),e-r)}const li={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qP=.001;function lOe({duration:t=li.duration,bounce:e=li.bounce,velocity:n=li.velocity,mass:r=li.mass}){let i,s,o=1-e;o=Np(li.minDamping,li.maxDamping,o),t=Np(li.minDuration,li.maxDuration,pp(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-n,p=YD(c,o),m=Math.exp(-h);return qP-f/p*m},s=c=>{const h=c*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-h),g=YD(Math.pow(c,2),o);return(-i(c)+qP>0?-1:1)*((f-p)*m)/g}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-qP+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=uOe(i,s,a);if(t=fp(t),isNaN(l))return{stiffness:li.stiffness,damping:li.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const cOe=12;function uOe(t,e,n){let r=n;for(let i=1;i<cOe;i++)r=r-t(r)/e(r);return r}function YD(t,e){return t*Math.sqrt(1-e*e)}const dOe=["duration","bounce"],hOe=["stiffness","damping","mass"];function EZ(t,e){return e.some(n=>t[n]!==void 0)}function fOe(t){let e={velocity:li.velocity,stiffness:li.stiffness,damping:li.damping,mass:li.mass,isResolvedFromDuration:!1,...t};if(!EZ(t,hOe)&&EZ(t,dOe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Np(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:li.mass,stiffness:i,damping:s}}else{const n=lOe(t);e={...e,...n,mass:li.mass},e.isResolvedFromDuration=!0}return e}function Ppe(t=li.visualDuration,e=li.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=fOe({...n,velocity:-pp(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),y=o-s,w=pp(Math.sqrt(l/u)),v=Math.abs(y)<5;r||(r=v?li.restSpeed.granular:li.restSpeed.default),i||(i=v?li.restDelta.granular:li.restDelta.default);let b;if(g<1){const E=YD(w,g);b=$=>{const N=Math.exp(-g*w*$);return o-N*((m+g*w*y)/E*Math.sin(E*$)+y*Math.cos(E*$))}}else if(g===1)b=E=>o-Math.exp(-w*E)*(y+(m+w*y)*E);else{const E=w*Math.sqrt(g*g-1);b=$=>{const N=Math.exp(-g*w*$),R=Math.min(E*$,300);return o-N*((m+g*w*y)*Math.sinh(R)+E*y*Math.cosh(R))/E}}const A={calculatedDuration:p&&h||null,next:E=>{const $=b(E);if(p)a.done=E>=h;else{let N=0;g<1&&(N=E===0?fp(m):Npe(b,E,$));const R=Math.abs(N)<=r,M=Math.abs(o-$)<=i;a.done=R&&M}return a.value=a.done?o:$,a},toString:()=>{const E=Math.min(Qfe(A),UD),$=Zfe(N=>A.next(E*N).value,E,30);return E+"ms "+$}};return A}function AZ({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=R=>a!==void 0&&R<a||l!==void 0&&R>l,m=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let g=n*e;const y=h+g,w=o===void 0?y:o(y);w!==y&&(g=w-h);const v=R=>-g*Math.exp(-R/r),b=R=>w+v(R),A=R=>{const M=v(R),F=b(R);f.done=Math.abs(M)<=c,f.value=f.done?w:F};let E,$;const N=R=>{p(f.value)&&(E=R,$=Ppe({keyframes:[f.value,m(f.value)],velocity:Npe(b,R,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:R=>{let M=!1;return!$&&E===void 0&&(M=!0,A(R),N(R)),E!==void 0&&R>=E?$.next(R-E):(!M&&A(R),f)}}}const pOe=dA(.42,0,1,1),mOe=dA(0,0,.58,1),Rpe=dA(.42,0,.58,1),gOe=t=>Array.isArray(t)&&typeof t[0]!="number",CZ={linear:zl,easeIn:pOe,easeInOut:Rpe,easeOut:mOe,circIn:fH,circInOut:fpe,circOut:hpe,backIn:hH,backInOut:upe,backOut:cpe,anticipate:dpe},kZ=t=>{if(aH(t)){LD(t.length===4);const[e,n,r,i]=t;return dA(e,n,r,i)}else if(typeof t=="string")return LD(CZ[t]!==void 0),CZ[t];return t};function yOe(t,e,n){const r=[],i=n||$pe,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||zl:e;a=hA(l,a)}r.push(a)}return r}function wOe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(LD(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=yOe(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=cx(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Np(t[0],t[s-1],u)):c}function bOe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=cx(0,e,r);t.push(ti(n,1,i))}}function vOe(t){const e=[0];return bOe(e,t.length-1),e}function xOe(t,e){return t.map(n=>n*e)}function EOe(t,e){return t.map(()=>e||Rpe).splice(0,t.length-1)}function rS({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=gOe(r)?r.map(kZ):kZ(r),s={done:!1,value:e[0]},o=xOe(n&&n.length===e.length?n:vOe(e),t),a=wOe(o,e,{ease:Array.isArray(i)?i:EOe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const AOe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Lr.update(e,!0),stop:()=>og(e),now:()=>Os.isProcessing?Os.timestamp:$h.now()}},COe={decay:AZ,inertia:AZ,tween:rS,keyframes:rS,spring:Ppe},kOe=t=>t/100;class bH extends Ipe{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||yH,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=oH(n)?n:COe[n]||rS;let l,c;a!==rS&&typeof e[0]!="number"&&(l=hA(kOe,$pe(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Qfe(u));const{calculatedDuration:h}=u,f=h+i,p=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,A=s;if(p){const R=Math.min(this.currentTime,u)/h;let M=Math.floor(R),F=R%1;!F&&R>=1&&(F=1),F===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/h)):m==="mirror"&&(A=o)),b=Np(0,1,F)*h}const E=v?{done:!1,value:l[0]}:A.next(b);a&&(E.value=a(E.value));let{done:$}=E;!v&&c!==null&&($=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return N&&i!==void 0&&(E.value=XI(l,this.options,i)),y&&y(E.value),N&&this.finish(),E}get duration(){const{resolved:e}=this;return e?pp(e.calculatedDuration):0}get time(){return pp(this.currentTime)}set time(e){e=fp(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pp(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=AOe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _Oe=new Set(["opacity","clipPath","filter","transform"]);function SOe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Xfe(a,i);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const IOe=VW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iS=10,TOe=2e4;function $Oe(t){return oH(t.type)||t.type==="spring"||!Jfe(t.ease)}function NOe(t,e){const n=new bH({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<TOe;)r=n.sample(s),i.push(r.value),s+=iS;return{times:void 0,keyframes:i,duration:s-iS,ease:"linear"}}const jpe={anticipate:dpe,backInOut:upe,circInOut:fpe};function POe(t){return t in jpe}class _Z extends Ipe{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Spe(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&tS()&&POe(s)&&(s=jpe[s]),$Oe(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:m,...g}=this.options,y=NOe(e,g);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const u=SOe(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(cZ(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(XI(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return pp(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return pp(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=fp(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return zl;const{animation:r}=n;cZ(r,e)}return zl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...p}=this.options,m=new bH({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=fp(this.time);c.setWithVelocity(m.sample(g-iS).value,m.sample(g).value,iS)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return IOe()&&r&&_Oe.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const ROe={type:"spring",stiffness:500,damping:25,restSpeed:10},jOe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OOe={type:"keyframes",duration:.8},MOe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DOe=(t,{keyframes:e})=>e.length>2?OOe:gw.has(t)?t.startsWith("scale")?jOe(e[1]):ROe:MOe;function BOe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const vH=(t,e,n,r={},i,s)=>o=>{const a=sH(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-fp(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};BOe(a)||(u={...u,...DOe(t,u)}),u.duration&&(u.duration=fp(u.duration)),u.repeatDelay&&(u.repeatDelay=fp(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=XI(u.keyframes,a);if(f!==void 0)return Lr.update(()=>{u.onUpdate(f),u.onComplete()}),new ije([])}return!s&&_Z.supports(u)?new _Z(u):new bH(u)};function LOe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ope(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||u&&LOe(u,h))continue;const m={delay:n,...sH(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const w=spe(t);if(w){const v=window.MotionHandoffAnimation(w,h,Lr);v!==null&&(m.startTime=v,g=!0)}}WD(t,h),f.start(vH(h,f,p,t.shouldReduceMotion&&rpe.has(h)?{type:!1}:m,t,g));const y=f.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{Lr.update(()=>{a&&wje(t,a)})}),c}function QD(t,e,n={}){var r;const i=JI(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Ope(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return FOe(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function FOe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(UOe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(QD(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function UOe(t,e){return t.sortNodePosition(e)}function zOe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>QD(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=QD(t,e,n);else{const i=typeof e=="function"?JI(t,e,n.custom):e;r=Promise.all(Ope(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const WOe=GW.length;function Mpe(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Mpe(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WOe;n++){const r=GW[n],i=t.props[r];(z4(i)||i===!1)&&(e[r]=i)}return e}const HOe=[...qW].reverse(),VOe=qW.length;function qOe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zOe(t,n,r)))}function GOe(t){let e=qOe(t),n=SZ(),r=!0;const i=l=>(c,u)=>{var h;const f=JI(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=Mpe(t.parent)||{},h=[],f=new Set;let p={},m=1/0;for(let y=0;y<VOe;y++){const w=HOe[y],v=n[w],b=c[w]!==void 0?c[w]:u[w],A=z4(b),E=w===l?v.isActive:null;E===!1&&(m=y);let $=b===u[w]&&b!==c[w]&&A;if($&&r&&t.manuallyAnimateOnMount&&($=!1),v.protectedKeys={...p},!v.isActive&&E===null||!b&&!v.prevProp||QI(b)||typeof b=="boolean")continue;const N=KOe(v.prevProp,b);let R=N||w===l&&v.isActive&&!$&&A||y>m&&A,M=!1;const F=Array.isArray(b)?b:[b];let W=F.reduce(i(w),{});E===!1&&(W={});const{prevResolvedValues:H={}}=v,L={...H,...W},k=T=>{R=!0,f.has(T)&&(M=!0,f.delete(T)),v.needsAnimating[T]=!0;const S=t.getValue(T);S&&(S.liveStyle=!1)};for(const T in L){const S=W[T],P=H[T];if(p.hasOwnProperty(T))continue;let D=!1;FD(S)&&FD(P)?D=!Yfe(S,P):D=S!==P,D?S!=null?k(T):f.add(T):S!==void 0&&f.has(T)?k(T):v.protectedKeys[T]=!0}v.prevProp=b,v.prevResolvedValues=W,v.isActive&&(p={...p,...W}),r&&t.blockInitialAnimation&&(R=!1),R&&(!($&&N)||M)&&h.push(...F.map(T=>({animation:T,options:{type:w}})))}if(f.size){const y={};f.forEach(w=>{const v=t.getBaseTarget(w),b=t.getValue(w);b&&(b.liveStyle=!0),y[w]=v??null}),h.push({animation:y})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=SZ(),r=!0}}}function KOe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yfe(e,t):!1}function Mg(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SZ(){return{animate:Mg(!0),whileInView:Mg(),whileHover:Mg(),whileTap:Mg(),whileDrag:Mg(),whileFocus:Mg(),exit:Mg()}}class xg{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YOe extends xg{constructor(e){super(e),e.animationState||(e.animationState=GOe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();QI(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let QOe=0;class ZOe extends xg{constructor(){super(...arguments),this.id=QOe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JOe={animation:{Feature:YOe},exit:{Feature:ZOe}};function q4(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fA(t){return{point:{x:t.pageX,y:t.pageY}}}const XOe=t=>e=>lH(e)&&t(e,fA(e));function F6(t,e,n,r){return q4(t,e,XOe(n),r)}const IZ=(t,e)=>Math.abs(t-e);function eMe(t,e){const n=IZ(t.x,e.x),r=IZ(t.y,e.y);return Math.sqrt(n**2+r**2)}class Dpe{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=KP(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=eMe(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:g}=Os;this.history.push({...m,timestamp:g});const{onStart:y,onMove:w}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=GP(f,this.transformPagePoint),Lr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=KP(h.type==="pointercancel"?this.lastMoveEventInfo:GP(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),m&&m(h,y)},!lH(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=fA(e),a=GP(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Os;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,KP(a,this.history)),this.removeListeners=hA(F6(this.contextWindow,"pointermove",this.handlePointerMove),F6(this.contextWindow,"pointerup",this.handlePointerUp),F6(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),og(this.updatePoint)}}function GP(t,e){return e?{point:e(t.point)}:t}function TZ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function KP({point:t},e){return{point:t,delta:TZ(t,Bpe(e)),offset:TZ(t,tMe(e)),velocity:nMe(e,.1)}}function tMe(t){return t[0]}function Bpe(t){return t[t.length-1]}function nMe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Bpe(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>fp(e)));)n--;if(!r)return{x:0,y:0};const s=pp(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Lpe=1e-4,rMe=1-Lpe,iMe=1+Lpe,Fpe=.01,sMe=0-Fpe,oMe=0+Fpe;function Gl(t){return t.max-t.min}function aMe(t,e,n){return Math.abs(t-e)<=n}function $Z(t,e,n,r=.5){t.origin=r,t.originPoint=ti(e.min,e.max,t.origin),t.scale=Gl(n)/Gl(e),t.translate=ti(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rMe&&t.scale<=iMe||isNaN(t.scale))&&(t.scale=1),(t.translate>=sMe&&t.translate<=oMe||isNaN(t.translate))&&(t.translate=0)}function U6(t,e,n,r){$Z(t.x,e.x,n.x,r?r.originX:void 0),$Z(t.y,e.y,n.y,r?r.originY:void 0)}function NZ(t,e,n){t.min=n.min+e.min,t.max=t.min+Gl(e)}function lMe(t,e,n){NZ(t.x,e.x,n.x),NZ(t.y,e.y,n.y)}function PZ(t,e,n){t.min=e.min-n.min,t.max=t.min+Gl(e)}function z6(t,e,n){PZ(t.x,e.x,n.x),PZ(t.y,e.y,n.y)}function cMe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ti(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ti(n,t,r.max):Math.min(t,n)),t}function RZ(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uMe(t,{top:e,left:n,bottom:r,right:i}){return{x:RZ(t.x,n,i),y:RZ(t.y,e,r)}}function jZ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dMe(t,e){return{x:jZ(t.x,e.x),y:jZ(t.y,e.y)}}function hMe(t,e){let n=.5;const r=Gl(t),i=Gl(e);return i>r?n=cx(e.min,e.max-r,t.min):r>i&&(n=cx(t.min,t.max-i,e.min)),Np(0,1,n)}function fMe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ZD=.35;function pMe(t=ZD){return t===!1?t=0:t===!0&&(t=ZD),{x:OZ(t,"left","right"),y:OZ(t,"top","bottom")}}function OZ(t,e,n){return{min:MZ(t,e),max:MZ(t,n)}}function MZ(t,e){return typeof t=="number"?t:t[e]||0}const DZ=()=>({translate:0,scale:1,origin:0,originPoint:0}),nv=()=>({x:DZ(),y:DZ()}),BZ=()=>({min:0,max:0}),xi=()=>({x:BZ(),y:BZ()});function xc(t){return[t("x"),t("y")]}function Upe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mMe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gMe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function YP(t){return t===void 0||t===1}function JD({scale:t,scaleX:e,scaleY:n}){return!YP(t)||!YP(e)||!YP(n)}function Kg(t){return JD(t)||zpe(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zpe(t){return LZ(t.x)||LZ(t.y)}function LZ(t){return t&&t!=="0%"}function sS(t,e,n){const r=t-n,i=e*r;return n+i}function FZ(t,e,n,r,i){return i!==void 0&&(t=sS(t,i,r)),sS(t,n,r)+e}function XD(t,e=0,n=1,r,i){t.min=FZ(t.min,e,n,r,i),t.max=FZ(t.max,e,n,r,i)}function Wpe(t,{x:e,y:n}){XD(t.x,e.translate,e.scale,e.originPoint),XD(t.y,n.translate,n.scale,n.originPoint)}const UZ=.999999999999,zZ=1.0000000000001;function yMe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&iv(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Wpe(t,o)),r&&Kg(s.latestValues)&&iv(t,s.latestValues))}e.x<zZ&&e.x>UZ&&(e.x=1),e.y<zZ&&e.y>UZ&&(e.y=1)}function rv(t,e){t.min=t.min+e,t.max=t.max+e}function WZ(t,e,n,r,i=.5){const s=ti(t.min,t.max,i);XD(t,e,n,s,r)}function iv(t,e){WZ(t.x,e.x,e.scaleX,e.scale,e.originX),WZ(t.y,e.y,e.scaleY,e.scale,e.originY)}function Hpe(t,e){return Upe(gMe(t.getBoundingClientRect(),e))}function wMe(t,e,n){const r=Hpe(t,n),{scroll:i}=e;return i&&(rv(r.x,i.offset.x),rv(r.y,i.offset.y)),r}const Vpe=({current:t})=>t?t.ownerDocument.defaultView:null,bMe=new WeakMap;class vMe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fA(u).point)},s=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fje(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xc(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Th.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[y];b&&(w=Gl(b)*(parseFloat(w)/100))}}this.originPoint[y]=w}),m&&Lr.postRender(()=>m(u,h)),WD(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=xMe(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(u,h)},a=(u,h)=>this.stop(u,h),l=()=>xc(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Dpe(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Vpe(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Lr.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zC(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cMe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ev(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uMe(i.layoutBox,n):this.constraints=!1,this.elastic=pMe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fMe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ev(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=wMe(r,i.root,this.visualElement.getTransformPagePoint());let o=dMe(i.layout.layoutBox,s);if(n){const a=n(mMe(o));this.hasMutatedConstraints=!!a,a&&(o=Upe(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xc(u=>{if(!zC(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return WD(this.visualElement,e),r.start(vH(e,r,0,n,this.visualElement,!1))}stopAnimation(){xc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xc(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xc(n=>{const{drag:r}=this.getProps();if(!zC(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ti(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ev(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xc(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=hMe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xc(o=>{if(!zC(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ti(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;bMe.set(this.visualElement,this);const e=this.visualElement.current,n=F6(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ev(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Lr.read(r);const o=q4(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xc(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ZD,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zC(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xMe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class EMe extends xg{constructor(e){super(e),this.removeGroupControls=zl,this.removeListeners=zl,this.controls=new vMe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zl}unmount(){this.removeGroupControls(),this.removeListeners()}}const HZ=t=>(e,n)=>{t&&Lr.postRender(()=>t(e,n))};class AMe extends xg{constructor(){super(...arguments),this.removePointerDownListener=zl}onPointerDown(e){this.session=new Dpe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vpe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:HZ(e),onStart:HZ(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Lr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=F6(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const b9={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VZ(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const p5={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ft.test(t))t=parseFloat(t);else return t;const n=VZ(t,e.target.x),r=VZ(t,e.target.y);return`${n}% ${r}%`}},CMe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ag.parse(t);if(i.length>5)return r;const s=ag.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ti(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class kMe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;qRe(_Me),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),b9.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Lr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YW.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qpe(t){const[e,n]=Tfe(),r=x.useContext(UW);return d.jsx(kMe,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(Mfe),isPresent:e,safeToRemove:n})}const _Me={borderRadius:{...p5,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:p5,borderTopRightRadius:p5,borderBottomLeftRadius:p5,borderBottomRightRadius:p5,boxShadow:CMe};function SMe(t,e,n){const r=So(t)?t:H4(t);return r.start(vH("",r,e,n)),r.animation}function IMe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const TMe=(t,e)=>t.depth-e.depth;class $Me{constructor(){this.children=[],this.isDirty=!1}add(e){cH(this.children,e),this.isDirty=!0}remove(e){uH(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TMe),this.isDirty=!1,this.children.forEach(e)}}function NMe(t,e){const n=$h.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(og(r),t(s-e))};return Lr.read(r,!0),()=>og(r)}const Gpe=["TopLeft","TopRight","BottomLeft","BottomRight"],PMe=Gpe.length,qZ=t=>typeof t=="string"?parseFloat(t):t,GZ=t=>typeof t=="number"||Ft.test(t);function RMe(t,e,n,r,i,s){i?(t.opacity=ti(0,n.opacity!==void 0?n.opacity:1,jMe(r)),t.opacityExit=ti(e.opacity!==void 0?e.opacity:1,0,OMe(r))):s&&(t.opacity=ti(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<PMe;o++){const a=`border${Gpe[o]}Radius`;let l=KZ(e,a),c=KZ(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||GZ(l)===GZ(c)?(t[a]=Math.max(ti(qZ(l),qZ(c),r),0),(Th.test(c)||Th.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ti(e.rotate||0,n.rotate||0,r))}function KZ(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jMe=Kpe(0,.5,hpe),OMe=Kpe(.5,.95,zl);function Kpe(t,e,n){return r=>r<t?0:r>e?1:n(cx(t,e,r))}function YZ(t,e){t.min=e.min,t.max=e.max}function cc(t,e){YZ(t.x,e.x),YZ(t.y,e.y)}function QZ(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZZ(t,e,n,r,i){return t-=e,t=sS(t,1/n,r),i!==void 0&&(t=sS(t,1/i,r)),t}function MMe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Th.test(e)&&(e=parseFloat(e),e=ti(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ti(s.min,s.max,r);t===s&&(a-=e),t.min=ZZ(t.min,e,n,a,i),t.max=ZZ(t.max,e,n,a,i)}function JZ(t,e,[n,r,i],s,o){MMe(t,e[n],e[r],e[i],e.scale,s,o)}const DMe=["x","scaleX","originX"],BMe=["y","scaleY","originY"];function XZ(t,e,n,r){JZ(t.x,e,DMe,n?n.x:void 0,r?r.x:void 0),JZ(t.y,e,BMe,n?n.y:void 0,r?r.y:void 0)}function eJ(t){return t.translate===0&&t.scale===1}function Ype(t){return eJ(t.x)&&eJ(t.y)}function tJ(t,e){return t.min===e.min&&t.max===e.max}function LMe(t,e){return tJ(t.x,e.x)&&tJ(t.y,e.y)}function nJ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Qpe(t,e){return nJ(t.x,e.x)&&nJ(t.y,e.y)}function rJ(t){return Gl(t.x)/Gl(t.y)}function iJ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FMe{constructor(){this.members=[]}add(e){cH(this.members,e),e.scheduleRender()}remove(e){if(uH(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UMe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Yg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},s6=typeof window<"u"&&window.MotionDebug!==void 0,QP=["","X","Y","Z"],zMe={visibility:"hidden"},sJ=1e3;let WMe=0;function ZP(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Zpe(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=spe(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Zpe(r)}function Jpe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=WMe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,s6&&(Yg.totalNodes=Yg.resolvedTargetDeltas=Yg.recalculatedProjection=0),this.nodes.forEach(qMe),this.nodes.forEach(ZMe),this.nodes.forEach(JMe),this.nodes.forEach(GMe),s6&&window.MotionDebug.record(Yg)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $Me)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dH),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IMe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=NMe(f,250),b9.hasAnimatedSinceResize&&(b9.hasAnimatedSinceResize=!1,this.nodes.forEach(aJ))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||rDe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!Qpe(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const A={...sH(g,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||aJ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,og(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XMe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zpe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oJ);return}this.isUpdating||this.nodes.forEach(YMe),this.isUpdating=!1,this.nodes.forEach(QMe),this.nodes.forEach(HMe),this.nodes.forEach(VMe),this.clearAllSnapshots();const a=$h.now();Os.delta=Np(0,1e3/60,a-Os.timestamp),Os.timestamp=a,Os.isProcessing=!0,UP.update.process(Os),UP.preRender.process(Os),UP.render.process(Os),Os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YW.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KMe),this.sharedNodes.forEach(eDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ype(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Kg(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),iDe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return xi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sDe))){const{scroll:u}=this.root;u&&(rv(l.x,u.offset.x),rv(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=xi();if(cc(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&cc(l,o),rv(l.x,h.offset.x),rv(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=xi();cc(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&iv(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Kg(u.latestValues)&&iv(l,u.latestValues)}return Kg(this.latestValues)&&iv(l,this.latestValues),l}removeTransform(o){const a=xi();cc(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Kg(c.latestValues))continue;JD(c.latestValues)&&c.updateSnapshot();const u=xi(),h=c.measurePageBox();cc(u,h),XZ(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Kg(this.latestValues)&&XZ(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Os.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xi(),this.relativeTargetOrigin=xi(),z6(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),cc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xi(),this.targetWithTransforms=xi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lMe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cc(this.target,this.layout.layoutBox),Wpe(this.target,this.targetDelta)):cc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xi(),this.relativeTargetOrigin=xi(),z6(this.relativeTargetOrigin,this.target,p.target),cc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}s6&&Yg.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||JD(this.parent.latestValues)||zpe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Os.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;cc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;yMe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xi());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QZ(this.prevProjectionDelta.x,this.projectionDelta.x),QZ(this.prevProjectionDelta.y,this.projectionDelta.y)),U6(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!iJ(this.projectionDelta.x,this.prevProjectionDelta.x)||!iJ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),s6&&Yg.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nv(),this.projectionDelta=nv(),this.projectionDeltaWithTransform=nv()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=nv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=xi(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),w=!y||y.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(nDe));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const E=A/1e3;lJ(h.x,o.x,E),lJ(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(z6(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tDe(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&LMe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=xi()),cc(b,this.relativeTarget)),g&&(this.animationValues=u,RMe(u,c,this.latestValues,E,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(og(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lr.update(()=>{b9.hasAnimatedSinceResize=!0,this.currentAnimation=SMe(0,sJ,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Xpe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xi();const h=Gl(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Gl(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}cc(a,l),iv(a,u),U6(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FMe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ZP("z",o,c,this.animationValues);for(let u=0;u<QP.length;u++)ZP(`rotate${QP[u]}`,o,c,this.animationValues),ZP(`skew${QP[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zMe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=y9(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=y9(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Kg(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=UMe(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in eS){if(f[g]===void 0)continue;const{correct:y,applyTo:w}=eS[g],v=c.transform==="none"?f[g]:y(f[g],h);if(w){const b=w.length;for(let A=0;A<b;A++)c[w[A]]=v}else c[g]=v}return this.options.layoutId&&(c.pointerEvents=h===this?y9(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(oJ),this.root.sharedNodes.clear()}}}function HMe(t){t.updateLayout()}function VMe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?xc(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gl(f);f.min=r[h].min,f.max=f.min+p}):Xpe(s,n.layoutBox,r)&&xc(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Gl(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=nv();U6(a,r,n.layoutBox);const l=nv();o?U6(l,t.applyTransform(i,!0),n.measuredBox):U6(l,r,n.layoutBox);const c=!Ype(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=xi();z6(m,n.layoutBox,f.layoutBox);const g=xi();z6(g,r,p.layoutBox),Qpe(m,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function qMe(t){s6&&Yg.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GMe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function KMe(t){t.clearSnapshot()}function oJ(t){t.clearMeasurements()}function YMe(t){t.isLayoutDirty=!1}function QMe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function aJ(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZMe(t){t.resolveTargetDelta()}function JMe(t){t.calcProjection()}function XMe(t){t.resetSkewAndRotation()}function eDe(t){t.removeLeadSnapshot()}function lJ(t,e,n){t.translate=ti(e.translate,0,n),t.scale=ti(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cJ(t,e,n,r){t.min=ti(e.min,n.min,r),t.max=ti(e.max,n.max,r)}function tDe(t,e,n,r){cJ(t.x,e.x,n.x,r),cJ(t.y,e.y,n.y,r)}function nDe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rDe={duration:.45,ease:[.4,0,.1,1]},uJ=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),dJ=uJ("applewebkit/")&&!uJ("chrome/")?Math.round:zl;function hJ(t){t.min=dJ(t.min),t.max=dJ(t.max)}function iDe(t){hJ(t.x),hJ(t.y)}function Xpe(t,e,n){return t==="position"||t==="preserve-aspect"&&!aMe(rJ(e),rJ(n),.2)}function sDe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oDe=Jpe({attachResizeListener:(t,e)=>q4(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JP={current:void 0},e0e=Jpe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!JP.current){const t=new oDe({});t.mount(window),t.setOptions({layoutScroll:!0}),JP.current=t}return JP.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aDe={pan:{Feature:AMe},drag:{Feature:EMe,ProjectionNode:e0e,MeasureLayout:qpe}};function fJ(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Lr.postRender(()=>s(e,fA(e)))}class lDe extends xg{mount(){const{current:e}=this.node;e&&(this.unmount=lje(e,n=>(fJ(this.node,n,"Start"),r=>fJ(this.node,r,"End"))))}unmount(){}}class cDe extends xg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hA(q4(this.node.current,"focus",()=>this.onFocus()),q4(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pJ(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Lr.postRender(()=>s(e,fA(e)))}class uDe extends xg{mount(){const{current:e}=this.node;e&&(this.unmount=hje(e,n=>(pJ(this.node,n,"Start"),(r,{success:i})=>pJ(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eB=new WeakMap,XP=new WeakMap,dDe=t=>{const e=eB.get(t.target);e&&e(t)},hDe=t=>{t.forEach(dDe)};function fDe({root:t,...e}){const n=t||document;XP.has(n)||XP.set(n,{});const r=XP.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hDe,{root:t,...e})),r[i]}function pDe(t,e,n){const r=fDe(e);return eB.set(t,n),r.observe(t),()=>{eB.delete(t),r.unobserve(t)}}const mDe={some:0,all:1};class gDe extends xg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mDe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return pDe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yDe(e,n))&&this.startObserver()}unmount(){}}function yDe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wDe={inView:{Feature:gDe},tap:{Feature:uDe},focus:{Feature:cDe},hover:{Feature:lDe}},bDe={layout:{ProjectionNode:e0e,MeasureLayout:qpe}},tB={current:null},t0e={current:!1};function vDe(){if(t0e.current=!0,!!HW)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>tB.current=t.matches;t.addListener(e),e()}else tB.current=!1}const xDe=[..._pe,wo,ag],EDe=t=>xDe.find(kpe(t)),mJ=new WeakMap;function ADe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(So(i))t.addValue(r,i);else if(So(s))t.addValue(r,H4(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,H4(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const gJ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CDe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=$h.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Lr.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ZI(n),this.isVariantNode=jfe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&So(m)&&m.set(l[p],!1)}}mount(e){this.current=e,mJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),t0e.current||vDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tB.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){mJ.delete(this.current),this.projection&&this.projection.unmount(),og(this.notifyUpdate),og(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=gw.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Lr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ux){const n=ux[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gJ.length;r++){const i=gJ[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ADe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=H4(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Ape(i)||ppe(i))?i=parseFloat(i):!EDe(i)&&ag.test(n)&&(i=vpe(e,n)),this.setBaseTarget(e,So(i)?i.get():i)),So(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=ZW(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!So(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dH),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class n0e extends CDe{constructor(){super(...arguments),this.KeyframeResolver=Spe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;So(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kDe(t){return window.getComputedStyle(t)}class _De extends n0e{constructor(){super(...arguments),this.type="html",this.renderInstance=Wfe}readValueFromInstance(e,n){if(gw.has(n)){const r=gH(n);return r&&r.default||0}else{const r=kDe(e),i=(Ffe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Hpe(e,n)}build(e,n,r){eH(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iH(e,n,r)}}class SDe extends n0e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gw.has(n)){const r=gH(n);return r&&r.default||0}return n=Hfe.has(n)?n:KW(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Gfe(e,n,r)}build(e,n,r){tH(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Vfe(e,n,r,i)}mount(e){this.isSVGTag=rH(e.tagName),super.mount(e)}}const IDe=(t,e)=>QW(t)?new SDe(e):new _De(e,{allowProjection:t!==x.Fragment}),TDe=tje({...JOe,...wDe,...aDe,...bDe},IDe),me=gRe(TDe),qr="/assets/logo-fa6wkVlV.png",sv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1oSURBVHgB7V1rcFRXHT/7yGM3Dx5JkZBgAyGhJTUYiNCURgjt8GhpVSx0+qFjv+ooHXFGp36R+kU/6Ti1ok5VGJU6RSmDLVSqA0PHQigZoJQU5GFqIo+keWxCkt3s4/T3Y29aCPdu9nHu3ptwfzNn7t3s5t5zz//9P/9zrhAOHDhw4MCBgykBj3AgFixYkOfxeHzTpk3zNjQ0yPb29piwCC5xl0NK+bmhoaHnY7FYIz52er3ePT6f78i8efOGQJgQfyIcZAcgRjEIcQTHEFoUbRRtCH/rBJFeHh4efnDRokWFwmHcrMAdDAbXgQA3pD5GQZjAjRs33hoZGVnlEMZkVFZW5g8MDPxck4pEiIAwAyDM2+FweEVZWZlfOFCPhQsXFg0ODp7GgMdkcoiCMP34n+04LxOOQ6QULgzqvWh9MnVQoi6BME8tXbrUkRZF8MIufAMDOyzTRDQaHYThp7TMEA4yQ2Njow82YScGMywzQxDtTbRy4Rj89IEBnA570C6Ttx+JQKN/JhQK1eLcIUoacI2Ojn4Rgzcg1YGEvQyifCFTorjFXQbEEzkgSDNOc4Q6kAiVubm5e3C8T2SgvrzCfnCtWrXKg7SFFxznjkQi7pkzZ7pgRF085w/cbvfNdAY8nSjPkeqIJpvmwG+9UDGrhVqC3Ow3WhXa3yAlT7hcrssijbSLHXSei1yLHFLO6dOnfQi+qtCoj+/HwC3C8R483DQ0Hz7TzXTjnMY0ivOPcd6B4yX8/6tNTU0nW1tbw4luhv8rRfsA/zdLmPP8TEweQ3sS9+gRkwUgQi6DM0jBA/B4vgduP4gB79V0O91RDnpEJja8Ue03jA26cY2NkK5EUu9mGkQap0tUYTQQCGynNydsDldFRYUPSbtyEGErUhcfgAiDGgEiMjPEcL0zJLLRzZlmB9F+LOPENhV4riH057kJGMQ6oGP5MKaLQYhX0Nlu9HlEqnE7P0V/f//HyFFNN+oDE4Tg3H+rvq8R8Jxd0AAZGXnlIFciq1oFzvw1s6dy4mRe2s8PjjxXWlpqKCH4TRn60COzhwj69IYtUizoDPNFJZCIn+BIiTCLEGMI415/pEo06JKXNkaabz9uAxgAGnr4a5s2bbIuGUmpQCca0Z/3ZXzyJxsYwYBvATfqurNMt+P7X0rzGWM8QJPYeRxLhBXAjYuRdPsRU9UyS7pawwCYYLkw0NdgkmKoj7NZ7tMYRtC3LfQsRRZBFTULba/MghczHggcu6QxF7pox/CbgLQOF9CmTzSISlInMm4v5uP072iPo+WJ7CIGqWybPXt20OB7L/rXjKhedXSeCsrRxycmcoMzJgiJgci6HseD+NggrEnHRNCOFxUVRfS+RIDmRdrFjHRJKsiHGt/S1dWVL0yEi2ln3Oi/0hrdPIYh6OinjLhPxtPtHRb3UWpu/6yEAyoyIAYuXoX2BnI2NcLC4IdFCFBHdejH/8SdCT2m25fk5OQcwnmRsBAYq+vo4yK0XqPfpK2ycPEytNetJga7At3cU11d3Sd0sqtaut1qdUUwHtmJfg4l+lFa+h6EKEZ7GcSwQ1ogin4cB1F07QezyPCuHhHWEISZZ04TX4GX91JBQcHvLl68OJroH1KWEAZYoPS3MQjrhD3mU5iUPD5jxgxdgjClD2NfL7JXtsN+MFl6DUyyCzb2GYzVUkwNbMeR0qG0NJXp69XQ2emUz5iFQTDICqHPXG54gI9K89MldBZGGAwj+NyH/jyDzyVM45iaMuFNZDwdYqm3Mg6GASFTOMhv/VSal74JcfqABXe4zw/w+V4mEjNJuSf9jwz7Qflv+v3+amGfdDIzvBdqamp0A0LMcedgwFTPn1Ml0Q5cg7bYBxv1p+XLl5/n39ra2kZFlnDTxcXDXZP2QggE+RklQa/T+L5cm4XMFDTMrIrnrORfYBuexOdi2lOhmDmTkpCysjIWlr1YWFhoTcbSGBFw6HvQ1VF4L+O/88LdfQhSkm4ah8aXqi6EZ38Hcc6r8JIOQh0Nz58/P7R79+6osAiUjhq4jio4TSm0yHee0OFSLd3+G5l6ul25XUgFE94ED0bDuBXSYWmUqwOJfvUvWbKElR13uJLg6DzNfiQzkIwXqP+v0y6ACH+GXTgnsmwXkgGl4/PaHLidPCsiDPvxV4P1Gky312gSZATGL8O0i7jO70GIR3t6ekyxC6kgIfdAVL0wYE9Dd9px9VAEUtDCgPDq1avjv/Mi/ngkLy9v/ITQmF0YhUo65vF4duHZDsCDHERGeNRKu5AUWFID7jku7ScdxCC4eqXQCQhZD0XpkZ9Vt99hF+rq6gqMpnutRCKuZ2r9PmRJjyHkLxY2Awa1R8ucdul8NxOHM2jTcX4N8dNuPMeu+vp6lnembRdIwM7OzlxI1U3NAi9uFJ8ZAylLhxiqLPj2ubjf1zNwG82EBLdfRh+Hdb5z9/b2zoa6OgCX+DWo3GMw0CEtqZfqwLk4DgwwW1tb78Ek11oQeANaA5qAytsLZ+cFMEWfMBsU6UAg8E8ZL9e0G2gDXtIMsB486eaRtm3b5uZ1qa6h3haDoD+E+ntXcxDGV1iy0uW3CUqP1AE3m2nDyHwMw7Afz6qKDUg4DiquW8zkKaN/tA9lvM6YFZaJmJKFd8oCZiMbwlm2L0Hv/gvnhcJ+GERrgKq4INLU35pBzzl8+HABvLVGMN9jsA3rcE0OLr+jh5aMZ8m+rMb/tQoFtsRr0FkuilwOgtiyUBgcGcAAXBcpDgATpJywamlpmaXZg8dBhEZci6pvjAipgqHBA5DWUyBuRGQI3QFHgETdu0DYc4VVFANwAhne8EQ/pD3YsWNHLgw8157MARHWQxI25ufn14n44LNlOl/hwTVr4W3xOuYQBB0H07i4stSOBKFRfQ+crRvE0R4cPXo0t6OjIwfResPWrVs34M/rQZRyND6vCiLcCl7rfjCJkmvqEqS4uJgXLxf23K0gAlXaAjf2UwkZsweHDh3ywxVdAY5dj89rIQmlaKnYg3TA65aOLbfLFLoEgUF3y/j2EXZEEIN8Bjqb8YZPswdr0N8NiAkytQfpgIQo4jrI7u5ukSl0CQIOc2kPZrf8FdfvdYBhSvbv3/80CLHpFntAIljihIAZirgoVSiAPZdbGYPcWIvIuUXE+67aHqQFEMRPJhYKMNkIQuQI64vebgO0iVRFEENDBKoLB0kjiPhGyT6NugTRFuYHhYNkICEhg/39/Uo4WJcg0NG06pz1ccRkYjCfNUC1JRRAlyB9fX0xrZLc3jNo9oCERukyVWUhoiVBOkXczXSQGExrtBllDlKFLkH8fj+nbD8SDkGSAcfoQ9aGCQUwctVYVP0wgq43hT3T73bCYDgcXg27qyT9buT2xkCMNkhJxtnLqQ7EHyHk1qhNzDPqRG1tbRBTmP8RjqeVCFz9e2LOnDlDQhEMCYJ8URjGiitrbVW5ZzOMwrt6y2ixUDpIWAYEonDW8G3h2BFdMP6A/XgQXinLTs1VWSJeakM7cl040ANri9vr6uoYHihT6wknVZqamoJcJ4fTkHAwHiGo9FcwB6M0xTRhhpJFy3DpTuDmdqt+txTQHF0Yk3q0K0IhJpx2bG5u7oBoshzIcYE/QxiaY+/cuXOVVywmk8N388UmiEsOghsKhAPGHn2YrfwyjPlZoXqZcxK/icGWnOKyLuEkG4kI1PhrVVVVl4QJMVqys1x0gevgcx+xYyV8NsGNLZHdXYZx+EiYgGRLV+SaNWvOax7XhAVqUxgQjuCvqqurrwmTkNI8MDyLCrR3wB2V4u4D1dNJtDVm7lidUnHX5s2br8KWfBenynI3kwQkRi+i8m8l2lrJEnBD5DSXG09WcG5oGIz4gtEGBSqRVumKjK+H4P6K3AV0qr/ygrXE3KTtObSAMBlp1xLBuFUjgv8HOjlPTF1QQo7jGb+iLX8wHZkUd7H+l2+q2adVyk81kBiXuS8Y2kWRJWSibmIw8qfhCj+L86mWEaYRJzE2ol0SkwlcjwEj34yA6YqcGqARP4fGl8lMzpd8caUS1yTaYLvYTMB+h/EM78M+cvWYJcRQeVPui0IDvxNtmcje+gxV4PboB6CivqOl1KdGLQEeqhR2hXGKytfSmQlKRi9fu4Tj1Jyq5v5SAwMDX8UD8uWNdg4gKRUnMb3wsB33PVENDx62gu+L1XYxtdOOENyU5jqk4vs4TqcNFHcLuDMPiNKAhz/ALcGltYShtPZBev9Aw303SIUR+K7CQqiGh+Ai79EkhvtWZcMjG9tTtxtM8QtmGCbD6+yyBTc3tcEA8SVhL+J4CY2vzQtKtcRh/ol7lAwEAoF3wQjPo81NsFmNbWBZ4MNtLs6ePetHSnsh2mPRaHRtYWFhNVxOZlS5kNOtNU+CfsZuaZxevrnNN4h9CrN6hzHD+fqyZcs6Mf8dttveiUawQyTqRlo7B5yc09XV5YNKYYS8GINYyRwZziugbir4dhx5+7rHINewoP1faxf8fn9Lf39/+8qVK8OQiEiae2RZCjumBtwwth4QyA3i8MXErHrxjF/lynWQXHrn8/liPT09sZKSkmhrayslxCkOd+DAgQMHDhxYj08AfirQRGsl1YgAAAAASUVORK5CYII=";function $De(){const t=cr(),e=x.useCallback(()=>{t("/onboarding/1")},[t]);return x.useEffect(()=>{const n=setTimeout(e,4e3);return()=>clearTimeout(n)},[e]),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-6 px-4",children:[d.jsx(me.div,{initial:{opacity:0,scale:.5,rotate:-45},animate:{opacity:.08,scale:1,rotate:0},transition:{duration:2,ease:"easeOut"},className:"absolute top-16 right-6 z-0",children:d.jsx("img",{src:sv,alt:"",className:"w-24 h-24 rotate-12"})}),d.jsx(me.div,{initial:{opacity:0,scale:.3,rotate:45},animate:{opacity:.06,scale:1,rotate:0},transition:{duration:2.5,delay:.5,ease:"easeOut"},className:"absolute bottom-32 left-6 z-0",children:d.jsx("img",{src:sv,alt:"",className:"w-20 h-20 -rotate-12"})}),d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-center w-full max-w-md relative z-10",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:qr,alt:"Lighter Farm",className:"w-auto h-20"}),d.jsx(me.div,{initial:{opacity:0},animate:{opacity:[0,.4,0],scale:[.8,1.2,.8]},transition:{duration:3,repeat:1/0,delay:1.5,ease:"easeInOut"},className:"absolute inset-0 w-20 h-20 bg-[#D4B679]/30 rounded-full blur-xl"})]})}),d.jsxs(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:[d.jsxs(me.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},className:"inline-block",children:["Farm."," "]}),d.jsxs(me.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7,duration:.6},className:"inline-block",children:["Buy."," "]}),d.jsx(me.span,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.9,duration:.6},className:"inline-block",children:"Trade."})]}),d.jsx(me.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"Lighter Points."}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3,duration:.6},className:"text-md w-[80%] mb-6 font-extralight leading-relaxed text-golden-light/80",children:"The future of DeFi farming is here with zero hassle."}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.6},className:"flex items-center gap-2 text-golden-light/70 flex-wrap mb-6",children:[d.jsx(whe,{className:"w-5 h-5"}),d.jsx("span",{className:"text-md font-medium tracking-wider",children:"LIGHTERFARM"}),d.jsx("span",{className:"text-xs bg-golden-light/20 px-2 py-1 rounded-full",children:"v1.0.0"})]}),[...Array(4)].map((n,r)=>d.jsx(me.div,{className:"absolute w-1 h-1 bg-[#D4B679]/30 rounded-full",style:{left:`${20+r*20}%`,top:`${10+r%2*30}%`},animate:{y:[-10,-20,-10],opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:2+r*.3,repeat:1/0,delay:r*.4,ease:"easeInOut"}},r))]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8,duration:.6},className:"w-full max-w-md space-y-4",children:[d.jsxs(me.button,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-3 group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("span",{children:"Continue"}),d.jsx(fhe,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]}),d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2.5,duration:.5},className:"flex justify-center",children:d.jsx("div",{className:"flex gap-1.5",children:[0,.2,.4,.6].map((n,r)=>d.jsx(me.div,{className:"w-1.5 h-1.5 bg-[#D4B679]/40 rounded-full",animate:{backgroundColor:["rgba(212, 182, 121, 0.4)","rgba(212, 182, 121, 1)","rgba(212, 182, 121, 0.4)"],scale:[.8,1.2,.8]},transition:{duration:1.2,repeat:1/0,delay:n,ease:"easeInOut"}},r))})})]})]})}const NDe=dhe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",farm:"bg-gradient-to-r from-accent-primary to-accent-blue text-primary-foreground hover:shadow-[var(--glow-primary)] transition-all duration-300 font-semibold animate-pulse-glow",danger:"bg-error text-foreground hover:bg-error/90 border border-error/30",success:"bg-success text-primary-foreground hover:bg-success/90",wallet:"bg-card border border-accent-primary/30 text-foreground hover:bg-accent-primary/10 hover:border-accent-primary/50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Vt=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?O7e:"button";return d.jsx(o,{className:aa(NDe({variant:e,size:n,className:t})),ref:s,...i})});Vt.displayName="Button";const PDe="/assets/lighter-DCUR7OiV.png",RDe=()=>{const t=cr();return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:qr,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"LighterFarm"}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-md w-[80%]  mb-6 font-extralight leading-relaxed",children:"The smartest way to farm, buy, and trade Lighter Points with zero hassle."}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"flex items-center gap-2 text-white flex-wrap mb-6",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"text-md text-golden-light font-medium",children:"Built on top of"}),d.jsx("img",{src:PDe,alt:"",className:"h-16 w-auto mb-1"}),d.jsx("span",{className:"text-md text-golden-light font-medium",children:"Protocol ecosystem"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:d.jsx(Vt,{onClick:()=>t("/onboarding/2"),className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Get Started"})})]})},jDe=()=>{const t=cr(),[e,n]=x.useState(0),r=[{title:"Stake USDL, earn Lighter Points",description:"Deposit your USDL and watch your Lighter Points grow automatically"},{title:"Trade instantly with zero hassle",description:"Buy and sell Lighter Points seamlessly with our intuitive interface"},{title:"Earn 10% from referrals",description:"Invite friends and earn 10% of their points forever"}];return x.useEffect(()=>{const i=setInterval(()=>{n(s=>(s+1)%r.length)},3e3);return()=>clearInterval(i)},[r.length]),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-between py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:qr,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-4",children:"LighterFarm"}),d.jsx("div",{className:"mb-8 min-h-[120px] flex flex-col justify-center",children:d.jsxs(me.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeInOut"},children:[d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},className:"text-xl font-semibold text-golden-light mb-0",children:r[e].title}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-base text-golden-light/80 leading-relaxed",children:r[e].description})]},e)})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:d.jsx(Vt,{onClick:()=>t("/onboarding/3"),className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Next"})}),d.jsx(me.div,{className:"absolute top-8 left-1/2 transform -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:d.jsx("div",{className:"flex gap-1",children:r.map((i,s)=>d.jsx("div",{className:"h-1 bg-golden-light/20 rounded-full overflow-hidden",style:{width:"60px"},children:d.jsx(me.div,{className:"h-full bg-golden-light rounded-full",initial:{width:"0%"},animate:{width:s===e?"100%":"0%"},transition:{duration:s===e?3:0,ease:"linear"}})},s))})})]})},ODe=()=>{const t=cr(),e=()=>{t("/wallet-connect")},n=()=>{t("/wallet-connect")};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-between py-6 px-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-start justify-end w-full max-w-md",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:qr,alt:"Lighter Farm",className:"w-auto h-20"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-5xl font-bold text-golden-light mb-12",children:"LighterFarm"}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"flex items-center gap-3 text-golden-light mb-8",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center",children:d.jsx(LI,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xl font-semibold",children:"Stay Connected"})]}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg text-golden-light/80 mb-12 leading-relaxed",children:"Get alpha, exclusive drops, and community support."}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex gap-4 mb-12",children:[d.jsx("a",{href:"https://x.com/LighterFarm",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-[#7D5A02] to-[#A07715] flex items-center justify-center hover:opacity-90 transition-opacity shadow-lg",children:d.jsx("svg",{className:"w-7 h-7 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),d.jsx("a",{href:"https://t.me/+sKmppf_5gNo5YzRl",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-[#7D5A02] to-[#A07715] flex items-center justify-center hover:opacity-90 transition-opacity shadow-lg",children:d.jsx("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})})})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-full max-w-md flex gap-4",children:[d.jsx(Vt,{onClick:e,className:"flex-1 h-14 bg-transparent border-2 border-golden-light/30 text-golden-light hover:bg-golden-light/10 rounded-xl text-lg font-semibold transition-all",children:"Skip"}),d.jsx(Vt,{onClick:n,className:"flex-1 h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:"Get Started"})]})]})},MDe="modulepreload",DDe=function(t){return"/"+t},yJ={},Nh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=DDe(l),l in yJ)return;yJ[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":MDe,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function BDe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function LDe(){const t=new Set;let e=[];const n=()=>BDe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var Et={},nB={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",h="major",f="model",p="name",m="type",g="vendor",y="version",w="architecture",v="console",b="mobile",A="tablet",E="smarttv",$="wearable",N="embedded",R=500,M="Amazon",F="Apple",W="ASUS",H="BlackBerry",L="Browser",k="Chrome",C="Edge",_="Firefox",T="Google",S="Honor",P="Huawei",D="Lenovo",O="LG",I="Microsoft",B="Motorola",Q="Nvidia",j="OnePlus",Y="Opera",ee="OPPO",Z="Samsung",oe="Sharp",de="Sony",ce="Xiaomi",he="Zebra",be="Facebook",fe="Chromium OS",ke="Mac OS",we=" Browser",Fe=function(ne,ie){var le={};for(var Be in ne)ie[Be]&&ie[Be].length%2===0?le[Be]=ie[Be].concat(ne[Be]):le[Be]=ne[Be];return le},Me=function(ne){for(var ie={},le=0;le<ne.length;le++)ie[ne[le].toUpperCase()]=ne[le];return ie},Se=function(ne,ie){return typeof ne===u?ve(ie).indexOf(ve(ne))!==-1:!1},ve=function(ne){return ne.toLowerCase()},Oe=function(ne){return typeof ne===u?ne.replace(/[^\d\.]/g,s).split(".")[0]:r},Le=function(ne,ie){if(typeof ne===u)return ne=ne.replace(/^\s\s*/,s),typeof ie===l?ne:ne.substring(0,R)},Ce=function(ne,ie){for(var le=0,Be,Xe,Ke,et,Pe,Tt;le<ie.length&&!Pe;){var dn=ie[le],Bt=ie[le+1];for(Be=Xe=0;Be<dn.length&&!Pe&&dn[Be];)if(Pe=dn[Be++].exec(ne),Pe)for(Ke=0;Ke<Bt.length;Ke++)Tt=Pe[++Xe],et=Bt[Ke],typeof et===c&&et.length>0?et.length===2?typeof et[1]==a?this[et[0]]=et[1].call(this,Tt):this[et[0]]=et[1]:et.length===3?typeof et[1]===a&&!(et[1].exec&&et[1].test)?this[et[0]]=Tt?et[1].call(this,Tt,et[2]):r:this[et[0]]=Tt?Tt.replace(et[1],et[2]):r:et.length===4&&(this[et[0]]=Tt?et[3].call(this,Tt.replace(et[1],et[2])):r):this[et]=Tt||r;le+=2}},De=function(ne,ie){for(var le in ie)if(typeof ie[le]===c&&ie[le].length>0){for(var Be=0;Be<ie[le].length;Be++)if(Se(ie[le][Be],ne))return le===o?r:le}else if(Se(ie[le],ne))return le===o?r:le;return ie.hasOwnProperty("*")?ie["*"]:ne},We={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},rt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,Y+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,Y+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,Y]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+L]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+L],y],[/\bfocus\/([\w\.]+)/i],[y,[p,_+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,Y+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,Y+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI"+we]],[/fxios\/([\w\.-]+)/i],[y,[p,_]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+we],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,Z+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,be],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,k+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,De,We]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,_+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[w,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[w,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[w,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[w,/ower/,s,ve]],[/ sun4\w[;\)]/i],[[w,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[w,ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,Z],[m,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,Z],[m,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,F],[m,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,F],[m,A]],[/(macintosh);/i],[f,[g,F]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,oe],[m,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[g,S],[m,A]],[/honor([-\w ]+)[;\)]/i],[f,[g,S],[m,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[g,P],[m,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,P],[m,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[g,ce],[m,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[g,ce],[m,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,ee],[m,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[g,De,{OnePlus:["304","403","203"],"*":ee}],[m,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,B],[m,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,B],[m,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,O],[m,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,O],[m,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[g,D],[m,A]],[/(nokia) (t[12][01])/i],[g,f,[m,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,b],[g,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[g,T],[m,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,T],[m,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,de],[m,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,de],[m,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,j],[m,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,M],[m,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,M],[m,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,H],[m,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,W],[m,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,W],[m,b]],[/(nexus 9)/i],[f,[g,"HTC"],[m,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[g,"TCL"],[m,A]],[/(itel) ((\w+))/i],[[g,ve],f,[m,De,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[g,"Energizer"],[m,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[g,"Cat"],[m,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[g,"Smartfren"],[m,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[g,"Nothing"],[m,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[g,"Archos"],[m,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[g,"Archos"],[m,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[g,f,[m,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,A]],[/(surface duo)/i],[f,[g,I],[m,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,b]],[/(u304aa)/i],[f,[g,"AT&T"],[m,b]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,b]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,A]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,A]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,A]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,A]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,A]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,b]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,b]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,A]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,A]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,b]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,A]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,A]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[g,Q],[m,A]],[/(sprint) (\w+)/i],[g,f,[m,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,I],[m,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,he],[m,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,he],[m,b]],[/smart-tv.+(samsung)/i],[g,[m,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,Z],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,O],[m,E]],[/(apple) ?tv/i],[g,[f,F+" TV"],[m,E]],[/crkey/i],[[f,k+"cast"],[g,T],[m,E]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,M],[m,E]],[/(shield \w+ tv)/i],[f,[g,Q],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,oe],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,de],[m,E]],[/(mi(tv|box)-?\w+) bui/i],[f,[g,ce],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Le],[f,Le],[m,E]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,v]],[/droid.+; (shield)( bui|\))/i],[f,[g,Q],[m,v]],[/(playstation \w+)/i],[f,[g,de],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,I],[m,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[g,Z],[m,$]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[g,f,[m,$]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[g,ee],[m,$]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,F],[m,$]],[/(opwwe\d{3})/i],[f,[g,j],[m,$]],[/(moto 360)/i],[f,[g,B],[m,$]],[/(smartwatch 3)/i],[f,[g,de],[m,$]],[/(g watch r)/i],[f,[g,O],[m,$]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,he],[m,$]],[/droid.+; (glass) \d/i],[f,[g,T],[m,$]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,f,[m,$]],[/; (quest( \d| pro)?)/i],[f,[g,be],[m,$]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,N]],[/(aeobc)\b/i],[f,[g,M],[m,N]],[/(homepod).+mac os/i],[f,[g,F],[m,N]],[/windows iot/i],[[m,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,C+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[y,De,rt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,De,rt],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,ke],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,y],[/\(bb(10);/i],[y,[p,H]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,_+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,fe],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},U=function(ne,ie){if(typeof ne===c&&(ie=ne,ne=r),!(this instanceof U))return new U(ne,ie).getResult();var le=typeof n!==l&&n.navigator?n.navigator:r,Be=ne||(le&&le.userAgent?le.userAgent:s),Xe=le&&le.userAgentData?le.userAgentData:r,Ke=ie?Fe(G,ie):G,et=le&&le.userAgent==Be;return this.getBrowser=function(){var Pe={};return Pe[p]=r,Pe[y]=r,Ce.call(Pe,Be,Ke.browser),Pe[h]=Oe(Pe[y]),et&&le&&le.brave&&typeof le.brave.isBrave==a&&(Pe[p]="Brave"),Pe},this.getCPU=function(){var Pe={};return Pe[w]=r,Ce.call(Pe,Be,Ke.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[g]=r,Pe[f]=r,Pe[m]=r,Ce.call(Pe,Be,Ke.device),et&&!Pe[m]&&Xe&&Xe.mobile&&(Pe[m]=b),et&&Pe[f]=="Macintosh"&&le&&typeof le.standalone!==l&&le.maxTouchPoints&&le.maxTouchPoints>2&&(Pe[f]="iPad",Pe[m]=A),Pe},this.getEngine=function(){var Pe={};return Pe[p]=r,Pe[y]=r,Ce.call(Pe,Be,Ke.engine),Pe},this.getOS=function(){var Pe={};return Pe[p]=r,Pe[y]=r,Ce.call(Pe,Be,Ke.os),et&&!Pe[p]&&Xe&&Xe.platform&&Xe.platform!="Unknown"&&(Pe[p]=Xe.platform.replace(/chrome os/i,fe).replace(/macos/i,ke)),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Be},this.setUA=function(Pe){return Be=typeof Pe===u&&Pe.length>R?Le(Pe,R):Pe,this},this.setUA(Be),this};U.VERSION=i,U.BROWSER=Me([p,y,h]),U.CPU=Me([w]),U.DEVICE=Me([f,g,m,v,b,E,A,$,N]),U.ENGINE=U.OS=Me([p,y]),t.exports&&(e=t.exports=U),e.UAParser=U;var z=typeof n!==l&&(n.jQuery||n.Zepto);if(z&&!z.ua){var X=new U;z.ua=X.getResult(),z.ua.get=function(){return X.getUA()},z.ua.set=function(ne){X.setUA(ne);var ie=X.getResult();for(var le in ie)z.ua[le]=ie[le]}}})(typeof window=="object"?window:Wl)})(nB,nB.exports);var FDe=nB.exports;Object.defineProperty(Et,"__esModule",{value:!0});function UDe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var $o=x,_r=UDe($o),r0e=FDe,Eg=new r0e,Mo=Eg.getBrowser(),zDe=Eg.getCPU(),tc=Eg.getDevice(),xH=Eg.getEngine(),Ag=Eg.getOS(),pA=Eg.getUA(),i0e=function(e){return Eg.setUA(e)},mA=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new r0e(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},s0e=Object.freeze({ClientUAInstance:Eg,browser:Mo,cpu:zDe,device:tc,engine:xH,os:Ag,ua:pA,setUa:i0e,parseUserAgent:mA});function wJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wJ(Object(n),!0).forEach(function(r){GDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W6(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W6=function(e){return typeof e}:W6=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W6(t)}function HDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qDe(t,e,n){return e&&VDe(t.prototype,e),t}function GDe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(){return rB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rB.apply(this,arguments)}function KDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sB(t,e)}function iB(t){return iB=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},iB(t)}function sB(t,e){return sB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},sB(t,e)}function YDe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ru(t,e){if(t==null)return{};var n=YDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QDe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v9(t)}function ZDe(t,e){return JDe(t)||XDe(t,e)||eBe(t,e)||tBe()}function JDe(t){if(Array.isArray(t))return t}function XDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function eBe(t,e){if(t){if(typeof t=="string")return bJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bJ(t,e)}}function bJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vo={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Ja={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},g3={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},nBe={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},rBe=function(e){switch(e){case vo.Mobile:return{isMobile:!0};case vo.Tablet:return{isTablet:!0};case vo.SmartTv:return{isSmartTV:!0};case vo.Console:return{isConsole:!0};case vo.Wearable:return{isWearable:!0};case vo.Browser:return{isBrowser:!0};case vo.Embedded:return{isEmbedded:!0};default:return nBe}},iBe=function(e){return i0e(e)},Gt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},EH=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},AH=function(e){var n=EH();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},sBe=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:Gt(n.major),browserFullVersion:Gt(n.version),browserName:Gt(n.name),engineName:Gt(r.name),engineVersion:Gt(r.version),osName:Gt(i.name),osVersion:Gt(i.version),userAgent:Gt(s)}},vJ=function(e,n,r,i){return WDe({},e,{vendor:Gt(n.vendor),model:Gt(n.model),os:Gt(r.name),osVersion:Gt(r.version),ua:Gt(i)})},oBe=function(e,n,r,i){return{isSmartTV:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},aBe=function(e,n,r,i){return{isConsole:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},lBe=function(e,n,r,i){return{isWearable:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},cBe=function(e,n,r,i,s){return{isEmbedded:e,vendor:Gt(n.vendor),model:Gt(n.model),engineName:Gt(r.name),engineVersion:Gt(r.version),osName:Gt(i.name),osVersion:Gt(i.version),userAgent:Gt(s)}};function uBe(t){var e=t?mA(t):s0e,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=rBe(n.type),l=a.isBrowser,c=a.isMobile,u=a.isTablet,h=a.isSmartTV,f=a.isConsole,p=a.isWearable,m=a.isEmbedded;if(l)return sBe(l,r,i,s,o);if(h)return oBe(h,i,s,o);if(f)return aBe(f,i,s,o);if(c||u)return vJ(a,n,s,o);if(p)return lBe(p,i,s,o);if(m)return cBe(m,n,i,s,o)}var o0e=function(e){var n=e.type;return n===vo.Mobile},a0e=function(e){var n=e.type;return n===vo.Tablet},l0e=function(e){var n=e.type;return n===vo.Mobile||n===vo.Tablet},c0e=function(e){var n=e.type;return n===vo.SmartTv},oS=function(e){var n=e.type;return n===vo.Browser},u0e=function(e){var n=e.type;return n===vo.Wearable},d0e=function(e){var n=e.type;return n===vo.Console},h0e=function(e){var n=e.type;return n===vo.Embedded},f0e=function(e){var n=e.vendor;return Gt(n)},p0e=function(e){var n=e.model;return Gt(n)},m0e=function(e){var n=e.type;return Gt(n,"browser")},g0e=function(e){var n=e.name;return n===g3.Android},y0e=function(e){var n=e.name;return n===g3.Windows},w0e=function(e){var n=e.name;return n===g3.MAC_OS},b0e=function(e){var n=e.name;return n===g3.WindowsPhone},v0e=function(e){var n=e.name;return n===g3.IOS},x0e=function(e){var n=e.version;return Gt(n)},E0e=function(e){var n=e.name;return Gt(n)},A0e=function(e){var n=e.name;return n===Ja.Chrome},C0e=function(e){var n=e.name;return n===Ja.Firefox},k0e=function(e){var n=e.name;return n===Ja.Chromium},aS=function(e){var n=e.name;return n===Ja.Edge},_0e=function(e){var n=e.name;return n===Ja.Yandex},S0e=function(e){var n=e.name;return n===Ja.Safari||n===Ja.MobileSafari},I0e=function(e){var n=e.name;return n===Ja.MobileSafari},T0e=function(e){var n=e.name;return n===Ja.Opera},$0e=function(e){var n=e.name;return n===Ja.InternetExplorer||n===Ja.Ie},N0e=function(e){var n=e.name;return n===Ja.MIUI},P0e=function(e){var n=e.name;return n===Ja.SamsungBrowser},R0e=function(e){var n=e.version;return Gt(n)},j0e=function(e){var n=e.major;return Gt(n)},O0e=function(e){var n=e.name;return Gt(n)},M0e=function(e){var n=e.name;return Gt(n)},D0e=function(e){var n=e.version;return Gt(n)},B0e=function(){var e=EH(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},Ov=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},L0e=function(){var e=EH();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},yh=function(){return AH("iPad")},F0e=function(){return AH("iPhone")},U0e=function(){return AH("iPod")},z0e=function(e){return Gt(e)};function W0e(t){var e=t||s0e,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:c0e(n),isConsole:d0e(n),isWearable:u0e(n),isEmbedded:h0e(n),isMobileSafari:I0e(r)||yh(),isChromium:k0e(r),isMobile:l0e(n)||yh(),isMobileOnly:o0e(n),isTablet:a0e(n)||yh(),isBrowser:oS(n),isDesktop:oS(n),isAndroid:g0e(i),isWinPhone:b0e(i),isIOS:v0e(i)||yh(),isChrome:A0e(r),isFirefox:C0e(r),isSafari:S0e(r),isOpera:T0e(r),isIE:$0e(r),osVersion:x0e(i),osName:E0e(i),fullBrowserVersion:R0e(r),browserVersion:j0e(r),browserName:O0e(r),mobileVendor:f0e(n),mobileModel:p0e(n),engineName:M0e(s),engineVersion:D0e(s),getUA:z0e(o),isEdge:aS(r)||Ov(o),isYandex:_0e(r),deviceType:m0e(n),isIOS13:L0e(),isIPad13:yh(),isIPhone13:F0e(),isIPod13:U0e(),isElectron:B0e(),isEdgeChromium:Ov(o),isLegacyEdge:aS(r)&&!Ov(o),isWindows:y0e(i),isMacOs:w0e(i),isMIUI:N0e(r),isSamsungBrowser:P0e(r)}}var H0e=c0e(tc),V0e=d0e(tc),q0e=u0e(tc),dBe=h0e(tc),hBe=I0e(Mo)||yh(),fBe=k0e(Mo),eT=l0e(tc)||yh(),G0e=o0e(tc),K0e=a0e(tc)||yh(),Y0e=oS(tc),pBe=oS(tc),Q0e=g0e(Ag),Z0e=b0e(Ag),J0e=v0e(Ag)||yh(),mBe=A0e(Mo),gBe=C0e(Mo),yBe=S0e(Mo),wBe=T0e(Mo),X0e=$0e(Mo),bBe=x0e(Ag),vBe=E0e(Ag),xBe=R0e(Mo),EBe=j0e(Mo),ABe=O0e(Mo),CBe=f0e(tc),kBe=p0e(tc),_Be=M0e(xH),SBe=D0e(xH),IBe=z0e(pA),TBe=aS(Mo)||Ov(pA),$Be=_0e(Mo),NBe=m0e(tc),PBe=L0e(),RBe=yh(),jBe=F0e(),OBe=U0e(),MBe=B0e(),DBe=Ov(pA),BBe=aS(Mo)&&!Ov(pA),LBe=y0e(Ag),FBe=w0e(Ag),UBe=N0e(Mo),zBe=P0e(Mo),WBe=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=mA(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return W0e({device:r,browser:i,os:s,engine:o,ua:a})},HBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return Q0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},VBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return Y0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},qBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return X0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},GBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return J0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},KBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return eT?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},YBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return K0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},QBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return Z0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},ZBe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=ru(e,["renderWithFragment","children","viewClassName","style"]);return G0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},JBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return H0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},XBe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return V0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},eLe=function(e){var n=e.renderWithFragment,r=e.children,i=ru(e,["renderWithFragment","children"]);return q0e?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",i,r):null},tLe=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=ru(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?_r.createElement($o.Fragment,null,r):_r.createElement("div",s,r):null};function nLe(t){return function(e){KDe(n,e);function n(r){var i;return HDe(this,n),i=QDe(this,iB(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(v9(i)),i.onOrientationChange=i.onOrientationChange.bind(v9(i)),i.onPageLoad=i.onPageLoad.bind(v9(i)),i.state={isLandscape:!1,isPortrait:!1},i}return qDe(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":W6(window))!==void 0&&eT&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return _r.createElement(t,rB({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(_r.Component)}function rLe(){var t=$o.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=ZDe(t,2),n=e[0],r=e[1],i=$o.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return $o.useEffect(function(){return(typeof window>"u"?"undefined":W6(window))!==void 0&&eT&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function eme(t){var e=t||window.navigator.userAgent;return mA(e)}function iLe(t){var e=t||window.navigator.userAgent,n=eme(e),r=W0e(n);return[r,n]}Et.AndroidView=HBe;Et.BrowserTypes=Ja;Et.BrowserView=VBe;Et.ConsoleView=XBe;Et.CustomView=tLe;Et.IEView=qBe;Et.IOSView=GBe;Et.MobileOnlyView=ZBe;Et.MobileView=KBe;Et.OsTypes=g3;Et.SmartTVView=JBe;Et.TabletView=YBe;Et.WearableView=eLe;Et.WinPhoneView=QBe;Et.browserName=ABe;Et.browserVersion=EBe;Et.deviceDetect=uBe;Et.deviceType=NBe;Et.engineName=_Be;Et.engineVersion=SBe;Et.fullBrowserVersion=xBe;Et.getSelectorsByUserAgent=WBe;Et.getUA=IBe;var sLe=Et.isAndroid=Q0e;Et.isBrowser=Y0e;Et.isChrome=mBe;Et.isChromium=fBe;Et.isConsole=V0e;Et.isDesktop=pBe;Et.isEdge=TBe;Et.isEdgeChromium=DBe;Et.isElectron=MBe;Et.isEmbedded=dBe;var xJ=Et.isFirefox=gBe;Et.isIE=X0e;var CH=Et.isIOS=J0e;Et.isIOS13=PBe;Et.isIPad13=RBe;Et.isIPhone13=jBe;Et.isIPod13=OBe;Et.isLegacyEdge=BBe;Et.isMIUI=UBe;Et.isMacOs=FBe;var Er=Et.isMobile=eT;Et.isMobileOnly=G0e;Et.isMobileSafari=hBe;Et.isOpera=wBe;var oLe=Et.isSafari=yBe;Et.isSamsungBrowser=zBe;Et.isSmartTV=H0e;Et.isTablet=K0e;Et.isWearable=q0e;Et.isWinPhone=Z0e;Et.isWindows=LBe;Et.isYandex=$Be;Et.mobileModel=kBe;Et.mobileVendor=CBe;Et.osName=vBe;Et.osVersion=bBe;Et.parseUserAgent=mA;Et.setUserAgent=iBe;Et.useDeviceData=eme;Et.useDeviceSelectors=iLe;Et.useMobileOrientation=rLe;Et.withOrientationChange=nLe;const aLe="1.1.0";let nl=class oB extends Error{constructor(e,n={}){var o;const r=n.cause instanceof oB?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof oB&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${aLe}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Jp(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const tme=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nme=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,rme=/^\(.+?\).*?$/,EJ=/^tuple(?<array>(\[(\d*)\])*)$/;function aB(t){let e=t.type;if(EJ.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=aB(s),i<n-1&&(e+=", ")}const r=Jp(EJ,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,aB({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Pb(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=aB(i),r!==n-1&&(e+=", ")}return e}function lS(t){var e;return t.type==="function"?`function ${t.name}(${Pb(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Pb(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Pb(t.inputs)})`:t.type==="error"?`error ${t.name}(${Pb(t.inputs)})`:t.type==="constructor"?`constructor(${Pb(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const ime=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function lLe(t){return ime.test(t)}function cLe(t){return Jp(ime,t)}const sme=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function uLe(t){return sme.test(t)}function dLe(t){return Jp(sme,t)}const ome=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function hLe(t){return ome.test(t)}function fLe(t){return Jp(ome,t)}const ame=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function tT(t){return ame.test(t)}function pLe(t){return Jp(ame,t)}const lme=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function mLe(t){return lme.test(t)}function gLe(t){return Jp(lme,t)}const cme=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function yLe(t){return cme.test(t)}function wLe(t){return Jp(cme,t)}const bLe=/^receive\(\) external payable$/;function vLe(t){return bLe.test(t)}const AJ=new Set(["memory","indexed","storage","calldata"]),xLe=new Set(["indexed"]),lB=new Set(["calldata","memory","storage"]);class ELe extends nl{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class ALe extends nl{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class CLe extends nl{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class kLe extends nl{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class _Le extends nl{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SLe extends nl{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ILe extends nl{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class TLe extends nl{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class $Le extends nl{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class y3 extends nl{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class NLe extends nl{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class PLe extends nl{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class RLe extends nl{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class jLe extends nl{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function OLe(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const eR=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function cB(t,e={}){if(hLe(t))return MLe(t,e);if(uLe(t))return DLe(t,e);if(lLe(t))return BLe(t,e);if(mLe(t))return LLe(t,e);if(yLe(t))return FLe(t);if(vLe(t))return{type:"receive",stateMutability:"payable"};throw new NLe({signature:t})}function MLe(t,e={}){const n=fLe(t);if(!n)throw new y3({signature:t,type:"function"});const r=Ml(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Pp(r[a],{modifiers:lB,structs:e,type:"function"}));const o=[];if(n.returns){const a=Ml(n.returns),l=a.length;for(let c=0;c<l;c++)o.push(Pp(a[c],{modifiers:lB,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function DLe(t,e={}){const n=dLe(t);if(!n)throw new y3({signature:t,type:"event"});const r=Ml(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Pp(r[o],{modifiers:xLe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function BLe(t,e={}){const n=cLe(t);if(!n)throw new y3({signature:t,type:"error"});const r=Ml(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Pp(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function LLe(t,e={}){const n=gLe(t);if(!n)throw new y3({signature:t,type:"constructor"});const r=Ml(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Pp(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function FLe(t){const e=wLe(t);if(!e)throw new y3({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const ULe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,zLe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,WLe=/^u?int$/;function Pp(t,e){var h,f;const n=OLe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(eR.has(n))return eR.get(n);const r=rme.test(t),i=Jp(r?zLe:ULe,t);if(!i)throw new _Le({param:t});if(i.name&&VLe(i.name))throw new SLe({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(r){l="tuple";const p=Ml(i.type),m=[],g=p.length;for(let y=0;y<g;y++)m.push(Pp(p[y],{structs:a}));c={components:m}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(WLe.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!ume(l))throw new CLe({type:l});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new ILe({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(lB.has(i.modifier)&&!qLe(l,!!i.array))throw new TLe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return eR.set(n,u),u}function Ml(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Ml(a,[...e,n.trim()]):Ml(a,e,`${n}${o}`,r);case"(":return Ml(a,e,`${n}${o}`,r+1);case")":return Ml(a,e,`${n}${o}`,r-1);default:return Ml(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new jLe({current:n,depth:r});return e.push(n.trim()),e}function ume(t){return t==="address"||t==="bool"||t==="function"||t==="string"||tme.test(t)||nme.test(t)}const HLe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function VLe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||tme.test(t)||nme.test(t)||HLe.test(t)}function qLe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function kH(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!tT(a))continue;const l=pLe(a);if(!l)throw new y3({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const m=c[f].trim();if(!m)continue;const g=Pp(m,{type:"struct"});u.push(g)}if(!u.length)throw new PLe({signature:a});e[l.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];r[a]=dme(l,e)}return r}const GLe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function dme(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(rme.test(o.type))r.push(o);else{const l=Jp(GLe,o.type);if(!(l!=null&&l.type))throw new $Le({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new RLe({type:u});r.push({...o,type:`tuple${c??""}`,components:dme(e[u]??[],e,new Set([...n,u]))})}else if(ume(u))r.push(o);else throw new ALe({type:u})}}return r}function hme(t){const e=kH(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];tT(s)||n.push(cB(s,e))}return n}function CJ(t){let e;if(typeof t=="string")e=cB(t);else{const n=kH(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!tT(s)){e=cB(s,n);break}}}if(!e)throw new ELe({signature:t});return e}function kJ(t){const e=[];if(typeof t=="string"){const n=Ml(t),r=n.length;for(let i=0;i<r;i++)e.push(Pp(n[i],{modifiers:AJ}))}else{const n=kH(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(tT(s))continue;const o=Ml(s),a=o.length;for(let l=0;l<a;l++)e.push(Pp(o[l],{modifiers:AJ,structs:n}))}}if(e.length===0)throw new kLe({params:t});return e}function Ri(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const fme="2.37.12";let m5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${fme}`},Ue=class uB extends Error{constructor(e,n={}){var a;const r=(()=>{var l;return n.cause instanceof uB?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof uB&&n.cause.docsPath||n.docsPath,s=(a=m5.getDocsUrl)==null?void 0:a.call(m5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...m5.version?[`Version: ${m5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=fme}walk(e){return pme(this,e)}};function pme(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?pme(t.cause,e):e?null:t}let lg=class extends Ue{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function No(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let mme=class extends Ue{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},gme=class extends Ue{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class _J extends Ue{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function w3(t,{dir:e,size:n=32}={}){return typeof t=="string"?Km(t,{dir:e,size:n}):KLe(t,{dir:e,size:n})}function Km(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new gme({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function KLe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new gme({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let yme=class extends Ue{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},YLe=class extends Ue{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class QLe extends Ue{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let ZLe=class extends Ue{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function hi(t){return No(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function mp(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function iu(t,{size:e}){if(hi(t)>e)throw new ZLe({givenSize:hi(t),maxSize:e})}function Kl(t,e={}){const{signed:n}=e;e.size&&iu(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function JLe(t,e={}){let n=t;if(e.size&&(iu(n,{size:e.size}),n=mp(n)),mp(n)==="0x00")return!1;if(mp(n)==="0x01")return!0;throw new QLe(n)}function cd(t,e={}){return Number(Kl(t,e))}function XLe(t,e={}){let n=ud(t);return e.size&&(iu(n,{size:e.size}),n=mp(n,{dir:"right"})),new TextDecoder().decode(n)}const eFe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ki(t,e={}){return typeof t=="number"||typeof t=="bigint"?$t(t,e):typeof t=="string"?hx(t,e):typeof t=="boolean"?wme(t,e):is(t,e)}function wme(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(iu(n,{size:e.size}),w3(n,{size:e.size})):n}function is(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=eFe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(iu(r,{size:e.size}),w3(r,{dir:"right",size:e.size})):r}function $t(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new yme({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?w3(a,{size:r}):a}const tFe=new TextEncoder;function hx(t,e={}){const n=tFe.encode(t);return is(n,e)}const nFe=new TextEncoder;function b3(t,e={}){return typeof t=="number"||typeof t=="bigint"?iFe(t,e):typeof t=="boolean"?rFe(t,e):No(t)?ud(t,e):d1(t,e)}function rFe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(iu(n,{size:e.size}),w3(n,{size:e.size})):n}const hf={zero:48,nine:57,A:65,F:70,a:97,f:102};function SJ(t){if(t>=hf.zero&&t<=hf.nine)return t-hf.zero;if(t>=hf.A&&t<=hf.F)return t-(hf.A-10);if(t>=hf.a&&t<=hf.f)return t-(hf.a-10)}function ud(t,e={}){let n=t;e.size&&(iu(n,{size:e.size}),n=w3(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=SJ(r.charCodeAt(a++)),c=SJ(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Ue(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function iFe(t,e){const n=$t(t,e);return ud(n)}function d1(t,e={}){const n=nFe.encode(t);return typeof e.size=="number"?(iu(n,{size:e.size}),w3(n,{dir:"right",size:e.size})):n}const WC=BigInt(2**32-1),IJ=BigInt(32);function sFe(t,e=!1){return e?{h:Number(t&WC),l:Number(t>>IJ&WC)}:{h:Number(t>>IJ&WC)|0,l:Number(t&WC)|0}}function oFe(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=sFe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const aFe=(t,e,n)=>t<<n|e>>>32-n,lFe=(t,e,n)=>e<<n|t>>>32-n,cFe=(t,e,n)=>e<<n-32|t>>>64-n,uFe=(t,e,n)=>t<<n-32|e>>>64-n,Kw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dFe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function G4(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function P1(t,...e){if(!dFe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function hFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");G4(t.outputLen),G4(t.blockLen)}function fx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bme(t,e){P1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function fFe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function px(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tR(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pd(t,e){return t<<32-e|t>>>e}const pFe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mFe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function gFe(t){for(let e=0;e<t.length;e++)t[e]=mFe(t[e]);return t}const TJ=pFe?t=>t:gFe;function yFe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function nT(t){return typeof t=="string"&&(t=yFe(t)),P1(t),t}function wFe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];P1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let _H=class{};function vme(t){const e=r=>t().update(nT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function bFe(t=32){if(Kw&&typeof Kw.getRandomValues=="function")return Kw.getRandomValues(new Uint8Array(t));if(Kw&&typeof Kw.randomBytes=="function")return Uint8Array.from(Kw.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const vFe=BigInt(0),g5=BigInt(1),xFe=BigInt(2),EFe=BigInt(7),AFe=BigInt(256),CFe=BigInt(113),xme=[],Eme=[],Ame=[];for(let t=0,e=g5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],xme.push(2*(5*r+n)),Eme.push((t+1)*(t+2)/2%64);let i=vFe;for(let s=0;s<7;s++)e=(e<<g5^(e>>EFe)*CFe)%AFe,e&xFe&&(i^=g5<<(g5<<BigInt(s))-g5);Ame.push(i)}const Cme=oFe(Ame,!0),kFe=Cme[0],_Fe=Cme[1],$J=(t,e,n)=>n>32?cFe(t,e,n):aFe(t,e,n),NJ=(t,e,n)=>n>32?uFe(t,e,n):lFe(t,e,n);function SFe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=$J(c,u,1)^n[a],f=NJ(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Eme[o],l=$J(i,s,a),c=NJ(i,s,a),u=xme[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=kFe[r],t[1]^=_Fe[r]}px(n)}let IFe=class kme extends _H{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,G4(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fFe(this.state)}clone(){return this._cloneInto()}keccak(){TJ(this.state32),SFe(this.state32,this.rounds),TJ(this.state32),this.posOut=0,this.pos=0}update(e){fx(this),e=nT(e),P1(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){fx(this,!1),P1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return G4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bme(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,px(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new kme(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const TFe=(t,e,n)=>vme(()=>new IFe(e,t,n)),_me=TFe(1,136,256/8);function zs(t,e){const n=e||"hex",r=_me(No(t,{strict:!1})?b3(t):t);return n==="bytes"?r:ki(r)}let rT=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const $Fe=/^0x[a-fA-F0-9]{40}$/,nR=new rT(8192);function Xa(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(nR.has(r))return nR.get(r);const i=$Fe.test(t)?t.toLowerCase()===t?!0:n?gA(t)===t:!0:!1;return nR.set(r,i),i}const rR=new rT(8192);function gA(t,e){if(rR.has(`${t}.${e}`))return rR.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=zs(d1(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return rR.set(`${t}.${e}`,s),s}function Mi(t,e){if(!Xa(t,{strict:!1}))throw new lg({address:t});return gA(t,e)}function NFe(t){const e=zs(`0x${t.substring(4)}`).substring(26);return gA(`0x${e}`)}function dd(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new HFe(t.type);return`${t.name}(${iT(t.inputs,{includeName:e})})`}function iT(t,{includeName:e=!1}={}){return t?t.map(n=>PFe(n,{includeName:e})).join(e?", ":","):""}function PFe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${iT(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class RFe extends Ue{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class PJ extends Ue{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Sme extends Ue{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${iT(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class yA extends Ue{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class jFe extends Ue{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class OFe extends Ue{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${hi(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class MFe extends Ue{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class DFe extends Ue{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class RJ extends Ue{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ime extends Ue{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class BFe extends Ue{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Tme extends Ue{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class jJ extends Ue{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class mx extends Ue{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class $me extends Ue{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class LFe extends Ue{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class FFe extends Ue{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${dd(e.abiItem)}\`, and`,`\`${n.type}\` in \`${dd(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let UFe=class extends Ue{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class K4 extends Ue{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${iT(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class sT extends Ue{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${dd(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class zFe extends Ue{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class WFe extends Ue{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Nme=class extends Ue{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class HFe extends Ue{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class fKt extends Ue{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let OJ=class extends Ue{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Pme=class extends Ue{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},VFe=class extends Ue{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const qFe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new VFe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Pme({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new OJ({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new OJ({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function SH(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(qFe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function gx(t,e,n,{strict:r}={}){return No(t,{strict:!1})?dB(t,e,n,{strict:r}):Ome(t,e,n,{strict:r})}function Rme(t,e){if(typeof e=="number"&&e>0&&e>hi(t)-1)throw new mme({offset:e,position:"start",size:hi(t)})}function jme(t,e,n){if(typeof e=="number"&&typeof n=="number"&&hi(t)!==n-e)throw new mme({offset:n,position:"end",size:hi(t)})}function Ome(t,e,n,{strict:r}={}){Rme(t,e);const i=t.slice(e,n);return r&&jme(i,e,n),i}function dB(t,e,n,{strict:r}={}){Rme(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&jme(i,e,n),i}function GFe(t,e={}){typeof e.size<"u"&&iu(t,{size:e.size});const n=is(t,e);return Kl(n,e)}function KFe(t,e={}){let n=t;if(typeof e.size<"u"&&(iu(n,{size:e.size}),n=mp(n)),n.length>1||n[0]>1)throw new YLe(n);return!!n[0]}function gp(t,e={}){typeof e.size<"u"&&iu(t,{size:e.size});const n=is(t,e);return cd(n,e)}function YFe(t,e={}){let n=t;return typeof e.size<"u"&&(iu(n,{size:e.size}),n=mp(n,{dir:"right"})),new TextDecoder().decode(n)}function Qc(t){return typeof t[0]=="string"?v3(t):QFe(t)}function QFe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function v3(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const yKt=/^(.*)\[([0-9]*)\]$/,ZFe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Mme=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function yw(t,e){if(t.length!==e.length)throw new MFe({expectedLength:t.length,givenLength:e.length});const n=JFe({params:t,values:e}),r=TH(n);return r.length===0?"0x":r}function JFe({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(IH({param:t[r],value:e[r]}));return n}function IH({param:t,value:e}){const n=$H(t.type);if(n){const[r,i]=n;return eUe(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return sUe(e,{param:t});if(t.type==="address")return XFe(e);if(t.type==="bool")return nUe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=Mme.exec(t.type)??[];return rUe(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return tUe(e,{param:t});if(t.type==="string")return iUe(e);throw new zFe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function TH(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=hi(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push($t(e+i,{size:32})),r.push(a),i+=hi(a)):n.push(a)}return Qc([...n,...r])}function XFe(t){if(!Xa(t))throw new lg({address:t});return{dynamic:!1,encoded:Km(t.toLowerCase())}}function eUe(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new Nme(t);if(!r&&t.length!==e)throw new jFe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=IH({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=TH(s);if(r){const a=$t(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Qc([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Qc(s.map(({encoded:o})=>o))}}function tUe(t,{param:e}){const[,n]=e.type.split("bytes"),r=hi(t);if(!n){let i=t;return r%32!==0&&(i=Km(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Qc([Km($t(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new OFe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Km(t,{dir:"right"})}}function nUe(t){if(typeof t!="boolean")throw new Ue(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Km(wme(t))}}function rUe(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new yme({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:$t(t,{size:32,signed:e})}}function iUe(t){const e=hx(t),n=Math.ceil(hi(e)/32),r=[];for(let i=0;i<n;i++)r.push(Km(gx(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Qc([Km($t(hi(e),{size:32})),...r])}}function sUe(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=IH({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?TH(r):Qc(r.map(({encoded:i})=>i))}}function $H(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function x3(t,e){const n=typeof e=="string"?ud(e):e,r=SH(n);if(hi(n)===0&&t.length>0)throw new yA;if(hi(e)&&hi(e)<32)throw new Sme({data:typeof e=="string"?e:is(e),params:t,size:hi(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[l,c]=Mv(r,a,{staticPosition:0});i+=c,s.push(l)}return s}function Mv(t,e,{staticPosition:n}){const r=$H(e.type);if(r){const[i,s]=r;return aUe(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return dUe(t,e,{staticPosition:n});if(e.type==="address")return oUe(t);if(e.type==="bool")return lUe(t);if(e.type.startsWith("bytes"))return cUe(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return uUe(t,e);if(e.type==="string")return hUe(t,{staticPosition:n});throw new WFe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const MJ=32,hB=32;function oUe(t){const e=t.readBytes(32);return[gA(is(Ome(e,-20))),32]}function aUe(t,e,{length:n,staticPosition:r}){if(!n){const o=gp(t.readBytes(hB)),a=r+o,l=a+MJ;t.setPosition(a);const c=gp(t.readBytes(MJ)),u=Y4(e);let h=0;const f=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:h));const[m,g]=Mv(t,e,{staticPosition:l});h+=g,f.push(m)}return t.setPosition(r+32),[f,32]}if(Y4(e)){const o=gp(t.readBytes(hB)),a=r+o,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=Mv(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,l]=Mv(t,e,{staticPosition:r+i});i+=l,s.push(a)}return[s,i]}function lUe(t){return[KFe(t.readBytes(32),{size:32}),32]}function cUe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=gp(t.readBytes(32));t.setPosition(n+o);const a=gp(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[is(l),32]}return[is(t.readBytes(Number.parseInt(i,10),32)),32]}function uUe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?GFe(i,{signed:n}):gp(i,{signed:n}),32]}function dUe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Y4(e)){const o=gp(t.readBytes(hB)),a=n+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,h]=Mv(t,c,{staticPosition:a});s+=h,i[r?l:c==null?void 0:c.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=Mv(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=l,s+=c}return[i,s]}function hUe(t,{staticPosition:e}){const n=gp(t.readBytes(32)),r=e+n;t.setPosition(r);const i=gp(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=YFe(mp(s));return t.setPosition(e+32),[o,32]}function Y4(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Y4);const n=$H(t.type);return!!(n&&Y4({...t,type:n[1]}))}const fUe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Dme={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},pUe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},mUe=t=>zs(b3(t));function gUe(t){return mUe(t)}function yUe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Ue("Unable to normalize signature.");return i}const wUe=t=>{const e=typeof t=="string"?t:lS(t);return yUe(e)};function Bme(t){return gUe(wUe(t))}const wA=t=>gx(Bme(t),0,4);function bUe(t){const{abi:e,data:n}=t,r=gx(n,0,4);if(r==="0x")throw new yA;const s=[...e||[],Dme,pUe].find(o=>o.type==="error"&&r===wA(dd(o)));if(!s)throw new Ime(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?x3(s.inputs,gx(n,4)):void 0,errorName:s.name}}const oT=Bme,DJ="/docs/contract/decodeEventLog";function NH(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new BFe({docsPath:DJ});const l=e.find(g=>g.type==="event"&&o===oT(dd(g)));if(!(l&&"name"in l)||l.type!=="event")throw new Tme(o,{docsPath:DJ});const{name:c,inputs:u}=l,h=u==null?void 0:u.some(g=>!("name"in g&&g.name)),f=h?[]:{},p=u.map((g,y)=>[g,y]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<p.length;g++){const[y,w]=p[g],v=a[g];if(!v)throw new sT({abiItem:l,param:y});f[h?w:y.name||w]=vUe({param:y,value:v})}const m=u.filter(g=>!("indexed"in g&&g.indexed));if(m.length>0){if(n&&n!=="0x")try{const g=x3(m,n);if(g)if(h)for(let y=0;y<u.length;y++)f[y]=f[y]??g.shift();else for(let y=0;y<m.length;y++)f[m[y].name]=g[y]}catch(g){if(s)throw g instanceof Sme||g instanceof Pme?new K4({abiItem:l,data:n,params:m,size:hi(n)}):g}else if(s)throw new K4({abiItem:l,data:"0x",params:m,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function vUe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(x3([t],e)||[])[0]}function Lme(t){const{abi:e,data:n}=t,r=gx(n,0,4),i=e.find(s=>s.type==="function"&&r===wA(dd(s)));if(!i)throw new LFe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?x3(i.inputs,gx(n,4)):void 0}}function ww(t){const{abi:e,args:n=[],name:r}=t,i=No(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?wA(a)===r:a.type==="event"?oT(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const h="inputs"in a&&a.inputs[u];return h?fB(c,h):!1})){if(o&&"inputs"in o&&o.inputs){const c=Fme(a.inputs,o.inputs,n);if(c)throw new FFe({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function fB(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Xa(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>fB(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>fB(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Fme(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Fme(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Xa(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Xa(n[r],{strict:!1}):!1)return o}}const iR="/docs/contract/decodeFunctionResult";function bw(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=ww({abi:e,args:n,name:r});if(!a)throw new mx(r,{docsPath:iR});s=a}if(s.type!=="function")throw new mx(void 0,{docsPath:iR});if(!s.outputs)throw new $me(s.name,{docsPath:iR});const o=x3(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const sR="/docs/contract/encodeDeployData";function aT(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new RFe({docsPath:sR});if(!("inputs"in i))throw new PJ({docsPath:sR});if(!i.inputs||i.inputs.length===0)throw new PJ({docsPath:sR});const s=yw(i.inputs,n);return v3([r,s])}const oR="/docs/contract/encodeErrorResult";function BJ(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=ww({abi:e,args:r,name:n});if(!l)throw new RJ(n,{docsPath:oR});i=l}if(i.type!=="error")throw new RJ(void 0,{docsPath:oR});const s=dd(i),o=wA(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new DFe(i.name,{docsPath:oR});a=yw(i.inputs,r)}return v3([o,a])}class xUe extends Ue{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const LJ="/docs/contract/encodeEventTopics";function bA(t){var l;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const c=ww({abi:e,name:n});if(!c)throw new jJ(n,{docsPath:LJ});i=c}if(i.type!=="event")throw new jJ(void 0,{docsPath:LJ});const s=dd(i),o=oT(s);let a=[];if(r&&"inputs"in i){const c=(l=i.inputs)==null?void 0:l.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(c==null?void 0:c.map(h=>r[h.name]))??[]:[];u.length>0&&(a=(c==null?void 0:c.map((h,f)=>Array.isArray(u[f])?u[f].map((p,m)=>FJ({param:h,value:u[f][m]})):typeof u[f]<"u"&&u[f]!==null?FJ({param:h,value:u[f]}):null))??[])}return[o,...a]}function FJ({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return zs(b3(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new xUe(t.type);return yw([t],[e])}const UJ="/docs/contract/encodeFunctionData";function EUe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=ww({abi:e,args:n,name:r});if(!s)throw new mx(r,{docsPath:UJ});i=s}if(i.type!=="function")throw new mx(void 0,{docsPath:UJ});return{abi:[i],functionName:wA(dd(i))}}function rl(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:EUe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?yw(i.inputs,e??[]):void 0;return v3([s,o??"0x"])}const aR="/docs/contract/encodeFunctionResult";function AUe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=ww({abi:e,name:n});if(!o)throw new mx(n,{docsPath:aR});i=o}if(i.type!=="function")throw new mx(void 0,{docsPath:aR});if(!i.outputs)throw new $me(i.name,{docsPath:aR});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Nme(r)})();return yw(i.outputs,s)}const rs=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function Ume({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?rs(e[s]):e[s]}`).join(", ")})`}function vA(t,e){if(!Xa(t,{strict:!1}))throw new lg({address:t});if(!Xa(e,{strict:!1}))throw new lg({address:e});return t.toLowerCase()===e.toLowerCase()}function PH(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const l=e.find(u=>u.type==="event"&&o.topics[0]===oT(u));if(!l)return null;const c=NH({...o,abi:[l],strict:i});return s&&!s.includes(c.eventName)||!CUe({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...o}}catch(l){let c,u;if(l instanceof Tme)return null;if(l instanceof K4||l instanceof sT){if(i)return null;c=l.abiItem.name,u=(a=l.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function CUe(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?vA(o,a):s.type==="string"||s.type==="bytes"?zs(b3(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function kUe(t,e="hex"){const n=zme(t),r=SH(new Uint8Array(n.length));return n.encode(r),e==="hex"?is(r.bytes):r.bytes}function zme(t){return Array.isArray(t)?_Ue(t.map(e=>zme(e))):SUe(t)}function _Ue(t){const e=t.reduce((i,s)=>i+s.length,0),n=Wme(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function SUe(t){const e=typeof t=="string"?ud(t):t,n=Wme(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function Wme(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ue("Length is too large.")}function IUe(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=zs(v3(["0x05",kUe([e?$t(e):"0x",i,n?$t(n):"0x"])]));return r==="bytes"?ud(s):s}async function TUe({hash:t,signature:e}){const n=No(t)?t:ki(t),{secp256k1:r}=await Nh(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>xHe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=zJ(p);return new r.Signature(Kl(c),Kl(u)).addRecoveryBit(m)}const o=No(e)?e:ki(e);if(hi(o)!==65)throw new Error("invalid signature length");const a=cd(`0x${o.slice(130)}`),l=zJ(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function zJ(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Hme({hash:t,signature:e}){return NFe(await TUe({hash:t,signature:e}))}async function RH(t){const{authorization:e,signature:n}=t;return Hme({hash:IUe(e),signature:n??e})}const Vme={gwei:9,wei:18},$Ue={ether:-9,wei:9};function Fa(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function vw(t,e="wei"){return Fa(t,Vme[e])}function Ga(t,e="wei"){return Fa(t,$Ue[e])}function xA(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class NUe extends Ue{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class PUe extends Ue{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",xA(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class RUe extends Ue{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var m;const p=xA({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${vw(f)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ga(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ga(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Ga(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class qme extends Ue{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Gme extends Ue{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class jUe extends Ue{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function Kme(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>ud(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>is(s))}function Yme(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ud(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>ud(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?s:s.map(o=>is(o))}function OUe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function MUe(t,e,n){return t&e^~t&n}function DUe(t,e,n){return t&e^t&n^e&n}let BUe=class extends _H{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=tR(this.buffer)}update(e){fx(this),e=nT(e),P1(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=tR(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fx(this),bme(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,px(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;OUe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=tR(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const o0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),LUe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a0=new Uint32Array(64);let FUe=class extends BUe{constructor(e=32){super(64,e,8,!1),this.A=o0[0]|0,this.B=o0[1]|0,this.C=o0[2]|0,this.D=o0[3]|0,this.E=o0[4]|0,this.F=o0[5]|0,this.G=o0[6]|0,this.H=o0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)a0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=a0[h-15],p=a0[h-2],m=Pd(f,7)^Pd(f,18)^f>>>3,g=Pd(p,17)^Pd(p,19)^p>>>10;a0[h]=g+a0[h-7]+m+a0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Pd(a,6)^Pd(a,11)^Pd(a,25),p=u+f+MUe(a,l,c)+LUe[h]+a0[h]|0,g=(Pd(r,2)^Pd(r,13)^Pd(r,22))+DUe(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){px(a0)}destroy(){this.set(0,0,0,0,0,0,0,0),px(this.buffer)}};const Qme=vme(()=>new FUe),UUe=Qme;function zUe(t,e){return UUe(No(t,{strict:!1})?b3(t):t)}function WUe(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=zUe(e);return i.set([n],0),r==="bytes"?i:is(i)}function HUe(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(WUe({commitment:s,to:r,version:n}));return i}const WJ=6,Zme=32,jH=4096,Jme=Zme*jH,HJ=Jme*WJ-1-1*jH*WJ;class VUe extends Ue{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class qUe extends Ue{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function GUe(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?ud(t.data):t.data,r=hi(n);if(!r)throw new qUe;if(r>HJ)throw new VUe({maxSize:HJ,size:r});const i=[];let s=!0,o=0;for(;s;){const a=SH(new Uint8Array(Jme));let l=0;for(;l<jH;){const c=n.slice(o,o+(Zme-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>is(a.bytes))}function KUe(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??GUe({data:e,to:r}),s=t.commitments??Kme({blobs:i,kzg:n,to:r}),o=t.proofs??Yme({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const YUe=2n**256n-1n;class pB extends Ue{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class QUe extends Ue{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class ZUe extends Ue{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Xme extends Ue{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class ov extends Ue{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ov,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ov,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class cS extends Ue{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ga(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(cS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class mB extends Ue{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ga(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(mB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class gB extends Ue{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(gB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class yB extends Ue{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(yB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class wB extends Ue{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(wB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class bB extends Ue{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(bB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class vB extends Ue{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(vB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class xB extends Ue{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(xB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class EB extends Ue{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(EB,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class uS extends Ue{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ga(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ga(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(uS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class EA extends Ue{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function JUe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new PUe({transaction:t})}async function XUe({address:t,authorization:e,signature:n}){return vA(Mi(t),await RH({authorization:e,signature:n}))}const eze=t=>t,OH=t=>t;class H6 extends Ue{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${OH(o)}`,e&&`Request body: ${rs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class MH extends Ue{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${OH(r)}`,`Request body: ${rs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class VJ extends Ue{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${OH(n)}`,`Request body: ${rs(e)}`],name:"TimeoutError"})}}const tze=-1;class il extends Ue{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof MH?e.code:n??tze}}let nc=class extends il{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class Q4 extends il{constructor(e){super(e,{code:Q4.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Q4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Z4 extends il{constructor(e){super(e,{code:Z4.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Z4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class J4 extends il{constructor(e,{method:n}={}){super(e,{code:J4.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(J4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class X4 extends il{constructor(e){super(e,{code:X4.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(X4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class R1 extends il{constructor(e){super(e,{code:R1.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(R1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class j1 extends il{constructor(e){super(e,{code:j1.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(j1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class e8 extends il{constructor(e){super(e,{code:e8.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(e8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class t8 extends il{constructor(e){super(e,{code:t8.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(t8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class n8 extends il{constructor(e){super(e,{code:n8.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(n8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class vy extends il{constructor(e,{method:n}={}){super(e,{code:vy.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(vy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class yx extends il{constructor(e){super(e,{code:yx.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(yx,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class r8 extends il{constructor(e){super(e,{code:r8.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(r8,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let x9=class ege extends nc{constructor(e){super(e,{code:ege.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(x9,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class i8 extends nc{constructor(e){super(e,{code:i8.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(i8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class s8 extends nc{constructor(e,{method:n}={}){super(e,{code:s8.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(s8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class o8 extends nc{constructor(e){super(e,{code:o8.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(o8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let AB=class tge extends nc{constructor(e){super(e,{code:tge.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(AB,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class a8 extends nc{constructor(e){super(e,{code:a8.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(a8,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class wx extends nc{constructor(e){super(e,{code:wx.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(wx,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class l8 extends nc{constructor(e){super(e,{code:l8.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(l8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class c8 extends nc{constructor(e){super(e,{code:c8.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(c8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class u8 extends nc{constructor(e){super(e,{code:u8.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(u8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class d8 extends nc{constructor(e){super(e,{code:d8.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(d8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class h8 extends nc{constructor(e){super(e,{code:h8.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(h8,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class bx extends nc{constructor(e){super(e,{code:bx.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(bx,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class nze extends il{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const HC=new rT(8192);function rze(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(HC.get(n))return HC.get(n);const r=t().finally(()=>HC.delete(n));return HC.set(n,r),r}async function CB(t){return new Promise(e=>setTimeout(e,t))}function dS(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await CB(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});s(c)}};o()})}function ize(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new vy(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new vy(new Error("method not supported"),{method:c});const u=i?hx(`${l}.${rs(n)}`):void 0;return rze(()=>dS(async()=>{try{return await t(n)}catch(f){const p=f;switch(p.code){case Q4.code:throw new Q4(p);case Z4.code:throw new Z4(p);case J4.code:throw new J4(p,{method:n.method});case X4.code:throw new X4(p);case R1.code:throw new R1(p);case j1.code:throw new j1(p);case e8.code:throw new e8(p);case t8.code:throw new t8(p);case n8.code:throw new n8(p);case vy.code:throw new vy(p,{method:n.method});case yx.code:throw new yx(p);case r8.code:throw new r8(p);case x9.code:throw new x9(p);case i8.code:throw new i8(p);case s8.code:throw new s8(p);case o8.code:throw new o8(p);case AB.code:throw new AB(p);case a8.code:throw new a8(p);case wx.code:throw new wx(p);case l8.code:throw new l8(p);case c8.code:throw new c8(p);case u8.code:throw new u8(p);case d8.code:throw new d8(p);case h8.code:throw new h8(p);case bx.code:throw new bx(p);case 5e3:throw new x9(p);default:throw f instanceof Ue?f:new nze(p)}}},{delay:({count:f,error:p})=>{var m;if(p&&p instanceof H6){const g=(m=p==null?void 0:p.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>sze(f)}),{enabled:i,id:u})}}function sze(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===yx.code||t.code===R1.code:t instanceof H6&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DH=BigInt(0),kB=BigInt(1);function AA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function BH(t){if(!AA(t))throw new Error("Uint8Array expected")}function f8(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function VC(t){const e=t.toString(16);return e.length&1?"0"+e:e}function nge(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?DH:BigInt("0x"+t)}const rge=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",oze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function p8(t){if(BH(t),rge)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=oze[t[n]];return e}const ff={_0:48,_9:57,A:65,F:70,a:97,f:102};function qJ(t){if(t>=ff._0&&t<=ff._9)return t-ff._0;if(t>=ff.A&&t<=ff.F)return t-(ff.A-10);if(t>=ff.a&&t<=ff.f)return t-(ff.a-10)}function hS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(rge)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=qJ(t.charCodeAt(s)),a=qJ(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function h1(t){return nge(p8(t))}function ige(t){return BH(t),nge(p8(Uint8Array.from(t).reverse()))}function CA(t,e){return hS(t.toString(16).padStart(e*2,"0"))}function sge(t,e){return CA(t,e).reverse()}function kc(t,e,n){let r;if(typeof e=="string")try{r=hS(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(AA(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function fS(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];BH(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const lR=t=>typeof t=="bigint"&&DH<=t;function LH(t,e,n){return lR(t)&&lR(e)&&lR(n)&&e<=t&&t<n}function Dv(t,e,n,r){if(!LH(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aze(t){let e;for(e=0;t>DH;t>>=kB,e+=1);return e}const lT=t=>(kB<<BigInt(t))-kB,cR=t=>new Uint8Array(t),GJ=t=>Uint8Array.from(t);function lze(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=cR(t),i=cR(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=cR(0))=>{i=a(GJ([0]),h),r=a(),h.length!==0&&(i=a(GJ([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return fS(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const cze={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||AA(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function cT(t,e,n={}){const r=(i,s,o)=>{const a=cze[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function KJ(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const uze="0.1.1";function dze(){return uze}let Bn=class _B extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof _B){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof _B&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${dze()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return oge(this,e)}};function oge(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?oge(t.cause,e):e?null:t}function kA(t,e){if(av(t)>e)throw new Ize({givenSize:av(t),maxSize:e})}const pf={zero:48,nine:57,A:65,F:70,a:97,f:102};function YJ(t){if(t>=pf.zero&&t<=pf.nine)return t-pf.zero;if(t>=pf.A&&t<=pf.F)return t-(pf.A-10);if(t>=pf.a&&t<=pf.f)return t-(pf.a-10)}function hze(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Tze({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function age(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function uT(t,e){if(Yl(t)>e)throw new Oze({givenSize:Yl(t),maxSize:e})}function fze(t,e){if(typeof e=="number"&&e>0&&e>Yl(t)-1)throw new gge({offset:e,position:"start",size:Yl(t)})}function pze(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Yl(t)!==n-e)throw new gge({offset:n,position:"end",size:Yl(t)})}function lge(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Mze({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const mze="#__bigint";function cge(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+mze:i,n)}const gze=new TextDecoder,yze=new TextEncoder;function wze(t){return t instanceof Uint8Array?t:typeof t=="string"?uge(t):bze(t)}function bze(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function uge(t,e={}){const{size:n}=e;let r=t;n&&(uT(t,n),r=M1(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=YJ(i.charCodeAt(l++)),u=YJ(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Bn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function vze(t,e={}){const{size:n}=e,r=yze.encode(t);return typeof n=="number"?(kA(r,n),xze(r,n)):r}function xze(t,e){return hze(t,{dir:"right",size:e})}function av(t){return t.length}function Eze(t,e,n,r={}){return t.slice(e,n)}function Aze(t,e={}){const{size:n}=e;typeof n<"u"&&kA(t,n);const r=fd(t,e);return fge(r,e)}function Cze(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(kA(r,n),r=dge(r)),r.length>1||r[0]>1)throw new Sze(r);return!!r[0]}function yp(t,e={}){const{size:n}=e;typeof n<"u"&&kA(t,n);const r=fd(t,e);return pge(r,e)}function kze(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(kA(r,n),r=_ze(r)),gze.decode(r)}function dge(t){return age(t,{dir:"left"})}function _ze(t){return age(t,{dir:"right"})}class Sze extends Bn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Ize=class extends Bn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Tze=class extends Bn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const $ze=new TextEncoder,Nze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pze(t,e={}){const{strict:n=!1}=e;if(!t)throw new QJ(t);if(typeof t!="string")throw new QJ(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new ZJ(t);if(!t.startsWith("0x"))throw new ZJ(t)}function hd(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Rze(t){return t instanceof Uint8Array?fd(t):Array.isArray(t)?fd(new Uint8Array(t)):t}function hge(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(uT(n,e.size),O1(n,e.size)):n}function fd(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Nze[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(uT(r,e.size),M1(r,e.size)):r}function Go(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new mge({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?O1(l,r):l}function FH(t,e={}){return fd($ze.encode(t),e)}function O1(t,e){return lge(t,{dir:"left",size:e})}function M1(t,e){return lge(t,{dir:"right",size:e})}function Ph(t,e,n,r={}){const{strict:i}=r;fze(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&pze(s,e,n),s}function Yl(t){return Math.ceil((t.length-2)/2)}function fge(t,e={}){const{signed:n}=e;e.size&&uT(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function pge(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:fge(t,e))}function jze(t,e={}){const{strict:n=!1}=e;try{return Pze(t,{strict:n}),!0}catch{return!1}}let mge=class extends Bn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class QJ extends Bn{constructor(e){super(`Value \`${typeof e=="object"?cge(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ZJ extends Bn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Oze=class extends Bn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class gge extends Bn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Mze=class extends Bn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Dze(t){return{address:t.address,amount:Go(t.amount),index:Go(t.index),validatorIndex:Go(t.validatorIndex)}}function yge(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Go(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Go(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Go(t.gasLimit)},...typeof t.number=="bigint"&&{number:Go(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Go(t.prevRandao)},...typeof t.time=="bigint"&&{time:Go(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Dze)}}}const pS=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],SB=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],wge=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],bge=[...wge,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Bze=[...wge,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],JJ=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],XJ=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],vge=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],eX=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],_Kt=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Lze="0x82ad56cb",xge="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Fze="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Uze="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",UH="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class zze extends Ue{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Wze extends Ue{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function tX(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Hze(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=tX(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=tX(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}class Ege extends Ue{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){var y;const m=n?Ri(n):void 0;let g=xA({from:m==null?void 0:m.address,to:h,value:typeof f<"u"&&`${vw(f)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ga(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ga(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Ga(c)} gwei`,nonce:u});p&&(g+=`
${Hze(p)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Age extends Ue{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=ww({abi:n,args:r,name:o}),c=l?Ume({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?dd(l,{includeName:!0}):void 0,h=xA({address:i&&eze(i),function:u,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class IB extends Ue{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,l;if(n&&n!=="0x")try{o=bUe({abi:e,data:n});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")l=f[0];else if(h==="Panic"){const[p]=f;l=fUe[p]}else{const p=u?dd(u,{includeName:!0}):void 0,m=u&&f?Ume({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof Ime&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=l,this.signature=c}}class Vze extends Ue{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class qze extends Ue{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class dT extends Ue{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function E3({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new pB({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new pB({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function hT(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ue?t.walk(i=>(i==null?void 0:i.code)===ov.code):t;return r instanceof Ue?new ov({cause:t,message:r.details}):ov.nodeMessage.test(n)?new ov({cause:t,message:t.details}):cS.nodeMessage.test(n)?new cS({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):mB.nodeMessage.test(n)?new mB({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):gB.nodeMessage.test(n)?new gB({cause:t,nonce:e==null?void 0:e.nonce}):yB.nodeMessage.test(n)?new yB({cause:t,nonce:e==null?void 0:e.nonce}):wB.nodeMessage.test(n)?new wB({cause:t,nonce:e==null?void 0:e.nonce}):bB.nodeMessage.test(n)?new bB({cause:t}):vB.nodeMessage.test(n)?new vB({cause:t,gas:e==null?void 0:e.gas}):xB.nodeMessage.test(n)?new xB({cause:t,gas:e==null?void 0:e.gas}):EB.nodeMessage.test(n)?new EB({cause:t}):uS.nodeMessage.test(n)?new uS({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new EA({cause:t})}function Cge(t,{docsPath:e,...n}){const r=(()=>{const i=hT(t,n);return i instanceof EA?t:i})();return new Ege(r,{docsPath:e,...n})}function fT(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const Gze={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function A3(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=Kze(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>is(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=$t(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=$t(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=$t(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=$t(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=$t(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=$t(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=Gze[t.type]),typeof t.value<"u"&&(n.value=$t(t.value)),n}function Kze(t){return t.map(e=>({address:e.address,r:e.r?$t(BigInt(e.r)):e.r,s:e.s?$t(BigInt(e.s)):e.s,chainId:$t(e.chainId),nonce:$t(e.nonce),...typeof e.yParity<"u"?{yParity:$t(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:$t(e.v)}:{}}))}function zH(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const uR=new Map;function kge({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:m}=u[p];m==null||m([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:m}=u[p];m==null||m(f)}})},o=()=>uR.delete(e),a=()=>l().map(({args:u})=>u),l=()=>uR.get(e)||[],c=u=>uR.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=zH();return(n==null?void 0:n([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:f,reject:p}),h):(c({args:u,resolve:f,reject:p}),setTimeout(s,r),h)}}}function nX(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new _J({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new _J({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Yze(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=$t(e)),n!==void 0&&(o.nonce=$t(n)),r!==void 0&&(o.state=nX(r)),i!==void 0){if(o.state)throw new Wze;o.stateDiff=nX(i)}return o}function WH(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Xa(n,{strict:!1}))throw new lg({address:n});if(e[n])throw new zze({address:n});e[n]=Yze(r)}return e}function xw(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?Ri(e):void 0;if(o&&!Xa(o.address))throw new lg({address:o.address});if(s&&!Xa(s))throw new lg({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new NUe;if(r&&r>YUe)throw new cS({maxFeePerGas:r});if(i&&r&&i>r)throw new uS({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function pT(t,e){var L,k,C,_;const{account:n=t.account,authorizationList:r,batch:i=!!((L=t.batch)!=null&&L.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:h,factory:f,factoryData:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:A,value:E,stateOverride:$,...N}=e,R=n?Ri(n):void 0;if(u&&(f||p))throw new Ue("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&A)throw new Ue("Cannot provide both `code` & `to` as parameters.");const M=u&&h,F=f&&p&&A&&h,W=M||F,H=M?_ge({code:u,data:h}):F?Jze({data:h,factory:f,factoryData:p,to:A}):h;try{xw(e);const S=(typeof s=="bigint"?$t(s):void 0)||o,P=c?yge(c):void 0,D=WH($),O=(_=(C=(k=t.chain)==null?void 0:k.formatters)==null?void 0:C.transactionRequest)==null?void 0:_.format,B=(O||A3)({...fT(N,{format:O}),from:R==null?void 0:R.address,accessList:a,authorizationList:r,blobs:l,data:H,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:W?void 0:A,value:E},"call");if(i&&Qze({request:B})&&!D&&!P)try{return await Zze(t,{...B,blockNumber:s,blockTag:o})}catch(Y){if(!(Y instanceof Xme)&&!(Y instanceof pB))throw Y}const Q=(()=>{const Y=[B,S];return D&&P?[...Y,D,P]:D?[...Y,D]:P?[...Y,{},P]:Y})(),j=await t.request({method:"eth_call",params:Q});return j==="0x"?{data:void 0}:{data:j}}catch(T){const S=Xze(T),{offchainLookup:P,offchainLookupSignature:D}=await Nh(async()=>{const{offchainLookup:O,offchainLookupSignature:I}=await import("./ccip-BJtcJb7v.js");return{offchainLookup:O,offchainLookupSignature:I}},[]);if(t.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===D&&A)return{data:await P(t,{data:S,to:A})};throw W&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new qze({factory:f}):Cge(T,{...e,account:R,chain:t.chain})}}function Qze({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Lze)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Zze(t,e){var g;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return E3({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Xme})(),h=(typeof s=="bigint"?$t(s):void 0)||o,{schedule:f}=kge({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(y){return y.reduce((v,{data:b})=>v+(b.length-2),0)>n*2},fn:async y=>{const w=y.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),v=rl({abi:pS,args:[w],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{...c===null?{data:_ge({code:UH,data:v})}:{to:c,data:v}},h]});return bw({abi:pS,args:[w],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:p,success:m}]=await f({data:a,to:l});if(!m)throw new dT({data:p});return p==="0x"?{data:void 0}:{data:p}}function _ge(t){const{code:e,data:n}=t;return aT({abi:hme(["constructor(bytes, bytes)"]),bytecode:xge,args:[e,n]})}function Jze(t){const{data:e,factory:n,factoryData:r,to:i}=t;return aT({abi:hme(["constructor(address, bytes, address, bytes)"]),bytecode:Fze,args:[i,e,n,r]})}function Xze(t){var n;if(!(t instanceof Ue))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}const mT="x-batch-gateway:true";async function eWe(t){const{data:e,ccipRequest:n}=t,{args:[r]}=Lme({abi:SB,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(mT)?await eWe({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(l){i[a]=!0,s[a]=tWe(l)}})),AUe({abi:SB,functionName:"query",result:[i,s]})}function tWe(t){return t.name==="HttpRequestError"&&t.status?BJ({abi:SB,errorName:"HttpError",args:[t.status,t.shortMessage]}):BJ({abi:[Dme],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function Sge({chain:t,currentChainId:e}){if(!t)throw new ZUe;if(e!==t.id)throw new QUe({chain:t,currentChainId:e})}const nWe=3;function D1(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof dT?t:t instanceof Ue?t.walk(m=>"data"in m)||t.walk():{},{code:l,data:c,details:u,message:h,shortMessage:f}=a,p=t instanceof yA?new Vze({functionName:s}):[nWe,R1.code].includes(l)&&(c||u||h||f)?new IB({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof MH?u:f??h}):t;return new Age(p,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class rWe extends Ue{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var m;const p=xA({from:n==null?void 0:n.address,to:h,value:typeof f<"u"&&`${vw(f)} ${((m=i==null?void 0:i.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ga(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ga(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Ga(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function iWe(t,{docsPath:e,...n}){const r=(()=>{const i=hT(t,n);return i instanceof EA?t:i})();return new rWe(r,{docsPath:e,...n})}function Ige(t,{docsPath:e,...n}){const r=(()=>{const i=hT(t,n);return i instanceof EA?t:i})();return new RUe(r,{docsPath:e,...n})}const Tge={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function $ge(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?cd(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?cd(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Tge[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=sWe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function sWe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Nge(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:$ge(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Rp(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const Pge={"0x0":"reverted","0x1":"success"};function oWe(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Rp(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?cd(t.transactionIndex):null,status:t.status?Pge[t.status]:null,type:t.type?Tge[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function Pt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}async function HH(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?$t(r):n]},{dedupe:!!r});return cd(i)}function aWe(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function lWe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rX=lWe();function cWe(t,e={}){return{async request(n){var f;const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,l={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=l;try{const p=await aWe(async({signal:g})=>{const y={...l,body:Array.isArray(r)?rs(r.map(A=>({jsonrpc:"2.0",id:A.id??rX.take(),...A}))):rs({jsonrpc:"2.0",id:r.id??rX.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(a>0?g:null)},w=new Request(t,y),v=await(s==null?void 0:s(w,y))??{...y,url:t};return await i(v.url??t,v)},{errorInstance:new VJ({body:r,url:t}),timeout:a,signal:!0});o&&await o(p);let m;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(g){if(p.ok)throw g;m={error:m}}}if(!p.ok)throw new H6({body:r,details:rs(m.error)||p.statusText,headers:p.headers,status:p.status,url:t});return m}catch(p){throw p instanceof H6||p instanceof VJ?p:new H6({body:r,cause:p,url:t})}}}}const uWe=`Ethereum Signed Message:
`;function dWe(t){const e=typeof t=="string"?hx(t):typeof t.raw=="string"?t.raw:is(t.raw),n=hx(`${uWe}${hi(e)}`);return Qc([n,e])}function Rge(t,e){return zs(dWe(t),e)}class hWe extends Ue{constructor({domain:e}){super(`Invalid domain "${rs(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class fWe extends Ue{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class pWe extends Ue{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function mWe(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(l,c)=>{const u={...c};for(const h of l){const{name:f,type:p}=h;p==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return rs({domain:o,message:a,primaryType:r,types:i})}function jge(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,h=a[c],f=u.match(Mme);if(f&&(typeof h=="number"||typeof h=="bigint")){const[g,y,w]=f;$t(h,{signed:y==="int",size:Number.parseInt(w,10)/8})}if(u==="address"&&typeof h=="string"&&!Xa(h))throw new lg({address:h});const p=u.match(ZFe);if(p){const[g,y]=p;if(y&&hi(h)!==Number.parseInt(y,10))throw new UFe({expectedSize:Number.parseInt(y,10),givenSize:hi(h)})}const m=i[u];m&&(gWe(u),s(m,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new hWe({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new fWe({primaryType:r,types:i})}function Oge({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function gWe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new pWe({type:t})}function yWe(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:Oge({domain:e}),...t.types};jge({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(wWe({domain:e,types:i})),r!=="EIP712Domain"&&s.push(Mge({data:n,primaryType:r,types:i})),zs(Qc(s))}function wWe({domain:t,types:e}){return Mge({data:t,primaryType:"EIP712Domain",types:e})}function Mge({data:t,primaryType:e,types:n}){const r=Dge({data:t,primaryType:e,types:n});return zs(r)}function Dge({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[bWe({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=Lge({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return yw(r,i)}function bWe({primaryType:t,types:e}){const n=ki(vWe({primaryType:t,types:e}));return zs(n)}function vWe({primaryType:t,types:e}){let n="";const r=Bge({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function Bge({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])Bge({primaryType:s.type,types:e},n);return n}function Lge({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},zs(Dge({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},zs(r)];if(n==="string")return[{type:"bytes32"},zs(ki(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>Lge({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},zs(yw(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}let xWe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const EWe={checksum:new xWe(8192)},dR=EWe.checksum;function Fge(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=_me(wze(t));return n==="Bytes"?r:fd(r)}const AWe=/^0x[a-fA-F0-9]{40}$/;function gT(t,e={}){const{strict:n=!0}=e;if(!AWe.test(t))throw new iX({address:t,cause:new CWe});if(n){if(t.toLowerCase()===t)return;if(Uge(t)!==t)throw new iX({address:t,cause:new kWe})}}function Uge(t){if(dR.has(t))return dR.get(t);gT(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Fge(vze(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return dR.set(t,i),i}function TB(t,e={}){const{strict:n=!0}=e??{};try{return gT(t,{strict:n}),!0}catch{return!1}}class iX extends Bn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}let CWe=class extends Bn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}};class kWe extends Bn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const _We=/^(.*)\[([0-9]*)\]$/,SWe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zge=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,sX=2n**256n-1n;function Bv(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=GH(e.type);if(s){const[o,a]=s;return TWe(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type==="tuple")return RWe(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return IWe(t,{checksum:r});if(e.type==="bool")return $We(t);if(e.type.startsWith("bytes"))return NWe(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return PWe(t,e);if(e.type==="string")return jWe(t,{staticPosition:i});throw new YH(e.type)}const oX=32,$B=32;function IWe(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?Uge(s):s)(fd(Eze(r,-20))),32]}function TWe(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const l=yp(t.readBytes($B)),c=s+l,u=c+oX;t.setPosition(c);const h=yp(t.readBytes(oX)),f=m8(e);let p=0;const m=[];for(let g=0;g<h;++g){t.setPosition(u+(f?g*32:p));const[y,w]=Bv(t,e,{checksumAddress:r,staticPosition:u});p+=w,m.push(y)}return t.setPosition(s+32),[m,32]}if(m8(e)){const l=yp(t.readBytes($B)),c=s+l,u=[];for(let h=0;h<i;++h){t.setPosition(c+h*32);const[f]=Bv(t,e,{checksumAddress:r,staticPosition:c});u.push(f)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=Bv(t,e,{checksumAddress:r,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function $We(t){return[Cze(t.readBytes(32),{size:32}),32]}function NWe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=yp(t.readBytes(32));t.setPosition(n+o);const a=yp(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[fd(l),32]}return[fd(t.readBytes(Number.parseInt(i,10),32)),32]}function PWe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?Aze(i,{signed:n}):yp(i,{signed:n}),32]}function RWe(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(m8(e)){const l=yp(t.readBytes($B)),c=i+l;for(let u=0;u<e.components.length;++u){const h=e.components[u];t.setPosition(c+a);const[f,p]=Bv(t,h,{checksumAddress:r,staticPosition:c});a+=p,o[s?u:h==null?void 0:h.name]=f}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,h]=Bv(t,c,{checksumAddress:r,staticPosition:i});o[s?l:c==null?void 0:c.name]=u,a+=h}return[o,a]}function jWe(t,{staticPosition:e}){const n=yp(t.readBytes(32)),r=e+n;t.setPosition(r);const i=yp(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=kze(dge(s));return t.setPosition(e+32),[o,32]}function OWe({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(VH({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function VH({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=GH(r.type);if(i){const[s,o]=i;return DWe(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return zWe(n,{checksumAddress:t,parameter:r});if(r.type==="address")return MWe(n,{checksum:t});if(r.type==="bool")return LWe(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=zge.exec(r.type)??[];return FWe(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return BWe(n,{type:r.type});if(r.type==="string")return UWe(n);throw new YH(r.type)}function qH(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Yl(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Go(e+i,{size:32})),r.push(a),i+=Yl(a)):n.push(a)}return hd(...n,...r)}function MWe(t,e){const{checksum:n=!1}=e;return gT(t,{strict:n}),{dynamic:!1,encoded:O1(t.toLowerCase())}}function DWe(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new ZWe(t);if(!s&&t.length!==r)throw new QWe({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=VH({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=qH(a);if(s){const c=Go(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?hd(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:hd(...a.map(({encoded:l})=>l))}}function BWe(t,{type:e}){const[,n]=e.split("bytes"),r=Yl(t);if(!n){let i=t;return r%32!==0&&(i=M1(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:hd(O1(Go(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new Hge({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:M1(t)}}function LWe(t){if(typeof t!="boolean")throw new Bn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:O1(hge(t))}}function FWe(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new mge({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Go(t,{size:32,signed:e})}}function UWe(t){const e=FH(t),n=Math.ceil(Yl(e)/32),r=[];for(let i=0;i<n;i++)r.push(M1(Ph(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:hd(M1(Go(Yl(e),{size:32})),...r)}}function zWe(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],l=Array.isArray(t)?o:a.name,c=VH({checksumAddress:n,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?qH(s):hd(...s.map(({encoded:o})=>o))}}function GH(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function m8(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(m8);const n=GH(t.type);return!!(n&&m8({...t,type:n[1]}))}const WWe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qWe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new VWe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new aX({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new aX({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function HWe(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(WWe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class aX extends Bn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class VWe extends Bn{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class qWe extends Bn{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function GWe(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?uge(e):e,o=HWe(s);if(av(s)===0&&t.length>0)throw new YWe;if(av(s)&&av(s)<32)throw new KWe({data:typeof e=="string"?e:fd(e),parameters:t,size:av(s)});let a=0;const l=r==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[h,f]=Bv(o,u,{checksumAddress:i,staticPosition:0});a+=f,r==="Array"?l.push(h):l[u.name??c]=h}return l}function KH(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new Vge({expectedLength:t.length,givenLength:e.length});const i=OWe({checksumAddress:r,parameters:t,values:e}),s=qH(i);return s.length===0?"0x":s}function NB(t,e){if(t.length!==e.length)throw new Vge({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(NB.encode(i,s))}return hd(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return gT(l),O1(l.toLowerCase(),i?32:0)}if(n==="string")return FH(r);if(n==="bytes")return r;if(n==="bool")return O1(hge(r),i?32:1);const s=n.match(zge);if(s){const[l,c,u="256"]=s,h=Number.parseInt(u,10)/8;return Go(r,{size:i?32:h,signed:c==="int"})}const o=n.match(SWe);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(r.length-2)/2)throw new Hge({expectedSize:Number.parseInt(c,10),value:r});return M1(r,i?32:0)}const a=n.match(_We);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let h=0;h<r.length;h++)u.push(e(c,r[h],!0));return u.length===0?"0x":hd(...u)}throw new YH(n)}t.encode=e})(NB||(NB={}));function Wge(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?kJ(t):t}class KWe extends Bn{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Pb(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class YWe extends Bn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class QWe extends Bn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Hge extends Bn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Yl(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Vge extends Bn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class ZWe extends Bn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class YH extends Bn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let qge=class extends _H{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,hFe(e);const r=nT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),px(s)}update(e){return fx(this),this.iHash.update(e),this}digestInto(e){fx(this),P1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Gge=(t,e,n)=>new qge(t,e).update(n).digest();Gge.create=(t,e)=>new qge(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ua=BigInt(0),la=BigInt(1),xy=BigInt(2),JWe=BigInt(3),Kge=BigInt(4),Yge=BigInt(5),Qge=BigInt(8);function $a(t,e){const n=t%e;return n>=Ua?n:e+n}function uc(t,e,n){let r=t;for(;e-- >Ua;)r*=r,r%=n;return r}function PB(t,e){if(t===Ua)throw new Error("invert: expected non-zero number");if(e<=Ua)throw new Error("invert: expected positive modulus, got "+e);let n=$a(t,e),r=e,i=Ua,s=la;for(;n!==Ua;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==la)throw new Error("invert: does not exist");return $a(i,e)}function Zge(t,e){const n=(t.ORDER+la)/Kge,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function XWe(t,e){const n=(t.ORDER-Yge)/Qge,r=t.mul(e,xy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,xy),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function eHe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-la,n=0;for(;e%xy===Ua;)e/=xy,n++;let r=xy;const i=QH(t);for(;lX(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Zge;let s=i.pow(r,e);const o=(e+la)/xy;return function(l,c){if(l.is0(c))return c;if(lX(l,c)!==1)throw new Error("Cannot find square root");let u=n,h=l.mul(l.ONE,s),f=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let m=1,g=l.sqr(f);for(;!l.eql(g,l.ONE);)if(m++,g=l.sqr(g),m===u)throw new Error("Cannot find square root");const y=la<<BigInt(u-m-1),w=l.pow(h,y);u=m,h=l.sqr(w),f=l.mul(f,h),p=l.mul(p,w)}return p}}function tHe(t){return t%Kge===JWe?Zge:t%Qge===Yge?XWe:eHe(t)}const nHe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rHe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=nHe.reduce((r,i)=>(r[i]="function",r),e);return cT(t,n)}function iHe(t,e,n){if(n<Ua)throw new Error("invalid exponent, negatives unsupported");if(n===Ua)return t.ONE;if(n===la)return e;let r=t.ONE,i=e;for(;n>Ua;)n&la&&(r=t.mul(r,i)),i=t.sqr(i),n>>=la;return r}function Jge(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function lX(t,e){const n=(t.ORDER-la)/xy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Xge(t,e){e!==void 0&&G4(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function QH(t,e,n=!1,r={}){if(t<=Ua)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Xge(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:lT(i),ZERO:Ua,ONE:la,create:l=>$a(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ua<=l&&l<t},is0:l=>l===Ua,isOdd:l=>(l&la)===la,neg:l=>$a(-l,t),eql:(l,c)=>l===c,sqr:l=>$a(l*l,t),add:(l,c)=>$a(l+c,t),sub:(l,c)=>$a(l-c,t),mul:(l,c)=>$a(l*c,t),pow:(l,c)=>iHe(a,l,c),div:(l,c)=>$a(l*PB(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>PB(l,t),sqrt:r.sqrt||(l=>(o||(o=tHe(t)),o(a,l))),toBytes:l=>n?sge(l,s):CA(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?ige(l):h1(l)},invertBatch:l=>Jge(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function eye(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function tye(t){const e=eye(t);return e+Math.ceil(e/2)}function sHe(t,e,n=!1){const r=t.length,i=eye(e),s=tye(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?ige(t):h1(t),a=$a(o,e-la)+la;return n?sge(a,i):CA(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cX=BigInt(0),RB=BigInt(1);function hR(t,e){const n=e.negate();return t?n:e}function nye(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function fR(t,e){nye(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=lT(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function uX(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=RB);const c=e*r,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function oHe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function aHe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const pR=new WeakMap,rye=new WeakMap;function mR(t){return rye.get(t)||1}function lHe(t,e){return{constTimeNegate:hR,hasPrecomputes(n){return mR(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>cX;)r&RB&&(i=i.add(s)),s=s.double(),r>>=RB;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=fR(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=fR(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=uX(i,l,a);i=c,h?o=o.add(hR(p,r[m])):s=s.add(hR(f,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=fR(n,e);for(let a=0;a<o.windows&&i!==cX;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=uX(i,a,o);if(i=l,!u){const f=r[c];s=s.add(h?f.negate():f)}}return s},getPrecomputes(n,r,i){let s=pR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&pR.set(r,i(s))),s},wNAFCached(n,r,i){const s=mR(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=mR(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){nye(r,e),rye.set(n,r),pR.delete(n)}}}function cHe(t,e,n,r){oHe(n,t),aHe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=aze(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=lT(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let g=0;g<s;g++){const y=r[g],w=Number(y>>BigInt(p)&c);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),p!==0)for(let g=0;g<l;g++)f=f.double()}return f}function iye(t){return rHe(t.Fp),cT(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Xge(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dX(t){t.lowS!==void 0&&f8("lowS",t.lowS),t.prehash!==void 0&&f8("prehash",t.prehash)}function uHe(t){const e=iye(t);cT(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let dHe=class extends Error{constructor(e=""){super(e)}};const Mf={Err:dHe,_tlv:{encode:(t,e)=>{const{Err:n}=Mf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=VC(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?VC(i.length/2|128):"";return VC(t)+s+i+e},decode(t,e){const{Err:n}=Mf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Mf;if(t<np)throw new e("integer: negative integers are not allowed");let n=VC(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Mf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return h1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Mf,i=kc("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Mf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function gR(t,e){return p8(CA(t,e))}const np=BigInt(0),hs=BigInt(1);BigInt(2);const yR=BigInt(3),hHe=BigInt(4);function fHe(t){const e=uHe(t),{Fp:n}=e,r=QH(e.n,e.nBitLength),i=e.toBytes||((b,A,E)=>{const $=A.toAffine();return fS(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),s=e.fromBytes||(b=>{const A=b.subarray(1),E=n.fromBytes(A.subarray(0,n.BYTES)),$=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:E,y:$}});function o(b){const{a:A,b:E}=e,$=n.sqr(b),N=n.mul($,b);return n.add(n.add(N,n.mul(b,A)),E)}function a(b,A){const E=n.sqr(A),$=o(b);return n.eql(E,$)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,yR),hHe),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(b){return LH(b,hs,e.n)}function h(b){const{allowedPrivateKeyLengths:A,nByteLength:E,wrapPrivateKey:$,n:N}=e;if(A&&typeof b!="bigint"){if(AA(b)&&(b=p8(b)),typeof b!="string"||!A.includes(b.length))throw new Error("invalid private key");b=b.padStart(E*2,"0")}let R;try{R=typeof b=="bigint"?b:h1(kc("private key",b,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof b)}return $&&(R=$a(R,N)),Dv("private key",R,hs,N),R}function f(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}const p=KJ((b,A)=>{const{px:E,py:$,pz:N}=b;if(n.eql(N,n.ONE))return{x:E,y:$};const R=b.is0();A==null&&(A=R?n.ONE:n.inv(N));const M=n.mul(E,A),F=n.mul($,A),W=n.mul(N,A);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:M,y:F}}),m=KJ(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:A,y:E}=b.toAffine();if(!n.isValid(A)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(A,E))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(A,E,$){if(A==null||!n.isValid(A))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=A,this.py=E,this.pz=$,Object.freeze(this)}static fromAffine(A){const{x:E,y:$}=A||{};if(!A||!n.isValid(E)||!n.isValid($))throw new Error("invalid affine point");if(A instanceof g)throw new Error("projective point not allowed");const N=R=>n.eql(R,n.ZERO);return N(E)&&N($)?g.ZERO:new g(E,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const E=Jge(n,A.map($=>$.pz));return A.map(($,N)=>$.toAffine(E[N])).map(g.fromAffine)}static fromHex(A){const E=g.fromAffine(s(kc("pointHex",A)));return E.assertValidity(),E}static fromPrivateKey(A){return g.BASE.multiply(h(A))}static msm(A,E){return cHe(g,r,A,E)}_setWindowSize(A){v.setWindowSize(this,A)}assertValidity(){m(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){f(A);const{px:E,py:$,pz:N}=this,{px:R,py:M,pz:F}=A,W=n.eql(n.mul(E,F),n.mul(R,N)),H=n.eql(n.mul($,F),n.mul(M,N));return W&&H}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:E}=e,$=n.mul(E,yR),{px:N,py:R,pz:M}=this;let F=n.ZERO,W=n.ZERO,H=n.ZERO,L=n.mul(N,N),k=n.mul(R,R),C=n.mul(M,M),_=n.mul(N,R);return _=n.add(_,_),H=n.mul(N,M),H=n.add(H,H),F=n.mul(A,H),W=n.mul($,C),W=n.add(F,W),F=n.sub(k,W),W=n.add(k,W),W=n.mul(F,W),F=n.mul(_,F),H=n.mul($,H),C=n.mul(A,C),_=n.sub(L,C),_=n.mul(A,_),_=n.add(_,H),H=n.add(L,L),L=n.add(H,L),L=n.add(L,C),L=n.mul(L,_),W=n.add(W,L),C=n.mul(R,M),C=n.add(C,C),L=n.mul(C,_),F=n.sub(F,L),H=n.mul(C,k),H=n.add(H,H),H=n.add(H,H),new g(F,W,H)}add(A){f(A);const{px:E,py:$,pz:N}=this,{px:R,py:M,pz:F}=A;let W=n.ZERO,H=n.ZERO,L=n.ZERO;const k=e.a,C=n.mul(e.b,yR);let _=n.mul(E,R),T=n.mul($,M),S=n.mul(N,F),P=n.add(E,$),D=n.add(R,M);P=n.mul(P,D),D=n.add(_,T),P=n.sub(P,D),D=n.add(E,N);let O=n.add(R,F);return D=n.mul(D,O),O=n.add(_,S),D=n.sub(D,O),O=n.add($,N),W=n.add(M,F),O=n.mul(O,W),W=n.add(T,S),O=n.sub(O,W),L=n.mul(k,D),W=n.mul(C,S),L=n.add(W,L),W=n.sub(T,L),L=n.add(T,L),H=n.mul(W,L),T=n.add(_,_),T=n.add(T,_),S=n.mul(k,S),D=n.mul(C,D),T=n.add(T,S),S=n.sub(_,S),S=n.mul(k,S),D=n.add(D,S),_=n.mul(T,D),H=n.add(H,_),_=n.mul(O,D),W=n.mul(P,W),W=n.sub(W,_),_=n.mul(P,T),L=n.mul(O,L),L=n.add(L,_),new g(W,H,L)}subtract(A){return this.add(A.negate())}is0(){return this.equals(g.ZERO)}wNAF(A){return v.wNAFCached(this,A,g.normalizeZ)}multiplyUnsafe(A){const{endo:E,n:$}=e;Dv("scalar",A,np,$);const N=g.ZERO;if(A===np)return N;if(this.is0()||A===hs)return this;if(!E||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,A,g.normalizeZ);let{k1neg:R,k1:M,k2neg:F,k2:W}=E.splitScalar(A),H=N,L=N,k=this;for(;M>np||W>np;)M&hs&&(H=H.add(k)),W&hs&&(L=L.add(k)),k=k.double(),M>>=hs,W>>=hs;return R&&(H=H.negate()),F&&(L=L.negate()),L=new g(n.mul(L.px,E.beta),L.py,L.pz),H.add(L)}multiply(A){const{endo:E,n:$}=e;Dv("scalar",A,hs,$);let N,R;if(E){const{k1neg:M,k1:F,k2neg:W,k2:H}=E.splitScalar(A);let{p:L,f:k}=this.wNAF(F),{p:C,f:_}=this.wNAF(H);L=v.constTimeNegate(M,L),C=v.constTimeNegate(W,C),C=new g(n.mul(C.px,E.beta),C.py,C.pz),N=L.add(C),R=k.add(_)}else{const{p:M,f:F}=this.wNAF(A);N=M,R=F}return g.normalizeZ([N,R])[0]}multiplyAndAddUnsafe(A,E,$){const N=g.BASE,R=(F,W)=>W===np||W===hs||!F.equals(N)?F.multiplyUnsafe(W):F.multiply(W),M=R(this,E).add(R(A,$));return M.is0()?void 0:M}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:E}=e;if(A===hs)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:E}=e;return A===hs?this:E?E(g,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return f8("isCompressed",A),this.assertValidity(),i(g,this,A)}toHex(A=!0){return f8("isCompressed",A),p8(this.toRawBytes(A))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:w}=e,v=lHe(g,y?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function pHe(t){const e=iye(t);return cT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function mHe(t){const e=pHe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(C){return $a(C,r)}function c(C){return PB(C,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=fHe({...e,toBytes(C,_,T){const S=_.toAffine(),P=n.toBytes(S.x),D=fS;return f8("isCompressed",T),T?D(Uint8Array.from([_.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,n.toBytes(S.y))},fromBytes(C){const _=C.length,T=C[0],S=C.subarray(1);if(_===o&&(T===2||T===3)){const P=h1(S);if(!LH(P,hs,n.ORDER))throw new Error("Point is not on curve");const D=f(P);let O;try{O=n.sqrt(D)}catch(Q){const j=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+j)}const I=(O&hs)===hs;return(T&1)===1!==I&&(O=n.neg(O)),{x:P,y:O}}else if(_===a&&T===4){const P=n.fromBytes(S.subarray(0,n.BYTES)),D=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:P,y:D}}else{const P=o,D=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+D+", got "+_)}}});function m(C){const _=r>>hs;return C>_}function g(C){return m(C)?l(-C):C}const y=(C,_,T)=>h1(C.slice(_,T));class w{constructor(_,T,S){Dv("r",_,hs,r),Dv("s",T,hs,r),this.r=_,this.s=T,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(_){const T=i;return _=kc("compactSignature",_,T*2),new w(y(_,0,T),y(_,T,2*T))}static fromDER(_){const{r:T,s:S}=Mf.toSig(kc("DER",_));return new w(T,S)}assertValidity(){}addRecoveryBit(_){return new w(this.r,this.s,_)}recoverPublicKey(_){const{r:T,s:S,recovery:P}=this,D=N(kc("msgHash",_));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const O=P===2||P===3?T+e.n:T;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=P&1?"03":"02",B=u.fromHex(I+gR(O,n.BYTES)),Q=c(O),j=l(-D*Q),Y=l(S*Q),ee=u.BASE.multiplyAndAddUnsafe(B,j,Y);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return hS(this.toDERHex())}toDERHex(){return Mf.hexFromSig(this)}toCompactRawBytes(){return hS(this.toCompactHex())}toCompactHex(){const _=i;return gR(this.r,_)+gR(this.s,_)}}const v={isValidPrivateKey(C){try{return h(C),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const C=tye(e.n);return sHe(e.randomBytes(C),e.n)},precompute(C=8,_=u.BASE){return _._setWindowSize(C),_.multiply(BigInt(3)),_}};function b(C,_=!0){return u.fromPrivateKey(C).toRawBytes(_)}function A(C){if(typeof C=="bigint")return!1;if(C instanceof u)return!0;const T=kc("key",C).length,S=n.BYTES,P=S+1,D=2*S+1;if(!(e.allowedPrivateKeyLengths||i===P))return T===P||T===D}function E(C,_,T=!0){if(A(C)===!0)throw new Error("first arg must be private key");if(A(_)===!1)throw new Error("second arg must be public key");return u.fromHex(_).multiply(h(C)).toRawBytes(T)}const $=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const _=h1(C),T=C.length*8-s;return T>0?_>>BigInt(T):_},N=e.bits2int_modN||function(C){return l($(C))},R=lT(s);function M(C){return Dv("num < 2^"+s,C,np,R),CA(C,i)}function F(C,_,T=W){if(["recovered","canonical"].some(oe=>oe in T))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:P}=e;let{lowS:D,prehash:O,extraEntropy:I}=T;D==null&&(D=!0),C=kc("msgHash",C),dX(T),O&&(C=kc("prehashed msgHash",S(C)));const B=N(C),Q=h(_),j=[M(Q),M(B)];if(I!=null&&I!==!1){const oe=I===!0?P(n.BYTES):I;j.push(kc("extraEntropy",oe))}const Y=fS(...j),ee=B;function Z(oe){const de=$(oe);if(!p(de))return;const ce=c(de),he=u.BASE.multiply(de).toAffine(),be=l(he.x);if(be===np)return;const fe=l(ce*l(ee+be*Q));if(fe===np)return;let ke=(he.x===be?0:2)|Number(he.y&hs),we=fe;return D&&m(fe)&&(we=g(fe),ke^=1),new w(be,we,ke)}return{seed:Y,k2sig:Z}}const W={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function L(C,_,T=W){const{seed:S,k2sig:P}=F(C,_,T),D=e;return lze(D.hash.outputLen,D.nByteLength,D.hmac)(S,P)}u.BASE._setWindowSize(8);function k(C,_,T,S=H){var ke;const P=C;_=kc("msgHash",_),T=kc("publicKey",T);const{lowS:D,prehash:O,format:I}=S;if(dX(S),"strict"in S)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&I!=="compact"&&I!=="der")throw new Error("format must be compact or der");const B=typeof P=="string"||AA(P),Q=!B&&!I&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!B&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,Y;try{if(Q&&(j=new w(P.r,P.s)),B){try{I!=="compact"&&(j=w.fromDER(P))}catch(we){if(!(we instanceof Mf.Err))throw we}!j&&I!=="der"&&(j=w.fromCompact(P))}Y=u.fromHex(T)}catch{return!1}if(!j||D&&j.hasHighS())return!1;O&&(_=e.hash(_));const{r:ee,s:Z}=j,oe=N(_),de=c(Z),ce=l(oe*de),he=l(ee*de),be=(ke=u.BASE.multiplyAndAddUnsafe(Y,ce,he))==null?void 0:ke.toAffine();return be?l(be.x)===ee:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:L,verify:k,ProjectivePoint:u,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gHe(t){return{hash:t,hmac:(e,...n)=>Gge(t,e,wFe(...n)),randomBytes:bFe}}function yHe(t,e){const n=r=>mHe({...t,...gHe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sye=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hX=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wHe=BigInt(0),bHe=BigInt(1),jB=BigInt(2),fX=(t,e)=>(t+e/jB)/e;function vHe(t){const e=sye,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=uc(u,n,e)*u%e,f=uc(h,n,e)*u%e,p=uc(f,jB,e)*c%e,m=uc(p,i,e)*p%e,g=uc(m,s,e)*m%e,y=uc(g,a,e)*g%e,w=uc(y,l,e)*y%e,v=uc(w,a,e)*g%e,b=uc(v,n,e)*u%e,A=uc(b,o,e)*m%e,E=uc(A,r,e)*c%e,$=uc(E,jB,e);if(!OB.eql(OB.sqr($),t))throw new Error("Cannot find square root");return $}const OB=QH(sye,void 0,void 0,{sqrt:vHe}),oye=yHe({a:wHe,b:BigInt(7),Fp:OB,n:hX,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hX,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bHe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=fX(s*t,e),l=fX(-r*t,e);let c=$a(t-a*n-l*i,e),u=$a(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},Qme),xHe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:oye},Symbol.toStringTag,{value:"Module"}));function aye(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new wR({signature:t});if(typeof t.s>"u")throw new wR({signature:t});if(n&&typeof t.yParity>"u")throw new wR({signature:t});if(t.r<0n||t.r>sX)throw new IHe({value:t.r});if(t.s<0n||t.s>sX)throw new THe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new JH({value:t.yParity})}function EHe(t){return lye(fd(t))}function lye(t){if(t.length!==130&&t.length!==132)throw new SHe({signature:t});const e=BigInt(Ph(t,0,32)),n=BigInt(Ph(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return ZH(i)}catch{throw new JH({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function AHe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return CHe(t)}function CHe(t){const e=typeof t=="string"?lye(t):t instanceof Uint8Array?EHe(t):typeof t.r=="string"?_He(t):t.v?kHe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return aye(e),e}function kHe(t){return{r:t.r,s:t.s,yParity:ZH(t.v)}}function _He(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ZH(n)),typeof r!="number")throw new JH({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function ZH(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new $He({value:t})}class SHe extends Bn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Yl(Rze(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class wR extends Bn{constructor({signature:e}){super(`Signature \`${cge(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class IHe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class THe extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class JH extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class $He extends Bn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function NHe(t,e={}){return typeof t.chainId=="string"?PHe(t):{...t,...e.signature}}function PHe(t){const{address:e,chainId:n,nonce:r}=t,i=AHe(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const RHe="0x8010801080108010801080108010801080108010801080108010801080108010",jHe=Wge("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function cye(t){if(typeof t=="string"){if(Ph(t,-32)!==RHe)throw new DHe(t)}else aye(t.authorization)}function OHe(t){cye(t);const e=pge(Ph(t,-64,-32)),n=Ph(t,-e-64,-64),r=Ph(t,0,-e-64),[i,s,o]=GWe(jHe,n);return{authorization:NHe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function MHe(t){try{return cye(t),!0}catch{return!1}}let DHe=class extends Bn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class BHe extends Ue{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function LHe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new BHe({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],l=Math.round(+`${o}.${a}`);l>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${l}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function uye(t,e="wei"){return LHe(t,Vme[e])}const FHe={path:"/api/v1/analytics_events",method:"POST"},UHe={path:"/api/v1/apps/:app_id",method:"GET"},zHe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},WHe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},HHe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},VHe={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},qHe={path:"/api/v1/farcaster/init",method:"POST"},GHe={path:"/api/v1/farcaster/authenticate",method:"POST"},KHe={path:"/api/v1/farcaster/link",method:"POST"},YHe={path:"/api/v1/farcaster/unlink",method:"POST"},QHe={path:"/api/v1/farcaster/status",method:"GET"},ZHe={path:"/api/v2/farcaster/init",method:"POST"},JHe={path:"/api/v2/farcaster/authenticate",method:"POST"},XHe={path:"/api/v1/guest/authenticate",method:"POST"},eVe={path:"/api/v1/mfa/passkeys/init",method:"POST"},tVe={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},nVe={path:"/api/v1/oauth/authenticate",method:"POST"},rVe={path:"/api/v1/oauth/init",method:"POST"},iVe={path:"/api/v1/oauth/link",method:"POST"},sVe={path:"/api/v1/oauth/unlink",method:"POST"},oVe={path:"/api/v1/passkeys/link",method:"POST"},aVe={path:"/api/v1/passkeys/authenticate",method:"POST"},lVe={path:"/api/v1/passkeys/register",method:"POST"},cVe={path:"/api/v1/passkeys/authenticate/init",method:"POST"},uVe={path:"/api/v1/passkeys/register/init",method:"POST"},dVe={path:"/api/v1/passkeys/link/init",method:"POST"},hVe={path:"/api/v1/passwordless/authenticate",method:"POST"},fVe={path:"/api/v1/passwordless/init",method:"POST"},pVe={path:"/api/v1/passwordless/link",method:"POST"},mVe={path:"/api/v1/passwordless/unlink",method:"POST"},gVe={path:"/api/v1/passwordless/update",method:"POST"},yVe={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},wVe={path:"/api/v1/passwordless_sms/init",method:"POST"},bVe={path:"/api/v1/passwordless_sms/link",method:"POST"},vVe={path:"/api/v1/passwordless_sms/unlink",method:"POST"},xVe={path:"/api/v1/passwordless_sms/update",method:"POST"},EVe={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},AVe={path:"/api/v1/recovery/oauth/init",method:"POST"},CVe={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},kVe={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},_Ve={path:"/api/v1/recovery/configuration_icloud",method:"POST"},SVe=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,pX={path:"/api/v1/sessions",method:"POST"},IVe={path:"/api/v1/sessions/logout",method:"POST"},TVe={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},dye={path:"/api/v1/siwe/init",method:"POST"},$Ve={path:"/api/v1/siwe/authenticate",method:"POST"},NVe={path:"/api/v1/siwe/link",method:"POST"},PVe={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},RVe={path:"/api/v1/siwe/unlink",method:"POST"},jVe={path:"/api/v1/siws/init",method:"POST"},OVe={path:"/api/v1/siws/authenticate",method:"POST"},MVe={path:"/api/v1/siws/link",method:"POST"},DVe={path:"/api/v1/siws/unlink",method:"POST"},BVe={path:"/api/v1/users/me/accept_terms",method:"POST"},LVe={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},FVe={path:"/api/v1/wallets",method:"POST"},bR={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},UVe={path:"/api/v1/wallets/revoke",method:"POST"};var Hn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Hn||(Hn={}));var mX;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(mX||(mX={}));const Ct=Hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),H0=t=>{switch(typeof t){case"undefined":return Ct.undefined;case"string":return Ct.string;case"number":return Number.isNaN(t)?Ct.nan:Ct.number;case"boolean":return Ct.boolean;case"function":return Ct.function;case"bigint":return Ct.bigint;case"symbol":return Ct.symbol;case"object":return Array.isArray(t)?Ct.array:t===null?Ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ct.promise:typeof Map<"u"&&t instanceof Map?Ct.map:typeof Set<"u"&&t instanceof Set?Ct.set:typeof Date<"u"&&t instanceof Date?Ct.date:Ct.object;default:return Ct.unknown}},Je=Hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class jp extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof jp))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}jp.create=t=>new jp(t);const MB=(t,e)=>{let n;switch(t.code){case Je.invalid_type:t.received===Ct.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Je.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Hn.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:n=`Unrecognized key(s) in object: ${Hn.joinValues(t.keys,", ")}`;break;case Je.invalid_union:n="Invalid input";break;case Je.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Hn.joinValues(t.options)}`;break;case Je.invalid_enum_value:n=`Invalid enum value. Expected ${Hn.joinValues(t.options)}, received '${t.received}'`;break;case Je.invalid_arguments:n="Invalid function arguments";break;case Je.invalid_return_type:n="Invalid function return type";break;case Je.invalid_date:n="Invalid date";break;case Je.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Hn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Je.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Je.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Je.custom:n="Invalid input";break;case Je.invalid_intersection_types:n="Intersection results could not be merged";break;case Je.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Je.not_finite:n="Number must be finite";break;default:n=e.defaultError,Hn.assertNever(t)}return{message:n}};let zVe=MB;function WVe(){return zVe}const HVe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function mt(t,e){const n=WVe(),r=HVe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===MB?void 0:MB].filter(i=>!!i)});t.common.issues.push(r)}class Ql{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Kt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ql.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Kt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Kt=Object.freeze({status:"aborted"}),o6=t=>({status:"dirty",value:t}),su=t=>({status:"valid",value:t}),gX=t=>t.status==="aborted",yX=t=>t.status==="dirty",vx=t=>t.status==="valid",mS=t=>typeof Promise<"u"&&t instanceof Promise;var St;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(St||(St={}));class cg{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wX=(t,e)=>{if(vx(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new jp(t.common.issues);return this._error=n,this._error}}};function bn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Un{get description(){return this._def.description}_getType(e){return H0(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:H0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ql,ctx:{common:e.parent.common,data:e.data,parsedType:H0(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(mS(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:H0(e)},i=this._parseSync({data:e,path:r.path,parent:r});return wX(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:H0(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return vx(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>vx(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:H0(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(mS(i)?i:Promise.resolve(i));return wX(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Je.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Op({schema:this,typeName:Zt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return wp.create(this,this._def)}nullable(){return F1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rh.create(this)}promise(){return CS.create(this,this._def)}or(e){return bS.create([this,e],this._def)}and(e){return vS.create(this,e,this._def)}transform(e){return new Op({...bn(this._def),schema:this,typeName:Zt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new kS({...bn(this._def),innerType:this,defaultValue:n,typeName:Zt.ZodDefault})}brand(){return new mye({typeName:Zt.ZodBranded,type:this,...bn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new _S({...bn(this._def),innerType:this,catchValue:n,typeName:Zt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return eV.create(this,e)}readonly(){return SS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VVe=/^c[^\s-]{8,}$/i,qVe=/^[0-9a-z]+$/,GVe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,KVe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,YVe=/^[a-z0-9_-]{21}$/i,QVe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZVe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,JVe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XVe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vR;const eqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tqe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rqe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iqe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sqe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hye="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oqe=new RegExp(`^${hye}$`);function fye(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function aqe(t){return new RegExp(`^${fye(t)}$`)}function lqe(t){let e=`${hye}T${fye(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function cqe(t,e){return!!((e==="v4"||!e)&&eqe.test(t)||(e==="v6"||!e)&&nqe.test(t))}function uqe(t,e){if(!QVe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function dqe(t,e){return!!((e==="v4"||!e)&&tqe.test(t)||(e==="v6"||!e)&&rqe.test(t))}class Nm extends Un{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ct.string){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.string,received:s.parsedType}),Kt}const r=new Ql;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?mt(i,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&mt(i,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")JVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"email",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")vR||(vR=new RegExp(XVe,"u")),vR.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"emoji",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")KVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"uuid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")YVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"nanoid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")VVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")qVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid2",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")GVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ulid",code:Je.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),mt(i,{validation:"url",code:Je.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"regex",code:Je.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?lqe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?oqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?aqe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?ZVe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"duration",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?cqe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ip",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?uqe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"jwt",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?dqe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cidr",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?iqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64",code:Je.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?sqe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64url",code:Je.invalid_string,message:s.message}),r.dirty()):Hn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Je.invalid_string,...St.errToObj(r)})}_addCheck(e){return new Nm({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...St.errToObj(e)})}url(e){return this._addCheck({kind:"url",...St.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...St.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...St.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...St.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...St.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...St.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...St.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...St.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...St.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...St.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...St.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...St.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...St.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...St.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...St.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...St.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...St.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...St.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...St.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...St.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...St.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...St.errToObj(n)})}nonempty(e){return this.min(1,St.errToObj(e))}trim(){return new Nm({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nm({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nm({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nm.create=t=>new Nm({checks:[],typeName:Zt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...bn(t)});function hqe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class xx extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ct.number){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.number,received:s.parsedType}),Kt}let r;const i=new Ql;for(const s of this._def.checks)s.kind==="int"?Hn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?hqe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_finite,message:s.message}),i.dirty()):Hn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,St.toString(n))}gt(e,n){return this.setLimit("min",e,!1,St.toString(n))}lte(e,n){return this.setLimit("max",e,!0,St.toString(n))}lt(e,n){return this.setLimit("max",e,!1,St.toString(n))}setLimit(e,n,r,i){return new xx({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:St.toString(i)}]})}_addCheck(e){return new xx({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:St.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:St.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Hn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}xx.create=t=>new xx({checks:[],typeName:Zt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...bn(t)});class g8 extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ct.bigint)return this._getInvalidInput(e);let r;const i=new Ql;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),mt(r,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Hn.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return mt(n,{code:Je.invalid_type,expected:Ct.bigint,received:n.parsedType}),Kt}gte(e,n){return this.setLimit("min",e,!0,St.toString(n))}gt(e,n){return this.setLimit("min",e,!1,St.toString(n))}lte(e,n){return this.setLimit("max",e,!0,St.toString(n))}lt(e,n){return this.setLimit("max",e,!1,St.toString(n))}setLimit(e,n,r,i){return new g8({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:St.toString(i)}]})}_addCheck(e){return new g8({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}g8.create=t=>new g8({checks:[],typeName:Zt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...bn(t)});class DB extends Un{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ct.boolean){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.boolean,received:r.parsedType}),Kt}return su(e.data)}}DB.create=t=>new DB({typeName:Zt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...bn(t)});class gS extends Un{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ct.date){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_type,expected:Ct.date,received:s.parsedType}),Kt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return mt(s,{code:Je.invalid_date}),Kt}const r=new Ql;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:Je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Hn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gS({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:St.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:St.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}gS.create=t=>new gS({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Zt.ZodDate,...bn(t)});class bX extends Un{_parse(e){if(this._getType(e)!==Ct.symbol){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.symbol,received:r.parsedType}),Kt}return su(e.data)}}bX.create=t=>new bX({typeName:Zt.ZodSymbol,...bn(t)});class yS extends Un{_parse(e){if(this._getType(e)!==Ct.undefined){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.undefined,received:r.parsedType}),Kt}return su(e.data)}}yS.create=t=>new yS({typeName:Zt.ZodUndefined,...bn(t)});class wS extends Un{_parse(e){if(this._getType(e)!==Ct.null){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.null,received:r.parsedType}),Kt}return su(e.data)}}wS.create=t=>new wS({typeName:Zt.ZodNull,...bn(t)});class vX extends Un{constructor(){super(...arguments),this._any=!0}_parse(e){return su(e.data)}}vX.create=t=>new vX({typeName:Zt.ZodAny,...bn(t)});class xX extends Un{constructor(){super(...arguments),this._unknown=!0}_parse(e){return su(e.data)}}xX.create=t=>new xX({typeName:Zt.ZodUnknown,...bn(t)});class ug extends Un{_parse(e){const n=this._getOrReturnCtx(e);return mt(n,{code:Je.invalid_type,expected:Ct.never,received:n.parsedType}),Kt}}ug.create=t=>new ug({typeName:Zt.ZodNever,...bn(t)});class EX extends Un{_parse(e){if(this._getType(e)!==Ct.undefined){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.void,received:r.parsedType}),Kt}return su(e.data)}}EX.create=t=>new EX({typeName:Zt.ZodVoid,...bn(t)});class Rh extends Un{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ct.array)return mt(n,{code:Je.invalid_type,expected:Ct.array,received:n.parsedType}),Kt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(mt(n,{code:o?Je.too_big:Je.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(mt(n,{code:Je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(mt(n,{code:Je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new cg(n,o,n.path,a)))).then(o=>Ql.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new cg(n,o,n.path,a)));return Ql.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Rh({...this._def,minLength:{value:e,message:St.toString(n)}})}max(e,n){return new Rh({...this._def,maxLength:{value:e,message:St.toString(n)}})}length(e,n){return new Rh({...this._def,exactLength:{value:e,message:St.toString(n)}})}nonempty(e){return this.min(1,e)}}Rh.create=(t,e)=>new Rh({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Zt.ZodArray,...bn(e)});function Rb(t){if(t instanceof ci){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=wp.create(Rb(r))}return new ci({...t._def,shape:()=>e})}else return t instanceof Rh?new Rh({...t._def,type:Rb(t.element)}):t instanceof wp?wp.create(Rb(t.unwrap())):t instanceof F1?F1.create(Rb(t.unwrap())):t instanceof B1?B1.create(t.items.map(e=>Rb(e))):t}class ci extends Un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Hn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ct.object){const c=this._getOrReturnCtx(e);return mt(c,{code:Je.invalid_type,expected:Ct.object,received:c.parsedType}),Kt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ug&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new cg(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ug){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(mt(i,{code:Je.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new cg(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Ql.mergeObjectSync(r,c)):Ql.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return St.errToObj,new ci({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:St.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ci({...this._def,unknownKeys:"strip"})}passthrough(){return new ci({...this._def,unknownKeys:"passthrough"})}extend(e){return new ci({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ci({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Zt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ci({...this._def,catchall:e})}pick(e){const n={};for(const r of Hn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ci({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Hn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ci({...this._def,shape:()=>n})}deepPartial(){return Rb(this)}partial(e){const n={};for(const r of Hn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ci({...this._def,shape:()=>n})}required(e){const n={};for(const r of Hn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof wp;)s=s._def.innerType;n[r]=s}return new ci({...this._def,shape:()=>n})}keyof(){return pye(Hn.objectKeys(this.shape))}}ci.create=(t,e)=>new ci({shape:()=>t,unknownKeys:"strip",catchall:ug.create(),typeName:Zt.ZodObject,...bn(e)});ci.strictCreate=(t,e)=>new ci({shape:()=>t,unknownKeys:"strict",catchall:ug.create(),typeName:Zt.ZodObject,...bn(e)});ci.lazycreate=(t,e)=>new ci({shape:t,unknownKeys:"strip",catchall:ug.create(),typeName:Zt.ZodObject,...bn(e)});class bS extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new jp(a.ctx.common.issues));return mt(n,{code:Je.invalid_union,unionErrors:o}),Kt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new jp(l));return mt(n,{code:Je.invalid_union,unionErrors:a}),Kt}}get options(){return this._def.options}}bS.create=(t,e)=>new bS({options:t,typeName:Zt.ZodUnion,...bn(e)});const _f=t=>t instanceof xS?_f(t.schema):t instanceof Op?_f(t.innerType()):t instanceof ES?[t.value]:t instanceof L1?t.options:t instanceof AS?Hn.objectValues(t.enum):t instanceof kS?_f(t._def.innerType):t instanceof yS?[void 0]:t instanceof wS?[null]:t instanceof wp?[void 0,..._f(t.unwrap())]:t instanceof F1?[null,..._f(t.unwrap())]:t instanceof mye||t instanceof SS?_f(t.unwrap()):t instanceof _S?_f(t._def.innerType):[];class XH extends Un{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.object)return mt(n,{code:Je.invalid_type,expected:Ct.object,received:n.parsedType}),Kt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(mt(n,{code:Je.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Kt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=_f(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new XH({typeName:Zt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...bn(r)})}}function BB(t,e){const n=H0(t),r=H0(e);if(t===e)return{valid:!0,data:t};if(n===Ct.object&&r===Ct.object){const i=Hn.objectKeys(e),s=Hn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=BB(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Ct.array&&r===Ct.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=BB(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ct.date&&r===Ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vS extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(gX(s)||gX(o))return Kt;const a=BB(s.value,o.value);return a.valid?((yX(s)||yX(o))&&n.dirty(),{status:n.value,value:a.data}):(mt(r,{code:Je.invalid_intersection_types}),Kt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vS.create=(t,e,n)=>new vS({left:t,right:e,typeName:Zt.ZodIntersection,...bn(n)});class B1 extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.array)return mt(r,{code:Je.invalid_type,expected:Ct.array,received:r.parsedType}),Kt;if(r.data.length<this._def.items.length)return mt(r,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kt;!this._def.rest&&r.data.length>this._def.items.length&&(mt(r,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new cg(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ql.mergeArray(n,o)):Ql.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new B1({...this._def,rest:e})}}B1.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new B1({items:t,typeName:Zt.ZodTuple,rest:null,...bn(e)})};class AX extends Un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.map)return mt(r,{code:Je.invalid_type,expected:Ct.map,received:r.parsedType}),Kt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new cg(r,a,r.path,[c,"key"])),value:s._parse(new cg(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Kt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Kt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}AX.create=(t,e,n)=>new AX({valueType:e,keyType:t,typeName:Zt.ZodMap,...bn(n)});class y8 extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ct.set)return mt(r,{code:Je.invalid_type,expected:Ct.set,received:r.parsedType}),Kt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(mt(r,{code:Je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(mt(r,{code:Je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Kt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new cg(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new y8({...this._def,minSize:{value:e,message:St.toString(n)}})}max(e,n){return new y8({...this._def,maxSize:{value:e,message:St.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}y8.create=(t,e)=>new y8({valueType:t,minSize:null,maxSize:null,typeName:Zt.ZodSet,...bn(e)});class xS extends Un{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}xS.create=(t,e)=>new xS({getter:t,typeName:Zt.ZodLazy,...bn(e)});class ES extends Un{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return mt(n,{received:n.data,code:Je.invalid_literal,expected:this._def.value}),Kt}return{status:"valid",value:e.data}}get value(){return this._def.value}}ES.create=(t,e)=>new ES({value:t,typeName:Zt.ZodLiteral,...bn(e)});function pye(t,e){return new L1({values:t,typeName:Zt.ZodEnum,...bn(e)})}class L1 extends Un{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return mt(n,{expected:Hn.joinValues(r),received:n.parsedType,code:Je.invalid_type}),Kt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return mt(n,{received:n.data,code:Je.invalid_enum_value,options:r}),Kt}return su(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return L1.create(e,{...this._def,...n})}exclude(e,n=this._def){return L1.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}L1.create=pye;class AS extends Un{_parse(e){const n=Hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ct.string&&r.parsedType!==Ct.number){const i=Hn.objectValues(n);return mt(r,{expected:Hn.joinValues(i),received:r.parsedType,code:Je.invalid_type}),Kt}if(this._cache||(this._cache=new Set(Hn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Hn.objectValues(n);return mt(r,{received:r.data,code:Je.invalid_enum_value,options:i}),Kt}return su(e.data)}get enum(){return this._def.values}}AS.create=(t,e)=>new AS({values:t,typeName:Zt.ZodNativeEnum,...bn(e)});class CS extends Un{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ct.promise&&n.common.async===!1)return mt(n,{code:Je.invalid_type,expected:Ct.promise,received:n.parsedType}),Kt;const r=n.parsedType===Ct.promise?n.data:Promise.resolve(n.data);return su(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}CS.create=(t,e)=>new CS({type:t,typeName:Zt.ZodPromise,...bn(e)});class Op extends Un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{mt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Kt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Kt:l.status==="dirty"||n.value==="dirty"?o6(l.value):l});{if(n.value==="aborted")return Kt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Kt:a.status==="dirty"||n.value==="dirty"?o6(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Kt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Kt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vx(o))return Kt;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>vx(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Kt);Hn.assertNever(i)}}Op.create=(t,e,n)=>new Op({schema:t,typeName:Zt.ZodEffects,effect:e,...bn(n)});Op.createWithPreprocess=(t,e,n)=>new Op({schema:e,effect:{type:"preprocess",transform:t},typeName:Zt.ZodEffects,...bn(n)});class wp extends Un{_parse(e){return this._getType(e)===Ct.undefined?su(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wp.create=(t,e)=>new wp({innerType:t,typeName:Zt.ZodOptional,...bn(e)});class F1 extends Un{_parse(e){return this._getType(e)===Ct.null?su(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}F1.create=(t,e)=>new F1({innerType:t,typeName:Zt.ZodNullable,...bn(e)});class kS extends Un{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}kS.create=(t,e)=>new kS({innerType:t,typeName:Zt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...bn(e)});class _S extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mS(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new jp(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new jp(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_S.create=(t,e)=>new _S({innerType:t,typeName:Zt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...bn(e)});class CX extends Un{_parse(e){if(this._getType(e)!==Ct.nan){const r=this._getOrReturnCtx(e);return mt(r,{code:Je.invalid_type,expected:Ct.nan,received:r.parsedType}),Kt}return{status:"valid",value:e.data}}}CX.create=t=>new CX({typeName:Zt.ZodNaN,...bn(t)});class mye extends Un{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class eV extends Un{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Kt:s.status==="dirty"?(n.dirty(),o6(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Kt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new eV({in:e,out:n,typeName:Zt.ZodPipeline})}}class SS extends Un{_parse(e){const n=this._def.innerType._parse(e),r=i=>(vx(i)&&(i.value=Object.freeze(i.value)),i);return mS(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}SS.create=(t,e)=>new SS({innerType:t,typeName:Zt.ZodReadonly,...bn(e)});ci.lazycreate;var Zt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Zt||(Zt={}));const fi=Nm.create,gye=xx.create,fqe=DB.create;yS.create;wS.create;ug.create;const f1=Rh.create,qs=ci.create;ci.strictCreate;const IS=bS.create,yye=XH.create;vS.create;B1.create;xS.create;const Io=ES.create,tV=L1.create;AS.create;CS.create;Op.create;wp.create;F1.create;Op.createWithPreprocess;var jt,kX=((jt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",jt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",jt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",jt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",jt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",jt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",jt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",jt.INVALID_DATA="invalid_data",jt.INVALID_CREDENTIALS="invalid_credentials",jt.INVALID_CAPTCHA="invalid_captcha",jt.LINKED_TO_ANOTHER_USER="linked_to_another_user",jt.ALLOWLIST_REJECTED="allowlist_rejected",jt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",jt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",jt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",jt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",jt.TOO_MANY_REQUESTS="too_many_requests",jt.RESOURCE_CONFLICT="resource_conflict",jt.INVALID_ORIGIN="invalid_origin",jt.MISSING_ORIGIN="missing_origin",jt.INVALID_NATIVE_APP_ID="invalid_native_app_id",jt.TOKEN_ALREADY_USED="token_already_used",jt.ALREADY_LOGGED_OUT="already_logged_out",jt.NOT_SUPPORTED="not_supported",jt.USER_UNSUBSCRIBED="user_unsubscribed",jt.MAX_APPS_REACHED="max_apps_reached",jt.USER_LIMIT_REACHED="max_accounts_reached",jt.DEVICE_REVOKED="device_revoked",jt.WALLET_PASSWORD_EXISTS="wallet_password_exists",jt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",jt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",jt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",jt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",jt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",jt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",jt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",jt.CANNOT_SET_PASSWORD="cannot_set_password",jt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",jt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",jt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",jt.USER_DOES_NOT_EXIST="user_does_not_exist",jt.ALREADY_EXISTS="resource_already_exists",jt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",jt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",jt.FEATURE_NOT_ENABLED="feature_not_enabled",jt.INSUFFICIENT_FUNDS="insufficient_funds",jt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",jt.INVALID_POLICY_FORMAT="invalid_policy_format",jt.POLICY_VIOLATION="policy_violation",jt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",jt.INVALID_REQUEST="invalid_request",jt.SIGNUP_DISABLED="signup_disabled",jt);function _X(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var pqe={}.constructor;function p1(t){return t!=null&&t.constructor===pqe}function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}function yT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gqe(r.key),r)}}function wT(t,e,n){return e&&mqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gqe(t){var e=yqe(t,"string");return Ex(e)=="symbol"?e:e+""}function yqe(t,e){if(Ex(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ex(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wqe="1.2.0",bqe="1.7.35",SX=" ext. ",vqe=/^\d+$/,ss=function(){function t(e){yT(this,t),wye(e),this.metadata=e,bye.call(this,e)}return wT(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&vqe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new IX(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new IX(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),IX=function(){function t(e,n){yT(this,t),this.globalMetadataObject=n,this.metadata=e,bye.call(this,n.metadata)}return wT(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new xqe(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&TX(this.types(),n))return new Aqe(TX(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?SX:this.metadata[13]||SX}}])}(),xqe=function(){function t(e,n){yT(this,t),this._format=e,this.metadata=n}return wT(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Eqe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),Eqe=/^\(?\$1\)?$/,Aqe=function(){function t(e,n){yT(this,t),this.type=e,this.metadata=n}return wT(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function TX(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function wye(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!p1(t)||!p1(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(p1(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Cqe(t)+": "+t,"."))}var Cqe=function(e){return Ex(e)};function bT(t,e){if(e=new ss(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function kqe(t,e){return e.countries.hasOwnProperty(t)}function bye(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?_X(e,wqe)===-1?this.v2=!0:_X(e,bqe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function vT(t,e,n){return _qe(t,e,void 0,n)}function _qe(t,e,n,r){e&&(r=new ss(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Sqe(t,e,n){if(e===void 0&&(e={}),n=new ss(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return vye(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function vye(t,e,n){switch(vT(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function Mp(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Iqe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Tqe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tqe(t,e){if(t){if(typeof t=="string")return $X(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$X(t,e):void 0}}function $X(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var $qe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function nV(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new ss(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(Mp(r,n.nationalNumberPattern())){if(xR(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||xR(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=Iqe($qe),s;!(s=i()).done;){var o=s.value;if(xR(r,o,n))return o}}}}function xR(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Mp(t,e.pattern())}function Nqe(t,e,n){if(e=e||{},n=new ss(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return nV(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return Mp(r,n.nationalNumberPattern())}function Pqe(t,e,n){var r=new ss(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return Rqe(e,s,n)}):[]}function Rqe(t,e,n){var r=new ss(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var rV=2,jqe=17,Oqe=3,da="0-9---",Mqe="--",Dqe="/",Bqe=".",Lqe=" ",Fqe="()\\[\\]",Uqe="~",td="".concat(Mqe).concat(Dqe).concat(Bqe).concat(Lqe).concat(Fqe).concat(Uqe),xT="+",zqe=new RegExp("(["+da+"])");function xye(t,e,n,r){if(e){var i=new ss(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(zqe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function LB(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(s=r[1]);else{var l=r[0];i=t.slice(l.length),a&&(s=r[1])}var c;if(a){var u=t.indexOf(r[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=r[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function Wqe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Hqe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hqe(t,e){if(t){if(typeof t=="string")return NX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NX(t,e):void 0}}function NX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Eye(t,e){var n=e.countries,r=e.metadata;r=new ss(r);for(var i=Wqe(n),s;!(s=i()).done;){var o=s.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return o}else if(nV({phone:t,country:o},void 0,r.metadata))return o}}function iV(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:Eye(n,{countries:i,metadata:r.metadata})}function FB(t,e,n){var r=LB(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!Vqe(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=iV(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!qqe(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function Vqe(t,e,n){return!(Mp(t,n.nationalNumberPattern())&&!Mp(e,n.nationalNumberPattern()))}function qqe(t,e,n){switch(vT(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Aye(t,e,n,r,i){var s=e||n?bT(e||n,i):r;if(t.indexOf(s)===0){i=new ss(i),i.selectNumberingPlan(e||n,s);var o=t.slice(s.length),a=FB(o,e,i),l=a.nationalNumber,c=FB(t,e,i),u=c.nationalNumber;if(!Mp(u,i.nationalNumberPattern())&&Mp(l,i.nationalNumberPattern())||vT(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function sV(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var o=xye(t,e||n,r,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||n||r){var a=Aye(t,e,n,r,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new ss(i);for(var u=2;u-1<=Oqe&&u<=t.length;){var h=t.slice(1,u);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(u)};u++}return{}}function Cye(t){return t.replace(new RegExp("[".concat(td,"]+"),"g")," ").trim()}var kye=/(\$\d)/;function _ye(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(kye,e.nationalPrefixFormattingRule()):e.format());return r?Cye(s):s}var Gqe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Kqe(t,e,n){var r=new ss(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(Gqe.test(r.IDDPrefix()))return r.IDDPrefix()}var Yqe=";ext=",Yw=function(e){return"([".concat(da,"]{1,").concat(e,"})")};function Sye(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",f="(?:,{2}|;)",p=Yqe+Yw(e),m=s+l+o+Yw(e)+a,g=s+c+o+Yw(r)+a,y=u+Yw(i)+"#",w=h+f+o+Yw(n)+a,v=h+"(?:,)+"+o+Yw(r)+a;return p+"|"+m+"|"+g+"|"+y+"|"+w+"|"+v}var Qqe="["+da+"]{"+rV+"}",Zqe="["+xT+"]{0,1}(?:["+td+"]*["+da+"]){3,}["+td+da+"]*",Jqe=new RegExp("^["+xT+"]{0,1}(?:["+td+"]*["+da+"]){1,2}$","i"),Xqe=Zqe+"(?:"+Sye()+")?",eGe=new RegExp("^"+Qqe+"$|^"+Xqe+"$","i");function tGe(t){return t.length>=rV&&eGe.test(t)}function nGe(t){return Jqe.test(t)}function rGe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var PX={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function iGe(t,e,n,r){if(n?n=aGe({},PX,n):n=PX,r=new ss(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=TS(s,t.carrierCode,"NATIONAL",r,n),ER(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=TS(s,null,"INTERNATIONAL",r,n),o="+".concat(i," ").concat(o),ER(o,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return rGe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=oGe(s,t.carrierCode,i,n.fromCountry,r);return ER(a,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function TS(t,e,n,r,i){var s=sGe(r.formats(),t);return s?_ye(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function sGe(t,e){return lGe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return Mp(e,n.pattern())})}function ER(t,e,n,r){return e?r(t,e,n):t}function oGe(t,e,n,r,i){var s=bT(r,i.metadata);if(s===n){var o=TS(t,e,"NATIONAL",i);return n==="1"?n+" "+o:o}var a=Kqe(r,void 0,i.metadata);if(a)return"".concat(a," ").concat(n," ").concat(TS(t,null,"INTERNATIONAL",i))}function aGe(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function lGe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function w8(t){"@babel/helpers - typeof";return w8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w8(t)}function RX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RX(Object(n),!0).forEach(function(r){cGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cGe(t,e,n){return(e=Iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iye(r.key),r)}}function hGe(t,e,n){return e&&dGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iye(t){var e=fGe(t,"string");return w8(e)=="symbol"?e:e+""}function fGe(t,e){if(w8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(w8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oV=function(){function t(e,n,r){if(uGe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(p1(n)&&p1(n.countries)){r=n;var i=e;if(!gGe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=sV(i,void 0,void 0,void 0,r),o=s.countryCallingCode,a=s.number;if(n=a,e=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");wye(r);var l=mGe(e,r),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return hGe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Pqe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Sqe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Nqe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new ss(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return nV(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return iGe(this,n,r?jX(jX({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),pGe=function(e){return/^[A-Z]{2}$/.test(e)};function mGe(t,e){var n,r,i=new ss(e);return pGe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var gGe=/^\+\d+$/;function UB(t){"@babel/helpers - typeof";return UB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UB(t)}function yGe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function wGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bGe(t,e,n){return e=v8(e),vGe(t,aV()?Reflect.construct(e,n||[],v8(t).constructor):e.apply(t,n))}function vGe(t,e){if(e&&(UB(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xGe(t)}function xGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b8(t,e)}function zB(t){var e=typeof Map=="function"?new Map:void 0;return zB=function(r){if(r===null||!CGe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return AGe(r,arguments,v8(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),b8(i,r)},zB(t)}function AGe(t,e,n){if(aV())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&b8(i,n.prototype),i}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function CGe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function b8(t,e){return b8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},b8(t,e)}function v8(t){return v8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v8(t)}var Df=function(t){function e(n){var r;return wGe(this,e),r=bGe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return EGe(e,t),yGe(e)}(zB(Error)),OX=new RegExp("(?:"+Sye()+")$","i");function kGe(t){var e=t.search(OX);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(OX),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function _Ge(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=SGe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SGe(t,e){if(t){if(typeof t=="string")return MX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MX(t,e):void 0}}function MX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var IGe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Tye(t){return IGe[t]}function $S(t){for(var e="",n=_Ge(t.split("")),r;!(r=n()).done;){var i=r.value,s=Tye(i);s&&(e+=s)}return e}function TGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=$Ge(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ge(t,e){if(t){if(typeof t=="string")return DX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DX(t,e):void 0}}function DX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function BX(t){for(var e="",n=TGe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=NGe(i,e)||""}return e}function NGe(t,e,n){return t==="+"?e?void 0:"+":Tye(t)}var $ye="+",PGe="[\\-\\.\\(\\)]?",LX="(["+da+"]|"+PGe+")",RGe="^\\"+$ye+LX+"*["+da+"]"+LX+"*$",jGe=new RegExp(RGe,"g"),WB=da,OGe="["+WB+"]+((\\-)*["+WB+"])*",MGe="a-zA-Z",DGe="["+MGe+"]+((\\-)*["+WB+"])*",BGe="^("+OGe+"\\.)*"+DGe+"\\.?$",LGe=new RegExp(BGe,"g"),FX="tel:",HB=";phone-context=",FGe=";isub=";function UGe(t){var e=t.indexOf(HB);if(e<0)return null;var n=e+HB.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function zGe(t){return t===null?!0:t.length===0?!1:jGe.test(t)||LGe.test(t)}function WGe(t,e){var n=e.extractFormattedPhoneNumber,r=UGe(t);if(!zGe(r))throw new Df("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===$ye&&(i+=r);var s=t.indexOf(FX),o;s>=0?o=s+FX.length:o=0;var a=t.indexOf(HB);i+=t.substring(o,a)}var l=i.indexOf(FGe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var HGe=250,VGe=new RegExp("["+xT+da+"]"),qGe=new RegExp("[^"+da+"#]+$");function GGe(t,e,n){if(e=e||{},n=new ss(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Df("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=YGe(t,e.v2,e.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Df("TOO_SHORT"):new Df("NOT_A_NUMBER");return{}}var a=ZGe(i,e.defaultCountry,e.defaultCallingCode,n),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,h=a.countryCallingCodeSource,f=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Df("INVALID_COUNTRY");return{}}if(!c||c.length<rV){if(e.v2)throw new Df("TOO_SHORT");return{}}if(c.length>jqe){if(e.v2)throw new Df("TOO_LONG");return{}}if(e.v2){var p=new oV(u,c,n.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=h,p}var m=(e.extended?n.hasSelectedNumberingPlan():l)?Mp(c,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:f,valid:m,possible:m?!0:!!(e.extended===!0&&n.possibleLengths()&&vye(c,l,n)),phone:c,ext:s}:m?QGe(l,c,s):{}}function KGe(t,e,n){if(t){if(t.length>HGe){if(n)throw new Df("TOO_LONG");return}if(e===!1)return t;var r=t.search(VGe);if(!(r<0))return t.slice(r).replace(qGe,"")}}function YGe(t,e,n){var r=WGe(t,{extractFormattedPhoneNumber:function(o){return KGe(o,n,e)}});if(!r)return{};if(!tGe(r))return nGe(r)?{error:"TOO_SHORT"}:{};var i=kGe(r);return i.ext?i:{number:r}}function QGe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function ZGe(t,e,n,r){var i=sV(BX(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),o=n||bT(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=FB(BX(a),l,r),u=c.nationalNumber,h=c.carrierCode,f=iV(o,{nationalNumber:u,metadata:r});return f&&(l=f,f==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function x8(t){"@babel/helpers - typeof";return x8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x8(t)}function UX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UX(Object(n),!0).forEach(function(r){JGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JGe(t,e,n){return(e=XGe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XGe(t){var e=eKe(t,"string");return x8(e)=="symbol"?e:e+""}function eKe(t,e){if(x8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(x8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tKe(t,e,n){return GGe(t,zX(zX({},e),{},{v2:!0}),n)}function E8(t){"@babel/helpers - typeof";return E8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E8(t)}function WX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nKe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WX(Object(n),!0).forEach(function(r){rKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rKe(t,e,n){return(e=iKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iKe(t){var e=sKe(t,"string");return E8(e)=="symbol"?e:e+""}function sKe(t,e){if(E8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(E8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oKe(t,e){return uKe(t)||cKe(t,e)||lKe(t,e)||aKe()}function aKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lKe(t,e){if(t){if(typeof t=="string")return HX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HX(t,e):void 0}}function HX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function uKe(t){if(Array.isArray(t))return t}function dKe(t){var e=Array.prototype.slice.call(t),n=oKe(e,4),r=n[0],i=n[1],s=n[2],o=n[3],a,l,c;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=nKe({defaultCountry:i},l));else if(p1(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function A8(t){"@babel/helpers - typeof";return A8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A8(t)}function VX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VX(Object(n),!0).forEach(function(r){hKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hKe(t,e,n){return(e=fKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fKe(t){var e=pKe(t,"string");return A8(e)=="symbol"?e:e+""}function pKe(t,e){if(A8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(A8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mKe(t,e,n){e&&e.defaultCountry&&!kqe(e.defaultCountry,n)&&(e=qX(qX({},e),{},{defaultCountry:void 0}));try{return tKe(t,e,n)}catch(r){if(!(r instanceof Df))throw r}}function C8(t){"@babel/helpers - typeof";return C8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C8(t)}function GX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GX(Object(n),!0).forEach(function(r){gKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gKe(t,e,n){return(e=yKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yKe(t){var e=wKe(t,"string");return C8(e)=="symbol"?e:e+""}function wKe(t,e){if(C8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(C8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bKe(){var t=dKe(arguments),e=t.text,n=t.options,r=t.metadata;n=KX(KX({},n),{},{extract:!1});var i=mKe(e,n,r);return i&&i.isPossible()||!1}function k8(t){"@babel/helpers - typeof";return k8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k8(t)}function vKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AKe(r.key),r)}}function EKe(t,e,n){return e&&xKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AKe(t){var e=CKe(t,"string");return k8(e)=="symbol"?e:e+""}function CKe(t,e){if(k8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kKe=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;vKe(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return EKe(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function _Ke(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=SKe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SKe(t,e){if(t){if(typeof t=="string")return YX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YX(t,e):void 0}}function YX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Iu="x",AR=new RegExp(Iu);function E9(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function QX(t,e){return t[e]===")"&&e++,IKe(t.slice(0,e))}function IKe(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(r,a),r=a+1}return i}function TKe(t,e,n){for(var r=_Ke(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(AR)<0)return;e=t.search(AR),t=t.replace(AR,s)}return[t,e]}function $Ke(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return PKe(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function NKe(t,e,n){return vT(t,e,n)==="IS_POSSIBLE"}function PKe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=ZX(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return ZX(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function ZX(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=_ye(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),RKe(o,t))return o}function RKe(t,e){return $S(t)===e.getNationalDigits()}function _8(t){"@babel/helpers - typeof";return _8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_8(t)}function jKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DKe(r.key),r)}}function MKe(t,e,n){return e&&OKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DKe(t){var e=BKe(t,"string");return _8(e)=="symbol"?e:e+""}function BKe(t,e){if(_8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LKe=function(){function t(){jKe(this,t)}return MKe(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([CR(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(zKe);if(!r){if(UKe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),o=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(CR(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(CR(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:FKe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function FKe(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var UKe=/[\(\)\[\]\?\:\|]/,zKe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function CR(t){return t.length===1?t[0]:t}function JX(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=WKe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WKe(t,e){if(t){if(typeof t=="string")return XX(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XX(t,e):void 0}}function XX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function S8(t){"@babel/helpers - typeof";return S8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S8(t)}function HKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GKe(r.key),r)}}function qKe(t,e,n){return e&&VKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GKe(t){var e=KKe(t,"string");return S8(e)=="symbol"?e:e+""}function KKe(t,e){if(S8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YKe=function(){function t(e){HKe(this,t),this.matchTree=new LKe().parse(e)}return qKe(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=VB(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function VB(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=VB(i,o,n&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=JX(e.args),u;!(u=c()).done;){var h=u.value,f=VB(t,h,n);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=JX(e.args),m;!(m=p()).done;){var g=m.value;if(t[0]===g)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[g]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function I8(t){"@babel/helpers - typeof";return I8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I8(t)}function eee(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=QKe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QKe(t,e){if(t){if(typeof t=="string")return tee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tee(t,e):void 0}}function tee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eYe(r.key),r)}}function XKe(t,e,n){return e&&JKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eYe(t){var e=tYe(t,"string");return I8(e)=="symbol"?e:e+""}function tYe(t,e){if(I8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qB="9",nYe=15,rYe=E9(qB,nYe),iYe=/[- ]/,sYe=function(){return/\[([^\[\]])*\]/g},oYe=function(){return/\d(?=[^,}][^,}])/g},aYe=new RegExp("["+td+"]*\\$1["+td+"]*(\\$\\d["+td+"]*)*$"),nee=3,lYe=function(){function t(e){e.state;var n=e.metadata;ZKe(this,t),this.metadata=n,this.resetFormat()}return XKe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(NKe(r.nationalSignificantNumber,r.country,this.metadata))for(var s=eee(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=$Ke(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Iu),r),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Iu),l}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,o=n.international,a=i,l=a.length-nee;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return r.formatSuits(c,o,s)&&r.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=n.leadingDigitsPatterns()[i];if(r.length<nee)try{return new YKe(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var c=a.value;return r.chosenFormat===c?0:aYe.test(r.getFormatFormat(c,n.international))?r.createTemplateForFormat(c,n)?(r.chosenFormat=c,0):(r.matchingFormats=r.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=eee(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&iYe.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Iu,r+1),i++;return QX(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Iu)+E9(Iu,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,o=r.nationalPrefix,a=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=n.pattern();l=l.replace(sYe(),"\\d").replace(oYe(),"\\d");var c=rYe.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,qB);u.test(h)&&(c=h);var f=this.getFormatFormat(n,s),p;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:o})){var m=f.replace(kye,n.nationalPrefixFormattingRule());if($S(n.nationalPrefixFormattingRule())===(o||"")+$S("$1")&&(f=m,p=!0,o))for(var g=o.length;g>0;)f=f.replace(/\d/,Iu),g--}var y=c.replace(new RegExp(l),f).replace(new RegExp(qB,"g"),Iu);return p||(a?y=E9(Iu,a.length)+" "+y:o&&(y=E9(Iu,o.length)+this.getSeparatorAfterNationalPrefix(n)+y)),s&&(y=Cye(y)),y}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=TKe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],QX(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function T8(t){"@babel/helpers - typeof";return T8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T8(t)}function Nye(t,e){return hYe(t)||dYe(t,e)||uYe(t,e)||cYe()}function cYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uYe(t,e){if(t){if(typeof t=="string")return ree(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ree(t,e):void 0}}function ree(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function hYe(t){if(Array.isArray(t))return t}function fYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gYe(r.key),r)}}function mYe(t,e,n){return e&&pYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gYe(t){var e=yYe(t,"string");return T8(e)=="symbol"?e:e+""}function yYe(t,e){if(T8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wYe="["+td+da+"]+",bYe=new RegExp("^"+wYe+"$","i"),vYe="(?:["+xT+"]["+td+da+"]*|["+td+da+"]+)",xYe=new RegExp("[^"+td+da+"]+.*$"),EYe=/[^\d\[\]]/,AYe=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;fYe(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return mYe(t,[{key:"input",value:function(n,r){var i=_Ye(n),s=Nye(i,2),o=s[0],a=s[1],l=$S(o),c;return a&&(r.digits||(r.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,r),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=sV("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&EYe.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=LB(n,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=LB(n,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,l,a,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var u=s.slice(0,c);u&&u!==n&&(l=u)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var o=xye(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return n.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=Aye(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])}();function CYe(t){var e=t.search(vYe);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(xYe,""),n&&(t="+"+t),t}}function kYe(t){var e=CYe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function _Ye(t){var e=kYe(t),n=Nye(e,2),r=n[0],i=n[1];return bYe.test(r)||(r=""),[r,i]}function $8(t){"@babel/helpers - typeof";return $8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$8(t)}function SYe(t,e){return NYe(t)||$Ye(t,e)||TYe(t,e)||IYe()}function IYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TYe(t,e){if(t){if(typeof t=="string")return iee(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iee(t,e):void 0}}function iee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $Ye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function NYe(t){if(Array.isArray(t))return t}function PYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OYe(r.key),r)}}function jYe(t,e,n){return e&&RYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OYe(t){var e=MYe(t,"string");return $8(e)=="symbol"?e:e+""}function MYe(t,e){if($8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pye=function(){function t(e,n){PYe(this,t),this.metadata=new ss(n);var r=this.getCountryAndCallingCode(e),i=SYe(r,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return jYe(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(p1(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new kKe({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new lYe({state:this.state,metadata:this.metadata}),this.parser=new AYe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,o=r,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Iu)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(iV(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,o=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+o:"+"+r;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,o=this._getCountry();if(r&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new ss(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=Eye(r,{countries:c,metadata:this.metadata.metadata});u&&(o=u)}}var h=new oV(o||s,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function DYe(t){return new ss(t).getCountries()}function BYe(t,e,n){if(e[t])return new oV(t,e[t],n)}function ET(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:l})=>{a==="success"&&e===s&&(n[o]=l.request)})),s=>n[s]||t.request}async function Rye(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=ET(t,{method:"eth_newFilter"}),u=s?bA({abi:r,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?$t(o):o,toBlock:typeof l=="bigint"?$t(l):l,topics:u}]});return{abi:r,args:i,eventName:s,id:h,request:c(h),strict:!!a,type:"event"}}class LYe extends Ue{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class lV extends Ue{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class FYe extends Ue{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ga(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class jye extends Ue{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function Eh(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var c,u,h;const s=i??!1,o=n!==void 0?$t(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new jye({blockHash:e,blockNumber:n});return(((h=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:h.format)||Nge)(a,"getBlock")}async function cV(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function UYe(t,e){return Oye(t,e)}async function Oye(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const c=n||await Pt(t,Eh,"getBlock")({}),u=await a({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return Kl(l)}catch{const[a,l]=await Promise.all([n?Promise.resolve(n):Pt(t,Eh,"getBlock")({}),Pt(t,cV,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new lV;const c=l-a.baseFeePerGas;return c<0n?0n:c}}async function zYe(t,e){return GB(t,e)}async function GB(t,e){var f,p;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var m,g;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new LYe;const l=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),c=m=>m*BigInt(Math.ceil(o*l))/BigInt(l),u=n||await Pt(t,Eh,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new lV;const m=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await Oye(t,{block:u,chain:r,request:i}),g=c(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??g+m,maxPriorityFeePerGas:m}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await Pt(t,cV,"getGasPrice")({}))}}async function C3(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return cd(e)}const Mye=["blobVersionedHashes","chainId","fees","gas","nonce","type"],see=new Map;async function AT(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:l,parameters:c=Mye,type:u}=e,h=n&&Ri(n),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function m(){return p||(p=await Pt(t,Eh,"getBlock")({blockTag:"latest"}),p)}let g;async function y(){return g||(i?i.id:typeof e.chainId<"u"?e.chainId:(g=await Pt(t,C3,"getChainId")({}),g))}if(c.includes("nonce")&&typeof a>"u"&&h)if(l){const w=await y();f.nonce=await l.consume({address:h.address,chainId:w,client:t})}else f.nonce=await Pt(t,HH,"getTransactionCount")({address:h.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&o){const w=Kme({blobs:r,kzg:o});if(c.includes("blobVersionedHashes")){const v=HUe({commitments:w,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=Yme({blobs:r,commitments:w,kzg:o}),b=KUe({blobs:r,commitments:w,proofs:v,to:"hex"});f.sidecars=b}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=JUe(f)}catch{let w=see.get(t.uid);if(typeof w>"u"){const v=await m();w=typeof(v==null?void 0:v.baseFeePerGas)=="bigint",see.set(t.uid,w)}f.type=w?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const w=await m(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await GB(t,{block:w,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new FYe({maxPriorityFeePerGas:b});f.maxPriorityFeePerGas=b,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new lV;if(typeof e.gasPrice>"u"){const w=await m(),{gasPrice:v}=await GB(t,{block:w,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof s>"u"&&(f.gas=await Pt(t,uV,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),xw(f),delete f.parameters,f}async function uV(t,e){var i,s,o;const{account:n=t.account}=e,r=n?Ri(n):void 0;try{const{accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,value:A,stateOverride:E,...$}=await AT(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),R=(typeof h=="bigint"?$t(h):void 0)||f,M=WH(E),F=await(async()=>{if($.to)return $.to;if(l&&l.length>0)return await RH({authorization:l[0]}).catch(()=>{throw new Ue("`to` is required. Could not infer from `authorizationList`")})})();xw(e);const W=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,L=(W||A3)({...fT($,{format:W}),from:r==null?void 0:r.address,accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:b,to:F,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:M?[L,R??t.experimental_blockTag??"latest",M]:R?[L,R]:[L]}))}catch(a){throw iWe(a,{...e,account:r,chain:t.chain})}}async function WYe(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,l=rl({abi:n,args:i,functionName:s});try{return await Pt(t,uV,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Ri(a.account):void 0;throw D1(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function dV(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(g=>bA({abi:[g],eventName:g.name,args:o?void 0:a}))],s&&(h=h[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof r=="bigint"?$t(r):r,toBlock:typeof i=="bigint"?$t(i):i}]});const p=f.map(m=>Rp(m));return u?PH({abi:u,args:a,logs:p,strict:c}):p}async function Dye(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?ww({abi:n,name:o}):void 0,h=u?void 0:n.filter(f=>f.type==="event");return Pt(t,dV,"getLogs")({address:r,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:l,strict:c})}async function pd(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=rl({abi:n,args:i,functionName:s});try{const{data:l}=await Pt(t,pT,"call")({...o,data:a,to:r});return bw({abi:n,args:i,functionName:s,data:l||"0x"})}catch(l){throw D1(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function HYe(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?Ri(a.account):t.account,c=rl({abi:n,args:i,functionName:o});try{const{data:u}=await Pt(t,pT,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:r,...a,account:l}),h=bw({abi:n,args:i,functionName:o,data:u||"0x"}),f=n.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:r,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw D1(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const kR=new Map,oee=new Map;let VYe=0;function Dp(t,e,n){const r=++VYe,i=()=>kR.get(t)||[],s=()=>{const u=i();kR.set(t,u.filter(h=>h.id!==r))},o=()=>{const u=i();if(!u.some(f=>f.id===r))return;const h=oee.get(t);if(u.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(kR.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=(...h)=>{var p,m;const f=i();if(f.length!==0)for(const g of f)(m=(p=g.fns)[u])==null||m.call(p,...h)};const c=n(l);return typeof c=="function"&&oee.set(t,c),o}function k3(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await(n==null?void 0:n(a))??r;await CB(l);const c=async()=>{i&&(await t({unpoll:s}),await CB(r),c())};c()})(),s}const qYe=new Map,GYe=new Map;function KYe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,qYe),r=e(t,GYe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function YYe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=KYe(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const QYe=t=>`blockNumber.${t}`;async function _A(t,{cacheTime:e=t.cacheTime}={}){const n=await YYe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:QYe(t.uid),cacheTime:e});return BigInt(n)}async function CT(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Rp(s));return!("abi"in e)||!e.abi?i:PH({abi:e.abi,logs:i,strict:n})}async function kT(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function ZYe(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,w=rs(["watchContractEvent",r,i,s,t.uid,o,h,y,a]);return Dp(w,{onLogs:c,onError:l},v=>{let b;a!==void 0&&(b=a-1n);let A,E=!1;const $=k3(async()=>{var N;if(!E){try{A=await Pt(t,Rye,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:y,fromBlock:a})}catch{}E=!0;return}try{let R;if(A)R=await Pt(t,CT,"getFilterChanges")({filter:A});else{const M=await Pt(t,_A,"getBlockNumber")({});b&&b<M?R=await Pt(t,Dye,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:b+1n,toBlock:M,strict:y}):R=[],b=M}if(R.length===0)return;if(s)v.onLogs(R);else for(const M of R)v.onLogs([M])}catch(R){A&&R instanceof j1&&(E=!1),(N=v.onError)==null||N.call(v,R)}},{emitOnBegin:!0,interval:h});return async()=>{A&&await Pt(t,kT,"uninstallFilter")({filter:A}),$()}})})():(()=>{const y=f??!1,w=rs(["watchContractEvent",r,i,s,t.uid,o,h,y]);let v=!0,b=()=>v=!1;return Dp(w,{onLogs:c,onError:l},A=>((async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),$=o?bA({abi:n,eventName:o,args:i}):[],{unsubscribe:N}=await E.subscribe({params:["logs",{address:r,topics:$}],onData(R){var F;if(!v)return;const M=R.result;try{const{eventName:W,args:H}=NH({abi:n,data:M.data,topics:M.topics,strict:f}),L=Rp(M,{args:H,eventName:W});A.onLogs([L])}catch(W){let H,L;if(W instanceof K4||W instanceof sT){if(f)return;H=W.abiItem.name,L=(F=W.abiItem.inputs)==null?void 0:F.some(C=>!("name"in C&&C.name))}const k=Rp(M,{args:L?[]:{},eventName:H});A.onLogs([k])}},onError(R){var M;(M=A.onError)==null||M.call(A,R)}});b=N,v||b()}catch(E){l==null||l(E)}})(),()=>b()))})()}class Ew extends Ue{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class A9 extends Ue{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function hV(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const _R=new rT(128);async function _T(t,e){var v,b,A,E;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,type:m,value:g,...y}=e;if(typeof n>"u")throw new Ew({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Ri(n):null;try{xw(e);const $=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await RH({authorization:s[0]}).catch(()=>{throw new Ue("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let N;r!==null&&(N=await Pt(t,C3,"getChainId")({}),Sge({currentChainId:N,chain:r}));const R=(A=(b=(v=t.chain)==null?void 0:v.formatters)==null?void 0:b.transactionRequest)==null?void 0:A.format,F=(R||A3)({...fT(y,{format:R}),accessList:i,authorizationList:s,blobs:o,chainId:N,data:a,from:w==null?void 0:w.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:$,type:m,value:g},"sendTransaction"),W=_R.get(t.uid),H=W?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:H,params:[F]},{retryCount:0})}catch(L){if(W===!1)throw L;const k=L;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(C=>(_R.set(t.uid,!0),C)).catch(C=>{const _=C;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(_R.set(t.uid,!1),k):_});throw k}}if((w==null?void 0:w.type)==="local"){const N=await Pt(t,AT,"prepareTransactionRequest")({account:w,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:w.nonceManager,parameters:[...Mye,"sidecars"],type:m,value:g,...y,to:$}),R=(E=r==null?void 0:r.serializers)==null?void 0:E.transaction,M=await w.signTransaction(N,{serializer:R});return await Pt(t,hV,"sendRawTransaction")({serializedTransaction:M})}throw(w==null?void 0:w.type)==="smart"?new A9({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new A9({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch($){throw $ instanceof A9?$:Ige($,{...e,account:w,chain:e.chain||void 0})}}async function JYe(t,e){const{abi:n,account:r=t.account,address:i,args:s,dataSuffix:o,functionName:a,...l}=e;if(typeof r>"u")throw new Ew({docsPath:"/docs/contract/writeContract"});const c=r?Ri(r):null,u=rl({abi:n,args:s,functionName:a});try{return await Pt(t,_T,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:i,account:c,...l})}catch(h){throw D1(h,{abi:n,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:c==null?void 0:c.address})}}class XYe extends Ue{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const Bye="0x5792579257925792579257925792579257925792579257925792579257925792",Lye=$t(0,{size:32});async function eQe(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Ri(n):null,h=e.calls.map(f=>{const p=f,m=p.abi?rl({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&m?Qc([m,p.dataSuffix]):m,to:p.to,value:p.value?$t(p.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:r,chainId:$t(i.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new wx(new Ue(v,{details:v}))}if(a&&h.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new bx(new Ue(w,{details:w}))}const m=[];for(const w of h){const v=_T(t,{account:u,chain:i,data:w.data,to:w.to,value:w.value?Kl(w.value):void 0});m.push(v),o>0&&await new Promise(b=>setTimeout(b,o))}const g=await Promise.allSettled(m);if(g.every(w=>w.status==="rejected"))throw g[0].reason;const y=g.map(w=>w.status==="fulfilled"?w.value:Lye);return{id:Qc([...y,$t(i.id,{size:32}),Bye])}}throw Ige(f,{...e,account:u,chain:e.chain})}}async function Fye(t,e){async function n(u){if(u.endsWith(Bye.slice(2))){const f=mp(dB(u,-64,-32)),p=dB(u,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(p.map(y=>Lye.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=m.some(y=>y===null)?100:m.every(y=>(y==null?void 0:y.status)==="0x1")?200:m.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:cd(f),receipts:m.filter(Boolean),status:g,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?cd(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:Kl(u.blockNumber),gasUsed:Kl(u.gasUsed),status:Pge[u.status]})))??[],statusCode:c,status:l,version:o}}async function tQe(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:g})=>g===200||g>=300,retryCount:s=4,retryDelay:o=({count:g})=>~~(1<<g)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=rs(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:h,reject:f}=zH();let p;const m=Dp(c,{resolve:h,reject:f},g=>{const y=k3(async()=>{const w=v=>{clearTimeout(p),y(),v(),m()};try{const v=await dS(async()=>{const b=await Pt(t,Fye,"getCallsStatus")({id:n});if(l&&b.status==="failure")throw new XYe(b);return b},{retryCount:s,delay:o});if(!i(v))return;w(()=>g.resolve(v))}catch(v){w(()=>g.reject(v))}},{interval:r,emitOnBegin:!0});return y});return p=a?setTimeout(()=>{m(),clearTimeout(p),f(new nQe({id:n}))},a):void 0,await u}class nQe extends Ue{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const KB=256;let qC=KB,GC;function Uye(t=11){if(!GC||qC+t>KB*2){GC="",qC=0;for(let e=0;e<KB;e++)GC+=(256+Math.random()*256|0).toString(16).substring(1)}return GC.substring(qC,qC+++t)}function zye(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,h=t.cacheTime??u,f=t.account?Ri(t.account):void 0,{config:p,request:m,value:g}=t.transport({chain:n,pollingInterval:u}),y={...p,...g},w={account:f,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:u,request:m,transport:y,type:o,uid:Uye(),...a?{experimental_blockTag:a}:{}};function v(b){return A=>{const E=A(b);for(const N in w)delete E[N];const $={...b,...E};return Object.assign($,{extend:v($)})}}return Object.assign(w,{extend:v(w)})}function fV(t){var n,r,i,s,o,a;if(!(t instanceof Ue))return!1;const e=t.walk(l=>l instanceof IB);return e instanceof IB?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Wye(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return No(e)?e:null}function YB(t){let e=new Uint8Array(32).fill(0);if(!t)return is(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=Wye(n[r]),s=i?b3(i):zs(d1(n[r]),"bytes");e=zs(Qc([e,s]),"bytes")}return is(e)}function rQe(t){return`[${t.slice(2)}]`}function iQe(t){const e=new Uint8Array(32).fill(0);return t?Wye(t)||zs(d1(t)):is(e)}function pV(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(d1(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=d1(i[s]);o.byteLength>255&&(o=d1(rQe(iQe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function sQe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return E3({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const h=i!=null?[YB(s),BigInt(i)]:[YB(s)];try{const f=rl({abi:XJ,functionName:"addr",args:h}),p={address:c,abi:bge,functionName:"resolveWithGateways",args:[ki(pV(s)),f,o??[mT]],blockNumber:n,blockTag:r},g=await Pt(t,pd,"readContract")(p);if(g[0]==="0x")return null;const y=bw({abi:XJ,args:h,functionName:"addr",data:g[0]});return y==="0x"||mp(y)==="0x00"?null:y}catch(f){if(a)throw f;if(fV(f))return null;throw f}}class oQe extends Ue{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class y5 extends Ue{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class mV extends Ue{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class aQe extends Ue{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const lQe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,cQe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,uQe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dQe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function hQe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function aee(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Hye({uri:t,gatewayUrls:e}){const n=uQe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=aee(e==null?void 0:e.ipfs,"https://ipfs.io"),i=aee(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(lQe),{protocol:o,subpath:a,target:l,subtarget:c=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||cQe.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(dQe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new mV({uri:t})}function Vye(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new oQe({data:t});return t.image||t.image_url||t.image_data}async function fQe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await gV({gatewayUrls:t,uri:Vye(n)})}catch{throw new mV({uri:e})}}async function gV({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=Hye({uri:e,gatewayUrls:t});if(r||await hQe(n))return n;throw new mV({uri:e})}function pQe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,l]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new y5({reason:"Only EIP-155 supported"});if(!o)throw new y5({reason:"Chain ID not found"});if(!l)throw new y5({reason:"Contract address not found"});if(!i)throw new y5({reason:"Token ID not found"});if(!a)throw new y5({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function mQe(t,{nft:e}){if(e.namespace==="erc721")return pd(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return pd(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new aQe({namespace:e.namespace})}async function gQe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?yQe(t,{gatewayUrls:e,record:n}):gV({uri:n,gatewayUrls:e})}async function yQe(t,{gatewayUrls:e,record:n}){const r=pQe(n),i=await mQe(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=Hye({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return gV({uri:Vye(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),fQe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function qye(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return E3({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:c,abi:bge,args:[ki(pV(s)),rl({abi:JJ,functionName:"text",args:[YB(s),i]}),o??[mT]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await Pt(t,pd,"readContract")(h);if(p[0]==="0x")return null;const m=bw({abi:JJ,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(a)throw h;if(fV(h))return null;throw h}}async function wQe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await Pt(t,qye,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await gQe(t,{record:l,gatewayUrls:r})}catch{return null}}async function bQe(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return E3({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:Bze,args:[n,s,o??[mT]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},h=Pt(t,pd,"readContract"),[f]=await h(u);return f||null}catch(u){if(a)throw u;if(fV(u))return null;throw u}}async function vQe(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return E3({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await Pt(t,pd,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ki(pV(i))],blockNumber:n,blockTag:r});return l}async function Gye(t,e){var y,w,v;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,g=n?Ri(n):void 0;try{xw(e);const A=(typeof r=="bigint"?$t(r):void 0)||i,E=(v=(w=(y=t.chain)==null?void 0:y.formatters)==null?void 0:w.transactionRequest)==null?void 0:v.format,N=(E||A3)({...fT(m,{format:E}),from:g==null?void 0:g.address,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[N,A]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(b){throw Cge(b,{...e,account:g,chain:t.chain})}}async function xQe(t){const e=ET(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function Kye(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(r?[r]:void 0),c=ET(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>bA({abi:[p],eventName:p.name,args:n}))],r&&(u=u[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?$t(s):s,toBlock:typeof a=="bigint"?$t(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:c(h),strict:!!o,toBlock:a,type:"event"}}async function Yye(t){const e=ET(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function EQe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?$t(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function AQe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function CQe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?$t(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),cd(s)}async function QB(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?$t(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class kQe extends Ue{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function _Qe(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,l,c,u,h]=await Pt(t,pd,"readContract")({abi:SQe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new kQe({address:n}):o}}const SQe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function IQe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function TQe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?$t(n):void 0,o=await t.request({method:"eth_feeHistory",params:[$t(e),s||r,i]},{dedupe:!!s});return IQe(o)}async function $Qe(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Rp(s));return e.abi?PH({abi:e.abi,logs:i,strict:n}):i}function NQe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function PQe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?cd(t.nonce):void 0,storageProof:t.storageProof?NQe(t.storageProof):void 0}}async function RQe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?$t(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return PQe(a)}async function jQe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?$t(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function yV(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var u,h,f;const o=r||"latest",a=n!==void 0?$t(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,$t(s)]},{dedupe:!0}):(a||o)&&(l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,$t(s)]},{dedupe:!!a})),!l)throw new qme({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||$ge)(l,"getTransaction")}async function OQe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Pt(t,_A,"getBlockNumber")({}),e?Pt(t,yV,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function C9(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new Gme({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||oWe)(n,"getTransactionReceipt")}async function MQe(t,e){var v;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((v=t.batch)==null?void 0:v.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return E3({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,g=0;for(let b=0;b<c.length;b++){const{abi:A,address:E,args:$,functionName:N}=c[b];try{const R=rl({abi:A,args:$,functionName:N});g+=(R.length-2)/2,u>0&&g>u&&p[m].length>0&&(m++,g=(R.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:R,target:E}]}catch(R){const M=D1(R,{abi:A,address:E,args:$,docsPath:"/docs/contract/multicall",functionName:N,sender:n});if(!i)throw M;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:E}]}}const y=await Promise.allSettled(p.map(b=>Pt(t,pd,"readContract")({...f===null?{code:UH}:{address:f},abi:pS,account:n,args:[b],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),w=[];for(let b=0;b<y.length;b++){const A=y[b];if(A.status==="rejected"){if(!i)throw A.reason;for(let $=0;$<p[b].length;$++)w.push({status:"failure",error:A.reason,result:void 0});continue}const E=A.value;for(let $=0;$<E.length;$++){const{returnData:N,success:R}=E[$],{callData:M}=p[b][$],{abi:F,address:W,functionName:H,args:L}=c[w.length];try{if(M==="0x")throw new yA;if(!R)throw new dT({data:N});const k=bw({abi:F,args:L,data:N,functionName:H});w.push(i?{result:k,status:"success"}:k)}catch(k){const C=D1(k,{abi:F,address:W,args:L,docsPath:"/docs/contract/multicall",functionName:H});if(!i)throw C;w.push({error:C,result:void 0,status:"failure"})}}}if(w.length!==c.length)throw new Ue("multicall results mismatch");return w}async function ZB(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const f of i){const p=f.blockOverrides?yge(f.blockOverrides):void 0,m=f.calls.map(y=>{const w=y,v=w.account?Ri(w.account):void 0,b=w.abi?rl(w):w.data,A={...w,data:w.dataSuffix?Qc([b||"0x",w.dataSuffix]):b,from:w.from??(v==null?void 0:v.address)};return xw(A),A3(A)}),g=f.stateOverrides?WH(f.stateOverrides):void 0;l.push({blockOverrides:p,calls:m,stateOverrides:g})}const u=(typeof n=="bigint"?$t(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,p)=>({...Nge(f),calls:f.calls.map((m,g)=>{var F,W;const{abi:y,args:w,functionName:v,to:b}=i[p].calls[g],A=((F=m.error)==null?void 0:F.data)??m.returnData,E=BigInt(m.gasUsed),$=(W=m.logs)==null?void 0:W.map(H=>Rp(H)),N=m.status==="0x1"?"success":"failure",R=y&&N==="success"&&A!=="0x"?bw({abi:y,data:A,functionName:v}):null,M=(()=>{var L;if(N==="success")return;let H;if(((L=m.error)==null?void 0:L.data)==="0x"?H=new yA:m.error&&(H=new dT(m.error)),!!H)return D1(H,{abi:y??[],address:b??"0x",args:w,functionName:v??"<unknown>"})})();return{data:A,gasUsed:E,logs:$,status:N,...N==="success"?{result:R}:{error:M}}})}))}catch(l){const c=l,u=hT(c,{});throw u instanceof EA?c:u}}function JB(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new Bn("Unable to normalize signature.");return i}function XB(t,e){const n=typeof t,r=e.type;switch(r){case"address":return TB(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>XB(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>XB(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Qye(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Qye(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?TB(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?TB(n[r],{strict:!1}):!1)return o}}function Zye(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?CJ(t):t;return{...r,...n?{hash:lv(r)}:{}}}function ST(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=jze(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?Jye(c)===Ph(e,0,4):c.type==="event"?lv(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new NS({name:e});if(o.length===1)return{...o[0],...i?{hash:lv(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:lv(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((h,f)=>{const p="inputs"in c&&c.inputs[f];return p?XB(h,p):!1})){if(a&&"inputs"in a&&a.inputs){const h=Qye(c.inputs,a.inputs,r);if(h)throw new BQe({abiItem:c,type:h[0]},{abiItem:a,type:h[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new NS({name:e});return{...l,...i?{hash:lv(l)}:{}}}function Jye(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return ST(n,r)}return t[0]})();return Ph(lv(e),0,4)}function DQe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return ST(r,i)}return t[0]})(),n=typeof e=="string"?e:lS(e);return JB(n)}function lv(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return ST(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Fge(FH(DQe(e)))}class BQe extends Bn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${JB(lS(e.abiItem))}\`, and`,`\`${n.type}\` in \`${JB(lS(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class NS extends Bn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function LQe(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[UQe(o),a]}return t})(),{bytecode:r,args:i}=n;return hd(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?KH(e.inputs,i):"0x")}function FQe(t){return Zye(t)}function UQe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new NS({name:"constructor"});return e}function zQe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[c,u,h]=t;return[lee(c,u,{args:h}),h]}const[a,l]=t;return[a,l]})(),{overloads:r}=e,i=r?lee([e,...r],e.name,{args:n}):e,s=WQe(i),o=n.length>0?KH(i.inputs,n):void 0;return o?hd(s,o):s}function Qw(t,e={}){return Zye(t,e)}function lee(t,e,n){const r=ST(t,e,n);if(r.type!=="function")throw new NS({name:e,type:"function"});return r}function WQe(t){return Jye(t)}const HQe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Rd="0x0000000000000000000000000000000000000000",VQe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function qQe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?Ri(e.account):void 0;if(o&&!c)throw new Ue("`account` is required when `traceAssetChanges` is true");const u=c?LQe(FQe("constructor(bytes, bytes)"),{bytecode:xge,args:[VQe,zQe(Qw("function getBalance(address)"),[c.address])]}):void 0,h=o?await Promise.all(e.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:P}=await Gye(t,{account:c.address,...S,data:S.abi?rl(S):S.data});return P.map(({address:D,storageKeys:O})=>O.length>0?D:null)})).then(S=>S.flat().filter(Boolean)):[],f=await ZB(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:h.map((S,P)=>({abi:[Qw("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:S,from:Rd,nonce:P})),stateOverrides:[{address:Rd,nonce:0}]}]:[],{calls:[...i,{}].map(S=>({...S,from:c==null?void 0:c.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:h.map((S,P)=>({abi:[Qw("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:S,from:Rd,nonce:P})),stateOverrides:[{address:Rd,nonce:0}]},{calls:h.map((S,P)=>({to:S,abi:[Qw("function decimals() returns (uint256)")],functionName:"decimals",from:Rd,nonce:P})),stateOverrides:[{address:Rd,nonce:0}]},{calls:h.map((S,P)=>({to:S,abi:[Qw("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Rd,nonce:P})),stateOverrides:[{address:Rd,nonce:0}]},{calls:h.map((S,P)=>({to:S,abi:[Qw("function symbol() returns (string)")],functionName:"symbol",from:Rd,nonce:P})),stateOverrides:[{address:Rd,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?f[2]:f[0],[m,g,,y,w,v,b,A]=o?f:[],{calls:E,...$}=p,N=E.slice(0,-1)??[],R=(m==null?void 0:m.calls)??[],M=(g==null?void 0:g.calls)??[],F=[...R,...M].map(S=>S.status==="success"?Kl(S.data):null),W=(y==null?void 0:y.calls)??[],H=(w==null?void 0:w.calls)??[],L=[...W,...H].map(S=>S.status==="success"?Kl(S.data):null),k=((v==null?void 0:v.calls)??[]).map(S=>S.status==="success"?S.result:null),C=((A==null?void 0:A.calls)??[]).map(S=>S.status==="success"?S.result:null),_=((b==null?void 0:b.calls)??[]).map(S=>S.status==="success"?S.result:null),T=[];for(const[S,P]of L.entries()){const D=F[S];if(typeof P!="bigint"||typeof D!="bigint")continue;const O=k[S-1],I=C[S-1],B=_[S-1],Q=S===0?{address:HQe,decimals:18,symbol:"ETH"}:{address:h[S-1],decimals:B||O?Number(O??1):void 0,symbol:I??void 0};T.some(j=>j.token.address===Q.address)||T.push({token:Q,value:{pre:D,post:P,diff:P-D}})}return{assetChanges:T,block:$,results:N}}const Xye="0x6492649264926492649264926492649264926492649264926492649264926492";function GQe(t){if(Ph(t,-32)!==Xye)throw new QQe(t)}function KQe(t){const{data:e,signature:n,to:r}=t;return hd(KH(Wge("address, bytes, bytes"),[r,e,n]),Xye)}function YQe(t){try{return GQe(t),!0}catch{return!1}}class QQe extends Bn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function ZQe({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new oye.Signature(Kl(t),Kl(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:ud(o)}async function IT(t,e){var a,l,c,u,h,f;const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((c=(l=(a=t.chain)==null?void 0:a.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:s=e.multicallAddress??((f=(h=(u=t.chain)==null?void 0:u.contracts)==null?void 0:h.multicall3)==null?void 0:f.address)}=e,o=(()=>{const p=e.signature;return No(p)?p:typeof p=="object"&&"r"in p&&"s"in p?ZQe(p):is(p)})();try{return MHe(o)?await JQe(t,{...e,multicallAddress:s,signature:o}):await XQe(t,{...e,verifierAddress:i,signature:o})}catch(p){try{if(vA(Mi(n),await Hme({hash:r,signature:o})))return!0}catch{}if(p instanceof U1)return!1;throw p}}async function JQe(t,e){var y;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=OHe(e.signature);if(await QB(t,{address:n,blockNumber:r,blockTag:i})===v3(["0xef0100",a.address]))return await eZe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:c});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:$t(a.r,{size:32}),s:$t(a.s,{size:32}),yParity:a.yParity};if(!await XUe({address:n,authorization:f}))throw new U1;const m=await Pt(t,pd,"readContract")({...o?{address:o}:{code:UH},authorizationList:[f],abi:pS,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??n,callData:l}]:[],{allowFailure:!0,target:n,callData:rl({abi:vge,functionName:"isValidSignature",args:[s,c]})}]]}),g=(y=m[m.length-1])==null?void 0:y.returnData;if(g!=null&&g.startsWith("0x1626ba7e"))return!0;throw new U1}async function XQe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!r&&!i||YQe(o)?o:KQe({data:i,signature:o,to:r}))(),u=a?{to:a,data:rl({abi:eX,functionName:"isValidSig",args:[n,s,c]}),...l}:{data:aT({abi:eX,args:[n,s,c],bytecode:Uze}),...l},{data:h}=await Pt(t,pT,"call")(u).catch(f=>{throw f instanceof Ege?new U1:f});if(JLe(h??"0x0"))return!0;throw new U1}async function eZe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await Pt(t,pd,"readContract")({address:n,abi:vge,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof Age?new U1:l})).startsWith("0x1626ba7e"))return!0;throw new U1}class U1 extends Error{}async function tZe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=Rge(n);return IT(t,{address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function nZe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,h=yWe({message:o,primaryType:a,types:l,domain:c});return IT(t,{address:n,factory:r,factoryData:i,hash:h,signature:s,...u})}function e1e(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=rs(["watchBlockNumber",t.uid,e,n,o]);return Dp(h,{onBlockNumber:r,onError:i},f=>k3(async()=>{var p;try{const m=await Pt(t,_A,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(m===l)return;if(m-l>1&&n)for(let g=l+1n;g<m;g++)f.onBlockNumber(g,l),l=g}(l===void 0||m>l)&&(f.onBlockNumber(m,l),l=m)}catch(m){(p=f.onError)==null||p.call(f,m)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=rs(["watchBlockNumber",t.uid,e,n]);return Dp(h,{onBlockNumber:r,onError:i},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(w){var b;if(!p)return;const v=Kl((b=w.result)==null?void 0:b.number);f.onBlockNumber(v,l),l=v},onError(w){var v;(v=f.onError)==null||v.call(f,w)}});m=y,p||m()}catch(g){i==null||i(g)}})(),()=>m()})})()}async function rZe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:l=18e4}=e,c=rs(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var E;return e.pollingInterval?e.pollingInterval:(E=t.chain)!=null&&E.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,f,p,m=!1,g,y;const{promise:w,resolve:v,reject:b}=zH(),A=l?setTimeout(()=>{y==null||y(),g==null||g(),b(new jUe({hash:i}))},l):void 0;return g=Dp(c,{onReplaced:s,resolve:v,reject:b},async E=>{if(p=await Pt(t,C9,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&r<=1){clearTimeout(A),E.resolve(p),g==null||g();return}y=Pt(t,e1e,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber($){const N=M=>{clearTimeout(A),y==null||y(),M(),g==null||g()};let R=$;if(!m)try{if(p){if(r>1&&(!p.blockNumber||R-p.blockNumber+1n<r))return;N(()=>E.resolve(p));return}if(n&&!h&&(m=!0,await dS(async()=>{h=await Pt(t,yV,"getTransaction")({hash:i}),h.blockNumber&&(R=h.blockNumber)},{delay:a,retryCount:o}),m=!1),p=await Pt(t,C9,"getTransactionReceipt")({hash:i}),r>1&&(!p.blockNumber||R-p.blockNumber+1n<r))return;N(()=>E.resolve(p))}catch(M){if(M instanceof qme||M instanceof Gme){if(!h){m=!1;return}try{f=h,m=!0;const F=await dS(()=>Pt(t,Eh,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:L})=>L instanceof jye});m=!1;const W=F.transactions.find(({from:L,nonce:k})=>L===f.from&&k===f.nonce);if(!W||(p=await Pt(t,C9,"getTransactionReceipt")({hash:W.hash}),r>1&&(!p.blockNumber||R-p.blockNumber+1n<r)))return;let H="replaced";W.to===f.to&&W.value===f.value&&W.input===f.input?H="repriced":W.from===W.to&&W.value===0n&&(H="cancelled"),N(()=>{var L;(L=E.onReplaced)==null||L.call(E,{reason:H,replacedTransaction:f,transaction:W,transactionReceipt:p}),E.resolve(p)})}catch(F){N(()=>E.reject(F))}}else N(()=>E.reject(M))}}})}),w}function iZe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let h;return c?(()=>{const m=rs(["watchBlocks",t.uid,e,n,r,u,l]);return Dp(m,{onBlock:i,onError:s},g=>k3(async()=>{var y;try{const w=await Pt(t,Eh,"getBlock")({blockTag:e,includeTransactions:u});if(w.number!==null&&(h==null?void 0:h.number)!=null){if(w.number===h.number)return;if(w.number-h.number>1&&n)for(let v=(h==null?void 0:h.number)+1n;v<w.number;v++){const b=await Pt(t,Eh,"getBlock")({blockNumber:v,includeTransactions:u});g.onBlock(b,h),h=b}}((h==null?void 0:h.number)==null||e==="pending"&&(w==null?void 0:w.number)==null||w.number!==null&&w.number>h.number)&&(g.onBlock(w,h),h=w)}catch(w){(y=g.onError)==null||y.call(g,w)}},{emitOnBegin:r,interval:l}))})():(()=>{let m=!0,g=!0,y=()=>m=!1;return(async()=>{try{r&&Pt(t,Eh,"getBlock")({blockTag:e,includeTransactions:u}).then(b=>{m&&g&&(i(b,void 0),g=!1)}).catch(s);const w=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await w.subscribe({params:["newHeads"],async onData(b){var E;if(!m)return;const A=await Pt(t,Eh,"getBlock")({blockNumber:(E=b.result)==null?void 0:E.number,includeTransactions:u}).catch(()=>{});m&&(i(A,h),g=!1,h=A)},onError(b){s==null||s(b)}});y=v,m||y()}catch(w){s==null||s(w)}})(),()=>y()})()}function sZe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:h}){const f=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const y=rs(["watchEvent",e,n,r,t.uid,i,u,o]);return Dp(y,{onLogs:l,onError:a},w=>{let v;o!==void 0&&(v=o-1n);let b,A=!1;const E=k3(async()=>{var $;if(!A){try{b=await Pt(t,Kye,"createEventFilter")({address:e,args:n,event:i,events:s,strict:p,fromBlock:o})}catch{}A=!0;return}try{let N;if(b)N=await Pt(t,CT,"getFilterChanges")({filter:b});else{const R=await Pt(t,_A,"getBlockNumber")({});v&&v!==R?N=await Pt(t,dV,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:v+1n,toBlock:R}):N=[],v=R}if(N.length===0)return;if(r)w.onLogs(N);else for(const R of N)w.onLogs([R])}catch(N){b&&N instanceof j1&&(A=!1),($=w.onError)==null||$.call(w,N)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await Pt(t,kT,"uninstallFilter")({filter:b}),E()}})})():(()=>{let y=!0,w=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const $=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return $?$.value:t.transport}return t.transport})(),b=s??(i?[i]:void 0);let A=[];b&&(A=[b.flatMap(N=>bA({abi:[N],eventName:N.name,args:n}))],i&&(A=A[0]));const{unsubscribe:E}=await v.subscribe({params:["logs",{address:e,topics:A}],onData($){var R;if(!y)return;const N=$.result;try{const{eventName:M,args:F}=NH({abi:b??[],data:N.data,topics:N.topics,strict:p}),W=Rp(N,{args:F,eventName:M});l([W])}catch(M){let F,W;if(M instanceof K4||M instanceof sT){if(h)return;F=M.abiItem.name,W=(R=M.abiItem.inputs)==null?void 0:R.some(L=>!("name"in L&&L.name))}const H=Rp(N,{args:W?[]:{},eventName:F});l([H])}},onError($){a==null||a($)}});w=E,y||w()}catch(v){a==null||a(v)}})(),()=>w()})()}function oZe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=rs(["watchPendingTransactions",t.uid,e,s]);return Dp(c,{onTransactions:r,onError:n},u=>{let h;const f=k3(async()=>{var p;try{if(!h)try{h=await Pt(t,Yye,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const m=await Pt(t,CT,"getFilterChanges")({filter:h});if(m.length===0)return;if(e)u.onTransactions(m);else for(const g of m)u.onTransactions([g])}catch(m){(p=u.onError)==null||p.call(u,m)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await Pt(t,kT,"uninstallFilter")({filter:h}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const p=f.result;r([p])},onError(f){n==null||n(f)}});u=h,c||u()}catch(h){n==null||n(h)}})(),()=>u()})()}function aZe(t){var h,f,p;const{scheme:e,statement:n,...r}=((h=t.match(lZe))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(cZe))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const lZe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,cZe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function uZe(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Xa(r.address,{strict:!1})||e&&!vA(r.address,e))return!1}catch{return!1}return!0}async function dZe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=aZe(i);if(!u.address||!uZe({address:n,domain:r,message:u,nonce:s,scheme:o,time:l}))return!1;const f=Rge(i);return IT(t,{address:u.address,hash:f,signature:a,...c})}function wV(t){return{call:e=>pT(t,e),createAccessList:e=>Gye(t,e),createBlockFilter:()=>xQe(t),createContractEventFilter:e=>Rye(t,e),createEventFilter:e=>Kye(t,e),createPendingTransactionFilter:()=>Yye(t),estimateContractGas:e=>WYe(t,e),estimateGas:e=>uV(t,e),getBalance:e=>EQe(t,e),getBlobBaseFee:()=>AQe(t),getBlock:e=>Eh(t,e),getBlockNumber:e=>_A(t,e),getBlockTransactionCount:e=>CQe(t,e),getBytecode:e=>QB(t,e),getChainId:()=>C3(t),getCode:e=>QB(t,e),getContractEvents:e=>Dye(t,e),getEip712Domain:e=>_Qe(t,e),getEnsAddress:e=>sQe(t,e),getEnsAvatar:e=>wQe(t,e),getEnsName:e=>bQe(t,e),getEnsResolver:e=>vQe(t,e),getEnsText:e=>qye(t,e),getFeeHistory:e=>TQe(t,e),estimateFeesPerGas:e=>zYe(t,e),getFilterChanges:e=>CT(t,e),getFilterLogs:e=>$Qe(t,e),getGasPrice:()=>cV(t),getLogs:e=>dV(t,e),getProof:e=>RQe(t,e),estimateMaxPriorityFeePerGas:e=>UYe(t,e),getStorageAt:e=>jQe(t,e),getTransaction:e=>yV(t,e),getTransactionConfirmations:e=>OQe(t,e),getTransactionCount:e=>HH(t,e),getTransactionReceipt:e=>C9(t,e),multicall:e=>MQe(t,e),prepareTransactionRequest:e=>AT(t,e),readContract:e=>pd(t,e),sendRawTransaction:e=>hV(t,e),simulate:e=>ZB(t,e),simulateBlocks:e=>ZB(t,e),simulateCalls:e=>qQe(t,e),simulateContract:e=>HYe(t,e),verifyHash:e=>IT(t,e),verifyMessage:e=>tZe(t,e),verifySiweMessage:e=>dZe(t,e),verifyTypedData:e=>nZe(t,e),uninstallFilter:e=>kT(t,e),waitForTransactionReceipt:e=>rZe(t,e),watchBlocks:e=>iZe(t,e),watchBlockNumber:e=>e1e(t,e),watchContractEvent:e=>ZYe(t,e),watchEvent:e=>sZe(t,e),watchPendingTransactions:e=>oZe(t,e)}}function Bp(t){const{key:e="public",name:n="Public Client"}=t;return zye({...t,key:e,name:n,type:"publicClient"}).extend(wV)}async function hZe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:$t(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function fZe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=aT({abi:n,args:r,bytecode:i});return _T(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function pZe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>gA(r))}async function mZe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Ri(n):void 0,s=r?[i==null?void 0:i.address,[$t(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,h]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=h}return typeof r=="number"?a[r]:a}async function gZe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function t1e(t,e){var l;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Ew({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Ri(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Ri(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((l=t.chain)==null?void 0:l.id)??await Pt(t,C3,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Pt(t,HH,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&vA(o.address,s.address))&&(a.nonce+=1)),a}async function yZe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Mi(n))}async function wZe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function bZe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function vZe(t,e){const{account:n=t.account}=e;if(!n)throw new Ew({docsPath:"/docs/eip7702/signAuthorization"});const r=Ri(n);if(!r.signAuthorization)throw new A9({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await t1e(t,e);return r.signAuthorization(i)}async function xZe(t,{account:e=t.account,message:n}){if(!e)throw new Ew({docsPath:"/docs/actions/wallet/signMessage"});const r=Ri(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?hx(n):n.raw instanceof Uint8Array?ki(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function EZe(t,e){var c,u,h,f;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Ew({docsPath:"/docs/actions/wallet/signTransaction"});const s=Ri(n);xw({account:s,...e});const o=await Pt(t,C3,"getChainId")({});r!==null&&Sge({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((c=t.chain)==null?void 0:c.formatters),l=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||A3;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(f=(h=t.chain)==null?void 0:h.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i,"signTransaction"),chainId:$t(o),from:s.address}]},{retryCount:0})}async function AZe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Ew({docsPath:"/docs/actions/wallet/signTypedData"});const o=Ri(n),a={EIP712Domain:Oge({domain:r}),...e.types};if(jge({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const l=mWe({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function CZe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:$t(e)}]},{retryCount:0})}async function kZe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function _Ze(t){return{addChain:e=>hZe(t,e),deployContract:e=>fZe(t,e),getAddresses:()=>pZe(t),getCallsStatus:e=>Fye(t,e),getCapabilities:e=>mZe(t,e),getChainId:()=>C3(t),getPermissions:()=>gZe(t),prepareAuthorization:e=>t1e(t,e),prepareTransactionRequest:e=>AT(t,e),requestAddresses:()=>yZe(t),requestPermissions:e=>wZe(t,e),sendCalls:e=>eQe(t,e),sendRawTransaction:e=>hV(t,e),sendTransaction:e=>_T(t,e),showCallsStatus:e=>bZe(t,e),signAuthorization:e=>vZe(t,e),signMessage:e=>xZe(t,e),signTransaction:e=>EZe(t,e),signTypedData:e=>AZe(t,e),switchChain:e=>CZe(t,e),waitForCallsStatus:e=>tQe(t,e),watchAsset:e=>kZe(t,e),writeContract:e=>JYe(t,e)}}function n1e(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return zye({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(_Ze)}function r1e({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=Uye();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:ize(r,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function i1e(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>r1e({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class SZe extends Ue{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Lp(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},w=e.retryCount??p,v=m??e.timeout??1e4,b=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!b)throw new SZe;const A=cWe(b,{fetchFn:r,fetchOptions:i,onRequest:l,onResponse:c,timeout:v});return r1e({key:s,methods:o,name:a,async request({method:E,params:$}){const N={method:E,params:$},{schedule:R}=kge({id:b,wait:y,shouldSplitBatch(H){return H.length>g},fn:H=>A.request({body:H}),sort:(H,L)=>H.id-L.id}),M=async H=>n?R(H):[await A.request({body:H})],[{error:F,result:W}]=await M(N);if(h)return{error:F,result:W};if(F)throw new MH({body:N,error:F,url:b});return W},retryCount:w,retryDelay:u,timeout:v,type:"http"},{fetchOptions:i,url:b})}}let IZe=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(TVe,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const TZe=new TextEncoder,s1e=new TextDecoder,$Ze=t=>{let e=t;typeof e=="string"&&(e=TZe.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},NZe=t=>$Ze(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),PZe=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},RZe=t=>{let e=t;e instanceof Uint8Array&&(e=s1e.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return PZe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};let jZe=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}},Dg=class extends jZe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};function OZe(t){return typeof t=="object"&&t!==null}function MZe(t){if(!OZe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const z1=NZe,DZe=RZe;function eL(t){if(typeof t!="string")throw new Dg("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Dg("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Dg("Invalid JWT");if(!e)throw new Dg("JWTs must contain a payload");let r;try{r=DZe(e)}catch{throw new Dg("Failed to base64url decode the payload")}let i;try{i=JSON.parse(s1e.decode(r))}catch{throw new Dg("Failed to parse the decoded payload as JSON")}if(!MZe(i))throw new Dg("Invalid JWT Claims Set");return i}let a6=class o1e{static parse(e){try{return new o1e(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=eL(e)}},a1e=class tL{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=tL.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=tL.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new a6(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(HHe,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};a1e.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let BZe=class{async revoke(){await this._privyInternal.fetch(UVe,{})}constructor(e){this._privyInternal=e}};function LZe(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const ou={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},TT={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},_3={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},bV={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},au={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},$T={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},FZe={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},NT={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},UZe={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},zZe={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},WZe={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},HZe={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},VZe={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},l1e={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},qZe={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},GZe={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},lu={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},nf={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},PT={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},sl={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},SA={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},KZe={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},vV={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},xV={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},c1e={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},u1e={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},IA=[lu,vV,VZe,ou,TT,nf,PT,sl,SA,NT,UZe,zZe,WZe,au,$T,FZe,GZe,l1e,qZe,_3,bV,xV,u1e,c1e,KZe,HZe],d1e=new Set(IA.map(t=>t.id));function EV(t){let e=t.filter(n=>!d1e.has(n.id));return IA.concat(e)}const h1e=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=IA.find(s=>s.id===e.id),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?LZe(e,r):e});let SR=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Qn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},YZe=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const X0=t=>!!t.id&&t.recovery_method==="privy-v2";let QZe=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(X0(this._account))throw new Qn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const ZZe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var ba;(ba={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ba.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ba.INVALID_DATA="invalid_data",ba.LINKED_TO_ANOTHER_USER="linked_to_another_user",ba.ALLOWLIST_REJECTED="allowlist_rejected",ba.OAUTH_USER_DENIED="oauth_user_denied",ba.UNKNOWN_AUTH_ERROR="unknown_auth_error",ba.USER_EXITED_AUTH_FLOW="exited_auth_flow",ba.MUST_BE_AUTHENTICATED="must_be_authenticated",ba.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ba.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ba.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ba.INVALID_CREDENTIALS="invalid_credentials";let JZe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},k9=class extends Error{constructor(e,n){super(n),this.type=e}},f1e=class extends JZe{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},cee=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Ku={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function XZe(t){let e=t.type;return typeof e=="string"&&ZZe.includes(e)}function AV(t){return XZe(t)&&t.type==="wallet_not_on_device"}async function nL(t,{request:e}){return await t.fetchPrivyRoute(FVe,{body:e})}async function IR({context:t,chainType:e}){return{wallet:await nL(t,{request:{chain_type:e,owner_id:void 0}})}}const eJe="logger/5.8.0";let uee=!1,dee=!1;const _9={debug:1,default:2,info:2,warning:3,error:4,off:5};let hee=_9.default,TR=null;function tJe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const fee=tJe();var rL;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(rL||(rL={}));var Ru;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ru||(Ru={}));const pee="0123456789abcdef";class Re{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();_9[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(hee>_9[r])&&console.log.apply(console,n)}debug(...e){this._log(Re.levels.DEBUG,e)}info(...e){this._log(Re.levels.INFO,e)}warn(...e){this._log(Re.levels.WARNING,e)}makeError(e,n,r){if(dee)return this.makeError("censored error",n,{});n||(n=Re.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=pee[c[h]>>4],u+=pee[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case Ru.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ru.CALL_EXCEPTION:case Ru.INSUFFICIENT_FUNDS:case Ru.MISSING_NEW:case Ru.NONCE_EXPIRED:case Ru.REPLACEMENT_UNDERPRICED:case Ru.TRANSACTION_REPLACED:case Ru.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Re.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){fee&&this.throwError("platform missing String.prototype.normalize",Re.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:fee})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Re.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Re.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Re.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Re.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Re.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Re.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Re.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return TR||(TR=new Re(eJe)),TR}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Re.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),uee){if(!e)return;this.globalLogger().throwError("error censorship permanent",Re.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}dee=!!e,uee=!!n}static setLogLevel(e){const n=_9[e.toLowerCase()];if(n==null){Re.globalLogger().warn("invalid log level - "+e);return}hee=n}static from(e){return new Re(e)}}Re.errors=Ru;Re.levels=rL;const nJe="properties/5.8.0";var rJe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const PS=new Re(nJe);function $n(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function l6(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ms(t){return rJe(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function iJe(t,e){(!t||typeof t!="object")&&PS.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||PS.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function za(t){const e={};for(const n in t)e[n]=t[n];return e}const sJe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function p1e(t){if(t==null||sJe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!p1e(r))return!1}return!0}return PS.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function oJe(t){if(p1e(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>N8(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&$n(e,n,N8(r))}return e}return PS.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function N8(t){return oJe(t)}class aJe{constructor(e){for(const n in e)this[n]=N8(e[n])}}const lJe="abstract-signer/5.8.0";var gu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const vc=new Re(lJe),cJe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],uJe=[Re.errors.INSUFFICIENT_FUNDS,Re.errors.NONCE_EXPIRED,Re.errors.REPLACEMENT_UNDERPRICED];class RT{constructor(){vc.checkAbstract(new.target,RT),$n(this,"_isSigner",!0)}getBalance(e){return gu(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return gu(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return gu(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Ms(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return gu(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Ms(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return gu(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return gu(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return gu(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return gu(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return gu(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)cJe.indexOf(r)===-1&&vc.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=za(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&vc.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return gu(this,void 0,void 0,function*(){const n=yield Ms(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>gu(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&vc.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?vc.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&vc.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&vc.throwError("network does not support EIP-1559",Re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):vc.throwError("failed to get consistent fee data",Re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(uJe.indexOf(i.code)>=0)throw i;return vc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&vc.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ms(n)})}_checkProvider(e){this.provider||vc.throwError("missing provider",Re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class CV extends RT{constructor(e,n){super(),$n(this,"address",e),$n(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{vc.throwError(e,Re.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new CV(this.address,e)}}var kV={exports:{}};const dJe={},hJe=Object.freeze(Object.defineProperty({__proto__:null,default:dJe},Symbol.toStringTag,{value:"Module"})),fJe=s3(hJe);kV.exports;(function(t){(function(e,n){function r(L,k){if(!L)throw new Error(k||"Assertion failed")}function i(L,k){L.super_=k;var C=function(){};C.prototype=k.prototype,L.prototype=new C,L.prototype.constructor=L}function s(L,k,C){if(s.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((k==="le"||k==="be")&&(C=k,k=10),this._init(L||0,k||10,C||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=fJe.Buffer}catch{}s.isBN=function(k){return k instanceof s?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===s.wordSize&&Array.isArray(k.words)},s.max=function(k,C){return k.cmp(C)>0?k:C},s.min=function(k,C){return k.cmp(C)<0?k:C},s.prototype._init=function(k,C,_){if(typeof k=="number")return this._initNumber(k,C,_);if(typeof k=="object")return this._initArray(k,C,_);C==="hex"&&(C=16),r(C===(C|0)&&C>=2&&C<=36),k=k.toString().replace(/\s+/g,"");var T=0;k[0]==="-"&&(T++,this.negative=1),T<k.length&&(C===16?this._parseHex(k,T,_):(this._parseBase(k,C,T),_==="le"&&this._initArray(this.toArray(),C,_)))},s.prototype._initNumber=function(k,C,_){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(r(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),C,_)},s.prototype._initArray=function(k,C,_){if(r(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var S,P,D=0;if(_==="be")for(T=k.length-1,S=0;T>=0;T-=3)P=k[T]|k[T-1]<<8|k[T-2]<<16,this.words[S]|=P<<D&67108863,this.words[S+1]=P>>>26-D&67108863,D+=24,D>=26&&(D-=26,S++);else if(_==="le")for(T=0,S=0;T<k.length;T+=3)P=k[T]|k[T+1]<<8|k[T+2]<<16,this.words[S]|=P<<D&67108863,this.words[S+1]=P>>>26-D&67108863,D+=24,D>=26&&(D-=26,S++);return this._strip()};function a(L,k){var C=L.charCodeAt(k);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;r(!1,"Invalid character in "+L)}function l(L,k,C){var _=a(L,C);return C-1>=k&&(_|=a(L,C-1)<<4),_}s.prototype._parseHex=function(k,C,_){this.length=Math.ceil((k.length-C)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var S=0,P=0,D;if(_==="be")for(T=k.length-1;T>=C;T-=2)D=l(k,C,T)<<S,this.words[P]|=D&67108863,S>=18?(S-=18,P+=1,this.words[P]|=D>>>26):S+=8;else{var O=k.length-C;for(T=O%2===0?C+1:C;T<k.length;T+=2)D=l(k,C,T)<<S,this.words[P]|=D&67108863,S>=18?(S-=18,P+=1,this.words[P]|=D>>>26):S+=8}this._strip()};function c(L,k,C,_){for(var T=0,S=0,P=Math.min(L.length,C),D=k;D<P;D++){var O=L.charCodeAt(D)-48;T*=_,O>=49?S=O-49+10:O>=17?S=O-17+10:S=O,r(O>=0&&S<_,"Invalid character"),T+=S}return T}s.prototype._parseBase=function(k,C,_){this.words=[0],this.length=1;for(var T=0,S=1;S<=67108863;S*=C)T++;T--,S=S/C|0;for(var P=k.length-_,D=P%T,O=Math.min(P,P-D)+_,I=0,B=_;B<O;B+=T)I=c(k,B,B+T,C),this.imuln(S),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(D!==0){var Q=1;for(I=c(k,B,k.length,C),B=0;B<D;B++)Q*=C;this.imuln(Q),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(k){k.words=new Array(this.length);for(var C=0;C<this.length;C++)k.words[C]=this.words[C];k.length=this.length,k.negative=this.negative,k.red=this.red};function u(L,k){L.words=k.words,L.length=k.length,L.negative=k.negative,L.red=k.red}if(s.prototype._move=function(k){u(k,this)},s.prototype.clone=function(){var k=new s(null);return this.copy(k),k},s.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(k,C){k=k||10,C=C|0||1;var _;if(k===16||k==="hex"){_="";for(var T=0,S=0,P=0;P<this.length;P++){var D=this.words[P],O=((D<<T|S)&16777215).toString(16);S=D>>>24-T&16777215,T+=2,T>=26&&(T-=26,P--),S!==0||P!==this.length-1?_=f[6-O.length]+O+_:_=O+_}for(S!==0&&(_=S.toString(16)+_);_.length%C!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(k===(k|0)&&k>=2&&k<=36){var I=p[k],B=m[k];_="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var j=Q.modrn(B).toString(k);Q=Q.idivn(B),Q.isZero()?_=j+_:_=f[I-j.length]+j+_}for(this.isZero()&&(_="0"+_);_.length%C!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(k,C){return this.toArrayLike(o,k,C)}),s.prototype.toArray=function(k,C){return this.toArrayLike(Array,k,C)};var g=function(k,C){return k.allocUnsafe?k.allocUnsafe(C):new k(C)};s.prototype.toArrayLike=function(k,C,_){this._strip();var T=this.byteLength(),S=_||Math.max(1,T);r(T<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var P=g(k,S),D=C==="le"?"LE":"BE";return this["_toArrayLike"+D](P,T),P},s.prototype._toArrayLikeLE=function(k,C){for(var _=0,T=0,S=0,P=0;S<this.length;S++){var D=this.words[S]<<P|T;k[_++]=D&255,_<k.length&&(k[_++]=D>>8&255),_<k.length&&(k[_++]=D>>16&255),P===6?(_<k.length&&(k[_++]=D>>24&255),T=0,P=0):(T=D>>>24,P+=2)}if(_<k.length)for(k[_++]=T;_<k.length;)k[_++]=0},s.prototype._toArrayLikeBE=function(k,C){for(var _=k.length-1,T=0,S=0,P=0;S<this.length;S++){var D=this.words[S]<<P|T;k[_--]=D&255,_>=0&&(k[_--]=D>>8&255),_>=0&&(k[_--]=D>>16&255),P===6?(_>=0&&(k[_--]=D>>24&255),T=0,P=0):(T=D>>>24,P+=2)}if(_>=0)for(k[_--]=T;_>=0;)k[_--]=0},Math.clz32?s.prototype._countBits=function(k){return 32-Math.clz32(k)}:s.prototype._countBits=function(k){var C=k,_=0;return C>=4096&&(_+=13,C>>>=13),C>=64&&(_+=7,C>>>=7),C>=8&&(_+=4,C>>>=4),C>=2&&(_+=2,C>>>=2),_+C},s.prototype._zeroBits=function(k){if(k===0)return 26;var C=k,_=0;return C&8191||(_+=13,C>>>=13),C&127||(_+=7,C>>>=7),C&15||(_+=4,C>>>=4),C&3||(_+=2,C>>>=2),C&1||_++,_},s.prototype.bitLength=function(){var k=this.words[this.length-1],C=this._countBits(k);return(this.length-1)*26+C};function y(L){for(var k=new Array(L.bitLength()),C=0;C<k.length;C++){var _=C/26|0,T=C%26;k[C]=L.words[_]>>>T&1}return k}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,C=0;C<this.length;C++){var _=this._zeroBits(this.words[C]);if(k+=_,_!==26)break}return k},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},s.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var C=0;C<k.length;C++)this.words[C]=this.words[C]|k.words[C];return this._strip()},s.prototype.ior=function(k){return r((this.negative|k.negative)===0),this.iuor(k)},s.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},s.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},s.prototype.iuand=function(k){var C;this.length>k.length?C=k:C=this;for(var _=0;_<C.length;_++)this.words[_]=this.words[_]&k.words[_];return this.length=C.length,this._strip()},s.prototype.iand=function(k){return r((this.negative|k.negative)===0),this.iuand(k)},s.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},s.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},s.prototype.iuxor=function(k){var C,_;this.length>k.length?(C=this,_=k):(C=k,_=this);for(var T=0;T<_.length;T++)this.words[T]=C.words[T]^_.words[T];if(this!==C)for(;T<C.length;T++)this.words[T]=C.words[T];return this.length=C.length,this._strip()},s.prototype.ixor=function(k){return r((this.negative|k.negative)===0),this.iuxor(k)},s.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},s.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},s.prototype.inotn=function(k){r(typeof k=="number"&&k>=0);var C=Math.ceil(k/26)|0,_=k%26;this._expand(C),_>0&&C--;for(var T=0;T<C;T++)this.words[T]=~this.words[T]&67108863;return _>0&&(this.words[T]=~this.words[T]&67108863>>26-_),this._strip()},s.prototype.notn=function(k){return this.clone().inotn(k)},s.prototype.setn=function(k,C){r(typeof k=="number"&&k>=0);var _=k/26|0,T=k%26;return this._expand(_+1),C?this.words[_]=this.words[_]|1<<T:this.words[_]=this.words[_]&~(1<<T),this._strip()},s.prototype.iadd=function(k){var C;if(this.negative!==0&&k.negative===0)return this.negative=0,C=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,C=this.isub(k),k.negative=1,C._normSign();var _,T;this.length>k.length?(_=this,T=k):(_=k,T=this);for(var S=0,P=0;P<T.length;P++)C=(_.words[P]|0)+(T.words[P]|0)+S,this.words[P]=C&67108863,S=C>>>26;for(;S!==0&&P<_.length;P++)C=(_.words[P]|0)+S,this.words[P]=C&67108863,S=C>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;P<_.length;P++)this.words[P]=_.words[P];return this},s.prototype.add=function(k){var C;return k.negative!==0&&this.negative===0?(k.negative=0,C=this.sub(k),k.negative^=1,C):k.negative===0&&this.negative!==0?(this.negative=0,C=k.sub(this),this.negative=1,C):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},s.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var C=this.iadd(k);return k.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var _=this.cmp(k);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,S;_>0?(T=this,S=k):(T=k,S=this);for(var P=0,D=0;D<S.length;D++)C=(T.words[D]|0)-(S.words[D]|0)+P,P=C>>26,this.words[D]=C&67108863;for(;P!==0&&D<T.length;D++)C=(T.words[D]|0)+P,P=C>>26,this.words[D]=C&67108863;if(P===0&&D<T.length&&T!==this)for(;D<T.length;D++)this.words[D]=T.words[D];return this.length=Math.max(this.length,D),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(k){return this.clone().isub(k)};function w(L,k,C){C.negative=k.negative^L.negative;var _=L.length+k.length|0;C.length=_,_=_-1|0;var T=L.words[0]|0,S=k.words[0]|0,P=T*S,D=P&67108863,O=P/67108864|0;C.words[0]=D;for(var I=1;I<_;I++){for(var B=O>>>26,Q=O&67108863,j=Math.min(I,k.length-1),Y=Math.max(0,I-L.length+1);Y<=j;Y++){var ee=I-Y|0;T=L.words[ee]|0,S=k.words[Y]|0,P=T*S+Q,B+=P/67108864|0,Q=P&67108863}C.words[I]=Q|0,O=B|0}return O!==0?C.words[I]=O|0:C.length--,C._strip()}var v=function(k,C,_){var T=k.words,S=C.words,P=_.words,D=0,O,I,B,Q=T[0]|0,j=Q&8191,Y=Q>>>13,ee=T[1]|0,Z=ee&8191,oe=ee>>>13,de=T[2]|0,ce=de&8191,he=de>>>13,be=T[3]|0,fe=be&8191,ke=be>>>13,we=T[4]|0,Fe=we&8191,Me=we>>>13,Se=T[5]|0,ve=Se&8191,Oe=Se>>>13,Le=T[6]|0,Ce=Le&8191,De=Le>>>13,We=T[7]|0,rt=We&8191,G=We>>>13,U=T[8]|0,z=U&8191,X=U>>>13,ne=T[9]|0,ie=ne&8191,le=ne>>>13,Be=S[0]|0,Xe=Be&8191,Ke=Be>>>13,et=S[1]|0,Pe=et&8191,Tt=et>>>13,dn=S[2]|0,Bt=dn&8191,ze=dn>>>13,Ln=S[3]|0,vn=Ln&8191,ot=Ln>>>13,Qt=S[4]|0,q=Qt&8191,K=Qt>>>13,se=S[5]|0,re=se&8191,ae=se>>>13,ge=S[6]|0,$e=ge&8191,je=ge>>>13,Mt=S[7]|0,bt=Mt&8191,_t=Mt>>>13,rn=S[8]|0,Ye=rn&8191,ut=rn>>>13,at=S[9]|0,ct=at&8191,ht=at>>>13;_.negative=k.negative^C.negative,_.length=19,O=Math.imul(j,Xe),I=Math.imul(j,Ke),I=I+Math.imul(Y,Xe)|0,B=Math.imul(Y,Ke);var an=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(an>>>26)|0,an&=67108863,O=Math.imul(Z,Xe),I=Math.imul(Z,Ke),I=I+Math.imul(oe,Xe)|0,B=Math.imul(oe,Ke),O=O+Math.imul(j,Pe)|0,I=I+Math.imul(j,Tt)|0,I=I+Math.imul(Y,Pe)|0,B=B+Math.imul(Y,Tt)|0;var zn=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(zn>>>26)|0,zn&=67108863,O=Math.imul(ce,Xe),I=Math.imul(ce,Ke),I=I+Math.imul(he,Xe)|0,B=Math.imul(he,Ke),O=O+Math.imul(Z,Pe)|0,I=I+Math.imul(Z,Tt)|0,I=I+Math.imul(oe,Pe)|0,B=B+Math.imul(oe,Tt)|0,O=O+Math.imul(j,Bt)|0,I=I+Math.imul(j,ze)|0,I=I+Math.imul(Y,Bt)|0,B=B+Math.imul(Y,ze)|0;var Ht=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,O=Math.imul(fe,Xe),I=Math.imul(fe,Ke),I=I+Math.imul(ke,Xe)|0,B=Math.imul(ke,Ke),O=O+Math.imul(ce,Pe)|0,I=I+Math.imul(ce,Tt)|0,I=I+Math.imul(he,Pe)|0,B=B+Math.imul(he,Tt)|0,O=O+Math.imul(Z,Bt)|0,I=I+Math.imul(Z,ze)|0,I=I+Math.imul(oe,Bt)|0,B=B+Math.imul(oe,ze)|0,O=O+Math.imul(j,vn)|0,I=I+Math.imul(j,ot)|0,I=I+Math.imul(Y,vn)|0,B=B+Math.imul(Y,ot)|0;var Lt=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,O=Math.imul(Fe,Xe),I=Math.imul(Fe,Ke),I=I+Math.imul(Me,Xe)|0,B=Math.imul(Me,Ke),O=O+Math.imul(fe,Pe)|0,I=I+Math.imul(fe,Tt)|0,I=I+Math.imul(ke,Pe)|0,B=B+Math.imul(ke,Tt)|0,O=O+Math.imul(ce,Bt)|0,I=I+Math.imul(ce,ze)|0,I=I+Math.imul(he,Bt)|0,B=B+Math.imul(he,ze)|0,O=O+Math.imul(Z,vn)|0,I=I+Math.imul(Z,ot)|0,I=I+Math.imul(oe,vn)|0,B=B+Math.imul(oe,ot)|0,O=O+Math.imul(j,q)|0,I=I+Math.imul(j,K)|0,I=I+Math.imul(Y,q)|0,B=B+Math.imul(Y,K)|0;var xn=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(xn>>>26)|0,xn&=67108863,O=Math.imul(ve,Xe),I=Math.imul(ve,Ke),I=I+Math.imul(Oe,Xe)|0,B=Math.imul(Oe,Ke),O=O+Math.imul(Fe,Pe)|0,I=I+Math.imul(Fe,Tt)|0,I=I+Math.imul(Me,Pe)|0,B=B+Math.imul(Me,Tt)|0,O=O+Math.imul(fe,Bt)|0,I=I+Math.imul(fe,ze)|0,I=I+Math.imul(ke,Bt)|0,B=B+Math.imul(ke,ze)|0,O=O+Math.imul(ce,vn)|0,I=I+Math.imul(ce,ot)|0,I=I+Math.imul(he,vn)|0,B=B+Math.imul(he,ot)|0,O=O+Math.imul(Z,q)|0,I=I+Math.imul(Z,K)|0,I=I+Math.imul(oe,q)|0,B=B+Math.imul(oe,K)|0,O=O+Math.imul(j,re)|0,I=I+Math.imul(j,ae)|0,I=I+Math.imul(Y,re)|0,B=B+Math.imul(Y,ae)|0;var ii=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(ii>>>26)|0,ii&=67108863,O=Math.imul(Ce,Xe),I=Math.imul(Ce,Ke),I=I+Math.imul(De,Xe)|0,B=Math.imul(De,Ke),O=O+Math.imul(ve,Pe)|0,I=I+Math.imul(ve,Tt)|0,I=I+Math.imul(Oe,Pe)|0,B=B+Math.imul(Oe,Tt)|0,O=O+Math.imul(Fe,Bt)|0,I=I+Math.imul(Fe,ze)|0,I=I+Math.imul(Me,Bt)|0,B=B+Math.imul(Me,ze)|0,O=O+Math.imul(fe,vn)|0,I=I+Math.imul(fe,ot)|0,I=I+Math.imul(ke,vn)|0,B=B+Math.imul(ke,ot)|0,O=O+Math.imul(ce,q)|0,I=I+Math.imul(ce,K)|0,I=I+Math.imul(he,q)|0,B=B+Math.imul(he,K)|0,O=O+Math.imul(Z,re)|0,I=I+Math.imul(Z,ae)|0,I=I+Math.imul(oe,re)|0,B=B+Math.imul(oe,ae)|0,O=O+Math.imul(j,$e)|0,I=I+Math.imul(j,je)|0,I=I+Math.imul(Y,$e)|0,B=B+Math.imul(Y,je)|0;var ac=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(ac>>>26)|0,ac&=67108863,O=Math.imul(rt,Xe),I=Math.imul(rt,Ke),I=I+Math.imul(G,Xe)|0,B=Math.imul(G,Ke),O=O+Math.imul(Ce,Pe)|0,I=I+Math.imul(Ce,Tt)|0,I=I+Math.imul(De,Pe)|0,B=B+Math.imul(De,Tt)|0,O=O+Math.imul(ve,Bt)|0,I=I+Math.imul(ve,ze)|0,I=I+Math.imul(Oe,Bt)|0,B=B+Math.imul(Oe,ze)|0,O=O+Math.imul(Fe,vn)|0,I=I+Math.imul(Fe,ot)|0,I=I+Math.imul(Me,vn)|0,B=B+Math.imul(Me,ot)|0,O=O+Math.imul(fe,q)|0,I=I+Math.imul(fe,K)|0,I=I+Math.imul(ke,q)|0,B=B+Math.imul(ke,K)|0,O=O+Math.imul(ce,re)|0,I=I+Math.imul(ce,ae)|0,I=I+Math.imul(he,re)|0,B=B+Math.imul(he,ae)|0,O=O+Math.imul(Z,$e)|0,I=I+Math.imul(Z,je)|0,I=I+Math.imul(oe,$e)|0,B=B+Math.imul(oe,je)|0,O=O+Math.imul(j,bt)|0,I=I+Math.imul(j,_t)|0,I=I+Math.imul(Y,bt)|0,B=B+Math.imul(Y,_t)|0;var qt=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(qt>>>26)|0,qt&=67108863,O=Math.imul(z,Xe),I=Math.imul(z,Ke),I=I+Math.imul(X,Xe)|0,B=Math.imul(X,Ke),O=O+Math.imul(rt,Pe)|0,I=I+Math.imul(rt,Tt)|0,I=I+Math.imul(G,Pe)|0,B=B+Math.imul(G,Tt)|0,O=O+Math.imul(Ce,Bt)|0,I=I+Math.imul(Ce,ze)|0,I=I+Math.imul(De,Bt)|0,B=B+Math.imul(De,ze)|0,O=O+Math.imul(ve,vn)|0,I=I+Math.imul(ve,ot)|0,I=I+Math.imul(Oe,vn)|0,B=B+Math.imul(Oe,ot)|0,O=O+Math.imul(Fe,q)|0,I=I+Math.imul(Fe,K)|0,I=I+Math.imul(Me,q)|0,B=B+Math.imul(Me,K)|0,O=O+Math.imul(fe,re)|0,I=I+Math.imul(fe,ae)|0,I=I+Math.imul(ke,re)|0,B=B+Math.imul(ke,ae)|0,O=O+Math.imul(ce,$e)|0,I=I+Math.imul(ce,je)|0,I=I+Math.imul(he,$e)|0,B=B+Math.imul(he,je)|0,O=O+Math.imul(Z,bt)|0,I=I+Math.imul(Z,_t)|0,I=I+Math.imul(oe,bt)|0,B=B+Math.imul(oe,_t)|0,O=O+Math.imul(j,Ye)|0,I=I+Math.imul(j,ut)|0,I=I+Math.imul(Y,Ye)|0,B=B+Math.imul(Y,ut)|0;var wr=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(wr>>>26)|0,wr&=67108863,O=Math.imul(ie,Xe),I=Math.imul(ie,Ke),I=I+Math.imul(le,Xe)|0,B=Math.imul(le,Ke),O=O+Math.imul(z,Pe)|0,I=I+Math.imul(z,Tt)|0,I=I+Math.imul(X,Pe)|0,B=B+Math.imul(X,Tt)|0,O=O+Math.imul(rt,Bt)|0,I=I+Math.imul(rt,ze)|0,I=I+Math.imul(G,Bt)|0,B=B+Math.imul(G,ze)|0,O=O+Math.imul(Ce,vn)|0,I=I+Math.imul(Ce,ot)|0,I=I+Math.imul(De,vn)|0,B=B+Math.imul(De,ot)|0,O=O+Math.imul(ve,q)|0,I=I+Math.imul(ve,K)|0,I=I+Math.imul(Oe,q)|0,B=B+Math.imul(Oe,K)|0,O=O+Math.imul(Fe,re)|0,I=I+Math.imul(Fe,ae)|0,I=I+Math.imul(Me,re)|0,B=B+Math.imul(Me,ae)|0,O=O+Math.imul(fe,$e)|0,I=I+Math.imul(fe,je)|0,I=I+Math.imul(ke,$e)|0,B=B+Math.imul(ke,je)|0,O=O+Math.imul(ce,bt)|0,I=I+Math.imul(ce,_t)|0,I=I+Math.imul(he,bt)|0,B=B+Math.imul(he,_t)|0,O=O+Math.imul(Z,Ye)|0,I=I+Math.imul(Z,ut)|0,I=I+Math.imul(oe,Ye)|0,B=B+Math.imul(oe,ut)|0,O=O+Math.imul(j,ct)|0,I=I+Math.imul(j,ht)|0,I=I+Math.imul(Y,ct)|0,B=B+Math.imul(Y,ht)|0;var en=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(en>>>26)|0,en&=67108863,O=Math.imul(ie,Pe),I=Math.imul(ie,Tt),I=I+Math.imul(le,Pe)|0,B=Math.imul(le,Tt),O=O+Math.imul(z,Bt)|0,I=I+Math.imul(z,ze)|0,I=I+Math.imul(X,Bt)|0,B=B+Math.imul(X,ze)|0,O=O+Math.imul(rt,vn)|0,I=I+Math.imul(rt,ot)|0,I=I+Math.imul(G,vn)|0,B=B+Math.imul(G,ot)|0,O=O+Math.imul(Ce,q)|0,I=I+Math.imul(Ce,K)|0,I=I+Math.imul(De,q)|0,B=B+Math.imul(De,K)|0,O=O+Math.imul(ve,re)|0,I=I+Math.imul(ve,ae)|0,I=I+Math.imul(Oe,re)|0,B=B+Math.imul(Oe,ae)|0,O=O+Math.imul(Fe,$e)|0,I=I+Math.imul(Fe,je)|0,I=I+Math.imul(Me,$e)|0,B=B+Math.imul(Me,je)|0,O=O+Math.imul(fe,bt)|0,I=I+Math.imul(fe,_t)|0,I=I+Math.imul(ke,bt)|0,B=B+Math.imul(ke,_t)|0,O=O+Math.imul(ce,Ye)|0,I=I+Math.imul(ce,ut)|0,I=I+Math.imul(he,Ye)|0,B=B+Math.imul(he,ut)|0,O=O+Math.imul(Z,ct)|0,I=I+Math.imul(Z,ht)|0,I=I+Math.imul(oe,ct)|0,B=B+Math.imul(oe,ht)|0;var Ir=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,O=Math.imul(ie,Bt),I=Math.imul(ie,ze),I=I+Math.imul(le,Bt)|0,B=Math.imul(le,ze),O=O+Math.imul(z,vn)|0,I=I+Math.imul(z,ot)|0,I=I+Math.imul(X,vn)|0,B=B+Math.imul(X,ot)|0,O=O+Math.imul(rt,q)|0,I=I+Math.imul(rt,K)|0,I=I+Math.imul(G,q)|0,B=B+Math.imul(G,K)|0,O=O+Math.imul(Ce,re)|0,I=I+Math.imul(Ce,ae)|0,I=I+Math.imul(De,re)|0,B=B+Math.imul(De,ae)|0,O=O+Math.imul(ve,$e)|0,I=I+Math.imul(ve,je)|0,I=I+Math.imul(Oe,$e)|0,B=B+Math.imul(Oe,je)|0,O=O+Math.imul(Fe,bt)|0,I=I+Math.imul(Fe,_t)|0,I=I+Math.imul(Me,bt)|0,B=B+Math.imul(Me,_t)|0,O=O+Math.imul(fe,Ye)|0,I=I+Math.imul(fe,ut)|0,I=I+Math.imul(ke,Ye)|0,B=B+Math.imul(ke,ut)|0,O=O+Math.imul(ce,ct)|0,I=I+Math.imul(ce,ht)|0,I=I+Math.imul(he,ct)|0,B=B+Math.imul(he,ht)|0;var Xs=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,O=Math.imul(ie,vn),I=Math.imul(ie,ot),I=I+Math.imul(le,vn)|0,B=Math.imul(le,ot),O=O+Math.imul(z,q)|0,I=I+Math.imul(z,K)|0,I=I+Math.imul(X,q)|0,B=B+Math.imul(X,K)|0,O=O+Math.imul(rt,re)|0,I=I+Math.imul(rt,ae)|0,I=I+Math.imul(G,re)|0,B=B+Math.imul(G,ae)|0,O=O+Math.imul(Ce,$e)|0,I=I+Math.imul(Ce,je)|0,I=I+Math.imul(De,$e)|0,B=B+Math.imul(De,je)|0,O=O+Math.imul(ve,bt)|0,I=I+Math.imul(ve,_t)|0,I=I+Math.imul(Oe,bt)|0,B=B+Math.imul(Oe,_t)|0,O=O+Math.imul(Fe,Ye)|0,I=I+Math.imul(Fe,ut)|0,I=I+Math.imul(Me,Ye)|0,B=B+Math.imul(Me,ut)|0,O=O+Math.imul(fe,ct)|0,I=I+Math.imul(fe,ht)|0,I=I+Math.imul(ke,ct)|0,B=B+Math.imul(ke,ht)|0;var lc=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(lc>>>26)|0,lc&=67108863,O=Math.imul(ie,q),I=Math.imul(ie,K),I=I+Math.imul(le,q)|0,B=Math.imul(le,K),O=O+Math.imul(z,re)|0,I=I+Math.imul(z,ae)|0,I=I+Math.imul(X,re)|0,B=B+Math.imul(X,ae)|0,O=O+Math.imul(rt,$e)|0,I=I+Math.imul(rt,je)|0,I=I+Math.imul(G,$e)|0,B=B+Math.imul(G,je)|0,O=O+Math.imul(Ce,bt)|0,I=I+Math.imul(Ce,_t)|0,I=I+Math.imul(De,bt)|0,B=B+Math.imul(De,_t)|0,O=O+Math.imul(ve,Ye)|0,I=I+Math.imul(ve,ut)|0,I=I+Math.imul(Oe,Ye)|0,B=B+Math.imul(Oe,ut)|0,O=O+Math.imul(Fe,ct)|0,I=I+Math.imul(Fe,ht)|0,I=I+Math.imul(Me,ct)|0,B=B+Math.imul(Me,ht)|0;var ul=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(ul>>>26)|0,ul&=67108863,O=Math.imul(ie,re),I=Math.imul(ie,ae),I=I+Math.imul(le,re)|0,B=Math.imul(le,ae),O=O+Math.imul(z,$e)|0,I=I+Math.imul(z,je)|0,I=I+Math.imul(X,$e)|0,B=B+Math.imul(X,je)|0,O=O+Math.imul(rt,bt)|0,I=I+Math.imul(rt,_t)|0,I=I+Math.imul(G,bt)|0,B=B+Math.imul(G,_t)|0,O=O+Math.imul(Ce,Ye)|0,I=I+Math.imul(Ce,ut)|0,I=I+Math.imul(De,Ye)|0,B=B+Math.imul(De,ut)|0,O=O+Math.imul(ve,ct)|0,I=I+Math.imul(ve,ht)|0,I=I+Math.imul(Oe,ct)|0,B=B+Math.imul(Oe,ht)|0;var n5=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(n5>>>26)|0,n5&=67108863,O=Math.imul(ie,$e),I=Math.imul(ie,je),I=I+Math.imul(le,$e)|0,B=Math.imul(le,je),O=O+Math.imul(z,bt)|0,I=I+Math.imul(z,_t)|0,I=I+Math.imul(X,bt)|0,B=B+Math.imul(X,_t)|0,O=O+Math.imul(rt,Ye)|0,I=I+Math.imul(rt,ut)|0,I=I+Math.imul(G,Ye)|0,B=B+Math.imul(G,ut)|0,O=O+Math.imul(Ce,ct)|0,I=I+Math.imul(Ce,ht)|0,I=I+Math.imul(De,ct)|0,B=B+Math.imul(De,ht)|0;var r5=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(r5>>>26)|0,r5&=67108863,O=Math.imul(ie,bt),I=Math.imul(ie,_t),I=I+Math.imul(le,bt)|0,B=Math.imul(le,_t),O=O+Math.imul(z,Ye)|0,I=I+Math.imul(z,ut)|0,I=I+Math.imul(X,Ye)|0,B=B+Math.imul(X,ut)|0,O=O+Math.imul(rt,ct)|0,I=I+Math.imul(rt,ht)|0,I=I+Math.imul(G,ct)|0,B=B+Math.imul(G,ht)|0;var nP=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(nP>>>26)|0,nP&=67108863,O=Math.imul(ie,Ye),I=Math.imul(ie,ut),I=I+Math.imul(le,Ye)|0,B=Math.imul(le,ut),O=O+Math.imul(z,ct)|0,I=I+Math.imul(z,ht)|0,I=I+Math.imul(X,ct)|0,B=B+Math.imul(X,ht)|0;var rP=(D+O|0)+((I&8191)<<13)|0;D=(B+(I>>>13)|0)+(rP>>>26)|0,rP&=67108863,O=Math.imul(ie,ct),I=Math.imul(ie,ht),I=I+Math.imul(le,ct)|0,B=Math.imul(le,ht);var iP=(D+O|0)+((I&8191)<<13)|0;return D=(B+(I>>>13)|0)+(iP>>>26)|0,iP&=67108863,P[0]=an,P[1]=zn,P[2]=Ht,P[3]=Lt,P[4]=xn,P[5]=ii,P[6]=ac,P[7]=qt,P[8]=wr,P[9]=en,P[10]=Ir,P[11]=Xs,P[12]=lc,P[13]=ul,P[14]=n5,P[15]=r5,P[16]=nP,P[17]=rP,P[18]=iP,D!==0&&(P[19]=D,_.length++),_};Math.imul||(v=w);function b(L,k,C){C.negative=k.negative^L.negative,C.length=L.length+k.length;for(var _=0,T=0,S=0;S<C.length-1;S++){var P=T;T=0;for(var D=_&67108863,O=Math.min(S,k.length-1),I=Math.max(0,S-L.length+1);I<=O;I++){var B=S-I,Q=L.words[B]|0,j=k.words[I]|0,Y=Q*j,ee=Y&67108863;P=P+(Y/67108864|0)|0,ee=ee+D|0,D=ee&67108863,P=P+(ee>>>26)|0,T+=P>>>26,P&=67108863}C.words[S]=D,_=P,P=T}return _!==0?C.words[S]=_:C.length--,C._strip()}function A(L,k,C){return b(L,k,C)}s.prototype.mulTo=function(k,C){var _,T=this.length+k.length;return this.length===10&&k.length===10?_=v(this,k,C):T<63?_=w(this,k,C):T<1024?_=b(this,k,C):_=A(this,k,C),_},s.prototype.mul=function(k){var C=new s(null);return C.words=new Array(this.length+k.length),this.mulTo(k,C)},s.prototype.mulf=function(k){var C=new s(null);return C.words=new Array(this.length+k.length),A(this,k,C)},s.prototype.imul=function(k){return this.clone().mulTo(k,this)},s.prototype.imuln=function(k){var C=k<0;C&&(k=-k),r(typeof k=="number"),r(k<67108864);for(var _=0,T=0;T<this.length;T++){var S=(this.words[T]|0)*k,P=(S&67108863)+(_&67108863);_>>=26,_+=S/67108864|0,_+=P>>>26,this.words[T]=P&67108863}return _!==0&&(this.words[T]=_,this.length++),this.length=k===0?1:this.length,C?this.ineg():this},s.prototype.muln=function(k){return this.clone().imuln(k)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(k){var C=y(k);if(C.length===0)return new s(1);for(var _=this,T=0;T<C.length&&C[T]===0;T++,_=_.sqr());if(++T<C.length)for(var S=_.sqr();T<C.length;T++,S=S.sqr())C[T]!==0&&(_=_.mul(S));return _},s.prototype.iushln=function(k){r(typeof k=="number"&&k>=0);var C=k%26,_=(k-C)/26,T=67108863>>>26-C<<26-C,S;if(C!==0){var P=0;for(S=0;S<this.length;S++){var D=this.words[S]&T,O=(this.words[S]|0)-D<<C;this.words[S]=O|P,P=D>>>26-C}P&&(this.words[S]=P,this.length++)}if(_!==0){for(S=this.length-1;S>=0;S--)this.words[S+_]=this.words[S];for(S=0;S<_;S++)this.words[S]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(k){return r(this.negative===0),this.iushln(k)},s.prototype.iushrn=function(k,C,_){r(typeof k=="number"&&k>=0);var T;C?T=(C-C%26)/26:T=0;var S=k%26,P=Math.min((k-S)/26,this.length),D=67108863^67108863>>>S<<S,O=_;if(T-=P,T=Math.max(0,T),O){for(var I=0;I<P;I++)O.words[I]=this.words[I];O.length=P}if(P!==0)if(this.length>P)for(this.length-=P,I=0;I<this.length;I++)this.words[I]=this.words[I+P];else this.words[0]=0,this.length=1;var B=0;for(I=this.length-1;I>=0&&(B!==0||I>=T);I--){var Q=this.words[I]|0;this.words[I]=B<<26-S|Q>>>S,B=Q&D}return O&&B!==0&&(O.words[O.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(k,C,_){return r(this.negative===0),this.iushrn(k,C,_)},s.prototype.shln=function(k){return this.clone().ishln(k)},s.prototype.ushln=function(k){return this.clone().iushln(k)},s.prototype.shrn=function(k){return this.clone().ishrn(k)},s.prototype.ushrn=function(k){return this.clone().iushrn(k)},s.prototype.testn=function(k){r(typeof k=="number"&&k>=0);var C=k%26,_=(k-C)/26,T=1<<C;if(this.length<=_)return!1;var S=this.words[_];return!!(S&T)},s.prototype.imaskn=function(k){r(typeof k=="number"&&k>=0);var C=k%26,_=(k-C)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(C!==0&&_++,this.length=Math.min(_,this.length),C!==0){var T=67108863^67108863>>>C<<C;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(k){return this.clone().imaskn(k)},s.prototype.iaddn=function(k){return r(typeof k=="number"),r(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<=k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},s.prototype._iaddn=function(k){this.words[0]+=k;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},s.prototype.isubn=function(k){if(r(typeof k=="number"),r(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},s.prototype.addn=function(k){return this.clone().iaddn(k)},s.prototype.subn=function(k){return this.clone().isubn(k)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(k,C,_){var T=k.length+_,S;this._expand(T);var P,D=0;for(S=0;S<k.length;S++){P=(this.words[S+_]|0)+D;var O=(k.words[S]|0)*C;P-=O&67108863,D=(P>>26)-(O/67108864|0),this.words[S+_]=P&67108863}for(;S<this.length-_;S++)P=(this.words[S+_]|0)+D,D=P>>26,this.words[S+_]=P&67108863;if(D===0)return this._strip();for(r(D===-1),D=0,S=0;S<this.length;S++)P=-(this.words[S]|0)+D,D=P>>26,this.words[S]=P&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(k,C){var _=this.length-k.length,T=this.clone(),S=k,P=S.words[S.length-1]|0,D=this._countBits(P);_=26-D,_!==0&&(S=S.ushln(_),T.iushln(_),P=S.words[S.length-1]|0);var O=T.length-S.length,I;if(C!=="mod"){I=new s(null),I.length=O+1,I.words=new Array(I.length);for(var B=0;B<I.length;B++)I.words[B]=0}var Q=T.clone()._ishlnsubmul(S,1,O);Q.negative===0&&(T=Q,I&&(I.words[O]=1));for(var j=O-1;j>=0;j--){var Y=(T.words[S.length+j]|0)*67108864+(T.words[S.length+j-1]|0);for(Y=Math.min(Y/P|0,67108863),T._ishlnsubmul(S,Y,j);T.negative!==0;)Y--,T.negative=0,T._ishlnsubmul(S,1,j),T.isZero()||(T.negative^=1);I&&(I.words[j]=Y)}return I&&I._strip(),T._strip(),C!=="div"&&_!==0&&T.iushrn(_),{div:I||null,mod:T}},s.prototype.divmod=function(k,C,_){if(r(!k.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,S,P;return this.negative!==0&&k.negative===0?(P=this.neg().divmod(k,C),C!=="mod"&&(T=P.div.neg()),C!=="div"&&(S=P.mod.neg(),_&&S.negative!==0&&S.iadd(k)),{div:T,mod:S}):this.negative===0&&k.negative!==0?(P=this.divmod(k.neg(),C),C!=="mod"&&(T=P.div.neg()),{div:T,mod:P.mod}):this.negative&k.negative?(P=this.neg().divmod(k.neg(),C),C!=="div"&&(S=P.mod.neg(),_&&S.negative!==0&&S.isub(k)),{div:P.div,mod:S}):k.length>this.length||this.cmp(k)<0?{div:new s(0),mod:this}:k.length===1?C==="div"?{div:this.divn(k.words[0]),mod:null}:C==="mod"?{div:null,mod:new s(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new s(this.modrn(k.words[0]))}:this._wordDiv(k,C)},s.prototype.div=function(k){return this.divmod(k,"div",!1).div},s.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},s.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},s.prototype.divRound=function(k){var C=this.divmod(k);if(C.mod.isZero())return C.div;var _=C.div.negative!==0?C.mod.isub(k):C.mod,T=k.ushrn(1),S=k.andln(1),P=_.cmp(T);return P<0||S===1&&P===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},s.prototype.modrn=function(k){var C=k<0;C&&(k=-k),r(k<=67108863);for(var _=(1<<26)%k,T=0,S=this.length-1;S>=0;S--)T=(_*T+(this.words[S]|0))%k;return C?-T:T},s.prototype.modn=function(k){return this.modrn(k)},s.prototype.idivn=function(k){var C=k<0;C&&(k=-k),r(k<=67108863);for(var _=0,T=this.length-1;T>=0;T--){var S=(this.words[T]|0)+_*67108864;this.words[T]=S/k|0,_=S%k}return this._strip(),C?this.ineg():this},s.prototype.divn=function(k){return this.clone().idivn(k)},s.prototype.egcd=function(k){r(k.negative===0),r(!k.isZero());var C=this,_=k.clone();C.negative!==0?C=C.umod(k):C=C.clone();for(var T=new s(1),S=new s(0),P=new s(0),D=new s(1),O=0;C.isEven()&&_.isEven();)C.iushrn(1),_.iushrn(1),++O;for(var I=_.clone(),B=C.clone();!C.isZero();){for(var Q=0,j=1;!(C.words[0]&j)&&Q<26;++Q,j<<=1);if(Q>0)for(C.iushrn(Q);Q-- >0;)(T.isOdd()||S.isOdd())&&(T.iadd(I),S.isub(B)),T.iushrn(1),S.iushrn(1);for(var Y=0,ee=1;!(_.words[0]&ee)&&Y<26;++Y,ee<<=1);if(Y>0)for(_.iushrn(Y);Y-- >0;)(P.isOdd()||D.isOdd())&&(P.iadd(I),D.isub(B)),P.iushrn(1),D.iushrn(1);C.cmp(_)>=0?(C.isub(_),T.isub(P),S.isub(D)):(_.isub(C),P.isub(T),D.isub(S))}return{a:P,b:D,gcd:_.iushln(O)}},s.prototype._invmp=function(k){r(k.negative===0),r(!k.isZero());var C=this,_=k.clone();C.negative!==0?C=C.umod(k):C=C.clone();for(var T=new s(1),S=new s(0),P=_.clone();C.cmpn(1)>0&&_.cmpn(1)>0;){for(var D=0,O=1;!(C.words[0]&O)&&D<26;++D,O<<=1);if(D>0)for(C.iushrn(D);D-- >0;)T.isOdd()&&T.iadd(P),T.iushrn(1);for(var I=0,B=1;!(_.words[0]&B)&&I<26;++I,B<<=1);if(I>0)for(_.iushrn(I);I-- >0;)S.isOdd()&&S.iadd(P),S.iushrn(1);C.cmp(_)>=0?(C.isub(_),T.isub(S)):(_.isub(C),S.isub(T))}var Q;return C.cmpn(1)===0?Q=T:Q=S,Q.cmpn(0)<0&&Q.iadd(k),Q},s.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var C=this.clone(),_=k.clone();C.negative=0,_.negative=0;for(var T=0;C.isEven()&&_.isEven();T++)C.iushrn(1),_.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=C.cmp(_);if(S<0){var P=C;C=_,_=P}else if(S===0||_.cmpn(1)===0)break;C.isub(_)}while(!0);return _.iushln(T)},s.prototype.invm=function(k){return this.egcd(k).a.umod(k)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(k){return this.words[0]&k},s.prototype.bincn=function(k){r(typeof k=="number");var C=k%26,_=(k-C)/26,T=1<<C;if(this.length<=_)return this._expand(_+1),this.words[_]|=T,this;for(var S=T,P=_;S!==0&&P<this.length;P++){var D=this.words[P]|0;D+=S,S=D>>>26,D&=67108863,this.words[P]=D}return S!==0&&(this.words[P]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(k){var C=k<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var _;if(this.length>1)_=1;else{C&&(k=-k),r(k<=67108863,"Number is too big");var T=this.words[0]|0;_=T===k?0:T<k?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var C=this.ucmp(k);return this.negative!==0?-C|0:C},s.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var C=0,_=this.length-1;_>=0;_--){var T=this.words[_]|0,S=k.words[_]|0;if(T!==S){T<S?C=-1:T>S&&(C=1);break}}return C},s.prototype.gtn=function(k){return this.cmpn(k)===1},s.prototype.gt=function(k){return this.cmp(k)===1},s.prototype.gten=function(k){return this.cmpn(k)>=0},s.prototype.gte=function(k){return this.cmp(k)>=0},s.prototype.ltn=function(k){return this.cmpn(k)===-1},s.prototype.lt=function(k){return this.cmp(k)===-1},s.prototype.lten=function(k){return this.cmpn(k)<=0},s.prototype.lte=function(k){return this.cmp(k)<=0},s.prototype.eqn=function(k){return this.cmpn(k)===0},s.prototype.eq=function(k){return this.cmp(k)===0},s.red=function(k){return new W(k)},s.prototype.toRed=function(k){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(k){return this.red=k,this},s.prototype.forceRed=function(k){return r(!this.red,"Already a number in reduction context"),this._forceRed(k)},s.prototype.redAdd=function(k){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},s.prototype.redIAdd=function(k){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},s.prototype.redSub=function(k){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},s.prototype.redISub=function(k){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},s.prototype.redShl=function(k){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},s.prototype.redMul=function(k){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},s.prototype.redIMul=function(k){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(k){return r(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var E={k256:null,p224:null,p192:null,p25519:null};function $(L,k){this.name=L,this.p=new s(k,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var k=new s(null);return k.words=new Array(Math.ceil(this.n/13)),k},$.prototype.ireduce=function(k){var C=k,_;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),_=C.bitLength();while(_>this.n);var T=_<this.n?-1:C.ucmp(this.p);return T===0?(C.words[0]=0,C.length=1):T>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},$.prototype.split=function(k,C){k.iushrn(this.n,0,C)},$.prototype.imulK=function(k){return k.imul(this.k)};function N(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,$),N.prototype.split=function(k,C){for(var _=4194303,T=Math.min(k.length,9),S=0;S<T;S++)C.words[S]=k.words[S];if(C.length=T,k.length<=9){k.words[0]=0,k.length=1;return}var P=k.words[9];for(C.words[C.length++]=P&_,S=10;S<k.length;S++){var D=k.words[S]|0;k.words[S-10]=(D&_)<<4|P>>>22,P=D}P>>>=22,k.words[S-10]=P,P===0&&k.length>10?k.length-=10:k.length-=9},N.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var C=0,_=0;_<k.length;_++){var T=k.words[_]|0;C+=T*977,k.words[_]=C&67108863,C=T*64+(C/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function R(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,$);function M(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(M,$);function F(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,$),F.prototype.imulK=function(k){for(var C=0,_=0;_<k.length;_++){var T=(k.words[_]|0)*19+C,S=T&67108863;T>>>=26,k.words[_]=S,C=T}return C!==0&&(k.words[k.length++]=C),k},s._prime=function(k){if(E[k])return E[k];var C;if(k==="k256")C=new N;else if(k==="p224")C=new R;else if(k==="p192")C=new M;else if(k==="p25519")C=new F;else throw new Error("Unknown prime "+k);return E[k]=C,C};function W(L){if(typeof L=="string"){var k=s._prime(L);this.m=k.p,this.prime=k}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}W.prototype._verify1=function(k){r(k.negative===0,"red works only with positives"),r(k.red,"red works only with red numbers")},W.prototype._verify2=function(k,C){r((k.negative|C.negative)===0,"red works only with positives"),r(k.red&&k.red===C.red,"red works only with red numbers")},W.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(u(k,k.umod(this.m)._forceRed(this)),k)},W.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},W.prototype.add=function(k,C){this._verify2(k,C);var _=k.add(C);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},W.prototype.iadd=function(k,C){this._verify2(k,C);var _=k.iadd(C);return _.cmp(this.m)>=0&&_.isub(this.m),_},W.prototype.sub=function(k,C){this._verify2(k,C);var _=k.sub(C);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},W.prototype.isub=function(k,C){this._verify2(k,C);var _=k.isub(C);return _.cmpn(0)<0&&_.iadd(this.m),_},W.prototype.shl=function(k,C){return this._verify1(k),this.imod(k.ushln(C))},W.prototype.imul=function(k,C){return this._verify2(k,C),this.imod(k.imul(C))},W.prototype.mul=function(k,C){return this._verify2(k,C),this.imod(k.mul(C))},W.prototype.isqr=function(k){return this.imul(k,k.clone())},W.prototype.sqr=function(k){return this.mul(k,k)},W.prototype.sqrt=function(k){if(k.isZero())return k.clone();var C=this.m.andln(3);if(r(C%2===1),C===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(k,_)}for(var T=this.m.subn(1),S=0;!T.isZero()&&T.andln(1)===0;)S++,T.iushrn(1);r(!T.isZero());var P=new s(1).toRed(this),D=P.redNeg(),O=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,O).cmp(D)!==0;)I.redIAdd(D);for(var B=this.pow(I,T),Q=this.pow(k,T.addn(1).iushrn(1)),j=this.pow(k,T),Y=S;j.cmp(P)!==0;){for(var ee=j,Z=0;ee.cmp(P)!==0;Z++)ee=ee.redSqr();r(Z<Y);var oe=this.pow(B,new s(1).iushln(Y-Z-1));Q=Q.redMul(oe),B=oe.redSqr(),j=j.redMul(B),Y=Z}return Q},W.prototype.invm=function(k){var C=k._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},W.prototype.pow=function(k,C){if(C.isZero())return new s(1).toRed(this);if(C.cmpn(1)===0)return k.clone();var _=4,T=new Array(1<<_);T[0]=new s(1).toRed(this),T[1]=k;for(var S=2;S<T.length;S++)T[S]=this.mul(T[S-1],k);var P=T[0],D=0,O=0,I=C.bitLength()%26;for(I===0&&(I=26),S=C.length-1;S>=0;S--){for(var B=C.words[S],Q=I-1;Q>=0;Q--){var j=B>>Q&1;if(P!==T[0]&&(P=this.sqr(P)),j===0&&D===0){O=0;continue}D<<=1,D|=j,O++,!(O!==_&&(S!==0||Q!==0))&&(P=this.mul(P,T[D]),O=0,D=0)}I=26}return P},W.prototype.convertTo=function(k){var C=k.umod(this.m);return C===k?C.clone():C},W.prototype.convertFrom=function(k){var C=k.clone();return C.red=null,C},s.mont=function(k){return new H(k)};function H(L){W.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,W),H.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},H.prototype.convertFrom=function(k){var C=this.imod(k.mul(this.rinv));return C.red=null,C},H.prototype.imul=function(k,C){if(k.isZero()||C.isZero())return k.words[0]=0,k.length=1,k;var _=k.imul(C),T=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(T).iushrn(this.shift),P=S;return S.cmp(this.m)>=0?P=S.isub(this.m):S.cmpn(0)<0&&(P=S.iadd(this.m)),P._forceRed(this)},H.prototype.mul=function(k,C){if(k.isZero()||C.isZero())return new s(0)._forceRed(this);var _=k.mul(C),T=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(T).iushrn(this.shift),P=S;return S.cmp(this.m)>=0?P=S.isub(this.m):S.cmpn(0)<0&&(P=S.iadd(this.m)),P._forceRed(this)},H.prototype.invm=function(k){var C=this.imod(k._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,Wl)})(kV);var m1e=kV.exports;const zt=Gs(m1e),pJe="bytes/5.8.0",ai=new Re(pJe);function g1e(t){return!!t.toHexString}function Lv(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Lv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function _V(t){return yr(t)&&!(t.length%2)||S3(t)}function mee(t){return typeof t=="number"&&t==t&&t%1===0}function S3(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!mee(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!mee(n)||n<0||n>=256)return!1}return!0}function un(t,e){if(e||(e={}),typeof t=="number"){ai.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Lv(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),g1e(t)&&(t=t.toHexString()),yr(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":ai.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Lv(new Uint8Array(r))}return S3(t)?Lv(new Uint8Array(t)):ai.throwArgumentError("invalid arrayify value","value",t)}function Ey(t){const e=t.map(i=>un(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Lv(r)}function Ax(t){let e=un(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function mJe(t,e){t=un(t),t.length>e&&ai.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Lv(n)}function yr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const $R="0123456789abcdef";function cn(t,e){if(e||(e={}),typeof t=="number"){ai.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=$R[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),g1e(t))return t.toHexString();if(yr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ai.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(S3(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=$R[(i&240)>>4]+$R[i&15]}return n}return ai.throwArgumentError("invalid hexlify value","value",t)}function W1(t){if(typeof t!="string")t=cn(t);else if(!yr(t)||t.length%2)return null;return(t.length-2)/2}function Ho(t,e,n){return typeof t!="string"?t=cn(t):(!yr(t)||t.length%2)&&ai.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Dl(t){let e="0x";return t.forEach(n=>{e+=cn(n).substring(2)}),e}function SV(t){const e=gJe(cn(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function gJe(t){typeof t!="string"&&(t=cn(t)),yr(t)||ai.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function pi(t,e){for(typeof t!="string"?t=cn(t):yr(t)||ai.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ai.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function jT(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(_V(t)){let n=un(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64))):n.length===65?(e.r=cn(n.slice(0,32)),e.s=cn(n.slice(32,64)),e.v=n[64]):ai.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:ai.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=cn(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=mJe(un(e._vs),32);e._vs=cn(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ai.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=cn(i);e.s==null?e.s=o:e.s!==o&&ai.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ai.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ai.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!yr(e.r)?ai.throwArgumentError("signature missing or invalid r","signature",t):e.r=pi(e.r,32),e.s==null||!yr(e.s)?ai.throwArgumentError("signature missing or invalid s","signature",t):e.s=pi(e.s,32);const n=un(e.s);n[0]>=128&&ai.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=cn(n);e._vs&&(yr(e._vs)||ai.throwArgumentError("signature invalid _vs","signature",t),e._vs=pi(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&ai.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const y1e="bignumber/5.8.0";var RS=zt.BN;const $f=new Re(y1e),NR={},gee=9007199254740991;function yJe(t){return t!=null&&(dt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||yr(t)||typeof t=="bigint"||S3(t))}let yee=!1;class dt{constructor(e,n){e!==NR&&$f.throwError("cannot call constructor directly; use BigNumber.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return va(In(this).fromTwos(e))}toTwos(e){return va(In(this).toTwos(e))}abs(){return this._hex[0]==="-"?dt.from(this._hex.substring(1)):this}add(e){return va(In(this).add(In(e)))}sub(e){return va(In(this).sub(In(e)))}div(e){return dt.from(e).isZero()&&dc("division-by-zero","div"),va(In(this).div(In(e)))}mul(e){return va(In(this).mul(In(e)))}mod(e){const n=In(e);return n.isNeg()&&dc("division-by-zero","mod"),va(In(this).umod(n))}pow(e){const n=In(e);return n.isNeg()&&dc("negative-power","pow"),va(In(this).pow(n))}and(e){const n=In(e);return(this.isNegative()||n.isNeg())&&dc("unbound-bitwise-result","and"),va(In(this).and(n))}or(e){const n=In(e);return(this.isNegative()||n.isNeg())&&dc("unbound-bitwise-result","or"),va(In(this).or(n))}xor(e){const n=In(e);return(this.isNegative()||n.isNeg())&&dc("unbound-bitwise-result","xor"),va(In(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&dc("negative-width","mask"),va(In(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&dc("negative-width","shl"),va(In(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&dc("negative-width","shr"),va(In(this).shrn(e))}eq(e){return In(this).eq(In(e))}lt(e){return In(this).lt(In(e))}lte(e){return In(this).lte(In(e))}gt(e){return In(this).gt(In(e))}gte(e){return In(this).gte(In(e))}isNegative(){return this._hex[0]==="-"}isZero(){return In(this).isZero()}toNumber(){try{return In(this).toNumber()}catch{dc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return $f.throwError("this platform does not support BigInt",Re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?yee||(yee=!0,$f.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?$f.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Re.errors.UNEXPECTED_ARGUMENT,{}):$f.throwError("BigNumber.toString does not accept parameters",Re.errors.UNEXPECTED_ARGUMENT,{})),In(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof dt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new dt(NR,P8(e)):e.match(/^-?[0-9]+$/)?new dt(NR,P8(new RS(e))):$f.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&dc("underflow","BigNumber.from",e),(e>=gee||e<=-gee)&&dc("overflow","BigNumber.from",e),dt.from(String(e));const n=e;if(typeof n=="bigint")return dt.from(n.toString());if(S3(n))return dt.from(cn(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return dt.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(yr(r)||r[0]==="-"&&yr(r.substring(1))))return dt.from(r)}return $f.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function P8(t){if(typeof t!="string")return P8(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&$f.throwArgumentError("invalid hex","value",t),t=P8(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function va(t){return dt.from(P8(t))}function In(t){const e=dt.from(t).toHexString();return e[0]==="-"?new RS("-"+e.substring(3),16):new RS(e.substring(2),16)}function dc(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),$f.throwError(t,Re.errors.NUMERIC_FAULT,r)}function wJe(t){return new RS(t,36).toString(16)}const Yo=new Re(y1e),V6={},w1e=dt.from(0),b1e=dt.from(-1);function v1e(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Yo.throwError(t,Re.errors.NUMERIC_FAULT,i)}let q6="0";for(;q6.length<256;)q6+=q6;function IV(t){if(typeof t!="number")try{t=dt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+q6.substring(0,t):Yo.throwArgumentError("invalid decimal size","decimals",t)}function PR(t,e){e==null&&(e=0);const n=IV(e);t=dt.from(t);const r=t.lt(w1e);r&&(t=t.mul(b1e));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function qd(t,e){e==null&&(e=0);const n=IV(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Yo.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Yo.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Yo.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&v1e("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=dt.from(s),l=dt.from(o);let c=a.mul(n).add(l);return r&&(c=c.mul(b1e)),c}class Fv{constructor(e,n,r,i){e!==V6&&Yo.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=IV(i),Object.freeze(this)}static from(e){if(e instanceof Fv)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Yo.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Yo.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&Yo.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Yo.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Fv(V6,n,r,i)}}class $s{constructor(e,n,r,i){e!==V6&&Yo.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Yo.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=qd(this._value,this.format.decimals),r=qd(e._value,e.format.decimals);return $s.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=qd(this._value,this.format.decimals),r=qd(e._value,e.format.decimals);return $s.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=qd(this._value,this.format.decimals),r=qd(e._value,e.format.decimals);return $s.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=qd(this._value,this.format.decimals),r=qd(e._value,e.format.decimals);return $s.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=$s.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(wee.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=$s.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(wee.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Yo.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=$s.from("1"+q6.substring(0,e),this.format),i=bJe.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Yo.throwArgumentError("invalid byte width","width",e);const n=dt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return pi(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return $s.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!yJe(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),$s.fromString(PR(e,n),Fv.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Fv.from(n),i=qd(e,r.decimals);!r.signed&&i.lt(w1e)&&v1e("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=pi(s,r.width/8));const o=PR(i,r.decimals);return new $s(V6,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Fv.from(n);if(un(e).length>r.width/8)throw new Error("overflow");let i=dt.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=PR(i,r.decimals);return new $s(V6,s,o,r)}static from(e,n){if(typeof e=="string")return $s.fromString(e,n);if(S3(e))return $s.fromBytes(e,n);try{return $s.fromValue(e,0,n)}catch(r){if(r.code!==Re.errors.INVALID_ARGUMENT)throw r}return Yo.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const wee=$s.from(1),bJe=$s.from("0.5"),vJe="abstract-provider/5.8.0";var xJe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const EJe=new Re(vJe);class AJe extends aJe{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class TV{constructor(){EJe.checkAbstract(new.target,TV),$n(this,"_isProvider",!0)}getFeeData(){return xJe(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Ms({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=dt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const CJe="networks/5.8.0",bee=new Re(CJe);function kJe(t){return t&&typeof t.renetwork=="function"}function ju(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return ju(n)},e}function jS(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return jS(t,r)},n}const vee={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ju("homestead")},xee={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ju("ropsten")},Eee={chainId:63,name:"classicMordor",_defaultProvider:jS("https://www.ethercluster.com/mordor","classicMordor")},KC={unspecified:{chainId:0,name:"unspecified"},homestead:vee,mainnet:vee,morden:{chainId:2,name:"morden"},ropsten:xee,testnet:xee,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ju("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ju("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ju("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ju("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ju("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:jS("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Eee,classicTestnet:Eee,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:jS("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ju("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ju("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ju("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function _Je(t){if(t==null)return null;if(typeof t=="number"){for(const r in KC){const i=KC[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=KC[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=KC[t.name];if(!e)return typeof t.chainId!="number"&&bee.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&bee.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(kJe(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}function x1e(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return un(e)}function E1e(t){t=un(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class A1e{constructor(e){$n(this,"alphabet",e),$n(this,"base",e.length),$n(this,"_alphabetMap",{}),$n(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=un(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return un(new Uint8Array(n.reverse()))}}new A1e("abcdefghijklmnopqrstuvwxyz234567");const iL=new A1e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),SJe="0x0000000000000000000000000000000000000000",IJe=dt.from(0),TJe="0x0000000000000000000000000000000000000000000000000000000000000000";var C1e={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],w=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(j){return typeof j=="object"&&j.buffer&&j.buffer.constructor===ArrayBuffer});for(var A=function(j,Y,ee){return function(Z){return new I(j,Y,j).update(Z)[ee]()}},E=function(j,Y,ee){return function(Z,oe){return new I(j,Y,oe).update(Z)[ee]()}},$=function(j,Y,ee){return function(Z,oe,de,ce){return k["cshake"+j].update(Z,oe,de,ce)[ee]()}},N=function(j,Y,ee){return function(Z,oe,de,ce){return k["kmac"+j].update(Z,oe,de,ce)[ee]()}},R=function(j,Y,ee,Z){for(var oe=0;oe<v.length;++oe){var de=v[oe];j[de]=Y(ee,Z,de)}return j},M=function(j,Y){var ee=A(j,Y,"hex");return ee.create=function(){return new I(j,Y,j)},ee.update=function(Z){return ee.create().update(Z)},R(ee,A,j,Y)},F=function(j,Y){var ee=E(j,Y,"hex");return ee.create=function(Z){return new I(j,Y,Z)},ee.update=function(Z,oe){return ee.create(oe).update(Z)},R(ee,E,j,Y)},W=function(j,Y){var ee=b[j],Z=$(j,Y,"hex");return Z.create=function(oe,de,ce){return!de&&!ce?k["shake"+j].create(oe):new I(j,Y,oe).bytepad([de,ce],ee)},Z.update=function(oe,de,ce,he){return Z.create(de,ce,he).update(oe)},R(Z,$,j,Y)},H=function(j,Y){var ee=b[j],Z=N(j,Y,"hex");return Z.create=function(oe,de,ce){return new B(j,Y,de).bytepad(["KMAC",ce],ee).bytepad([oe],ee)},Z.update=function(oe,de,ce,he){return Z.create(oe,ce,he).update(de)},R(Z,N,j,Y)},L=[{name:"keccak",padding:f,bits:y,createMethod:M},{name:"sha3",padding:p,bits:y,createMethod:M},{name:"shake",padding:u,bits:w,createMethod:F},{name:"cshake",padding:h,bits:w,createMethod:W},{name:"kmac",padding:h,bits:w,createMethod:H}],k={},C=[],_=0;_<L.length;++_)for(var T=L[_],S=T.bits,P=0;P<S.length;++P){var D=T.name+"_"+S[P];if(C.push(D),k[D]=T.createMethod(S[P],T.padding),T.name!=="sha3"){var O=T.name+S[P];C.push(O),k[O]=k[D]}}function I(j,Y,ee){this.blocks=[],this.s=[],this.padding=Y,this.outputBits=ee,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(j<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ee>>5,this.extraBytes=(ee&31)>>3;for(var Z=0;Z<50;++Z)this.s[Z]=0}I.prototype.update=function(j){if(this.finalized)throw new Error(n);var Y,ee=typeof j;if(ee!=="string"){if(ee==="object"){if(j===null)throw new Error(e);if(l&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!l||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);Y=!0}for(var Z=this.blocks,oe=this.byteCount,de=j.length,ce=this.blockCount,he=0,be=this.s,fe,ke;he<de;){if(this.reset)for(this.reset=!1,Z[0]=this.block,fe=1;fe<ce+1;++fe)Z[fe]=0;if(Y)for(fe=this.start;he<de&&fe<oe;++he)Z[fe>>2]|=j[he]<<m[fe++&3];else for(fe=this.start;he<de&&fe<oe;++he)ke=j.charCodeAt(he),ke<128?Z[fe>>2]|=ke<<m[fe++&3]:ke<2048?(Z[fe>>2]|=(192|ke>>6)<<m[fe++&3],Z[fe>>2]|=(128|ke&63)<<m[fe++&3]):ke<55296||ke>=57344?(Z[fe>>2]|=(224|ke>>12)<<m[fe++&3],Z[fe>>2]|=(128|ke>>6&63)<<m[fe++&3],Z[fe>>2]|=(128|ke&63)<<m[fe++&3]):(ke=65536+((ke&1023)<<10|j.charCodeAt(++he)&1023),Z[fe>>2]|=(240|ke>>18)<<m[fe++&3],Z[fe>>2]|=(128|ke>>12&63)<<m[fe++&3],Z[fe>>2]|=(128|ke>>6&63)<<m[fe++&3],Z[fe>>2]|=(128|ke&63)<<m[fe++&3]);if(this.lastByteIndex=fe,fe>=oe){for(this.start=fe-oe,this.block=Z[ce],fe=0;fe<ce;++fe)be[fe]^=Z[fe];Q(be),this.reset=!0}else this.start=fe}return this},I.prototype.encode=function(j,Y){var ee=j&255,Z=1,oe=[ee];for(j=j>>8,ee=j&255;ee>0;)oe.unshift(ee),j=j>>8,ee=j&255,++Z;return Y?oe.push(Z):oe.unshift(Z),this.update(oe),oe.length},I.prototype.encodeString=function(j){var Y,ee=typeof j;if(ee!=="string"){if(ee==="object"){if(j===null)throw new Error(e);if(l&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!l||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);Y=!0}var Z=0,oe=j.length;if(Y)Z=oe;else for(var de=0;de<j.length;++de){var ce=j.charCodeAt(de);ce<128?Z+=1:ce<2048?Z+=2:ce<55296||ce>=57344?Z+=3:(ce=65536+((ce&1023)<<10|j.charCodeAt(++de)&1023),Z+=4)}return Z+=this.encode(Z*8),this.update(j),Z},I.prototype.bytepad=function(j,Y){for(var ee=this.encode(Y),Z=0;Z<j.length;++Z)ee+=this.encodeString(j[Z]);var oe=Y-ee%Y,de=[];return de.length=oe,this.update(de),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var j=this.blocks,Y=this.lastByteIndex,ee=this.blockCount,Z=this.s;if(j[Y>>2]|=this.padding[Y&3],this.lastByteIndex===this.byteCount)for(j[0]=j[ee],Y=1;Y<ee+1;++Y)j[Y]=0;for(j[ee-1]|=2147483648,Y=0;Y<ee;++Y)Z[Y]^=j[Y];Q(Z)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var j=this.blockCount,Y=this.s,ee=this.outputBlocks,Z=this.extraBytes,oe=0,de=0,ce="",he;de<ee;){for(oe=0;oe<j&&de<ee;++oe,++de)he=Y[oe],ce+=c[he>>4&15]+c[he&15]+c[he>>12&15]+c[he>>8&15]+c[he>>20&15]+c[he>>16&15]+c[he>>28&15]+c[he>>24&15];de%j===0&&(Q(Y),oe=0)}return Z&&(he=Y[oe],ce+=c[he>>4&15]+c[he&15],Z>1&&(ce+=c[he>>12&15]+c[he>>8&15]),Z>2&&(ce+=c[he>>20&15]+c[he>>16&15])),ce},I.prototype.arrayBuffer=function(){this.finalize();var j=this.blockCount,Y=this.s,ee=this.outputBlocks,Z=this.extraBytes,oe=0,de=0,ce=this.outputBits>>3,he;Z?he=new ArrayBuffer(ee+1<<2):he=new ArrayBuffer(ce);for(var be=new Uint32Array(he);de<ee;){for(oe=0;oe<j&&de<ee;++oe,++de)be[de]=Y[oe];de%j===0&&Q(Y)}return Z&&(be[oe]=Y[oe],he=he.slice(0,ce)),he},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var j=this.blockCount,Y=this.s,ee=this.outputBlocks,Z=this.extraBytes,oe=0,de=0,ce=[],he,be;de<ee;){for(oe=0;oe<j&&de<ee;++oe,++de)he=de<<2,be=Y[oe],ce[he]=be&255,ce[he+1]=be>>8&255,ce[he+2]=be>>16&255,ce[he+3]=be>>24&255;de%j===0&&Q(Y)}return Z&&(he=de<<2,be=Y[oe],ce[he]=be&255,Z>1&&(ce[he+1]=be>>8&255),Z>2&&(ce[he+2]=be>>16&255)),ce};function B(j,Y,ee){I.call(this,j,Y,ee)}B.prototype=new I,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var Q=function(j){var Y,ee,Z,oe,de,ce,he,be,fe,ke,we,Fe,Me,Se,ve,Oe,Le,Ce,De,We,rt,G,U,z,X,ne,ie,le,Be,Xe,Ke,et,Pe,Tt,dn,Bt,ze,Ln,vn,ot,Qt,q,K,se,re,ae,ge,$e,je,Mt,bt,_t,rn,Ye,ut,at,ct,ht,an,zn,Ht,Lt,xn;for(Z=0;Z<48;Z+=2)oe=j[0]^j[10]^j[20]^j[30]^j[40],de=j[1]^j[11]^j[21]^j[31]^j[41],ce=j[2]^j[12]^j[22]^j[32]^j[42],he=j[3]^j[13]^j[23]^j[33]^j[43],be=j[4]^j[14]^j[24]^j[34]^j[44],fe=j[5]^j[15]^j[25]^j[35]^j[45],ke=j[6]^j[16]^j[26]^j[36]^j[46],we=j[7]^j[17]^j[27]^j[37]^j[47],Fe=j[8]^j[18]^j[28]^j[38]^j[48],Me=j[9]^j[19]^j[29]^j[39]^j[49],Y=Fe^(ce<<1|he>>>31),ee=Me^(he<<1|ce>>>31),j[0]^=Y,j[1]^=ee,j[10]^=Y,j[11]^=ee,j[20]^=Y,j[21]^=ee,j[30]^=Y,j[31]^=ee,j[40]^=Y,j[41]^=ee,Y=oe^(be<<1|fe>>>31),ee=de^(fe<<1|be>>>31),j[2]^=Y,j[3]^=ee,j[12]^=Y,j[13]^=ee,j[22]^=Y,j[23]^=ee,j[32]^=Y,j[33]^=ee,j[42]^=Y,j[43]^=ee,Y=ce^(ke<<1|we>>>31),ee=he^(we<<1|ke>>>31),j[4]^=Y,j[5]^=ee,j[14]^=Y,j[15]^=ee,j[24]^=Y,j[25]^=ee,j[34]^=Y,j[35]^=ee,j[44]^=Y,j[45]^=ee,Y=be^(Fe<<1|Me>>>31),ee=fe^(Me<<1|Fe>>>31),j[6]^=Y,j[7]^=ee,j[16]^=Y,j[17]^=ee,j[26]^=Y,j[27]^=ee,j[36]^=Y,j[37]^=ee,j[46]^=Y,j[47]^=ee,Y=ke^(oe<<1|de>>>31),ee=we^(de<<1|oe>>>31),j[8]^=Y,j[9]^=ee,j[18]^=Y,j[19]^=ee,j[28]^=Y,j[29]^=ee,j[38]^=Y,j[39]^=ee,j[48]^=Y,j[49]^=ee,Se=j[0],ve=j[1],ae=j[11]<<4|j[10]>>>28,ge=j[10]<<4|j[11]>>>28,le=j[20]<<3|j[21]>>>29,Be=j[21]<<3|j[20]>>>29,zn=j[31]<<9|j[30]>>>23,Ht=j[30]<<9|j[31]>>>23,q=j[40]<<18|j[41]>>>14,K=j[41]<<18|j[40]>>>14,Tt=j[2]<<1|j[3]>>>31,dn=j[3]<<1|j[2]>>>31,Oe=j[13]<<12|j[12]>>>20,Le=j[12]<<12|j[13]>>>20,$e=j[22]<<10|j[23]>>>22,je=j[23]<<10|j[22]>>>22,Xe=j[33]<<13|j[32]>>>19,Ke=j[32]<<13|j[33]>>>19,Lt=j[42]<<2|j[43]>>>30,xn=j[43]<<2|j[42]>>>30,Ye=j[5]<<30|j[4]>>>2,ut=j[4]<<30|j[5]>>>2,Bt=j[14]<<6|j[15]>>>26,ze=j[15]<<6|j[14]>>>26,Ce=j[25]<<11|j[24]>>>21,De=j[24]<<11|j[25]>>>21,Mt=j[34]<<15|j[35]>>>17,bt=j[35]<<15|j[34]>>>17,et=j[45]<<29|j[44]>>>3,Pe=j[44]<<29|j[45]>>>3,z=j[6]<<28|j[7]>>>4,X=j[7]<<28|j[6]>>>4,at=j[17]<<23|j[16]>>>9,ct=j[16]<<23|j[17]>>>9,Ln=j[26]<<25|j[27]>>>7,vn=j[27]<<25|j[26]>>>7,We=j[36]<<21|j[37]>>>11,rt=j[37]<<21|j[36]>>>11,_t=j[47]<<24|j[46]>>>8,rn=j[46]<<24|j[47]>>>8,se=j[8]<<27|j[9]>>>5,re=j[9]<<27|j[8]>>>5,ne=j[18]<<20|j[19]>>>12,ie=j[19]<<20|j[18]>>>12,ht=j[29]<<7|j[28]>>>25,an=j[28]<<7|j[29]>>>25,ot=j[38]<<8|j[39]>>>24,Qt=j[39]<<8|j[38]>>>24,G=j[48]<<14|j[49]>>>18,U=j[49]<<14|j[48]>>>18,j[0]=Se^~Oe&Ce,j[1]=ve^~Le&De,j[10]=z^~ne&le,j[11]=X^~ie&Be,j[20]=Tt^~Bt&Ln,j[21]=dn^~ze&vn,j[30]=se^~ae&$e,j[31]=re^~ge&je,j[40]=Ye^~at&ht,j[41]=ut^~ct&an,j[2]=Oe^~Ce&We,j[3]=Le^~De&rt,j[12]=ne^~le&Xe,j[13]=ie^~Be&Ke,j[22]=Bt^~Ln&ot,j[23]=ze^~vn&Qt,j[32]=ae^~$e&Mt,j[33]=ge^~je&bt,j[42]=at^~ht&zn,j[43]=ct^~an&Ht,j[4]=Ce^~We&G,j[5]=De^~rt&U,j[14]=le^~Xe&et,j[15]=Be^~Ke&Pe,j[24]=Ln^~ot&q,j[25]=vn^~Qt&K,j[34]=$e^~Mt&_t,j[35]=je^~bt&rn,j[44]=ht^~zn&Lt,j[45]=an^~Ht&xn,j[6]=We^~G&Se,j[7]=rt^~U&ve,j[16]=Xe^~et&z,j[17]=Ke^~Pe&X,j[26]=ot^~q&Tt,j[27]=Qt^~K&dn,j[36]=Mt^~_t&se,j[37]=bt^~rn&re,j[46]=zn^~Lt&Ye,j[47]=Ht^~xn&ut,j[8]=G^~Se&Oe,j[9]=U^~ve&Le,j[18]=et^~z&ne,j[19]=Pe^~X&ie,j[28]=q^~Tt&Bt,j[29]=K^~dn&ze,j[38]=_t^~se&ae,j[39]=rn^~re&ge,j[48]=Lt^~Ye&at,j[49]=xn^~ut&ct,j[0]^=g[Z],j[1]^=g[Z+1]};if(a)t.exports=k;else for(_=0;_<C.length;++_)i[C[_]]=k[C[_]]})()})(C1e);var $Je=C1e.exports;const NJe=Gs($Je);function Fs(t){return"0x"+NJe.keccak_256(un(t))}const PJe="strings/5.8.0",k1e=new Re(PJe);var R8;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(R8||(R8={}));var Il;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Il||(Il={}));function RJe(t,e,n,r,i){return k1e.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function _1e(t,e,n,r,i){if(t===Il.BAD_PREFIX||t===Il.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===Il.OVERRUN?n.length-e-1:0}function jJe(t,e,n,r,i){return t===Il.OVERLONG?(r.push(i),0):(r.push(65533),_1e(t,e,n))}const OJe=Object.freeze({error:RJe,ignore:_1e,replace:jJe});function S1e(t,e){e==null&&(e=OJe.error),t=un(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Il.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Il.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(Il.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[r];if((c&192)!=128){r+=e(Il.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|c&63,r++}if(a!==null){if(a>1114111){r+=e(Il.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(Il.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(Il.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function Fp(t,e=R8.current){e!=R8.current&&(k1e.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return un(n)}function MJe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function OT(t,e){return MJe(S1e(t,e))}function DJe(t,e=R8.current){return S1e(Fp(t,e))}function I1e(t){return Fs(Fp(t))}const T1e="hash/5.8.0";function $1e(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function BJe(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function LJe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,m=p>>1,g=f-1;let y=0;for(let E=0;E<h;E++)y=y<<1|u();let w=[],v=0,b=f;for(;;){let E=Math.floor(((y-v+1)*i-1)/b),$=0,N=r;for(;N-$>1;){let F=$+N>>>1;E<s[F]?N=F:$=F}if($==0)break;w.push($);let R=v+Math.floor(b*s[$]/i),M=v+Math.floor(b*s[$+1]/i)-1;for(;!((R^M)&p);)y=y<<1&g|u(),R=R<<1&g,M=M<<1&g|1;for(;R&~M&m;)y=y&p|y<<1&g>>>1|u(),R=R<<1^p,M=(M^p)<<1|p|1;v=R,b=1+M-R}let A=r-4;return w.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function FJe(t){let e=0;return()=>t[e++]}function UJe(t){return FJe(LJe(t))}function zJe(t){return t&1?~t>>1:t>>1}function WJe(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function Aee(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function HJe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=zJe(e());return n}function OS(t,e){let n=Aee(t(),t),r=t(),i=Aee(r,t),s=WJe(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function VJe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(GJe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(KJe(n,t))}return BJe($1e(e))}function qJe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function N1e(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)HJe(t,n).forEach((s,o)=>r[o].push(s));return r}function GJe(t,e){let n=1+e(),r=e(),i=qJe(e),s=N1e(i.length,1+t,e);return $1e(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let f=h*r;return[l+h*n,c.map(p=>p+f)]})}))}function KJe(t,e){let n=1+e();return N1e(n,1+t,e).map(i=>[i[0],i.slice(1)])}function YJe(t){let e=OS(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let c=OS(t,e);if(c.length==0)break;r.push({set:new Set(c),node:n()})}r.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function QJe(){return UJe(x1e("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const MT=QJe(),ZJe=new Set(OS(MT)),JJe=new Set(OS(MT)),XJe=VJe(MT),eXe=YJe(MT),Cee=45,kee=95;function P1e(t){return DJe(t)}function tXe(t){return t.filter(e=>e!=65039)}function R1e(t){for(let e of t.split(".")){let n=P1e(e);try{for(let r=n.lastIndexOf(kee)-1;r>=0;r--)if(n[r]!==kee)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===Cee&&n[3]===Cee)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function nXe(t){return R1e(rXe(t,tXe))}function rXe(t,e){let n=P1e(t).reverse(),r=[];for(;n.length;){let i=sXe(n);if(i){r.push(...e(i));continue}let s=n.pop();if(ZJe.has(s)){r.push(s);continue}if(JJe.has(s))continue;let o=XJe[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return R1e(iXe(String.fromCodePoint(...r)))}function iXe(t){return t.normalize("NFC")}function sXe(t,e){var n;let r=eXe,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(r=(n=r.branches.find(c=>c.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const oXe=new Re(T1e),j1e=new Uint8Array(32);j1e.fill(0);function _ee(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function O1e(t){const e=Fp(nXe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(_ee(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(_ee(e.slice(r))),n}function S9(t){typeof t!="string"&&oXe.throwArgumentError("invalid ENS name; not a string","name",t);let e=j1e;const n=O1e(t);for(;n.length;)e=Fs(Ey([e,Fs(n.pop())]));return cn(e)}function aXe(t){return cn(Ey(O1e(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const lXe="rlp/5.8.0",eh=new Re(lXe);function See(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Iee(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function M1e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(M1e(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=See(r.length);return i.unshift(247+i.length),i.concat(r)}_V(t)||eh.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(un(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=See(e.length);return n.unshift(183+n.length),n.concat(e)}function DT(t){return cn(M1e(t))}function Tee(t,e,n,r){const i=[];for(;n<e+1+r;){const s=D1e(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&eh.throwError("child data too short",Re.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function D1e(t,e){if(t.length===0&&eh.throwError("data too short",Re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&eh.throwError("data short segment too short",Re.errors.BUFFER_OVERRUN,{});const r=Iee(t,e+1,n);return e+1+n+r>t.length&&eh.throwError("data long segment too short",Re.errors.BUFFER_OVERRUN,{}),Tee(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&eh.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{}),Tee(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&eh.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{});const r=Iee(t,e+1,n);e+1+n+r>t.length&&eh.throwError("data array too short",Re.errors.BUFFER_OVERRUN,{});const i=cn(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&eh.throwError("data too short",Re.errors.BUFFER_OVERRUN,{});const r=cn(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:cn(t[e])}}function $V(t){const e=un(t),n=D1e(e,0);return n.consumed!==e.length&&eh.throwArgumentError("invalid rlp data","data",t),n.result}const cXe="address/5.8.0",cv=new Re(cXe);function $ee(t){yr(t,20)||cv.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=un(Fs(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const uXe=9007199254740991;function dXe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const NV={};for(let t=0;t<10;t++)NV[String(t)]=String(t);for(let t=0;t<26;t++)NV[String.fromCharCode(65+t)]=String(10+t);const Nee=Math.floor(dXe(uXe));function hXe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>NV[r]).join("");for(;e.length>=Nee;){let r=e.substring(0,Nee);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function md(t){let e=null;if(typeof t!="string"&&cv.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=$ee(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&cv.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==hXe(t)&&cv.throwArgumentError("bad icap checksum","address",t),e=wJe(t.substring(4));e.length<40;)e="0"+e;e=$ee("0x"+e)}else cv.throwArgumentError("invalid address","address",t);return e}function fXe(t){let e=null;try{e=md(t.from)}catch{cv.throwArgumentError("missing from address","transaction",t)}const n=Ax(un(dt.from(t.nonce).toHexString()));return md(Ho(Fs(DT([e,n])),12))}var pXe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Yr=new Re(T1e),B1e=new Uint8Array(32);B1e.fill(0);const mXe=dt.from(-1),L1e=dt.from(0),F1e=dt.from(1),gXe=dt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function yXe(t){const e=un(t),n=e.length%32;return n?Dl([e,B1e.slice(n)]):cn(e)}const wXe=pi(F1e.toHexString(),32),bXe=pi(L1e.toHexString(),32),Pee={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},RR=["name","version","chainId","verifyingContract","salt"];function Ree(t){return function(e){return typeof e!="string"&&Yr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const vXe={name:Ree("name"),version:Ree("version"),chainId:function(t){try{return dt.from(t).toString()}catch{}return Yr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return md(t).toLowerCase()}catch{}return Yr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=un(t);if(e.length!==32)throw new Error("bad length");return cn(e)}catch{}return Yr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function jR(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Yr.throwArgumentError("invalid numeric width","type",t);const i=gXe.mask(n?r-1:r),s=n?i.add(F1e).mul(mXe):L1e;return function(o){const a=dt.from(o);return(a.lt(s)||a.gt(i))&&Yr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),pi(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Yr.throwArgumentError("invalid bytes width","type",t),function(r){return un(r).length!==n&&Yr.throwArgumentError(`invalid length for ${t}`,"value",r),yXe(r)}}}switch(t){case"address":return function(e){return pi(md(e),32)};case"bool":return function(e){return e?wXe:bXe};case"bytes":return function(e){return Fs(e)};case"string":return function(e){return I1e(e)}}return null}function jee(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}let Oee=class Eu{constructor(e){$n(this,"types",Object.freeze(N8(e))),$n(this,"_encoderCache",{}),$n(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Yr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Yr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!jR(u)&&(r[u]||Yr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),n[a][u]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?Yr.throwArgumentError("missing primary type","types",e):s.length>1&&Yr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),$n(this,"primaryType",s[0]);function o(a,l){l[a]&&Yr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(n[a]).forEach(c=>{r[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=jee(a,e[a])+l.map(c=>jee(c,e[c])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=jR(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&Yr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(Fs)),Fs(Dl(l))}}const r=this.types[e];if(r){const i=I1e(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?Fs(c):c});return o.unshift(i),Dl(o)}}return Yr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Yr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Fs(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(jR(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&Yr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{}):Yr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Eu(e)}static getPrimaryType(e){return Eu.from(e).primaryType}static hashStruct(e,n,r){return Eu.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=Pee[r];i||Yr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>RR.indexOf(r.name)-RR.indexOf(i.name)),Eu.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Dl(["0x1901",Eu.hashDomain(e),Eu.from(n).hash(r)])}static hash(e,n,r){return Fs(Eu.encode(e,n,r))}static resolveNames(e,n,r,i){return pXe(this,void 0,void 0,function*(){e=za(e);const s={};e.verifyingContract&&!yr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Eu.from(n);o.visit(r,(a,l)=>(a==="address"&&!yr(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){Eu.hashDomain(e);const i={},s=[];RR.forEach(l=>{const c=e[l];c!=null&&(i[l]=vXe[l](c),s.push({name:l,type:Pee[l]}))});const o=Eu.from(n),a=za(n);return a.EIP712Domain?Yr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return cn(un(c));if(l.match(/^u?int/))return dt.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Yr.throwArgumentError("invalid string","value",c),c}return Yr.throwArgumentError("unsupported type","type",l)})}}};var U1e={},Pn={},TA=z1e;function z1e(t,e){if(!t)throw new Error(e||"Assertion failed")}z1e.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var sL={exports:{}};typeof Object.create=="function"?sL.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:sL.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var xXe=sL.exports,EXe=TA,AXe=xXe;Pn.inherits=AXe;function CXe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function kXe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):CXe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Pn.toArray=kXe;function _Xe(t){for(var e="",n=0;n<t.length;n++)e+=H1e(t[n].toString(16));return e}Pn.toHex=_Xe;function W1e(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Pn.htonl=W1e;function SXe(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=W1e(i)),n+=V1e(i.toString(16))}return n}Pn.toHex32=SXe;function H1e(t){return t.length===1?"0"+t:t}Pn.zero2=H1e;function V1e(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Pn.zero8=V1e;function IXe(t,e,n,r){var i=n-e;EXe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}Pn.join32=IXe;function TXe(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}Pn.split32=TXe;function $Xe(t,e){return t>>>e|t<<32-e}Pn.rotr32=$Xe;function NXe(t,e){return t<<e|t>>>32-e}Pn.rotl32=NXe;function PXe(t,e){return t+e>>>0}Pn.sum32=PXe;function RXe(t,e,n){return t+e+n>>>0}Pn.sum32_3=RXe;function jXe(t,e,n,r){return t+e+n+r>>>0}Pn.sum32_4=jXe;function OXe(t,e,n,r,i){return t+e+n+r+i>>>0}Pn.sum32_5=OXe;function MXe(t,e,n,r){var i=t[e],s=t[e+1],o=r+s>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o}Pn.sum64=MXe;function DXe(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}Pn.sum64_hi=DXe;function BXe(t,e,n,r){var i=e+r;return i>>>0}Pn.sum64_lo=BXe;function LXe(t,e,n,r,i,s,o,a){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+n+i+o+l;return u>>>0}Pn.sum64_4_hi=LXe;function FXe(t,e,n,r,i,s,o,a){var l=e+r+s+a;return l>>>0}Pn.sum64_4_lo=FXe;function UXe(t,e,n,r,i,s,o,a,l,c){var u=0,h=e;h=h+r>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var f=t+n+i+o+l+u;return f>>>0}Pn.sum64_5_hi=UXe;function zXe(t,e,n,r,i,s,o,a,l,c){var u=e+r+s+a+c;return u>>>0}Pn.sum64_5_lo=zXe;function WXe(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Pn.rotr64_hi=WXe;function HXe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Pn.rotr64_lo=HXe;function VXe(t,e,n){return t>>>n}Pn.shr64_hi=VXe;function qXe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Pn.shr64_lo=qXe;var I3={},Mee=Pn,GXe=TA;function BT(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}I3.BlockHash=BT;BT.prototype.update=function(e,n){if(e=Mee.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Mee.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};BT.prototype.digest=function(e){return this.update(this._pad()),GXe(this.pending===null),this._digest(e)};BT.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var T3={},rf={},KXe=Pn,jh=KXe.rotr32;function YXe(t,e,n,r){if(t===0)return q1e(e,n,r);if(t===1||t===3)return K1e(e,n,r);if(t===2)return G1e(e,n,r)}rf.ft_1=YXe;function q1e(t,e,n){return t&e^~t&n}rf.ch32=q1e;function G1e(t,e,n){return t&e^t&n^e&n}rf.maj32=G1e;function K1e(t,e,n){return t^e^n}rf.p32=K1e;function QXe(t){return jh(t,2)^jh(t,13)^jh(t,22)}rf.s0_256=QXe;function ZXe(t){return jh(t,6)^jh(t,11)^jh(t,25)}rf.s1_256=ZXe;function JXe(t){return jh(t,7)^jh(t,18)^t>>>3}rf.g0_256=JXe;function XXe(t){return jh(t,17)^jh(t,19)^t>>>10}rf.g1_256=XXe;var Cx=Pn,eet=I3,tet=rf,OR=Cx.rotl32,w5=Cx.sum32,net=Cx.sum32_5,ret=tet.ft_1,Y1e=eet.BlockHash,iet=[1518500249,1859775393,2400959708,3395469782];function qh(){if(!(this instanceof qh))return new qh;Y1e.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Cx.inherits(qh,Y1e);var set=qh;qh.blockSize=512;qh.outSize=160;qh.hmacStrength=80;qh.padLength=64;qh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=OR(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),h=net(OR(s,5),ret(u,o,a,l),c,r[i],iet[u]);c=l,l=a,a=OR(o,30),o=s,s=h}this.h[0]=w5(this.h[0],s),this.h[1]=w5(this.h[1],o),this.h[2]=w5(this.h[2],a),this.h[3]=w5(this.h[3],l),this.h[4]=w5(this.h[4],c)};qh.prototype._digest=function(e){return e==="hex"?Cx.toHex32(this.h,"big"):Cx.split32(this.h,"big")};var kx=Pn,oet=I3,$3=rf,aet=TA,yu=kx.sum32,cet=kx.sum32_4,uet=kx.sum32_5,det=$3.ch32,het=$3.maj32,fet=$3.s0_256,pet=$3.s1_256,met=$3.g0_256,get=$3.g1_256,Q1e=oet.BlockHash,yet=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gh(){if(!(this instanceof Gh))return new Gh;Q1e.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=yet,this.W=new Array(64)}kx.inherits(Gh,Q1e);var Z1e=Gh;Gh.blockSize=512;Gh.outSize=256;Gh.hmacStrength=192;Gh.padLength=64;Gh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=cet(get(r[i-2]),r[i-7],met(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(aet(this.k.length===r.length),i=0;i<r.length;i++){var p=uet(f,pet(c),det(c,u,h),this.k[i],r[i]),m=yu(fet(s),het(s,o,a));f=h,h=u,u=c,c=yu(l,p),l=a,a=o,o=s,s=yu(p,m)}this.h[0]=yu(this.h[0],s),this.h[1]=yu(this.h[1],o),this.h[2]=yu(this.h[2],a),this.h[3]=yu(this.h[3],l),this.h[4]=yu(this.h[4],c),this.h[5]=yu(this.h[5],u),this.h[6]=yu(this.h[6],h),this.h[7]=yu(this.h[7],f)};Gh.prototype._digest=function(e){return e==="hex"?kx.toHex32(this.h,"big"):kx.split32(this.h,"big")};var oL=Pn,J1e=Z1e;function Up(){if(!(this instanceof Up))return new Up;J1e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}oL.inherits(Up,J1e);var wet=Up;Up.blockSize=512;Up.outSize=224;Up.hmacStrength=192;Up.padLength=64;Up.prototype._digest=function(e){return e==="hex"?oL.toHex32(this.h.slice(0,7),"big"):oL.split32(this.h.slice(0,7),"big")};var el=Pn,bet=I3,vet=TA,Oh=el.rotr64_hi,Mh=el.rotr64_lo,X1e=el.shr64_hi,ewe=el.shr64_lo,l0=el.sum64,MR=el.sum64_hi,DR=el.sum64_lo,xet=el.sum64_4_hi,Eet=el.sum64_4_lo,Aet=el.sum64_5_hi,Cet=el.sum64_5_lo,twe=bet.BlockHash,ket=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gd(){if(!(this instanceof gd))return new gd;twe.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ket,this.W=new Array(160)}el.inherits(gd,twe);var nwe=gd;gd.blockSize=1024;gd.outSize=512;gd.hmacStrength=192;gd.padLength=128;gd.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=Det(r[i-4],r[i-3]),o=Bet(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],c=Oet(r[i-30],r[i-29]),u=Met(r[i-30],r[i-29]),h=r[i-32],f=r[i-31];r[i]=xet(s,o,a,l,c,u,h,f),r[i+1]=Eet(s,o,a,l,c,u,h,f)}};gd.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],m=this.h[10],g=this.h[11],y=this.h[12],w=this.h[13],v=this.h[14],b=this.h[15];vet(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var E=v,$=b,N=Ret(f,p),R=jet(f,p),M=_et(f,p,m,g,y),F=Iet(f,p,m,g,y,w),W=this.k[A],H=this.k[A+1],L=r[A],k=r[A+1],C=Aet(E,$,N,R,M,F,W,H,L,k),_=Cet(E,$,N,R,M,F,W,H,L,k);E=Net(i,s),$=Pet(i,s),N=Tet(i,s,o,a,l),R=$et(i,s,o,a,l,c);var T=MR(E,$,N,R),S=DR(E,$,N,R);v=y,b=w,y=m,w=g,m=f,g=p,f=MR(u,h,C,_),p=DR(h,h,C,_),u=l,h=c,l=o,c=a,o=i,a=s,i=MR(C,_,T,S),s=DR(C,_,T,S)}l0(this.h,0,i,s),l0(this.h,2,o,a),l0(this.h,4,l,c),l0(this.h,6,u,h),l0(this.h,8,f,p),l0(this.h,10,m,g),l0(this.h,12,y,w),l0(this.h,14,v,b)};gd.prototype._digest=function(e){return e==="hex"?el.toHex32(this.h,"big"):el.split32(this.h,"big")};function _et(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function Iet(t,e,n,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function Tet(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function $et(t,e,n,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function Net(t,e){var n=Oh(t,e,28),r=Oh(e,t,2),i=Oh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Pet(t,e){var n=Mh(t,e,28),r=Mh(e,t,2),i=Mh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Ret(t,e){var n=Oh(t,e,14),r=Oh(t,e,18),i=Oh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function jet(t,e){var n=Mh(t,e,14),r=Mh(t,e,18),i=Mh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function Oet(t,e){var n=Oh(t,e,1),r=Oh(t,e,8),i=X1e(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Met(t,e){var n=Mh(t,e,1),r=Mh(t,e,8),i=ewe(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Det(t,e){var n=Oh(t,e,19),r=Oh(e,t,29),i=X1e(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function Bet(t,e){var n=Mh(t,e,19),r=Mh(e,t,29),i=ewe(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}var aL=Pn,rwe=nwe;function zp(){if(!(this instanceof zp))return new zp;rwe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}aL.inherits(zp,rwe);var Let=zp;zp.blockSize=1024;zp.outSize=384;zp.hmacStrength=192;zp.padLength=128;zp.prototype._digest=function(e){return e==="hex"?aL.toHex32(this.h.slice(0,12),"big"):aL.split32(this.h.slice(0,12),"big")};T3.sha1=set;T3.sha224=wet;T3.sha256=Z1e;T3.sha384=Let;T3.sha512=nwe;var iwe={},H1=Pn,Fet=I3,YC=H1.rotl32,Dee=H1.sum32,b5=H1.sum32_3,Bee=H1.sum32_4,swe=Fet.BlockHash;function Kh(){if(!(this instanceof Kh))return new Kh;swe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}H1.inherits(Kh,swe);iwe.ripemd160=Kh;Kh.blockSize=512;Kh.outSize=160;Kh.hmacStrength=192;Kh.padLength=64;Kh.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,c=i,u=s,h=o,f=a,p=0;p<80;p++){var m=Dee(YC(Bee(r,Lee(p,i,s,o),e[Wet[p]+n],Uet(p)),Vet[p]),a);r=a,a=o,o=YC(s,10),s=i,i=m,m=Dee(YC(Bee(l,Lee(79-p,c,u,h),e[Het[p]+n],zet(p)),qet[p]),f),l=f,f=h,h=YC(u,10),u=c,c=m}m=b5(this.h[1],s,h),this.h[1]=b5(this.h[2],o,f),this.h[2]=b5(this.h[3],a,l),this.h[3]=b5(this.h[4],r,c),this.h[4]=b5(this.h[0],i,u),this.h[0]=m};Kh.prototype._digest=function(e){return e==="hex"?H1.toHex32(this.h,"little"):H1.split32(this.h,"little")};function Lee(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function Uet(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function zet(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Wet=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Het=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Vet=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],qet=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Get=Pn,Ket=TA;function _x(t,e,n){if(!(this instanceof _x))return new _x(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Get.toArray(e,n))}var Yet=_x;_x.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Ket(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};_x.prototype.update=function(e,n){return this.inner.update(e,n),this};_x.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Pn,e.common=I3,e.sha=T3,e.ripemd=iwe,e.hmac=Yet,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(U1e);const Qd=Gs(U1e);function Fee(t){return"0x"+Qd.sha256().update(un(t)).digest("hex")}const Qet="web/5.8.0";var Zet=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Jet(t,e){return Zet(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:un(new Uint8Array(i))}})}var Xet=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Au=new Re(Qet);function Uee(t){return new Promise(e=>{setTimeout(e,t)})}function c0(t,e){if(t==null)return null;if(typeof t=="string")return t;if(_V(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return OT(t)}catch{}return cn(t)}return t}function ett(t){return Fp(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function ttt(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Au.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Au.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Au.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Au.throwError("basic authentication requires a secure https url",Re.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+E1e(Fp(w))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=za(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?x1e(p[3]):ett(p[3])};let v=w.body;return n&&(v=n(w.body,w)),Promise.resolve(v)}catch(w){Au.throwError("processing response error",Re.errors.SERVER_ERROR,{body:c0(p[1],p[2]),error:w,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const v=a[w];m[v.key]=v.value}),c.headers=m;const g=function(){let w=null;return{promise:new Promise(function(A,E){h&&(w=setTimeout(()=>{w!=null&&(w=null,E(Au.makeError("timeout",Re.errors.TIMEOUT,{requestBody:c0(c.body,m["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),y=function(){return Xet(this,void 0,void 0,function*(){for(let w=0;w<r;w++){let v=null;try{if(v=yield Jet(l,c),w<r){if(v.statusCode===301||v.statusCode===302){const A=v.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=v.headers.location;continue}}else if(v.statusCode===429){let A=!0;if(i&&(A=yield i(w,l)),A){let E=0;const $=v.headers["retry-after"];typeof $=="string"&&$.match(/^[1-9][0-9]*$/)?E=parseInt($)*1e3:E=s*parseInt(String(Math.random()*Math.pow(2,w))),yield Uee(E);continue}}}}catch(A){v=A.response,v==null&&(g.cancel(),Au.throwError("missing response",Re.errors.SERVER_ERROR,{requestBody:c0(c.body,m["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let b=v.body;if(u&&v.statusCode===304?b=null:!o&&(v.statusCode<200||v.statusCode>=300)&&(g.cancel(),Au.throwError("bad response",Re.errors.SERVER_ERROR,{status:v.statusCode,headers:v.headers,body:c0(b,v.headers?v.headers["content-type"]:null),requestBody:c0(c.body,m["content-type"]),requestMethod:c.method,url:l})),n)try{const A=yield n(b,v);return g.cancel(),A}catch(A){if(A.throttleRetry&&w<r){let E=!0;if(i&&(E=yield i(w,l)),E){const $=s*parseInt(String(Math.random()*Math.pow(2,w)));yield Uee($);continue}}g.cancel(),Au.throwError("processing response error",Re.errors.SERVER_ERROR,{body:c0(b,v.headers?v.headers["content-type"]:null),error:A,requestBody:c0(c.body,m["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),b}return Au.throwError("failed response",Re.errors.SERVER_ERROR,{requestBody:c0(c.body,m["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([g.promise,y])}function PV(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(OT(s))}catch(l){Au.throwError("invalid JSON",Re.errors.SERVER_ERROR,{body:s,error:l})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=Fp(e);const s=typeof t=="string"?{url:t}:za(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=za(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return ttt(t,i,r)}function c6(t,e){return e||(e={}),e=za(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&r(u)})}c()})}var MS="qpzry9x8gf2tvdw0s3jn54khce6mua7l",lL={};for(var QC=0;QC<MS.length;QC++){var BR=MS.charAt(QC);if(lL[BR]!==void 0)throw new TypeError(BR+" is ambiguous");lL[BR]=QC}function Uv(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function owe(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=Uv(e)^r>>5}for(e=Uv(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=Uv(e)^i&31}return e}function ntt(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=owe(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=Uv(r)^o,i+=MS.charAt(o)}for(s=0;s<6;++s)r=Uv(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=MS.charAt(a)}return i}function awe(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=owe(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),h=lL[u];if(h===void 0)return"Unknown character "+u;a=Uv(a)^h,!(c+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function rtt(){var t=awe.apply(null,arguments);if(typeof t=="object")return t}function itt(t){var e=awe.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function LT(t,e,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function stt(t){var e=LT(t,8,5,!0);if(Array.isArray(e))return e}function ott(t){var e=LT(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function att(t){var e=LT(t,5,8,!1);if(Array.isArray(e))return e}function ltt(t){var e=LT(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var ctt={decodeUnsafe:rtt,decode:itt,encode:ntt,toWordsUnsafe:stt,toWords:ott,fromWordsUnsafe:att,fromWords:ltt};const zee=Gs(ctt),FT="providers/5.8.0";function N3(t,e,n){return n={path:e,exports:{},require:function(r,i){return utt(r,i??n.path)}},t(n,n.exports),n.exports}function utt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var RV=lwe;function lwe(t,e){if(!t)throw new Error(e||"Assertion failed")}lwe.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Zu=N3(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,f=u&255;h?l.push(h,f):l.push(f)}return l}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}n.toHex=s,n.encode=function(a,l){return l==="hex"?s(a):a}}),rc=N3(function(t,e){var n=e;n.assert=RV,n.toArray=Zu.toArray,n.zero2=Zu.zero2,n.toHex=Zu.toHex,n.encode=Zu.encode;function r(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<c+1,m=l.clone();for(f=0;f<h.length;f++){var g,y=m.andln(p-1);m.isOdd()?(y>(p>>1)-1?g=(p>>1)-y:g=y,m.isubn(g)):g=0,h[f]=g,m.iushrn(1)}return h}n.getNAF=r;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||c.cmpn(-f)>0;){var m=l.andln(3)+h&3,g=c.andln(3)+f&3;m===3&&(m=-1),g===3&&(g=-1);var y;m&1?(p=l.andln(7)+h&7,(p===3||p===5)&&g===2?y=-m:y=m):y=0,u[0].push(y);var w;g&1?(p=c.andln(7)+f&7,(p===3||p===5)&&m===2?w=-g:w=g):w=0,u[1].push(w),2*h===y+1&&(h=1-h),2*f===w+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return u}n.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}n.cachedProperty=s;function o(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=o;function a(l){return new zt(l,"hex","le")}n.intFromLE=a}),DS=rc.getNAF,dtt=rc.getJSF,BS=rc.assert;function Cg(t,e){this.type=t,this.p=new zt(e.p,16),this.red=e.prime?zt.red(e.prime):zt.mont(this.p),this.zero=new zt(0).toRed(this.red),this.one=new zt(1).toRed(this.red),this.two=new zt(2).toRed(this.red),this.n=e.n&&new zt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Aw=Cg;Cg.prototype.point=function(){throw new Error("Not implemented")};Cg.prototype.validate=function(){throw new Error("Not implemented")};Cg.prototype._fixedNafMul=function(e,n){BS(e.precomputed);var r=e._getDoubles(),i=DS(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var c=a+r.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(r.points[a]):l===-f&&(h=h.mixedAdd(r.points[a].neg()));u=u.add(h)}return u.toP()};Cg.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=DS(n,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];BS(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Cg.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,f;for(u=0;u<i;u++){f=n[u];var p=f._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){l[m]=DS(r[m],o[m],this._bitLength),l[g]=DS(r[g],o[g],this._bitLength),c=Math.max(l[m].length,c),c=Math.max(l[g].length,c);continue}var y=[n[m],null,null,n[g]];n[m].y.cmp(n[g].y)===0?(y[1]=n[m].add(n[g]),y[2]=n[m].toJ().mixedAdd(n[g].neg())):n[m].y.cmp(n[g].y.redNeg())===0?(y[1]=n[m].toJ().mixedAdd(n[g]),y[2]=n[m].add(n[g].neg())):(y[1]=n[m].toJ().mixedAdd(n[g]),y[2]=n[m].toJ().mixedAdd(n[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],v=dtt(r[m],r[g]);for(c=Math.max(v[0].length,c),l[m]=new Array(c),l[g]=new Array(c),h=0;h<c;h++){var b=v[0][h]|0,A=v[1][h]|0;l[m][h]=w[(b+1)*3+(A+1)],l[g][h]=0,a[m]=y}}var E=this.jpoint(null,null,null),$=this._wnafT4;for(u=c;u>=0;u--){for(var N=0;u>=0;){var R=!0;for(h=0;h<i;h++)$[h]=l[h][u]|0,$[h]!==0&&(R=!1);if(!R)break;N++,u--}if(u>=0&&N++,E=E.dblp(N),u<0)break;for(h=0;h<i;h++){var M=$[h];M!==0&&(M>0?f=a[h][M-1>>1]:M<0&&(f=a[h][-M-1>>1].neg()),f.type==="affine"?E=E.mixedAdd(f):E=E.add(f))}}for(u=0;u<i;u++)a[u]=null;return s?E:E.toP()};function cu(t,e){this.curve=t,this.type=e,this.precomputed=null}Cg.BasePoint=cu;cu.prototype.eq=function(){throw new Error("Not implemented")};cu.prototype.validate=function(){return this.curve.validate(this)};Cg.prototype.decodePoint=function(e,n){e=rc.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?BS(e[e.length-1]%2===0):e[0]===7&&BS(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};cu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};cu.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};cu.prototype.encode=function(e,n){return rc.encode(this._encode(n),e)};cu.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};cu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};cu.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};cu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}};cu.prototype._getBeta=function(){return null};cu.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var jV=N3(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),htt=rc.assert;function uu(t){Aw.call(this,"short",t),this.a=new zt(t.a,16).toRed(this.red),this.b=new zt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}jV(uu,Aw);var ftt=uu;uu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new zt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new zt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],htt(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new zt(a.a,16),b:new zt(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}};uu.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:zt.mont(e),r=new zt(2).toRed(n).redInvm(),i=r.redNeg(),s=new zt(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};uu.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new zt(1),o=new zt(0),a=new zt(0),l=new zt(1),c,u,h,f,p,m,g,y=0,w,v;r.cmpn(0)!==0;){var b=i.div(r);w=i.sub(b.mul(r)),v=a.sub(b.mul(s));var A=l.sub(b.mul(o));if(!h&&w.cmp(n)<0)c=g.neg(),u=s,h=w.neg(),f=v;else if(h&&++y===2)break;g=w,i=r,r=w,a=s,s=v,l=o,o=A}p=w.neg(),m=v;var E=h.sqr().add(f.sqr()),$=p.sqr().add(m.sqr());return $.cmp(E)>=0&&(p=c,m=u),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),m=m.neg()),[{a:h,b:f},{a:p,b:m}]};uu.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),c=s.mul(r.b),u=o.mul(i.b),h=e.sub(a).sub(l),f=c.add(u).neg();return{k1:h,k2:f}};uu.prototype.pointFromX=function(e,n){e=new zt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)};uu.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};uu.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,r),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function As(t,e,n,r){Aw.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new zt(e,16),this.y=new zt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}jV(As,Aw.BasePoint);uu.prototype.point=function(e,n,r){return new As(this,e,n,r)};uu.prototype.pointFromJSON=function(e,n){return As.fromJSON(this,e,n)};As.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};As.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};As.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};As.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};As.prototype.isInfinity=function(){return this.inf};As.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};As.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};As.prototype.getX=function(){return this.x.fromRed()};As.prototype.getY=function(){return this.y.fromRed()};As.prototype.mul=function(e){return e=new zt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};As.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};As.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};As.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};As.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};As.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ys(t,e,n,r){Aw.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new zt(0)):(this.x=new zt(e,16),this.y=new zt(n,16),this.z=new zt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}jV(Ys,Aw.BasePoint);uu.prototype.jpoint=function(e,n,r){return new Ys(this,e,n,r)};Ys.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};Ys.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ys.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),f=i.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),m=c.redMul(f.redISub(p)).redISub(o.redMul(h)),g=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,m,g)};Ys.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=r.redMul(c),f=l.redSqr().redIAdd(u).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(f,p,m)};Ys.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var h=o.redSqr(),f=u.redSqr(),p=f.redSqr(),m=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),g=o.redMul(f),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),v=m.redMul(w);v=v.redIAdd(v).redISub(p);var b=u.redMul(l);n+1<e&&(c=c.redMul(p)),o=y,l=b,u=v}return this.curve.jpoint(o,u.redMul(s),l)};Ys.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ys.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(h).redISub(p);m=m.redIAdd(m);var g=h.redAdd(h).redIAdd(h),y=g.redSqr(),w=p.redIAdd(p);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),n=g.redMul(m.redISub(e)).redISub(w),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};Ys.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),m=this.x.redSub(h).redMul(this.x.redAdd(h));m=m.redAdd(m).redIAdd(m);var g=p.redIAdd(p);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var w=f.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),n=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,n,r)};Ys.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=n.redAdd(n);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=l.redMul(f).redISub(p),g=r.redAdd(r).redMul(i);return this.curve.jpoint(h,m,g)};Ys.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=n.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,p,m)};Ys.prototype.mul=function(e,n){return e=new zt(e,n),this.curve._wnafMul(this,e)};Ys.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Ys.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Ys.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ys.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var I9=N3(function(t,e){var n=e;n.base=Aw,n.short=ftt,n.mont=null,n.edwards=null}),T9=N3(function(t,e){var n=e,r=rc.assert;function i(a){a.type==="short"?this.curve=new I9.short(a):a.type==="edwards"?this.curve=new I9.edwards(a):this.curve=new I9.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,l){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Qd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Qd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Qd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Qd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Qd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qd.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Qd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function dg(t){if(!(this instanceof dg))return new dg(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Zu.toArray(t.entropy,t.entropyEnc||"hex"),n=Zu.toArray(t.nonce,t.nonceEnc||"hex"),r=Zu.toArray(t.pers,t.persEnc||"hex");RV(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var cwe=dg;dg.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};dg.prototype._hmac=function(){return new Qd.hmac(this.hash,this.K)};dg.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};dg.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=Zu.toArray(e,n),r=Zu.toArray(r,i),RV(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};dg.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=Zu.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,Zu.encode(o,n)};var cL=rc.assert;function Po(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var OV=Po;Po.fromPublic=function(e,n,r){return n instanceof Po?n:new Po(e,{pub:n,pubEnc:r})};Po.fromPrivate=function(e,n,r){return n instanceof Po?n:new Po(e,{priv:n,privEnc:r})};Po.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Po.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Po.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Po.prototype._importPrivate=function(e,n){this.priv=new zt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Po.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?cL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&cL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Po.prototype.derive=function(e){return e.validate()||cL(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Po.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};Po.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};Po.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ptt=rc.assert;function UT(t,e){if(t instanceof UT)return t;this._importDER(t,e)||(ptt(t.r&&t.s,"Signature without r or s"),this.r=new zt(t.r,16),this.s=new zt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zT=UT;function mtt(){this.place=0}function LR(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Wee(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}UT.prototype._importDER=function(e,n){e=rc.toArray(e,n);var r=new mtt;if(e[r.place++]!==48)return!1;var i=LR(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=LR(e,r);if(s===!1||e[r.place]&128)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=LR(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new zt(o),this.s=new zt(l),this.recoveryParam=null,!0};function FR(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}UT.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=Wee(n),r=Wee(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];FR(i,n.length),i=i.concat(n),i.push(2),FR(i,r.length);var s=i.concat(r),o=[48];return FR(o,s.length),o=o.concat(s),rc.encode(o,e)};var gtt=function(){throw new Error("unsupported")},ey=rc.assert;function Zc(t){if(!(this instanceof Zc))return new Zc(t);typeof t=="string"&&(ey(Object.prototype.hasOwnProperty.call(T9,t),"Unknown curve "+t),t=T9[t]),t instanceof T9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ytt=Zc;Zc.prototype.keyPair=function(e){return new OV(this,e)};Zc.prototype.keyFromPrivate=function(e,n){return OV.fromPrivate(this,e,n)};Zc.prototype.keyFromPublic=function(e,n){return OV.fromPublic(this,e,n)};Zc.prototype.genKeyPair=function(e){e||(e={});for(var n=new cwe({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||gtt(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new zt(2));;){var s=new zt(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Zc.prototype._truncateToN=function(e,n,r){var i;if(zt.isBN(e)||typeof e=="number")e=new zt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new zt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new zt(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};Zc.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!zt.isBN(e)){ey(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ey(e.length>>>0===e.length);for(var s=0;s<e.length;s++)ey((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),ey(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),l=e.toArray("be",o);ey(new zt(l).eq(e),"Can not sign message");for(var c=new cwe({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new zt(1)),h=0;;h++){var f=i.k?i.k(h):new zt(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var y=f.invm(this.n).mul(g.mul(n.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(p.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new zT({r:g,s:y,recoveryParam:w})}}}}}};Zc.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new zT(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,r.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(c,r.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};Zc.prototype.recoverPubKey=function(t,e,n,r){ey((3&n)===n,"The recovery param is more than two bits"),e=new zT(e,r);var i=this.n,s=new zt(t),o=e.r,a=e.s,l=n&1,c=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)};Zc.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new zT(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var wtt=N3(function(t,e){var n=e;n.version="6.6.1",n.utils=rc,n.rand=function(){throw new Error("unsupported")},n.curve=I9,n.curves=T9,n.ec=ytt,n.eddsa=null}),btt=wtt.ec;const vtt="signing-key/5.8.0",uL=new Re(vtt);let UR=null;function V0(){return UR||(UR=new btt("secp256k1")),UR}let xtt=class{constructor(e){$n(this,"curve","secp256k1"),$n(this,"privateKey",cn(e)),W1(this.privateKey)!==32&&uL.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=V0().keyFromPrivate(un(this.privateKey));$n(this,"publicKey","0x"+n.getPublic(!1,"hex")),$n(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),$n(this,"_isSigningKey",!0)}_addPoint(e){const n=V0().keyFromPublic(un(this.publicKey)),r=V0().keyFromPublic(un(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=V0().keyFromPrivate(un(this.privateKey)),r=un(e);r.length!==32&&uL.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return jT({recoveryParam:i.recoveryParam,r:pi("0x"+i.r.toString(16),32),s:pi("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=V0().keyFromPrivate(un(this.privateKey)),r=V0().keyFromPublic(un(uwe(e)));return pi("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Ett(t,e){const n=jT(e),r={r:un(n.r),s:un(n.s)};return"0x"+V0().recoverPubKey(un(t),r,n.recoveryParam).encode("hex",!1)}function uwe(t,e){const n=un(t);return n.length===32?new xtt(n).publicKey:n.length===33?"0x"+V0().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?cn(n):uL.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Att="transactions/5.8.0",Xp=new Re(Att);var Hee;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Hee||(Hee={}));function MV(t){return t==="0x"?null:md(t)}function ko(t){return t==="0x"?IJe:dt.from(t)}function Ctt(t){const e=uwe(t);return md(Ho(Fs(Ho(e,1)),12))}function dwe(t,e){return Ctt(Ett(un(t),e))}function Tl(t,e){const n=Ax(dt.from(t).toHexString());return n.length>32&&Xp.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function zR(t,e){return{address:md(t),storageKeys:(e||[]).map((n,r)=>(W1(n)!==32&&Xp.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function $A(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Xp.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),zR(n[0],n[1])):zR(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return zR(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function hwe(t){return $A(t).map(e=>[e.address,e.storageKeys])}function ktt(t,e){if(t.gasPrice!=null){const r=dt.from(t.gasPrice),i=dt.from(t.maxFeePerGas||0);r.eq(i)||Xp.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[Tl(t.chainId||0,"chainId"),Tl(t.nonce||0,"nonce"),Tl(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tl(t.maxFeePerGas||0,"maxFeePerGas"),Tl(t.gasLimit||0,"gasLimit"),t.to!=null?md(t.to):"0x",Tl(t.value||0,"value"),t.data||"0x",hwe(t.accessList||[])];if(e){const r=jT(e);n.push(Tl(r.recoveryParam,"recoveryParam")),n.push(Ax(r.r)),n.push(Ax(r.s))}return Dl(["0x02",DT(n)])}function _tt(t,e){const n=[Tl(t.chainId||0,"chainId"),Tl(t.nonce||0,"nonce"),Tl(t.gasPrice||0,"gasPrice"),Tl(t.gasLimit||0,"gasLimit"),t.to!=null?md(t.to):"0x",Tl(t.value||0,"value"),t.data||"0x",hwe(t.accessList||[])];if(e){const r=jT(e);n.push(Tl(r.recoveryParam,"recoveryParam")),n.push(Ax(r.r)),n.push(Ax(r.s))}return Dl(["0x01",DT(n)])}function fwe(t,e,n){try{const r=ko(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Xp.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=pi(e[1],32),t.s=pi(e[2],32);try{const r=Fs(n(t));t.from=dwe(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Stt(t){const e=$V(t.slice(1));e.length!==9&&e.length!==12&&Xp.throwArgumentError("invalid component count for transaction type: 2","payload",cn(t));const n=ko(e[2]),r=ko(e[3]),i={type:2,chainId:ko(e[0]).toNumber(),nonce:ko(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:ko(e[4]),to:MV(e[5]),value:ko(e[6]),data:e[7],accessList:$A(e[8])};return e.length===9||(i.hash=Fs(t),fwe(i,e.slice(9),ktt)),i}function Itt(t){const e=$V(t.slice(1));e.length!==8&&e.length!==11&&Xp.throwArgumentError("invalid component count for transaction type: 1","payload",cn(t));const n={type:1,chainId:ko(e[0]).toNumber(),nonce:ko(e[1]).toNumber(),gasPrice:ko(e[2]),gasLimit:ko(e[3]),to:MV(e[4]),value:ko(e[5]),data:e[6],accessList:$A(e[7])};return e.length===8||(n.hash=Fs(t),fwe(n,e.slice(8),_tt)),n}function Ttt(t){const e=$V(t);e.length!==9&&e.length!==6&&Xp.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:ko(e[0]).toNumber(),gasPrice:ko(e[1]),gasLimit:ko(e[2]),to:MV(e[3]),value:ko(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=dt.from(e[6]).toNumber()}catch{return n}if(n.r=pi(e[7],32),n.s=pi(e[8],32),dt.from(n.r).isZero()&&dt.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(cn(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=Fs(DT(i));try{n.from=dwe(s,{r:cn(n.r),s:cn(n.s),recoveryParam:r})}catch{}n.hash=Fs(t)}return n.type=null,n}function $tt(t){const e=un(t);if(e[0]>127)return Ttt(e);switch(e[0]){case 1:return Itt(e);case 2:return Stt(e)}return Xp.throwError(`unsupported transaction type: ${e[0]}`,Re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const v5=new Re(FT);class kt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:kt.allowNull(this.accessList.bind(this),null),blockHash:kt.allowNull(o,null),blockNumber:kt.allowNull(l,null),transactionIndex:kt.allowNull(l,null),confirmations:kt.allowNull(l,null),from:n,gasPrice:kt.allowNull(r),maxPriorityFeePerGas:kt.allowNull(r),maxFeePerGas:kt.allowNull(r),gasLimit:r,to:kt.allowNull(n,null),value:r,nonce:l,data:s,r:kt.allowNull(this.uint256),s:kt.allowNull(this.uint256),v:kt.allowNull(l),creates:kt.allowNull(n,null),raw:kt.allowNull(s)},e.transactionRequest={from:kt.allowNull(n),nonce:kt.allowNull(l),gasLimit:kt.allowNull(r),gasPrice:kt.allowNull(r),maxPriorityFeePerGas:kt.allowNull(r),maxFeePerGas:kt.allowNull(r),to:kt.allowNull(n),value:kt.allowNull(r),data:kt.allowNull(u),type:kt.allowNull(l),accessList:kt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:n,topics:kt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:kt.allowNull(this.address,null),from:kt.allowNull(this.address,null),contractAddress:kt.allowNull(n,null),transactionIndex:l,root:kt.allowNull(a),gasUsed:r,logsBloom:kt.allowNull(s),blockHash:o,transactionHash:o,logs:kt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:kt.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:kt.allowNull(r),status:kt.allowNull(l),type:c},e.block={hash:kt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:kt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:kt.allowNull(n),extraData:s,transactions:kt.allowNull(kt.arrayOf(o)),baseFeePerGas:kt.allowNull(r)},e.blockWithTransactions=za(e.block),e.blockWithTransactions.transactions=kt.allowNull(kt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:kt.allowNull(i,void 0),toBlock:kt.allowNull(i,void 0),blockHash:kt.allowNull(o,void 0),address:kt.allowNull(n,void 0),topics:kt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:kt.allowNull(l),blockHash:kt.allowNull(o),transactionIndex:l,removed:kt.allowNull(this.boolean.bind(this)),address:n,data:kt.allowFalsish(s,"0x"),topics:kt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return $A(e||[])}number(e){return e==="0x"?0:dt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:dt.from(e).toNumber()}bigNumber(e){return dt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),yr(e))?e.toLowerCase():v5.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return md(e)}callAddress(e){if(!yr(e,32))return null;const n=md(Ho(e,12));return n===SJe?null:n}contractAddress(e){return fXe(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||yr(e))return SV(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return W1(r)!==32?v5.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=dt.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!yr(e))throw new Error("invalid uint256");return pi(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=kt.check(n,e);return i._difficulty=r==null?null:dt.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return kt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&dt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=kt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;yr(r)&&(r=dt.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),yr(r)&&(r=dt.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return $tt(e)}receiptLog(e){return kt.check(this.formats.receiptLog,e)}receipt(e){const n=kt.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=dt.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&v5.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):v5.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&v5.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return kt.check(this.formats.filter,e)}filterLog(e){return kt.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var Xt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const En=new Re(FT),Ntt=10;function Vee(t){return t==null?"null":(W1(t)!==32&&En.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function qee(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[Vee(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return Vee(e)}).join("&")}function Ptt(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function Zw(t){if(typeof t=="string"){if(t=t.toLowerCase(),W1(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+qee(t);if(AJe.isForkEvent(t))throw En.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+qee(t.topics||[])}throw new Error("invalid event - "+t)}function x5(){return new Date().getTime()}function Gee(t){return new Promise(e=>{setTimeout(e,t)})}const Rtt=["block","network","pending","poll"];let jtt=class{constructor(e,n,r){$n(this,"tag",e),$n(this,"listener",n),$n(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=Ptt(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||Rtt.indexOf(this.tag)>=0}};const Ott={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function WR(t){return pi(dt.from(t).toHexString(),32)}function Kee(t){return iL.encode(Ey([t,Ho(Fee(Fee(t)),0,4)]))}const pwe=new RegExp("^(ipfs)://(.*)$","i"),Yee=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),pwe,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function $9(t,e){try{return OT(j8(t,e))}catch{}return null}function j8(t,e){if(t==="0x")return null;const n=dt.from(Ho(t,e,e+32)).toNumber(),r=dt.from(Ho(t,n,n+32)).toNumber();return Ho(t,n+32,n+32+r)}function HR(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):En.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Qee(t){const e=un(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Mtt(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function mwe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=un(t[r]);e[r]=Qee(n),e.push(Qee(i.length)),e.push(Mtt(i)),n+=32+Math.ceil(i.length/32)*32}return Dl(e)}class Zee{constructor(e,n,r,i){$n(this,"provider",e),$n(this,"name",r),$n(this,"address",e.formatter.address(n)),$n(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>dt.from(e).eq(1)).catch(e=>{if(e.code===Re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Xt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Dl([e,S9(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Dl(["0x9061b923",mwe([aXe(this.name),r.data])]));try{let s=yield this.provider.call(r);return un(s).length%32===4&&En.throwError("resolver threw error",Re.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=j8(s,0)),s}catch(s){if(s.code===Re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return Xt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?j8(r,0):null})}_getAddress(e,n){const r=Ott[String(e)];if(r==null&&En.throwError(`unsupported coin type: ${e}`,Re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=un(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Kee(Ey([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Kee(Ey([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=zee.toWords(i.slice(2));return a.unshift(o),zee.encode(r.prefix,a)}}return null}getAddress(e){return Xt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===TJe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Re.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",WR(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&En.throwError("invalid or unsupported coin data",Re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Xt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<Yee.length;r++){const i=n.match(Yee[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:HR(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=pi(dt.from(l[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Dl(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=dt.from(yield this.provider.call({to:c,data:Dl(["0x00fdd58e",pi(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const h={to:this.provider.formatter.address(l[0]),data:Dl([o,u])};let f=$9(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=HR(f)),e.push({type:"metadata-url",content:f});const p=yield PV(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let m=p.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(pwe)==null)return null;e.push({type:"url-ipfs",content:m}),m=HR(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return Xt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+iL.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+iL.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+E1e("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return En.throwError("invalid or unsupported content hash data",Re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Xt(this,void 0,void 0,function*(){let n=Fp(e);n=Ey([WR(64),WR(n.length),n]),n.length%32!==0&&(n=Ey([n,pi("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",cn(n));return r==null||r==="0x"?null:OT(r)})}}let VR=null,Dtt=1;class Btt extends TV{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),$n(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=l6(new.target,"getNetwork")(e);n?($n(this,"_network",n),this.emit("network",n,null)):En.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Xt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||En.throwError("no network detected",Re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:$n(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return c6(()=>this._ready().then(e=>e,e=>{if(!(e.code===Re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return VR==null&&(VR=new kt),VR}static getNetwork(e){return _Je(e??"homestead")}ccipReadFetch(e,n,r){return Xt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield PV({url:c,errorPassThrough:!0},u,(p,m)=>(p.status=m.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return En.throwError(`response not found during CCIP fetch: ${f}`,Re.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return En.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,Re.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Xt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(x5()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=x5(),r=Ms({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=x5();return i=dt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Xt(this,void 0,void 0,function*(){const e=Dtt++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)En.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",En.makeError("network block skew detected",Re.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Xt(this,void 0,void 0,function*(){return En.throwError("provider does not support network detection",Re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Xt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield Gee(0),this._network;const r=En.makeError("underlying network changed",Re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=x5();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=x5(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Xt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Xt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<n||u()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const m=g=>Xt(this,void 0,void 0,function*(){c||(yield Gee(1e3),this.getTransactionCount(i.from).then(y=>Xt(this,void 0,void 0,function*(){if(!c){if(y<=i.nonce)f=g;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=g;){if(c)return;const w=yield this.getBlockWithTransactions(p);for(let v=0;v<w.transactions.length;v++){const b=w.transactions[v];if(b.hash===e)return;if(b.from===i.from&&b.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(b.hash,n);if(u())return;let E="replaced";b.data===i.data&&b.to===i.to&&b.value.eq(i.value)?E="repriced":b.data==="0x"&&b.from===b.to&&b.value.isZero()&&(E="cancelled"),a(En.makeError("transaction was replaced",Re.errors.TRANSACTION_REPLACED,{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:this._wrapTransaction(b),hash:e,receipt:A}));return}}p++}}c||this.once("block",m)}}),y=>{c||this.once("block",m)}))});if(c)return;this.once("block",m),l.push(()=>{this.removeListener("block",m)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{u()||a(En.makeError("timeout exceeded",Re.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Xt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return dt.from(e)}catch(n){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ms({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return dt.from(i)}catch(s){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ms({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return dt.from(i).toNumber()}catch(s){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ms({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return cn(i)}catch(s){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ms({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>SV(o))}),s=yield this.perform("getStorageAt",i);try{return cn(s)}catch(o){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&W1(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&En.throwError("Transaction hash mismatch from Provider.sendTransaction.",Re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>Xt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&En.throwError("transaction failed",Re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>cn(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Xt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?dt.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?cn(s):null))}),this.formatter.transactionRequest(yield Ms(r))})}_getFilter(e){return Xt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Ms(n))})}_call(e,n,r){return Xt(this,void 0,void 0,function*(){r>=Ntt&&En.throwError("CCIP read exceeded maximum redirections",Re.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&W1(s)%32===4)try{const o=Ho(s,4),a=Ho(o,0,32);dt.from(a).eq(i)||En.throwError("CCIP Read sender did not match",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=dt.from(Ho(o,32,64)).toNumber(),u=dt.from(Ho(o,c,c+32)).toNumber(),h=Ho(o,c+32);for(let w=0;w<u;w++){const v=$9(h,w*32);v==null&&En.throwError("CCIP Read contained corrupt URL string",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(v)}const f=j8(o,64);dt.from(Ho(o,100,128)).isZero()||En.throwError("CCIP Read callback selector included junk",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=Ho(o,96,100),m=j8(o,128),g=yield this.ccipReadFetch(e,f,l);g==null&&En.throwError("CCIP Read disabled or provided no URLs",Re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y={to:i,data:Dl([p,mwe([g,m])])};return this._call(y,n,r+1)}catch(o){if(o.code===Re.errors.SERVER_ERROR)throw o}try{return cn(s)}catch(o){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ms({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ms({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return dt.from(r)}catch(i){return En.throwError("bad result from backend",Re.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Xt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&En.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&En.throwError("ENS name not configured",Re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Xt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(yr(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),yr(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{En.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return c6(()=>Xt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Xt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return c6(()=>Xt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Xt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return c6(()=>Xt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Xt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ms({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),kt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Xt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Xt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&En.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Xt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new Zee(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Xt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||En.throwError("network does not support ENS",Re.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+S9(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Xt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(yr(e))throw r}typeof e!="string"&&En.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Xt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=$9(yield this.call({to:r,data:"0x691f3431"+S9(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Xt(this,void 0,void 0,function*(){let n=null;if(yr(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new Zee(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==Re.errors.CALL_EXCEPTION)throw a}try{const a=$9(yield this.call({to:o,data:"0x691f3431"+S9(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==Re.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return En.throwError(e+" not implemented",Re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new jtt(Zw(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=Zw(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=Zw(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=Zw(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=Zw(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=Zw(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var Nf=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Di=new Re(FT),Ltt=["call","estimateGas"];function G6(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=yr(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=G6(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return G6(JSON.parse(t),e)}catch{}return null}function gwe(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=G6(e,!0);if(s)return s.data;Di.throwError("missing revert data in call exception; Transaction reverted without a reason string",Re.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=G6(e.body,!1);s==null&&(s=G6(e,!1)),s&&Di.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===Re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Di.throwError("insufficient funds for intrinsic transaction cost",Re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&Di.throwError("nonce has already been used",Re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Di.throwError("replacement fee too low",Re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&Di.throwError("legacy pre-eip-155 transactions not supported",Re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),Ltt.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Di.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function Jee(t){return new Promise(function(e){setTimeout(e,t)})}function Ftt(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function E5(t){return t&&t.toLowerCase()}const dL={};let ywe=class extends RT{constructor(e,n,r){if(super(),e!==dL)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");$n(this,"provider",n),r==null&&(r=0),typeof r=="string"?($n(this,"_address",this.provider.formatter.address(r)),$n(this,"_index",null)):typeof r=="number"?($n(this,"_index",r),$n(this,"_address",null)):Di.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Di.throwError("cannot alter JSON-RPC Signer connection",Re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Utt(dL,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Di.throwError("unknown account #"+this._index,Re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=za(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=za(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Nf(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Di.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Ms({tx:Ms(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Di.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Di.throwError("user rejected transaction",Re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),gwe("sendTransaction",o,s)))})}signTransaction(e){return Di.throwError("signing transactions is unsupported",Re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Nf(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield c6(()=>Nf(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Nf(this,void 0,void 0,function*(){const n=typeof e=="string"?Fp(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[cn(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Di.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Nf(this,void 0,void 0,function*(){const n=typeof e=="string"?Fp(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),cn(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Di.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return Nf(this,void 0,void 0,function*(){const i=yield Oee.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Oee.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Di.throwError("user rejected signing",Re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return Nf(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}};class Utt extends ywe{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const ztt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let Wtt=class extends Btt{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=l6(this.constructor,"defaultUrl")()),typeof e=="string"?$n(this,"connection",Object.freeze({url:e})):$n(this,"connection",Object.freeze(za(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Nf(this,void 0,void 0,function*(){yield Jee(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=l6(this.constructor,"getNetwork");try{return n(dt.from(e).toNumber())}catch(r){return Di.throwError("could not detect network",Re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Di.throwError("could not detect network",Re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ywe(dL,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:N8(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=PV(this.connection,JSON.stringify(r),Ftt).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[E5(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[E5(n.address),n.blockTag]];case"getCode":return["eth_getCode",[E5(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[E5(n.address),pi(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[l6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[l6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=E5(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Nf(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&dt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=za(n),n.transaction=za(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Di.throwError(e+" not implemented",Re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return gwe(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return Jee(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=za(ztt);if(n)for(const s in n)n[s]&&(r[s]=!0);iJe(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=SV(dt.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=cn(e[s]))}),e.accessList&&(i.accessList=$A(e.accessList)),i}};var Htt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Vtt=new Re(FT);class qtt extends Wtt{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Htt(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||Vtt.throwError("no network detected",Re.errors.UNKNOWN_ERROR,{}),this._network==null&&($n(this,"_network",n),this.emit("network",n,null))),n})}}function hL(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const wwe=t=>[ou.id,TT.id].includes(t),Gtt=async(t,e)=>{if(!wwe(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:n}=await e.getFeeData();if(n){let r=n.mul(dt.from(120)).div(dt.from(100));t.maxFeePerGas=hL(r),t.maxPriorityFeePerGas=hL(dt.from(0))}}catch(n){throw Error(`Failed to set gas price for Arbitrum transaction: ${n}.`)}return t},bwe=t=>[56,97].includes(t),Ktt=async(t,e)=>{var n;if(!bwe(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=(n=r.gasPrice)==null?void 0:n.toHexString()}return t},vwe=t=>[au.id,$T.id,nf.id,PT.id,xV.id,u1e.id,c1e.id,81457,168587773].includes(t),Ytt=async(t,e)=>{if(!vwe(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let n=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=n}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:n}=await e.getFeeData();if(!n)throw Error("Unable to fetch baseFee for last block.");let r=dt.from(n).mul(dt.from(126)).div(dt.from(100)).add(dt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=hL(r)}}catch(n){throw Error(`Failed to set gas price for OP stack transaction: ${n}.`)}return t},Qtt="units/5.8.0",Ztt=new Re(Qtt),Jtt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Xee(t,e){if(typeof t!="string"&&Ztt.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=Jtt.indexOf(e);n!==-1&&(e=3*n)}return qd(t,e??18)}var xwe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Wl,function(){var n=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!r(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!r(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var h=o.retries,f=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")f=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(m,g){var y=function(v){var b=typeof Request<"u"&&c instanceof Request?c.clone():c;s(b,u).then(function(A){if(Array.isArray(p)&&p.indexOf(A.status)===-1)m(A);else if(typeof p=="function")try{return Promise.resolve(p(v,null,A)).then(function(E){E?w(v,null,A):m(A)}).catch(g)}catch(E){g(E)}else v<h?w(v,null,A):m(A)}).catch(function(A){if(typeof p=="function")try{Promise.resolve(p(v,A,null)).then(function(E){E?w(v,A,null):g(A)}).catch(function(E){g(E)})}catch(E){g(E)}else v<h?w(v,A,null):g(A)})};function w(v,b,A){var E=typeof f=="function"?f(v,b,A):f;setTimeout(function(){y(++v)},E)}y(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(xwe);var Xtt=xwe.exports;const DV=Gs(Xtt);let ent=DV(fetch,{retries:3,retryDelay:500});const Ewe=t=>[sl.id,SA.id].includes(t);let qR=t=>({maxPriorityFee:Xee(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:Xee(t.maxFee.toFixed(9),"gwei").toHexString()}),tnt=t=>({safeLow:qR(t.safeLow),standard:qR(t.standard),fast:qR(t.fast)});const nnt=async t=>{let e="";switch(t){case sl.id:e="https://gasstation.polygon.technology/v2";break;case SA.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let n=await ent(e),r=await n.json();if(n.status>399)throw r;return tnt(r)};async function rnt(t){if(!Ewe(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await nnt(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const int=async(t,e)=>{var n,r,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(n=s.maxFeePerGas)==null?void 0:n.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(r=s.maxPriorityFeePerGas)==null?void 0:r.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function snt(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!r)throw n;return r}}const ete=(t,e,n,r)=>{var o,a,l,c;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new f1e(`Unsupported chainId ${t}`,4901);return new qtt(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:n.rpcUrls&&n.rpcUrls[i]?n.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":r.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(l=s.rpcUrls.public)==null?void 0:l.http[0]:(c=s.rpcUrls.default)==null?void 0:c.http[0])},ont=(t,e,n)=>{var o,a,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",n),r=c.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new f1e(`No RPC url found for ${i}`);return r};function Awe(t){return/^-?0x[a-f0-9]+$/i.test(t)}function ant(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let n=t[e];if(n!==void 0&&!function(r){let i=typeof r=="number",s=typeof r=="bigint",o=typeof r=="string"&&Awe(r);return i||s||o}(n))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function tte(t,e,n){if(e.chainId=Number(e.chainId),ant(e),e.from||(e.from=t),!e.nonce){let r=new CV(t,n);e.nonce=await r.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await snt(e,n)),typeof e.type=="string"&&Awe(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=Ewe(e.chainId)?await rnt(e):wwe(e.chainId)?await Gtt(e,n):vwe(e.chainId)?await Ytt(e,n):bwe(e.chainId)?await Ktt(e,n):await int(e,n)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function lnt({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function Cwe(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let cnt=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function unt(t,e,n,r,i=!1,s,o){var u,h,f;let a=i,l=async p=>{var m;if(a){p===(i?0:1)?r():(m=n.current)==null||m.reject(new k9("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((y,w)=>{e.current={resolve:y,reject:w},setTimeout(()=>{var b;let v=new k9("mfa_timeout","Timed out waiting for MFA code");(b=n.current)==null||b.reject(v),w(v)},o)});return await t(g)}return await t()},c=null;for(let p=0;p<s;p++)try{c=await l(p),(u=n.current)==null||u.resolve(void 0);break}catch(m){if(m.type!=="missing_or_invalid_mfa")throw(h=n.current)==null||h.resolve(void 0),m;a=!0}if(c===null){let p=new k9("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=n.current)==null||f.reject(p),p}return c}var nte;let dnt=(nte=0,()=>"id-"+nte++),hnt=(t,e)=>typeof e=="bigint"?e.toString():e,u0=(t,{ms:e,msg:n})=>Promise.race([t,Cwe(e??15e3).then(()=>Promise.reject(Error(n)))]),rte=new cnt,ite=class{invokeWithMfa(e,n){return u0(unt(r=>u0(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return u0(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return u0(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return u0(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return u0(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return u0(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return u0(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=rte.dequeue(e.event,e.id);return e.error!==void 0?n(new k9(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await Cwe(150)})}invoke(e,n){let r=((s,o)=>`${s}${JSON.stringify(o,hnt)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,o)=>{let a=dnt();rte.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var kwe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(kwe);var fnt=kwe.exports;const BV=Gs(fnt);let pnt=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const mnt=t=>pnt.includes(t),LS=t=>/^0x[0-9a-fA-F]*$/.test(t),FS=t=>Buffer.from(t,"utf8"),O8=t=>`0x${t.toString("hex")}`;var gnt=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const ynt=Gs(gnt);async function wnt(t,e){let n=ynt(e);if(n===void 0)throw new Qn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Vu(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(bR,{params:{wallet_id:n}}),method:bR.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await wnt(e,i);return await t.fetchPrivyRoute(bR,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function bnt(t){return{from:t.from,to:t.to,nonce:Bg(t.nonce),chain_id:Bg(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?LS(e)?e:O8(FS(e)):O8(Buffer.from(Uint8Array.from(e)))}(t.data),value:Bg(t.value),type:t.type,gas_limit:Bg(t.gasLimit),gas_price:Bg(t.gasPrice),max_fee_per_gas:Bg(t.maxFeePerGas),max_priority_fee_per_gas:Bg(t.maxPriorityFeePerGas)}}function Bg(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return LS(t)?t:O8(FS(t))}function vnt(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function _we({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Vu(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Vu(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:bnt(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Vu(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:vnt(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Vu(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:LS(o)?o:O8(FS(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Vu(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:LS(o)?o:O8(FS(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Vu(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let GR=class extends BV{async request(e){var n,r;if(mnt(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(n=e.params)==null?void 0:n[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(r=e.params)==null?void 0:r[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=ete(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e);return tte(this._account.address,n,this._jsonRpcProvider)}async handleSendTransaction(e){let n=this.ensureChainId(e),r=await tte(this._account.address,n,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(n.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(r){console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from' address`);try{return delete n.from,await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),r}}}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new cee(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new cee(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(X0(r)){let{data:i}=await _we({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=AV(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,l)=>{var c;o=setTimeout(()=>l(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((c=this._onNeedsRecovery)==null?void 0:c.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=ete(l,o,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}};function fL(t){return"version"in t}function ste(t,e){let n=(fL(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let xnt=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=AV(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!X0(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await _we({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,o=ste(r,this._account.address),a=fL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(o,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=ste(r,this._account.address),s=fL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},Ent=class{setMessagePoster(e){this._proxy=new ite(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Qn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await IR({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return X0(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new QZe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){var c,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((c=this._privyInternal.config)==null?void 0:c.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Qn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await IR({context:{app:this._appApi,fetchPrivyRoute:(...h)=>this._privyInternal.fetch(...h),getCompiledPath:(...h)=>this._privyInternal.getPath(...h)},chainType:"ethereum"})}else{let h;if(h=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(h==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let f=await this._privyInternal.getAccessToken();if(!f)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:f,recoveryMethod:h,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var n,r;if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await IR({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new Qn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return X0(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new GR({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return X0(e)||(!l||i||s||o||a)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new GR({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,o,a){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return X0(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new xnt({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(X0(n))throw new Qn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});lnt({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let o;if(r.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:n.chain_type!=="ethereum"?null:new GR({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:n}),e}catch(c){if(AV(c))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw c}}constructor(e,n,r,i,s,o){if(this._chains=Array.from(IA),this._privyInternal=e,n&&(this._proxy=new ite(n,s),i.setProxy(this._proxy)),r){let a=h1e(r);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},Ant=class extends BV{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var ZC,Cnt=new Uint8Array(16);function Swe(){if(!ZC&&(ZC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ZC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZC(Cnt)}const knt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function WT(t){return typeof t=="string"&&knt.test(t)}var Ts=[];for(var KR=0;KR<256;++KR)Ts.push((KR+256).toString(16).substr(1));function HT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ts[t[e+0]]+Ts[t[e+1]]+Ts[t[e+2]]+Ts[t[e+3]]+"-"+Ts[t[e+4]]+Ts[t[e+5]]+"-"+Ts[t[e+6]]+Ts[t[e+7]]+"-"+Ts[t[e+8]]+Ts[t[e+9]]+"-"+Ts[t[e+10]]+Ts[t[e+11]]+Ts[t[e+12]]+Ts[t[e+13]]+Ts[t[e+14]]+Ts[t[e+15]]).toLowerCase();if(!WT(n))throw TypeError("Stringified UUID is invalid");return n}var ote,YR,QR=0,ZR=0;function _nt(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||ote,o=t.clockseq!==void 0?t.clockseq:YR;if(s==null||o==null){var a=t.random||(t.rng||Swe)();s==null&&(s=ote=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=YR=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:ZR+1,u=l-QR+(c-ZR)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>QR)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");QR=l,ZR=c,YR=o,l+=122192928e5;var h=((l&268435455)*1e4+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=h&255;var f=l/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return e||HT(i)}function Iwe(t){if(!WT(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Snt(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Int="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Tnt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Twe(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=Snt(i)),typeof s=="string"&&(s=Iwe(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return HT(l)}try{r.name=t}catch{}return r.DNS=Int,r.URL=Tnt,r}function $nt(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return Nnt(Pnt(Rnt(t),t.length*8))}function Nnt(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function $we(t){return(t+64>>>9<<4)+14+1}function Pnt(t,e){t[e>>5]|=128<<e%32,t[$we(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=no(n,r,i,s,t[o],7,-680876936),s=no(s,n,r,i,t[o+1],12,-389564586),i=no(i,s,n,r,t[o+2],17,606105819),r=no(r,i,s,n,t[o+3],22,-1044525330),n=no(n,r,i,s,t[o+4],7,-176418897),s=no(s,n,r,i,t[o+5],12,1200080426),i=no(i,s,n,r,t[o+6],17,-1473231341),r=no(r,i,s,n,t[o+7],22,-45705983),n=no(n,r,i,s,t[o+8],7,1770035416),s=no(s,n,r,i,t[o+9],12,-1958414417),i=no(i,s,n,r,t[o+10],17,-42063),r=no(r,i,s,n,t[o+11],22,-1990404162),n=no(n,r,i,s,t[o+12],7,1804603682),s=no(s,n,r,i,t[o+13],12,-40341101),i=no(i,s,n,r,t[o+14],17,-1502002290),r=no(r,i,s,n,t[o+15],22,1236535329),n=ro(n,r,i,s,t[o+1],5,-165796510),s=ro(s,n,r,i,t[o+6],9,-1069501632),i=ro(i,s,n,r,t[o+11],14,643717713),r=ro(r,i,s,n,t[o],20,-373897302),n=ro(n,r,i,s,t[o+5],5,-701558691),s=ro(s,n,r,i,t[o+10],9,38016083),i=ro(i,s,n,r,t[o+15],14,-660478335),r=ro(r,i,s,n,t[o+4],20,-405537848),n=ro(n,r,i,s,t[o+9],5,568446438),s=ro(s,n,r,i,t[o+14],9,-1019803690),i=ro(i,s,n,r,t[o+3],14,-187363961),r=ro(r,i,s,n,t[o+8],20,1163531501),n=ro(n,r,i,s,t[o+13],5,-1444681467),s=ro(s,n,r,i,t[o+2],9,-51403784),i=ro(i,s,n,r,t[o+7],14,1735328473),r=ro(r,i,s,n,t[o+12],20,-1926607734),n=io(n,r,i,s,t[o+5],4,-378558),s=io(s,n,r,i,t[o+8],11,-2022574463),i=io(i,s,n,r,t[o+11],16,1839030562),r=io(r,i,s,n,t[o+14],23,-35309556),n=io(n,r,i,s,t[o+1],4,-1530992060),s=io(s,n,r,i,t[o+4],11,1272893353),i=io(i,s,n,r,t[o+7],16,-155497632),r=io(r,i,s,n,t[o+10],23,-1094730640),n=io(n,r,i,s,t[o+13],4,681279174),s=io(s,n,r,i,t[o],11,-358537222),i=io(i,s,n,r,t[o+3],16,-722521979),r=io(r,i,s,n,t[o+6],23,76029189),n=io(n,r,i,s,t[o+9],4,-640364487),s=io(s,n,r,i,t[o+12],11,-421815835),i=io(i,s,n,r,t[o+15],16,530742520),r=io(r,i,s,n,t[o+2],23,-995338651),n=so(n,r,i,s,t[o],6,-198630844),s=so(s,n,r,i,t[o+7],10,1126891415),i=so(i,s,n,r,t[o+14],15,-1416354905),r=so(r,i,s,n,t[o+5],21,-57434055),n=so(n,r,i,s,t[o+12],6,1700485571),s=so(s,n,r,i,t[o+3],10,-1894986606),i=so(i,s,n,r,t[o+10],15,-1051523),r=so(r,i,s,n,t[o+1],21,-2054922799),n=so(n,r,i,s,t[o+8],6,1873313359),s=so(s,n,r,i,t[o+15],10,-30611744),i=so(i,s,n,r,t[o+6],15,-1560198380),r=so(r,i,s,n,t[o+13],21,1309151649),n=so(n,r,i,s,t[o+4],6,-145523070),s=so(s,n,r,i,t[o+11],10,-1120210379),i=so(i,s,n,r,t[o+2],15,718787259),r=so(r,i,s,n,t[o+9],21,-343485551),n=Pm(n,a),r=Pm(r,l),i=Pm(i,c),s=Pm(s,u)}return[n,r,i,s]}function Rnt(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array($we(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Pm(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function jnt(t,e){return t<<e|t>>>32-e}function VT(t,e,n,r,i,s){return Pm(jnt(Pm(Pm(e,t),Pm(r,s)),i),n)}function no(t,e,n,r,i,s,o){return VT(e&n|~e&r,t,e,i,s,o)}function ro(t,e,n,r,i,s,o){return VT(e&r|n&~r,t,e,i,s,o)}function io(t,e,n,r,i,s,o){return VT(e^n^r,t,e,i,s,o)}function so(t,e,n,r,i,s,o){return VT(n^(e|~r),t,e,i,s,o)}var Ont=Twe("v3",48,$nt);function US(t,e,n){t=t||{};var r=t.random||(t.rng||Swe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return HT(r)}function Mnt(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function JR(t,e){return t<<e|t>>>32-e}function Dnt(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[h][p];for(var m=16;m<80;++m)f[m]=JR(f[m-3]^f[m-8]^f[m-14]^f[m-16],1);for(var g=n[0],y=n[1],w=n[2],v=n[3],b=n[4],A=0;A<80;++A){var E=Math.floor(A/20),$=JR(g,5)+Mnt(E,y,w,v)+b+e[E]+f[A]>>>0;b=v,v=w,w=JR(y,30)>>>0,y=g,g=$}n[0]=n[0]+g>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Bnt=Twe("v5",80,Dnt);const Lnt="00000000-0000-0000-0000-000000000000";function Fnt(t){if(!WT(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const Unt=Object.freeze(Object.defineProperty({__proto__:null,NIL:Lnt,parse:Iwe,stringify:HT,v1:_nt,v3:Ont,v4:US,v5:Bnt,validate:WT,version:Fnt},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var znt={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function pL(t,e){function n(i,s,o){if(!(typeof document>"u")){o=JC({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",JC({},s,{expires:-1}))},withAttributes:function(i){return pL(this.converter,JC({},this.attributes,i))},withConverter:function(i){return pL(JC({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Ei=pL(znt,{path:"/"});const ate=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let Jw="privy:token",XR="privy-token",XC="privy:refresh_token",ej="privy-refresh-token",Xw="privy:id-token",tj="privy-id-token",ek="privy-session",Nwe=class extends BV{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(Jw);try{return typeof e=="string"?new a6(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(XC);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(Xw);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Ei.get(ek);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=a6.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await ate([this._storage.del(Jw),this._storage.del(XC),this._storage.del(Xw),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Ei.remove(XR),Ei.remove(ej),Ei.remove(tj),Ei.remove(ek),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(Jw);if(await this._storage.put(Jw,e),!this._isUsingServerCookies){let i=(n=a6.parse(e))==null?void 0:n.expiration;Ei.set(XR,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(Jw);await this._storage.del(Jw),Ei.remove(XR),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(XC,e),this._isUsingServerCookies||(Ei.set(ek,"t",{sameSite:"Strict",secure:!0,expires:30}),Ei.set(ej,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(XC),Ei.remove(ej),Ei.remove(ek),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await ate([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(Xw);if(await this._storage.put(Xw,e),!this._isUsingServerCookies){let i=(n=a6.parse(e))==null?void 0:n.expiration;Ei.set(tj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(Xw);await this._storage.del(Xw),Ei.remove(tj),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=z1(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Nwe.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var Wnt=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function Hnt(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const tk=()=>{};let d0={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const Vnt=({level:t}={level:"ERROR"})=>({get level(){return t},error:d0[t]>=d0.ERROR?console.error:tk,warn:d0[t]>=d0.WARN?console.warn:tk,info:d0[t]>=d0.INFO?console.info:tk,debug:d0[t]>=d0.DEBUG?console.debug:tk});let nj="privy:caid",qnt=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${SVe(e.path,n)}${Hnt(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),l=await o(a),c=await this._fetch(a,l),u=await c.json();if(c.status>299)throw new SR(u);return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:Wnt(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(UHe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(nj);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=US()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(nj,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(nj)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(FHe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,o,a,l,c;let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new SR({code:kX.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${pX.path}`);let u=await this.fetch(pX,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),h=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${h}`),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),h==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),h==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),h==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof SR&&u.code===kX.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((c=(l=this.callbacks)==null?void 0:l.setUser)==null||c.call(l,null))),u}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${US()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.2",this._cache=new Map,this.logger=Vnt({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Nwe({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=DV(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},Gnt=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(BVe,{})}}constructor(e){this._privyInternal=e}};const Pwe=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",Rwe=t=>t?t.linked_accounts.filter(Pwe).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],lte=t=>Rwe(t).find(e=>e.wallet_index===0)??null,jwe=t=>t?t.linked_accounts.filter(Pwe).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],Knt=t=>jwe(t).find(e=>e.wallet_index===0)??null,Ynt=(t,e)=>!(e==="off"||Rwe(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),Qnt=(t,e)=>!(e==="off"||jwe(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),yd=async(t,e,n)=>{var s,o;let r=Ynt(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=Qnt(e.user,((o=n==null?void 0:n.solana)==null?void 0:o.createOnLogin)??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:lte(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:Knt(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:lte(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let Znt=class{async syncWithToken(e,n,r){var o,a;let i=await this._privyInternal.fetch(VHe,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await yd(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},Jnt=class{async sendCode(e,n){return this._privyInternal.fetch(fVe,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(hVe,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await yd(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(pVe,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(gVe,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(mVe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Xnt=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(qHe,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(QHe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},o){var c,u;let a=await this._privyInternal.fetch(GHe,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await yd(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(KHe,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(YHe,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},ert=class{async initializeAuth(){return await this._privyInternal.fetch(ZHe,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var a,l;let s=await this._privyInternal.fetch(JHe,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await yd(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}constructor(e,n){this._privyInternal=e,this._embedded=n}},trt=class{async create(e){var s,o;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(XHe,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await yd(this._embedded,r,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const em="privy:state_code",tm="privy:code_verifier";async function nrt(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function rrt(t){return crypto.getRandomValues(new Uint8Array(t))}function LV(){return z1(rrt(36))}function Owe(){return LV()}async function Mwe({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await nrt(t,n);return z1(r)}}let irt=class{async generateURL(e,n){var o;let r=LV(),i=Owe(),s=await Mwe({codeVerifier:r,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(tm,r),this._storage.put(em,i)]),this._privyInternal.fetch(rVe,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,o){var h,f;let[a,l]=await Promise.all([this._storage.get(tm),this._storage.get(em)]);if(l!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:l??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(nVe,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await yd(this._embedded,c,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(tm),this._storage.del(em)]),(f=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||f.call(h,u.user),u}async linkWithCode(e,n,r,i){let[s,o]=await Promise.all([this._storage.get(tm),this._storage.get(em)]);if(o!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(iVe,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(tm),this._storage.del(em)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,n){await this._privyInternal.fetch(sVe,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},srt=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(dVe,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(cVe,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(uVe,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(aVe,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await yd(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async signupWithPasskey(e,n,r){var o,a;let i=await this._privyInternal.fetch(lVe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await yd(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(oVe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},ort=class{async sendCode(e,n){return this._privyInternal.fetch(wVe,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var a,l;let s=await this._privyInternal.fetch(yVe,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await yd(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(bVe,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(xVe,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(vVe,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},art=class{async unlinkWallet(e){await this._privyInternal.fetch(RVe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(NVe,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,n,r,i,s){var u,h;let o=n||this._wallet,a=r||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch($Ve,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await yd(this._embedded,l,s==null?void 0:s.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,c.user),c}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(dye,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},lrt=class{async unlink({address:e}){await this._privyInternal.fetch(DVe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(MVe,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:o}){var c,u;let a=await this._privyInternal.fetch(OVe,{body:{signature:r,message:n,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await yd(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(jVe,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},crt=class{async link(e,n,r,i){await this._privyInternal.fetch(PVe,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(dye,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},urt=class{async logout(){var e,n;try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(IVe,{body:{refresh_token:r}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(n=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||n.call(e,null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new Znt(this._privyInternal,n),this.phone=new ort(this._privyInternal,n),this.email=new Jnt(this._privyInternal,n),this.oauth=new irt(this._privyInternal,n,r,i),this.guest=new trt(this._privyInternal,n),this.siwe=new art(this._privyInternal,n),this.siws=new lrt(this._privyInternal,n),this.smartWallet=new crt(this._privyInternal),this.passkey=new srt(this._privyInternal,n),this.farcaster=new Xnt(this._privyInternal,n),this.farcasterV2=new ert(this._privyInternal,n)}},drt=class{async initOnRampSession(e){return await this._privyInternal.fetch(zHe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(WHe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const hrt={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let frt=new Set([lu.id,ou.id,au.id,sl.id,_3.id,NT.id]),prt=new Set([lu.id,ou.id,nf.id,au.id,sl.id]);function mrt(t,e){switch(e){case"native-currency":return frt.has(t);case"USDC":return prt.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function grt(t,e){switch(t){case ou.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case _3.id:return"AVAX_CCHAIN";case au.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case NT.id:return"CELO_CELO";case sl.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case lu.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let yrt=class{async sign(e){return await this._privyInternal.fetch(LVe,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=hrt[n?"sandbox":"prod"],s=await DV(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new YZe({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},wrt=class{constructor(e){this.moonpay=new yrt(e),this.coinbase=new drt(e)}},brt=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(eVe,{body:e})}constructor(e){this._privyInternal=e}},vrt=class{async sendCode(e){return await this._privyInternal.fetch(tVe,{body:e})}constructor(e){this._privyInternal=e}},xrt=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new vrt(e),this.passkey=new brt(e)}},Ert=class{async init(e){return this._privyInternal.fetch(kVe,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(_Ve,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},Art=class{async generateURL(e){var s;let n=LV(),r=Owe(),i=await Mwe({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(tm,n),this._storage.put(em,r)]),this._privyInternal.fetch(AVe,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(tm),this._storage.get(em)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(CVe,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(tm),this._storage.del(em)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},Crt=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(EVe,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new Art(this._privyInternal,n,r),this.icloudAuth=new Ert(this._privyInternal)}},krt=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new qnt({...n,appClientId:e}),this.mfa=new xrt(this._privyInternal),this.mfaPromises=new Ant,this.app=new IZe(this._privyInternal),this.embeddedWallet=new Ent(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new Gnt(this._privyInternal),this.auth=new urt(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new Crt(this._privyInternal,n.storage,n.crypto),this.funding=new wrt(this._privyInternal),this.delegated=new BZe(this._privyInternal),this.crossApp=new a1e(this._privyInternal,n.storage)}};const _rt={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},Dwe={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function qT(t,e){var n=Array.prototype.slice.call(e);return n.push(Dwe),t.apply(this,n)}function Srt(){return qT(bKe,arguments)}function M8(t){return Pye.call(this,t,Dwe)}M8.prototype=Object.create(Pye.prototype,{});M8.prototype.constructor=M8;function Irt(){return qT(DYe,arguments)}function FV(){return qT(bT,arguments)}function Trt(){return qT(BYe,arguments)}const nk=(t,e)=>Srt(String(t),e),rj=(t,e)=>`+${FV(e)} ${t}`,$rt=t=>`*${t.replaceAll("-","").slice(-4)}`,Nrt=t=>new M8(t),Prt=Irt().map(t=>({code:t,callCode:FV(t)})),Rrt=t=>{var n;let e=(n=Trt(t,_rt))==null?void 0:n.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},jrt=t=>{let e=new M8;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},Ort=(t,e=!0)=>t.reduce((n,r)=>({...n,[r]:e}),{}),Mrt={[lu.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vV.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[nf.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[PT.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[sl.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[SA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[au.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[$T.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[_3.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bV.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ou.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[TT.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let Drt=new Set([lu.id,au.id,nf.id,sl.id,ou.id]),Brt=new Set([lu.id,au.id,sl.id,nf.id,ou.id]),Lrt={buy:"CARD",send:"CRYPTO_ACCOUNT"},Frt={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};lu.id+"",au.id+"",nf.id+"",sl.id+"",ou.id+"";function Urt({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),o.searchParams.set("defaultNetwork",r),o.searchParams.set("defaultPaymentMethod",Lrt[s]),o.searchParams.set("defaultAsset",Frt[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const zrt=(t,e)=>{switch(e){case"native-currency":return Drt.has(t);case"USDC":return Brt.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function Wrt(t,e){return t===sl.id?"POL":"ETH"}function cte(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function Hrt({wei:t,precision:e=3}){return parseFloat(vw(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function mL({amount:t,decimals:e}){return Fa(BigInt(t),e)}function as(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Vrt=0;function Bwe(t){return"__private_"+Vrt+++"_"+t}var $r=Bwe("_wallet"),dl=Bwe("_account");let Lwe=class{get standardWallet(){return as(this,$r)[$r]}get address(){return as(this,dl)[dl].address}async disconnect(){var e;if(!((e=as(this,$r)[$r].features["standard:disconnect"])!=null&&e.disconnect))throw Error("Wallet does not support disconnect");await as(this,$r)[$r].features["standard:disconnect"].disconnect()}async signMessage(e){var r;if(!((r=as(this,$r)[$r].features["solana:signMessage"])!=null&&r.signMessage))throw Error("Wallet does not support signMessage");let[n]=await as(this,$r)[$r].features["solana:signMessage"].signMessage({...e,account:as(this,dl)[dl]});return n}async signTransaction(e){var r;if(!((r=as(this,$r)[$r].features["solana:signTransaction"])!=null&&r.signTransaction))throw Error("Wallet does not support signTransaction");let[n]=await as(this,$r)[$r].features["solana:signTransaction"].signTransaction({...e,account:as(this,dl)[dl]});return n}async signAndSendTransaction(e){var r;if(!((r=as(this,$r)[$r].features["solana:signAndSendTransaction"])!=null&&r.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");let[n]=await as(this,$r)[$r].features["solana:signAndSendTransaction"].signAndSendTransaction({...e,account:as(this,dl)[dl]});return n}async signAndSendAllTransactions(e){var n;if(!((n=as(this,$r)[$r].features["solana:signAndSendTransaction"])!=null&&n.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");return[...await as(this,$r)[$r].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(r=>({...r,account:as(this,dl)[dl]})))]}constructor({wallet:e,account:n}){Object.defineProperty(this,$r,{writable:!0,value:void 0}),Object.defineProperty(this,dl,{writable:!0,value:void 0}),as(this,$r)[$r]=e,as(this,dl)[dl]=n}};const qrt=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Grt=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Krt=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Yrt(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Qrt(t);return}return e}function Qrt(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function u6(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Krt.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(qrt.test(t)||Grt.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Yrt)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Zrt=/#/g,Jrt=/&/g,Xrt=/\//g,eit=/=/g,UV=/\+/g,tit=/%5e/gi,nit=/%60/gi,rit=/%7c/gi,iit=/%20/gi;function sit(t){return encodeURI(""+t).replace(rit,"|")}function gL(t){return sit(typeof t=="string"?t:JSON.stringify(t)).replace(UV,"%2B").replace(iit,"+").replace(Zrt,"%23").replace(Jrt,"%26").replace(nit,"`").replace(tit,"^").replace(Xrt,"%2F")}function ij(t){return gL(t).replace(eit,"%3D")}function Fwe(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function oit(t){return Fwe(t.replace(UV," "))}function ait(t){return Fwe(t.replace(UV," "))}function lit(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=oit(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=ait(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function cit(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${ij(t)}=${gL(n)}`).join("&"):`${ij(t)}=${gL(e)}`:ij(t)}function uit(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>cit(e,t[e])).filter(Boolean).join("&")}const dit=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,hit=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,fit=/^([/\\]\s*){2,}[^/\\]/,pit=/^\.?\//;function Uwe(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?dit.test(t):hit.test(t)||(e.acceptRelative?fit.test(t):!1)}function mit(t="",e){return t.endsWith("/")}function git(t="",e){return(mit(t)?t.slice(0,-1):t)||"/"}function yit(t="",e){return t.endsWith("/")?t:t+"/"}function wit(t,e){if(vit(e)||Uwe(t))return t;const n=git(e);return t.startsWith(n)?t:Eit(n,t)}function bit(t,e){const n=Ait(t),r={...lit(n.search),...e};return n.search=uit(r),Cit(n)}function vit(t){return!t||t==="/"}function xit(t){return t&&t!=="/"}function Eit(t,...e){let n=t||"";for(const r of e.filter(i=>xit(i)))if(n){const i=r.replace(pit,"");n=yit(n)+i}else n=r;return n}const zwe=Symbol.for("ufo:protocolRelative");function Ait(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,f=""]=n;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!Uwe(t,{acceptRelative:!0}))return ute(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=ute(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[zwe]:!r}}function ute(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function Cit(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[zwe]?(t.protocol||"")+"//":"")+i+s+e+n+r}class Wwe extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function kit(t){var l,c,u,h,f;const e=((l=t.error)==null?void 0:l.message)||((c=t.error)==null?void 0:c.toString())||"",n=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",r=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new Wwe(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,m]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[m]}});return a}const _it=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function dte(t="GET"){return _it.has(t.toUpperCase())}function Sit(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Iit=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Tit=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function $it(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Tit.test(e)?"json":Iit.has(e)||e.startsWith("text/")?"text":"blob"}function Nit(t,e,n,r){const i=Pit((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function Pit(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function rk(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const Rit=new Set([408,409,425,429,500,502,503,504]),jit=new Set([101,204,205,304]);function Hwe(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=dte(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):Rit.has(h))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),s(a.request,{...a.options,retry:u-1})}}const c=kit(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:Nit(l,c,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await rk(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=wit(u.request,u.options.baseURL)),u.options.query&&(u.request=bit(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&dte(u.options.method)&&(Sit(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new r;h=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await rk(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!jit.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||$it(u.response.headers.get("content-type")||"");switch(p){case"json":{const m=await u.response.text(),g=u.options.parseResponse||u6;u.response._data=g(m);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await rk(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await rk(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>Hwe({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const zS=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}(),Oit=zS.fetch?(...t)=>zS.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Mit=zS.Headers,Dit=zS.AbortController,Vwe=Hwe({fetch:Oit,Headers:Mit,AbortController:Dit});var Dt;let Oo=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},$l=class extends Oo{constructor(e,n,r,i,s,o){super(r,i,s),this.type=e,this.status=n,this.data=o}},ue=class extends Oo{constructor(e,n,r){super(e,n,r),this.type="client_error"}},Bit=class extends ue{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Ar=class extends Oo{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Nn=t=>{if(t instanceof Oo)return t;if(!(t instanceof Wwe))return Rr(t);if(!t.response)return new $l("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new $l(e||"ApiError",t.response.status,n||r,t,i,t.data)},Rr=t=>t instanceof Oo?t:t instanceof Error?new ue(t.message,t):new ue(`Internal error: ${t}`);var pe=((Dt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Dt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Dt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Dt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Dt.INVALID_DATA="invalid_data",Dt.INVALID_CAPTCHA="invalid_captcha",Dt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Dt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Dt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Dt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Dt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Dt.ALLOWLIST_REJECTED="allowlist_rejected",Dt.OAUTH_USER_DENIED="oauth_user_denied",Dt.OAUTH_UNEXPECTED="oauth_unexpected",Dt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Dt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Dt.USER_EXITED_LINK_FLOW="exited_link_flow",Dt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Dt.MUST_BE_AUTHENTICATED="must_be_authenticated",Dt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Dt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Dt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Dt.INVALID_CREDENTIALS="invalid_credentials",Dt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Dt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Dt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Dt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Dt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Dt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Dt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Dt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Dt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Dt.TRANSACTION_FAILURE="transaction_failure",Dt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Dt.NOT_SUPPORTED="not_supported",Dt.CAPTCHA_TIMEOUT="captcha_timeout",Dt.INVALID_MESSAGE="invalid_message",Dt.UNABLE_TO_SIGN="unable_to_sign",Dt.CAPTCHA_FAILURE="captcha_failure",Dt.CAPTCHA_DISABLED="captcha_disabled",Dt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Dt.TOO_MANY_REQUESTS="too_many_requests",Dt.USER_LIMIT_REACHED="max_accounts_reached",Dt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Dt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Dt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Dt.USER_DOES_NOT_EXIST="user_does_not_exist",Dt.INSUFFICIENT_BALANCE="insufficient_balance",Dt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Dt.BUFFER_NOT_DEFINED="buffer_not_defined",Dt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Dt);let Lg=class extends ue{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Ym=class extends ue{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},Lit=class extends ue{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},NA=class extends ue{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const qwe="/api/v1/sessions",Gwe="/api/v1/sessions/logout",Fit="/api/v1/siwe/init",Uit="/api/v1/siwe/authenticate",zit="/api/v1/siwe/link",Wit="/api/v1/siwe/link_smart_wallet",Hit="/api/v1/siwe/unlink",Vit="/api/v1/siwe/transfer",qit="/api/v1/siws/init",Git="/api/v1/siws/authenticate",Kit="/api/v1/siws/link",Yit="/api/v1/siws/unlink",Qit="/api/v1/siws/transfer",Zit="/api/v1/farcaster/init",Jit="/api/v1/farcaster/authenticate",Xit="/api/v1/farcaster/link",est="/api/v1/farcaster/status",tst="/api/v1/farcaster/unlink",nst="/api/v1/farcaster/transfer",rst="/api/v1/passwordless/init",ist="/api/v1/passwordless/authenticate",sst="/api/v1/passwordless/link",ost="/api/v1/passwordless/unlink",ast="/api/v1/passwordless/update",lst="/api/v1/passwordless/transfer",cst="/api/v1/passwordless_sms/init",ust="/api/v1/passwordless_sms/link",dst="/api/v1/passwordless_sms/unlink",hst="/api/v1/passwordless_sms/authenticate",fst="/api/v1/passwordless_sms/update",pst="/api/v1/passwordless_sms/transfer",Kwe="/api/v1/oauth/init",Ywe="/api/v1/oauth/authenticate",Qwe="/api/v1/oauth/link",mst="/api/v1/oauth/unlink",gst="/api/v1/oauth/transfer",yst="/api/v1/recovery/oauth/init",wst="/api/v1/recovery/oauth/init_icloud",bst="/api/v1/recovery/oauth/authenticate",vst="/api/v1/passkeys/link/init",xst="/api/v1/passkeys/authenticate/init",Est="/api/v1/passkeys/register/init",Ast="/api/v1/passkeys/link",Cst="/api/v1/passkeys/authenticate",kst="/api/v1/passkeys/register",_st="/api/v1/telegram/authenticate",Sst="/api/v1/telegram/link",Ist="/api/v1/telegram/unlink",Tst="/api/v1/telegram/transfer",$st="/api/v1/mfa/passwordless_sms/init",Nst="/api/v1/mfa/passkeys/init",Pst="/api/v1/users/me/accept_terms",Zwe="/api/v1/analytics_events",Rst="/api/v1/custom_jwt_account/authenticate",jst="/api/v1/custom_jwt_account/link",Ost="/api/v1/guest/authenticate",Mst="/api/v1/plugins/moonpay_on_ramp/sign",Dst="/api/v1/funding/coinbase_on_ramp/init",Bst="/api/v1/funding/coinbase_on_ramp/status",Lst="/api/v1/wallets/revoke",Fst="/api/v1/users/me",Ust="/api/v1/scan/transaction";function zst({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const GT=x.forwardRef(zst);function Wst({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Hst=x.forwardRef(Wst);var To=function(){return To=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},To.apply(this,arguments)};function Sx(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Pr="-ms-",K6="-moz-",tr="-webkit-",Jwe="comm",KT="rule",zV="decl",Vst="@import",Xwe="@keyframes",qst="@layer",ebe=Math.abs,WV=String.fromCharCode,yL=Object.assign;function Gst(t,e){return gs(t,0)^45?(((e<<2^gs(t,0))<<2^gs(t,1))<<2^gs(t,2))<<2^gs(t,3):0}function tbe(t){return t.trim()}function Pf(t,e){return(t=e.exec(t))?t[0]:t}function gn(t,e,n){return t.replace(e,n)}function N9(t,e,n){return t.indexOf(e,n)}function gs(t,e){return t.charCodeAt(e)|0}function Ix(t,e,n){return t.slice(e,n)}function fh(t){return t.length}function nbe(t){return t.length}function d6(t,e){return e.push(t),t}function Kst(t,e){return t.map(e).join("")}function hte(t,e){return t.filter(function(n){return!Pf(n,e)})}var YT=1,Tx=1,rbe=0,Jc=0,Wi=0,P3="";function QT(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:YT,column:Tx,length:o,return:"",siblings:a}}function L0(t,e){return yL(QT("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function eb(t){for(;t.root;)t=L0(t.root,{children:[t]});d6(t,t.siblings)}function Yst(){return Wi}function Qst(){return Wi=Jc>0?gs(P3,--Jc):0,Tx--,Wi===10&&(Tx=1,YT--),Wi}function nd(){return Wi=Jc<rbe?gs(P3,Jc++):0,Tx++,Wi===10&&(Tx=1,YT++),Wi}function m1(){return gs(P3,Jc)}function P9(){return Jc}function ZT(t,e){return Ix(P3,t,e)}function wL(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zst(t){return YT=Tx=1,rbe=fh(P3=t),Jc=0,[]}function Jst(t){return P3="",t}function sj(t){return tbe(ZT(Jc-1,bL(t===91?t+2:t===40?t+1:t)))}function Xst(t){for(;(Wi=m1())&&Wi<33;)nd();return wL(t)>2||wL(Wi)>3?"":" "}function eot(t,e){for(;--e&&nd()&&!(Wi<48||Wi>102||Wi>57&&Wi<65||Wi>70&&Wi<97););return ZT(t,P9()+(e<6&&m1()==32&&nd()==32))}function bL(t){for(;nd();)switch(Wi){case t:return Jc;case 34:case 39:t!==34&&t!==39&&bL(Wi);break;case 40:t===41&&bL(t);break;case 92:nd();break}return Jc}function tot(t,e){for(;nd()&&t+Wi!==57;)if(t+Wi===84&&m1()===47)break;return"/*"+ZT(e,Jc-1)+"*"+WV(t===47?t:nd())}function not(t){for(;!wL(m1());)nd();return ZT(t,Jc)}function rot(t){return Jst(R9("",null,null,null,[""],t=Zst(t),0,[0],t))}function R9(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,g=1,y=1,w=1,v=0,b="",A=i,E=s,$=r,N=b;y;)switch(m=v,v=nd()){case 40:if(m!=108&&gs(N,h-1)==58){N9(N+=gn(sj(v),"&","&\f"),"&\f",ebe(c?a[c-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:N+=sj(v);break;case 9:case 10:case 13:case 32:N+=Xst(m);break;case 92:N+=eot(P9()-1,7);continue;case 47:switch(m1()){case 42:case 47:d6(iot(tot(nd(),P9()),e,n,l),l);break;default:N+="/"}break;case 123*g:a[c++]=fh(N)*w;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:w==-1&&(N=gn(N,/\f/g,"")),p>0&&fh(N)-h&&d6(p>32?pte(N+";",r,n,h-1,l):pte(gn(N," ","")+";",r,n,h-2,l),l);break;case 59:N+=";";default:if(d6($=fte(N,e,n,c,u,i,a,b,A=[],E=[],h,s),s),v===123)if(u===0)R9(N,e,$,$,A,s,h,a,E);else switch(f===99&&gs(N,3)===110?100:f){case 100:case 108:case 109:case 115:R9(t,$,$,r&&d6(fte(t,$,$,0,0,i,a,b,i,A=[],h,E),E),i,E,h,a,r?A:E);break;default:R9(N,$,$,$,[""],E,0,a,E)}}c=u=p=0,g=w=1,b=N="",h=o;break;case 58:h=1+fh(N),p=m;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&Qst()==125)continue}switch(N+=WV(v),v*g){case 38:w=u>0?1:(N+="\f",-1);break;case 44:a[c++]=(fh(N)-1)*w,w=1;break;case 64:m1()===45&&(N+=sj(nd())),f=m1(),u=h=fh(b=N+=not(P9())),v++;break;case 45:m===45&&fh(N)==2&&(g=0)}}return s}function fte(t,e,n,r,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],m=nbe(p),g=0,y=0,w=0;g<r;++g)for(var v=0,b=Ix(t,f+1,f=ebe(y=o[g])),A=t;v<m;++v)(A=tbe(y>0?p[v]+" "+b:gn(b,/&\f/g,p[v])))&&(l[w++]=A);return QT(t,e,n,i===0?KT:a,l,c,u,h)}function iot(t,e,n,r){return QT(t,e,n,Jwe,WV(Yst()),Ix(t,2,-2),0,r)}function pte(t,e,n,r,i){return QT(t,e,n,zV,Ix(t,0,r),Ix(t,r+1,-1),r,i)}function ibe(t,e,n){switch(Gst(t,e)){case 5103:return tr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tr+t+t;case 4789:return K6+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tr+t+K6+t+Pr+t+t;case 5936:switch(gs(t,e+11)){case 114:return tr+t+Pr+gn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tr+t+Pr+gn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tr+t+Pr+gn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tr+t+Pr+t+t;case 6165:return tr+t+Pr+"flex-"+t+t;case 5187:return tr+t+gn(t,/(\w+).+(:[^]+)/,tr+"box-$1$2"+Pr+"flex-$1$2")+t;case 5443:return tr+t+Pr+"flex-item-"+gn(t,/flex-|-self/g,"")+(Pf(t,/flex-|baseline/)?"":Pr+"grid-row-"+gn(t,/flex-|-self/g,""))+t;case 4675:return tr+t+Pr+"flex-line-pack"+gn(t,/align-content|flex-|-self/g,"")+t;case 5548:return tr+t+Pr+gn(t,"shrink","negative")+t;case 5292:return tr+t+Pr+gn(t,"basis","preferred-size")+t;case 6060:return tr+"box-"+gn(t,"-grow","")+tr+t+Pr+gn(t,"grow","positive")+t;case 4554:return tr+gn(t,/([^-])(transform)/g,"$1"+tr+"$2")+t;case 6187:return gn(gn(gn(t,/(zoom-|grab)/,tr+"$1"),/(image-set)/,tr+"$1"),t,"")+t;case 5495:case 3959:return gn(t,/(image-set\([^]*)/,tr+"$1$`$1");case 4968:return gn(gn(t,/(.+:)(flex-)?(.*)/,tr+"box-pack:$3"+Pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tr+t+t;case 4200:if(!Pf(t,/flex-|baseline/))return Pr+"grid-column-align"+Ix(t,e)+t;break;case 2592:case 3360:return Pr+gn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Pf(r.props,/grid-\w+-end/)})?~N9(t+(n=n[e].value),"span",0)?t:Pr+gn(t,"-start","")+t+Pr+"grid-row-span:"+(~N9(n,"span",0)?Pf(n,/\d+/):+Pf(n,/\d+/)-+Pf(t,/\d+/))+";":Pr+gn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Pf(r.props,/grid-\w+-start/)})?t:Pr+gn(gn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return gn(t,/(.+)-inline(.+)/,tr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fh(t)-1-e>6)switch(gs(t,e+1)){case 109:if(gs(t,e+4)!==45)break;case 102:return gn(t,/(.+:)(.+)-([^]+)/,"$1"+tr+"$2-$3$1"+K6+(gs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~N9(t,"stretch",0)?ibe(gn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return gn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return Pr+i+":"+s+c+(o?Pr+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(gs(t,e+6)===121)return gn(t,":",":"+tr)+t;break;case 6444:switch(gs(t,gs(t,14)===45?18:11)){case 120:return gn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tr+(gs(t,14)===45?"inline-":"")+"box$3$1"+tr+"$2$3$1"+Pr+"$2box$3")+t;case 100:return gn(t,":",":"+Pr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return gn(t,"scroll-","scroll-snap-")+t}return t}function WS(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function sot(t,e,n,r){switch(t.type){case qst:if(t.children.length)break;case Vst:case zV:return t.return=t.return||t.value;case Jwe:return"";case Xwe:return t.return=t.value+"{"+WS(t.children,r)+"}";case KT:if(!fh(t.value=t.props.join(",")))return""}return fh(n=WS(t.children,r))?t.return=t.value+"{"+n+"}":""}function oot(t){var e=nbe(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function aot(t){return function(e){e.root||(e=e.return)&&t(e)}}function lot(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case zV:t.return=ibe(t.value,t.length,n);return;case Xwe:return WS([L0(t,{value:gn(t.value,"@","@"+tr)})],r);case KT:if(t.length)return Kst(n=t.props,function(i){switch(Pf(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":eb(L0(t,{props:[gn(i,/:(read-\w+)/,":"+K6+"$1")]})),eb(L0(t,{props:[i]})),yL(t,{props:hte(n,r)});break;case"::placeholder":eb(L0(t,{props:[gn(i,/:(plac\w+)/,":"+tr+"input-$1")]})),eb(L0(t,{props:[gn(i,/:(plac\w+)/,":"+K6+"$1")]})),eb(L0(t,{props:[gn(i,/:(plac\w+)/,Pr+"input-$1")]})),eb(L0(t,{props:[i]})),yL(t,{props:hte(n,r)});break}return""})}}var cot={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bl={},$x=typeof process<"u"&&bl!==void 0&&(bl.REACT_APP_SC_ATTR||bl.SC_ATTR)||"data-styled",sbe="active",obe="data-styled-version",JT="6.1.19",HV=`/*!sc*/
`,HS=typeof window<"u"&&typeof document<"u",uot=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&bl!==void 0&&bl.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&bl.REACT_APP_SC_DISABLE_SPEEDY!==""?bl.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&bl.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&bl!==void 0&&bl.SC_DISABLE_SPEEDY!==void 0&&bl.SC_DISABLE_SPEEDY!==""&&bl.SC_DISABLE_SPEEDY!=="false"&&bl.SC_DISABLE_SPEEDY),dot={},XT=Object.freeze([]),Nx=Object.freeze({});function abe(t,e,n){return n===void 0&&(n=Nx),t.theme!==n.theme&&t.theme||e||n.theme}var lbe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hot=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,fot=/(^-|-$)/g;function mte(t){return t.replace(hot,"-").replace(fot,"")}var pot=/(a)(d)/gi,ik=52,gte=function(t){return String.fromCharCode(t+(t>25?39:97))};function vL(t){var e,n="";for(e=Math.abs(t);e>ik;e=e/ik|0)n=gte(e%ik)+n;return(gte(e%ik)+n).replace(pot,"$1-$2")}var oj,cbe=5381,uv=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ube=function(t){return uv(cbe,t)};function VV(t){return vL(ube(t)>>>0)}function mot(t){return t.displayName||t.name||"Component"}function aj(t){return typeof t=="string"&&!0}var dbe=typeof Symbol=="function"&&Symbol.for,hbe=dbe?Symbol.for("react.memo"):60115,got=dbe?Symbol.for("react.forward_ref"):60112,yot={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wot={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fbe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bot=((oj={})[got]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oj[hbe]=fbe,oj);function yte(t){return("type"in(e=t)&&e.type.$$typeof)===hbe?fbe:"$$typeof"in t?bot[t.$$typeof]:yot;var e}var vot=Object.defineProperty,xot=Object.getOwnPropertyNames,wte=Object.getOwnPropertySymbols,Eot=Object.getOwnPropertyDescriptor,Aot=Object.getPrototypeOf,bte=Object.prototype;function pbe(t,e,n){if(typeof e!="string"){if(bte){var r=Aot(e);r&&r!==bte&&pbe(t,r,n)}var i=xot(e);wte&&(i=i.concat(wte(e)));for(var s=yte(t),o=yte(e),a=0;a<i.length;++a){var l=i[a];if(!(l in wot||n&&n[l]||o&&l in o||s&&l in s)){var c=Eot(e,l);try{vot(t,l,c)}catch{}}}}return t}function Px(t){return typeof t=="function"}function qV(t){return typeof t=="object"&&"styledComponentId"in t}function Ay(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function VS(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function D8(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function xL(t,e,n){if(n===void 0&&(n=!1),!n&&!D8(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=xL(t[r],e[r]);else if(D8(e))for(var r in e)t[r]=xL(t[r],e[r]);return t}function GV(t,e){Object.defineProperty(t,"toString",{value:e})}function PA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Cot=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw PA(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(HV);return n},t}(),j9=new Map,qS=new Map,O9=1,sk=function(t){if(j9.has(t))return j9.get(t);for(;qS.has(O9);)O9++;var e=O9++;return j9.set(t,e),qS.set(e,t),e},kot=function(t,e){O9=e+1,j9.set(t,e),qS.set(e,t)},_ot="style[".concat($x,"][").concat(obe,'="').concat(JT,'"]'),Sot=new RegExp("^".concat($x,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Iot=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Tot=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(HV),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Sot);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(kot(u,c),Iot(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},vte=function(t){for(var e=document.querySelectorAll(_ot),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute($x)!==sbe&&(Tot(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function $ot(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mbe=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat($x,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute($x,sbe),r.setAttribute(obe,JT);var o=$ot();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Not=function(){function t(e){this.element=mbe(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw PA(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Pot=function(){function t(e){this.element=mbe(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Rot=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),xte=HS,jot={isServer:!HS,useCSSOMInjection:!uot},GS=function(){function t(e,n,r){e===void 0&&(e=Nx),n===void 0&&(n={});var i=this;this.options=To(To({},jot),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&HS&&xte&&(xte=!1,vte(this)),GV(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(w){return qS.get(w)}(h);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(h);if(p===void 0||!p.size||m.length===0)return"continue";var g="".concat($x,".g").concat(h,'[id="').concat(f,'"]'),y="";p!==void 0&&p.forEach(function(w){w.length>0&&(y+="".concat(w,","))}),l+="".concat(m).concat(g,'{content:"').concat(y,'"}').concat(HV)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return sk(e)},t.prototype.rehydrate=function(){!this.server&&HS&&vte(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(To(To({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Rot(i):r?new Not(i):new Pot(i)}(this.options),new Cot(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(sk(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(sk(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(sk(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Oot=/&/g,Mot=/^\s*\/\/.*$/gm;function gbe(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=gbe(n.children,e)),n})}function Dot(t){var e,n,r,i=Nx,s=i.options,o=s===void 0?Nx:s,a=i.plugins,l=a===void 0?XT:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===KT&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Oot,n).replace(r,c))}),o.prefix&&u.push(lot),u.push(sot);var h=function(f,p,m,g){p===void 0&&(p=""),m===void 0&&(m=""),g===void 0&&(g="&"),e=g,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(Mot,""),w=rot(m||p?"".concat(m," ").concat(p," { ").concat(y," }"):y);o.namespace&&(w=gbe(w,o.namespace));var v=[];return WS(w,oot(u.concat(aot(function(b){return v.push(b)})))),v};return h.hash=l.length?l.reduce(function(f,p){return p.name||PA(15),uv(f,p.name)},cbe).toString():"",h}var Bot=new GS,EL=Dot(),ybe=Ae.createContext({shouldForwardProp:void 0,styleSheet:Bot,stylis:EL});ybe.Consumer;Ae.createContext(void 0);function AL(){return x.useContext(ybe)}var wbe=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=EL);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,GV(this,function(){throw PA(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=EL),this.name+e.hash},t}(),Lot=function(t){return t>="A"&&t<="Z"};function Ete(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Lot(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var bbe=function(t){return t==null||t===!1||t===""},vbe=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!bbe(s)&&(Array.isArray(s)&&s.isCss||Px(s)?r.push("".concat(Ete(i),":"),s,";"):D8(s)?r.push.apply(r,Sx(Sx(["".concat(i," {")],vbe(s),!1),["}"],!1)):r.push("".concat(Ete(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in cot||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Qm(t,e,n,r){if(bbe(t))return[];if(qV(t))return[".".concat(t.styledComponentId)];if(Px(t)){if(!Px(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Qm(i,e,n,r)}var s;return t instanceof wbe?n?(t.inject(n,r),[t.getName(r)]):[t]:D8(t)?vbe(t):Array.isArray(t)?Array.prototype.concat.apply(XT,t.map(function(o){return Qm(o,e,n,r)})):[t.toString()]}function xbe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Px(n)&&!qV(n))return!1}return!0}var Fot=ube(JT),Uot=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&xbe(e),this.componentId=n,this.baseHash=uv(Fot,n),this.baseStyle=r,GS.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ay(i,this.staticRulesId);else{var s=VS(Qm(this.rules,e,n,r)),o=vL(uv(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ay(i,o),this.staticRulesId=o}else{for(var l=uv(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=VS(Qm(h,e,n,r));l=uv(l,f+u),c+=f}}if(c){var p=vL(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Ay(i,p)}}return i},t}(),KV=Ae.createContext(void 0);KV.Consumer;var lj={};function zot(t,e,n){var r=qV(t),i=t,s=!aj(t),o=e.attrs,a=o===void 0?XT:o,l=e.componentId,c=l===void 0?function(A,E){var $=typeof A!="string"?"sc":mte(A);lj[$]=(lj[$]||0)+1;var N="".concat($,"-").concat(VV(JT+$+lj[$]));return E?"".concat(E,"-").concat(N):N}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(A){return aj(A)?"styled.".concat(A):"Styled(".concat(mot(A),")")}(t):u,f=e.displayName&&e.componentId?"".concat(mte(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;m=function(A,E){return g(A,E)&&y(A,E)}}else m=g}var w=new Uot(n,f,r?i.componentStyle:void 0);function v(A,E){return function($,N,R){var M=$.attrs,F=$.componentStyle,W=$.defaultProps,H=$.foldedComponentIds,L=$.styledComponentId,k=$.target,C=Ae.useContext(KV),_=AL(),T=$.shouldForwardProp||_.shouldForwardProp,S=abe(N,C,W)||Nx,P=function(j,Y,ee){for(var Z,oe=To(To({},Y),{className:void 0,theme:ee}),de=0;de<j.length;de+=1){var ce=Px(Z=j[de])?Z(oe):Z;for(var he in ce)oe[he]=he==="className"?Ay(oe[he],ce[he]):he==="style"?To(To({},oe[he]),ce[he]):ce[he]}return Y.className&&(oe.className=Ay(oe.className,Y.className)),oe}(M,N,S),D=P.as||k,O={};for(var I in P)P[I]===void 0||I[0]==="$"||I==="as"||I==="theme"&&P.theme===S||(I==="forwardedAs"?O.as=P.forwardedAs:T&&!T(I,D)||(O[I]=P[I]));var B=function(j,Y){var ee=AL(),Z=j.generateAndInjectStyles(Y,ee.styleSheet,ee.stylis);return Z}(F,P),Q=Ay(H,L);return B&&(Q+=" "+B),P.className&&(Q+=" "+P.className),O[aj(D)&&!lbe.has(D)?"class":"className"]=Q,R&&(O.ref=R),x.createElement(D,O)}(b,A,E)}v.displayName=h;var b=Ae.forwardRef(v);return b.attrs=p,b.componentStyle=w,b.displayName=h,b.shouldForwardProp=m,b.foldedComponentIds=r?Ay(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=f,b.target=r?i.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(E){for(var $=[],N=1;N<arguments.length;N++)$[N-1]=arguments[N];for(var R=0,M=$;R<M.length;R++)xL(E,M[R],!0);return E}({},i.defaultProps,A):A}}),GV(b,function(){return".".concat(b.styledComponentId)}),s&&pbe(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Ate(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Cte=function(t){return Object.assign(t,{isCss:!0})};function os(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Px(t)||D8(t))return Cte(Qm(Ate(XT,Sx([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Qm(r):Cte(Qm(Ate(r,e)))}function CL(t,e,n){if(n===void 0&&(n=Nx),!e)throw PA(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,os.apply(void 0,Sx([i],s,!1)))};return r.attrs=function(i){return CL(t,e,To(To({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return CL(t,e,To(To({},n),i))},r}var Ebe=function(t){return CL(zot,t)},J=Ebe;lbe.forEach(function(t){J[t]=Ebe(t)});var Wot=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=xbe(e),GS.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(VS(Qm(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&GS.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function Hot(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=os.apply(void 0,Sx([t],e,!1)),i="sc-global-".concat(VV(JSON.stringify(r))),s=new Wot(r,i),o=function(l){var c=AL(),u=Ae.useContext(KV),h=Ae.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,u,c.stylis),Ae.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,h,f){if(s.isStatic)s.renderStyles(l,dot,u,f);else{var p=To(To({},c),{theme:abe(c,h,o.defaultProps)});s.renderStyles(l,p,u,f)}}return Ae.memo(o)}function Abe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=VS(os.apply(void 0,Sx([t],e,!1))),i=VV(r);return new wbe(i,r)}const Ie=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Cbe=x.createContext({setAuthenticated:Ie,setUser:Ie,setIsNewUser:Ie,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Ie,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Ie,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Ie,initializeWalletProxy:Ie,getAuthMeta:Ie,getAuthFlow:Ie,closePrivyModal:Ie,openPrivyModal:Ie,connectWallet:Ie,initLoginWithWallet:Ie,loginWithWallet:Ie,initLoginWithFarcaster:Ie,loginWithFarcaster:Ie,loginWithCode:Ie,initLoginWithEmail:Ie,initLoginWithSms:Ie,initUpdateEmail:Ie,initUpdatePhone:Ie,resendEmailCode:Ie,resendSmsCode:Ie,initLoginWithHeadlessOAuth:Ie,loginWithHeadlessOAuth:Ie,crossAppAuthFlow:Ie,initLoginWithOAuth:Ie,loginWithOAuth:Ie,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Ie,initSignupWithPasskey:Ie,signupWithPasskey:Ie,initLoginWithPasskey:Ie,loginWithPasskey:Ie,initLinkWithPasskey:Ie,linkWithPasskey:Ie,refreshSessionAndUser:Ie,walletProxy:null,createAnalyticsEvent:Ie,acceptTerms:Ie,getUsdTokenPrice:Ie,getUsdPriceForSol:Ie,getSplTokenMetadata:Ie,recoverEmbeddedWallet:Ie,updateWallets:Ie,fundWallet:Ie,openModal:Ie,setReadyToTrue:Ie,requestFarcasterSignerStatus:Ie,initLoginWithTelegram:Ie,loginWithTelegram:Ie,generateSiweMessage:Ie,generateSiweMessageForSmartWallet:Ie,loginWithSiwe:Ie,linkWithSiwe:Ie,linkSmartWallet:Ie,delegateWallet:Ie,revokeDelegatedWallets:Ie,connectCoinbaseSmartWallet:Ie,connectBaseAccount:Ie,initiateAccountTransfer:Ie,emailOtpState:{status:"initial"},setEmailOtpState:Ie,smsOtpState:{status:"initial"},setSmsOtpState:Ie,siweState:{status:"initial"},setSiweState:Ie,oAuthState:{status:"initial"},setOAuthState:Ie,telegramAuthState:{status:"initial"},setTelegramAuthState:Ie,isHeadlessOAuthLoading:!1,isHeadlessSigning:Ie,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Ie}),st=()=>x.useContext(Cbe);function Vot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const qot=x.forwardRef(Vot);function Got({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Kot=x.forwardRef(Got);function Yot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const YV=x.forwardRef(Yot);function Qot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const QV=x.forwardRef(Qot);function Zot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const e$=x.forwardRef(Zot);function Jot({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const kbe=x.forwardRef(Jot),_be=typeof document<"u"?Ae.useLayoutEffect:()=>{};var cj;const Xot=(cj=Ae.useInsertionEffect)!==null&&cj!==void 0?cj:_be;function eat(t){const e=x.useRef(null);return Xot(()=>{e.current=t},[t]),x.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const kg=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Cy=t=>t&&"window"in t&&t.window===t?t:kg(t).defaultView||window;function tat(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function nat(t){return tat(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let rat=!1;function ZV(){return rat}function Sbe(t,e){if(!ZV())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:nat(n)?n=n.host:n=n.parentNode}return!1}const kL=(t=document)=>{var e;if(!ZV())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Ibe(t){return ZV()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function iat(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function sat(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Tbe(t){let e=null;return()=>(e==null&&(e=t()),e)}const oat=Tbe(function(){return sat(/^Mac/i)}),aat=Tbe(function(){return iat(/Android/i)});function $be(){let t=x.useRef(new Map),e=x.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=x.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),r=x.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return x.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function lat(t){return t.pointerType===""&&t.isTrusted?!0:aat()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Nbe(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function cat(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Pbe(t){let e=x.useRef({isFocused:!1,observer:null});_be(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=eat(r=>{t==null||t(r)});return x.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=Nbe(o);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let uat=!1,RA=null,_L=new Set,Y6=new Map,V1=!1,SL=!1;const dat={Tab:!0,Escape:!0};function JV(t,e){for(let n of _L)n(t,e)}function hat(t){return!(t.metaKey||!oat()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function KS(t){V1=!0,hat(t)&&(RA="keyboard",JV("keyboard",t))}function zv(t){RA="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(V1=!0,JV("pointer",t))}function Rbe(t){lat(t)&&(V1=!0,RA="virtual")}function jbe(t){t.target===window||t.target===document||uat||!t.isTrusted||(!V1&&!SL&&(RA="virtual",JV("virtual",t)),V1=!1,SL=!1)}function Obe(){V1=!1,SL=!0}function IL(t){if(typeof window>"u"||typeof document>"u"||Y6.get(Cy(t)))return;const e=Cy(t),n=kg(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){V1=!0,r.apply(this,arguments)},n.addEventListener("keydown",KS,!0),n.addEventListener("keyup",KS,!0),n.addEventListener("click",Rbe,!0),e.addEventListener("focus",jbe,!0),e.addEventListener("blur",Obe,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",zv,!0),n.addEventListener("pointermove",zv,!0),n.addEventListener("pointerup",zv,!0)),e.addEventListener("beforeunload",()=>{Mbe(t)},{once:!0}),Y6.set(e,{focus:r})}const Mbe=(t,e)=>{const n=Cy(t),r=kg(t);e&&r.removeEventListener("DOMContentLoaded",e),Y6.has(n)&&(n.HTMLElement.prototype.focus=Y6.get(n).focus,r.removeEventListener("keydown",KS,!0),r.removeEventListener("keyup",KS,!0),r.removeEventListener("click",Rbe,!0),n.removeEventListener("focus",jbe,!0),n.removeEventListener("blur",Obe,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",zv,!0),r.removeEventListener("pointermove",zv,!0),r.removeEventListener("pointerup",zv,!0)),Y6.delete(n))};function fat(t){const e=kg(t);let n;return e.readyState!=="loading"?IL(t):(n=()=>{IL(t)},e.addEventListener("DOMContentLoaded",n)),()=>Mbe(t,n)}typeof document<"u"&&fat();function Dbe(){return RA!=="pointer"}const pat=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function mat(t,e,n){let r=kg(n==null?void 0:n.target);const i=typeof window<"u"?Cy(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Cy(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Cy(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Cy(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!pat.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!dat[n.key])}function gat(t,e,n){IL(),x.useEffect(()=>{let r=(i,s)=>{mat(!!(n!=null&&n.isTextInput),i,s)&&t(Dbe())};return _L.add(r),()=>{_L.delete(r)}},e)}function yat(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=x.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=Pbe(s),a=x.useCallback(l=>{const c=kg(l.target),u=c?kL(c):kL();l.target===l.currentTarget&&u===Ibe(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function wat(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=$be(),l=x.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(h),i&&i(!1))},[n,i,s,a]),c=Pbe(l),u=x.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=kg(h.target),p=kL(f);if(!s.current.isFocusWithin&&p===Ibe(h.nativeEvent)){r&&r(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let m=h.currentTarget;o(f,"focus",g=>{if(s.current.isFocusWithin&&!Sbe(m,g.target)){let y=new f.defaultView.FocusEvent("blur",{relatedTarget:g.target});cat(y,m);let w=Nbe(y);l(w)}},{capture:!0})}},[r,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let TL=!1,ok=0;function bat(){TL=!0,setTimeout(()=>{TL=!1},50)}function kte(t){t.pointerType==="touch"&&bat()}function vat(){if(!(typeof document>"u"))return ok===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",kte),ok++,()=>{ok--,!(ok>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",kte)}}function xat(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=x.useState(!1),a=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(vat,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=$be(),{hoverProps:u,triggerHoverEnd:h}=x.useMemo(()=>{let f=(g,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let w=g.currentTarget;a.target=w,l(kg(g.target),"pointerover",v=>{a.isHovered&&a.target&&!Sbe(a.target,v.target)&&p(v,v.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:w,pointerType:y}),n&&n(!0),o(!0)},p=(g,y)=>{let w=a.target;a.pointerType="",a.target=null,!(y==="touch"||!a.isHovered||!w)&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:w,pointerType:y}),n&&n(!1),o(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=g=>{TL&&g.pointerType==="mouse"||f(g,g.pointerType)},m.onPointerLeave=g=>{!i&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[e,n,r,i,a,l,c]);return x.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function Eat(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||Dbe()}),[s,o]=x.useState(!1),[a,l]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=x.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=x.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);gat(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:h}=yat({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=wat({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?f:h}}var Aat=Object.defineProperty,Cat=(t,e,n)=>e in t?Aat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uj=(t,e,n)=>(Cat(t,typeof e!="symbol"?e+"":e,n),n);let kat=class{constructor(){uj(this,"current",this.detect()),uj(this,"handoffState","pending"),uj(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Dh=new kat;function Cw(t){var e;return Dh.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function YS(t){var e,n;return Dh.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function XV(t){var e,n;return(n=(e=YS(t))==null?void 0:e.activeElement)!=null?n:null}function Bbe(t){return XV(t)===t}function t$(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ol(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return t$(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ol();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function kw(){let[t]=x.useState(ol);return x.useEffect(()=>()=>t.dispose(),[t]),t}let Fr=(t,e)=>{Dh.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function _w(t){let e=x.useRef(t);return Fr(()=>{e.current=t},[t]),e}let Wt=function(t){let e=_w(t);return Ae.useCallback((...n)=>e.current(...n),[e])};function _at(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Sat(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Iat({disabled:t=!1}={}){let e=x.useRef(null),[n,r]=x.useState(!1),i=kw(),s=Wt(()=>{e.current=null,r(!1),i.dispose()}),o=Wt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=Cw(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=_at(c);r(Sat(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function sf(t){return x.useMemo(()=>t,Object.values(t))}let Tat=x.createContext(void 0);function Lbe(){return x.useContext(Tat)}function $L(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function wd(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wd),r}var Rx=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Rx||{}),Rm=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Rm||{});function Gi(){let t=Nat();return x.useCallback(e=>$at({mergeRefs:t,...e}),[t])}function $at({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??Pat;let l=Fbe(e,t);if(s)return ak(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return ak(h,n,r,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return wd(u?0:1,{0(){return null},1(){return ak({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return ak(l,n,r,o,a)}function ak(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=dj(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[m,g]of Object.entries(e))typeof g=="boolean"&&(f=!0),g===!0&&p.push(m.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let m of p)h[`data-${m}`]=""}}if(Q6(s)&&(Object.keys(Qg(l)).length>0||Object.keys(Qg(h)).length>0))if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1||jat(u)){if(Object.keys(Qg(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Qg(l)).concat(Object.keys(Qg(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,m=typeof p=="function"?(...w)=>$L(p(...w),l.className):$L(p,l.className),g=m?{className:m}:{},y=Fbe(u.props,Qg(dj(l,["ref"])));for(let w in h)w in y&&delete h[w];return x.cloneElement(u,Object.assign({},y,h,c,{ref:i(Rat(u),c.ref)},g))}return x.createElement(s,Object.assign({},dj(l,["ref"]),!Q6(s)&&c,!Q6(s)&&h),u)}function Nat(){let t=x.useRef([]),e=x.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Pat(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Fbe(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Ube(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function yi(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Qg(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function dj(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Rat(t){return Ae.version.split(".")[0]>="19"?t.props.ref:t.ref}function Q6(t){return t===x.Fragment||t===Symbol.for("react.fragment")}function jat(t){return Q6(t.type)}let Oat="span";var QS=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(QS||{});function Mat(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Gi()({ourProps:s,theirProps:i,slot:{},defaultTag:Oat,name:"Hidden"})}let NL=yi(Mat),Dat=x.createContext(void 0);function Bat(){return x.useContext(Dat)}function zbe(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function bp(t){return zbe(t)&&"tagName"in t}function Zl(t){return bp(t)&&"accessKey"in t}function Ah(t){return bp(t)&&"tabIndex"in t}function Lat(t){return bp(t)&&"style"in t}function Fat(t){return Zl(t)&&t.nodeName==="IFRAME"}function Wbe(t){return Zl(t)&&t.nodeName==="INPUT"}function _te(t){return Zl(t)&&t.nodeName==="LABEL"}function Uat(t){return Zl(t)&&t.nodeName==="FIELDSET"}function Hbe(t){return Zl(t)&&t.nodeName==="LEGEND"}function zat(t){return bp(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Ste(t){let e=t.parentElement,n=null;for(;e&&!Uat(e);)Hbe(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Wat(n)?!1:r}function Wat(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(Hbe(e))return!1;e=e.previousElementSibling}return!0}let Vbe=Symbol();function Hat(t,e=!0){return Object.assign(t,{[Vbe]:e})}function ga(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=Wt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Vbe]))?void 0:n}let eq=x.createContext(null);eq.displayName="DescriptionContext";function qbe(){let t=x.useContext(eq);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,qbe),e}return t}function Gbe(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(n){let r=Wt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ae.createElement(eq.Provider,{value:i},n.children)},[e])]}let Vat="p";function qat(t,e){let n=x.useId(),r=Lbe(),{id:i=`headlessui-description-${n}`,...s}=t,o=qbe(),a=ga(e);Fr(()=>o.register(i),[i,o.register]);let l=sf({...o.slot,disabled:r||!1}),c={ref:a,...o.props,id:i};return Gi()({ourProps:c,theirProps:s,slot:l,defaultTag:Vat,name:o.name||"Description"})}let Gat=yi(qat),Kat=Object.assign(Gat,{});var fs=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(fs||{});let n$=x.createContext(null);n$.displayName="LabelContext";function tq(){let t=x.useContext(n$);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tq),e}return t}function Yat(t){var e,n,r;let i=(n=(e=x.useContext(n$))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function Kbe({inherit:t=!1}={}){let e=Yat(),[n,r]=x.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,x.useMemo(()=>function(s){let o=Wt(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=x.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Ae.createElement(n$.Provider,{value:a},s.children)},[r])]}let Qat="label";function Zat(t,e){var n;let r=x.useId(),i=tq(),s=Bat(),o=Lbe(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=t,h=ga(e);Fr(()=>i.register(a),[a,i.register]);let f=Wt(g=>{let y=g.currentTarget;if(!(g.target!==g.currentTarget&&zat(g.target))&&(_te(y)&&g.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(g),_te(y))){let w=document.getElementById(y.htmlFor);if(w){let v=w.getAttribute("disabled");if(v==="true"||v==="")return;let b=w.getAttribute("aria-disabled");if(b==="true"||b==="")return;(Wbe(w)&&(w.type==="file"||w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),p=sf({...i.slot,disabled:o||!1}),m={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in u&&delete u.onClick),Gi()({ourProps:m,theirProps:u,slot:p,defaultTag:l?Qat:"div",name:i.name||"Label"})}let Jat=yi(Zat);Object.assign(Jat,{});let Xat=x.createContext(()=>{});function elt({value:t,children:e}){return Ae.createElement(Xat.Provider,{value:t},e)}function tb(t,e,n){let r=n.initialDeps??[],i;function s(){var o,a,l,c;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const h=t();if(!(h.length!==r.length||h.some((m,g)=>r[g]!==m)))return i;r=h;let p;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(p=Date.now()),i=e(...h),n.key&&((l=n.debug)!=null&&l.call(n))){const m=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-p)*100)/100,y=g/16,w=(v,b)=>{for(v=String(v);v.length<b;)v=" "+v;return v};console.info(`%c ${w(g,5)} /${w(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,i),i}return s.updateDeps=o=>{r=o},s}function Ite(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const tlt=(t,e)=>Math.abs(t-e)<1.01,nlt=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},Tte=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},rlt=t=>t,ilt=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},slt=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(Tte(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(Tte(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},$te={passive:!0},Nte=typeof window>"u"?!0:"onscrollend"in window,olt=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&Nte?()=>{}:nlt(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);l(),n.addEventListener("scroll",a,$te);const c=t.options.useScrollendEvent&&Nte;return c&&n.addEventListener("scrollend",l,$te),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},alt=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},llt=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class clt{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:rlt,rangeExtractor:ilt,onChange:()=>{},measureElement:alt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=tb(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=tb(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=tb(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const h=s(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:r+i,m=a.get(h),g=typeof m=="number"?m:this.options.estimateSize(u),y=p+g,w=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:g,end:y,key:h,lane:w}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tb(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?ult({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=tb(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=tb(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Ite(r[Ybe(0,r.length-1,i=>Ite(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const o=10,a=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,c);if(!u){console.warn("Failed to get offset for index:",n);return}const[h,f]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}tlt(m[0],p)||l(f)})},l=c=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(c)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(a=>a===null);){const a=r[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Ybe=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function ult({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=Ybe(0,i,s,n),a=o;if(r===1)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(u=>u<n+e);){const u=t[a];l[u.lane]=u.end,a++}const c=Array(r).fill(n+e);for(;o>=0&&c.some(u=>u>=n);){const u=t[o];c[u.lane]=u.start,o--}o=Math.max(0,o-o%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const Pte=typeof document<"u"?x.useLayoutEffect:x.useEffect;function dlt(t){const e=x.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var o;s?Vl.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[r]=x.useState(()=>new clt(n));return r.setOptions(n),Pte(()=>r._didMount(),[]),Pte(()=>r._willUpdate()),r}function hlt(t){return dlt({observeElementRect:slt,observeElementOffset:olt,scrollToFn:llt,...t})}function Rte(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function flt(t,e,n=!1){let[r,i]=x.useState(()=>Rte(e));return Fr(()=>{if(!e||!t)return;let s=ol();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=Rte(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var Qbe=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Qbe||{});function plt(t){let e=x.useRef(null),n=Wt(i=>{e.current=i.pointerType,!Ste(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Qbe.Left&&(i.preventDefault(),t(i))}),r=Wt(i=>{e.current!=="mouse"&&(Ste(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let Zbe=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var mlt=Object.defineProperty,glt=(t,e,n)=>e in t?mlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ylt=(t,e,n)=>(glt(t,e+"",n),n),Jbe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},hc=(t,e,n)=>(Jbe(t,e,"read from private field"),n?n.call(t):e.get(t)),hj=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},jte=(t,e,n,r)=>(Jbe(t,e,"write to private field"),e.set(t,n),n),Gd,h6,f6;let Xbe=class{constructor(e){hj(this,Gd,{}),hj(this,h6,new Zbe(()=>new Set)),hj(this,f6,new Set),ylt(this,"disposables",ol()),jte(this,Gd,e),Dh.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return hc(this,Gd)}subscribe(e,n){if(Dh.isServer)return()=>{};let r={selector:e,callback:n,current:e(hc(this,Gd))};return hc(this,f6).add(r),this.disposables.add(()=>{hc(this,f6).delete(r)})}on(e,n){return Dh.isServer?()=>{}:(hc(this,h6).get(e).add(n),this.disposables.add(()=>{hc(this,h6).get(e).delete(n)}))}send(e){let n=this.reduce(hc(this,Gd),e);if(n!==hc(this,Gd)){jte(this,Gd,n);for(let r of hc(this,f6)){let i=r.selector(hc(this,Gd));eve(r.current,i)||(r.current=i,r.callback(i))}for(let r of hc(this,h6).get(e.type))r(hc(this,Gd),e)}}};Gd=new WeakMap,h6=new WeakMap,f6=new WeakMap;function eve(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:fj(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:fj(t.entries(),e.entries()):Ote(t)&&Ote(e)?fj(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function fj(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ote(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function Mte(t){let[e,n]=t(),r=ol();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var wlt=Object.defineProperty,blt=(t,e,n)=>e in t?wlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dte=(t,e,n)=>(blt(t,typeof e!="symbol"?e+"":e,n),n),tve=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(tve||{});let vlt={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},xlt=class nve extends Xbe{constructor(){super(...arguments),Dte(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Dte(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new nve({stack:[]})}reduce(e,n){return wd(n.type,vlt,e,n)}};const r$=new Zbe(()=>xlt.new());var rve={exports:{}},ive={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA=x;function Elt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Alt=typeof Object.is=="function"?Object.is:Elt,Clt=jA.useSyncExternalStore,klt=jA.useRef,_lt=jA.useEffect,Slt=jA.useMemo,Ilt=jA.useDebugValue;ive.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=klt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Slt(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,Alt(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,h=g)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Clt(t,s[0],s[1]);return _lt(function(){o.hasValue=!0,o.value=a},[a]),Ilt(a),a};rve.exports=ive;var Tlt=rve.exports;function Lc(t,e,n=eve){return Tlt.useSyncExternalStoreWithSelector(Wt(r=>t.subscribe($lt,r)),Wt(()=>t.state),Wt(()=>t.state),Wt(e),n)}function $lt(t){return t}function OA(t,e){let n=x.useId(),r=r$.get(e),[i,s]=Lc(r,x.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Fr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let PL=new Map,Z6=new Map;function Bte(t){var e;let n=(e=Z6.get(t))!=null?e:0;return Z6.set(t,n+1),n!==0?()=>Lte(t):(PL.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Lte(t))}function Lte(t){var e;let n=(e=Z6.get(t))!=null?e:1;if(n===1?Z6.delete(t):Z6.set(t,n-1),n!==1)return;let r=PL.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,PL.delete(t))}function sve(t,{allowed:e,disallowed:n}={}){let r=OA(t,"inert-others");Fr(()=>{var i,s;if(!r)return;let o=ol();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(Bte(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=Cw(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)a.some(f=>h.contains(f))||o.add(Bte(h));u=u.parentElement}}return o.dispose},[r,e,n])}function ove(t,e,n){let r=_w(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});x.useEffect(()=>{if(!t)return;let i=e===null?null:Zl(e)?e:e.current;if(!i)return;let s=ol();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let ZS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Nlt=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Yu=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Yu||{}),RL=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(RL||{}),Plt=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Plt||{});function ave(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ZS)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Rlt(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Nlt)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var nq=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(nq||{});function rq(t,e=0){var n;return t===((n=Cw(t))==null?void 0:n.body)?!1:wd(e,{0(){return t.matches(ZS)},1(){let r=t;for(;r!==null;){if(r.matches(ZS))return!0;r=r.parentElement}return!1}})}function lve(t){ol().nextFrame(()=>{let e=XV(t);e&&Ah(e)&&!rq(e,0)&&Bh(t)})}var jlt=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(jlt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Bh(t){t==null||t.focus({preventScroll:!0})}let Olt=["textarea","input"].join(",");function Mlt(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Olt))!=null?n:!1}function cve(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Dlt(t,e,n=t===null?document.body:YS(t)){return Wv(ave(n),e,{relativeTo:t})}function Wv(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?YS(t[0]):document:YS(t),o=Array.isArray(t)?n?cve(t):t:e&64?Rlt(t):ave(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==XV(f));return e&6&&Mlt(f)&&f.select(),2}function uve(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Blt(){return/Android/gi.test(window.navigator.userAgent)}function Fte(){return uve()||Blt()}function dv(t,e,n,r){let i=_w(n);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function dve(t,e,n,r){let i=_w(n);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Ute=30;function hve(t,e,n){let r=_w(n),i=x.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of u)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!rq(c,nq.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,e]),s=x.useRef(null);dv(t,"pointerdown",a=>{var l,c;Fte()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),dv(t,"pointerup",a=>{if(Fte()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=x.useRef({x:0,y:0});dv(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),dv(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=Ute||Math.abs(l.y-o.current.y)>=Ute))return i(a,()=>Ah(a.target)?a.target:null)},!0),dve(t,"blur",a=>i(a,()=>Fat(window.document.activeElement)?window.document.activeElement:null),!0)}function B8(...t){return x.useMemo(()=>Cw(...t),[...t])}var Llt=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(Llt||{});const lk={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},Flt=200,zte=5;function Ult(t,{trigger:e,action:n,close:r,select:i}){let s=x.useRef(null),o=x.useRef(null),a=x.useRef(null);dv(t&&e!==null,"pointerdown",l=>{zbe(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),dv(t&&e!==null,"pointerup",l=>{var c,u;let h=s.current;if(h===null||(s.current=null,!Ah(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<zte&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<zte)return;let f=n(l);switch(f.kind){case 0:return;case 1:{l.timeStamp-h>Flt&&(i(f.target),r());break}case 2:{r();break}}},{capture:!0})}function fve(t,e,n,r){let i=_w(n);x.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function zlt(t,e){return x.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Wlt(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Hlt(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function Vlt(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function qlt(){return uve()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ol();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Ah(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Ah(u)&&!r(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",l=>{if(a.dispose(),Ah(l.target)&&Lat(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;a.style(c,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Ah(a.target)){if(Wbe(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Glt(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Wte(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ky=Hlt(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ol(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=Wte(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=Wte(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[qlt(),Vlt(),Glt()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ky.subscribe(()=>{let t=ky.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ky.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ky.dispatch("TEARDOWN",n)}});function Klt(t,e,n=()=>({containers:[]})){let r=Wlt(ky),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Fr(()=>{if(!(!e||!t))return ky.dispatch("PUSH",e,n),()=>ky.dispatch("POP",e,n)},[t,e]),s}function pve(t,e,n=()=>[document.body]){let r=OA(t,"scroll-lock");Klt(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Hte(t){return[t.screenX,t.screenY]}function Ylt(){let t=x.useRef([-1,-1]);return{wasMoved(e){let n=Hte(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Hte(e)}}}function Qlt(t=0){let[e,n]=x.useState(t),r=x.useCallback(l=>n(l),[]),i=x.useCallback(l=>n(c=>c|l),[]),s=x.useCallback(l=>(e&l)===l,[e]),o=x.useCallback(l=>n(c=>c&~l),[]),a=x.useCallback(l=>n(c=>c^l),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Zlt={},Vte,qte;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Vte=process==null?void 0:Zlt)==null?void 0:Vte.NODE_ENV)==="test"&&typeof((qte=Element==null?void 0:Element.prototype)==null?void 0:qte.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Jlt=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Jlt||{});function mve(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function gve(t,e,n,r){let[i,s]=x.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=Qlt(t&&i?3:0),c=x.useRef(!1),u=x.useRef(!1),h=kw();return Fr(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),Xlt(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){u.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;u.current&&nct(e)||(c.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Xlt(t,{prepare:e,run:n,done:r,inFlight:i}){let s=ol();return tct(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(ect(t,r))})}),s.dispose}function ect(t,e){var n,r;let i=ol();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function tct(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function nct(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function rct(t,{container:e,accept:n,walk:r}){let i=x.useRef(n),s=x.useRef(r);x.useEffect(()=>{i.current=n,s.current=r},[n,r]),Fr(()=>{if(!e||!t)return;let o=Cw(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function iq(t,e){let n=x.useRef([]),r=Wt(t);x.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function ict(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const yve={...w4},sct=yve.useInsertionEffect,oct=sct||(t=>t());function wve(t){const e=x.useRef(()=>{});return oct(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var jL=typeof document<"u"?x.useLayoutEffect:x.useEffect;let Gte=!1,act=0;const Kte=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+act++;function lct(){const[t,e]=x.useState(()=>Gte?Kte():void 0);return jL(()=>{t==null&&e(Kte())},[]),x.useEffect(()=>{Gte=!0},[]),t}const cct=yve.useId,uct=cct||lct;function dct(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const hct=x.createContext(null),fct=x.createContext(null),pct=()=>{var t;return((t=x.useContext(hct))==null?void 0:t.id)||null},mct=()=>x.useContext(fct),gct="data-floating-ui-focusable";function yct(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=uct(),s=x.useRef({}),[o]=x.useState(()=>dct()),a=pct()!=null,[l,c]=x.useState(r.reference),u=wve((p,m,g)=>{s.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:g,nested:a}),n==null||n(p,m,g)}),h=x.useMemo(()=>({setPositionReference:c}),[]),f=x.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return x.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function wct(t){t===void 0&&(t={});const{nodeId:e}=t,n=yct({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=x.useState(null),[a,l]=x.useState(null),u=(i==null?void 0:i.domReference)||s,h=x.useRef(null),f=mct();jL(()=>{u&&(h.current=u)},[u]);const p=Uhe({...t,elements:{...i,...a&&{reference:a}}}),m=x.useCallback(b=>{const A=Jo(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(A),p.refs.setReference(A)},[p.refs]),g=x.useCallback(b=>{(Jo(b)||b===null)&&(h.current=b,o(b)),(Jo(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!Jo(b))&&p.refs.setReference(b)},[p.refs]),y=x.useMemo(()=>({...p.refs,setReference:g,setPositionReference:m,domReference:h}),[p.refs,g,m]),w=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),v=x.useMemo(()=>({...p,...r,refs:y,elements:w,nodeId:e}),[p,y,w,e,r]);return jL(()=>{r.dataRef.current.floatingContext=v;const b=f==null?void 0:f.nodesRef.current.find(A=>A.id===e);b&&(b.context=v)}),x.useMemo(()=>({...p,context:v,refs:y,elements:w}),[p,y,w,v])}const Yte="active",Qte="selected";function pj(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[Yte]:o,[Qte]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[gct]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[Yte,Qte].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var h;(h=r.get(c))==null||h.push(u),o[c]=function(){for(var f,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return(f=r.get(c))==null?void 0:f.map(y=>y(...m)).find(y=>y!==void 0)}}}else o[c]=u}),o),{})}}function bct(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=x.useCallback(a=>pj(a,t,"reference"),e),s=x.useCallback(a=>pj(a,t,"floating"),n),o=x.useCallback(a=>pj(a,t,"item"),r);return x.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function Zte(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const vct=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Hh(t,e),{rects:h,elements:{floating:f}}=e,p=n.current[o],m=(c==null?void 0:c.current)||f,g=f.clientTop||m.clientTop,y=f.clientTop!==0,w=m.clientTop!==0,v=f===m;if(!p)return{};const b={...e,...await OW(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},A=await BP(Zte(b,m.scrollHeight+g+f.clientTop),u),E=await BP(b,{...u,elementContext:"reference"}),$=Co(0,A.top),N=b.y+$,F=(m.scrollHeight>m.clientHeight?W=>W:M4)(Co(0,m.scrollHeight+(y&&v||w?g*2:0)-$-Co(0,A.bottom)));if(m.style.maxHeight=F+"px",m.scrollTop=$,i){const W=m.offsetHeight<p.offsetHeight*Tp(a,n.current.length)-1||E.top>=-l||E.bottom>=-l;Vl.flushSync(()=>i(W))}return r&&(r.current=await BP(Zte({...b,y:N},m.offsetHeight+g+f.clientTop),u)),{y:N}}});function xct(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=wve(a),c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null);x.useEffect(()=>{if(!i)return;function p(g){if(g.ctrlKey||!m||s.current==null)return;const y=g.deltaY,w=s.current.top>=-.5,v=s.current.bottom>=-.5,b=m.scrollHeight-m.clientHeight,A=y<0?-1:1,E=y<0?"max":"min";m.scrollHeight<=m.clientHeight||(!w&&y>0||!v&&y<0?(g.preventDefault(),Vl.flushSync(()=>{l($=>$+Math[E](y,b*A))})):/firefox/i.test(ict())&&(m.scrollTop+=y))}const m=(o==null?void 0:o.current)||r.floating;if(n&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=m.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,m.removeEventListener("wheel",p)}},[i,n,r.floating,s,o,l]);const f=x.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const m=p.scrollTop-u.current;(s.current.bottom<-.5&&m<-1||s.current.top<-.5&&m>1)&&Vl.flushSync(()=>l(g=>g+m))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,s,o]);return x.useMemo(()=>i?{floating:f}:{},[i,f])}let R3=x.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});R3.displayName="FloatingContext";let sq=x.createContext(null);sq.displayName="PlacementContext";function Ect(t){return x.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Act(){return x.useContext(R3).setReference}function Cct(){return x.useContext(R3).getReferenceProps}function kct(){let{getFloatingProps:t,slot:e}=x.useContext(R3);return x.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function _ct(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=x.useContext(sq),n=x.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);Fr(()=>{e==null||e(n??null)},[e,n]);let r=x.useContext(R3);return x.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let Jte=4;function Sct({children:t,enabled:e=!0}){let[n,r]=x.useState(null),[i,s]=x.useState(0),o=x.useRef(null),[a,l]=x.useState(null);Ict(a);let c=e&&n!==null&&a!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:m}=Tct(n,a),[g,y="center"]=u.split(" ");Fr(()=>{c&&s(0)},[c]);let{refs:w,floatingStyles:v,context:b}=wct({open:c,placement:g==="selection"?y==="center"?"bottom":`bottom-${y}`:y==="center"?`${g}`:`${g}-${y}`,strategy:"absolute",transform:!1,middleware:[OW({mainAxis:g==="selection"?0:h,crossAxis:f}),zhe({padding:p}),g!=="selection"&&Whe({padding:p}),g==="selection"&&m?vct({...m,padding:p,overflowRef:o,offset:i,minItemsVisible:Jte,referenceOverflowThreshold:p,onFallbackChange(W){var H,L;if(!W)return;let k=b.elements.floating;if(!k)return;let C=parseFloat(getComputedStyle(k).scrollPaddingBottom)||0,_=Math.min(Jte,k.childElementCount),T=0,S=0;for(let P of(L=(H=b.elements.floating)==null?void 0:H.childNodes)!=null?L:[])if(Zl(P)){let D=P.offsetTop,O=D+P.clientHeight+C,I=k.scrollTop,B=I+k.clientHeight;if(D>=I&&O<=B)_--;else{S=Math.max(0,Math.min(O,B)-Math.max(D,I)),T=P.clientHeight;break}}_>=1&&s(P=>{let D=T*_-S+C;return P>=D?P:D})}}):null,Hhe({padding:p,apply({availableWidth:W,availableHeight:H,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${W}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${H}px)`})}})].filter(Boolean),whileElementsMounted:Lhe}),[A=g,E=y]=b.placement.split("-");g==="selection"&&(A="selection");let $=x.useMemo(()=>({anchor:[A,E].filter(Boolean).join(" ")}),[A,E]),N=xct(b,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:M}=bct([N]),F=Wt(W=>{l(W),w.setFloating(W)});return x.createElement(sq.Provider,{value:r},x.createElement(R3.Provider,{value:{setFloating:F,setReference:w.setReference,styles:v,getReferenceProps:R,getFloatingProps:M,slot:$}},t))}function Ict(t){Fr(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Tct(t,e){var n,r,i;let s=mj((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=mj((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=mj((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function mj(t,e,n=void 0){let r=kw(),i=Wt((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let u=Xte(l,c);return[u,h=>{let f=bve(l);{let p=f.map(m=>window.getComputedStyle(c).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let g=!1;for(let[w,v]of f.entries()){let b=window.getComputedStyle(c).getPropertyValue(v);if(p[w]!==b){p[w]=b,g=!0;break}}if(!g)return;let y=Xte(l,c);u!==y&&(h(y),u=y)})}return r.dispose}]}return[n,null]}),s=x.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=x.useState();return Fr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function bve(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...bve(i)]:[r]}return[]}function Xte(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let i$=x.createContext(null);i$.displayName="OpenClosedContext";var Xo=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Xo||{});function MA(){return x.useContext(i$)}function vve({value:t,children:e}){return Ae.createElement(i$.Provider,{value:t},e)}function $ct({children:t}){return Ae.createElement(i$.Provider,{value:null},t)}function Nct(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let nm=[];Nct(()=>{function t(e){if(!Ah(e.target)||e.target===document.body||nm[0]===e.target)return;let n=e.target;n=n.closest(ZS),nm.unshift(n??e.target),nm=nm.filter(r=>r!=null&&r.isConnected),nm.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Pct(t){throw new Error("Unexpected object: "+t)}var Ui=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ui||{});function ck(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:Pct(t)}}function oq(t){let e=Wt(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,t$(()=>{n.current&&e()})}),[e])}let xve=x.createContext(!1);function Rct(){return x.useContext(xve)}function ene(t){return Ae.createElement(xve.Provider,{value:t.force},t.children)}function jct(t){let e=Rct(),n=x.useContext(Ave),[r,i]=x.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Dh.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return x.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),x.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Eve=x.Fragment,Oct=yi(function(t,e){let{ownerDocument:n=null,...r}=t,i=x.useRef(null),s=ga(Hat(f=>{i.current=f}),e),o=B8(i.current),a=n??o,l=jct(a),c=x.useContext(OL),u=kw(),h=Gi();return oq(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?Vl.createPortal(Ae.createElement("div",{"data-headlessui-portal":"",ref:f=>{u.dispose(),c&&f&&u.add(c.register(f))}},h({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Eve,name:"Portal"})),l):null});function Mct(t,e){let n=ga(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Gi();return r?Ae.createElement(Oct,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Eve,name:"Portal"})}let Dct=x.Fragment,Ave=x.createContext(null);function Bct(t,e){let{target:n,...r}=t,i={ref:ga(e)},s=Gi();return Ae.createElement(Ave.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Dct,name:"Popover.Group"}))}let OL=x.createContext(null);function Lct(){let t=x.useContext(OL),e=x.useRef([]),n=Wt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Wt(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=x.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,x.useMemo(()=>function({children:s}){return Ae.createElement(OL.Provider,{value:i},s)},[i])]}let Fct=yi(Mct),Cve=yi(Bct),kve=Object.assign(Fct,{Group:Cve});const M9={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function _ve(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function Uct(t,e,n){let r=ol();if(e.kind==="Tracked"){let i=function(){s!==_ve(t)&&(r.dispose(),n())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),r.add(()=>o.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function zct(t,e=typeof document<"u"?document.defaultView:null,n){let r=OA(t,"escape");fve(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===fs.Escape&&n(i))})}function Wct(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Fr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Hct({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Wt(()=>{var i,s;let o=Cw(n),a=[];for(let l of t)l!==null&&(bp(l)?a.push(l):"current"in l&&bp(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&bp(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:r,contains:Wt(i=>r().some(s=>s.contains(i)))}}let Sve=x.createContext(null);function tne({children:t,node:e}){let[n,r]=x.useState(null),i=Ive(e??n);return Ae.createElement(Sve.Provider,{value:i},t,i===null&&Ae.createElement(NL,{features:QS.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Cw(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&bp(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function Ive(t=null){var e;return(e=x.useContext(Sve))!=null?e:t}function Vct(){let t=typeof document>"u";return"useSyncExternalStore"in w4?(e=>e.useSyncExternalStore)(w4)(()=>()=>{},()=>!1,()=>!t):!1}function s$(){let t=Vct(),[e,n]=x.useState(Dh.isHandoffComplete);return e&&Dh.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>Dh.handoff(),[]),t?!1:e}function aq(){let t=x.useRef(!1);return Fr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var p6=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(p6||{});function qct(){let t=x.useRef(0);return dve(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Tve(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)bp(n.current)&&e.add(n.current);return e}let Gct="div";var ty=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(ty||{});function Kct(t,e){let n=x.useRef(null),r=ga(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;s$()||(a=0);let c=B8(n.current);Jct(a,{ownerDocument:c});let u=Xct(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:s});eut(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:u});let h=qct(),f=Wt(v=>{if(!Zl(n.current))return;let b=n.current;(A=>A())(()=>{wd(h.current,{[p6.Forwards]:()=>{Wv(b,Yu.First,{skipElements:[v.relatedTarget,s]})},[p6.Backwards]:()=>{Wv(b,Yu.Last,{skipElements:[v.relatedTarget,s]})}})})}),p=OA(!!(a&2),"focus-trap#tab-lock"),m=kw(),g=x.useRef(!1),y={ref:r,onKeyDown(v){v.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(v){if(!(a&4))return;let b=Tve(o);Zl(n.current)&&b.add(n.current);let A=v.relatedTarget;Ah(A)&&A.dataset.headlessuiFocusGuard!=="true"&&($ve(b,A)||(g.current?Wv(n.current,wd(h.current,{[p6.Forwards]:()=>Yu.Next,[p6.Backwards]:()=>Yu.Previous})|Yu.WrapAround,{relativeTo:v.target}):Ah(v.target)&&Bh(v.target)))}},w=Gi();return Ae.createElement(Ae.Fragment,null,p&&Ae.createElement(NL,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:QS.Focusable}),w({ourProps:y,theirProps:l,defaultTag:Gct,name:"FocusTrap"}),p&&Ae.createElement(NL,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:QS.Focusable}))}let Yct=yi(Kct),Qct=Object.assign(Yct,{features:ty});function Zct(t=!0){let e=x.useRef(nm.slice());return iq(([n],[r])=>{r===!0&&n===!1&&t$(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=nm.slice())},[t,nm,e]),Wt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Jct(t,{ownerDocument:e}){let n=!!(t&8),r=Zct(n);iq(()=>{n||Bbe(e==null?void 0:e.body)&&Bh(r())},[n]),oq(()=>{n&&Bh(r())})}function Xct(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=x.useRef(null),o=OA(!!(t&1),"focus-trap#initial-focus"),a=aq();return iq(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Bh(i.current);return}let l=n.current;l&&t$(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(r!=null&&r.current)Bh(r.current);else{if(t&16){if(Wv(l,Yu.First|Yu.AutoFocus)!==RL.Error)return}else if(Wv(l,Yu.First)!==RL.Error)return;if(i!=null&&i.current&&(Bh(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function eut(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=aq(),o=!!(t&4);fve(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Tve(r);Zl(n.current)&&l.add(n.current);let c=i.current;if(!c)return;let u=a.target;Zl(u)?$ve(l,u)?(i.current=u,Bh(u)):(a.preventDefault(),a.stopPropagation(),Bh(c)):Bh(i.current)},!0)}function $ve(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Nve(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Q6((e=t.as)!=null?e:Rve)||Ae.Children.count(t.children)===1}let o$=x.createContext(null);o$.displayName="TransitionContext";var tut=(t=>(t.Visible="visible",t.Hidden="hidden",t))(tut||{});function nut(){let t=x.useContext(o$);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function rut(){let t=x.useContext(a$);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let a$=x.createContext(null);a$.displayName="NestingContext";function l$(t){return"children"in t?l$(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Pve(t,e){let n=_w(t),r=x.useRef([]),i=aq(),s=kw(),o=Wt((p,m=Rm.Hidden)=>{let g=r.current.findIndex(({el:y})=>y===p);g!==-1&&(wd(m,{[Rm.Unmount](){r.current.splice(g,1)},[Rm.Hidden](){r.current[g].state="hidden"}}),s.microTask(()=>{var y;!l$(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),a=Wt(p=>{let m=r.current.find(({el:g})=>g===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Rm.Unmount)}),l=x.useRef([]),c=x.useRef(Promise.resolve()),u=x.useRef({enter:[],leave:[]}),h=Wt((p,m,g)=>{l.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([y])=>y!==p)),e==null||e.chains.current[m].push([p,new Promise(y=>{l.current.push(y)})]),e==null||e.chains.current[m].push([p,new Promise(y=>{Promise.all(u.current[m].map(([w,v])=>v)).then(()=>y())})]),m==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(m)):g(m)}),f=Wt((p,m,g)=>{Promise.all(u.current[m].splice(0).map(([y,w])=>w)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>g(m))});return x.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:u}),[a,o,r,h,f,u,c])}let Rve=x.Fragment,jve=Rx.RenderStrategy;function iut(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:m,leaveTo:g,...y}=t,[w,v]=x.useState(null),b=x.useRef(null),A=Nve(t),E=ga(...A?[b,e,v]:e===null?[]:[e]),$=(n=y.unmount)==null||n?Rm.Unmount:Rm.Hidden,{show:N,appear:R,initial:M}=nut(),[F,W]=x.useState(N?"visible":"hidden"),H=rut(),{register:L,unregister:k}=H;Fr(()=>L(b),[L,b]),Fr(()=>{if($===Rm.Hidden&&b.current){if(N&&F!=="visible"){W("visible");return}return wd(F,{hidden:()=>k(b),visible:()=>L(b)})}},[F,b,L,k,N,$]);let C=s$();Fr(()=>{if(A&&C&&F==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,F,C,A]);let _=M&&!R,T=R&&N&&M,S=x.useRef(!1),P=Pve(()=>{S.current||(W("hidden"),k(b))},H),D=Wt(ee=>{S.current=!0;let Z=ee?"enter":"leave";P.onStart(b,Z,oe=>{oe==="enter"?s==null||s():oe==="leave"&&(a==null||a())})}),O=Wt(ee=>{let Z=ee?"enter":"leave";S.current=!1,P.onStop(b,Z,oe=>{oe==="enter"?o==null||o():oe==="leave"&&(l==null||l())}),Z==="leave"&&!l$(P)&&(W("hidden"),k(b))});x.useEffect(()=>{A&&i||(D(N),O(N))},[N,A,i]);let I=!(!i||!A||!C||_),[,B]=gve(I,w,N,{start:D,end:O}),Q=Qg({ref:E,className:((r=$L(y.className,T&&c,T&&u,B.enter&&c,B.enter&&B.closed&&u,B.enter&&!B.closed&&h,B.leave&&p,B.leave&&!B.closed&&m,B.leave&&B.closed&&g,!B.transition&&N&&f))==null?void 0:r.trim())||void 0,...mve(B)}),j=0;F==="visible"&&(j|=Xo.Open),F==="hidden"&&(j|=Xo.Closed),N&&F==="hidden"&&(j|=Xo.Opening),!N&&F==="visible"&&(j|=Xo.Closing);let Y=Gi();return Ae.createElement(a$.Provider,{value:P},Ae.createElement(vve,{value:j},Y({ourProps:Q,theirProps:y,defaultTag:Rve,features:jve,visible:F==="visible",name:"Transition.Child"})))}function sut(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=x.useRef(null),a=Nve(t),l=ga(...a?[o,e]:e===null?[]:[e]);s$();let c=MA();if(n===void 0&&c!==null&&(n=(c&Xo.Open)===Xo.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=x.useState(n?"visible":"hidden"),f=Pve(()=>{n||h("hidden")}),[p,m]=x.useState(!0),g=x.useRef([n]);Fr(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))},[g,n]);let y=x.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);Fr(()=>{n?h("visible"):!l$(f)&&o.current!==null&&h("hidden")},[n,f]);let w={unmount:i},v=Wt(()=>{var E;p&&m(!1),(E=t.beforeEnter)==null||E.call(t)}),b=Wt(()=>{var E;p&&m(!1),(E=t.beforeLeave)==null||E.call(t)}),A=Gi();return Ae.createElement(a$.Provider,{value:f},Ae.createElement(o$.Provider,{value:y},A({ourProps:{...w,as:x.Fragment,children:Ae.createElement(Ove,{ref:l,...w,...s,beforeEnter:v,beforeLeave:b})},theirProps:{},defaultTag:x.Fragment,features:jve,visible:u==="visible",name:"Transition"})))}function out(t,e){let n=x.useContext(o$)!==null,r=MA()!==null;return Ae.createElement(Ae.Fragment,null,!n&&r?Ae.createElement(ML,{ref:e,...t}):Ae.createElement(Ove,{ref:e,...t}))}let ML=yi(sut),Ove=yi(iut),L8=yi(out),Mve=Object.assign(ML,{Child:L8,Root:ML});var aut=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(aut||{}),lut=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(lut||{});let cut={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},lq=x.createContext(null);lq.displayName="DialogContext";function c$(t){let e=x.useContext(lq);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,c$),n}return e}function uut(t,e){return wd(e.type,cut,t,e)}let nne=yi(function(t,e){let n=x.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...h}=t,f=x.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=MA();i===void 0&&p!==null&&(i=(p&Xo.Open)===Xo.Open);let m=x.useRef(null),g=ga(m,e),y=B8(m.current),w=i?0:1,[v,b]=x.useReducer(uut,{titleId:null,descriptionId:null,panelRef:x.createRef()}),A=Wt(()=>s(!1)),E=Wt(B=>b({type:0,id:B})),$=s$()?w===0:!1,[N,R]=Lct(),M={get current(){var B;return(B=v.panelRef.current)!=null?B:m.current}},F=Ive(),{resolveContainers:W}=Hct({mainTreeNode:F,portals:N,defaultContainers:[M]}),H=p!==null?(p&Xo.Closing)===Xo.Closing:!1;sve(c||H?!1:$,{allowed:Wt(()=>{var B,Q;return[(Q=(B=m.current)==null?void 0:B.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:Wt(()=>{var B;return[(B=F==null?void 0:F.closest("body > *:not(#headlessui-portal-root)"))!=null?B:null]})});let L=r$.get(null);Fr(()=>{if($)return L.actions.push(r),()=>L.actions.pop(r)},[L,r,$]);let k=Lc(L,x.useCallback(B=>L.selectors.isTop(B,r),[L,r]));hve(k,W,B=>{B.preventDefault(),A()}),zct(k,y==null?void 0:y.defaultView,B=>{B.preventDefault(),B.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),pve(c||H?!1:$,y,W),ove($,m,A);let[C,_]=Gbe(),T=x.useMemo(()=>[{dialogState:w,close:A,setTitleId:E,unmount:u},v],[w,A,E,u,v]),S=sf({open:w===0}),P={ref:g,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:w===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":C,unmount:u},D=!Wct(),O=ty.None;$&&!c&&(O|=ty.RestoreFocus,O|=ty.TabLock,l&&(O|=ty.AutoFocus),D&&(O|=ty.InitialFocus));let I=Gi();return Ae.createElement($ct,null,Ae.createElement(ene,{force:!0},Ae.createElement(kve,null,Ae.createElement(lq.Provider,{value:T},Ae.createElement(Cve,{target:m},Ae.createElement(ene,{force:!1},Ae.createElement(_,{slot:S},Ae.createElement(R,null,Ae.createElement(Qct,{initialFocus:o,initialFocusFallback:m,containers:W,features:O},Ae.createElement(elt,{value:A},I({ourProps:P,theirProps:h,slot:S,defaultTag:dut,features:hut,visible:w===0,name:"Dialog"})))))))))))}),dut="div",hut=Rx.RenderStrategy|Rx.Static;function fut(t,e){let{transition:n=!1,open:r,...i}=t,s=MA(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ae.createElement(tne,null,Ae.createElement(Mve,{show:r,transition:n,unmount:i.unmount},Ae.createElement(nne,{ref:e,...i}))):Ae.createElement(tne,null,Ae.createElement(nne,{ref:e,open:r,...i}))}let put="div";function mut(t,e){let n=x.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=c$("Dialog.Panel"),c=ga(e,l.panelRef),u=sf({open:o===0}),h=Wt(y=>{y.stopPropagation()}),f={ref:c,id:r,onClick:h},p=i?L8:x.Fragment,m=i?{unmount:a}:{},g=Gi();return Ae.createElement(p,{...m},g({ourProps:f,theirProps:s,slot:u,defaultTag:put,name:"Dialog.Panel"}))}let gut="div";function yut(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=c$("Dialog.Backdrop"),o=sf({open:i===0}),a={ref:e,"aria-hidden":!0},l=n?L8:x.Fragment,c=n?{unmount:s}:{},u=Gi();return Ae.createElement(l,{...c},u({ourProps:a,theirProps:r,slot:o,defaultTag:gut,name:"Dialog.Backdrop"}))}let wut="h2";function but(t,e){let n=x.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=c$("Dialog.Title"),a=ga(e);x.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=sf({open:s===0}),c={ref:a,id:r};return Gi()({ourProps:c,theirProps:i,slot:l,defaultTag:wut,name:"Dialog.Title"})}let vut=yi(fut),Dve=yi(mut);yi(yut);let xut=yi(but),Eut=Object.assign(vut,{Panel:Dve,Title:xut,Description:Kat}),rne=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ine(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Zl(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return rne.test(o)&&(o=o.replace(rne,"")),o}function Aut(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():ine(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return ine(t).trim()}function Cut(t){let e=x.useRef(""),n=x.useRef("");return Wt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=Aut(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var kut=Object.defineProperty,_ut=(t,e,n)=>e in t?kut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sne=(t,e,n)=>(_ut(t,typeof e!="symbol"?e+"":e,n),n),xo=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(xo||{}),JS=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(JS||{}),gr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(gr||{});function one(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=cve(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Sut={1(t){if(t.menuState===1)return t;let e=t.buttonElement?M9.Tracked(_ve(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Ui.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:M9.Idle}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Ui.Nothing)return{...a,activeItemIndex:null};if(e.focus===Ui.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Ui.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=ck(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===Ui.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=ck(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=one(t),c=ck(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==Ui.Nothing&&(r=ck(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:Ui.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...one(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:M9.Moved}}},Iut=class Bve extends Xbe{constructor(e){super(e),sne(this,"actions",{registerItem:Mte(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:Mte(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),sne(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,o=n.items;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=r$.get(null);this.disposables.add(r.on(tve.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(Uct(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new Bve({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Ui.Nothing},buttonPositionState:M9.Idle})}reduce(e,n){return wd(n.type,Sut,e,n)}};const Lve=x.createContext(null);function cq(t){let e=x.useContext(Lve);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fve),n}return e}function Fve({id:t,__demoMode:e=!1}){let n=x.useMemo(()=>Iut.new({id:t,__demoMode:e}),[]);return oq(()=>n.dispose()),n}let Tut=x.Fragment;function $ut(t,e){let n=x.useId(),{__demoMode:r=!1,...i}=t,s=Fve({id:n,__demoMode:r}),[o,a,l]=Lc(s,y=>[y.menuState,y.itemsElement,y.buttonElement]),c=ga(e),u=r$.get(null),h=Lc(u,x.useCallback(y=>u.selectors.isTop(y,n),[u,n]));hve(h,[l,a],(y,w)=>{var v;s.send({type:gr.CloseMenu}),rq(w,nq.Loose)||(y.preventDefault(),(v=s.state.buttonElement)==null||v.focus())});let f=Wt(()=>{s.send({type:gr.CloseMenu})}),p=sf({open:o===xo.Open,close:f}),m={ref:c},g=Gi();return Ae.createElement(Sct,null,Ae.createElement(Lve.Provider,{value:s},Ae.createElement(vve,{value:wd(o,{[xo.Open]:Xo.Open,[xo.Closed]:Xo.Closed})},g({ourProps:m,theirProps:i,slot:p,defaultTag:Tut,name:"Menu"}))))}let Nut="button";function Put(t,e){let n=cq("Menu.Button"),r=x.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=x.useRef(null),c=Cct(),u=ga(e,l,Act(),Wt(F=>n.send({type:gr.SetButtonElement,element:F}))),h=Wt(F=>{switch(F.key){case fs.Space:case fs.Enter:case fs.ArrowDown:F.preventDefault(),F.stopPropagation(),n.send({type:gr.OpenMenu,focus:{focus:Ui.First}});break;case fs.ArrowUp:F.preventDefault(),F.stopPropagation(),n.send({type:gr.OpenMenu,focus:{focus:Ui.Last}});break}}),f=Wt(F=>{switch(F.key){case fs.Space:F.preventDefault();break}}),[p,m,g]=Lc(n,F=>[F.menuState,F.buttonElement,F.itemsElement]),y=p===xo.Open;Ult(y,{trigger:m,action:x.useCallback(F=>{if(m!=null&&m.contains(F.target))return lk.Ignore;let W=F.target.closest('[role="menuitem"]:not([data-disabled])');return Zl(W)?lk.Select(W):g!=null&&g.contains(F.target)?lk.Ignore:lk.Close},[m,g]),close:x.useCallback(()=>n.send({type:gr.CloseMenu}),[]),select:x.useCallback(F=>F.click(),[])});let w=plt(F=>{var W;s||(p===xo.Open?(Vl.flushSync(()=>n.send({type:gr.CloseMenu})),(W=l.current)==null||W.focus({preventScroll:!0})):(F.preventDefault(),n.send({type:gr.OpenMenu,focus:{focus:Ui.Nothing},trigger:JS.Pointer})))}),{isFocusVisible:v,focusProps:b}=Eat({autoFocus:o}),{isHovered:A,hoverProps:E}=xat({isDisabled:s}),{pressed:$,pressProps:N}=Iat({disabled:s}),R=sf({open:p===xo.Open,active:$||p===xo.Open,disabled:s,hover:A,focus:v,autofocus:o}),M=Ube(c(),{ref:u,id:i,type:zlt(t,l.current),"aria-haspopup":"menu","aria-controls":g==null?void 0:g.id,"aria-expanded":p===xo.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:f},w,b,E,N);return Gi()({ourProps:M,theirProps:a,slot:R,defaultTag:Nut,name:"Menu.Button"})}let Rut="div",jut=Rx.RenderStrategy|Rx.Static;function Out(t,e){let n=x.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=Ect(i),u=cq("Menu.Items"),[h,f]=_ct(c),p=kct(),[m,g]=x.useState(null),y=ga(e,c?h:null,Wt(S=>u.send({type:gr.SetItemsElement,element:S})),g),[w,v]=Lc(u,S=>[S.menuState,S.buttonElement]),b=B8(v),A=B8(m);c&&(s=!0);let E=MA(),[$,N]=gve(a,m,E!==null?(E&Xo.Open)===Xo.Open:w===xo.Open);ove($,v,()=>{u.send({type:gr.CloseMenu})});let R=Lc(u,S=>S.__demoMode),M=R?!1:o&&w===xo.Open;pve(M,A);let F=R?!1:o&&w===xo.Open;sve(F,{allowed:x.useCallback(()=>[v,m],[v,m])});let W=Lc(u,u.selectors.didButtonMove)?!1:$;x.useEffect(()=>{let S=m;S&&w===xo.Open&&(Bbe(S)||S.focus({preventScroll:!0}))},[w,m]),rct(w===xo.Open,{container:m,accept(S){return S.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});let H=kw(),L=Wt(S=>{var P,D,O;switch(H.dispose(),S.key){case fs.Space:if(u.state.searchQuery!=="")return S.preventDefault(),S.stopPropagation(),u.send({type:gr.Search,value:S.key});case fs.Enter:if(S.preventDefault(),S.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:I}=u.state.items[u.state.activeItemIndex];(D=(P=I.current)==null?void 0:P.domRef.current)==null||D.click()}u.send({type:gr.CloseMenu}),lve(u.state.buttonElement);break;case fs.ArrowDown:return S.preventDefault(),S.stopPropagation(),u.send({type:gr.GoToItem,focus:Ui.Next});case fs.ArrowUp:return S.preventDefault(),S.stopPropagation(),u.send({type:gr.GoToItem,focus:Ui.Previous});case fs.Home:case fs.PageUp:return S.preventDefault(),S.stopPropagation(),u.send({type:gr.GoToItem,focus:Ui.First});case fs.End:case fs.PageDown:return S.preventDefault(),S.stopPropagation(),u.send({type:gr.GoToItem,focus:Ui.Last});case fs.Escape:S.preventDefault(),S.stopPropagation(),Vl.flushSync(()=>u.send({type:gr.CloseMenu})),(O=u.state.buttonElement)==null||O.focus({preventScroll:!0});break;case fs.Tab:S.preventDefault(),S.stopPropagation(),Vl.flushSync(()=>u.send({type:gr.CloseMenu})),Dlt(u.state.buttonElement,S.shiftKey?Yu.Previous:Yu.Next);break;default:S.key.length===1&&(u.send({type:gr.Search,value:S.key}),H.setTimeout(()=>u.send({type:gr.ClearSearch}),350));break}}),k=Wt(S=>{switch(S.key){case fs.Space:S.preventDefault();break}}),C=sf({open:w===xo.Open}),_=Ube(c?p():{},{"aria-activedescendant":Lc(u,u.selectors.activeDescendantId),"aria-labelledby":Lc(u,S=>{var P;return(P=S.buttonElement)==null?void 0:P.id}),id:r,onKeyDown:L,onKeyUp:k,role:"menu",tabIndex:w===xo.Open?0:void 0,ref:y,style:{...l.style,...f,"--button-width":flt($,v,!0).width},...mve(N)}),T=Gi();return Ae.createElement(kve,{enabled:s?t.static||$:!1,ownerDocument:b},T({ourProps:_,theirProps:l,slot:C,defaultTag:Rut,features:jut,visible:W,name:"Menu.Items"}))}let Mut=x.Fragment;function Dut(t,e){let n=x.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,o=cq("Menu.Item"),a=Lc(o,W=>o.selectors.isActive(W,r)),l=x.useRef(null),c=ga(e,l),u=Lc(o,W=>o.selectors.shouldScrollIntoView(W,r));Fr(()=>{if(u)return ol().requestAnimationFrame(()=>{var W,H;(H=(W=l.current)==null?void 0:W.scrollIntoView)==null||H.call(W,{block:"nearest"})})},[u,l]);let h=Cut(l),f=x.useRef({disabled:i,domRef:l,get textValue(){return h()}});Fr(()=>{f.current.disabled=i},[f,i]),Fr(()=>(o.actions.registerItem(r,f),()=>o.actions.unregisterItem(r)),[f,r]);let p=Wt(()=>{o.send({type:gr.CloseMenu})}),m=Wt(W=>{if(i)return W.preventDefault();o.send({type:gr.CloseMenu}),lve(o.state.buttonElement)}),g=Wt(()=>{if(i)return o.send({type:gr.GoToItem,focus:Ui.Nothing});o.send({type:gr.GoToItem,focus:Ui.Specific,id:r})}),y=Ylt(),w=Wt(W=>y.update(W)),v=Wt(W=>{y.wasMoved(W)&&(i||a||o.send({type:gr.GoToItem,focus:Ui.Specific,id:r,trigger:JS.Pointer}))}),b=Wt(W=>{y.wasMoved(W)&&(i||a&&o.state.activationTrigger===JS.Pointer&&o.send({type:gr.GoToItem,focus:Ui.Nothing}))}),[A,E]=Kbe(),[$,N]=Gbe(),R=sf({active:a,focus:a,disabled:i,close:p}),M={id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":$,disabled:void 0,onClick:m,onFocus:g,onPointerEnter:w,onMouseEnter:w,onPointerMove:v,onMouseMove:v,onPointerLeave:b,onMouseLeave:b},F=Gi();return Ae.createElement(E,null,Ae.createElement(N,null,F({ourProps:M,theirProps:s,slot:R,defaultTag:Mut,name:"Menu.Item"})))}let But="div";function Lut(t,e){let[n,r]=Kbe(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},o=Gi();return Ae.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:But,name:"Menu.Section"}))}let Fut="header";function Uut(t,e){let n=x.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=tq();Fr(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Gi()({ourProps:o,theirProps:i,slot:{},defaultTag:Fut,name:"Menu.Heading"})}let zut="div";function Wut(t,e){let n=t,r={ref:e,role:"separator"};return Gi()({ourProps:r,theirProps:n,slot:{},defaultTag:zut,name:"Menu.Separator"})}let Hut=yi($ut),Uve=yi(Put),zve=yi(Out),Wve=yi(Dut),Vut=yi(Lut),qut=yi(Uut),Gut=yi(Wut),Kut=Object.assign(Hut,{Button:Uve,Items:zve,Item:Wve,Section:Vut,Heading:qut,Separator:Gut});function Yut({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const uq=x.forwardRef(Yut);function Qut({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const F8=x.forwardRef(Qut);function hn(t){return t?new Date(1e3*t):null}function oo(t,e){return t.slice().sort((n,r)=>{var i,s;return(((i=n.firstVerifiedAt)==null?void 0:i.getTime())??0)-(((s=r.firstVerifiedAt)==null?void 0:s.getTime())??0)}).find(n=>n.type===e)}const ph=t=>t?Hve(t).find(e=>e.walletIndex===0)??null:null,Hve=t=>t?Vve(t,"ethereum"):[],Vve=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),Zut=t=>t?Vve(t,"solana"):[],u$=t=>t?Zut(t).find(e=>e.walletIndex===0)??null:null,DL=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,qve=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let Gve=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Mi(t)===Mi(e);const Bf=(t,e)=>(t==null?void 0:t.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&Gve(n.address,e)))||null,gj=(t,e)=>t.find(n=>Gve(n.address,e))||null,bd=t=>ph(t)??u$(t);function Ns(t){if(!t)return null;let e=function(b){let A=[];for(let E of b){let $=E.type;switch(E.type){case"wallet":let N={id:E.id,address:E.address,type:E.type,imported:E.imported,delegated:E.delegated,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),chainType:E.chain_type,walletClientType:E.wallet_client_type,connectorType:E.connector_type,recoveryMethod:E.recovery_method,walletIndex:E.wallet_index};A.push(N);break;case"smart_wallet":let R={address:E.address,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),smartWalletType:E.smart_wallet_type,smartWalletVersion:E.smart_wallet_version};A.push(R);break;case"cross_app":let M={type:E.type,subject:E.subject,embeddedWallets:E.embedded_wallets,smartWallets:E.smart_wallets,providerApp:{id:E.provider_app_id},firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(M);break;case"email":let F={address:E.address,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(F);break;case"phone":let W={number:E.phoneNumber,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(W);break;case"google_oauth":let H={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(H);break;case"spotify_oauth":let L={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(L);break;case"instagram_oauth":let k={subject:E.subject,username:E.username,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(k);break;case"twitter_oauth":let C={subject:E.subject,username:E.username,name:E.name,type:E.type,profilePictureUrl:E.profile_picture_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(C);break;case"discord_oauth":let _={subject:E.subject,username:E.username,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(_);break;case"github_oauth":let T={subject:E.subject,username:E.username,name:E.name,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(T);break;case"tiktok_oauth":let S={subject:E.subject,username:E.username,name:E.name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(S);break;case"line_oauth":let P={subject:E.subject,name:E.name,email:E.email,profilePictureUrl:E.profile_picture_url,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(P);break;case"linkedin_oauth":let D={subject:E.subject,name:E.name,email:E.email,vanityName:E.vanity_name,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(D);break;case"apple_oauth":let O={subject:E.subject,email:E.email,type:E.type,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(O);break;case"custom_auth":A.push({type:E.type,customUserId:E.custom_user_id,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)});break;case"farcaster":let I={type:E.type,fid:E.fid,ownerAddress:E.owner_address,displayName:E.display_name,username:E.username,bio:E.bio,pfp:E.profile_picture_url,url:E.homepage_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at),signerPublicKey:E.signer_public_key};A.push(I);break;case"passkey":let B={type:E.type,enrolledInMfa:E.enrolled_in_mfa,credentialId:E.credential_id,publicKey:E.public_key,authenticatorName:E.authenticator_name,createdWithDevice:E.created_with_device,createdWithOs:E.created_with_os,createdWithBrowser:E.created_with_browser,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(B);break;case"telegram":let Q={type:E.type,telegramUserId:E.telegram_user_id,firstName:E.first_name,lastName:E.last_name,username:E.username,photoUrl:E.photo_url,firstVerifiedAt:hn(E.first_verified_at),latestVerifiedAt:hn(E.latest_verified_at)};A.push(Q);break;default:console.warn(`Unrecognized account type: ${$}. Please consider upgrading the Privy SDK.`)}}return A}(t.linked_accounts),n=oo(e,"wallet"),r=oo(e,"smart_wallet"),i=oo(e,"email"),s=oo(e,"phone"),o=oo(e,"google_oauth"),a=oo(e,"twitter_oauth"),l=oo(e,"discord_oauth"),c=oo(e,"github_oauth"),u=oo(e,"spotify_oauth"),h=oo(e,"instagram_oauth"),f=oo(e,"tiktok_oauth"),p=oo(e,"line_oauth"),m=oo(e,"linkedin_oauth"),g=oo(e,"apple_oauth"),y=oo(e,"farcaster"),w=oo(e,"telegram"),v=t.mfa_methods.map(({type:b,verified_at:A})=>({type:b,verifiedAt:hn(A)}));return{id:t.id,createdAt:hn(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:f&&{subject:f.subject,username:f.username,name:f.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:m&&{subject:m.subject,name:m.name,email:m.email,vanityName:m.vanityName},apple:g&&{subject:g.subject,email:g.email},farcaster:y&&{fid:y.fid,ownerAddress:y.ownerAddress,displayName:y.displayName,username:y.username,bio:y.bio,pfp:y.pfp,url:y.url,signerPublicKey:y.signerPublicKey},telegram:w&&{telegramUserId:w.telegramUserId,firstName:w.firstName,lastName:w.lastName,username:w.username,photoUrl:w.photoUrl},delegatedWallets:[],mfaMethods:v.map(b=>b.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const yl=t=>!!t.id&&t.recoveryMethod==="privy-v2",j3=x.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Ie,login:Ie,connectOrCreateWallet:Ie,linkEmail:Ie,linkPhone:Ie,linkFarcaster:Ie,linkWallet:Ie,startCrossAppAuthFlow:Ie,linkGoogle:Ie,linkTwitter:Ie,linkDiscord:Ie,linkGithub:Ie,linkSpotify:Ie,linkInstagram:Ie,linkTelegram:Ie,linkTiktok:Ie,linkLine:Ie,linkLinkedIn:Ie,linkApple:Ie,linkPasskey:Ie,updateEmail:Ie,updatePhone:Ie,logout:Ie,getAccessToken:Ie,unlinkEmail:Ie,unlinkPhone:Ie,unlinkWallet:Ie,unlinkGoogle:Ie,unlinkTwitter:Ie,unlinkDiscord:Ie,unlinkGithub:Ie,unlinkSpotify:Ie,unlinkInstagram:Ie,unlinkTiktok:Ie,unlinkLine:Ie,unlinkLinkedIn:Ie,unlinkApple:Ie,unlinkCrossAppAccount:Ie,unlinkFarcaster:Ie,unlinkTelegram:Ie,unlinkPasskey:Ie,signMessage:Ie,signTypedData:Ie,enrollInMfa:Ie,initEnrollmentWithSms:Ie,initEnrollmentWithTotp:Ie,initEnrollmentWithPasskey:Ie,promptMfa:Ie,init:Ie,submitEnrollmentWithSms:Ie,submitEnrollmentWithTotp:Ie,submitEnrollmentWithPasskey:Ie,unenroll:Ie,submit:Ie,cancel:Ie,sendTransaction:Ie,signTransaction:Ie,exportWallet:Ie,setWalletPassword:Ie,setWalletRecovery:Ie,requestFarcasterSignerFromWarpcast:Ie,getFarcasterSignerPublicKey:Ie,signFarcasterMessage:Ie,signMessageWithCrossAppWallet:Ie,signTypedDataWithCrossAppWallet:Ie,sendTransactionWithCrossAppWallet:Ie,signTransactionWithCrossAppWallet:Ie,isModalOpen:!1,mfaMethods:[]}),_n=()=>x.useContext(j3);function Jut({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Xut=x.forwardRef(Jut);function edt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const tdt=x.forwardRef(edt);function ndt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const rdt=x.forwardRef(ndt);function idt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const sdt=x.forwardRef(idt);function odt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const adt=x.forwardRef(odt);function ldt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const cdt=x.forwardRef(ldt);function udt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ddt=x.forwardRef(udt);function hdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const fdt=x.forwardRef(hdt);function pdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const mdt=x.forwardRef(pdt);function gdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Kve=x.forwardRef(gdt);function ydt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const wdt=x.forwardRef(ydt);function bdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vdt=x.forwardRef(bdt);function xdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const d$=x.forwardRef(xdt);function Edt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Adt=x.forwardRef(Edt);function Cdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const h$=x.forwardRef(Cdt);function kdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Sw=x.forwardRef(kdt);function _dt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Sdt=x.forwardRef(_dt);function Idt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Tdt=x.forwardRef(Idt);function $dt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const dq=x.forwardRef($dt);function Ndt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Pdt=x.forwardRef(Ndt);function Rdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Yve=x.forwardRef(Rdt);function jdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Odt=x.forwardRef(jdt);function Mdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yj=x.forwardRef(Mdt);function Ddt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Bdt=x.forwardRef(Ddt);function Ldt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const hg=x.forwardRef(Ldt);function Fdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Hv=x.forwardRef(Fdt);function Udt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const q1=x.forwardRef(Udt);function zdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const Wdt=x.forwardRef(zdt);function Hdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vdt=x.forwardRef(Hdt);function qdt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Gdt=x.forwardRef(qdt);let wj={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const Kdt={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let nb=t=>t!==void 0?BigInt(t):void 0;function Qve(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(c=>Array.isArray(c)?{address:c[0],storageKeys:c[1]}:c):r.accessList&&(e=Object.entries(r.accessList).map(c=>({address:c[0],storageKeys:c[1]})));let i=Number(r.chainId??1),s=No(r.data)?r.data:r.data?ki(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:nb(r.value),gas:nb(r.gas??r.gasLimit)},l=Number(n);if(l===0)return{...r,type:wj[l],...a,gasPrice:nb(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...r,type:wj[l],...a,gasPrice:nb(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...r,type:wj[l],...a,nonce:o,accessList:e,maxFeePerGas:nb(r.maxFeePerGas),maxPriorityFeePerGas:nb(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ydt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zve=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qdt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zdt=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...Qdt,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Zve("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(Zdt,{ref:s,iconNode:e,className:Zve(`lucide-${Ydt(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jdt=wi("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xdt=wi("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=wi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jve=wi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=wi("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eht=wi("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tht=wi("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=wi("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nht=wi("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=wi("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=wi("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rht=wi("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=wi("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=wi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=wi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iht=wi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xve=wi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sht=wi("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oht=wi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=wi("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aht=wi("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lht=wi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cht(t,...e){if(!e2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function t2e(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function z8(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function pq(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function LL(t){if(!Array.isArray(t))throw new Error("array expected")}function t7(t,e){if(!t2e(!0,e))throw new Error(`${t}: array of strings expected`)}function uht(t,e){if(!t2e(!1,e))throw new Error(`${t}: array of numbers expected`)}function n2e(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function r2e(t){const e=typeof t=="string"?t.split(""):t,n=e.length;t7("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(LL(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(LL(i),i.map(s=>{z8("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function i2e(t=""){return z8("join",t),{encode:e=>(t7("join.decode",e),e.join(t)),decode:e=>(z8("join.decode",e),e.split(t))}}function s2e(t,e="="){return pq(t),z8("padding",e),{encode(n){for(t7("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){t7("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const o2e=(t,e)=>e===0?t:o2e(e,t%e),n7=(t,e)=>t+(e-o2e(t,e)),bj=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function ane(t,e,n,r){if(LL(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(n7(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${n7(e,n)}`);let i=0,s=0;const o=bj[e],a=bj[n]-1,l=[];for(const c of t){if(pq(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)l.push((i>>s-n&a)>>>0);const u=bj[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&l.push(i>>>0),l}function a2e(t,e=!1){if(pq(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(n7(8,t)>32||n7(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!e2e(n))throw new Error("radix2.encode input should be Uint8Array");return ane(Array.from(n),8,t,!e)},decode:n=>(uht("radix2.decode",n),Uint8Array.from(ane(n,t,8,e)))}}const dht=n2e(a2e(5),r2e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s2e(5),i2e("")),hht=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",fht=(t,e)=>{z8("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},D9=hht?{encode(t){return cht(t),t.toBase64()},decode(t){return fht(t)}}:n2e(a2e(6),r2e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s2e(6),i2e(""));function r7(t){"@babel/helpers - typeof";return r7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r7(t)}var pht=/^\s+/,mht=/\s+$/;function gt(t,e){if(t=t||"",e=e||{},t instanceof gt)return t;if(!(this instanceof gt))return new gt(t,e);var n=ght(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}gt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=l2e(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=cne(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=cne(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=lne(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=lne(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return une(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return vht(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zr(this._r,255)*100)+"%",g:Math.round(zr(this._g,255)*100)+"%",b:Math.round(zr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zr(this._r,255)*100)+"%, "+Math.round(zr(this._g,255)*100)+"%, "+Math.round(zr(this._b,255)*100)+"%)":"rgba("+Math.round(zr(this._r,255)*100)+"%, "+Math.round(zr(this._g,255)*100)+"%, "+Math.round(zr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Pht[une(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+dne(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=gt(e);r="#"+dne(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return gt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Cht,arguments)},brighten:function(){return this._applyModification(kht,arguments)},darken:function(){return this._applyModification(_ht,arguments)},desaturate:function(){return this._applyModification(xht,arguments)},saturate:function(){return this._applyModification(Eht,arguments)},greyscale:function(){return this._applyModification(Aht,arguments)},spin:function(){return this._applyModification(Sht,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination($ht,arguments)},complement:function(){return this._applyCombination(Iht,arguments)},monochromatic:function(){return this._applyCombination(Nht,arguments)},splitcomplement:function(){return this._applyCombination(Tht,arguments)},triad:function(){return this._applyCombination(hne,[3])},tetrad:function(){return this._applyCombination(hne,[4])}};gt.fromRatio=function(t,e){if(r7(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=m6(t[r]));t=n}return gt(t,e)};function ght(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Mht(t)),r7(t)=="object"&&(mf(t.r)&&mf(t.g)&&mf(t.b)?(e=yht(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):mf(t.h)&&mf(t.s)&&mf(t.v)?(r=m6(t.s),i=m6(t.v),e=bht(t.h,r,i),o=!0,a="hsv"):mf(t.h)&&mf(t.s)&&mf(t.l)&&(r=m6(t.s),s=m6(t.l),e=wht(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=l2e(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function yht(t,e,n){return{r:zr(t,255)*255,g:zr(e,255)*255,b:zr(n,255)*255}}function lne(t,e,n){t=zr(t,255),e=zr(e,255),n=zr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function wht(t,e,n){var r,i,s;t=zr(t,360),e=zr(e,100),n=zr(n,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function cne(t,e,n){t=zr(t,255),e=zr(e,255),n=zr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function bht(t,e,n){t=zr(t,360)*6,e=zr(e,100),n=zr(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:h*255}}function une(t,e,n,r){var i=[Ju(Math.round(t).toString(16)),Ju(Math.round(e).toString(16)),Ju(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vht(t,e,n,r,i){var s=[Ju(Math.round(t).toString(16)),Ju(Math.round(e).toString(16)),Ju(Math.round(n).toString(16)),Ju(c2e(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function dne(t,e,n,r){var i=[Ju(c2e(r)),Ju(Math.round(t).toString(16)),Ju(Math.round(e).toString(16)),Ju(Math.round(n).toString(16))];return i.join("")}gt.equals=function(t,e){return!t||!e?!1:gt(t).toRgbString()==gt(e).toRgbString()};gt.random=function(){return gt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function xht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.s-=e/100,n.s=p$(n.s),gt(n)}function Eht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.s+=e/100,n.s=p$(n.s),gt(n)}function Aht(t){return gt(t).desaturate(100)}function Cht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.l+=e/100,n.l=p$(n.l),gt(n)}function kht(t,e){e=e===0?0:e||10;var n=gt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),gt(n)}function _ht(t,e){e=e===0?0:e||10;var n=gt(t).toHsl();return n.l-=e/100,n.l=p$(n.l),gt(n)}function Sht(t,e){var n=gt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,gt(n)}function Iht(t){var e=gt(t).toHsl();return e.h=(e.h+180)%360,gt(e)}function hne(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=gt(t).toHsl(),r=[gt(t)],i=360/e,s=1;s<e;s++)r.push(gt({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Tht(t){var e=gt(t).toHsl(),n=e.h;return[gt(t),gt({h:(n+72)%360,s:e.s,l:e.l}),gt({h:(n+216)%360,s:e.s,l:e.l})]}function $ht(t,e,n){e=e||6,n=n||30;var r=gt(t).toHsl(),i=360/n,s=[gt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(gt(r));return s}function Nht(t,e){e=e||6;for(var n=gt(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(gt({h:r,s:i,v:s})),s=(s+a)%1;return o}gt.mix=function(t,e,n){n=n===0?0:n||50;var r=gt(t).toRgb(),i=gt(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return gt(o)};gt.readability=function(t,e){var n=gt(t),r=gt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};gt.isReadable=function(t,e,n){var r=gt.readability(t,e),i,s;switch(s=!1,i=Dht(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};gt.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=gt.readability(t,e[c]),s>i&&(i=s,r=gt(e[c]));return gt.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,gt.mostReadable(t,["#fff","#000"],n))};var FL=gt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Pht=gt.hexNames=Rht(FL);function Rht(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function l2e(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function zr(t,e){jht(t)&&(t="100%");var n=Oht(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function p$(t){return Math.min(1,Math.max(0,t))}function ml(t){return parseInt(t,16)}function jht(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Oht(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ju(t){return t.length==1?"0"+t:""+t}function m6(t){return t<=1&&(t=t*100+"%"),t}function c2e(t){return Math.round(parseFloat(t)*255).toString(16)}function fne(t){return ml(t)/255}var Cu=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function mf(t){return!!Cu.CSS_UNIT.exec(t)}function Mht(t){t=t.replace(pht,"").replace(mht,"").toLowerCase();var e=!1;if(FL[t])t=FL[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Cu.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Cu.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Cu.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Cu.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Cu.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Cu.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Cu.hex8.exec(t))?{r:ml(n[1]),g:ml(n[2]),b:ml(n[3]),a:fne(n[4]),format:e?"name":"hex8"}:(n=Cu.hex6.exec(t))?{r:ml(n[1]),g:ml(n[2]),b:ml(n[3]),format:e?"name":"hex"}:(n=Cu.hex4.exec(t))?{r:ml(n[1]+""+n[1]),g:ml(n[2]+""+n[2]),b:ml(n[3]+""+n[3]),a:fne(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Cu.hex3.exec(t))?{r:ml(n[1]+""+n[1]),g:ml(n[2]+""+n[2]),b:ml(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Dht(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function Bht({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Lht=x.forwardRef(Bht);var Fht=function(e,n){return Math.round(n*Math.log(e)/Math.LN2)},Uht=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],zht=function(e){return function(n){return e.reduce(function(r,i){return r+(i.re.test(n)?i.length:0)},0)}},Wht=zht(Uht),Hht=function(e){return e?Fht(Wht(e),e.length):0},Vht=Hht;const qht=Gs(Vht);function u2e(t){return crypto.getRandomValues(new Uint8Array(t))}const Ght=256,J6=65536;function Kht(){const[t]=u2e(1);return t}function Yht(){const[t,e]=u2e(2);return(t<<8)+e}function Qht(t){if(typeof t!="number"||t<2||t>J6)throw new Error(`Invalid number: number must be at least two and at most ${J6}`);const e=t>256,n=e?J6:Ght,r=e?Yht:Kht,i=t*Math.floor(n/t);for(;;){const s=r();if(s<i)return s%t}}function Zht(t,e,n){if(typeof n!="number"||n>J6)throw new Error(`Invalid argument: end must be a number less than or equal to ${J6}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+Qht(n-e);return r}function Jht(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return Zht(t,0,e.length).reduce((r,i,s)=>{const o=e[i];return r+(s===0?o:n+o)},"")}const Xht=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),eft=Object.freeze(Xht.filter(t=>!t.includes("-")));function tft({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const nft=x.forwardRef(tft);var BA={},rft=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},d2e={},ic={};let mq;const ift=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ic.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ic.getSymbolTotalCodewords=function(e){return ift[e]};ic.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ic.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');mq=e};ic.isKanjiModeEnabled=function(){return typeof mq<"u"};ic.toSJIS=function(e){return mq(e)};var m$={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(m$);function h2e(){this.buffer=[],this.length=0}h2e.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var sft=h2e;function LA(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}LA.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};LA.prototype.get=function(t,e){return this.data[t*this.size+e]};LA.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};LA.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var oft=LA,f2e={};(function(t){const e=ic.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(f2e);var p2e={};const aft=ic.getSymbolSize,pne=7;p2e.getPositions=function(e){const n=aft(e);return[[0,0],[n-pne,0],[0,n-pne]]};var m2e={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(m2e);var g$={};const jm=m$,uk=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dk=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];g$.getBlocksCount=function(e,n){switch(n){case jm.L:return uk[(e-1)*4+0];case jm.M:return uk[(e-1)*4+1];case jm.Q:return uk[(e-1)*4+2];case jm.H:return uk[(e-1)*4+3];default:return}};g$.getTotalCodewordsCount=function(e,n){switch(n){case jm.L:return dk[(e-1)*4+0];case jm.M:return dk[(e-1)*4+1];case jm.Q:return dk[(e-1)*4+2];case jm.H:return dk[(e-1)*4+3];default:return}};var g2e={},y$={};const X6=new Uint8Array(512),i7=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)X6[n]=e,i7[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)X6[n]=X6[n-255]})();y$.log=function(e){if(e<1)throw new Error("log("+e+")");return i7[e]};y$.exp=function(e){return X6[e]};y$.mul=function(e,n){return e===0||n===0?0:X6[i7[e]+i7[n]]};(function(t){const e=y$;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(g2e);const y2e=g2e;function gq(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}gq.prototype.initialize=function(e){this.degree=e,this.genPoly=y2e.generateECPolynomial(this.degree)};gq.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=y2e.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var lft=gq,w2e={},_g={},yq={};yq.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var of={};const b2e="[0-9]+",cft="[A-Z $%*+\\-./:]+";let W8="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";W8=W8.replace(/u/g,"\\u");const uft="(?:(?![A-Z0-9 $%*+\\-./:]|"+W8+`)(?:.|[\r
]))+`;of.KANJI=new RegExp(W8,"g");of.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");of.BYTE=new RegExp(uft,"g");of.NUMERIC=new RegExp(b2e,"g");of.ALPHANUMERIC=new RegExp(cft,"g");const dft=new RegExp("^"+W8+"$"),hft=new RegExp("^"+b2e+"$"),fft=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");of.testKanji=function(e){return dft.test(e)};of.testNumeric=function(e){return hft.test(e)};of.testAlphanumeric=function(e){return fft.test(e)};(function(t){const e=yq,n=of;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(_g);(function(t){const e=ic,n=g$,r=m$,i=_g,s=yq,o=7973,a=e.getBCHDigit(o);function l(f,p,m){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,m,f))return g}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let m=0;return f.forEach(function(g){const y=c(g.mode,p);m+=y+g.getBitsLength()}),m}function h(f,p){for(let m=1;m<=40;m++)if(u(f,m)<=t.getCapacity(m,p,i.MIXED))return m}t.from=function(p,m){return s.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,g){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const y=e.getSymbolTotalCodewords(p),w=n.getTotalCodewordsCount(p,m),v=(y-w)*8;if(g===i.MIXED)return v;const b=v-c(g,p);switch(g){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(p,m){let g;const y=r.from(m,r.M);if(Array.isArray(p)){if(p.length>1)return h(p,y);if(p.length===0)return 1;g=p[0]}else g=p;return l(g.mode,g.getLength(),y)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(w2e);var v2e={};const UL=ic,x2e=1335,pft=21522,mne=UL.getBCHDigit(x2e);v2e.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;UL.getBCHDigit(i)-mne>=0;)i^=x2e<<UL.getBCHDigit(i)-mne;return(r<<10|i)^pft};var E2e={};const mft=_g;function jx(t){this.mode=mft.NUMERIC,this.data=t.toString()}jx.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};jx.prototype.getLength=function(){return this.data.length};jx.prototype.getBitsLength=function(){return jx.getBitsLength(this.data.length)};jx.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var gft=jx;const yft=_g,vj=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ox(t){this.mode=yft.ALPHANUMERIC,this.data=t}Ox.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ox.prototype.getLength=function(){return this.data.length};Ox.prototype.getBitsLength=function(){return Ox.getBitsLength(this.data.length)};Ox.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=vj.indexOf(this.data[n])*45;r+=vj.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(vj.indexOf(this.data[n]),6)};var wft=Ox,bft=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const vft=bft,xft=_g;function Mx(t){this.mode=xft.BYTE,typeof t=="string"&&(t=vft(t)),this.data=new Uint8Array(t)}Mx.getBitsLength=function(e){return e*8};Mx.prototype.getLength=function(){return this.data.length};Mx.prototype.getBitsLength=function(){return Mx.getBitsLength(this.data.length)};Mx.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Eft=Mx;const Aft=_g,Cft=ic;function Dx(t){this.mode=Aft.KANJI,this.data=t}Dx.getBitsLength=function(e){return e*13};Dx.prototype.getLength=function(){return this.data.length};Dx.prototype.getBitsLength=function(){return Dx.getBitsLength(this.data.length)};Dx.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Cft.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var kft=Dx,A2e={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,h,f,p,m,g,y;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=n[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],m=h+p,g=o[u],y=typeof o[u]>"u",(y||g>m)&&(o[u]=m,a.push(u,m),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(A2e);var _ft=A2e.exports;(function(t){const e=_g,n=gft,r=wft,i=Eft,s=kft,o=of,a=ic,l=_ft;function c(w){return unescape(encodeURIComponent(w)).length}function u(w,v,b){const A=[];let E;for(;(E=w.exec(b))!==null;)A.push({data:E[0],index:E.index,mode:v,length:E[0].length});return A}function h(w){const v=u(o.NUMERIC,e.NUMERIC,w),b=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let A,E;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,w),E=u(o.KANJI,e.KANJI,w)):(A=u(o.BYTE_KANJI,e.BYTE,w),E=[]),v.concat(b,A,E).sort(function(N,R){return N.index-R.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function f(w,v){switch(v){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function p(w){return w.reduce(function(v,b){const A=v.length-1>=0?v[v.length-1]:null;return A&&A.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function m(w){const v=[];for(let b=0;b<w.length;b++){const A=w[b];switch(A.mode){case e.NUMERIC:v.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:v.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:v.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:v.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return v}function g(w,v){const b={},A={start:{}};let E=["start"];for(let $=0;$<w.length;$++){const N=w[$],R=[];for(let M=0;M<N.length;M++){const F=N[M],W=""+$+M;R.push(W),b[W]={node:F,lastCount:0},A[W]={};for(let H=0;H<E.length;H++){const L=E[H];b[L]&&b[L].node.mode===F.mode?(A[L][W]=f(b[L].lastCount+F.length,F.mode)-f(b[L].lastCount,F.mode),b[L].lastCount+=F.length):(b[L]&&(b[L].lastCount=F.length),A[L][W]=f(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,v))}}E=R}for(let $=0;$<E.length;$++)A[E[$]].end=0;return{map:A,table:b}}function y(w,v){let b;const A=e.getBestModeForData(w);if(b=e.from(v,A),b!==e.BYTE&&b.bit<A.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(A));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(v){return v.reduce(function(b,A){return typeof A=="string"?b.push(y(A,null)):A.data&&b.push(y(A.data,A.mode)),b},[])},t.fromString=function(v,b){const A=h(v,a.isKanjiModeEnabled()),E=m(A),$=g(E,b),N=l.find_path($.map,"start","end"),R=[];for(let M=1;M<N.length-1;M++)R.push($.table[N[M]].node);return t.fromArray(p(R))},t.rawSplit=function(v){return t.fromArray(h(v,a.isKanjiModeEnabled()))}})(E2e);const w$=ic,xj=m$,Sft=sft,Ift=oft,Tft=f2e,$ft=p2e,zL=m2e,WL=g$,Nft=lft,s7=w2e,Pft=v2e,Rft=_g,Ej=E2e;function jft(t,e){const n=t.size,r=$ft.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function Oft(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Mft(t,e){const n=Tft.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function Dft(t,e){const n=t.size,r=s7.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Aj(t,e,n){const r=t.size,i=Pft.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function Bft(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function Lft(t,e,n){const r=new Sft;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Rft.getCharCountIndicator(l.mode,t)),l.write(r)});const i=w$.getSymbolTotalCodewords(t),s=WL.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Fft(r,t,e)}function Fft(t,e,n){const r=w$.getSymbolTotalCodewords(e),i=WL.getTotalCodewordsCount(e,n),s=r-i,o=WL.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),h=u+1,f=c-u,p=new Nft(f);let m=0;const g=new Array(o),y=new Array(o);let w=0;const v=new Uint8Array(t.buffer);for(let N=0;N<o;N++){const R=N<l?u:h;g[N]=v.slice(m,m+R),y[N]=p.encode(g[N]),m+=R,w=Math.max(w,R)}const b=new Uint8Array(r);let A=0,E,$;for(E=0;E<w;E++)for($=0;$<o;$++)E<g[$].length&&(b[A++]=g[$][E]);for(E=0;E<f;E++)for($=0;$<o;$++)b[A++]=y[$][E];return b}function Uft(t,e,n,r){let i;if(Array.isArray(t))i=Ej.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=Ej.rawSplit(t);c=s7.getBestVersionForData(u,n)}i=Ej.fromString(t,c||40)}else throw new Error("Invalid data");const s=s7.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Lft(e,n,i),a=w$.getSymbolSize(e),l=new Ift(a);return jft(l,e),Oft(l),Mft(l,e),Aj(l,n,0),e>=7&&Dft(l,e),Bft(l,o),isNaN(r)&&(r=zL.getBestMask(l,Aj.bind(null,l,n))),zL.applyMask(r,l),Aj(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}d2e.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=xj.M,i,s;return typeof n<"u"&&(r=xj.from(n.errorCorrectionLevel,xj.M),i=s7.from(n.version),s=zL.from(n.maskPattern),n.toSJISFunc&&w$.setToSJISFunction(n.toSJISFunc)),Uft(e,i,r,s)};var C2e={},wq={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let m=(f*c+p)*4,g=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const y=Math.floor((f-u)/l),w=Math.floor((p-u)/l);g=h[a[y*o+w]?1:0]}r[m++]=g.r,r[m++]=g.g,r[m++]=g.b,r[m]=g.a}}})(wq);(function(t){const e=wq;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,s,l),n(h,c,u),h.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(C2e);var k2e={};const zft=wq;function gne(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Cj(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Wft(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?Cj("M",l+n,.5+c+n):Cj("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=Cj("h",o),o=0)):i++}return r}k2e.render=function(e,n,r){const i=zft.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+gne(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+gne(i.color.dark,"stroke")+' d="'+Wft(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,f),f};const Hft=rft,HL=d2e,_2e=C2e,Vft=k2e;function bq(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Hft())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=HL.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=HL.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}BA.create=HL.create;BA.toCanvas=bq.bind(null,_2e.render);BA.toDataURL=bq.bind(null,_2e.renderToDataURL);BA.toString=bq.bind(null,function(t,e,n){return Vft.render(t,n)});var S2e={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(S2e);var qft=S2e.exports;const b$=Gs(qft),yne=t=>{let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},Gft=t=>t?yne(t):yne,Kft=t=>t;function Yft(t,e=Kft){const n=Ae.useSyncExternalStore(t.subscribe,Ae.useCallback(()=>e(t.getState()),[t,e]),Ae.useCallback(()=>e(t.getInitialState()),[t,e]));return Ae.useDebugValue(n),n}const wne=t=>{const e=Gft(t),n=r=>Yft(e,r);return Object.assign(n,e),n},Iw=t=>t?wne(t):wne;var vq={exports:{}},Vv=typeof Reflect=="object"?Reflect:null,bne=Vv&&typeof Vv.apply=="function"?Vv.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},B9;Vv&&typeof Vv.ownKeys=="function"?B9=Vv.ownKeys:Object.getOwnPropertySymbols?B9=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:B9=function(e){return Object.getOwnPropertyNames(e)};function Qft(t){console&&console.warn&&console.warn(t)}var I2e=Number.isNaN||function(e){return e!==e};function fr(){fr.init.call(this)}vq.exports=fr;vq.exports.once=ept;fr.EventEmitter=fr;fr.prototype._events=void 0;fr.prototype._eventsCount=0;fr.prototype._maxListeners=void 0;var vne=10;function v$(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(fr,"defaultMaxListeners",{enumerable:!0,get:function(){return vne},set:function(t){if(typeof t!="number"||t<0||I2e(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");vne=t}});fr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};fr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||I2e(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function T2e(t){return t._maxListeners===void 0?fr.defaultMaxListeners:t._maxListeners}fr.prototype.getMaxListeners=function(){return T2e(this)};fr.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")bne(l,this,n);else for(var c=l.length,u=j2e(l,c),r=0;r<c;++r)bne(u[r],this,n);return!0};function $2e(t,e,n,r){var i,s,o;if(v$(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=T2e(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Qft(a)}return t}fr.prototype.addListener=function(e,n){return $2e(this,e,n,!1)};fr.prototype.on=fr.prototype.addListener;fr.prototype.prependListener=function(e,n){return $2e(this,e,n,!0)};function Zft(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function N2e(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Zft.bind(r);return i.listener=n,r.wrapFn=i,i}fr.prototype.once=function(e,n){return v$(n),this.on(e,N2e(this,e,n)),this};fr.prototype.prependOnceListener=function(e,n){return v$(n),this.prependListener(e,N2e(this,e,n)),this};fr.prototype.removeListener=function(e,n){var r,i,s,o,a;if(v$(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():Jft(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};fr.prototype.off=fr.prototype.removeListener;fr.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function P2e(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Xft(i):j2e(i,i.length)}fr.prototype.listeners=function(e){return P2e(this,e,!0)};fr.prototype.rawListeners=function(e){return P2e(this,e,!1)};fr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):R2e.call(t,e)};fr.prototype.listenerCount=R2e;function R2e(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}fr.prototype.eventNames=function(){return this._eventsCount>0?B9(this._events):[]};function j2e(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Jft(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Xft(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function ept(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}O2e(t,e,s,{once:!0}),e!=="error"&&tpt(t,i,{once:!0})})}function tpt(t,e,n){typeof t.on=="function"&&O2e(t,"error",e,n)}function O2e(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var sc=vq.exports;const xq=Gs(sc);var xne=function(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},npt=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),rpt=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os="browser"}return t}(),ipt=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),spt=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),opt=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),apt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,lpt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ene=3,cpt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",apt]],Ane=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function upt(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new opt:typeof navigator<"u"?hpt(navigator.userAgent):ppt()}function dpt(t){return t!==""&&cpt.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function hpt(t){var e=dpt(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new spt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ene&&(i=xne(xne([],i,!0),mpt(Ene-i.length))):i=[];var s=i.join("."),o=fpt(t),a=lpt.exec(t);return a&&a[1]?new ipt(n,s,o,a[1]):new npt(n,s,o)}function fpt(t){for(var e=0,n=Ane.length;e<n;e++){var r=Ane[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function ppt(){var t=typeof process<"u"&&"v18.0.0";return t?new rpt("v18.0.0".slice(1)):null}function mpt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var tt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VL=function(t,e){return VL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},VL(t,e)};function gpt(t,e){VL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qL=function(){return qL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qL.apply(this,arguments)};function ypt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wpt(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function bpt(t,e){return function(n,r){e(n,r,t)}}function vpt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xpt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Ept(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Apt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Cpt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function GL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function M2e(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function kpt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M2e(arguments[e]));return t}function _pt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function H8(t){return this instanceof H8?(this.v=t,this):new H8(t)}function Spt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof H8?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ipt(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:H8(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Tpt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof GL=="function"?GL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function $pt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Npt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ppt(t){return t&&t.__esModule?t:{default:t}}function Rpt(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function jpt(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Opt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return qL},__asyncDelegator:Ipt,__asyncGenerator:Spt,__asyncValues:Tpt,__await:H8,__awaiter:xpt,__classPrivateFieldGet:Rpt,__classPrivateFieldSet:jpt,__createBinding:Apt,__decorate:wpt,__exportStar:Cpt,__extends:gpt,__generator:Ept,__importDefault:Ppt,__importStar:Npt,__makeTemplateObject:$pt,__metadata:vpt,__param:bpt,__read:M2e,__rest:ypt,__spread:kpt,__spreadArrays:_pt,__values:GL},Symbol.toStringTag,{value:"Module"})),x$=s3(Opt);var kj={},A5={},Cne;function Mpt(){if(Cne)return A5;Cne=1,Object.defineProperty(A5,"__esModule",{value:!0}),A5.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return A5.delay=t,A5}var Fg={},_j={},Ug={},kne;function Dpt(){return kne||(kne=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.ONE_THOUSAND=Ug.ONE_HUNDRED=void 0,Ug.ONE_HUNDRED=100,Ug.ONE_THOUSAND=1e3),Ug}var Sj={},_ne;function Bpt(){return _ne||(_ne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Sj)),Sj}var Sne;function D2e(){return Sne||(Sne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=x$;e.__exportStar(Dpt(),t),e.__exportStar(Bpt(),t)}(_j)),_j}var Ine;function Lpt(){if(Ine)return Fg;Ine=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.fromMiliseconds=Fg.toMiliseconds=void 0;const t=D2e();function e(r){return r*t.ONE_THOUSAND}Fg.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Fg.fromMiliseconds=n,Fg}var Tne;function Fpt(){return Tne||(Tne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=x$;e.__exportStar(Mpt(),t),e.__exportStar(Lpt(),t)}(kj)),kj}var rb={},$ne;function Upt(){if($ne)return rb;$ne=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return rb.Watch=t,rb.default=t,rb}var Ij={},C5={},Nne;function zpt(){if(Nne)return C5;Nne=1,Object.defineProperty(C5,"__esModule",{value:!0}),C5.IWatch=void 0;class t{}return C5.IWatch=t,C5}var Pne;function Wpt(){return Pne||(Pne=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),x$.__exportStar(zpt(),t)}(Ij)),Ij}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=x$;e.__exportStar(Fpt(),t),e.__exportStar(Upt(),t),e.__exportStar(Wpt(),t),e.__exportStar(D2e(),t)})(tt);var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.getLocalStorage=vr.getLocalStorageOrThrow=vr.getCrypto=vr.getCryptoOrThrow=B2e=vr.getLocation=vr.getLocationOrThrow=Eq=vr.getNavigator=vr.getNavigatorOrThrow=G1=vr.getDocument=vr.getDocumentOrThrow=vr.getFromWindowOrThrow=vr.getFromWindow=void 0;function Tw(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}vr.getFromWindow=Tw;function O3(t){const e=Tw(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}vr.getFromWindowOrThrow=O3;function Hpt(){return O3("document")}vr.getDocumentOrThrow=Hpt;function Vpt(){return Tw("document")}var G1=vr.getDocument=Vpt;function qpt(){return O3("navigator")}vr.getNavigatorOrThrow=qpt;function Gpt(){return Tw("navigator")}var Eq=vr.getNavigator=Gpt;function Kpt(){return O3("location")}vr.getLocationOrThrow=Kpt;function Ypt(){return Tw("location")}var B2e=vr.getLocation=Ypt;function Qpt(){return O3("crypto")}vr.getCryptoOrThrow=Qpt;function Zpt(){return Tw("crypto")}vr.getCrypto=Zpt;function Jpt(){return O3("localStorage")}vr.getLocalStorageOrThrow=Jpt;function Xpt(){return Tw("localStorage")}vr.getLocalStorage=Xpt;var Aq={};Object.defineProperty(Aq,"__esModule",{value:!0});var L2e=Aq.getWindowMetadata=void 0;const Rne=vr;function e0t(){let t,e;try{t=Rne.getDocumentOrThrow(),e=Rne.getLocationOrThrow()}catch{return null}function n(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const m=h[p],g=m.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=m.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const v=e.pathname.split("/");v.pop();const b=v.join("/");w+=b+"/"+y}f.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;f.push(w)}else f.push(y)}}return f}function r(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const m=f[p],g=["itemprop","property","name"].map(y=>m.getAttribute(y)).filter(y=>y?h.includes(y):!1);if(g.length&&g){const y=m.getAttribute("content");if(y)return y}}return""}function i(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),l=e.origin,c=n();return{description:a,url:l,icons:c,name:o}}L2e=Aq.getWindowMetadata=e0t;function V8(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function KL(t){return V8(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const F2e="2.31.0";let k5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${F2e}`},E$=class YL extends Error{constructor(e,n={}){var a;const r=(()=>{var l;return n.cause instanceof YL?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof YL&&n.cause.docsPath||n.docsPath,s=(a=k5.getDocsUrl)==null?void 0:a.call(k5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...k5.version?[`Version: ${k5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=F2e}walk(e){return U2e(this,e)}};function U2e(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?U2e(t.cause,e):e?null:t}class z2e extends E${constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function M3(t,{dir:e,size:n=32}={}){return typeof t=="string"?t0t(t,{dir:e,size:n}):n0t(t,{dir:e,size:n})}function t0t(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new z2e({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function n0t(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new z2e({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class r0t extends E${constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class i0t extends E${constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function D3(t,{size:e}){if(KL(t)>e)throw new i0t({givenSize:KL(t),maxSize:e})}function QL(t,e={}){const{signed:n}=e;e.size&&D3(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function s0t(t,e={}){return Number(QL(t,e))}const o0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ZL(t,e={}){return typeof t=="number"||typeof t=="bigint"?H2e(t,e):typeof t=="string"?c0t(t,e):typeof t=="boolean"?a0t(t,e):W2e(t,e)}function a0t(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(D3(n,{size:e.size}),M3(n,{size:e.size})):n}function W2e(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=o0t[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(D3(r,{size:e.size}),M3(r,{dir:"right",size:e.size})):r}function H2e(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new r0t({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?M3(a,{size:r}):a}const l0t=new TextEncoder;function c0t(t,e={}){const n=l0t.encode(t);return W2e(n,e)}const u0t=new TextEncoder;function d0t(t,e={}){return typeof t=="number"||typeof t=="bigint"?f0t(t,e):typeof t=="boolean"?h0t(t,e):V8(t)?V2e(t,e):q2e(t,e)}function h0t(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(D3(n,{size:e.size}),M3(n,{size:e.size})):n}const gf={zero:48,nine:57,A:65,F:70,a:97,f:102};function jne(t){if(t>=gf.zero&&t<=gf.nine)return t-gf.zero;if(t>=gf.A&&t<=gf.F)return t-(gf.A-10);if(t>=gf.a&&t<=gf.f)return t-(gf.a-10)}function V2e(t,e={}){let n=t;e.size&&(D3(n,{size:e.size}),n=M3(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=jne(r.charCodeAt(a++)),c=jne(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new E$(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=l*16+c}return s}function f0t(t,e){const n=H2e(t,e);return V2e(n)}function q2e(t,e={}){const n=u0t.encode(t);return typeof e.size=="number"?(D3(n,{size:e.size}),M3(n,{dir:"right",size:e.size})):n}const hk=BigInt(2**32-1),One=BigInt(32);function p0t(t,e=!1){return e?{h:Number(t&hk),l:Number(t>>One&hk)}:{h:Number(t>>One&hk)|0,l:Number(t&hk)|0}}function m0t(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=p0t(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const g0t=(t,e,n)=>t<<n|e>>>32-n,y0t=(t,e,n)=>e<<n|t>>>32-n,w0t=(t,e,n)=>e<<n-32|t>>>64-n,b0t=(t,e,n)=>t<<n-32|e>>>64-n,ib=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function v0t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function o7(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function K1(t,...e){if(!v0t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function BYt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");o7(t.outputLen),o7(t.blockLen)}function a7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function G2e(t,e){K1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function x0t(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function q8(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Tj(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function jd(t,e){return t<<32-e|t>>>e}const E0t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function A0t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function C0t(t){for(let e=0;e<t.length;e++)t[e]=A0t(t[e]);return t}const Mne=E0t?t=>t:C0t,k0t=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_0t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function S0t(t){if(K1(t),k0t)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=_0t[t[n]];return e}function I0t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function A$(t){return typeof t=="string"&&(t=I0t(t)),K1(t),t}function LYt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];K1(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let K2e=class{};function Y2e(t){const e=r=>t().update(A$(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function T0t(t){const e=(r,i)=>t(i).update(A$(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function UYt(t=32){if(ib&&typeof ib.getRandomValues=="function")return ib.getRandomValues(new Uint8Array(t));if(ib&&typeof ib.randomBytes=="function")return Uint8Array.from(ib.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const $0t=BigInt(0),_5=BigInt(1),N0t=BigInt(2),P0t=BigInt(7),R0t=BigInt(256),j0t=BigInt(113),Q2e=[],Z2e=[],J2e=[];for(let t=0,e=_5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Q2e.push(2*(5*r+n)),Z2e.push((t+1)*(t+2)/2%64);let i=$0t;for(let s=0;s<7;s++)e=(e<<_5^(e>>P0t)*j0t)%R0t,e&N0t&&(i^=_5<<(_5<<BigInt(s))-_5);J2e.push(i)}const X2e=m0t(J2e,!0),O0t=X2e[0],M0t=X2e[1],Dne=(t,e,n)=>n>32?w0t(t,e,n):g0t(t,e,n),Bne=(t,e,n)=>n>32?b0t(t,e,n):y0t(t,e,n);function exe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=Dne(c,u,1)^n[a],f=Bne(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Z2e[o],l=Dne(i,s,a),c=Bne(i,s,a),u=Q2e[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=O0t[r],t[1]^=M0t[r]}q8(n)}let Cq=class txe extends K2e{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,o7(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=x0t(this.state)}clone(){return this._cloneInto()}keccak(){Mne(this.state32),exe(this.state32,this.rounds),Mne(this.state32),this.posOut=0,this.pos=0}update(e){a7(this),e=A$(e),K1(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){a7(this,!1),K1(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return o7(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(G2e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,q8(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new txe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Sg=(t,e,n)=>Y2e(()=>new Cq(e,t,n)),D0t=Sg(6,144,224/8),B0t=Sg(6,136,256/8),L0t=Sg(6,104,384/8),F0t=Sg(6,72,512/8),U0t=Sg(1,144,224/8),nxe=Sg(1,136,256/8),z0t=Sg(1,104,384/8),W0t=Sg(1,72,512/8),rxe=(t,e,n)=>T0t((r={})=>new Cq(e,t,r.dkLen===void 0?n:r.dkLen,!0)),H0t=rxe(31,168,128/8),V0t=rxe(31,136,256/8),q0t=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Cq,keccakP:exe,keccak_224:U0t,keccak_256:nxe,keccak_384:z0t,keccak_512:W0t,sha3_224:D0t,sha3_256:B0t,sha3_384:L0t,sha3_512:F0t,shake128:H0t,shake256:V0t},Symbol.toStringTag,{value:"Module"}));function ixe(t,e){const n=e||"hex",r=nxe(V8(t,{strict:!1})?d0t(t):t);return n==="bytes"?r:ZL(r)}class G0t extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const $j=new G0t(8192);function K0t(t,e){if($j.has(`${t}.${e}`))return $j.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=ixe(q2e(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return $j.set(`${t}.${e}`,s),s}function Y0t(t){const e=ixe(`0x${t.substring(4)}`).substring(26);return K0t(`0x${e}`)}async function Q0t({hash:t,signature:e}){const n=V8(t)?t:ZL(t),{secp256k1:r}=await Nh(async()=>{const{secp256k1:o}=await import("./secp256k1-DqPkyUIL.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=Lne(p);return new r.Signature(QL(c),QL(u)).addRecoveryBit(m)}const o=V8(e)?e:ZL(e);if(KL(o)!==65)throw new Error("invalid signature length");const a=s0t(`0x${o.slice(130)}`),l=Lne(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Lne(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Z0t({hash:t,signature:e}){return Y0t(await Q0t({hash:t,signature:e}))}function J0t(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function X0t(t,e,n){return t&e^~t&n}function emt(t,e,n){return t&e^t&n^e&n}let tmt=class extends K2e{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Tj(this.buffer)}update(e){a7(this),e=A$(e),K1(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Tj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a7(this),G2e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,q8(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;J0t(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Tj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const h0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nmt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),f0=new Uint32Array(64);let rmt=class extends tmt{constructor(e=32){super(64,e,8,!1),this.A=h0[0]|0,this.B=h0[1]|0,this.C=h0[2]|0,this.D=h0[3]|0,this.E=h0[4]|0,this.F=h0[5]|0,this.G=h0[6]|0,this.H=h0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)f0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=f0[h-15],p=f0[h-2],m=jd(f,7)^jd(f,18)^f>>>3,g=jd(p,17)^jd(p,19)^p>>>10;f0[h]=g+f0[h-7]+m+f0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=jd(a,6)^jd(a,11)^jd(a,25),p=u+f+X0t(a,l,c)+nmt[h]+f0[h]|0,g=(jd(r,2)^jd(r,13)^jd(r,22))+emt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){q8(f0)}destroy(){this.set(0,0,0,0,0,0,0,0),q8(this.buffer)}};const imt=Y2e(()=>new rmt),smt=imt;function omt(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,f=0;const p=c.length;for(;f!==p&&c[f]===0;)f++,u++;const m=(p-f)*s+1>>>0,g=new Uint8Array(m);for(;f!==p;){let v=c[f],b=0;for(let A=m-1;(v!==0||b<h)&&A!==-1;A--,b++)v+=256*g[A]>>>0,g[A]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");h=b,f++}let y=m-h;for(;y!==m&&g[y]===0;)y++;let w=r.repeat(u);for(;y<m;++y)w+=t.charAt(g[y]);return w}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;c[u]===r;)h++,u++;const p=(c.length-u)*i+1>>>0,m=new Uint8Array(p);for(;u<c.length;){const v=c.charCodeAt(u);if(v>255)return;let b=e[v];if(b===255)return;let A=0;for(let E=p-1;(b!==0||A<f)&&E!==-1;E--,A++)b+=n*m[E]>>>0,m[E]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=A,u++}let g=p-f;for(;g!==p&&m[g]===0;)g++;const y=new Uint8Array(h+(p-g));let w=h;for(;g!==p;)y[w++]=m[g++];return y}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var amt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const FA=omt(amt);function lmt(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function cmt(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const umt=new TextEncoder,dmt=50;function hmt(t,e,n){umt.encodeInto(t,e.subarray(n))}function fmt(t,e,n){t.length>dmt?hmt(t,e,n):cmt(t,e,n)}const pmt=4096;function sxe(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if(!(a&128))s.push(a);else if((a&224)===192){const l=t[r++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[r++]&63,c=t[r++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[r++]&63,c=t[r++]&63,u=t[r++]&63;let h=(a&7)<<18|l<<12|c<<6|u;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=pmt&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const mmt=new TextDecoder,gmt=200;function ymt(t,e,n){const r=t.subarray(e,e+n);return mmt.decode(r)}function wmt(t,e,n){return n>gmt?ymt(t,e,n):sxe(t,e,n)}class fk{constructor(e,n){this.type=e,this.data=n}}class _l extends Error{constructor(e){super(e);const n=Object.create(_l.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:_l.name})}}const S5=4294967295;function bmt(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function oxe(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function axe(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function vmt(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const xmt=-1,Emt=4294967296-1,Amt=17179869184-1;function Cmt({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Amt)if(e===0&&t<=Emt){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),oxe(r,4,t),n}}function kmt(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function _mt(t){if(t instanceof Date){const e=kmt(t);return Cmt(e)}else return null}function Smt(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=axe(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new _l(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Imt(t){const e=Smt(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Tmt={type:xmt,encode:_mt,decode:Imt};class l7{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Tmt)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new fk(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new fk(o,s)}}}return e instanceof fk?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new fk(n,e)}}l7.defaultCodec=new l7;function $mt(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function JL(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):$mt(t)?new Uint8Array(t):Uint8Array.from(t)}const Nmt=100,Pmt=2048;let Rmt=class lxe{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??l7.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Nmt,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Pmt,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new lxe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=lmt(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),fmt(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=JL(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),bmt(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),oxe(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function jmt(t,e){return new Rmt(e).encodeSharedRef(t)}function Nj(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Omt=16,Mmt=16;class Dmt{constructor(e=Omt,n=Mmt){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=sxe(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const XL="array",e4="map_key",cxe="map_value",Bmt=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new _l("The type of key must be string or number but "+typeof t)};class Lmt{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=XL,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=e4,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===XL){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===e4||e.type===cxe){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const I5=-1,kq=new DataView(new ArrayBuffer(0)),Fmt=new Uint8Array(kq.buffer);try{kq.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const Fne=new RangeError("Insufficient data"),Umt=new Dmt;let zmt=class uxe{constructor(e){this.totalPos=0,this.pos=0,this.view=kq,this.bytes=Fmt,this.headByte=I5,this.stack=new Lmt,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??l7.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??S5,this.maxBinLength=(e==null?void 0:e.maxBinLength)??S5,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??S5,this.maxMapLength=(e==null?void 0:e.maxMapLength)??S5,this.maxExtLength=(e==null?void 0:e.maxExtLength)??S5,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Umt,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Bmt}clone(){return new uxe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=I5,this.stack.reset()}setBuffer(e){const n=JL(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===I5&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=JL(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Nj(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new _l(`Unrecognized type byte: ${Nj(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===XL)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===e4){if(n==="__proto__")throw new _l("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=cxe;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=e4;continue e}}return n}}readHeadByte(){return this.headByte===I5&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=I5}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new _l(`Unrecognized array type byte: ${Nj(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new _l(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new _l(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new _l(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw Fne;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=wmt(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===e4:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new _l(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw Fne;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new _l(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=vmt(this.view,this.pos);return this.pos+=8,e}readI64(){const e=axe(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Wmt(t,e){return new zmt(e).decode(t)}const Hmt=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Vmt=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Y1(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Vmt(t)}catch{return t}}function Wp(t){return typeof t=="string"?t:Hmt(t)||""}function qmt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dxe(t,...e){if(!qmt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Une(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gmt(t,e){dxe(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const sb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pj=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Kmt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function hxe(t){return typeof t=="string"&&(t=Kmt(t)),dxe(t),t}let Ymt=class{clone(){return this._cloneInto()}};function Qmt(t){const e=r=>t().update(hxe(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fxe(t=32){if(sb&&typeof sb.getRandomValues=="function")return sb.getRandomValues(new Uint8Array(t));if(sb&&typeof sb.randomBytes=="function")return sb.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Zmt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}let Jmt=class extends Ymt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Pj(this.buffer)}update(e){Une(this);const{view:n,buffer:r,blockLen:i}=this;e=hxe(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Pj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Une(this),Gmt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Zmt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Pj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const pk=BigInt(2**32-1),eF=BigInt(32);function pxe(t,e=!1){return e?{h:Number(t&pk),l:Number(t>>eF&pk)}:{h:Number(t>>eF&pk)|0,l:Number(t&pk)|0}}function Xmt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=pxe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const egt=(t,e)=>BigInt(t>>>0)<<eF|BigInt(e>>>0),tgt=(t,e,n)=>t>>>n,ngt=(t,e,n)=>t<<32-n|e>>>n,rgt=(t,e,n)=>t>>>n|e<<32-n,igt=(t,e,n)=>t<<32-n|e>>>n,sgt=(t,e,n)=>t<<64-n|e>>>n-32,ogt=(t,e,n)=>t>>>n-32|e<<64-n,agt=(t,e)=>e,lgt=(t,e)=>t,cgt=(t,e,n)=>t<<n|e>>>32-n,ugt=(t,e,n)=>e<<n|t>>>32-n,dgt=(t,e,n)=>e<<n-32|t>>>64-n,hgt=(t,e,n)=>t<<n-32|e>>>64-n;function fgt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const pgt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),mgt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ggt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ygt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,wgt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),bgt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,fn={fromBig:pxe,split:Xmt,toBig:egt,shrSH:tgt,shrSL:ngt,rotrSH:rgt,rotrSL:igt,rotrBH:sgt,rotrBL:ogt,rotr32H:agt,rotr32L:lgt,rotlSH:cgt,rotlSL:ugt,rotlBH:dgt,rotlBL:hgt,add:fgt,add3L:pgt,add3H:mgt,add4L:ggt,add4H:ygt,add5H:bgt,add5L:wgt},[vgt,xgt]=fn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),p0=new Uint32Array(80),m0=new Uint32Array(80);let Egt=class extends Jmt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)p0[b]=e.getUint32(n),m0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=p0[b-15]|0,E=m0[b-15]|0,$=fn.rotrSH(A,E,1)^fn.rotrSH(A,E,8)^fn.shrSH(A,E,7),N=fn.rotrSL(A,E,1)^fn.rotrSL(A,E,8)^fn.shrSL(A,E,7),R=p0[b-2]|0,M=m0[b-2]|0,F=fn.rotrSH(R,M,19)^fn.rotrBH(R,M,61)^fn.shrSH(R,M,6),W=fn.rotrSL(R,M,19)^fn.rotrBL(R,M,61)^fn.shrSL(R,M,6),H=fn.add4L(N,W,m0[b-7],m0[b-16]),L=fn.add4H(H,$,F,p0[b-7],p0[b-16]);p0[b]=L|0,m0[b]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=fn.rotrSH(h,f,14)^fn.rotrSH(h,f,18)^fn.rotrBH(h,f,41),E=fn.rotrSL(h,f,14)^fn.rotrSL(h,f,18)^fn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=fn.add5L(v,E,N,xgt[b],m0[b]),M=fn.add5H(R,w,A,$,vgt[b],p0[b]),F=R|0,W=fn.rotrSH(r,i,28)^fn.rotrBH(r,i,34)^fn.rotrBH(r,i,39),H=fn.rotrSL(r,i,28)^fn.rotrBL(r,i,34)^fn.rotrBL(r,i,39),L=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=fn.add(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=fn.add3L(F,H,k);r=fn.add3H(C,M,W,L),i=C|0}({h:r,l:i}=fn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=fn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=fn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=fn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=fn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=fn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=fn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=fn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){p0.fill(0),m0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Agt=Qmt(()=>new Egt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _q=BigInt(0),mxe=BigInt(1),Cgt=BigInt(2);function Sq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Iq(t){if(!Sq(t))throw new Error("Uint8Array expected")}function Rj(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const kgt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tq(t){Iq(t);let e="";for(let n=0;n<t.length;n++)e+=kgt[t[n]];return e}function gxe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_q:BigInt("0x"+t)}const yf={_0:48,_9:57,A:65,F:70,a:97,f:102};function zne(t){if(t>=yf._0&&t<=yf._9)return t-yf._0;if(t>=yf.A&&t<=yf.F)return t-(yf.A-10);if(t>=yf.a&&t<=yf.f)return t-(yf.a-10)}function yxe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=zne(t.charCodeAt(s)),a=zne(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function _gt(t){return gxe(Tq(t))}function L9(t){return Iq(t),gxe(Tq(Uint8Array.from(t).reverse()))}function wxe(t,e){return yxe(t.toString(16).padStart(e*2,"0"))}function tF(t,e){return wxe(t,e).reverse()}function wf(t,e,n){let r;if(typeof e=="string")try{r=yxe(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Sq(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Wne(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Iq(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const jj=t=>typeof t=="bigint"&&_q<=t;function Sgt(t,e,n){return jj(t)&&jj(e)&&jj(n)&&e<=t&&t<n}function T5(t,e,n,r){if(!Sgt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Igt(t){let e;for(e=0;t>_q;t>>=mxe,e+=1);return e}const Tgt=t=>(Cgt<<BigInt(t-1))-mxe,$gt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Sq(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $q(t,e,n={}){const r=(i,s,o)=>{const a=$gt[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Hne(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const bs=BigInt(0),$i=BigInt(1),ny=BigInt(2),Ngt=BigInt(3),nF=BigInt(4),Vne=BigInt(5),qne=BigInt(8);function es(t,e){const n=t%e;return n>=bs?n:e+n}function Pgt(t,e,n){if(e<bs)throw new Error("invalid exponent, negatives unsupported");if(n<=bs)throw new Error("invalid modulus");if(n===$i)return bs;let r=$i;for(;e>bs;)e&$i&&(r=r*t%n),t=t*t%n,e>>=$i;return r}function Od(t,e,n){let r=t;for(;e-- >bs;)r*=r,r%=n;return r}function Gne(t,e){if(t===bs)throw new Error("invert: expected non-zero number");if(e<=bs)throw new Error("invert: expected positive modulus, got "+e);let n=es(t,e),r=e,i=bs,s=$i;for(;n!==bs;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}if(r!==$i)throw new Error("invert: does not exist");return es(i,e)}function Rgt(t){const e=(t-$i)/ny;let n,r,i;for(n=t-$i,r=0;n%ny===bs;n/=ny,r++);for(i=ny;i<t&&Pgt(i,e,t)!==t-$i;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+$i)/nF;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(n+$i)/ny;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=r,c=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let m=o.sqr(h);f<l&&!o.eql(m,o.ONE);f++)m=o.sqr(m);const p=o.pow(c,$i<<BigInt(l-f-1));c=o.sqr(p),u=o.mul(u,p),h=o.mul(h,c),l=f}return u}}function jgt(t){if(t%nF===Ngt){const e=(t+$i)/nF;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%qne===Vne){const e=(t-Vne)/qne;return function(n,r){const i=n.mul(r,ny),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,ny),s),l=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return Rgt(t)}const Ogt=(t,e)=>(es(t,e)&$i)===$i,Mgt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Dgt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Mgt.reduce((r,i)=>(r[i]="function",r),e);return $q(t,n)}function Bgt(t,e,n){if(n<bs)throw new Error("invalid exponent, negatives unsupported");if(n===bs)return t.ONE;if(n===$i)return e;let r=t.ONE,i=e;for(;n>bs;)n&$i&&(r=t.mul(r,i)),i=t.sqr(i),n>>=$i;return r}function Lgt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function bxe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function vxe(t,e,n=!1,r={}){if(t<=bs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=bxe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Tgt(i),ZERO:bs,ONE:$i,create:l=>es(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return bs<=l&&l<t},is0:l=>l===bs,isOdd:l=>(l&$i)===$i,neg:l=>es(-l,t),eql:(l,c)=>l===c,sqr:l=>es(l*l,t),add:(l,c)=>es(l+c,t),sub:(l,c)=>es(l-c,t),mul:(l,c)=>es(l*c,t),pow:(l,c)=>Bgt(a,l,c),div:(l,c)=>es(l*Gne(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Gne(l,t),sqrt:r.sqrt||(l=>(o||(o=jgt(t)),o(a,l))),invertBatch:l=>Lgt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?tF(l,s):wxe(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?L9(l):_gt(l)}});return Object.freeze(a)}const Kne=BigInt(0),mk=BigInt(1);function Oj(t,e){const n=e.negate();return t?n:e}function xxe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Mj(t,e){xxe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Fgt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Ugt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Dj=new WeakMap,Exe=new WeakMap;function Bj(t){return Exe.get(t)||1}function zgt(t,e){return{constTimeNegate:Oj,hasPrecomputes(n){return Bj(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Kne;)r&mk&&(i=i.add(s)),s=s.double(),r>>=mk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Mj(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Mj(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=mk);const g=p,y=p+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?l=l.add(Oj(w,r[g])):a=a.add(Oj(v,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Mj(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===Kne)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=mk),p===0)continue;let m=r[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=Dj.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Dj.set(r,i(s))),s},wNAFCached(n,r,i){const s=Bj(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Bj(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){xxe(r,e),Exe.set(n,r),Dj.delete(n)}}}function Wgt(t,e,n,r){if(Fgt(n,t),Ugt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Igt(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<r.length;p++){const m=r[p],g=Number(m>>BigInt(h)&BigInt(a));l[g]=l[g].add(n[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function Hgt(t){return Dgt(t.Fp),$q(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bxe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const wu=BigInt(0),xa=BigInt(1),gk=BigInt(2),Vgt=BigInt(8),qgt={zip215:!0};function Ggt(t){const e=Hgt(t);return $q(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Kgt(t){const e=Ggt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=gk<<BigInt(a*8)-xa,u=n.create,h=vxe(e.n,e.nBitLength),f=e.uvRatio||((C,_)=>{try{return{isValid:!0,value:n.sqrt(C*n.inv(_))}}catch{return{isValid:!1,value:wu}}}),p=e.adjustScalarBytes||(C=>C),m=e.domain||((C,_,T)=>{if(Rj("phflag",T),_.length||T)throw new Error("Contexts/pre-hash are not supported");return C});function g(C,_){T5("coordinate "+C,_,wu,c)}function y(C){if(!(C instanceof b))throw new Error("ExtendedPoint expected")}const w=Hne((C,_)=>{const{ex:T,ey:S,ez:P}=C,D=C.is0();_==null&&(_=D?Vgt:n.inv(P));const O=u(T*_),I=u(S*_),B=u(P*_);if(D)return{x:wu,y:xa};if(B!==xa)throw new Error("invZ was invalid");return{x:O,y:I}}),v=Hne(C=>{const{a:_,d:T}=e;if(C.is0())throw new Error("bad point: ZERO");const{ex:S,ey:P,ez:D,et:O}=C,I=u(S*S),B=u(P*P),Q=u(D*D),j=u(Q*Q),Y=u(I*_),ee=u(Q*u(Y+B)),Z=u(j+u(T*u(I*B)));if(ee!==Z)throw new Error("bad point: equation left != right (1)");const oe=u(S*P),de=u(D*O);if(oe!==de)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(_,T,S,P){this.ex=_,this.ey=T,this.ez=S,this.et=P,g("x",_),g("y",T),g("z",S),g("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof b)throw new Error("extended point not allowed");const{x:T,y:S}=_||{};return g("x",T),g("y",S),new b(T,S,xa,u(T*S))}static normalizeZ(_){const T=n.invertBatch(_.map(S=>S.ez));return _.map((S,P)=>S.toAffine(T[P])).map(b.fromAffine)}static msm(_,T){return Wgt(b,h,_,T)}_setWindowSize(_){$.setWindowSize(this,_)}assertValidity(){v(this)}equals(_){y(_);const{ex:T,ey:S,ez:P}=this,{ex:D,ey:O,ez:I}=_,B=u(T*I),Q=u(D*P),j=u(S*I),Y=u(O*P);return B===Q&&j===Y}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:_}=e,{ex:T,ey:S,ez:P}=this,D=u(T*T),O=u(S*S),I=u(gk*u(P*P)),B=u(_*D),Q=T+S,j=u(u(Q*Q)-D-O),Y=B+O,ee=Y-I,Z=B-O,oe=u(j*ee),de=u(Y*Z),ce=u(j*Z),he=u(ee*Y);return new b(oe,de,he,ce)}add(_){y(_);const{a:T,d:S}=e,{ex:P,ey:D,ez:O,et:I}=this,{ex:B,ey:Q,ez:j,et:Y}=_;if(T===BigInt(-1)){const Se=u((D-P)*(Q+B)),ve=u((D+P)*(Q-B)),Oe=u(ve-Se);if(Oe===wu)return this.double();const Le=u(O*gk*Y),Ce=u(I*gk*j),De=Ce+Le,We=ve+Se,rt=Ce-Le,G=u(De*Oe),U=u(We*rt),z=u(De*rt),X=u(Oe*We);return new b(G,U,X,z)}const ee=u(P*B),Z=u(D*Q),oe=u(I*S*Y),de=u(O*j),ce=u((P+D)*(B+Q)-ee-Z),he=de-oe,be=de+oe,fe=u(Z-T*ee),ke=u(ce*he),we=u(be*fe),Fe=u(ce*fe),Me=u(he*be);return new b(ke,we,Me,Fe)}subtract(_){return this.add(_.negate())}wNAF(_){return $.wNAFCached(this,_,b.normalizeZ)}multiply(_){const T=_;T5("scalar",T,xa,r);const{p:S,f:P}=this.wNAF(T);return b.normalizeZ([S,P])[0]}multiplyUnsafe(_,T=b.ZERO){const S=_;return T5("scalar",S,wu,r),S===wu?E:this.is0()||S===xa?this:$.wNAFCachedUnsafe(this,S,b.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(_){return w(this,_)}clearCofactor(){const{h:_}=e;return _===xa?this:this.multiplyUnsafe(_)}static fromHex(_,T=!1){const{d:S,a:P}=e,D=n.BYTES;_=wf("pointHex",_,D),Rj("zip215",T);const O=_.slice(),I=_[D-1];O[D-1]=I&-129;const B=L9(O),Q=T?c:n.ORDER;T5("pointHex.y",B,wu,Q);const j=u(B*B),Y=u(j-xa),ee=u(S*j-P);let{isValid:Z,value:oe}=f(Y,ee);if(!Z)throw new Error("Point.fromHex: invalid y coordinate");const de=(oe&xa)===xa,ce=(I&128)!==0;if(!T&&oe===wu&&ce)throw new Error("Point.fromHex: x=0 and x_0=1");return ce!==de&&(oe=u(-oe)),b.fromAffine({x:oe,y:B})}static fromPrivateKey(_){return M(_).point}toRawBytes(){const{x:_,y:T}=this.toAffine(),S=tF(T,n.BYTES);return S[S.length-1]|=_&xa?128:0,S}toHex(){return Tq(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,xa,u(e.Gx*e.Gy)),b.ZERO=new b(wu,xa,xa,wu);const{BASE:A,ZERO:E}=b,$=zgt(b,a*8);function N(C){return es(C,r)}function R(C){return N(L9(C))}function M(C){const _=n.BYTES;C=wf("private key",C,_);const T=wf("hashed private key",s(C),2*_),S=p(T.slice(0,_)),P=T.slice(_,2*_),D=R(S),O=A.multiply(D),I=O.toRawBytes();return{head:S,prefix:P,scalar:D,point:O,pointBytes:I}}function F(C){return M(C).pointBytes}function W(C=new Uint8Array,..._){const T=Wne(..._);return R(s(m(T,wf("context",C),!!i)))}function H(C,_,T={}){C=wf("message",C),i&&(C=i(C));const{prefix:S,scalar:P,pointBytes:D}=M(_),O=W(T.context,S,C),I=A.multiply(O).toRawBytes(),B=W(T.context,I,D,C),Q=N(O+B*P);T5("signature.s",Q,wu,r);const j=Wne(I,tF(Q,n.BYTES));return wf("result",j,n.BYTES*2)}const L=qgt;function k(C,_,T,S=L){const{context:P,zip215:D}=S,O=n.BYTES;C=wf("signature",C,2*O),_=wf("message",_),T=wf("publicKey",T,O),D!==void 0&&Rj("zip215",D),i&&(_=i(_));const I=L9(C.slice(O,2*O));let B,Q,j;try{B=b.fromHex(T,D),Q=b.fromHex(C.slice(0,O),D),j=A.multiplyUnsafe(I)}catch{return!1}if(!D&&B.isSmallOrder())return!1;const Y=W(P,Q.toRawBytes(),B.toRawBytes(),_);return Q.add(B.multiplyUnsafe(Y)).subtract(j).clearCofactor().equals(b.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:H,verify:k,ExtendedPoint:b,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute(C=8,_=b.BASE){return _._setWindowSize(C),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const Nq=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Yne=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ygt=BigInt(1),Qne=BigInt(2);BigInt(3);const Qgt=BigInt(5),Zgt=BigInt(8);function Jgt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Nq,o=t*t%s*t%s,a=Od(o,Qne,s)*o%s,l=Od(a,Ygt,s)*t%s,c=Od(l,Qgt,s)*l%s,u=Od(c,e,s)*c%s,h=Od(u,n,s)*u%s,f=Od(h,r,s)*h%s,p=Od(f,i,s)*f%s,m=Od(p,i,s)*f%s,g=Od(m,e,s)*c%s;return{pow_p_5_8:Od(g,Qne,s)*t%s,b2:o}}function Xgt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function eyt(t,e){const n=Nq,r=es(e*e*e,n),i=es(r*r*e,n),s=Jgt(t*i).pow_p_5_8;let o=es(t*r*s,n);const a=es(e*o*o,n),l=o,c=es(o*Yne,n),u=a===t,h=a===es(-t,n),f=a===es(-t*Yne,n);return u&&(o=l),(h||f)&&(o=c),Ogt(o,n)&&(o=es(-o,n)),{isValid:u||h,value:o}}const tyt=vxe(Nq,void 0,!0),nyt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tyt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Zgt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Agt,randomBytes:fxe,adjustScalarBytes:Xgt,uvRatio:eyt},Axe=Kgt(nyt),ryt="EdDSA",iyt="JWT",c7=".",C$="base64url",Cxe="utf8",kxe="utf8",syt=":",oyt="did",ayt="key",Zne="base58btc",lyt="z",cyt="K36",uyt=32;function Pq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _xe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Pq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Sxe(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=_xe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Pq(n)}function dyt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var M=l.repeat(g);R<b;++R)M+=t.charAt(A[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),M=y;N!==v;)R[M++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var hyt=dyt,fyt=hyt;const Ixe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},pyt=t=>new TextEncoder().encode(t),myt=t=>new TextDecoder().decode(t);let gyt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},yyt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Txe(this,e)}},wyt=class{constructor(e){this.decoders=e}or(e){return Txe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Txe=(t,e)=>new wyt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let byt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new gyt(e,n,r),this.decoder=new yyt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const k$=({name:t,prefix:e,encode:n,decode:r})=>new byt(t,e,n,r),UA=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=fyt(n,e);return k$({prefix:t,name:e,encode:r,decode:s=>Ixe(i(s))})},vyt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},xyt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Qs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>k$({prefix:e,name:t,encode(i){return xyt(i,r,n)},decode(i){return vyt(i,r,n,t)}}),Eyt=k$({prefix:"\0",name:"identity",encode:t=>myt(t),decode:t=>pyt(t)});var Ayt=Object.freeze({__proto__:null,identity:Eyt});const Cyt=Qs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var kyt=Object.freeze({__proto__:null,base2:Cyt});const _yt=Qs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Syt=Object.freeze({__proto__:null,base8:_yt});const Iyt=UA({prefix:"9",name:"base10",alphabet:"0123456789"});var Tyt=Object.freeze({__proto__:null,base10:Iyt});const $yt=Qs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nyt=Qs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Pyt=Object.freeze({__proto__:null,base16:$yt,base16upper:Nyt});const Ryt=Qs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jyt=Qs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Oyt=Qs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Myt=Qs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Dyt=Qs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Byt=Qs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lyt=Qs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fyt=Qs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Uyt=Qs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var zyt=Object.freeze({__proto__:null,base32:Ryt,base32upper:jyt,base32pad:Oyt,base32padupper:Myt,base32hex:Dyt,base32hexupper:Byt,base32hexpad:Lyt,base32hexpadupper:Fyt,base32z:Uyt});const Wyt=UA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Hyt=UA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Vyt=Object.freeze({__proto__:null,base36:Wyt,base36upper:Hyt});const qyt=UA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Gyt=UA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Kyt=Object.freeze({__proto__:null,base58btc:qyt,base58flickr:Gyt});const Yyt=Qs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qyt=Qs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zyt=Qs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Jyt=Qs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Xyt=Object.freeze({__proto__:null,base64:Yyt,base64pad:Qyt,base64url:Zyt,base64urlpad:Jyt});const $xe=Array.from(""),e1t=$xe.reduce((t,e,n)=>(t[n]=e,t),[]),t1t=$xe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function n1t(t){return t.reduce((e,n)=>(e+=e1t[n],e),"")}function r1t(t){const e=[];for(const n of t){const r=t1t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const i1t=k$({prefix:"",name:"base256emoji",encode:n1t,decode:r1t});var s1t=Object.freeze({__proto__:null,base256emoji:i1t}),o1t=Nxe,Jne=128,a1t=127,l1t=~a1t,c1t=Math.pow(2,31);function Nxe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=c1t;)e[n++]=t&255|Jne,t/=128;for(;t&l1t;)e[n++]=t&255|Jne,t>>>=7;return e[n]=t|0,Nxe.bytes=n-r+1,e}var u1t=rF,d1t=128,Xne=127;function rF(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw rF.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Xne)<<i:(o&Xne)*Math.pow(2,i),i+=7}while(o>=d1t);return rF.bytes=s-r,n}var h1t=Math.pow(2,7),f1t=Math.pow(2,14),p1t=Math.pow(2,21),m1t=Math.pow(2,28),g1t=Math.pow(2,35),y1t=Math.pow(2,42),w1t=Math.pow(2,49),b1t=Math.pow(2,56),v1t=Math.pow(2,63),x1t=function(t){return t<h1t?1:t<f1t?2:t<p1t?3:t<m1t?4:t<g1t?5:t<y1t?6:t<w1t?7:t<b1t?8:t<v1t?9:10},E1t={encode:o1t,decode:u1t,encodingLength:x1t},Pxe=E1t;const ere=(t,e,n=0)=>(Pxe.encode(t,e,n),e),tre=t=>Pxe.encodingLength(t),iF=(t,e)=>{const n=e.byteLength,r=tre(t),i=r+tre(n),s=new Uint8Array(i+n);return ere(t,s,0),ere(n,s,r),s.set(e,i),new A1t(t,n,e,s)};let A1t=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Rxe=({name:t,code:e,encode:n})=>new C1t(t,e,n);let C1t=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?iF(this.code,n):n.then(r=>iF(this.code,r))}else throw Error("Unknown type, must be binary type")}};const jxe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),k1t=Rxe({name:"sha2-256",code:18,encode:jxe("SHA-256")}),_1t=Rxe({name:"sha2-512",code:19,encode:jxe("SHA-512")});var S1t=Object.freeze({__proto__:null,sha256:k1t,sha512:_1t});const Oxe=0,I1t="identity",Mxe=Ixe,T1t=t=>iF(Oxe,Mxe(t)),$1t={code:Oxe,name:I1t,encode:Mxe,digest:T1t};var N1t=Object.freeze({__proto__:null,identity:$1t});new TextEncoder,new TextDecoder;const nre={...Ayt,...kyt,...Syt,...Tyt,...Pyt,...zyt,...Vyt,...Kyt,...Xyt,...s1t};({...S1t,...N1t});function Dxe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const rre=Dxe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Lj=Dxe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=_xe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Bxe={utf8:rre,"utf-8":rre,hex:nre.base16,latin1:Lj,ascii:Lj,binary:Lj,...nre};function _$(t,e="utf8"){const n=Bxe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function B3(t,e="utf8"){const n=Bxe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Pq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ire(t){return Y1(_$(B3(t,C$),Cxe))}function u7(t){return _$(B3(Wp(t),Cxe),C$)}function Lxe(t){const e=B3(cyt,Zne),n=lyt+_$(Sxe([e,t]),Zne);return[oyt,ayt,n].join(syt)}function P1t(t){return _$(t,C$)}function R1t(t){return B3(t,C$)}function j1t(t){return B3([u7(t.header),u7(t.payload)].join(c7),kxe)}function O1t(t){return[u7(t.header),u7(t.payload),P1t(t.signature)].join(c7)}function sF(t){const e=t.split(c7),n=ire(e[0]),r=ire(e[1]),i=R1t(e[2]),s=B3(e.slice(0,2).join(c7),kxe);return{header:n,payload:r,signature:i,data:s}}function sre(t=fxe(uyt)){const e=Axe.getPublicKey(t);return{secretKey:Sxe([t,e]),publicKey:e}}async function M1t(t,e,n,r,i=tt.fromMiliseconds(Date.now())){const s={alg:ryt,typ:iyt},o=Lxe(r.publicKey),a=i+n,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=j1t({header:s,payload:l}),u=Axe.sign(c,r.secretKey.slice(0,32));return O1t({header:s,payload:l,signature:u})}function Rq(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Fxe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Rq(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function t4(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Fxe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Rq(n)}function D1t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var M=l.repeat(g);R<b;++R)M+=t.charAt(A[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),M=y;N!==v;)R[M++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var B1t=D1t,L1t=B1t;const F1t=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},U1t=t=>new TextEncoder().encode(t),z1t=t=>new TextDecoder().decode(t);class W1t{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class H1t{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Uxe(this,e)}}class V1t{constructor(e){this.decoders=e}or(e){return Uxe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Uxe=(t,e)=>new V1t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class q1t{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new W1t(e,n,r),this.decoder=new H1t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const S$=({name:t,prefix:e,encode:n,decode:r})=>new q1t(t,e,n,r),zA=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=L1t(n,e);return S$({prefix:t,name:e,encode:r,decode:s=>F1t(i(s))})},G1t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},K1t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Zs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>S$({prefix:e,name:t,encode(i){return K1t(i,r,n)},decode(i){return G1t(i,r,n,t)}}),Y1t=S$({prefix:"\0",name:"identity",encode:t=>z1t(t),decode:t=>U1t(t)}),Q1t=Object.freeze(Object.defineProperty({__proto__:null,identity:Y1t},Symbol.toStringTag,{value:"Module"})),Z1t=Zs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),J1t=Object.freeze(Object.defineProperty({__proto__:null,base2:Z1t},Symbol.toStringTag,{value:"Module"})),X1t=Zs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ewt=Object.freeze(Object.defineProperty({__proto__:null,base8:X1t},Symbol.toStringTag,{value:"Module"})),twt=zA({prefix:"9",name:"base10",alphabet:"0123456789"}),nwt=Object.freeze(Object.defineProperty({__proto__:null,base10:twt},Symbol.toStringTag,{value:"Module"})),rwt=Zs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iwt=Zs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),swt=Object.freeze(Object.defineProperty({__proto__:null,base16:rwt,base16upper:iwt},Symbol.toStringTag,{value:"Module"})),owt=Zs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),awt=Zs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lwt=Zs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cwt=Zs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uwt=Zs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dwt=Zs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hwt=Zs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fwt=Zs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pwt=Zs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mwt=Object.freeze(Object.defineProperty({__proto__:null,base32:owt,base32hex:uwt,base32hexpad:hwt,base32hexpadupper:fwt,base32hexupper:dwt,base32pad:lwt,base32padupper:cwt,base32upper:awt,base32z:pwt},Symbol.toStringTag,{value:"Module"})),gwt=zA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ywt=zA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wwt=Object.freeze(Object.defineProperty({__proto__:null,base36:gwt,base36upper:ywt},Symbol.toStringTag,{value:"Module"})),bwt=zA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vwt=zA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),xwt=Object.freeze(Object.defineProperty({__proto__:null,base58btc:bwt,base58flickr:vwt},Symbol.toStringTag,{value:"Module"})),Ewt=Zs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Awt=Zs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Cwt=Zs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kwt=Zs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),_wt=Object.freeze(Object.defineProperty({__proto__:null,base64:Ewt,base64pad:Awt,base64url:Cwt,base64urlpad:kwt},Symbol.toStringTag,{value:"Module"})),zxe=Array.from(""),Swt=zxe.reduce((t,e,n)=>(t[n]=e,t),[]),Iwt=zxe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Twt(t){return t.reduce((e,n)=>(e+=Swt[n],e),"")}function $wt(t){const e=[];for(const n of t){const r=Iwt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Nwt=S$({prefix:"",name:"base256emoji",encode:Twt,decode:$wt}),Pwt=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Nwt},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ore={...Q1t,...J1t,...ewt,...nwt,...swt,...mwt,...wwt,...xwt,..._wt,...Pwt};function Wxe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const are=Wxe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Fj=Wxe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Fxe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Hxe={utf8:are,"utf-8":are,hex:ore.base16,latin1:Fj,ascii:Fj,binary:Fj,...ore};function Hc(t,e="utf8"){const n=Hxe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Rq(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Ka(t,e="utf8"){const n=Hxe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Rwt={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},jwt="Input must be an string, Buffer or Uint8Array";function Owt(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(jwt);return e}function Mwt(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function yk(t){return(4294967296+t).toString(16).substring(1)}function Dwt(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=yk(e[i]).toUpperCase(),r+=" ",r+=yk(e[i+1]).toUpperCase();else if(n===64)r+=yk(e[i+1]).toUpperCase(),r+=yk(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function Bwt(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const a=t(i),l=new Date().getTime(),c=l-r;r=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var Vxe={normalizeInput:Owt,toHex:Mwt,debugPrint:Dwt,testSpeed:Bwt};const F9=Vxe;function wk(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function lre(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function qxe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function g0(t,e,n,r,i,s){const o=g6[i],a=g6[i+1],l=g6[s],c=g6[s+1];wk(sn,t,e),lre(sn,t,o,a);let u=sn[r]^sn[t],h=sn[r+1]^sn[t+1];sn[r]=h,sn[r+1]=u,wk(sn,n,r),u=sn[e]^sn[n],h=sn[e+1]^sn[n+1],sn[e]=u>>>24^h<<8,sn[e+1]=h>>>24^u<<8,wk(sn,t,e),lre(sn,t,l,c),u=sn[r]^sn[t],h=sn[r+1]^sn[t+1],sn[r]=u>>>16^h<<16,sn[r+1]=h>>>16^u<<16,wk(sn,n,r),u=sn[e]^sn[n],h=sn[e+1]^sn[n+1],sn[e]=h>>>31^u<<1,sn[e+1]=u>>>31^h<<1}const Gxe=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Lwt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ao=new Uint8Array(Lwt.map(function(t){return t*2})),sn=new Uint32Array(32),g6=new Uint32Array(32);function Kxe(t,e){let n=0;for(n=0;n<16;n++)sn[n]=t.h[n],sn[n+16]=Gxe[n];for(sn[24]=sn[24]^t.t,sn[25]=sn[25]^t.t/4294967296,e&&(sn[28]=~sn[28],sn[29]=~sn[29]),n=0;n<32;n++)g6[n]=qxe(t.b,4*n);for(n=0;n<12;n++)g0(0,8,16,24,ao[n*16+0],ao[n*16+1]),g0(2,10,18,26,ao[n*16+2],ao[n*16+3]),g0(4,12,20,28,ao[n*16+4],ao[n*16+5]),g0(6,14,22,30,ao[n*16+6],ao[n*16+7]),g0(0,10,20,30,ao[n*16+8],ao[n*16+9]),g0(2,12,22,24,ao[n*16+10],ao[n*16+11]),g0(4,14,16,26,ao[n*16+12],ao[n*16+13]),g0(6,8,18,28,ao[n*16+14],ao[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^sn[n]^sn[n+16]}const y0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Yxe(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};y0.fill(0),y0[0]=t,e&&(y0[1]=e.length),y0[2]=1,y0[3]=1,n&&y0.set(n,32),r&&y0.set(r,48);for(let s=0;s<16;s++)i.h[s]=Gxe[s]^qxe(y0,s*4);return e&&(jq(i,e),i.c=128),i}function jq(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,Kxe(t,!1),t.c=0),t.b[t.c++]=e[n]}function Qxe(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Kxe(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function Zxe(t,e,n,r,i){n=n||64,t=F9.normalizeInput(t),r&&(r=F9.normalizeInput(r)),i&&(i=F9.normalizeInput(i));const s=Yxe(n,e,r,i);return jq(s,t),Qxe(s)}function Fwt(t,e,n,r,i){const s=Zxe(t,e,n,r,i);return F9.toHex(s)}var Uwt={blake2b:Zxe,blake2bHex:Fwt,blake2bInit:Yxe,blake2bUpdate:jq,blake2bFinal:Qxe};const Jxe=Vxe;function zwt(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function w0(t,e,n,r,i,s){Yn[t]=Yn[t]+Yn[e]+i,Yn[r]=bk(Yn[r]^Yn[t],16),Yn[n]=Yn[n]+Yn[r],Yn[e]=bk(Yn[e]^Yn[n],12),Yn[t]=Yn[t]+Yn[e]+s,Yn[r]=bk(Yn[r]^Yn[t],8),Yn[n]=Yn[n]+Yn[r],Yn[e]=bk(Yn[e]^Yn[n],7)}function bk(t,e){return t>>>e^t<<32-e}const Xxe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lo=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Yn=new Uint32Array(16),Cs=new Uint32Array(16);function e3e(t,e){let n=0;for(n=0;n<8;n++)Yn[n]=t.h[n],Yn[n+8]=Xxe[n];for(Yn[12]^=t.t,Yn[13]^=t.t/4294967296,e&&(Yn[14]=~Yn[14]),n=0;n<16;n++)Cs[n]=zwt(t.b,4*n);for(n=0;n<10;n++)w0(0,4,8,12,Cs[lo[n*16+0]],Cs[lo[n*16+1]]),w0(1,5,9,13,Cs[lo[n*16+2]],Cs[lo[n*16+3]]),w0(2,6,10,14,Cs[lo[n*16+4]],Cs[lo[n*16+5]]),w0(3,7,11,15,Cs[lo[n*16+6]],Cs[lo[n*16+7]]),w0(0,5,10,15,Cs[lo[n*16+8]],Cs[lo[n*16+9]]),w0(1,6,11,12,Cs[lo[n*16+10]],Cs[lo[n*16+11]]),w0(2,7,8,13,Cs[lo[n*16+12]],Cs[lo[n*16+13]]),w0(3,4,9,14,Cs[lo[n*16+14]],Cs[lo[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Yn[n]^Yn[n+8]}function t3e(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(Xxe),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(Oq(r,e),r.c=64),r}function Oq(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,e3e(t,!1),t.c=0),t.b[t.c++]=e[n]}function n3e(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;e3e(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function r3e(t,e,n){n=n||32,t=Jxe.normalizeInput(t);const r=t3e(n,e);return Oq(r,t),n3e(r)}function Wwt(t,e,n){const r=r3e(t,e,n);return Jxe.toHex(r)}var Hwt={blake2s:r3e,blake2sHex:Wwt,blake2sInit:t3e,blake2sUpdate:Oq,blake2sFinal:n3e};const $5=Uwt,N5=Hwt;var Vwt={blake2b:$5.blake2b,blake2bHex:$5.blake2bHex,blake2bInit:$5.blake2bInit,blake2bUpdate:$5.blake2bUpdate,blake2bFinal:$5.blake2bFinal,blake2s:N5.blake2s,blake2sHex:N5.blake2sHex,blake2sInit:N5.blake2sInit,blake2sUpdate:N5.blake2sUpdate,blake2sFinal:N5.blake2sFinal},qwt={};const Gwt=":";function g1(t){const[e,n]=t.split(Gwt);return{namespace:e,reference:n}}function cre(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function i3e(t,e){return t.includes(":")?[t]:e.chains||[]}var Kwt=Object.defineProperty,Ywt=Object.defineProperties,Qwt=Object.getOwnPropertyDescriptors,ure=Object.getOwnPropertySymbols,Zwt=Object.prototype.hasOwnProperty,Jwt=Object.prototype.propertyIsEnumerable,oF=(t,e,n)=>e in t?Kwt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dre=(t,e)=>{for(var n in e||(e={}))Zwt.call(e,n)&&oF(t,n,e[n]);if(ure)for(var n of ure(e))Jwt.call(e,n)&&oF(t,n,e[n]);return t},Xwt=(t,e)=>Ywt(t,Qwt(e)),hre=(t,e,n)=>oF(t,typeof e!="symbol"?e+"":e,n);const ebt="ReactNative",Ll={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},tbt="js";function d7(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ig(){return!G1()&&!!Eq()&&navigator.product===ebt}function nbt(){return Ig()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="android"}function rbt(){return Ig()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="ios"}function L3(){return!d7()&&!!Eq()&&!!G1()}function WA(){return Ig()?Ll.reactNative:d7()?Ll.node:L3()?Ll.browser:Ll.unknown}function fre(){var t;try{return Ig()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function ibt(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function sbt(t){var e,n;const r=s3e();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Xwt(dre(dre({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function s3e(){return L2e()||{name:"",description:"",url:"",icons:[""]}}function obt(){if(WA()===Ll.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=upt();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function abt(){var t;const e=WA();return e===Ll.browser?[e,((t=B2e())==null?void 0:t.host)||"unknown"].join(":"):e}function o3e(t,e,n){const r=obt(),i=abt();return[[t,e].join("-"),[tbt,n].join("-"),r,i].join("/")}function lbt({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=n.split("?"),u=o3e(t,e,r),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:l||void 0,bundleId:a||void 0},f=ibt(c[1]||"",h);return c[0]+"?"+f}function _y(t,e){return t.filter(n=>e.includes(n)).length===t.length}function aF(t){return Object.fromEntries(t.entries())}function lF(t){return new Map(Object.entries(t))}function Zg(t=tt.FIVE_MINUTES,e){const n=tt.toMiliseconds(t||tt.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},n),r=a,i=l})}}function Ch(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function a3e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function cbt(t){return a3e("topic",t)}function ubt(t){return a3e("id",t)}function l3e(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Zi(t,e){return tt.fromMiliseconds(Date.now()+tt.toMiliseconds(t))}function q0(t){return Date.now()>=tt.toMiliseconds(t)}function nr(t,e){return`${t}${e?`:${e}`:""}`}function Lh(t=[],e=[]){return[...new Set([...t,...e])]}async function dbt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=hbt(s,t,e),a=WA();if(a===Ll.browser){if(!((r=G1())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}fbt(o)}else a===Ll.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function hbt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${ybt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function fbt(t){let e="_self";gbt()?e="_top":(mbt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function pbt(t,e){let n="";try{if(L3()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function pre(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function mre(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Mq(){return typeof process<"u"&&qwt.IS_VITEST==="true"}function mbt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gbt(){try{return window.self!==window.top}catch{return!1}}function ybt(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function c3e(t){return Buffer.from(t,"base64").toString("utf-8")}function wbt(t){return new Promise(e=>setTimeout(e,t))}let bbt=class{constructor({limit:e}){hre(this,"limit"),hre(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const vk=BigInt(2**32-1),gre=BigInt(32);function u3e(t,e=!1){return e?{h:Number(t&vk),l:Number(t>>gre&vk)}:{h:Number(t>>gre&vk)|0,l:Number(t&vk)|0}}function d3e(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=u3e(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const yre=(t,e,n)=>t>>>n,wre=(t,e,n)=>t<<32-n|e>>>n,G0=(t,e,n)=>t>>>n|e<<32-n,K0=(t,e,n)=>t<<32-n|e>>>n,y6=(t,e,n)=>t<<64-n|e>>>n-32,w6=(t,e,n)=>t>>>n-32|e<<64-n,vbt=(t,e)=>e,xbt=(t,e)=>t,Ebt=(t,e,n)=>t<<n|e>>>32-n,Abt=(t,e,n)=>e<<n|t>>>32-n,Cbt=(t,e,n)=>e<<n-32|t>>>64-n,kbt=(t,e,n)=>t<<n-32|e>>>64-n;function Tu(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Dq=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Bq=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,_bt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Sbt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ibt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Tbt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ob=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Lq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Hp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xc(t,...e){if(!Lq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Fq(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Hp(t.outputLen),Hp(t.blockLen)}function fg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Uq(t,e){Xc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function G8(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Uj(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Md(t,e){return t<<32-e|t>>>e}const h3e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function f3e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Sf=h3e?t=>t:t=>f3e(t);function $bt(t){for(let e=0;e<t.length;e++)t[e]=f3e(t[e]);return t}const Y0=h3e?t=>t:$bt,p3e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Nbt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function K8(t){if(Xc(t),p3e)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Nbt[t[n]];return e}const bf={_0:48,_9:57,A:65,F:70,a:97,f:102};function bre(t){if(t>=bf._0&&t<=bf._9)return t-bf._0;if(t>=bf.A&&t<=bf.F)return t-(bf.A-10);if(t>=bf.a&&t<=bf.f)return t-(bf.a-10)}function zq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(p3e)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=bre(t.charCodeAt(s)),a=bre(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Pbt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function rd(t){return typeof t=="string"&&(t=Pbt(t)),Xc(t),t}function Sy(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Xc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let I$=class{};function HA(t){const e=r=>t().update(rd(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Rbt(t){const e=(r,i)=>t(i).update(rd(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function F3(t=32){if(ob&&typeof ob.getRandomValues=="function")return ob.getRandomValues(new Uint8Array(t));if(ob&&typeof ob.randomBytes=="function")return Uint8Array.from(ob.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const jbt=BigInt(0),P5=BigInt(1),Obt=BigInt(2),Mbt=BigInt(7),Dbt=BigInt(256),Bbt=BigInt(113),m3e=[],g3e=[],y3e=[];for(let t=0,e=P5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],m3e.push(2*(5*r+n)),g3e.push((t+1)*(t+2)/2%64);let i=jbt;for(let s=0;s<7;s++)e=(e<<P5^(e>>Mbt)*Bbt)%Dbt,e&Obt&&(i^=P5<<(P5<<BigInt(s))-P5);y3e.push(i)}const w3e=d3e(y3e,!0),Lbt=w3e[0],Fbt=w3e[1],vre=(t,e,n)=>n>32?Cbt(t,e,n):Ebt(t,e,n),xre=(t,e,n)=>n>32?kbt(t,e,n):Abt(t,e,n);function Ubt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=vre(c,u,1)^n[a],f=xre(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=g3e[o],l=vre(i,s,a),c=xre(i,s,a),u=m3e[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Lbt[r],t[1]^=Fbt[r]}eu(n)}let zbt=class b3e extends I${constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Hp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=G8(this.state)}clone(){return this._cloneInto()}keccak(){Y0(this.state32),Ubt(this.state32,this.rounds),Y0(this.state32),this.posOut=0,this.pos=0}update(e){fg(this),e=rd(e),Xc(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){fg(this,!1),Xc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Hp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Uq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eu(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new b3e(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Wbt=(t,e,n)=>HA(()=>new zbt(e,t,n)),Hbt=Wbt(1,136,256/8);function Vbt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function qbt(t,e,n){return t&e^~t&n}function Gbt(t,e,n){return t&e^t&n^e&n}let v3e=class extends I${constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Uj(this.buffer)}update(e){fg(this),e=rd(e),Xc(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Uj(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fg(this),Uq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,eu(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Vbt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Uj(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const b0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),co=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),uo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Kbt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),v0=new Uint32Array(64);let Ybt=class extends v3e{constructor(e=32){super(64,e,8,!1),this.A=b0[0]|0,this.B=b0[1]|0,this.C=b0[2]|0,this.D=b0[3]|0,this.E=b0[4]|0,this.F=b0[5]|0,this.G=b0[6]|0,this.H=b0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)v0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=v0[h-15],p=v0[h-2],m=Md(f,7)^Md(f,18)^f>>>3,g=Md(p,17)^Md(p,19)^p>>>10;v0[h]=g+v0[h-7]+m+v0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Md(a,6)^Md(a,11)^Md(a,25),p=u+f+qbt(a,l,c)+Kbt[h]+v0[h]|0,m=(Md(r,2)^Md(r,13)^Md(r,22))+Gbt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){eu(v0)}destroy(){this.set(0,0,0,0,0,0,0,0),eu(this.buffer)}};const x3e=d3e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qbt=x3e[0],Zbt=x3e[1],x0=new Uint32Array(80),E0=new Uint32Array(80);let Wq=class extends v3e{constructor(e=64){super(128,e,16,!1),this.Ah=uo[0]|0,this.Al=uo[1]|0,this.Bh=uo[2]|0,this.Bl=uo[3]|0,this.Ch=uo[4]|0,this.Cl=uo[5]|0,this.Dh=uo[6]|0,this.Dl=uo[7]|0,this.Eh=uo[8]|0,this.El=uo[9]|0,this.Fh=uo[10]|0,this.Fl=uo[11]|0,this.Gh=uo[12]|0,this.Gl=uo[13]|0,this.Hh=uo[14]|0,this.Hl=uo[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)x0[b]=e.getUint32(n),E0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=x0[b-15]|0,E=E0[b-15]|0,$=G0(A,E,1)^G0(A,E,8)^yre(A,E,7),N=K0(A,E,1)^K0(A,E,8)^wre(A,E,7),R=x0[b-2]|0,M=E0[b-2]|0,F=G0(R,M,19)^y6(R,M,61)^yre(R,M,6),W=K0(R,M,19)^w6(R,M,61)^wre(R,M,6),H=_bt(N,W,E0[b-7],E0[b-16]),L=Sbt(H,$,F,x0[b-7],x0[b-16]);x0[b]=L|0,E0[b]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=G0(h,f,14)^G0(h,f,18)^y6(h,f,41),E=K0(h,f,14)^K0(h,f,18)^w6(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=Ibt(v,E,N,Zbt[b],E0[b]),M=Tbt(R,w,A,$,Qbt[b],x0[b]),F=R|0,W=G0(r,i,28)^y6(r,i,34)^y6(r,i,39),H=K0(r,i,28)^w6(r,i,34)^w6(r,i,39),L=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=Tu(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=Dq(F,H,k);r=Bq(C,M,W,L),i=C|0}({h:r,l:i}=Tu(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Tu(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Tu(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Tu(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Tu(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Tu(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=Tu(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=Tu(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){eu(x0,E0)}destroy(){eu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Jbt=class extends Wq{constructor(){super(48),this.Ah=co[0]|0,this.Al=co[1]|0,this.Bh=co[2]|0,this.Bl=co[3]|0,this.Ch=co[4]|0,this.Cl=co[5]|0,this.Dh=co[6]|0,this.Dl=co[7]|0,this.Eh=co[8]|0,this.El=co[9]|0,this.Fh=co[10]|0,this.Fl=co[11]|0,this.Gh=co[12]|0,this.Gl=co[13]|0,this.Hh=co[14]|0,this.Hl=co[15]|0}};const ho=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Xbt=class extends Wq{constructor(){super(32),this.Ah=ho[0]|0,this.Al=ho[1]|0,this.Bh=ho[2]|0,this.Bl=ho[3]|0,this.Ch=ho[4]|0,this.Cl=ho[5]|0,this.Dh=ho[6]|0,this.Dl=ho[7]|0,this.Eh=ho[8]|0,this.El=ho[9]|0,this.Fh=ho[10]|0,this.Fl=ho[11]|0,this.Gh=ho[12]|0,this.Gl=ho[13]|0,this.Hh=ho[14]|0,this.Hl=ho[15]|0}};const T$=HA(()=>new Ybt),evt=HA(()=>new Wq),tvt=HA(()=>new Jbt),nvt=HA(()=>new Xbt),rvt=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ki=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ft=new Uint32Array(32);function A0(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=ft[2*t],c=ft[2*t+1],u=ft[2*e],h=ft[2*e+1],f=ft[2*n],p=ft[2*n+1],m=ft[2*r],g=ft[2*r+1],y=Dq(l,u,o);c=Bq(y,c,h,a),l=y|0,{Dh:g,Dl:m}={Dh:g^c,Dl:m^l},{Dh:g,Dl:m}={Dh:vbt(g,m),Dl:xbt(g)},{h:p,l:f}=Tu(p,f,g,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:G0(h,u,24),Bl:K0(h,u,24)},ft[2*t]=l,ft[2*t+1]=c,ft[2*e]=u,ft[2*e+1]=h,ft[2*n]=f,ft[2*n+1]=p,ft[2*r]=m,ft[2*r+1]=g}function C0(t,e,n,r,i,s){const o=i[s],a=i[s+1];let l=ft[2*t],c=ft[2*t+1],u=ft[2*e],h=ft[2*e+1],f=ft[2*n],p=ft[2*n+1],m=ft[2*r],g=ft[2*r+1],y=Dq(l,u,o);c=Bq(y,c,h,a),l=y|0,{Dh:g,Dl:m}={Dh:g^c,Dl:m^l},{Dh:g,Dl:m}={Dh:G0(g,m,16),Dl:K0(g,m,16)},{h:p,l:f}=Tu(p,f,g,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:y6(h,u,63),Bl:w6(h,u,63)},ft[2*t]=l,ft[2*t+1]=c,ft[2*e]=u,ft[2*e+1]=h,ft[2*n]=f,ft[2*n+1]=p,ft[2*r]=m,ft[2*r+1]=g}function ivt(t,e={},n,r,i){if(Hp(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let svt=class extends I${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Hp(e),Hp(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=G8(this.buffer)}update(e){fg(this),e=rd(e),Xc(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===n&&(Y0(i),this.compress(i,0,!1),Y0(i),this.pos=0);const c=Math.min(n-this.pos,s-l),u=o+l;if(c===n&&!(u%4)&&l+c<s){const h=new Uint32Array(a,u,Math.floor((s-l)/4));Y0(h);for(let f=0;l+n<s;f+=i.length,l+=n)this.length+=n,this.compress(h,f,!1);Y0(h);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){fg(this),Uq(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,eu(this.buffer.subarray(n)),Y0(r),this.compress(r,0,!0),Y0(r);const i=G8(e);this.get().forEach((s,o)=>i[o]=Sf(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},ovt=class extends svt{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Ki[0]|0,this.v0h=Ki[1]|0,this.v1l=Ki[2]|0,this.v1h=Ki[3]|0,this.v2l=Ki[4]|0,this.v2h=Ki[5]|0,this.v3l=Ki[6]|0,this.v3h=Ki[7]|0,this.v4l=Ki[8]|0,this.v4h=Ki[9]|0,this.v5l=Ki[10]|0,this.v5h=Ki[11]|0,this.v6l=Ki[12]|0,this.v6h=Ki[13]|0,this.v7l=Ki[14]|0,this.v7h=Ki[15]|0,ivt(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=rd(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=rd(s);const a=G8(s);this.v4l^=Sf(a[0]),this.v4h^=Sf(a[1]),this.v5l^=Sf(a[2]),this.v5h^=Sf(a[3])}if(i!==void 0){i=rd(i);const a=G8(i);this.v6l^=Sf(a[0]),this.v6h^=Sf(a[1]),this.v7l^=Sf(a[2]),this.v7h^=Sf(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:h,v5h:f,v6l:p,v6h:m,v7l:g,v7h:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=f|0,this.v6l=p|0,this.v6h=m|0,this.v7l=g|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((l,c)=>ft[c]=l),ft.set(Ki,16);let{h:i,l:s}=u3e(BigInt(this.length));ft[24]=Ki[8]^s,ft[25]=Ki[9]^i,r&&(ft[28]=~ft[28],ft[29]=~ft[29]);let o=0;const a=rvt;for(let l=0;l<12;l++)A0(0,4,8,12,e,n+2*a[o++]),C0(0,4,8,12,e,n+2*a[o++]),A0(1,5,9,13,e,n+2*a[o++]),C0(1,5,9,13,e,n+2*a[o++]),A0(2,6,10,14,e,n+2*a[o++]),C0(2,6,10,14,e,n+2*a[o++]),A0(3,7,11,15,e,n+2*a[o++]),C0(3,7,11,15,e,n+2*a[o++]),A0(0,5,10,15,e,n+2*a[o++]),C0(0,5,10,15,e,n+2*a[o++]),A0(1,6,11,12,e,n+2*a[o++]),C0(1,6,11,12,e,n+2*a[o++]),A0(2,7,8,13,e,n+2*a[o++]),C0(2,7,8,13,e,n+2*a[o++]),A0(3,4,9,14,e,n+2*a[o++]),C0(3,4,9,14,e,n+2*a[o++]);this.v0l^=ft[0]^ft[16],this.v0h^=ft[1]^ft[17],this.v1l^=ft[2]^ft[18],this.v1h^=ft[3]^ft[19],this.v2l^=ft[4]^ft[20],this.v2h^=ft[5]^ft[21],this.v3l^=ft[6]^ft[22],this.v3h^=ft[7]^ft[23],this.v4l^=ft[8]^ft[24],this.v4h^=ft[9]^ft[25],this.v5l^=ft[10]^ft[26],this.v5h^=ft[11]^ft[27],this.v6l^=ft[12]^ft[28],this.v6h^=ft[13]^ft[29],this.v7l^=ft[14]^ft[30],this.v7h^=ft[15]^ft[31],eu(ft)}destroy(){this.destroyed=!0,eu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const avt=Rbt(t=>new ovt(t)),lvt="https://rpc.walletconnect.org/v1";function E3e(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Hbt(n)).toString("hex")}async function cvt(t,e,n,r,i,s){switch(n.t){case"eip191":return await uvt(t,e,n.s);case"eip1271":return await dvt(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function uvt(t,e,n){return(await Z0t({hash:E3e(e),signature:n})).toLowerCase()===t.toLowerCase()}async function dvt(t,e,n,r,i,s){const o=g1(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:E3e(e)).substring(2),f=a+h+l+u+c,p=await fetch(`${s||lvt}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:hvt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:m}=await p.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function hvt(){return Date.now()+Math.floor(Math.random()*1e3)}function fvt(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return FA.encode(s)}function pvt(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=avt(r,{dkLen:32});return FA.encode(i)}function Ere(t){const e=new Uint8Array(T$(mvt(t)));return FA.encode(e)}function mvt(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Are(t){const e=Buffer.from(t,"base64"),n=Wmt(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=jmt(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=nvt(s);return dht.encode(o).replace(/=+$/,"")}function zj(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function gvt(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(zj(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(zj(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(zj(r.length)),i.push(r);const s=Buffer.concat(i),o=T$(s);return Buffer.from(o).toString("hex").toUpperCase()}var yvt=Object.defineProperty,wvt=Object.defineProperties,bvt=Object.getOwnPropertyDescriptors,Cre=Object.getOwnPropertySymbols,vvt=Object.prototype.hasOwnProperty,xvt=Object.prototype.propertyIsEnumerable,kre=(t,e,n)=>e in t?yvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Evt=(t,e)=>{for(var n in e||(e={}))vvt.call(e,n)&&kre(t,n,e[n]);if(Cre)for(var n of Cre(e))xvt.call(e,n)&&kre(t,n,e[n]);return t},Avt=(t,e)=>wvt(t,bvt(e));const Cvt="did:pkh:",Hq=t=>t==null?void 0:t.split(":"),kvt=t=>{const e=t&&Hq(t);if(e)return t.includes(Cvt)?e[3]:e[1]},cF=t=>{const e=t&&Hq(t);if(e)return e[2]+":"+e[3]},h7=t=>{const e=t&&Hq(t);if(e)return e.pop()};async function _re(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=A3e(i,i.iss),o=h7(i.iss);return await cvt(o,s,r,cF(i.iss),n)}const A3e=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=h7(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${kvt(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=U9(t.resources);if(m){const g=Y8(m);i=jvt(i,g)}return[n,r,"",i,"",s,o,a,l,c,u,h,f,p].filter(g=>g!=null).join(`
`)};function _vt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Svt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Q1(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Ivt(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Tvt(e,n,r)}}}function Tvt(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function C3e(t){return Q1(t),`urn:recap:${_vt(t).replace(/=/g,"")}`}function Y8(t){const e=Svt(t.replace("urn:recap:",""));return Q1(e),e}function $vt(t,e,n){const r=Ivt(t,e,n);return C3e(r)}function Nvt(t){return t&&t.includes("urn:recap:")}function Pvt(t,e){const n=Y8(t),r=Y8(e),i=Rvt(n,r);return C3e(i)}function Rvt(t,e){Q1(t),Q1(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;r.att[i]=Avt(Evt({},r.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),r}function jvt(t="",e){Q1(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,f)=>h.action.localeCompare(f.action));const c={};l.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const u=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function Sre(t){var e;const n=Y8(t);Q1(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function Ire(t){const e=Y8(t);Q1(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function U9(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Nvt(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function k3e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uF(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Wj(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Na(t,...e){if(!k3e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Tre(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ovt(t,e){Na(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Zm(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Bx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mvt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Dvt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Bvt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function dF(t){if(typeof t=="string")t=Bvt(t);else if(k3e(t))t=hF(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Lvt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Fvt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Uvt=(t,e)=>{function n(r,...i){if(Na(r),!Dvt)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?Na(c):Na(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Na(i[1]);const o=e(r,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");Na(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Na(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(Na(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(n,t),n};function $re(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Wvt(e))throw new Error("invalid output, must be aligned");return e}function Nre(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function zvt(t,e,n){uF(n);const r=new Uint8Array(16),i=Mvt(r);return Nre(i,0,BigInt(e),n),Nre(i,8,BigInt(t),n),r}function Wvt(t){return t.byteOffset%4===0}function hF(t){return Uint8Array.from(t)}const _3e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Hvt=_3e("expand 16-byte k"),Vvt=_3e("expand 32-byte k"),qvt=Zm(Hvt),Gvt=Zm(Vvt);function qn(t,e){return t<<e|t>>>32-e}function fF(t){return t.byteOffset%4===0}const xk=64,Kvt=16,S3e=2**32-1,Pre=new Uint32Array;function Yvt(t,e,n,r,i,s,o,a){const l=i.length,c=new Uint8Array(xk),u=Zm(c),h=fF(i)&&fF(s),f=h?Zm(i):Pre,p=h?Zm(s):Pre;for(let m=0;m<l;o++){if(t(e,n,r,u,o,a),o>=S3e)throw new Error("arx: counter overflow");const g=Math.min(xk,l-m);if(h&&g===xk){const y=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let w=0,v;w<Kvt;w++)v=y+w,p[v]=f[v]^u[w];m+=xk;continue}for(let y=0,w;y<g;y++)w=m+y,s[w]=i[w]^c[y];m+=g}}function Qvt(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Lvt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Wj(i),Wj(o),uF(s),uF(n),(a,l,c,u,h=0)=>{Na(a),Na(l),Na(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),Na(u),Wj(h),h<0||h>=S3e)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let m=a.length,g,y;if(m===32)p.push(g=hF(a)),y=Gvt;else if(m===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=qvt,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);fF(l)||p.push(l=hF(l));const w=Zm(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,Zm(l.subarray(0,16)),w),l=l.subarray(16)}const v=16-i;if(v!==l.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const A=new Uint8Array(12);A.set(l,s?0:12-l.length),l=A,p.push(l)}const b=Zm(l);return Yvt(t,y,w,b,c,u,h,o),Bx(...p),u}}const ks=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Zvt=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=dF(e),Na(e,32);const n=ks(e,0),r=ks(e,2),i=ks(e,4),s=ks(e,6),o=ks(e,8),a=ks(e,10),l=ks(e,12),c=ks(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ks(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],f=o[5],p=o[6],m=o[7],g=o[8],y=o[9],w=ks(e,n+0),v=ks(e,n+2),b=ks(e,n+4),A=ks(e,n+6),E=ks(e,n+8),$=ks(e,n+10),N=ks(e,n+12),R=ks(e,n+14);let M=s[0]+(w&8191),F=s[1]+((w>>>13|v<<3)&8191),W=s[2]+((v>>>10|b<<6)&8191),H=s[3]+((b>>>7|A<<9)&8191),L=s[4]+((A>>>4|E<<12)&8191),k=s[5]+(E>>>1&8191),C=s[6]+((E>>>14|$<<2)&8191),_=s[7]+(($>>>11|N<<5)&8191),T=s[8]+((N>>>8|R<<8)&8191),S=s[9]+(R>>>5|i),P=0,D=P+M*a+F*(5*y)+W*(5*g)+H*(5*m)+L*(5*p);P=D>>>13,D&=8191,D+=k*(5*f)+C*(5*h)+_*(5*u)+T*(5*c)+S*(5*l),P+=D>>>13,D&=8191;let O=P+M*l+F*a+W*(5*y)+H*(5*g)+L*(5*m);P=O>>>13,O&=8191,O+=k*(5*p)+C*(5*f)+_*(5*h)+T*(5*u)+S*(5*c),P+=O>>>13,O&=8191;let I=P+M*c+F*l+W*a+H*(5*y)+L*(5*g);P=I>>>13,I&=8191,I+=k*(5*m)+C*(5*p)+_*(5*f)+T*(5*h)+S*(5*u),P+=I>>>13,I&=8191;let B=P+M*u+F*c+W*l+H*a+L*(5*y);P=B>>>13,B&=8191,B+=k*(5*g)+C*(5*m)+_*(5*p)+T*(5*f)+S*(5*h),P+=B>>>13,B&=8191;let Q=P+M*h+F*u+W*c+H*l+L*a;P=Q>>>13,Q&=8191,Q+=k*(5*y)+C*(5*g)+_*(5*m)+T*(5*p)+S*(5*f),P+=Q>>>13,Q&=8191;let j=P+M*f+F*h+W*u+H*c+L*l;P=j>>>13,j&=8191,j+=k*a+C*(5*y)+_*(5*g)+T*(5*m)+S*(5*p),P+=j>>>13,j&=8191;let Y=P+M*p+F*f+W*h+H*u+L*c;P=Y>>>13,Y&=8191,Y+=k*l+C*a+_*(5*y)+T*(5*g)+S*(5*m),P+=Y>>>13,Y&=8191;let ee=P+M*m+F*p+W*f+H*h+L*u;P=ee>>>13,ee&=8191,ee+=k*c+C*l+_*a+T*(5*y)+S*(5*g),P+=ee>>>13,ee&=8191;let Z=P+M*g+F*m+W*p+H*f+L*h;P=Z>>>13,Z&=8191,Z+=k*u+C*c+_*l+T*a+S*(5*y),P+=Z>>>13,Z&=8191;let oe=P+M*y+F*g+W*m+H*p+L*f;P=oe>>>13,oe&=8191,oe+=k*h+C*u+_*c+T*l+S*a,P+=oe>>>13,oe&=8191,P=(P<<2)+P|0,P=P+D|0,D=P&8191,P=P>>>13,O+=P,s[0]=D,s[1]=O,s[2]=I,s[3]=B,s[4]=Q,s[5]=j,s[6]=Y,s[7]=ee,s[8]=Z,s[9]=oe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Bx(r)}update(e){Tre(this),e=dF(e),Na(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Bx(this.h,this.r,this.buffer,this.pad)}digestInto(e){Tre(this),Ovt(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function Jvt(t){const e=(r,i)=>t(i).update(dF(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Xvt=Jvt(t=>new Zvt(t));function e2t(t,e,n,r,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=e[2],p=e[3],m=e[4],g=e[5],y=e[6],w=e[7],v=i,b=n[0],A=n[1],E=n[2],$=o,N=a,R=l,M=c,F=u,W=h,H=f,L=p,k=m,C=g,_=y,T=w,S=v,P=b,D=A,O=E;for(let B=0;B<s;B+=2)$=$+F|0,S=qn(S^$,16),k=k+S|0,F=qn(F^k,12),$=$+F|0,S=qn(S^$,8),k=k+S|0,F=qn(F^k,7),N=N+W|0,P=qn(P^N,16),C=C+P|0,W=qn(W^C,12),N=N+W|0,P=qn(P^N,8),C=C+P|0,W=qn(W^C,7),R=R+H|0,D=qn(D^R,16),_=_+D|0,H=qn(H^_,12),R=R+H|0,D=qn(D^R,8),_=_+D|0,H=qn(H^_,7),M=M+L|0,O=qn(O^M,16),T=T+O|0,L=qn(L^T,12),M=M+L|0,O=qn(O^M,8),T=T+O|0,L=qn(L^T,7),$=$+W|0,O=qn(O^$,16),_=_+O|0,W=qn(W^_,12),$=$+W|0,O=qn(O^$,8),_=_+O|0,W=qn(W^_,7),N=N+H|0,S=qn(S^N,16),T=T+S|0,H=qn(H^T,12),N=N+H|0,S=qn(S^N,8),T=T+S|0,H=qn(H^T,7),R=R+L|0,P=qn(P^R,16),k=k+P|0,L=qn(L^k,12),R=R+L|0,P=qn(P^R,8),k=k+P|0,L=qn(L^k,7),M=M+F|0,D=qn(D^M,16),C=C+D|0,F=qn(F^C,12),M=M+F|0,D=qn(D^M,8),C=C+D|0,F=qn(F^C,7);let I=0;r[I++]=o+$|0,r[I++]=a+N|0,r[I++]=l+R|0,r[I++]=c+M|0,r[I++]=u+F|0,r[I++]=h+W|0,r[I++]=f+H|0,r[I++]=p+L|0,r[I++]=m+k|0,r[I++]=g+C|0,r[I++]=y+_|0,r[I++]=w+T|0,r[I++]=v+S|0,r[I++]=b+P|0,r[I++]=A+D|0,r[I++]=E+O|0}const t2t=Qvt(e2t,{counterRight:!1,counterLength:4,allowShortKeys:!1}),n2t=new Uint8Array(16),Rre=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(n2t.subarray(n))},r2t=new Uint8Array(32);function jre(t,e,n,r,i){const s=t(e,n,r2t),o=Xvt.create(s);i&&Rre(o,i),Rre(o,r);const a=zvt(r.length,i?i.length:0,!0);o.update(a);const l=o.digest();return Bx(s,a),l}const i2t=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=$re(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const l=jre(t,e,n,a,r);return s.set(l,o),Bx(l),s},decrypt(i,s){s=$re(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=jre(t,e,n,o,r);if(!Fvt(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Bx(l),s}}),I3e=Uvt({blockSize:64,nonceLength:12,tagLength:16},i2t(t2t));let T3e=class extends I${constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Fq(e);const r=rd(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),eu(s)}update(e){return fg(this),this.iHash.update(e),this}digestInto(e){fg(this),Xc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const $$=(t,e,n)=>new T3e(t,e).update(n).digest();$$.create=(t,e)=>new T3e(t,e);function s2t(t,e,n){return Fq(t),n===void 0&&(n=new Uint8Array(t.outputLen)),$$(t,rd(n),rd(e))}const Hj=Uint8Array.from([0]),Ore=Uint8Array.of();function o2t(t,e,n,r=32){Fq(t),Hp(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=Ore);const o=new Uint8Array(s*i),a=$$.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)Hj[0]=u+1,l.update(u===0?Ore:c).update(n).update(Hj).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),eu(c,Hj),o.slice(0,r)}const a2t=(t,e,n,r,i)=>o2t(t,s2t(t,e,n),r,i),N$=T$,Vq=BigInt(0),pF=BigInt(1);function f7(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Ek(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $3e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Vq:BigInt("0x"+t)}function P$(t){return $3e(K8(t))}function p7(t){return Xc(t),$3e(K8(Uint8Array.from(t).reverse()))}function qq(t,e){return zq(t.toString(16).padStart(e*2,"0"))}function Gq(t,e){return qq(t,e).reverse()}function Ta(t,e,n){let r;if(typeof e=="string")try{r=zq(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Lq(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Vj=t=>typeof t=="bigint"&&Vq<=t;function l2t(t,e,n){return Vj(t)&&Vj(e)&&Vj(n)&&e<=t&&t<n}function mF(t,e,n,r){if(!l2t(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function c2t(t){let e;for(e=0;t>Vq;t>>=pF,e+=1);return e}const R$=t=>(pF<<BigInt(t))-pF;function u2t(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...f)=>n(o,s,...f),u=(f=r(0))=>{o=c(i(0),f),s=c(),f.length!==0&&(o=c(i(1),f),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=c();const m=s.slice();p.push(m),f+=s.length}return Sy(...p)};return(f,p)=>{l(),u(f);let m;for(;!(m=p(h()));)u();return l(),m}}function j$(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function Mre(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Wa=BigInt(0),ca=BigInt(1),Iy=BigInt(2),d2t=BigInt(3),N3e=BigInt(4),P3e=BigInt(5),R3e=BigInt(8);function Oc(t,e){const n=t%e;return n>=Wa?n:e+n}function ku(t,e,n){let r=t;for(;e-- >Wa;)r*=r,r%=n;return r}function Dre(t,e){if(t===Wa)throw new Error("invert: expected non-zero number");if(e<=Wa)throw new Error("invert: expected positive modulus, got "+e);let n=Oc(t,e),r=e,i=Wa,s=ca;for(;n!==Wa;){const o=r/n,a=r%n,l=i-s*o;r=n,n=a,i=s,s=l}if(r!==ca)throw new Error("invert: does not exist");return Oc(i,e)}function j3e(t,e){const n=(t.ORDER+ca)/N3e,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function h2t(t,e){const n=(t.ORDER-P3e)/R3e,r=t.mul(e,Iy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Iy),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function f2t(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ca,n=0;for(;e%Iy===Wa;)e/=Iy,n++;let r=Iy;const i=U3(t);for(;Bre(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return j3e;let s=i.pow(r,e);const o=(e+ca)/Iy;return function(a,l){if(a.is0(l))return l;if(Bre(a,l)!==1)throw new Error("Cannot find square root");let c=n,u=a.mul(a.ONE,s),h=a.pow(l,e),f=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let p=1,m=a.sqr(h);for(;!a.eql(m,a.ONE);)if(p++,m=a.sqr(m),p===c)throw new Error("Cannot find square root");const g=ca<<BigInt(c-p-1),y=a.pow(u,g);c=p,u=a.sqr(y),h=a.mul(h,u),f=a.mul(f,y)}return f}}function p2t(t){return t%N3e===d2t?j3e:t%R3e===P3e?h2t:f2t(t)}const m2t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g2t(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=m2t.reduce((r,i)=>(r[i]="function",r),e);return j$(t,n),t}function y2t(t,e,n){if(n<Wa)throw new Error("invalid exponent, negatives unsupported");if(n===Wa)return t.ONE;if(n===ca)return e;let r=t.ONE,i=e;for(;n>Wa;)n&ca&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ca;return r}function O3e(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function Bre(t,e){const n=(t.ORDER-ca)/Iy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function w2t(t,e){e!==void 0&&Hp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function U3(t,e,n=!1,r={}){if(t<=Wa)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=w2t(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:R$(o),ZERO:Wa,ONE:ca,create:u=>Oc(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Wa<=u&&u<t},is0:u=>u===Wa,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&ca)===ca,neg:u=>Oc(-u,t),eql:(u,h)=>u===h,sqr:u=>Oc(u*u,t),add:(u,h)=>Oc(u+h,t),sub:(u,h)=>Oc(u-h,t),mul:(u,h)=>Oc(u*h,t),pow:(u,h)=>y2t(c,u,h),div:(u,h)=>Oc(u*Dre(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>Dre(u,t),sqrt:s||(u=>(l||(l=p2t(t)),l(c,u))),toBytes:u=>n?Gq(u,a):qq(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?p7(u):P$(u)},invertBatch:u=>O3e(c,u),cmov:(u,h,f)=>f?h:u});return Object.freeze(c)}function M3e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function D3e(t){const e=M3e(t);return e+Math.ceil(e/2)}function b2t(t,e,n=!1){const r=t.length,i=M3e(e),s=D3e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?p7(t):P$(t),a=Oc(o,e-ca)+ca;return n?Gq(a,i):qq(a,i)}const Lx=BigInt(0),Ty=BigInt(1);function n4(t,e){const n=e.negate();return t?n:e}function v2t(t,e,n){const r=s=>s.pz,i=O3e(t.Fp,n.map(r));return n.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function B3e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function qj(t,e){B3e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=R$(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Lre(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=Ty);const c=e*r,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function x2t(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function E2t(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Gj=new WeakMap,L3e=new WeakMap;function Kj(t){return L3e.get(t)||1}function Fre(t){if(t!==Lx)throw new Error("invalid wNAF")}function A2t(t,e){return{constTimeNegate:n4,hasPrecomputes(n){return Kj(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Lx;)r&Ty&&(i=i.add(s)),s=s.double(),r>>=Ty;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=qj(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=qj(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=Lre(i,l,a);i=c,h?o=o.add(n4(p,r[m])):s=s.add(n4(f,r[u]))}return Fre(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=qj(n,e);for(let a=0;a<o.windows&&i!==Lx;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=Lre(i,a,o);if(i=l,!u){const f=r[c];s=s.add(h?f.negate():f)}}return Fre(i),s},getPrecomputes(n,r,i){let s=Gj.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),Gj.set(r,s))),s},wNAFCached(n,r,i){const s=Kj(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Kj(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){B3e(r,e),L3e.set(n,r),Gj.delete(n)}}}function C2t(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>Lx||r>Lx;)n&Ty&&(s=s.add(i)),r&Ty&&(o=o.add(i)),i=i.double(),n>>=Ty,r>>=Ty;return{p1:s,p2:o}}function k2t(t,e,n,r){x2t(n,t),E2t(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=c2t(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=R$(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let g=0;g<s;g++){const y=r[g],w=Number(y>>BigInt(p)&c);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),p!==0)for(let g=0;g<l;g++)f=f.double()}return f}function Ure(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return g2t(e),e}else return U3(t)}function _2t(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Lx))throw new Error(`CURVE.${o} must be positive bigint`)}const r=Ure(e.p,n.Fp),i=Ure(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const R5=BigInt(0),ab=BigInt(1),Ak=BigInt(2);function S2t(t){return j$(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function I2t(t){const e=S2t(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=o||F3,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),p=a?Ak**BigInt(254):Ak**BigInt(447),m=a?BigInt(8)*Ak**BigInt(251)-ab:BigInt(4)*Ak**BigInt(445)-ab,g=p+m+ab,y=M=>Oc(M,n),w=v(h);function v(M){return Gq(y(M),u)}function b(M){const F=Ta("u coordinate",M,u);return a&&(F[31]&=127),y(p7(F))}function A(M){return p7(i(Ta("scalar",M,u)))}function E(M,F){const W=R(b(F),A(M));if(W===R5)throw new Error("invalid private or public key received");return v(W)}function $(M){return E(M,w)}function N(M,F,W){const H=y(M*(F-W));return F=y(F-H),W=y(W+H),{x_2:F,x_3:W}}function R(M,F){mF("u",M,R5,n),mF("scalar",F,p,g);const W=F,H=M;let L=ab,k=R5,C=M,_=ab,T=R5;for(let P=BigInt(c-1);P>=R5;P--){const D=W>>P&ab;T^=D,{x_2:L,x_3:C}=N(T,L,C),{x_2:k,x_3:_}=N(T,k,_),T=D;const O=L+k,I=y(O*O),B=L-k,Q=y(B*B),j=I-Q,Y=C+_,ee=C-_,Z=y(ee*O),oe=y(Y*B),de=Z+oe,ce=Z-oe;C=y(de*de),_=y(H*y(ce*ce)),L=y(I*Q),k=y(j*(I+y(f*j)))}({x_2:L,x_3:C}=N(T,L,C)),{x_2:k,x_3:_}=N(T,k,_);const S=s(k);return y(L*S)}return{scalarMult:E,scalarMultBase:$,getSharedSecret:(M,F)=>E(M,F),getPublicKey:M=>$(M),utils:{randomPrivateKey:()=>l(u)},GuBytes:w.slice()}}BigInt(0);const T2t=BigInt(1),zre=BigInt(2),$2t=BigInt(3),N2t=BigInt(5),P2t=BigInt(8),F3e={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:P2t,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function R2t(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=F3e.p,o=t*t%s*t%s,a=ku(o,zre,s)*o%s,l=ku(a,T2t,s)*t%s,c=ku(l,N2t,s)*l%s,u=ku(c,e,s)*c%s,h=ku(u,n,s)*u%s,f=ku(h,r,s)*h%s,p=ku(f,i,s)*f%s,m=ku(p,i,s)*f%s,g=ku(m,e,s)*c%s;return{pow_p_5_8:ku(g,zre,s)*t%s,b2:o}}function j2t(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const gF=(()=>{const t=F3e.p;return I2t({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=R2t(e);return Oc(ku(n,$2t,t)*r,t)},adjustScalarBytes:j2t})})();function Wre(t){t.lowS!==void 0&&f7("lowS",t.lowS),t.prehash!==void 0&&f7("prehash",t.prehash)}let O2t=class extends Error{constructor(e=""){super(e)}};const Lf={Err:O2t,_tlv:{encode:(t,e)=>{const{Err:n}=Lf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ek(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ek(i.length/2|128):"";return Ek(t)+s+i+e},decode(t,e){const{Err:n}=Lf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Lf;if(t<r4)throw new e("integer: negative integers are not allowed");let n=Ek(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Lf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return P$(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Lf,i=Ta("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Lf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},r4=BigInt(0),i4=BigInt(1),M2t=BigInt(2),Ck=BigInt(3),D2t=BigInt(4);function B2t(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function U3e(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Ta("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function L2t(t,e={}){const{Fp:n,Fn:r}=_2t("weierstrass",t,e),{h:i,n:s}=t;j$(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(R,M,F){const{x:W,y:H}=M.toAffine(),L=n.toBytes(W);if(f7("isCompressed",F),F){a();const k=!n.isOdd(H);return Sy(z3e(k),L)}else return Sy(Uint8Array.of(4),L,n.toBytes(H))}function c(R){Xc(R);const M=n.BYTES,F=M+1,W=2*M+1,H=R.length,L=R[0],k=R.subarray(1);if(H===F&&(L===2||L===3)){const C=n.fromBytes(k);if(!n.isValid(C))throw new Error("bad point: is not on curve, wrong x");const _=f(C);let T;try{T=n.sqrt(_)}catch(P){const D=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const S=n.isOdd(T);return(L&1)===1!==S&&(T=n.neg(T)),{x:C,y:T}}else if(H===W&&L===4){const C=n.fromBytes(k.subarray(M*0,M*1)),_=n.fromBytes(k.subarray(M*1,M*2));if(!p(C,_))throw new Error("bad point: is not on curve");return{x:C,y:_}}else throw new Error(`bad point: got length ${H}, expected compressed=${F} or uncompressed=${W}`)}const u=e.toBytes||l,h=e.fromBytes||c,f=B2t(n,t.a,t.b);function p(R,M){const F=n.sqr(M),W=f(R);return n.eql(F,W)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(t.a,Ck),D2t),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(m,g)))throw new Error("bad curve params: a or b");function y(R,M,F=!1){if(!n.isValid(M)||F&&n.is0(M))throw new Error(`bad point coordinate ${R}`);return M}function w(R){if(!(R instanceof E))throw new Error("ProjectivePoint expected")}const v=Mre((R,M)=>{const{px:F,py:W,pz:H}=R;if(n.eql(H,n.ONE))return{x:F,y:W};const L=R.is0();M==null&&(M=L?n.ONE:n.inv(H));const k=n.mul(F,M),C=n.mul(W,M),_=n.mul(H,M);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:k,y:C}}),b=Mre(R=>{if(R.is0()){if(e.allowInfinityPoint&&!n.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:M,y:F}=R.toAffine();if(!n.isValid(M)||!n.isValid(F))throw new Error("bad point: x or y not field elements");if(!p(M,F))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(R,M,F,W,H){return F=new E(n.mul(F.px,R),F.py,F.pz),M=n4(W,M),F=n4(H,F),M.add(F)}class E{constructor(M,F,W){this.px=y("x",M),this.py=y("y",F,!0),this.pz=y("z",W),Object.freeze(this)}static fromAffine(M){const{x:F,y:W}=M||{};if(!M||!n.isValid(F)||!n.isValid(W))throw new Error("invalid affine point");if(M instanceof E)throw new Error("projective point not allowed");return n.is0(F)&&n.is0(W)?E.ZERO:new E(F,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){return v2t(E,"pz",M)}static fromBytes(M){return Xc(M),E.fromHex(M)}static fromHex(M){const F=E.fromAffine(h(Ta("pointHex",M)));return F.assertValidity(),F}static fromPrivateKey(M){const F=U3e(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(F(M))}static msm(M,F){return k2t(E,r,M,F)}precompute(M=8,F=!0){return N.setWindowSize(this,M),F||this.multiply(Ck),this}_setWindowSize(M){this.precompute(M)}assertValidity(){b(this)}hasEvenY(){const{y:M}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(M)}equals(M){w(M);const{px:F,py:W,pz:H}=this,{px:L,py:k,pz:C}=M,_=n.eql(n.mul(F,C),n.mul(L,H)),T=n.eql(n.mul(W,C),n.mul(k,H));return _&&T}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:M,b:F}=t,W=n.mul(F,Ck),{px:H,py:L,pz:k}=this;let C=n.ZERO,_=n.ZERO,T=n.ZERO,S=n.mul(H,H),P=n.mul(L,L),D=n.mul(k,k),O=n.mul(H,L);return O=n.add(O,O),T=n.mul(H,k),T=n.add(T,T),C=n.mul(M,T),_=n.mul(W,D),_=n.add(C,_),C=n.sub(P,_),_=n.add(P,_),_=n.mul(C,_),C=n.mul(O,C),T=n.mul(W,T),D=n.mul(M,D),O=n.sub(S,D),O=n.mul(M,O),O=n.add(O,T),T=n.add(S,S),S=n.add(T,S),S=n.add(S,D),S=n.mul(S,O),_=n.add(_,S),D=n.mul(L,k),D=n.add(D,D),S=n.mul(D,O),C=n.sub(C,S),T=n.mul(D,P),T=n.add(T,T),T=n.add(T,T),new E(C,_,T)}add(M){w(M);const{px:F,py:W,pz:H}=this,{px:L,py:k,pz:C}=M;let _=n.ZERO,T=n.ZERO,S=n.ZERO;const P=t.a,D=n.mul(t.b,Ck);let O=n.mul(F,L),I=n.mul(W,k),B=n.mul(H,C),Q=n.add(F,W),j=n.add(L,k);Q=n.mul(Q,j),j=n.add(O,I),Q=n.sub(Q,j),j=n.add(F,H);let Y=n.add(L,C);return j=n.mul(j,Y),Y=n.add(O,B),j=n.sub(j,Y),Y=n.add(W,H),_=n.add(k,C),Y=n.mul(Y,_),_=n.add(I,B),Y=n.sub(Y,_),S=n.mul(P,j),_=n.mul(D,B),S=n.add(_,S),_=n.sub(I,S),S=n.add(I,S),T=n.mul(_,S),I=n.add(O,O),I=n.add(I,O),B=n.mul(P,B),j=n.mul(D,j),I=n.add(I,B),B=n.sub(O,B),B=n.mul(P,B),j=n.add(j,B),O=n.mul(I,j),T=n.add(T,O),O=n.mul(Y,j),_=n.mul(Q,_),_=n.sub(_,O),O=n.mul(Q,I),S=n.mul(Y,S),S=n.add(S,O),new E(_,T,S)}subtract(M){return this.add(M.negate())}is0(){return this.equals(E.ZERO)}multiply(M){const{endo:F}=e;if(!r.isValidNot0(M))throw new Error("invalid scalar: out of range");let W,H;const L=k=>N.wNAFCached(this,k,E.normalizeZ);if(F){const{k1neg:k,k1:C,k2neg:_,k2:T}=F.splitScalar(M),{p:S,f:P}=L(C),{p:D,f:O}=L(T);H=P.add(O),W=A(F.beta,S,D,k,_)}else{const{p:k,f:C}=L(M);W=k,H=C}return E.normalizeZ([W,H])[0]}multiplyUnsafe(M){const{endo:F}=e,W=this;if(!r.isValid(M))throw new Error("invalid scalar: out of range");if(M===r4||W.is0())return E.ZERO;if(M===i4)return W;if(N.hasPrecomputes(this))return this.multiply(M);if(F){const{k1neg:H,k1:L,k2neg:k,k2:C}=F.splitScalar(M),{p1:_,p2:T}=C2t(E,W,L,C);return A(F.beta,_,T,H,k)}else return N.wNAFCachedUnsafe(W,M)}multiplyAndAddUnsafe(M,F,W){const H=this.multiplyUnsafe(F).add(M.multiplyUnsafe(W));return H.is0()?void 0:H}toAffine(M){return v(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return i===i4?!0:M?M(E,this):N.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:M}=e;return i===i4?this:M?M(E,this):this.multiplyUnsafe(i)}toBytes(M=!0){return f7("isCompressed",M),this.assertValidity(),u(E,this,M)}toRawBytes(M=!0){return this.toBytes(M)}toHex(M=!0){return K8(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const $=r.BITS,N=A2t(E,e.endo?Math.ceil($/2):$);return E}function z3e(t){return Uint8Array.of(t?2:3)}function F2t(t,e,n={}){j$(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||F3,i=e.hmac||((W,...H)=>$$(e.hash,W,Sy(...H))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(W){const H=a>>i4;return W>H}function u(W){return c(W)?o.neg(W):W}function h(W,H){if(!o.isValidNot0(H))throw new Error(`invalid signature ${W}: out of range 1..CURVE.n`)}class f{constructor(H,L,k){h("r",H),h("s",L),this.r=H,this.s=L,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(H){const L=o.BYTES,k=Ta("compactSignature",H,L*2);return new f(o.fromBytes(k.subarray(0,L)),o.fromBytes(k.subarray(L,L*2)))}static fromDER(H){const{r:L,s:k}=Lf.toSig(Ta("DER",H));return new f(L,k)}assertValidity(){}addRecoveryBit(H){return new f(this.r,this.s,H)}recoverPublicKey(H){const L=s.ORDER,{r:k,s:C,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(a*M2t<L&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=_===2||_===3?k+a:k;if(!s.isValid(T))throw new Error("recovery id 2 or 3 invalid");const S=s.toBytes(T),P=t.fromHex(Sy(z3e((_&1)===0),S)),D=o.inv(T),O=b(Ta("msgHash",H)),I=o.create(-O*D),B=o.create(C*D),Q=t.BASE.multiplyUnsafe(I).add(P.multiplyUnsafe(B));if(Q.is0())throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(H){if(H==="compact")return Sy(o.toBytes(this.r),o.toBytes(this.s));if(H==="der")return zq(Lf.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return K8(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return K8(this.toBytes("compact"))}}const p=U3e(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),m={isValidPrivateKey(W){try{return p(W),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const W=a;return b2t(r(D3e(W)),W)},precompute(W=8,H=t.BASE){return H.precompute(W,!1)}};function g(W,H=!0){return t.fromPrivateKey(W).toBytes(H)}function y(W){if(typeof W=="bigint")return!1;if(W instanceof t)return!0;const H=Ta("key",W).length,L=s.BYTES,k=L+1,C=2*L+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===k))return H===k||H===C}function w(W,H,L=!0){if(y(W)===!0)throw new Error("first arg must be private key");if(y(H)===!1)throw new Error("second arg must be public key");return t.fromHex(H).multiply(p(W)).toBytes(L)}const v=e.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const H=P$(W),L=W.length*8-l;return L>0?H>>BigInt(L):H},b=e.bits2int_modN||function(W){return o.create(v(W))},A=R$(l);function E(W){return mF("num < 2^"+l,W,r4,A),o.toBytes(W)}function $(W,H,L=N){if(["recovered","canonical"].some(Q=>Q in L))throw new Error("sign() legacy options not supported");const{hash:k}=e;let{lowS:C,prehash:_,extraEntropy:T}=L;C==null&&(C=!0),W=Ta("msgHash",W),Wre(L),_&&(W=Ta("prehashed msgHash",k(W)));const S=b(W),P=p(H),D=[E(P),E(S)];if(T!=null&&T!==!1){const Q=T===!0?r(s.BYTES):T;D.push(Ta("extraEntropy",Q))}const O=Sy(...D),I=S;function B(Q){const j=v(Q);if(!o.isValidNot0(j))return;const Y=o.inv(j),ee=t.BASE.multiply(j).toAffine(),Z=o.create(ee.x);if(Z===r4)return;const oe=o.create(Y*o.create(I+Z*P));if(oe===r4)return;let de=(ee.x===Z?0:2)|Number(ee.y&i4),ce=oe;return C&&c(oe)&&(ce=u(oe),de^=1),new f(Z,ce,de)}return{seed:O,k2sig:B}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function M(W,H,L=N){const{seed:k,k2sig:C}=$(W,H,L);return u2t(e.hash.outputLen,o.BYTES,i)(k,C)}t.BASE.precompute(8);function F(W,H,L,k=R){const C=W;H=Ta("msgHash",H),L=Ta("publicKey",L),Wre(k);const{lowS:_,prehash:T,format:S}=k;if("strict"in k)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&!["compact","der","js"].includes(S))throw new Error('format must be "compact", "der" or "js"');const P=typeof C=="string"||Lq(C),D=!P&&!S&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!P&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,I;try{if(D)if(S===void 0||S==="js")O=new f(C.r,C.s);else throw new Error("invalid format");if(P){try{S!=="compact"&&(O=f.fromDER(C))}catch(de){if(!(de instanceof Lf.Err))throw de}!O&&S!=="der"&&(O=f.fromCompact(C))}I=t.fromHex(L)}catch{return!1}if(!O||_&&O.hasHighS())return!1;T&&(H=e.hash(H));const{r:B,s:Q}=O,j=b(H),Y=o.inv(Q),ee=o.create(j*Y),Z=o.create(B*Y),oe=t.BASE.multiplyUnsafe(ee).add(I.multiplyUnsafe(Z));return oe.is0()?!1:o.create(oe.x)===B}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:M,verify:F,utils:m,Point:t,Signature:f})}function U2t(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=U3(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function z2t(t){const{CURVE:e,curveOpts:n}=U2t(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function W2t(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function H2t(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=z2t(t),i=L2t(e,n),s=F2t(i,r,n);return W2t(t,s)}function yF(t,e){const n=r=>H2t({...t,hash:r});return{...n(e),create:n}}const W3e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},H3e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},V3e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},V2t=U3(W3e.p),q2t=U3(H3e.p),G2t=U3(V3e.p),K2t=yF({...W3e,Fp:V2t,lowS:!1},T$);yF({...H3e,Fp:q2t,lowS:!1},tvt),yF({...V3e,Fp:G2t,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},evt);const Y2t=K2t,q3e="base10",ua="base16",Pa="base64pad",rm="base64url",VA="utf8",G3e=0,vp=1,qA=2,Q2t=0,Hre=1,s4=12,Kq=32;function Z2t(){const t=gF.utils.randomPrivateKey(),e=gF.getPublicKey(t);return{privateKey:Ka(t,ua),publicKey:Ka(e,ua)}}function wF(){const t=F3(Kq);return Ka(t,ua)}function J2t(t,e){const n=gF.getSharedSecret(Hc(t,ua),Hc(e,ua)),r=a2t(N$,n,void 0,void 0,Kq);return Ka(r,ua)}function z9(t){const e=N$(Hc(t,ua));return Ka(e,ua)}function Pc(t){const e=N$(Hc(t,VA));return Ka(e,ua)}function K3e(t){return Hc(`${t}`,q3e)}function Z1(t){return Number(Ka(t,q3e))}function Y3e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Q3e(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function X2t(t){const e=K3e(typeof t.type<"u"?t.type:G3e);if(Z1(e)===vp&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Hc(t.senderPublicKey,ua):void 0,r=typeof t.iv<"u"?Hc(t.iv,ua):F3(s4),i=Hc(t.symKey,ua),s=I3e(i,r).encrypt(Hc(t.message,VA)),o=Z3e({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===rm?Y3e(o):o}function ext(t){const e=Hc(t.symKey,ua),{sealed:n,iv:r}=Q8({encoded:t.encoded,encoding:t.encoding}),i=I3e(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Ka(i,VA)}function txt(t,e){const n=K3e(qA),r=F3(s4),i=Hc(t,VA),s=Z3e({type:n,sealed:i,iv:r});return e===rm?Y3e(s):s}function nxt(t,e){const{sealed:n}=Q8({encoded:t,encoding:e});return Ka(n,VA)}function Z3e(t){if(Z1(t.type)===qA)return Ka(t4([t.type,t.sealed]),Pa);if(Z1(t.type)===vp){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ka(t4([t.type,t.senderPublicKey,t.iv,t.sealed]),Pa)}return Ka(t4([t.type,t.iv,t.sealed]),Pa)}function Q8(t){const e=(t.encoding||Pa)===rm?Q3e(t.encoded):t.encoded,n=Hc(e,Pa),r=n.slice(Q2t,Hre),i=Hre;if(Z1(r)===vp){const l=i+Kq,c=l+s4,u=n.slice(i,l),h=n.slice(l,c),f=n.slice(c);return{type:r,sealed:f,iv:h,senderPublicKey:u}}if(Z1(r)===qA){const l=n.slice(i),c=F3(s4);return{type:r,sealed:l,iv:c}}const s=i+s4,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function rxt(t,e){const n=Q8({encoded:t,encoding:e==null?void 0:e.encoding});return J3e({type:Z1(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ka(n.senderPublicKey,ua):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function J3e(t){const e=(t==null?void 0:t.type)||G3e;if(e===vp){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Vre(t){return t.type===vp&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function qre(t){return t.type===qA}function ixt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return t4([new Uint8Array([4]),e,n])}function sxt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Q3e(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${n}.${r}`,c=N$(l),u=ixt(e);if(!Y2t.verify(t4([o,a]),c,u))throw new Error("Invalid signature");return sF(t).payload}const oxt="irn";function m7(t){return(t==null?void 0:t.relay)||{protocol:oxt}}function hv(t){const e=Rwt[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function axt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function Gre(t){if(!t.includes("wc:")){const c=c3e(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((c,u)=>{a[u]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:lxt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:axt(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function lxt(t){return t.startsWith("//")?t.substring(2):t}function cxt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function Kre(t){const e=new URLSearchParams,n=cxt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function kk(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var uxt=Object.defineProperty,dxt=Object.defineProperties,hxt=Object.getOwnPropertyDescriptors,Yre=Object.getOwnPropertySymbols,fxt=Object.prototype.hasOwnProperty,pxt=Object.prototype.propertyIsEnumerable,Qre=(t,e,n)=>e in t?uxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mxt=(t,e)=>{for(var n in e||(e={}))fxt.call(e,n)&&Qre(t,n,e[n]);if(Yre)for(var n of Yre(e))pxt.call(e,n)&&Qre(t,n,e[n]);return t},gxt=(t,e)=>dxt(t,hxt(e));function z3(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function yxt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...z3(n.accounts))}),e}function wxt(t,e){const n=[];return Object.values(t).forEach(r=>{z3(r.accounts).includes(e)&&n.push(...r.methods)}),n}function bxt(t,e){const n=[];return Object.values(t).forEach(r=>{z3(r.accounts).includes(e)&&n.push(...r.events)}),n}function O$(t){return t.includes(":")}function fv(t){return O$(t)?t.split(":")[0]:t}function Zre(t){var e,n,r;const i={};if(!Fh(t))return i;for(const[s,o]of Object.entries(t)){const a=O$(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=fv(s);i[u]=gxt(mxt({},i[u]),{chains:Lh(a,(e=i[u])==null?void 0:e.chains),methods:Lh(l,(n=i[u])==null?void 0:n.methods),events:Lh(c,(r=i[u])==null?void 0:r.events)})}return i}function vxt(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function Jre(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=vxt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Lh(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function xxt(t,e){var n,r,i,s,o,a;const l=Zre(t),c=Zre(e),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:Lh((n=l[f])==null?void 0:n.chains,(r=c[f])==null?void 0:r.chains),methods:Lh((i=l[f])==null?void 0:i.methods,(s=c[f])==null?void 0:s.methods),events:Lh((o=l[f])==null?void 0:o.events,(a=c[f])==null?void 0:a.events)};return u}const Ext={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Axt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function it(t,e){const{message:n,code:r}=Axt[t];return{message:e?`${n} ${e}`:n,code:r}}function Or(t,e){const{message:n,code:r}=Ext[t];return{message:e?`${n} ${e}`:n,code:r}}function qc(t,e){return!!Array.isArray(t)}function Fh(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ys(t){return typeof t>"u"}function zi(t,e){return e&&ys(t)?!0:typeof t=="string"&&!!t.trim().length}function Yq(t,e){return typeof t=="number"&&!isNaN(t)}function Cxt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return _y(i,r)?(r.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=z3(a),h=n[o];(!_y(i3e(o,h),u)||!_y(h.methods,l)||!_y(h.events,c))&&(s=!1)}),s):!1}function g7(t){return zi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function kxt(t){if(zi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&g7(n)}}return!1}function _xt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(zi(t,!1)){if(e(t))return!0;const n=c3e(t);return e(n)}}catch{}return!1}function Sxt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Ixt(t){return t==null?void 0:t.topic}function Txt(t,e){let n=null;return zi(t==null?void 0:t.publicKey,!1)||(n=it("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Xre(t){let e=!0;return qc(t)?t.length&&(e=t.every(n=>zi(n,!1))):e=!1,e}function $xt(t,e,n){let r=null;return qc(e)&&e.length?e.forEach(i=>{r||g7(i)||(r=Or("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):g7(t)||(r=Or("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Nxt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=$xt(i,i3e(i,s),`${e} ${n}`);o&&(r=o)}),r}function Pxt(t,e){let n=null;return qc(t)?t.forEach(r=>{n||kxt(r)||(n=Or("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Or("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Rxt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Pxt(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function jxt(t,e){let n=null;return Xre(t==null?void 0:t.methods)?Xre(t==null?void 0:t.events)||(n=Or("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Or("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function X3e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=jxt(r,`${e}, namespace`);i&&(n=i)}),n}function Oxt(t,e,n){let r=null;if(t&&Fh(t)){const i=X3e(t,e);i&&(r=i);const s=Nxt(t,e,n);s&&(r=s)}else r=it("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Yj(t,e){let n=null;if(t&&Fh(t)){const r=X3e(t,e);r&&(n=r);const i=Rxt(t,e);i&&(n=i)}else n=it("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function e5e(t){return zi(t.protocol,!0)}function Mxt(t,e){let n=!1;return t?t&&qc(t)&&t.length&&t.forEach(r=>{n=e5e(r)}):n=!0,n}function Dxt(t){return typeof t=="number"}function ka(t){return typeof t<"u"&&typeof t!==null}function Bxt(t){return!(!t||typeof t!="object"||!t.code||!Yq(t.code)||!t.message||!zi(t.message,!1))}function Lxt(t){return!(ys(t)||!zi(t.method,!1))}function Fxt(t){return!(ys(t)||ys(t.result)&&ys(t.error)||!Yq(t.id)||!zi(t.jsonrpc,!1))}function Uxt(t){return!(ys(t)||!zi(t.name,!1))}function eie(t,e){return!(!g7(e)||!yxt(t).includes(e))}function zxt(t,e,n){return zi(n,!1)?wxt(t,e).includes(n):!1}function Wxt(t,e,n){return zi(n,!1)?bxt(t,e).includes(n):!1}function tie(t,e,n){let r=null;const i=Hxt(t),s=Vxt(e),o=Object.keys(i),a=Object.keys(s),l=nie(Object.keys(t)),c=nie(Object.keys(e)),u=l.filter(h=>!c.includes(h));return u.length&&(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),_y(o,a)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const f=z3(e[h].accounts);f.includes(h)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{r||(_y(i[h].methods,s[h].methods)?_y(i[h].events,s[h].events)||(r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=it("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function Hxt(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function nie(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Vxt(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=z3(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function qxt(t,e){return Yq(t)&&t<=e.max&&t>=e.min}function rie(){const t=WA();return new Promise(e=>{switch(t){case Ll.browser:e(Gxt());break;case Ll.reactNative:e(Kxt());break;case Ll.node:e(Yxt());break;default:e(!0)}})}function Gxt(){return L3()&&(navigator==null?void 0:navigator.onLine)}async function Kxt(){if(Ig()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Yxt(){return!0}function Qxt(t){switch(WA()){case Ll.browser:Zxt(t);break;case Ll.reactNative:Jxt(t);break}}function Zxt(t){!Ig()&&L3()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Jxt(t){Ig()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Xxt(){var t;return L3()&&G1()?((t=G1())==null?void 0:t.visibilityState)==="visible":!0}const Qj={};let j5=class{static get(e){return Qj[e]}static set(e,n){Qj[e]=n}static delete(e){delete Qj[e]}};function e3t(t){const e=FA.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function t3t({publicKey:t,signature:e,payload:n}){var r;const i=bF(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=i3t(n.address),a=n.era==="00"?new Uint8Array([0]):bF(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${r3t(n.tip)}`),h=o3t(u),f=new Uint8Array([0,...t,o,...e,...a,...c,...h,...i]),p=s3t(f.length+1);return new Uint8Array([...p,s,...f])}function n3t(t){const e=bF(t),n=Vwt.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function bF(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function r3t(t){return t.startsWith("0x")?t.slice(2):t}function i3t(t){const e=FA.decode(t)[0];return e===42?0:e===60?2:1}function s3t(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function o3t(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function a3t(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=e3t(t.transaction.address),r=t3t({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return n3t(i)}class $w{}let l3t=class extends $w{constructor(e){super()}};const iie=tt.FIVE_SECONDS,Nw={pulse:"heartbeat_pulse"};let c3t=class t5e extends l3t{constructor(e){super(e),this.events=new sc.EventEmitter,this.interval=iie,this.interval=(e==null?void 0:e.interval)||iie}static async init(e){const n=new t5e(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),tt.toMiliseconds(this.interval))}pulse(){this.events.emit(Nw.pulse)}};function u3t(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function cs(t,...e){try{return u3t(t(...e))}catch(n){return Promise.reject(n)}}function d3t(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function h3t(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function W9(t){if(d3t(t))return String(t);if(h3t(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return W9(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const vF="base64:";function f3t(t){return typeof t=="string"?t:vF+g3t(t)}function p3t(t){return typeof t!="string"||!t.startsWith(vF)?t:m3t(t.slice(vF.length))}function m3t(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function g3t(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ca(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function y3t(...t){return Ca(t.join(":"))}function _k(t){return t=Ca(t),t?t+":":""}function w3t(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function b3t(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const v3t="memory",x3t=()=>{const t=new Map;return{name:v3t,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function E3t(t={}){const e={mounts:{"":t.driver||x3t()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},r=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=Ca(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await sie(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,h)=>{const f=new Map,p=m=>{let g=f.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},f.set(m.base,g)),g};for(const m of c){const g=typeof m=="string",y=Ca(g?m:m.key),w=g?void 0:m.value,v=g||!m.options?u:{...u,...m.options},b=n(y);p(b).items.push({key:y,value:w,relativeKey:b.relativeKey,options:v})}return Promise.all([...f.values()].map(m=>h(m))).then(m=>m.flat())},l={hasItem(c,u={}){c=Ca(c);const{relativeKey:h,driver:f}=n(c);return cs(f.hasItem,h,u)},getItem(c,u={}){c=Ca(c);const{relativeKey:h,driver:f}=n(c);return cs(f.getItem,h,u).then(p=>u6(p))},getItems(c,u={}){return a(c,u,h=>h.driver.getItems?cs(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:y3t(h.base,p.key),value:u6(p.value)}))):Promise.all(h.items.map(f=>cs(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:u6(p)})))))},getItemRaw(c,u={}){c=Ca(c);const{relativeKey:h,driver:f}=n(c);return f.getItemRaw?cs(f.getItemRaw,h,u):cs(f.getItem,h,u).then(p=>p3t(p))},async setItem(c,u,h={}){if(u===void 0)return l.removeItem(c);c=Ca(c);const{relativeKey:f,driver:p}=n(c);p.setItem&&(await cs(p.setItem,f,W9(u),h),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async h=>{if(h.driver.setItems)return cs(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:W9(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>cs(h.driver.setItem,f.relativeKey,W9(f.value),f.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return l.removeItem(c,h);c=Ca(c);const{relativeKey:f,driver:p}=n(c);if(p.setItemRaw)await cs(p.setItemRaw,f,u,h);else if(p.setItem)await cs(p.setItem,f,f3t(u),h);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=Ca(c);const{relativeKey:h,driver:f}=n(c);f.removeItem&&(await cs(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await cs(f.removeItem,h+"$",u),f.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=Ca(c);const{relativeKey:h,driver:f}=n(c),p=Object.create(null);if(f.getMeta&&Object.assign(p,await cs(f.getMeta,h,u)),!u.nativeOnly){const m=await cs(f.getItem,h+"$",u).then(g=>u6(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(p,m))}return p},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){var y;c=_k(c);const h=r(c,!0);let f=[];const p=[];let m=!0;for(const w of h){(y=w.driver.flags)!=null&&y.maxDepth||(m=!1);const v=await cs(w.driver.getKeys,w.relativeBase,u);for(const b of v){const A=w.mountpoint+Ca(b);f.some(E=>A.startsWith(E))||p.push(A)}f=[w.mountpoint,...f.filter(b=>!b.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return p.filter(w=>(!g||w3t(w,u.maxDepth))&&b3t(w,c))},async clear(c,u={}){c=_k(c),await Promise.all(r(c,!1).map(async h=>{if(h.driver.clear)return cs(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>oie(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=_k(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(sie(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),l},async unmount(c,u=!0){var h,f;c=_k(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((f=(h=e.unwatch)[c])==null||f.call(h),delete e.unwatch[c]),u&&await oie(e.mounts[c]),e.mountpoints=e.mountpoints.filter(p=>p!==c),delete e.mounts[c])},getMount(c=""){c=Ca(c)+":";const u=n(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=Ca(c),r(c,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,h={})=>l.setItem(c,u,h),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function sie(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function oie(t){typeof t.dispose=="function"&&await cs(t.dispose)}function Pw(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function n5e(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Pw(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let Zj;function GA(){return Zj||(Zj=n5e("keyval-store","keyval")),Zj}function aie(t,e=GA()){return e("readonly",n=>Pw(n.get(t)))}function A3t(t,e,n=GA()){return n("readwrite",r=>(r.put(e,t),Pw(r.transaction)))}function C3t(t,e=GA()){return e("readwrite",n=>(n.delete(t),Pw(n.transaction)))}function k3t(t=GA()){return t("readwrite",e=>(e.clear(),Pw(e.transaction)))}function _3t(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Pw(t.transaction)}function S3t(t=GA()){return t("readonly",e=>{if(e.getAllKeys)return Pw(e.getAllKeys());const n=[];return _3t(e,r=>n.push(r.key)).then(()=>n)})}const I3t="idb-keyval";var T3t=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=n5e(t.dbName,t.storeName)),{name:I3t,options:t,async hasItem(i){return!(typeof await aie(n(i),r)>"u")},async getItem(i){return await aie(n(i),r)??null},setItem(i,s){return A3t(n(i),s,r)},removeItem(i){return C3t(n(i),r)},getKeys(){return S3t(r)},clear(){return k3t(r)}}};const $3t="WALLET_CONNECT_V2_INDEXED_DB",N3t="keyvaluestorage";let P3t=class{constructor(){this.indexedDb=E3t({driver:T3t({dbName:$3t,storeName:N3t})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Wp(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Jj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},H9={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Jj<"u"&&Jj.localStorage?H9.exports=Jj.localStorage:typeof window<"u"&&window.localStorage?H9.exports=window.localStorage:H9.exports=new e})();function R3t(t){var e;return[t[0],Y1((e=t[1])!=null?e:"")]}let j3t=class{constructor(){this.localStorage=H9.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(R3t)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Y1(n)}async setItem(e,n){this.localStorage.setItem(e,Wp(n))}async removeItem(e){this.localStorage.removeItem(e)}};const O3t="wc_storage_version",lie=1,M3t=async(t,e,n)=>{const r=O3t,i=await e.getItem(r);if(i&&i>=lie){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(r,lie),n(e),D3t(t,o)},D3t=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let B3t=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new j3t;this.storage=e;try{const n=new P3t;M3t(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function L3t(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var F3t=U3t;function U3t(t,e,n){var r=n&&n.stringify||L3t,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;h<p&&(c+=t.slice(h,p));var m=typeof e[u];if(m==="string"){c+="'"+e[u]+"'",h=p+2,p++;break}if(m==="function"){c+=e[u].name||"<anonymous>",h=p+2,p++;break}c+=r(e[u]),h=p+2,p++;break;case 115:if(u>=l)break;h<p&&(c+=t.slice(h,p)),c+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(c+=t.slice(h,p)),c+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(c+=t.slice(h)),c)}const cie=F3t;var jb=Uh;const Z8=Z3t().console||{},z3t={mapHttpRequest:Sk,mapHttpResponse:Sk,wrapRequestSerializer:Xj,wrapResponseSerializer:Xj,wrapErrorSerializer:Xj,req:Sk,res:Sk,err:G3t};function W3t(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Uh(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Z8;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=W3t(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",l=Object.create(n);l.log||(l.log=J8),Object.defineProperty(l,"levelVal",{get:u}),Object.defineProperty(l,"level",{get:h,set:f});const c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:K3t(t)};l.levels=Uh.levels,l.level=a,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=J8,l.serializers=r,l._serialize=i,l._stdErrSerialize=s,l.child=p,e&&(l._logEvent=xF());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,lb(c,l,"error","log"),lb(c,l,"fatal","error"),lb(c,l,"warn","error"),lb(c,l,"info","log"),lb(c,l,"debug","log"),lb(c,l,"trace","log")}function p(m,g){if(!m)throw new Error("missing bindings for child Pino");g=g||{},i&&m.serializers&&(g.serializers=m.serializers);const y=g.serializers;if(i&&y){var w=Object.assign({},r,y),v=t.browser.serialize===!0?Object.keys(w):i;delete m.serializers,M$([m],v,w,this._stdErrSerialize)}function b(A){this._childLevel=(A._childLevel|0)+1,this.error=cb(A,m,"error"),this.fatal=cb(A,m,"fatal"),this.warn=cb(A,m,"warn"),this.info=cb(A,m,"info"),this.debug=cb(A,m,"debug"),this.trace=cb(A,m,"trace"),w&&(this.serializers=w,this._serialize=v),e&&(this._logEvent=xF([].concat(A._logEvent.bindings,m)))}return b.prototype=this,new b(this)}return l}Uh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Uh.stdSerializers=z3t;Uh.stdTimeFunctions=Object.assign({},{nullTime:r5e,epochTime:i5e,unixTime:Y3t,isoTime:Q3t});function lb(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?J8:i[n]?i[n]:Z8[n]||Z8[r]||J8,H3t(t,e,n)}function H3t(t,e,n){!t.transmit&&e[n]===J8||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Z8?Z8:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];if(t.serialize&&!t.asObject&&M$(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,V3t(this,n,o,s)):r.apply(a,o),t.transmit){const c=t.transmit.level||e.level,u=Uh.levels.values[c],h=Uh.levels.values[n];if(h<u)return;q3t(this,{ts:s,methodLevel:n,methodValue:h,transmitLevel:c,transmitValue:Uh.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function V3t(t,e,n,r){t._serialize&&M$(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=Uh.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?cie(i.shift(),i):void 0}else typeof s=="string"&&(s=cie(i.shift(),i));return s!==void 0&&(o.msg=s),o}function M$(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Uh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function cb(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function q3t(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,l=t._logEvent.bindings;M$(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(c){return l.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=xF(l)}function xF(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function G3t(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function K3t(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?r5e:i5e}function Sk(){return{}}function Xj(t){return t}function J8(){}function r5e(){return!1}function i5e(){return Date.now()}function Y3t(){return Math.round(Date.now()/1e3)}function Q3t(){return new Date(Date.now()).toISOString()}function Z3t(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const KA=Gs(jb),J3t={level:"info"},YA="custom_context",Qq=1e3*1024;let X3t=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},uie=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new X3t(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},s5e=class{constructor(e,n=Qq){this.level=e??"error",this.levelValue=jb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new uie(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===jb.levels.values.error?console.error(e):n===jb.levels.values.warn?console.warn(e):n===jb.levels.values.debug?console.debug(e):n===jb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Wp({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new uie(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Wp({extraMetadata:e})),new Blob(n,{type:"application/json"})}},e5t=class{constructor(e,n=Qq){this.baseChunkLogger=new s5e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},t5t=class{constructor(e,n=Qq){this.baseChunkLogger=new s5e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var n5t=Object.defineProperty,r5t=Object.defineProperties,i5t=Object.getOwnPropertyDescriptors,die=Object.getOwnPropertySymbols,s5t=Object.prototype.hasOwnProperty,o5t=Object.prototype.propertyIsEnumerable,hie=(t,e,n)=>e in t?n5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y7=(t,e)=>{for(var n in e||(e={}))s5t.call(e,n)&&hie(t,n,e[n]);if(die)for(var n of die(e))o5t.call(e,n)&&hie(t,n,e[n]);return t},w7=(t,e)=>r5t(t,i5t(e));function D$(t){return w7(y7({},t),{level:(t==null?void 0:t.level)||J3t.level})}function a5t(t,e=YA){return t[e]||""}function l5t(t,e,n=YA){return t[n]=e,t}function al(t,e=YA){let n="";return typeof t.bindings>"u"?n=a5t(t,e):n=t.bindings().context||"",n}function c5t(t,e,n=YA){const r=al(t,n);return r.trim()?`${r}/${e}`:e}function ya(t,e,n=YA){const r=c5t(t,e,n),i=t.child({context:r});return l5t(i,r,n)}function u5t(t){var e,n;const r=new e5t((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:KA(w7(y7({},t.opts),{level:"trace",browser:w7(y7({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function d5t(t){var e;const n=new t5t((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:KA(w7(y7({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function h5t(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?u5t(t):d5t(t)}var f5t=Object.defineProperty,p5t=(t,e,n)=>e in t?f5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fie=(t,e,n)=>p5t(t,typeof e!="symbol"?e+"":e,n);let m5t=class extends $w{constructor(e){super(),this.opts=e,fie(this,"protocol","wc"),fie(this,"version",2)}};var g5t=Object.defineProperty,y5t=(t,e,n)=>e in t?g5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w5t=(t,e,n)=>y5t(t,e+"",n);let b5t=class extends $w{constructor(e,n){super(),this.core=e,this.logger=n,w5t(this,"records",new Map)}},v5t=class{constructor(e,n){this.logger=e,this.core=n}},x5t=class extends $w{constructor(e,n){super(),this.relayer=e,this.logger=n}},E5t=class extends $w{constructor(e){super()}},A5t=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},C5t=class extends $w{constructor(e,n){super(),this.relayer=e,this.logger=n}},k5t=class extends $w{constructor(e,n){super(),this.core=e,this.logger=n}},_5t=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},S5t=class{constructor(e,n){this.projectId=e,this.logger=n}},I5t=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var T5t=Object.defineProperty,$5t=(t,e,n)=>e in t?T5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pie=(t,e,n)=>$5t(t,typeof e!="symbol"?e+"":e,n);let N5t=class{constructor(e){this.opts=e,pie(this,"protocol","wc"),pie(this,"version",2)}},P5t=class{constructor(e){this.client=e}};const R5t="PARSE_ERROR",j5t="INVALID_REQUEST",O5t="METHOD_NOT_FOUND",M5t="INVALID_PARAMS",o5e="INTERNAL_ERROR",Zq="SERVER_ERROR",D5t=[-32700,-32600,-32601,-32602,-32603],o4={[R5t]:{code:-32700,message:"Parse error"},[j5t]:{code:-32600,message:"Invalid Request"},[O5t]:{code:-32601,message:"Method not found"},[M5t]:{code:-32602,message:"Invalid params"},[o5e]:{code:-32603,message:"Internal error"},[Zq]:{code:-32e3,message:"Server error"}},a5e=Zq;function B5t(t){return D5t.includes(t)}function mie(t){return Object.keys(o4).includes(t)?o4[t]:o4[a5e]}function L5t(t){const e=Object.values(o4).find(n=>n.code===t);return e||o4[a5e]}function l5e(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var c5e={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EF=function(t,e){return EF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},EF(t,e)};function F5t(t,e){EF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var AF=function(){return AF=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AF.apply(this,arguments)};function U5t(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function z5t(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function W5t(t,e){return function(n,r){e(n,r,t)}}function H5t(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function V5t(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function q5t(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function G5t(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function K5t(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function CF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u5e(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Y5t(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u5e(arguments[e]));return t}function Q5t(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function X8(t){return this instanceof X8?(this.v=t,this):new X8(t)}function Z5t(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof X8?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function J5t(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:X8(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function X5t(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CF=="function"?CF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function e6t(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function t6t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function n6t(t){return t&&t.__esModule?t:{default:t}}function r6t(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function i6t(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const s6t=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return AF},__asyncDelegator:J5t,__asyncGenerator:Z5t,__asyncValues:X5t,__await:X8,__awaiter:V5t,__classPrivateFieldGet:r6t,__classPrivateFieldSet:i6t,__createBinding:G5t,__decorate:z5t,__exportStar:K5t,__extends:F5t,__generator:q5t,__importDefault:n6t,__importStar:t6t,__makeTemplateObject:e6t,__metadata:H5t,__param:W5t,__read:u5e,__rest:U5t,__spread:Y5t,__spreadArrays:Q5t,__values:CF},Symbol.toStringTag,{value:"Module"})),o6t=s3(s6t);var vf={},gie;function a6t(){if(gie)return vf;gie=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.isBrowserCryptoAvailable=vf.getSubtleCrypto=vf.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}vf.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}vf.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return vf.isBrowserCryptoAvailable=n,vf}var xf={},yie;function l6t(){if(yie)return xf;yie=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.isBrowser=xf.isNode=xf.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}xf.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}xf.isNode=e;function n(){return!t()&&!e()}return xf.isBrowser=n,xf}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=o6t;e.__exportStar(a6t(),t),e.__exportStar(l6t(),t)})(c5e);function Zd(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Om(t=6){return BigInt(Zd(t))}function mh(t,e,n){return{id:n||Zd(),jsonrpc:"2.0",method:t,params:e}}function eE(t,e){return{id:t,jsonrpc:"2.0",result:e}}function B$(t,e,n){return{id:t,jsonrpc:"2.0",error:c6t(e)}}function c6t(t,e){return typeof t>"u"?mie(o5e):(typeof t=="string"&&(t=Object.assign(Object.assign({},mie(Zq)),{message:t})),B5t(t.code)&&(t=L5t(t.code)),t)}let u6t=class{},d6t=class extends u6t{constructor(){super()}},h6t=class extends d6t{constructor(e){super()}};const f6t="^https?:",p6t="^wss?:";function m6t(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function d5e(t,e){const n=m6t(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function wie(t){return d5e(t,f6t)}function bie(t){return d5e(t,p6t)}function g6t(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function h5e(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Jq(t){return h5e(t)&&"method"in t}function L$(t){return h5e(t)&&(Jd(t)||Rc(t))}function Jd(t){return"result"in t}function Rc(t){return"error"in t}let du=class extends h6t{constructor(e){super(e),this.events=new sc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(mh(e.method,e.params||[],e.id||Om().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Rc(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),L$(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const y6t=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),w6t=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",vie=t=>t.split("?")[0],xie=10,b6t=y6t();let v6t=class{constructor(e){if(this.url=e,this.events=new sc.EventEmitter,this.registering=!1,!bie(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Wp(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!bie(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=c5e.isReactNative()?void 0:{rejectUnauthorized:!g6t(e)},s=new b6t(e,[],i);w6t()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Y1(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=B$(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return l5e(e,vie(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>xie&&this.events.setMaxListeners(xie)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${vie(this.url)}`));return this.events.emit("register_error",n),n}};var x6t={};const f5e="wc",p5e=2,b7="core",Yh=`${f5e}@2:${b7}:`,E6t={name:b7,logger:"error"},A6t={database:":memory:"},C6t="crypto",Eie="client_ed25519_seed",k6t=tt.ONE_DAY,_6t="keychain",S6t="0.3",I6t="messages",T6t="0.3",$6t=tt.SIX_HOURS,N6t="publisher",m5e="irn",P6t="error",g5e="wss://relay.walletconnect.org",R6t="relayer",Ci={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},j6t="_subscription",fc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},O6t=.1,kF="2.21.7",jr={link_mode:"link_mode",relay:"relay"},V9={inbound:"inbound",outbound:"outbound"},M6t="0.3",D6t="WALLETCONNECT_CLIENT_ID",Aie="WALLETCONNECT_LINK_MODE_APPS",wl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},B6t="subscription",L6t="0.3",F6t="pairing",U6t="0.3",O5={wc_pairingDelete:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:tt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:tt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:0},res:{ttl:tt.ONE_DAY,prompt:!1,tag:0}}},ry={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},bu={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},z6t="history",W6t="0.3",H6t="expirer",Ec={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},V6t="0.3",q6t="verify-api",G6t="https://verify.walletconnect.com",y5e="https://verify.walletconnect.org",a4=y5e,K6t=`${a4}/v3`,Y6t=[G6t,y5e],Q6t="echo",Z6t="https://echo.walletconnect.com",Kd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},If={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},k0={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},M5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},zg={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},D5={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},J6t=.1,X6t="event-client",e4t=86400,t4t="https://pulse.walletconnect.org/batch";function n4t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,A=new Uint8Array(b);w!==v;){for(var E=m[w],$=0,N=b-1;(E!==0||$<y)&&N!==-1;N--,$++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=$,w++}for(var R=b-y;R!==b&&A[R]===0;)R++;for(var M=l.repeat(g);R<b;++R)M+=t.charAt(A[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===l;)y++,g++;for(var v=(m.length-g)*c+1>>>0,b=new Uint8Array(v);m[g];){var A=n[m.charCodeAt(g)];if(A===255)return;for(var E=0,$=v-1;(A!==0||E<w)&&$!==-1;$--,E++)A+=a*b[$]>>>0,b[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var N=v-w;N!==v&&b[N]===0;)N++;for(var R=new Uint8Array(y+(v-N)),M=y;N!==v;)R[M++]=b[N++];return R}}}function p(m){var g=f(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var r4t=n4t,i4t=r4t;const w5e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},s4t=t=>new TextEncoder().encode(t),o4t=t=>new TextDecoder().decode(t);let a4t=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},l4t=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return b5e(this,e)}},c4t=class{constructor(e){this.decoders=e}or(e){return b5e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const b5e=(t,e)=>new c4t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let u4t=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new a4t(e,n,r),this.decoder=new l4t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const F$=({name:t,prefix:e,encode:n,decode:r})=>new u4t(t,e,n,r),QA=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=i4t(n,e);return F$({prefix:t,name:e,encode:r,decode:s=>w5e(i(s))})},d4t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},h4t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>F$({prefix:e,name:t,encode(i){return h4t(i,r,n)},decode(i){return d4t(i,r,n,t)}}),f4t=F$({prefix:"\0",name:"identity",encode:t=>o4t(t),decode:t=>s4t(t)});var p4t=Object.freeze({__proto__:null,identity:f4t});const m4t=Js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var g4t=Object.freeze({__proto__:null,base2:m4t});const y4t=Js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var w4t=Object.freeze({__proto__:null,base8:y4t});const b4t=QA({prefix:"9",name:"base10",alphabet:"0123456789"});var v4t=Object.freeze({__proto__:null,base10:b4t});const x4t=Js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),E4t=Js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var A4t=Object.freeze({__proto__:null,base16:x4t,base16upper:E4t});const C4t=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),k4t=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_4t=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),S4t=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),I4t=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),T4t=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$4t=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),N4t=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P4t=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var R4t=Object.freeze({__proto__:null,base32:C4t,base32upper:k4t,base32pad:_4t,base32padupper:S4t,base32hex:I4t,base32hexupper:T4t,base32hexpad:$4t,base32hexpadupper:N4t,base32z:P4t});const j4t=QA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),O4t=QA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var M4t=Object.freeze({__proto__:null,base36:j4t,base36upper:O4t});const D4t=QA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),B4t=QA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var L4t=Object.freeze({__proto__:null,base58btc:D4t,base58flickr:B4t});const F4t=Js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),U4t=Js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),z4t=Js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),W4t=Js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var H4t=Object.freeze({__proto__:null,base64:F4t,base64pad:U4t,base64url:z4t,base64urlpad:W4t});const v5e=Array.from(""),V4t=v5e.reduce((t,e,n)=>(t[n]=e,t),[]),q4t=v5e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function G4t(t){return t.reduce((e,n)=>(e+=V4t[n],e),"")}function K4t(t){const e=[];for(const n of t){const r=q4t[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Y4t=F$({prefix:"",name:"base256emoji",encode:G4t,decode:K4t});var Q4t=Object.freeze({__proto__:null,base256emoji:Y4t}),Z4t=x5e,Cie=128,J4t=127,X4t=~J4t,e8t=Math.pow(2,31);function x5e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=e8t;)e[n++]=t&255|Cie,t/=128;for(;t&X4t;)e[n++]=t&255|Cie,t>>>=7;return e[n]=t|0,x5e.bytes=n-r+1,e}var t8t=_F,n8t=128,kie=127;function _F(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw _F.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&kie)<<i:(o&kie)*Math.pow(2,i),i+=7}while(o>=n8t);return _F.bytes=s-r,n}var r8t=Math.pow(2,7),i8t=Math.pow(2,14),s8t=Math.pow(2,21),o8t=Math.pow(2,28),a8t=Math.pow(2,35),l8t=Math.pow(2,42),c8t=Math.pow(2,49),u8t=Math.pow(2,56),d8t=Math.pow(2,63),h8t=function(t){return t<r8t?1:t<i8t?2:t<s8t?3:t<o8t?4:t<a8t?5:t<l8t?6:t<c8t?7:t<u8t?8:t<d8t?9:10},f8t={encode:Z4t,decode:t8t,encodingLength:h8t},E5e=f8t;const _ie=(t,e,n=0)=>(E5e.encode(t,e,n),e),Sie=t=>E5e.encodingLength(t),SF=(t,e)=>{const n=e.byteLength,r=Sie(t),i=r+Sie(n),s=new Uint8Array(i+n);return _ie(t,s,0),_ie(n,s,r),s.set(e,i),new p8t(t,n,e,s)};let p8t=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const A5e=({name:t,code:e,encode:n})=>new m8t(t,e,n);let m8t=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?SF(this.code,n):n.then(r=>SF(this.code,r))}else throw Error("Unknown type, must be binary type")}};const C5e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),g8t=A5e({name:"sha2-256",code:18,encode:C5e("SHA-256")}),y8t=A5e({name:"sha2-512",code:19,encode:C5e("SHA-512")});var w8t=Object.freeze({__proto__:null,sha256:g8t,sha512:y8t});const k5e=0,b8t="identity",_5e=w5e,v8t=t=>SF(k5e,_5e(t)),x8t={code:k5e,name:b8t,encode:_5e,digest:v8t};var E8t=Object.freeze({__proto__:null,identity:x8t});new TextEncoder,new TextDecoder;const Iie={...p4t,...g4t,...w4t,...v4t,...A4t,...R4t,...M4t,...L4t,...H4t,...Q4t};({...w8t,...E8t});function S5e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function A8t(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?S5e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function I5e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Tie=I5e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),eO=I5e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=A8t(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),C8t={utf8:Tie,"utf-8":Tie,hex:Iie.base16,latin1:eO,ascii:eO,binary:eO,...Iie};function k8t(t,e="utf8"){const n=C8t[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?S5e(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var _8t=Object.defineProperty,S8t=(t,e,n)=>e in t?_8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dd=(t,e,n)=>S8t(t,typeof e!="symbol"?e+"":e,n);let I8t=class{constructor(e,n){this.core=e,this.logger=n,Dd(this,"keychain",new Map),Dd(this,"name",_6t),Dd(this,"version",S6t),Dd(this,"initialized",!1),Dd(this,"storagePrefix",Yh),Dd(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Dd(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Dd(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Dd(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=it("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Dd(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=ya(n,this.name)}get context(){return al(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,aF(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?lF(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var T8t=Object.defineProperty,$8t=(t,e,n)=>e in t?T8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_s=(t,e,n)=>$8t(t,typeof e!="symbol"?e+"":e,n);let N8t=class{constructor(e,n,r){this.core=e,this.logger=n,_s(this,"name",C6t),_s(this,"keychain"),_s(this,"randomSessionIdentifier",wF()),_s(this,"initialized",!1),_s(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),_s(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),_s(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=sre(i);return Lxe(s.publicKey)}),_s(this,"generateKeyPair",()=>{this.isInitialized();const i=Z2t();return this.setPrivateKey(i.publicKey,i.privateKey)}),_s(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=sre(s),a=this.randomSessionIdentifier;return await M1t(a,i,k6t,o)}),_s(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=J2t(a,s);return this.setSymKey(l,o)}),_s(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||z9(i);return await this.keychain.set(o,i),o}),_s(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),_s(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),_s(this,"encode",async(i,s,o)=>{this.isInitialized();const a=J3e(o),l=Wp(s);if(qre(a))return txt(l,o==null?void 0:o.encoding);if(Vre(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return X2t({type:u,symKey:c,message:l,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),_s(this,"decode",async(i,s,o)=>{this.isInitialized();const a=rxt(s,o);if(qre(a)){const l=nxt(s,o==null?void 0:o.encoding);return Y1(l)}if(Vre(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=ext({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return Y1(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),_s(this,"getPayloadType",(i,s=Pa)=>{const o=Q8({encoded:i,encoding:s});return Z1(o.type)}),_s(this,"getPayloadSenderPublicKey",(i,s=Pa)=>{const o=Q8({encoded:i,encoding:s});return o.senderPublicKey?Ka(o.senderPublicKey,ua):void 0}),this.core=e,this.logger=ya(n,this.name),this.keychain=r||new I8t(this.core,this.logger)}get context(){return al(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Eie)}catch{e=wF(),await this.keychain.set(Eie,e)}return k8t(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var P8t=Object.defineProperty,R8t=Object.defineProperties,j8t=Object.getOwnPropertyDescriptors,$ie=Object.getOwnPropertySymbols,O8t=Object.prototype.hasOwnProperty,M8t=Object.prototype.propertyIsEnumerable,IF=(t,e,n)=>e in t?P8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D8t=(t,e)=>{for(var n in e||(e={}))O8t.call(e,n)&&IF(t,n,e[n]);if($ie)for(var n of $ie(e))M8t.call(e,n)&&IF(t,n,e[n]);return t},B8t=(t,e)=>R8t(t,j8t(e)),fl=(t,e,n)=>IF(t,typeof e!="symbol"?e+"":e,n);let L8t=class extends v5t{constructor(e,n){super(e,n),this.logger=e,this.core=n,fl(this,"messages",new Map),fl(this,"messagesWithoutClientAck",new Map),fl(this,"name",I6t),fl(this,"version",T6t),fl(this,"initialized",!1),fl(this,"storagePrefix",Yh),fl(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),fl(this,"set",async(r,i,s)=>{this.isInitialized();const o=Pc(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===V9.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,B8t(D8t({},l),{[o]:i}))}return await this.persist(),o}),fl(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),fl(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),fl(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Pc(i);return typeof s[o]<"u"}),fl(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Pc(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),fl(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ya(e,this.name),this.core=n}get context(){return al(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,aF(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,aF(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?lF(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?lF(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var F8t=Object.defineProperty,U8t=Object.defineProperties,z8t=Object.getOwnPropertyDescriptors,Nie=Object.getOwnPropertySymbols,W8t=Object.prototype.hasOwnProperty,H8t=Object.prototype.propertyIsEnumerable,TF=(t,e,n)=>e in t?F8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ub=(t,e)=>{for(var n in e||(e={}))W8t.call(e,n)&&TF(t,n,e[n]);if(Nie)for(var n of Nie(e))H8t.call(e,n)&&TF(t,n,e[n]);return t},Pie=(t,e)=>U8t(t,z8t(e)),pc=(t,e,n)=>TF(t,typeof e!="symbol"?e+"":e,n);let V8t=class extends x5t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,pc(this,"events",new sc.EventEmitter),pc(this,"name",N6t),pc(this,"queue",new Map),pc(this,"publishTimeout",tt.toMiliseconds(tt.ONE_MINUTE)),pc(this,"initialPublishTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),pc(this,"needsTransportRestart",!1),pc(this,"publish",async(r,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||$6t,f=(s==null?void 0:s.prompt)||!1,p=(s==null?void 0:s.tag)||0,m=(s==null?void 0:s.id)||Om().toString(),g=hv(m7().protocol),y={id:m,method:(s==null?void 0:s.publishMethod)||g.publish,params:ub({topic:r,message:i,ttl:h,prompt:f,tag:p,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},w=`Failed to publish payload, please try again. id:${m} tag:${p}`;try{ys((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),ys((l=y.params)==null?void 0:l.tag)&&((c=y.params)==null||delete c.tag);const v=new Promise(async b=>{const A=({id:$})=>{var N;((N=y.id)==null?void 0:N.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(Ci.publish,A),b())};this.relayer.events.on(Ci.publish,A);const E=Ch(new Promise(($,N)=>{this.rpcPublish(y,s).then($).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),N(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${p}`);try{await E,this.events.removeListener(Ci.publish,A)}catch($){this.queue.set(m,{request:y,opts:s,attempt:1}),this.logger.warn($,$==null?void 0:$.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:r,message:i,opts:s}}),await Ch(v,this.publishTimeout,w)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw v}finally{this.queue.delete(m)}}),pc(this,"publishCustom",async r=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:c,opts:u={}}=r,{attestation:h,tvf:f,publishMethod:p,prompt:m,tag:g,ttl:y=tt.FIVE_MINUTES}=u,w=u.id||Om().toString(),v=hv(m7().protocol),b=p||v.publish,A={id:w,method:b,params:ub(Pie(ub({},c),{ttl:y,prompt:m,tag:g,attestation:h}),f)},E=`Failed to publish custom payload, please try again. id:${w} tag:${g}`;try{ys((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),ys((o=A.params)==null?void 0:o.tag)&&((a=A.params)==null||delete a.tag);const $=new Promise(async N=>{const R=({id:F})=>{var W;((W=A.id)==null?void 0:W.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(Ci.publish,R),N())};this.relayer.events.on(Ci.publish,R);const M=Ch(new Promise((F,W)=>{this.rpcPublish(A,u).then(F).catch(H=>{this.logger.warn(H,H==null?void 0:H.message),W(H)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${w} tag:${g}`);try{await M,this.events.removeListener(Ci.publish,R)}catch(F){this.queue.set(w,{request:A,opts:u,attempt:1}),this.logger.warn(F,F==null?void 0:F.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,payload:c,opts:u}}),await Ch($,this.publishTimeout,E)}catch($){if(this.logger.debug("Failed to Publish Payload"),this.logger.error($),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw $}finally{this.queue.delete(w)}}),pc(this,"on",(r,i)=>{this.events.on(r,i)}),pc(this,"once",(r,i)=>{this.events.once(r,i)}),pc(this,"off",(r,i)=>{this.events.off(r,i)}),pc(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=ya(n,this.name),this.registerEventListeners()}get context(){return al(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Ci.publish,ub(ub({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,Pie(ub({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Nw.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ci.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ci.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var q8t=Object.defineProperty,G8t=(t,e,n)=>e in t?q8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,db=(t,e,n)=>G8t(t,typeof e!="symbol"?e+"":e,n);let K8t=class{constructor(){db(this,"map",new Map),db(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),db(this,"get",e=>this.map.get(e)||[]),db(this,"exists",(e,n)=>this.get(e).includes(n)),db(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),db(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var Y8t=Object.defineProperty,Q8t=Object.defineProperties,Z8t=Object.getOwnPropertyDescriptors,Rie=Object.getOwnPropertySymbols,J8t=Object.prototype.hasOwnProperty,X8t=Object.prototype.propertyIsEnumerable,$F=(t,e,n)=>e in t?Y8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B5=(t,e)=>{for(var n in e||(e={}))J8t.call(e,n)&&$F(t,n,e[n]);if(Rie)for(var n of Rie(e))X8t.call(e,n)&&$F(t,n,e[n]);return t},tO=(t,e)=>Q8t(t,Z8t(e)),pr=(t,e,n)=>$F(t,typeof e!="symbol"?e+"":e,n);let eEt=class extends C5t{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,pr(this,"subscriptions",new Map),pr(this,"topicMap",new K8t),pr(this,"events",new sc.EventEmitter),pr(this,"name",B6t),pr(this,"version",L6t),pr(this,"pending",new Map),pr(this,"cached",[]),pr(this,"initialized",!1),pr(this,"storagePrefix",Yh),pr(this,"subscribeTimeout",tt.toMiliseconds(tt.ONE_MINUTE)),pr(this,"initialSubscribeTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),pr(this,"clientId"),pr(this,"batchSubscribeTopicsLimit",500),pr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),pr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=m7(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const l=await this.rpcSubscribe(r,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),pr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),pr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),pr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),pr(this,"on",(r,i)=>{this.events.on(r,i)}),pr(this,"once",(r,i)=>{this.events.once(r,i)}),pr(this,"off",(r,i)=>{this.events.off(r,i)}),pr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),pr(this,"start",async()=>{await this.onConnect()}),pr(this,"stop",async()=>{await this.onDisconnect()}),pr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),pr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),pr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Nw.pulse,async()=>{await this.checkPending()}),this.events.on(wl.created,async r=>{const i=wl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(wl.deleted,async r=>{const i=wl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=ya(n,this.name),this.clientId=""}get context(){return al(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=m7(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Or("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===jr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:hv(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===jr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},tt.toMiliseconds(tt.ONE_SECOND)),o;const c=new Promise(async h=>{const f=p=>{p.topic===e&&(this.events.removeListener(wl.created,f),h(p.id))};this.events.on(wl.created,f);try{const p=await Ch(new Promise((m,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),g(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(wl.created,f),h(p)}catch{}}),u=await Ch(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ci.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:hv(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ch(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ci.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:hv(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Ch(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ci.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:hv(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,tO(B5({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,B5({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,B5({},n)),this.topicMap.set(n.topic,e),this.events.emit(wl.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(wl.deleted,tO(B5({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(wl.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(wl.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>tO(B5({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await wbt(tt.toMiliseconds(tt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Pc(e+await this.getClientId())}};var tEt=Object.defineProperty,jie=Object.getOwnPropertySymbols,nEt=Object.prototype.hasOwnProperty,rEt=Object.prototype.propertyIsEnumerable,NF=(t,e,n)=>e in t?tEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oie=(t,e)=>{for(var n in e||(e={}))nEt.call(e,n)&&NF(t,n,e[n]);if(jie)for(var n of jie(e))rEt.call(e,n)&&NF(t,n,e[n]);return t},Gn=(t,e,n)=>NF(t,typeof e!="symbol"?e+"":e,n);let iEt=class extends E5t{constructor(e){super(e),Gn(this,"protocol","wc"),Gn(this,"version",2),Gn(this,"core"),Gn(this,"logger"),Gn(this,"events",new sc.EventEmitter),Gn(this,"provider"),Gn(this,"messages"),Gn(this,"subscriber"),Gn(this,"publisher"),Gn(this,"name",R6t),Gn(this,"transportExplicitlyClosed",!1),Gn(this,"initialized",!1),Gn(this,"connectionAttemptInProgress",!1),Gn(this,"relayUrl"),Gn(this,"projectId"),Gn(this,"packageName"),Gn(this,"bundleId"),Gn(this,"hasExperiencedNetworkDisruption",!1),Gn(this,"pingTimeout"),Gn(this,"heartBeatTimeout",tt.toMiliseconds(tt.THIRTY_SECONDS+tt.FIVE_SECONDS)),Gn(this,"reconnectTimeout"),Gn(this,"connectPromise"),Gn(this,"reconnectInProgress",!1),Gn(this,"requestsInFlight",[]),Gn(this,"connectTimeout",tt.toMiliseconds(tt.ONE_SECOND*15)),Gn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Om().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Gn(this,"resetPingTimeout",()=>{d7()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Gn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Gn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Ci.connect)}),Gn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Gn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Ci.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Gn(this,"registerProviderListeners",()=>{this.provider.on(fc.payload,this.onPayloadHandler),this.provider.on(fc.connect,this.onConnectHandler),this.provider.on(fc.disconnect,this.onDisconnectHandler),this.provider.on(fc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ya(e.logger,this.name):KA(D$({level:e.logger||P6t})),this.messages=new L8t(this.logger,e.core),this.subscriber=new eEt(this,this.logger),this.publisher=new V8t(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||g5e,nbt()?this.packageName=fre():rbt()&&(this.bundleId=fre()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return al(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:jr.relay},V9.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(wl.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(wl.created,c)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,Oie({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ch(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await rie())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Zi(tt.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Ci.message,e),await this.recordMessageEvent(e,V9.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(fc.disconnect,s),await Ch(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(fc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(fc.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(fc.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,tt.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(d7())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new du(new v6t(lbt({sdkVersion:kF,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Jq(e)){if(!e.method.endsWith(j6t))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:jr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Oie({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else L$(e)&&this.events.emit(Ci.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,V9.inbound),this.events.emit(Ci.message,e))}async acknowledgePayload(e){const n=eE(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(fc.payload,this.onPayloadHandler),this.provider.off(fc.connect,this.onConnectHandler),this.provider.off(fc.disconnect,this.onDisconnectHandler),this.provider.off(fc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await rie();Qxt(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Nw.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Xxt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ci.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},tt.toMiliseconds(O6t)))))}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function sEt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Mie(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Die(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const oEt="[object RegExp]",aEt="[object String]",lEt="[object Number]",cEt="[object Boolean]",Bie="[object Arguments]",uEt="[object Symbol]",dEt="[object Date]",hEt="[object Map]",fEt="[object Set]",pEt="[object Array]",mEt="[object Function]",gEt="[object ArrayBuffer]",nO="[object Object]",yEt="[object Error]",wEt="[object DataView]",bEt="[object Uint8Array]",vEt="[object Uint8ClampedArray]",xEt="[object Uint16Array]",EEt="[object Uint32Array]",AEt="[object BigUint64Array]",CEt="[object Int8Array]",kEt="[object Int16Array]",_Et="[object Int32Array]",SEt="[object BigInt64Array]",IEt="[object Float32Array]",TEt="[object Float64Array]";function $Et(){}function Lie(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function NEt(t,e,n){return b6(t,e,void 0,void 0,void 0,void 0,n)}function b6(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return l4(t,e,s,o)}return l4(t,e,s,o)}function l4(t,e,n,r){if(Object.is(t,e))return!0;let i=Die(t),s=Die(e);if(i===Bie&&(i=nO),s===Bie&&(s=nO),i!==s)return!1;switch(i){case aEt:return t.toString()===e.toString();case lEt:{const l=t.valueOf(),c=e.valueOf();return sEt(l,c)}case cEt:case dEt:case uEt:return Object.is(t.valueOf(),e.valueOf());case oEt:return t.source===e.source&&t.flags===e.flags;case mEt:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case hEt:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!b6(c,e.get(l),l,t,e,n,r))return!1;return!0}case fEt:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],f=c.findIndex(p=>b6(h,p,void 0,t,e,n,r));if(f===-1)return!1;c.splice(f,1)}return!0}case pEt:case bEt:case vEt:case xEt:case EEt:case AEt:case CEt:case kEt:case _Et:case SEt:case IEt:case TEt:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!b6(t[l],e[l],l,t,e,n,r))return!1;return!0}case gEt:return t.byteLength!==e.byteLength?!1:l4(new Uint8Array(t),new Uint8Array(e),n,r);case wEt:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:l4(new Uint8Array(t),new Uint8Array(e),n,r);case yEt:return t.name===e.name&&t.message===e.message;case nO:{if(!(l4(t.constructor,e.constructor,n,r)||Lie(t)&&Lie(e)))return!1;const l=[...Object.keys(t),...Mie(t)],c=[...Object.keys(e),...Mie(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!b6(f,p,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function PEt(t,e){return NEt(t,e,$Et)}var REt=Object.defineProperty,Fie=Object.getOwnPropertySymbols,jEt=Object.prototype.hasOwnProperty,OEt=Object.prototype.propertyIsEnumerable,PF=(t,e,n)=>e in t?REt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uie=(t,e)=>{for(var n in e||(e={}))jEt.call(e,n)&&PF(t,n,e[n]);if(Fie)for(var n of Fie(e))OEt.call(e,n)&&PF(t,n,e[n]);return t},Ea=(t,e,n)=>PF(t,typeof e!="symbol"?e+"":e,n);let Rw=class extends A5t{constructor(e,n,r,i=Yh,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Ea(this,"map",new Map),Ea(this,"version",M6t),Ea(this,"cached",[]),Ea(this,"initialized",!1),Ea(this,"getKey"),Ea(this,"storagePrefix",Yh),Ea(this,"recentlyDeleted",[]),Ea(this,"recentlyDeletedLimit",200),Ea(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ys(o)?this.map.set(this.getKey(o),o):Sxt(o)?this.map.set(o.id,o):Ixt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ea(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ea(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ea(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>PEt(a[l],o[l]))):this.values)),Ea(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=Uie(Uie({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),Ea(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ya(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return al(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var MEt=Object.defineProperty,DEt=(t,e,n)=>e in t?MEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jn=(t,e,n)=>DEt(t,typeof e!="symbol"?e+"":e,n);let BEt=class{constructor(e,n){this.core=e,this.logger=n,jn(this,"name",F6t),jn(this,"version",U6t),jn(this,"events",new xq),jn(this,"pairings"),jn(this,"initialized",!1),jn(this,"storagePrefix",Yh),jn(this,"ignoredPayloadTypes",[vp]),jn(this,"registeredMethods",[]),jn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),jn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),jn(this,"create",async r=>{this.isInitialized();const i=wF(),s=await this.core.crypto.setSymKey(i),o=Zi(tt.FIVE_MINUTES),a={protocol:m5e},l={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},c=Kre({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(ry.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:c}}),jn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Kd.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=Gre(r.uri);i.props.properties.topic=s,i.addTrace(Kd.pairing_uri_validation_success),i.addTrace(Kd.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Kd.existing_pairing),u.active)throw i.setError(If.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Kd.pairing_not_expired)}const h=l||Zi(tt.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(Kd.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(ry.create,f),i.addTrace(Kd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Kd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(If.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(If.subscribe_pairing_topic_failure),p}return i.addTrace(Kd.subscribe_pairing_topic_success),f}),jn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Zi(tt.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),jn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=Zg();this.events.once(nr("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),jn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),jn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),jn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),jn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Or("USER_DISCONNECTED")),await this.deletePairing(i))}),jn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,l=this.core.crypto.keychain.get(i);return Kre({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),jn(this,"sendRequest",async(r,i,s)=>{const o=mh(i,s),a=await this.core.crypto.encode(r,o),l=O5[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,l),o.id}),jn(this,"sendResult",async(r,i,s)=>{const o=eE(r,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,r)).request.method,c=O5[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),jn(this,"sendError",async(r,i,s)=>{const o=B$(r,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,r)).request.method,c=O5[l]?O5[l].res:O5.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),jn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Or("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),jn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>q0(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),jn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),jn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),jn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(ry.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),jn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{Jd(i)?this.events.emit(nr("pairing_ping",s),{}):Rc(i)&&this.events.emit(nr("pairing_ping",s),{error:i.error})},500)}),jn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ry.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),jn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Or("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),jn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Or("WC_METHOD_UNSUPPORTED",r))}),jn(this,"isValidPair",(r,i)=>{var s;if(!ka(r)){const{message:a}=it("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(If.malformed_pairing_uri),new Error(a)}if(!_xt(r.uri)){const{message:a}=it("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(If.malformed_pairing_uri),new Error(a)}const o=Gre(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(If.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=it("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(If.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&tt.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(If.pairing_expired);const{message:a}=it("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),jn(this,"isValidPing",async r=>{if(!ka(r)){const{message:s}=it("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),jn(this,"isValidDisconnect",async r=>{if(!ka(r)){const{message:s}=it("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),jn(this,"isValidPairingTopic",async r=>{if(!zi(r,!1)){const{message:i}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(q0(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=it("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=ya(n,this.name),this.pairings=new Rw(this.core,this.logger,this.name,this.storagePrefix)}get context(){return al(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ci.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==jr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);Jq(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):L$(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ec.expired,async e=>{const{topic:n}=l3e(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ry.expire,{topic:n}))})}};var LEt=Object.defineProperty,FEt=(t,e,n)=>e in t?LEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ss=(t,e,n)=>FEt(t,typeof e!="symbol"?e+"":e,n);let UEt=class extends b5t{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ss(this,"records",new Map),Ss(this,"events",new sc.EventEmitter),Ss(this,"name",z6t),Ss(this,"version",W6t),Ss(this,"cached",[]),Ss(this,"initialized",!1),Ss(this,"storagePrefix",Yh),Ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ss(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Zi(tt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(bu.created,o)}),Ss(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Rc(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(bu.updated,i))}),Ss(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ss(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(bu.deleted,s)}}),this.persist()}),Ss(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ss(this,"on",(r,i)=>{this.events.on(r,i)}),Ss(this,"once",(r,i)=>{this.events.once(r,i)}),Ss(this,"off",(r,i)=>{this.events.off(r,i)}),Ss(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ya(n,this.name)}get context(){return al(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:mh(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(bu.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(bu.created,e=>{const n=bu.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(bu.updated,e=>{const n=bu.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(bu.deleted,e=>{const n=bu.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Nw.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{tt.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(bu.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var zEt=Object.defineProperty,WEt=(t,e,n)=>e in t?zEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fo=(t,e,n)=>WEt(t,typeof e!="symbol"?e+"":e,n);let HEt=class extends k5t{constructor(e,n){super(e,n),this.core=e,this.logger=n,fo(this,"expirations",new Map),fo(this,"events",new sc.EventEmitter),fo(this,"name",H6t),fo(this,"version",V6t),fo(this,"cached",[]),fo(this,"initialized",!1),fo(this,"storagePrefix",Yh),fo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),fo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),fo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ec.created,{target:s,expiration:o})}),fo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),fo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ec.deleted,{target:i,expiration:s})}}),fo(this,"on",(r,i)=>{this.events.on(r,i)}),fo(this,"once",(r,i)=>{this.events.once(r,i)}),fo(this,"off",(r,i)=>{this.events.off(r,i)}),fo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ya(n,this.name)}get context(){return al(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cbt(e);if(typeof e=="number")return ubt(e);const{message:n}=it("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ec.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=it("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=it("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;tt.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ec.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Nw.pulse,()=>this.checkExpirations()),this.events.on(Ec.created,e=>{const n=Ec.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ec.expired,e=>{const n=Ec.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Ec.deleted,e=>{const n=Ec.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}};var VEt=Object.defineProperty,qEt=(t,e,n)=>e in t?VEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ji=(t,e,n)=>qEt(t,typeof e!="symbol"?e+"":e,n);let GEt=class extends _5t{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,ji(this,"name",q6t),ji(this,"abortController"),ji(this,"isDevEnv"),ji(this,"verifyUrlV3",K6t),ji(this,"storagePrefix",Yh),ji(this,"version",p5e),ji(this,"publicKey"),ji(this,"fetchPromise"),ji(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&tt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ji(this,"register",async i=>{if(!L3()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=G1(),u=this.startAbortTimer(tt.ONE_SECOND*5),h=await new Promise((f,p)=>{const m=()=>{window.removeEventListener("message",y),c.body.removeChild(g),p("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=c.createElement("iframe");g.src=l,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(sF(v.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",y),f(v.attestation===null?"":v.attestation)}}catch(v){this.logger.warn(v)}};c.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""}),ji(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(sF(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,l)}),ji(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(tt.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),ji(this,"getVerifyUrl",i=>{let s=i||a4;return Y6t.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${a4}`),s=a4),s}),ji(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(tt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),ji(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),ji(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ji(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),ji(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ji(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),ji(this,"validateAttestation",(i,s)=>{const o=sxt(i,s.publicKey),a={hasExpired:tt.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ya(n,this.name),this.abortController=new AbortController,this.isDevEnv=Mq(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return al(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),tt.toMiliseconds(e))}};var KEt=Object.defineProperty,YEt=(t,e,n)=>e in t?KEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zie=(t,e,n)=>YEt(t,typeof e!="symbol"?e+"":e,n);let QEt=class extends S5t{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,zie(this,"context",Q6t),zie(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,l=`${Z6t}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ya(n,this.context)}};var ZEt=Object.defineProperty,Wie=Object.getOwnPropertySymbols,JEt=Object.prototype.hasOwnProperty,XEt=Object.prototype.propertyIsEnumerable,RF=(t,e,n)=>e in t?ZEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L5=(t,e)=>{for(var n in e||(e={}))JEt.call(e,n)&&RF(t,n,e[n]);if(Wie)for(var n of Wie(e))XEt.call(e,n)&&RF(t,n,e[n]);return t},ls=(t,e,n)=>RF(t,typeof e!="symbol"?e+"":e,n);let eAt=class extends I5t{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ls(this,"context",X6t),ls(this,"storagePrefix",Yh),ls(this,"storageVersion",J6t),ls(this,"events",new Map),ls(this,"shouldPersist",!1),ls(this,"init",async()=>{if(!Mq())try{const i={eventId:mre(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:o3e(this.core.relayer.protocol,this.core.relayer.version,kF)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ls(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=mre(),u=this.core.projectId||"",h=Date.now(),f=L5({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,f),this.shouldPersist=!0),f}),ls(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return L5(L5({},a),this.setMethods(a.eventId))}),ls(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ls(this,"setEventListeners",()=>{this.core.heartbeat.on(Nw.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{tt.fromMiliseconds(Date.now())-tt.fromMiliseconds(i.timestamp)>e4t&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ls(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ls(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ls(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ls(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ls(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,L5(L5({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ls(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ls(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${t4t}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${kF}${s}`,{method:"POST",body:JSON.stringify(i)})}),ls(this,"getAppDomain",()=>s3e().url),this.logger=ya(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var tAt=Object.defineProperty,Hie=Object.getOwnPropertySymbols,nAt=Object.prototype.hasOwnProperty,rAt=Object.prototype.propertyIsEnumerable,jF=(t,e,n)=>e in t?tAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vie=(t,e)=>{for(var n in e||(e={}))nAt.call(e,n)&&jF(t,n,e[n]);if(Hie)for(var n of Hie(e))rAt.call(e,n)&&jF(t,n,e[n]);return t},br=(t,e,n)=>jF(t,typeof e!="symbol"?e+"":e,n);let iAt=class T5e extends m5t{constructor(e){var n;super(e),br(this,"protocol",f5e),br(this,"version",p5e),br(this,"name",b7),br(this,"relayUrl"),br(this,"projectId"),br(this,"customStoragePrefix"),br(this,"events",new sc.EventEmitter),br(this,"logger"),br(this,"heartbeat"),br(this,"relayer"),br(this,"crypto"),br(this,"storage"),br(this,"history"),br(this,"expirer"),br(this,"pairing"),br(this,"verify"),br(this,"echoClient"),br(this,"linkModeSupportedApps"),br(this,"eventClient"),br(this,"initialized",!1),br(this,"logChunkController"),br(this,"on",(a,l)=>this.events.on(a,l)),br(this,"once",(a,l)=>this.events.once(a,l)),br(this,"off",(a,l)=>this.events.off(a,l)),br(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),br(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:jr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||g5e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=D$({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:E6t.logger,name:b7}),{logger:s,chunkLoggerController:o}=h5t({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ya(s,this.name),this.heartbeat=new c3t,this.crypto=new N8t(this,this.logger,e==null?void 0:e.keychain),this.history=new UEt(this,this.logger),this.expirer=new HEt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new B3t(Vie(Vie({},A6t),e==null?void 0:e.storageOptions)),this.relayer=new iEt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new BEt(this,this.logger),this.verify=new GEt(this,this.logger,this.storage),this.echoClient=new QEt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new eAt(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new T5e(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(D6t,r),n}get context(){return al(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Aie,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Aie)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&x6t.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const sAt=iAt,$5e="wc",N5e=2,P5e="client",Xq=`${$5e}@${N5e}:${P5e}:`,rO={name:P5e,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},qie="WALLETCONNECT_DEEPLINK_CHOICE",oAt="proposal",Gie="Proposal expired",aAt="session",hb=tt.SEVEN_DAYS,lAt="engine",Is={wc_sessionPropose:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:tt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:tt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:tt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:tt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:tt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:tt.FIVE_MINUTES,prompt:!1,tag:1119}}},iO={min:tt.FIVE_MINUTES,max:tt.SEVEN_DAYS},Bd={idle:"IDLE",active:"ACTIVE"},cAt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},uAt="request",dAt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],hAt="wc",fAt="auth",pAt="authKeys",mAt="pairingTopics",gAt="requests",U$=`${hAt}@${1.5}:${fAt}:`,q9=`${U$}:PUB_KEY`;var yAt=Object.defineProperty,wAt=Object.defineProperties,bAt=Object.getOwnPropertyDescriptors,Kie=Object.getOwnPropertySymbols,vAt=Object.prototype.hasOwnProperty,xAt=Object.prototype.propertyIsEnumerable,OF=(t,e,n)=>e in t?yAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ir=(t,e)=>{for(var n in e||(e={}))vAt.call(e,n)&&OF(t,n,e[n]);if(Kie)for(var n of Kie(e))xAt.call(e,n)&&OF(t,n,e[n]);return t},po=(t,e)=>wAt(t,bAt(e)),He=(t,e,n)=>OF(t,typeof e!="symbol"?e+"":e,n);let EAt=class extends P5t{constructor(e){super(e),He(this,"name",lAt),He(this,"events",new xq),He(this,"initialized",!1),He(this,"requestQueue",{state:Bd.idle,queue:[]}),He(this,"sessionRequestQueue",{state:Bd.idle,queue:[]}),He(this,"emittedSessionRequests",new bbt({limit:500})),He(this,"requestQueueDelay",tt.ONE_SECOND),He(this,"expectedPairingMethodMap",new Map),He(this,"recentlyDeletedMap",new Map),He(this,"recentlyDeletedLimit",200),He(this,"relayMessageCache",[]),He(this,"pendingSessions",new Map),He(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Is)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},tt.toMiliseconds(this.requestQueueDelay)))}),He(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=po(ir({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=xxt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=r;let u=i,h,f=!1;try{if(u){const $=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=$.active}}catch($){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),$}if(!u||!f){const{topic:$,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=$,h=N}if(!u){const{message:$}=it("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error($)}const p=await this.client.core.crypto.generateKeyPair(),m=Is.wc_sessionPropose.req.ttl||tt.FIVE_MINUTES,g=Zi(m),y=po(ir(ir({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:m5e}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:Zd()}),w=nr("session_connect",y.id),{reject:v,resolve:b,done:A}=Zg(m,Gie),E=({id:$})=>{$===y.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:Gie,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(w,({error:$,session:N})=>{this.client.events.off("proposal_expire",E),$?v($):N&&b(N)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:h,approval:A}}),He(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),He(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[k0.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(M){throw o.setError(M5.no_internet_connection),M}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(M){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(M5.proposal_not_found),M}try{await this.isValidApprove(n)}catch(M){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(M5.session_approve_namespace_validation_failure),M}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=p;let v=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});v||(v=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:k0.session_approve_started,properties:{topic:m,trace:[k0.session_approve_started,k0.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),A=g.publicKey,E=await this.client.core.crypto.generateSharedKey(b,A),$=ir(ir(ir({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:b,metadata:this.client.metadata},expiry:Zi(hb)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),N=jr.relay;v.addTrace(k0.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:N,internal:{skipSubscribe:!0}})}catch(M){throw v.setError(M5.subscribe_session_topic_failure),M}v.addTrace(k0.subscribe_session_topic_success);const R=po(ir({},$),{topic:E,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:$.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:b,transportType:jr.relay});await this.client.session.set(E,R),v.addTrace(k0.store_session);try{await this.sendApproveSession({sessionTopic:E,proposal:p,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:b},sessionSettleRequest:$,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),v.addTrace(k0.session_approve_publish_success)}catch(M){throw this.client.logger.error(M),this.client.session.delete(E,Or("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),M}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(E,Zi(hb)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),He(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Is.wc_sessionPropose.reject}),await this.deleteProposal(r)}),He(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Zg(),l=Zd(),c=Om().toString(),u=this.client.session.get(r).namespaces;return this.events.once(nr("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:u}),a(h)}),{acknowledged:s}}),He(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=Zd(),{done:s,resolve:o,reject:a}=Zg();return this.events.once(nr("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(r,Zi(hb)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),He(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:o=Is.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===jr.relay&&await this.confirmOnlineStateOrThrow();const l=Zd(),c=Om().toString(),{done:u,resolve:h,reject:f}=Zg(o,"Request expired. Please try again.");this.events.once(nr("session_request",l),({error:y,result:w})=>{y?f(y):h(w)});const p="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:po(ir({},i),{expiryTimestamp:Zi(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),await u();const g={request:po(ir({},i),{expiryTimestamp:Zi(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,g)}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const v=await pbt(this.client.core.storage,qie);await dbt({id:l,topic:s,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),He(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Jd(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Rc(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),He(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Zd(),s=Om().toString(),{done:o,resolve:a,reject:l}=Zg();this.events.once(nr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),He(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Om().toString(),a=Zd();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),He(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Or("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=it("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),He(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Cxt(r,n)))),He(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),He(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?jr.link_mode:jr.relay;o===jr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:h,type:f,exp:p,nbf:m,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});const A=await this.client.core.crypto.generateKeyPair(),E=z9(A);if(await Promise.all([this.client.auth.authKeys.set(q9,{responseTopic:E,publicKey:A}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:v})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),g.length>0){const{namespace:P}=g1(a[0]);let D=$vt(P,"request",g);U9(w)&&(D=Pvt(D,w.pop())),w.push(D)}const $=y&&y>Is.wc_sessionAuthenticate.req.ttl?y:Is.wc_sessionAuthenticate.req.ttl,N={authPayload:{type:f??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:m,resources:w},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Zi($)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Zi(Is.wc_sessionPropose.req.ttl),id:Zd()},{done:F,resolve:W,reject:H}=Zg($,"Request expired"),L=Zd(),k=nr("session_connect",M.id),C=nr("session_request",L),_=async({error:P,session:D})=>{this.events.off(C,T),P?H(P):D&&W({session:D})},T=async P=>{var D,O,I;if(await this.deletePendingAuthRequest(L,{message:"fulfilled",code:0}),P.error){const oe=Or("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===oe.code?void 0:(this.events.off(k,_),H(P.error.message))}await this.deleteProposal(M.id),this.events.off(k,_);const{cacaos:B,responder:Q}=P.result,j=[],Y=[];for(const oe of B){await _re({cacao:oe,projectId:this.client.core.projectId})||(this.client.logger.error(oe,"Signature verification failed"),H(Or("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:de}=oe,ce=U9(de.resources),he=[cF(de.iss)],be=h7(de.iss);if(ce){const fe=Sre(ce),ke=Ire(ce);j.push(...fe),he.push(...ke)}for(const fe of he)Y.push(`${fe}:${be}`)}const ee=await this.client.core.crypto.generateSharedKey(A,Q.publicKey);let Z;j.length>0&&(Z={topic:ee,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:Zi(hb),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:Jre([...new Set(j)],[...new Set(Y)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,Z),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:Q.metadata}),Z=this.client.session.get(ee)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(O=Q.metadata.redirect)!=null&&O.linkMode&&(I=Q.metadata.redirect)!=null&&I.universal&&r&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(ee,{transportType:jr.link_mode})),W({auths:B,session:Z})};this.events.once(k,_),this.events.once(C,T);let S;try{if(s){const P=mh("wc_sessionAuthenticate",N,L);this.client.core.history.set(v,P);const D=await this.client.core.crypto.encode("",P,{type:qA,encoding:rm});S=kk(r,v,D)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:N,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:L}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:M,expiry:Is.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(P){throw this.events.off(k,_),this.events.off(C,T),P}return await this.setProposal(M.id,M),await this.setAuthRequest(L,{request:po(ir({},N),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:S??b,response:F}}),He(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[zg.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(D5.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(D5.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||jr.relay;a===jr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=z9(l),h={type:vp,receiverPublicKey:l,senderPublicKey:c},f=[],p=[];for(const y of i){if(!await _re({cacao:y,projectId:this.client.core.projectId})){s.setError(D5.invalid_cacao);const E=Or("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:h}),new Error(E.message)}s.addTrace(zg.cacaos_verified);const{p:w}=y,v=U9(w.resources),b=[cF(w.iss)],A=h7(w.iss);if(v){const E=Sre(v),$=Ire(v);f.push(...E),b.push(...$)}for(const E of b)p.push(`${E}:${A}`)}const m=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(zg.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:m,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:Zi(hb),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:Jre([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(zg.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(y){throw s.setError(D5.subscribe_authenticated_session_topic_failure),y}s.addTrace(zg.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(zg.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(zg.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(D5.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),He(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=z9(o),c={type:vp,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:l,error:i,encodeOpts:c,rpcOpts:Is.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),He(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return A3e(r,i)}),He(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),He(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),He(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Or("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(qie).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Or("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Bd.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),He(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(M5.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Or("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),He(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Bd.idle,this.client.events.emit("session_request_expire",{id:n}))}),He(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),He(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),He(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Zi(Is.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),He(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=jr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),He(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Zi(Is.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),He(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:h,publishOpts:f={}}=n,p=mh(i,s,l);let m;const g=!!u;try{const v=g?rm:Pa;m=await this.client.core.crypto.encode(r,p,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),v}let y;if(dAt.includes(i)){const v=Pc(JSON.stringify(p)),b=Pc(m);y=await this.client.core.verify.register({id:b,decryptedId:v})}const w=ir(ir({},Is[i].req),f);if(w.attestation=y,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,p),g){const v=kk(u,r,m);await globalThis.Linking.openURL(v,this.client.name)}else w.tvf=po(ir({},h),{correlationId:p.id}),c?(w.internal=po(ir({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,w)):this.client.core.relayer.publish(r,m,w).catch(v=>this.client.logger.error(v));return p.id}),He(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=mh("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Pa}),a=Pc(JSON.stringify(s)),l=Pc(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:po(ir({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),He(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,l=eE(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Pa}),u=mh("wc_sessionSettle",o,a==null?void 0:a.id),h=await this.client.core.crypto.encode(r,u,{encoding:Pa});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:h},opts:po(ir({},a),{publishMethod:"wc_approveSession"})})}),He(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=n,c=eE(r,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const m=h?rm:Pa;u=await this.client.core.crypto.encode(i,c,po(ir({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let f,p;try{f=await this.client.core.history.get(i,r);const m=f.request;try{p=this.getTVFParams(r,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),m}if(h){const m=kk(l,i,u);await globalThis.Linking.openURL(m,this.client.name)}else{const m=f.request.method,g=Is[m].res;g.tvf=po(ir({},p),{correlationId:r}),o?(g.internal=po(ir({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(c)}),He(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=n,c=B$(r,s);let u;const h=l&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const p=h?rm:Pa;u=await this.client.core.crypto.encode(i,c,po(ir({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,r)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),p}if(h){const p=kk(l,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=f.request.method,m=a||Is[p].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(c)}),He(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;q0(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{q0(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),He(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),He(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),He(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Bd.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Bd.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Bd.idle}),He(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),He(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),He(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=it("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),He(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),He(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(If.proposal_listener_not_found)),this.isValidConnect(ir({},i.params));const u=a.expiryTimestamp||Zi(Is.wc_sessionPropose.req.ttl),h=ir({id:l,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const f=await this.getVerifyContext({attestationId:s,hash:Pc(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});c==null||c.addTrace(Kd.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:f})}catch(c){await this.sendError({id:l,topic:r,error:c,rpcOpts:Is.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),He(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(Jd(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(Rc(r)){await this.deleteProposal(s);const o=nr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),He(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r.params,p=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!p)return this.client.logger.error(`Pending session not found for topic ${n}`);const m=this.client.proposal.get(p.proposalId),g=po(ir(ir(ir({topic:n,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:jr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(nr("session_connect",p.proposalId),{session:g}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),He(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Jd(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(nr("session_approve",i),{})):Rc(r)&&(await this.client.session.delete(n,Or("USER_DISCONNECTED")),this.events.emit(nr("session_approve",i),{error:r.error}))}),He(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=j5.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Or("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ir({topic:n},i));try{j5.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(l){throw j5.delete(o),l}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),He(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),He(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=nr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Jd(r)?this.events.emit(nr("session_update",i),{}):Rc(r)&&this.events.emit(nr("session_update",i),{error:r.error})}),He(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Zi(hb)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),He(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=nr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Jd(r)?this.events.emit(nr("session_extend",i),{}):Rc(r)&&this.events.emit(nr("session_extend",i),{error:r.error})}),He(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),He(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=nr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Jd(r)?this.events.emit(nr("session_ping",i),{}):Rc(r)&&this.events.emit(nr("session_ping",i),{error:r.error})},500)}),He(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Ci.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Or("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),He(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=n,{id:h,params:f}=a;try{await this.isValidRequest(ir({topic:o},f));const p=this.client.session.get(o),m=await this.getVerifyContext({attestationId:l,hash:Pc(JSON.stringify(mh("wc_sessionRequest",f,h))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),g={id:h,topic:o,params:f,verifyContext:m};await this.setPendingSessionRequest(g),u===jr.link_mode&&(r=p.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),He(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=nr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Jd(r)?this.events.emit(nr("session_request",i),{result:r.result}):Rc(r)&&this.events.emit(nr("session_request",i),{error:r.error})}),He(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=j5.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ir({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),j5.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),He(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Jd(r)?this.events.emit(nr("session_request",i),{result:r.result}):Rc(r)&&this.events.emit(nr("session_request",i),{error:r.error})}),He(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=n;try{const{requester:c,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Pc(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===jr.link_mode&&(r=c.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:vp,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:Is.wc_sessionAuthenticate.autoReject,appLink:f})}}),He(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),He(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Bd.idle,this.processSessionRequestQueue()},tt.toMiliseconds(this.requestQueueDelay))}),He(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=nr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(nr("session_request",s.request.id),{error:r})})}),He(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Bd.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),He(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Bd.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),He(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:mh("wc_sessionPropose",po(ir({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),He(this,"isValidConnect",async n=>{if(!ka(n)){const{message:c}=it("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(c)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=n;if(ys(r)||await this.isValidPairingTopic(r),!Mxt(l)){const{message:c}=it("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!ys(i)&&Fh(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!ys(s)&&Fh(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),ys(o)||this.validateSessionProps(o,"sessionProperties"),!ys(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),He(this,"validateNamespaces",(n,r)=>{const i=Oxt(n,"connect()",r);if(i)throw new Error(i.message)}),He(this,"isValidApprove",async n=>{if(!ka(n))throw new Error(it("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),c=Yj(i,"approve()");if(c)throw new Error(c.message);const u=tie(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!zi(s,!0)){const{message:h}=it("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(ys(o)||this.validateSessionProps(o,"sessionProperties"),!ys(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),He(this,"isValidReject",async n=>{if(!ka(n)){const{message:s}=it("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Bxt(i)){const{message:s}=it("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),He(this,"isValidSessionSettleRequest",n=>{if(!ka(n)){const{message:c}=it("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(c)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!e5e(r)){const{message:c}=it("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=Txt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=Yj(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(q0(o)){const{message:c}=it("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),He(this,"isValidUpdate",async n=>{if(!ka(n)){const{message:l}=it("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=Yj(i,"update()");if(o)throw new Error(o.message);const a=tie(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),He(this,"isValidExtend",async n=>{if(!ka(n)){const{message:i}=it("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),He(this,"isValidRequest",async n=>{if(!ka(n)){const{message:l}=it("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!eie(a,s)){const{message:l}=it("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!Lxt(i)){const{message:l}=it("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!zxt(a,s,i.method)){const{message:l}=it("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!qxt(o,iO)){const{message:l}=it("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${iO.min} and ${iO.max}`);throw new Error(l)}}),He(this,"isValidRespond",async n=>{var r;if(!ka(n)){const{message:o}=it("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Fxt(s)){const{message:o}=it("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),He(this,"isValidPing",async n=>{if(!ka(n)){const{message:i}=it("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),He(this,"isValidEmit",async n=>{if(!ka(n)){const{message:a}=it("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!eie(o,s)){const{message:a}=it("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Uxt(i)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Wxt(o,s,i.name)){const{message:a}=it("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),He(this,"isValidDisconnect",async n=>{if(!ka(n)){const{message:i}=it("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),He(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!zi(i,!1))throw new Error("uri is required parameter");if(!zi(s,!1))throw new Error("domain is required parameter");if(!zi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>g1(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=g1(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),He(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,l={verified:{verifyUrl:o.verifyUrl||a4,validation:"UNKNOWN",origin:o.url||""}};try{if(a===jr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),He(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=it("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),He(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),He(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),He(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=it("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),He(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,l,c,u,h,f;return!n||r!==jr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"}),He(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),He(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=pre(n,"topic")||"",i=decodeURIComponent(pre(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:jr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),He(this,"registerLinkModeListeners",async()=>{var n;if(Mq()||Ig()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis==null?void 0:globalThis.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),He(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const c=this.extractTxHashesFromResult(r.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),He(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),He(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=cAt[s];if(s==="sui_signTransaction")return[pvt(r.transactionBytes)];if(s==="near_signTransaction")return[Ere(r)];if(s==="near_signTransactions")return r.map(l=>Ere(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[a3t({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return qc(r)?r.map(l=>Are(l)):[Are(r)];if(s==="cosmos_signDirect")return[gvt(r)];if(typeof r=="string")return[r];const a=r[o.key];if(qc(a))return s==="solana_signAllTransactions"?a.map(l=>fvt(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=it("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ci.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(q9)?this.client.auth.authKeys.get(q9):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===jr.link_mode?rm:Pa});Jq(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Pc(r)})):L$(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ec.expired,async e=>{const{topic:n,id:r}=l3e(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,it("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,it("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ry.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ry.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!zi(e,!1)){const{message:n}=it("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(q0(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=it("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!zi(e,!1)){const{message:n}=it("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(q0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=it("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=it("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(zi(e,!1)){const{message:n}=it("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=it("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Dxt(e)){const{message:n}=it("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=it("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(q0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=it("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},AAt=class extends Rw{constructor(e,n){super(e,n,oAt,Xq),this.core=e,this.logger=n}},CAt=class extends Rw{constructor(e,n){super(e,n,aAt,Xq),this.core=e,this.logger=n}},kAt=class extends Rw{constructor(e,n){super(e,n,uAt,Xq,r=>r.id),this.core=e,this.logger=n}},_At=class extends Rw{constructor(e,n){super(e,n,pAt,U$,()=>q9),this.core=e,this.logger=n}},SAt=class extends Rw{constructor(e,n){super(e,n,mAt,U$),this.core=e,this.logger=n}},IAt=class extends Rw{constructor(e,n){super(e,n,gAt,U$,r=>r.id),this.core=e,this.logger=n}};var TAt=Object.defineProperty,$At=(t,e,n)=>e in t?TAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sO=(t,e,n)=>$At(t,typeof e!="symbol"?e+"":e,n);let NAt=class{constructor(e,n){this.core=e,this.logger=n,sO(this,"authKeys"),sO(this,"pairingTopics"),sO(this,"requests"),this.authKeys=new _At(this.core,this.logger),this.pairingTopics=new SAt(this.core,this.logger),this.requests=new IAt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var PAt=Object.defineProperty,RAt=(t,e,n)=>e in t?PAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>RAt(t,typeof e!="symbol"?e+"":e,n);let jAt=class R5e extends N5t{constructor(e){super(e),On(this,"protocol",$5e),On(this,"version",N5e),On(this,"name",rO.name),On(this,"metadata"),On(this,"core"),On(this,"logger"),On(this,"events",new sc.EventEmitter),On(this,"engine"),On(this,"session"),On(this,"proposal"),On(this,"pendingRequest"),On(this,"auth"),On(this,"signConfig"),On(this,"on",(r,i)=>this.events.on(r,i)),On(this,"once",(r,i)=>this.events.once(r,i)),On(this,"off",(r,i)=>this.events.off(r,i)),On(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),On(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),On(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),On(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),On(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),On(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||rO.name,this.metadata=sbt(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:KA(D$({level:(e==null?void 0:e.logger)||rO.logger}));this.core=(e==null?void 0:e.core)||new sAt(e),this.logger=ya(n,this.name),this.session=new CAt(this.core,this.logger),this.proposal=new AAt(this.core,this.logger),this.pendingRequest=new kAt(this.core,this.logger),this.engine=new EAt(this),this.auth=new NAt(this.core,this.logger)}static async init(e){const n=new R5e(e);return await n.initialize(),n}get context(){return al(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var MF={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(C){return C&&u.indexOf(Object.prototype.toString.call(C))>-1};function f(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function p(C){return typeof C!="string"&&(C=String(C)),C}function m(C){var _={next:function(){var T=C.shift();return{done:T===void 0,value:T}}};return l.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(C){this.map={},C instanceof g?C.forEach(function(_,T){this.append(T,_)},this):Array.isArray(C)?C.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(_){this.append(_,C[_])},this)}g.prototype.append=function(C,_){C=f(C),_=p(_);var T=this.map[C];this.map[C]=T?T+", "+_:_},g.prototype.delete=function(C){delete this.map[f(C)]},g.prototype.get=function(C){return C=f(C),this.has(C)?this.map[C]:null},g.prototype.has=function(C){return this.map.hasOwnProperty(f(C))},g.prototype.set=function(C,_){this.map[f(C)]=p(_)},g.prototype.forEach=function(C,_){for(var T in this.map)this.map.hasOwnProperty(T)&&C.call(_,this.map[T],T,this)},g.prototype.keys=function(){var C=[];return this.forEach(function(_,T){C.push(T)}),m(C)},g.prototype.values=function(){var C=[];return this.forEach(function(_){C.push(_)}),m(C)},g.prototype.entries=function(){var C=[];return this.forEach(function(_,T){C.push([T,_])}),m(C)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function w(C){return new Promise(function(_,T){C.onload=function(){_(C.result)},C.onerror=function(){T(C.error)}})}function v(C){var _=new FileReader,T=w(_);return _.readAsArrayBuffer(C),T}function b(C){var _=new FileReader,T=w(_),S=/charset=([A-Za-z0-9_-]+)/.exec(C.type),P=S?S[1]:"utf-8";return _.readAsText(C,P),T}function A(C){for(var _=new Uint8Array(C),T=new Array(_.length),S=0;S<_.length;S++)T[S]=String.fromCharCode(_[S]);return T.join("")}function E(C){if(C.slice)return C.slice(0);var _=new Uint8Array(C.byteLength);return _.set(new Uint8Array(C)),_.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=E(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||h(C))?this._bodyArrayBuffer=E(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=y(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(C){var _=C.toUpperCase();return N.indexOf(_)>-1?_:C}function M(C,_){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var T=_.body;if(C instanceof M){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,_.headers||(this.headers=new g(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!T&&C._bodyInit!=null&&(T=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=R(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var S=/([?&])_=[^&]*/;if(S.test(this.url))this.url=this.url.replace(S,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function F(C){var _=new FormData;return C.trim().split("&").forEach(function(T){if(T){var S=T.split("="),P=S.shift().replace(/\+/g," "),D=S.join("=").replace(/\+/g," ");_.append(decodeURIComponent(P),decodeURIComponent(D))}}),_}function W(C){var _=new g,T=C.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(S){return S.indexOf(`
`)===0?S.substr(1,S.length):S}).forEach(function(S){var P=S.split(":"),D=P.shift().trim();if(D){var O=P.join(":").trim();try{_.append(D,O)}catch(I){console.warn("Response "+I.message)}}}),_}$.call(M.prototype);function H(C,_){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new g(_.headers),this.url=_.url||"",this._initBody(C)}$.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},H.error=function(){var C=new H(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var L=[301,302,303,307,308];H.redirect=function(C,_){if(L.indexOf(_)===-1)throw new RangeError("Invalid status code");return new H(null,{status:_,headers:{location:C}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,T){this.message=_,this.name=T;var S=Error(_);this.stack=S.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function k(C,_){return new Promise(function(T,S){var P=new M(C,_);if(P.signal&&P.signal.aborted)return S(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function O(){D.abort()}D.onload=function(){var Q={statusText:D.statusText,headers:W(D.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(D.status<200||D.status>599)?Q.status=200:Q.status=D.status,Q.url="responseURL"in D?D.responseURL:Q.headers.get("X-Request-URL");var j="response"in D?D.response:D.responseText;setTimeout(function(){T(new H(j,Q))},0)},D.onerror=function(){setTimeout(function(){S(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){S(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){S(new o.DOMException("Aborted","AbortError"))},0)};function I(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}if(D.open(P.method,I(P.url),!0),P.credentials==="include"?D.withCredentials=!0:P.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(l.blob?D.responseType="blob":l.arrayBuffer&&(D.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof g||a.Headers&&_.headers instanceof a.Headers)){var B=[];Object.getOwnPropertyNames(_.headers).forEach(function(Q){B.push(f(Q)),D.setRequestHeader(Q,p(_.headers[Q]))}),P.headers.forEach(function(Q,j){B.indexOf(j)===-1&&D.setRequestHeader(j,Q)})}else P.headers.forEach(function(Q,j){D.setRequestHeader(j,Q)});P.signal&&(P.signal.addEventListener("abort",O),D.onreadystatechange=function(){D.readyState===4&&P.signal.removeEventListener("abort",O)}),D.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return k.polyfill=!0,a.fetch||(a.fetch=k,a.Headers=g,a.Request=M,a.Response=H),o.Headers=g,o.Request=M,o.Response=H,o.fetch=k,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(MF,MF.exports);var OAt=MF.exports;const Yie=Gs(OAt);var MAt=Object.defineProperty,DAt=Object.defineProperties,BAt=Object.getOwnPropertyDescriptors,Qie=Object.getOwnPropertySymbols,LAt=Object.prototype.hasOwnProperty,FAt=Object.prototype.propertyIsEnumerable,Zie=(t,e,n)=>e in t?MAt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jie=(t,e)=>{for(var n in e||(e={}))LAt.call(e,n)&&Zie(t,n,e[n]);if(Qie)for(var n of Qie(e))FAt.call(e,n)&&Zie(t,n,e[n]);return t},Xie=(t,e)=>DAt(t,BAt(e));const UAt={Accept:"application/json","Content-Type":"application/json"},zAt="POST",ese={headers:UAt,method:zAt},tse=10;let kd=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new sc.EventEmitter,this.isAvailable=!1,this.registering=!1,!wie(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Wp(e),r=await(await Yie(this.url,Xie(Jie({},ese),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!wie(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Wp({id:1,jsonrpc:"2.0",method:"test",params:[]});await Yie(e,Xie(Jie({},ese),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Y1(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=B$(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return l5e(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>tse&&this.events.setMaxListeners(tse)}};const nse="error",WAt="wss://relay.walletconnect.org",HAt="wc",VAt="universal_provider",Ik=`${HAt}@2:${VAt}:`,j5e="https://rpc.walletconnect.org/v1/",O5e="generic",qAt=`${j5e}bundler`,hu={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function eG(t){return t==null||typeof t!="object"&&typeof t!="function"}function M5e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function D5e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const GAt="[object RegExp]",B5e="[object String]",L5e="[object Number]",F5e="[object Boolean]",U5e="[object Arguments]",KAt="[object Symbol]",YAt="[object Date]",QAt="[object Map]",ZAt="[object Set]",JAt="[object Array]",XAt="[object ArrayBuffer]",eCt="[object Object]",tCt="[object DataView]",nCt="[object Uint8Array]",rCt="[object Uint8ClampedArray]",iCt="[object Uint16Array]",sCt="[object Uint32Array]",oCt="[object Int8Array]",aCt="[object Int16Array]",lCt="[object Int32Array]",cCt="[object Float32Array]",uCt="[object Float64Array]";function tG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dCt(t,e){return pv(t,void 0,t,new Map,e)}function pv(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(eG(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=pv(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,l]of t)o.set(a,pv(l,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(pv(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(tG(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=pv(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),iy(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),iy(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),iy(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,iy(o,t,n,r,i),o}if(typeof t=="object"&&hCt(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),iy(o,t,n,r,i),o}return t}function iy(t,e,n=t,r,i){const s=[...Object.keys(e),...M5e(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=pv(e[a],a,n,r,i))}}function hCt(t){switch(D5e(t)){case U5e:case JAt:case XAt:case tCt:case F5e:case YAt:case cCt:case uCt:case oCt:case aCt:case lCt:case QAt:case L5e:case eCt:case GAt:case ZAt:case B5e:case KAt:case nCt:case rCt:case iCt:case sCt:return!0;default:return!1}}function fCt(t,e){return dCt(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case L5e:case B5e:case F5e:{const o=new t.constructor(t==null?void 0:t.valueOf());return iy(o,t),o}case U5e:{const o={};return iy(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function rse(t){return fCt(t)}function ise(t){return t!==null&&typeof t=="object"&&D5e(t)==="[object Arguments]"}function sse(t){return typeof t=="object"&&t!==null}function pCt(){}function mCt(t){return tG(t)}function gCt(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function yCt(t){if(eG(t))return t;if(Array.isArray(t)||tG(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function wCt(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=DF(i,o,r,new Map)}return i}function DF(t,e,n,r){if(eG(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return yCt(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...M5e(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(ise(a)&&(a={...a}),ise(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=rse(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];u[p]=l[p]}l=u}else l=[];const c=n(l,a,o,t,e,r);c!=null?t[o]=c:Array.isArray(a)||sse(l)&&sse(a)?t[o]=DF(l,a,n,r):l==null&&gCt(a)?t[o]=DF({},a,n,r):l==null&&mCt(a)?t[o]=rse(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function bCt(t,...e){return wCt(t,...e,pCt)}var vCt=Object.defineProperty,xCt=Object.defineProperties,ECt=Object.getOwnPropertyDescriptors,ose=Object.getOwnPropertySymbols,ACt=Object.prototype.hasOwnProperty,CCt=Object.prototype.propertyIsEnumerable,ase=(t,e,n)=>e in t?vCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tk=(t,e)=>{for(var n in e||(e={}))ACt.call(e,n)&&ase(t,n,e[n]);if(ose)for(var n of ose(e))CCt.call(e,n)&&ase(t,n,e[n]);return t},kCt=(t,e)=>xCt(t,ECt(e));function Jl(t,e,n){var r;const i=g1(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${j5e}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function jw(t){return t.includes(":")?t.split(":")[1]:t}function z5e(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function _Ct(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function lse(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function $k(t={},e={}){const n=lse(cse(t)),r=lse(cse(e));return bCt(n,r)}function cse(t){var e,n,r,i,s;const o={};if(!Fh(t))return o;for(const[a,l]of Object.entries(t)){const c=O$(a)?[a]:l.chains,u=l.methods||[],h=l.events||[],f=l.rpcMap||{},p=fv(a);o[p]=kCt(Tk(Tk({},o[p]),l),{chains:Lh(c,(e=o[p])==null?void 0:e.chains),methods:Lh(u,(n=o[p])==null?void 0:n.methods),events:Lh(h,(r=o[p])==null?void 0:r.events)}),(Fh(f)||Fh(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=Tk(Tk({},f),(s=o[p])==null?void 0:s.rpcMap))}return o}function use(t){return t.includes(":")?t.split(":")[2]:t}function dse(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=O$(n)?[n]:r.chains?r.chains:z5e(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function oO(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const W5e={},Zn=t=>W5e[t],aO=(t,e)=>{W5e[t]=e};var SCt=Object.defineProperty,hse=Object.getOwnPropertySymbols,ICt=Object.prototype.hasOwnProperty,TCt=Object.prototype.propertyIsEnumerable,fse=(t,e,n)=>e in t?SCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pse=(t,e)=>{for(var n in e||(e={}))ICt.call(e,n)&&fse(t,n,e[n]);if(hse)for(var n of hse(e))TCt.call(e,n)&&fse(t,n,e[n]);return t};const mse="eip155",$Ct=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],NCt=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,lO=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,gse=t=>Object.keys(t).filter(e=>$Ct.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),PCt=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Fh(i)&&!Fh(r))return;const o=gse(r);for(const a of n){const l=NCt(a);if(!l)continue;s[lO(l)]=o;const c=i==null?void 0:i[`${mse}:${l}`];if(c){const u=c==null?void 0:c[`${mse}:${l}:${e}`];s[lO(l)]=pse(pse({},s[lO(l)]),gse(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var RCt=Object.defineProperty,jCt=(t,e,n)=>e in t?RCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fb=(t,e,n)=>jCt(t,typeof e!="symbol"?e+"":e,n);class OCt{constructor(e){fb(this,"name","polkadot"),fb(this,"client"),fb(this,"httpProviders"),fb(this,"events"),fb(this,"namespace"),fb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}}var MCt=Object.defineProperty,DCt=Object.defineProperties,BCt=Object.getOwnPropertyDescriptors,yse=Object.getOwnPropertySymbols,LCt=Object.prototype.hasOwnProperty,FCt=Object.prototype.propertyIsEnumerable,BF=(t,e,n)=>e in t?MCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wse=(t,e)=>{for(var n in e||(e={}))LCt.call(e,n)&&BF(t,n,e[n]);if(yse)for(var n of yse(e))FCt.call(e,n)&&BF(t,n,e[n]);return t},bse=(t,e)=>DCt(t,BCt(e)),pb=(t,e,n)=>BF(t,typeof e!="symbol"?e+"":e,n);class UCt{constructor(e){pb(this,"name","eip155"),pb(this,"client"),pb(this,"chainId"),pb(this,"namespace"),pb(this,"httpProviders"),pb(this,"events"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Jl(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(jw(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c==null?void 0:c.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,f=u==null?void 0:u[h];if(f)return f;let p;try{p=PCt(c,a,l)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(p)return p;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:bse(wse({},c.sessionProperties||{}),{capabilities:bse(wse({},u||{}),{[h]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mh("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${qAt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var zCt=Object.defineProperty,WCt=(t,e,n)=>e in t?zCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mb=(t,e,n)=>WCt(t,typeof e!="symbol"?e+"":e,n);class HCt{constructor(e){mb(this,"name","solana"),mb(this,"client"),mb(this,"httpProviders"),mb(this,"events"),mb(this,"namespace"),mb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}}var VCt=Object.defineProperty,qCt=(t,e,n)=>e in t?VCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gb=(t,e,n)=>qCt(t,typeof e!="symbol"?e+"":e,n);class GCt{constructor(e){gb(this,"name","cosmos"),gb(this,"client"),gb(this,"httpProviders"),gb(this,"events"),gb(this,"namespace"),gb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}}var KCt=Object.defineProperty,YCt=(t,e,n)=>e in t?KCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yb=(t,e,n)=>YCt(t,typeof e!="symbol"?e+"":e,n);class QCt{constructor(e){yb(this,"name","algorand"),yb(this,"client"),yb(this,"httpProviders"),yb(this,"events"),yb(this,"namespace"),yb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Jl(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new du(new kd(r,Zn("disableProviderPing")))}}var ZCt=Object.defineProperty,JCt=(t,e,n)=>e in t?ZCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wb=(t,e,n)=>JCt(t,typeof e!="symbol"?e+"":e,n);class XCt{constructor(e){wb(this,"name","cip34"),wb(this,"client"),wb(this,"httpProviders"),wb(this,"events"),wb(this,"namespace"),wb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=jw(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}}var ekt=Object.defineProperty,tkt=(t,e,n)=>e in t?ekt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bb=(t,e,n)=>tkt(t,typeof e!="symbol"?e+"":e,n);class nkt{constructor(e){bb(this,"name","elrond"),bb(this,"client"),bb(this,"httpProviders"),bb(this,"events"),bb(this,"namespace"),bb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}}var rkt=Object.defineProperty,ikt=(t,e,n)=>e in t?rkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vb=(t,e,n)=>ikt(t,typeof e!="symbol"?e+"":e,n);let skt=class{constructor(e){vb(this,"name","multiversx"),vb(this,"client"),vb(this,"httpProviders"),vb(this,"events"),vb(this,"namespace"),vb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=jw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}};var okt=Object.defineProperty,akt=(t,e,n)=>e in t?okt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xb=(t,e,n)=>akt(t,typeof e!="symbol"?e+"":e,n);let lkt=class{constructor(e){xb(this,"name","near"),xb(this,"client"),xb(this,"httpProviders"),xb(this,"events"),xb(this,"namespace"),xb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Jl(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace);return typeof r>"u"?void 0:new du(new kd(r,Zn("disableProviderPing")))}};var ckt=Object.defineProperty,ukt=(t,e,n)=>e in t?ckt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eb=(t,e,n)=>ukt(t,typeof e!="symbol"?e+"":e,n);let dkt=class{constructor(e){Eb(this,"name","tezos"),Eb(this,"client"),Eb(this,"httpProviders"),Eb(this,"events"),Eb(this,"namespace"),Eb(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Jl(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace);return typeof r>"u"?void 0:new du(new kd(r))}};var hkt=Object.defineProperty,fkt=(t,e,n)=>e in t?hkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ab=(t,e,n)=>fkt(t,typeof e!="symbol"?e+"":e,n);let pkt=class{constructor(e){Ab(this,"name",O5e),Ab(this,"client"),Ab(this,"httpProviders"),Ab(this,"events"),Ab(this,"namespace"),Ab(this,"chainId"),this.namespace=e.namespace,this.events=Zn("events"),this.client=Zn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return g1(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=g1(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new du(new kd(r,Zn("disableProviderPing")))}};var mkt=Object.defineProperty,gkt=Object.defineProperties,ykt=Object.getOwnPropertyDescriptors,vse=Object.getOwnPropertySymbols,wkt=Object.prototype.hasOwnProperty,bkt=Object.prototype.propertyIsEnumerable,LF=(t,e,n)=>e in t?mkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nk=(t,e)=>{for(var n in e||(e={}))wkt.call(e,n)&&LF(t,n,e[n]);if(vse)for(var n of vse(e))bkt.call(e,n)&&LF(t,n,e[n]);return t},cO=(t,e)=>gkt(t,ykt(e)),mc=(t,e,n)=>LF(t,typeof e!="symbol"?e+"":e,n);let vkt=class H5e{constructor(e){mc(this,"client"),mc(this,"namespaces"),mc(this,"optionalNamespaces"),mc(this,"sessionProperties"),mc(this,"scopedProperties"),mc(this,"events",new xq),mc(this,"rpcProviders",{}),mc(this,"session"),mc(this,"providerOpts"),mc(this,"logger"),mc(this,"uri"),mc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:KA(D$({level:(e==null?void 0:e.logger)||nse})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new H5e(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Nk({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,eE(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Or("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=dse(this.session.namespaces);this.namespaces=$k(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=dse(i.namespaces);return this.namespaces=$k(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!qc(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await jAt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||nse,relayUrl:this.providerOpts.relayUrl||WAt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>fv(n)))];aO("client",this.client),aO("events",this.events),aO("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=_Ct(n,this.session);if((r==null?void 0:r.length)===0)return;const i=z5e(r),s=$k(this.namespaces,this.optionalNamespaces),o=cO(Nk({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new UCt({namespace:o});break;case"algorand":this.rpcProviders[n]=new QCt({namespace:o});break;case"solana":this.rpcProviders[n]=new HCt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new GCt({namespace:o});break;case"polkadot":this.rpcProviders[n]=new OCt({namespace:o});break;case"cip34":this.rpcProviders[n]=new XCt({namespace:o});break;case"elrond":this.rpcProviders[n]=new nkt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new skt({namespace:o});break;case"near":this.rpcProviders[n]=new lkt({namespace:o});break;case"tezos":this.rpcProviders[n]=new dkt({namespace:o});break;default:this.rpcProviders[n]=new pkt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&qc(o)&&this.events.emit("accountsChanged",o.map(use))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,l=fv(o),c=oO(o)!==oO(a)?`${l}:${oO(a)}`:o;this.onChainChanged(c)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=cO(Nk({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",cO(Nk({},Or("USER_DISCONNECTED")),{data:e.topic})))}),this.on(hu.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[O5e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=$k(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>fv(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=fv(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${r}:`)).map(use);if(!qc(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Ik}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Ik}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Ik}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Ik)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const xkt=vkt,Ekt="wc",Akt="ethereum_provider",Ckt=`${Ekt}@2:${Akt}:`,kkt="https://rpc.walletconnect.org/v1/",FF=["eth_sendTransaction","personal_sign"],V5e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],UF=["chainChanged","accountsChanged"],q5e=["chainChanged","accountsChanged","message","disconnect","connect"],_kt=async()=>{const{createAppKit:t}=await Nh(()=>import("./core-gf_97-bq.js").then(e=>e.X),[]);return t};var Skt=Object.defineProperty,Ikt=Object.defineProperties,Tkt=Object.getOwnPropertyDescriptors,xse=Object.getOwnPropertySymbols,$kt=Object.prototype.hasOwnProperty,Nkt=Object.prototype.propertyIsEnumerable,zF=(t,e,n)=>e in t?Skt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jg=(t,e)=>{for(var n in e||(e={}))$kt.call(e,n)&&zF(t,n,e[n]);if(xse)for(var n of xse(e))Nkt.call(e,n)&&zF(t,n,e[n]);return t},F5=(t,e)=>Ikt(t,Tkt(e)),pl=(t,e,n)=>zF(t,typeof e!="symbol"?e+"":e,n);function v7(t){return Number(t[0].split(":")[1])}function Pk(t){return`0x${t.toString(16)}`}function Pkt(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!qc(e))throw new Error("Invalid chains");const l={chains:e,methods:r||FF,events:s||UF,rpcMap:Jg({},e.length?{[v7(e)]:a[v7(e)]}:{})},c=s==null?void 0:s.filter(p=>!UF.includes(p)),u=r==null?void 0:r.filter(p=>!FF.includes(p));if(!n&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=(c==null?void 0:c.length)&&(u==null?void 0:u.length)||!n,f={chains:[...new Set(h?l.chains.concat(n||[]):n)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:V5e))],events:[...new Set(l.events.concat(o!=null&&o.length?o:q5e))],rpcMap:a};return{required:e.length?l:void 0,optional:n.length?f:void 0}}let Rkt=class G5e{constructor(){pl(this,"events",new sc.EventEmitter),pl(this,"namespace","eip155"),pl(this,"accounts",[]),pl(this,"signer"),pl(this,"chainId",1),pl(this,"modal"),pl(this,"rpc"),pl(this,"STORAGE_KEY",Ckt),pl(this,"on",(e,n)=>(this.events.on(e,n),this)),pl(this,"once",(e,n)=>(this.events.once(e,n),this)),pl(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),pl(this,"off",(e,n)=>(this.events.off(e,n),this)),pl(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new G5e;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Pkt(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(F5(Jg({namespaces:Jg({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(f=>{a(f)}).catch(f=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(f.message))})});if(!s)return;const o=cre(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Pk(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(F5(Jg({},e),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=cre(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Pk(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",Pk(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",F5(Jg({},Or("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",Pk(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||FF:[],l=i.length?(e==null?void 0:e.events)||UF:[],c=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),f=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?v7(this.rpc.chains):v7(this.rpc.optionalChains),this.signer=await xkt.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await _kt(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return Hkt}),s=i(F5(Jg({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");n=r(F5(Jg({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&qc(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&qc(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${kkt}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const jkt=Rkt;var Okt=Object.defineProperty,Mkt=Object.defineProperties,Dkt=Object.getOwnPropertyDescriptors,Ese=Object.getOwnPropertySymbols,Bkt=Object.prototype.hasOwnProperty,Lkt=Object.prototype.propertyIsEnumerable,Ase=(t,e,n)=>e in t?Okt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K5e=(t,e)=>{for(var n in e||(e={}))Bkt.call(e,n)&&Ase(t,n,e[n]);if(Ese)for(var n of Ese(e))Lkt.call(e,n)&&Ase(t,n,e[n]);return t},Fkt=(t,e)=>Mkt(t,Dkt(e));function Ukt(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const zkt=t=>{const[e,n]=t.split(":");return Y5e({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Wkt(t){var e,n,r,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(zkt).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(h=>{var f;return h.id===((f=t.defaultChain)==null?void 0:f.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:Ukt(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:Fkt(K5e({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(m=>({id:m.id,name:m.name,links:m.links})),...(t.desktopWallets||[]).map(m=>({id:m.id,name:m.name,links:{native:m.links.native,universal:m.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=h.filter(m=>!f.includes(m.id));p.length&&(u.customWallets=p)}return u}function Y5e(t){return K5e({formatters:void 0,fees:void 0,serializers:void 0},t)}var Hkt=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Wkt,defineChain:Y5e});class Q5e{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function WF(){try{let t="privy:__session_storage__test",e=new Q5e;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Nt=typeof window<"u"&&window.localStorage?new Q5e:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function Z5e(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function Cse(t,e){let n=Z5e(e);if(n.universalLink)return nG(n.universalLink,t)}let uO="WALLETCONNECT_DEEPLINK_CHOICE";function J5e(t){return t.startsWith("http://")||t.startsWith("https://")}function X5e(t,e){if(J5e(t))return nG(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function nG(t,e){if(!J5e(t))return X5e(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function e6e(t,e){window.open(t,e,"noreferrer noopener")}class ea{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}const HF="https://auth.privy.io",Vkt=2e4,Ur=1400,t6e=2500,rG=4e3,qkt="3.0.1",v6="privy:token",kse="privy-token",dO="privy:refresh_token",Gkt="privy-refresh-token",G9="privy:pat",_se="privy:id_token",Sse="privy-id-token",hO="privy-session",VF="privy:caid",n6e=t=>`privy:guest:${t}`,Rk=t=>`privy:cross-app:${t}`,x7="privy:state_code",x6="privy:code_verifier",E7="privy:headless_oauth",c4="privy:oauth_disable_signup",fO=t=>`privy:wallet:${t}`,r6e="privy:connections",z$=12e4,Kkt=3e4,Ykt="deprecated";function qF(t){return crypto.getRandomValues(new Uint8Array(t))}function W$(){return z1(qF(36))}function iG(){return W$()}async function sG(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return z1(n)}}function Qkt(){let t=Nt.get(x6);if(!t)throw new ue("Authentication error.");return t}function i6e(t){return t.charAt(0).toUpperCase()+t.slice(1)}const s6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),d.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),d.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),o6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),d.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),a6e=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),l6e=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),d.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),d.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),d.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),d.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function c6e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function u6e(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),d.jsxs("defs",{children:[d.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),d.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function d6e(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),d.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),d.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1956",children:d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function h6e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function f6e(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:d.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const p6e=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function GF(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Nt.del(x7),window.history.replaceState({},"",t)}const KF=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class qv{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new ue("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,connectorType:(r=this.wallet)==null?void 0:r.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw Nn(i)}}async link(){if(!this.client)throw new ue("SiweFlow has no client instance");try{if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Nn(e)}}async sign(){if(!this.client)throw new ue("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ue("Could not prepare SIWE message");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=KF({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ea(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const Zkt=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class A7{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Nn(e)}}async link(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Nn(e)}}async sign(){let e,n;if(!this.client)throw new ue("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ue("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new ue("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:D9.decode(this.preparedMessage)});e=D9.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=D9.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ue("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=Zkt({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ea(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=o}}const m6e=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,g6e=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||m6e(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!g6e(n))return!1}return!0},y6e=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Fx=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new Ar(`Unsupported chainId ${t}`,4901);return Bp({transport:Lp(Vp(s,n,r.appId)),chain:s})},Vp=(t,e,n)=>{var o,a,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",n),r=c.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new Ar(`No RPC url found for ${i}`);return r},w6e=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Qo=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},pO=(t,e=3,n=4)=>Qo(t,e,n,"solana"),C7=t=>new Promise(e=>setTimeout(e,t)),YF=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let o=!1,a=0;for(;!o&&a<r;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(c=>{o=!0,i(c)},(...c)=>{o=!0,s(...c)}),a+=1,await C7(n)}o||s(Error("Exceeded max attempts before resolving function"))})},b6e=(t,e,n={},r={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(r);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},Jkt=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),QF=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Xkt({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map(h=>h.info));let u=[];for(let h of c)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(r!=="solana-only")for(let h of function(){var g;let f=window,p=f.ethereum;if(!p)return[];let m=[];if((g=p.providers)!=null&&g.length)for(let y of p.providers)y&&m.push(y);return m.push(f.ethereum),m}()){let f=m6e(h);if(!c.some(p=>p.info.name===f)){if(g6e(h,!0)&&!u.find(p=>p.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(f==="Phantom"&&!u.find(p=>p.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(f==="Coinbase Wallet"&&!u.find(p=>{var m,g,y;return p.type==="coinbase_wallet"&&((y=(g=(m=n.coinbaseWallet)==null?void 0:m.config)==null?void 0:g.preference)==null?void 0:y.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find(p=>p.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function u4(t){return`eip155:${String(Number(t))}`}const e9t=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new Ar(`Unsupported chainId ${t}`,4901);return Vp(s,n,r)},K9=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}},v6e=x.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Ie,setError:Ie,setExecuting:Ie,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Ie,reset:Ie,execute:Ie});class H$ extends Oo{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const t9t=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=x.useRef(null),[s,o]=x.useState(),[a,l]=x.useState(),[c,u]=x.useState(!1),h=x.useMemo(()=>r?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,s,a,c]);return d.jsx(v6e.Provider,{value:{...h,ref:i,enabled:r,siteKey:n,appId:e,setToken:o,setError:l,setExecuting:u,remove(){var f;r&&((f=i.current)==null||f.remove(),u(!1),l(void 0),o(void 0))},reset(){var f;r&&((f=i.current)==null||f.reset(),u(!1),l(void 0),o(void 0))},execute(){var f;r&&(u(!0),(f=i.current)==null||f.execute())},async waitForResult(){if(!r)return"";try{return await function(f,{interval:p=100,timeout:m=5e3}={}){return new Promise((g,y)=>{let w,v=0,b=()=>{v>=m?y("Max attempts reached without result"):(w=f(),v+=p,w==null?setTimeout(b,p):g(w))};b()})}(()=>{var f;return(f=i.current)==null?void 0:f.getResponse()},{interval:200,timeout:2e4})}catch{throw new H$("Captcha failed",null,pe.CAPTCHA_TIMEOUT)}}},children:t})},ll=()=>x.useContext(v6e);class U5{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(_st,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Sst,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Nn(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function Ise(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===pe.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===pe.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===pe.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof H$&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function n9t(){let t;return(t=function(){let e=new URLSearchParams(window.location.search),n=Number(e.get("id")||""),r=e.get("hash"),i=Number(e.get("auth_date")||""),s=e.get("first_name");if(n&&s&&i&&r)return Object.fromEntries(e.entries())}())?(Tse(),{flowType:"login-url",authData:t}):(t=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let n=x6e(e.replace("#tgWebAppData=","")),{user:r,auth_date:i,hash:s}=n;return r&&i&&s?n:void 0}())?(Tse(),{flowType:"web-app",authData:t}):void 0}function x6e(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Tse(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let $se=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const qu=(t,e)=>{if(e!=null&&e.imported)return $se(e);let n=bd(t);if(!n)throw Error("Failed to find primary wallet");return $se(n)},r9t=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),E6e="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",A6e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class C6e extends Ar{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const Tg=t=>t instanceof Ar?t:t!=null&&t.code?new bo(t):new Ar("Unknown connector error",t);class Gv extends Oo{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}}class bo extends Gv{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Ku).find(o=>o.eipCode===e.code);this.details=n||Ku.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Ku.E32002_CONNECTION_ALREADY_PENDING:this.details=Ku.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Ku.E32002_WALLET_LOCKED))}}const $y={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Ku};function Q0(t){return t.type==="ethereum"}function k6e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&Q0(r)&&Q0(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}class _6e extends b${constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const oG=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||z$;function z5(t){return t.chainType==="ethereum"}class Ow extends _6e{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(o=>Mi(o.address)===Mi(e));return{type:"ethereum",address:Mi(e),chainId:n,meta:r,imported:i,switchChain:async o=>{var f,p,m,g;let a,l;if(!s)throw new Ar("Wallet is not currently connected.");let c=(f=this.wallets.find(y=>Mi(y.address)===Mi(e)))==null?void 0:f.chainId;if(!c)throw new Ar("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===u4(a))return;let u=this.chains.find(y=>y.id===l);if(!u)throw new Ar(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(y){if(((w,v)=>{var b;switch(v){case"coinbase_wallet":case"base_account":return w.message.includes("addEthereumChain");case"rabby_wallet":return w.message.includes("Unrecognized chain ID");default:return w.code===4902||((b=w.message)==null?void 0:b.includes("4902"))}})(y,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await C7(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((p=u.rpcUrls.default)==null?void 0:p.http[0])??""],blockExplorerUrls:[((m=u.blockExplorers)==null?void 0:m.default.url)??""]}]}),h();throw this.walletClientType==="rainbow"&&((g=y.message)!=null&&g.includes("wallet_switchEthereumChain"))?new Ar(`Rainbow does not support the chainId ${n}`):y}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Ar("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new Ar("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let l=await YF(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(r=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],s=Mi(i),o=[];if(this.walletClientType==="privy"){let l=Nt.get(fO(s));this.chains.find(c=>c.id===Number(l))||(Nt.del(fO(s)),l=null),n=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let l=await YF(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")n=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");n=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),n="0x1"}let a=u4(n);if(!o.find(l=>Mi(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Mi(i),a,l,this.connectorType==="embedded_imported"))}k6e(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>Mi(r)===Mi(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[ki(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=u4(s),this.walletClientType==="privy"&&Nt.put(fO(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await C7(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=oG(i,e),this.connected=!1,this.initialized=!1}}class Mw{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Ar(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw Tg(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new C6e,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||z$,this._subscriptions=[]}}const S6e=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class aG extends Ow{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Mw(void 0,z$),this.id=e,this.name=n,this.icon=r,this.connectorType=i}}const lG=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),ZF=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[d.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),d.jsx("g",{transform:"translate(4, 4)",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),I6e=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),i9t=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],cG=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:xJ?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=o==null?void 0:o.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=jk({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:xJ?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=jk({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=jk({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+jk({client:this.client,isSolana:t,connectOnly:e}))}}});function T6e({connectorType:t,walletClientType:e}){for(let n of i9t)if(t===n||e===n)return cG[n]}function jk({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const Y9=()=>{let t=Nt.get(r6e);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let s9t=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function JF(t){return t.toLowerCase().split(" ").join("_")}class o9t extends _6e{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new Lwe({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){var e;this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await((e=this.wallet.features["standard:connect"])==null?void 0:e.connect({silent:!0}).catch(()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){var e;this._unsubscribeListeners=(e=this.wallet.features["standard:events"])==null?void 0:e.on("change",this.onChange)}unsubscribeListeners(){var e;(e=this._unsubscribeListeners)==null||e.call(this)}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!s9t.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||Y9().some(({walletClientType:e})=>e==="phantom"))}constructor(e,n){super(JF(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{var r;(r=this.wallet.features["standard:disconnect"])==null||r.disconnect().catch(i=>console.error("Error disconnecting",i))},this.promptConnection=async()=>{var r;try{await((r=this.wallet.features["standard:connect"])==null?void 0:r.connect())}catch(i){throw Tg(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}}class uG extends o9t{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Mw(void 0,z$),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}}function V$(t){return t.chainType==="solana"}function a9t(t){return t.type==="solana"}const ZA=Iw(()=>({listings:[]})),l9t=ZA.setState,mO=t=>{let e;try{e=new URL(t).hostname}catch{return}return ZA.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},$g=t=>ZA(({listings:e})=>e.find(({slug:n})=>k7(n)===k7(t)));function k7(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function c9t({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}const Ef={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{}},embeddedWallets:{extendedCalldataDecoding:!1},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let u9t=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),Nse=t=>u9t.has(t),Pse=(t,e,n)=>n.indexOf(t)===e;function Ok(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return gt({...t.toHsl(),l:n})}function gO(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function d9t({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=gt(t).getLuminance(),r=gt(t).toHslString());let i=n?"dark":"light",s=n?W5:Mk,{accent:o,accentLight:a,accentHover:l,accentDark:c,accentDarkest:u}=function(m,g){if(!m){let w=g?W5:Mk;return{accent:gt(w.background.interactive),accentLight:gt(w.background.interactive),accentHover:gt(w.background["interactive-hover"]),accentDark:gt(w.background["interactive-clicked"]),accentDarkest:gt(w.background["interactive-disabled"])}}let y=gt(m);return{accent:y,accentLight:Ok(y,.15),accentHover:Ok(y,.3),accentDark:Ok(y,-.06),accentDarkest:Ok(y,-.6)}}(e,n),h=function(m){let g=gt(Mk.text.default),y=gt(W5.text.default),w=gO(m,g),v=gO(m,y),b=m.toHsl();return b.h>=220&&b.h<=300&&v>=3?W5.text.default:w>v?Mk.text.default:W5.text.default}(o),f=gt(h),p=gO(o,gt(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:c.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:f.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:p?"1":"0",linkNavigationColor:p?o.toHslString():s.text.default,linkNavigationDecoration:p?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const W5={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","elevated-hover":"#242B3B","default-clicked":"#1A2230","elevated-clicked":"#2C3444","default-disabled":"#020713","elevated-disabled":"#141824",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC","muted-disabled-alt":"#404452","subtle-disabled-alt":"#404452"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",inverse:"#020713",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-hover":"#F8F8F8","muted-hover":"#9BA2AE","placeholder-hover":"#656C78","default-clicked":"#F8F8F8","muted-clicked":"#9BA2AE","placeholder-clicked":"#656C78","default-disabled":"#404452","muted-disabled":"#404452","placeholder-disabled":"#404452","error-hover":"#FA8B8B","interactive-hover":"#8C88E5","error-clicked":"#F87171","interactive-clicked":"#7671CC","error-disabled":"#404452","interactive-disabled":"#404452"},border:{default:"#1F2937",primary:"#110F2A",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF","default-clicked":"#1F2937","interactive-clicked":"#88B0FF","default-active":"#F8F8F8","default-disabled":"#1F2937","interactive-disabled":"#1F2937","error-hover":"#971B1C","error-clicked":"#971B1C","error-disabled":"#1F2937"}},Mk={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","elevated-hover":"#E8E9F4","default-clicked":"#F1F2F9","elevated-clicked":"#DFE0EF","default-disabled":"#FFFFFF","elevated-disabled":"#F1F2F9",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482","error-disabled":"#CBCDE1","interactive-disabled":"#CBCDE1"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",inverse:"#FFFFFF",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-hover":"#040217","muted-hover":"#64668B","placeholder-hover":"#9498B8","default-clicked":"#040217","muted-clicked":"#64668B","placeholder-clicked":"#9498B8","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","placeholder-disabled":"#CBCDE1","error-hover":"#991B1B","interactive-hover":"#5B4FFF","error-clicked":"#991B1B","interactive-clicked":"#5B4FFF","error-disabled":"#CBCDE1","interactive-disabled":"#CBCDE1"},border:{default:"#E2E3F0",primary:"#110F2A",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF","default-clicked":"#E2E3F0","interactive-clicked":"#5B4FFF","default-active":"#110F2A","default-disabled":"#E2E3F0","interactive-disabled":"#E2E3F0","error-hover":"#F69393","error-clicked":"#F69393","error-disabled":"#E2E3F0"}};function $6e(t,e,n,r,i){var j,Y,ee,Z,oe,de,ce,he,be,fe,ke,we,Fe,Me,Se,ve,Oe,Le,Ce,De,We,rt,G,U,z,X,ne,ie,le,Be,Xe,Ke,et,Pe,Tt,dn,Bt,ze,Ln,vn,ot,Qt,q,K,se,re,ae,ge,$e,je,Mt,bt,_t,rn,Ye,ut,at,ct,ht,an,zn;let s,o,a,l,c,u,h,f,p,m,g,y,w,v,b,A,E=n?console.warn:()=>{};e!=null&&e.loginMethods?(s=e.loginMethods.includes("email"),o=e.loginMethods.includes("sms"),l=e.loginMethods.includes("wallet"),c=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),h=e.loginMethods.includes("discord"),m=e.loginMethods.includes("spotify"),g=e.loginMethods.includes("instagram"),f=e.loginMethods.includes("tiktok"),p=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),y=e.loginMethods.includes("linkedin"),v=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),A=e.loginMethods.includes("telegram"),a=e.loginMethods.includes("passkey")):(s=t.email_auth,o=t.sms_auth,l=t.wallet_auth||t.solana_wallet_auth,c=t.google_oauth,u=t.twitter_oauth,h=t.discord_oauth,w=t.github_oauth,m=t.spotify_oauth,g=t.instagram_oauth,f=t.tiktok_oauth,p=t.line_oauth,y=t.linkedin_oauth,v=t.apple_oauth,b=t.farcaster_auth,A=t.telegram_auth,a=t.passkey_auth),t.passkey_auth&&(a=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(a=!1);let $=[s,o].filter(Boolean),N=[c,u,h,w,m,g,f,p,y,v,b,A].filter(Boolean),R=[l].filter(Boolean),M=((j=e==null?void 0:e.loginMethods)==null?void 0:j.includes("passkey"))??!1,F=t.passkeys_for_signup_enabled??!1,W=[a&&(F||M)].filter(Boolean);if($.length+N.length+R.length+W.length===0)throw Error("You must enable at least one login method");let H=((Y=e==null?void 0:e.appearance)==null?void 0:Y.showWalletLoginFirst)!==void 0?(ee=e==null?void 0:e.appearance)==null?void 0:ee.showWalletLoginFirst:t.show_wallet_login_first;H&&R.length===0?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),H=!1):H||N.length+$.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),H=!0);let L=((oe=(Z=e==null?void 0:e.externalWallets)==null?void 0:Z.walletConnect)==null?void 0:oe.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let k=(({input:Ht,overrides:Lt})=>Lt?Lt.primary.concat(Lt.overflow??[]).filter(Nse).filter(Pse):Ht?Ht.filter(Nse).filter(Pse):Ef.appearance.walletList)({input:(de=e==null?void 0:e.appearance)==null?void 0:de.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),C=(({input:Ht})=>{if(!Ht||!Ht.primary[0])return;let Lt=[Ht.primary[0]],xn=[];for(let ii of(Ht.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Ht.primary.slice(1)))Lt.includes(ii)?console.warn(`Duplicated login method: ${ii}`):Lt.push(ii);for(let ii of Ht.overflow??[])Lt.includes(ii)||xn.includes(ii)?console.warn(`Duplicated login method: ${ii}`):xn.push(ii);return{primary:Lt,overflow:xn}})({input:e==null?void 0:e.loginMethodsAndOrder}),_=((ce=e==null?void 0:e.intl)==null?void 0:ce.defaultCountry)??"US",{chains:T,defaultChain:S}=function({supportedChains:Ht,defaultChainFromConfig:Lt}){let xn;if(Ht){if(Ht.length===0)throw Error("`supportedChains` must contain at least one chain");xn=h1e(Ht)}else xn=[...IA];let ii=Ht?xn[0]:lu,ac=Lt??ii;if(!xn.find(qt=>qt.id===ac.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:xn,defaultChain:ac}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),P=!!(e!=null&&e.defaultChain),D=((he=e==null?void 0:e.customAuth)==null?void 0:he.getCustomAccessToken)&&((be=e==null?void 0:e.customAuth)==null?void 0:be.enabled)!==!1,O=D?"all-users":t.embedded_wallet_config.ethereum.create_on_login,I=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!((ke=(fe=e==null?void 0:e.externalWallets)==null?void 0:fe.solana)!=null&&ke.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let B=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,Q=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((we=e==null?void 0:e.appearance)==null?void 0:we.logo)??t.logo_url??void 0,landingHeader:((Fe=e==null?void 0:e.appearance)==null?void 0:Fe.landingHeader)??Ef.appearance.landingHeader,loginMessage:typeof((Me=e==null?void 0:e.appearance)==null?void 0:Me.loginMessage)=="string"?(Se=e==null?void 0:e.appearance)==null?void 0:Se.loginMessage.slice(0,100):(ve=e==null?void 0:e.appearance)==null?void 0:ve.loginMessage,footerLogo:(Oe=e==null?void 0:e.appearance)==null?void 0:Oe.footerLogo,palette:d9t({backgroundTheme:((Le=e==null?void 0:e.appearance)==null?void 0:Le.theme)??Ef.appearance.theme,accentHex:((Ce=e==null?void 0:e.appearance)==null?void 0:Ce.accentColor)??t.accent_color}),loginGroupPriority:H?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((De=e==null?void 0:e.appearance)!=null&&De.hideDirectWeb2Inputs),walletList:k,walletChainType:((We=e==null?void 0:e.appearance)==null?void 0:We.walletChainType)??(({evmWalletAuth:Ht,solanaWalletAuth:Lt})=>Ht&&Lt?"ethereum-and-solana":Ht?"ethereum-only":Lt?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:l,email:s,sms:o,passkey:a,google:c,twitter:u,discord:h,github:w,spotify:m,instagram:g,tiktok:f,line:p,linkedin:y,apple:v,farcaster:b,telegram:A},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:C,legal:{termsAndConditionsUrl:((rt=e==null?void 0:e.legal)==null?void 0:rt.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((G=e==null?void 0:e.legal)==null?void 0:G.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Ef.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((U=e==null?void 0:e.externalWallets)==null?void 0:U.signatureRequestTimeouts)??{}},chains:T,defaultChain:S,intl:{defaultCountry:_},shouldEnforceDefaultChainOnConnect:P,captchaEnabled:t.captcha_enabled??Ef.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...(ne=(X=(z=e==null?void 0:e.externalWallets)==null?void 0:z.coinbaseWallet)==null?void 0:X.config)==null?void 0:ne.preference},...(le=(ie=e==null?void 0:e.externalWallets)==null?void 0:ie.coinbaseWallet)==null?void 0:le.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(Xe=(Be=e==null?void 0:e.externalWallets)==null?void 0:Be.baseAccount)==null?void 0:Xe.config,preference:{...(Pe=(et=(Ke=e==null?void 0:e.externalWallets)==null?void 0:Ke.baseAccount)==null?void 0:et.config)==null?void 0:Pe.preference,telemetry:!1}}},walletConnect:{enabled:L},solana:{connectors:(dn=(Tt=e==null?void 0:e.externalWallets)==null?void 0:Tt.solana)==null?void 0:dn.connectors},disableAllExternalWallets:((Bt=e==null?void 0:e.externalWallets)==null?void 0:Bt.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!D&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:D?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((ze=e==null?void 0:e.embeddedWallets)==null?void 0:ze.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:((vn=(Ln=e==null?void 0:e.embeddedWallets)==null?void 0:Ln.ethereum)==null?void 0:vn.createOnLogin)??O},solana:{createOnLogin:((Qt=(ot=e==null?void 0:e.embeddedWallets)==null?void 0:ot.solana)==null?void 0:Qt.createOnLogin)??I},disableAutomaticMigration:((q=e==null?void 0:e.embeddedWallets)==null?void 0:q.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((K=e==null?void 0:e.embeddedWallets)==null?void 0:K.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((se=e==null?void 0:e.embeddedWallets)==null?void 0:se.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((ae=(re=e==null?void 0:e.embeddedWallets)==null?void 0:re.transactionScanning)==null?void 0:ae.enabled)??!1,domain:(($e=(ge=e==null?void 0:e.embeddedWallets)==null?void 0:ge.transactionScanning)==null?void 0:$e.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((je=e==null?void 0:e.mfa)==null?void 0:je.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Mt=e==null?void 0:e.passkeys)==null?void 0:Mt.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(bt=e==null?void 0:e.passkeys)==null?void 0:bt.shouldUnenrollMfaOnUnlink},customAuth:D?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:B,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((_t=e==null?void 0:e._render)==null?void 0:_t.standalone)??Ef._render.standalone},fundingConfig:Q,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Ef.fundingMethodConfig,moonpay:{...((rn=e==null?void 0:e.fundingMethodConfig)==null?void 0:rn.moonpay)??Ef.fundingMethodConfig.moonpay,useSandbox:((Ye=e==null?void 0:e.fundingMethodConfig)==null?void 0:Ye.moonpay.useSandbox)??Ef.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((at=(ut=e==null?void 0:e.solana)==null?void 0:ut.rpcs)==null?void 0:at["solana:mainnet"])??null,"solana:devnet":((ht=(ct=e==null?void 0:e.solana)==null?void 0:ct.rpcs)==null?void 0:ht["solana:devnet"])??null,"solana:testnet":((zn=(an=e==null?void 0:e.solana)==null?void 0:an.rpcs)==null?void 0:zn["solana:testnet"])??null}}}const N6e={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},fiat_on_ramp_enabled:!1,captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},P6e=$6e(N6e,void 0,!1);let dG=x.createContext({appConfig:P6e,isServerConfigLoaded:!1});const h9t=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,o]=x.useState(null),a=x.useMemo(()=>$6e(s??N6e,r,!!s,typeof window<"u"?window.location.origin:void 0,i),[s,r,i]);return x.useEffect(()=>{if(!s)return;let l=function(h){var w,v;if(!h)return{};let{appearance:f,supportedChains:p,defaultChain:m,externalWallets:g,...y}=h;return{...y,...p?{supportedChains:p.map(b=>b.id)}:void 0,...m?{defaultChain:m.id}:void 0,...g?{walletConnect:g.walletConnect?{enabled:g.walletConnect.enabled}:void 0,coinbaseWallet:g.coinbaseWallet,solana:{connectors:(v=(w=g.solana)==null?void 0:w.connectors)==null?void 0:v.get().map(b=>b.walletClientType)}}:void 0}}(r),c=function(h,f=0){let p=3735928559^f,m=1103547991^f;for(let g,y=0;y<h.length;y++)p=Math.imul(p^(g=h.charCodeAt(y)),2654435761),m=Math.imul(m^g,1597334677);return p=Math.imul(p^p>>>16,2246822507)^Math.imul(m^m>>>13,3266489909),4294967296*(2097151&(m=Math.imul(m^m>>>16,2246822507)^Math.imul(p^p>>>13,3266489909)))+(p>>>0)}(JSON.stringify(l)).toString(),u=`privy:sent:${s.id}:${c}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:l}),localStorage.setItem(u,"t"))},[r,s]),x.useEffect(()=>{s||(async()=>{try{await e.initialize();let l=e.app.getConfig();l.custom_api_url&&n.updateApiUrl(l.custom_api_url),o(l)}catch(l){console.warn("Error generating app config: ",l)}})()},[]),d.jsx(dG.Provider,{value:{appConfig:a,isServerConfigLoaded:!!s},children:t})},Fn=()=>{let{appConfig:t}=x.useContext(dG);return t},R6e=()=>{let{isServerConfigLoaded:t}=x.useContext(dG);return t},j6e=x.createContext({app:P6e,currentScreen:null,lastScreen:null,navigate:Ie,navigateBack:Ie,resetNavigation:Ie,setModalData:Ie,onUserCloseViaDialogOrKeybindRef:void 0}),f9t=t=>{var a;let e=Fn(),n=t.authenticated,[r,i]=x.useState(t.initialScreen);x.useEffect(()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[n]);let s=x.useRef(null);x.useEffect(()=>{t.open||(s.current=null)},[t.open]),x.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(j6e.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&d.jsx(c9t,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},lt=()=>x.useContext(j6e),p9t=({style:t,...e})=>{let{app:n}=lt();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},O6e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class Kv extends Ow{async initialize(){var n,r,i,s,o;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=mO((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,o,a,l;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:Jkt(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:O6e,id:((l=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(uO)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,n)=>{(async()=>{var s,o,a,l,c,u;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new Ar("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=mO((c=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:c.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=oG(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{n(r?Tg(r):new Ar("Unknown error during connection"))})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=e9t(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id),i=await jkt.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:q5e,optionalMethods:V5e,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(uO)}catch{}}(),!this.showPrivyQrModal)throw new Ar("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(Er&&this.walletEntry){let{redirect:a,href:l}=function(u,h){let f=Z5e(h);if(f.deepLink)return X5e(f.deepLink,u);if(f.universalLink)return nG(f.universalLink,u);throw new ue(`Unsupported wallet ${h.id}`)}(s,this.walletEntry);e6e(a,"_self"),function({href:u,name:h}){try{localStorage.setItem(uO,JSON.stringify({href:u,name:h}))}catch{}}({href:l,name:((o=this.walletEntry.metadata)==null?void 0:o.shortName)||this.walletEntry.name});let c=Cse(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=c==null?void 0:c.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=Cse(s,this.walletEntry);this.fallbackUniversalRedirectUri=a==null?void 0:a.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a;(s=i.session)!=null&&s.peer.metadata.url&&(this.walletEntry=mO((o=i.session)==null?void 0:o.peer.metadata.url),this.walletClientType=((a=this.walletEntry)==null?void 0:a.slug)||"unknown")}),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l}){super(l||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Mw(void 0,this.rpcTimeoutDuration),l&&(this.walletEntry=(c=>ZA.getState().listings.find(({slug:u})=>k7(u)===k7(c)))(l),this.walletClientType=l)}}const m9t={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},M6e=x.createContext(void 0);let D6e=()=>x.useContext(M6e);function q$(t,e){if(!e)return;let n=D6e().current[t];return x.useEffect(()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function Ve(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function Dw(){let t=D6e();return(e,n,...r)=>Ve(t,e,n,...r)}const Ux=J.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),g9t=J.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),XF=J.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),B6e=J(XF).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let y9t=os(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const w9t=J.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Vr=J.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],y9t),zh=J.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),zx=J.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),b9t=J.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),v9t=J.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function x9t(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let Rse=J.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function hG({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?d.jsx(Rse,{}):d.jsxs(Rse,{children:["By logging in I agree to the"," ",e&&d.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&d.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const er=({className:t})=>{let{appearance:e}=Fn();return d.jsx(Ni,{className:t,children:e.footerLogo??d.jsx(E9t,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:d.jsx(x9t,{color:"currentColor",height:13,width:150})})})};let E9t=J.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const Ni=J.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),L6e=({success:t,fail:e})=>d.jsxs(A9t,{children:[d.jsx(jse,{children:d.jsx(fG,{className:t?"success":e?"fail":""})}),d.jsx(jse,{children:d.jsx(tu,{className:t?"success":e?"fail":""})})]});let jse=J.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),A9t=J.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const tu=J.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),fG=J(tu).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),Ng=t=>d.jsx(C9t,{color:t.color||"var(--privy-color-foreground-3)"});let C9t=J(tu).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const J1=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return d.jsx(vd,{size:e,...i,children:n});case"error":return d.jsx(vd,{$warn:!0,size:e,...i,children:n});case"muted":return d.jsx(S9t,{size:e,...i,children:n});default:return d.jsx(hr,{size:e,success:r,...i,children:n})}},G$=J.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),hr=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let c=o==="a",u=!(!e&&!n);return d.jsx(_9t,{as:o,disabled:c?void 0:u,"aria-disabled":c?u:void 0,$success:r,$size:i,onClick:h=>{c&&u?h.preventDefault():a==null||a(h)},...l,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Ng,{}),s?d.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},_7=({children:t,loading:e,disabled:n,...r})=>d.jsx(k9t,{disabled:n,...r,children:e?d.jsx(Ng,{color:"var(--privy-color-foreground-accent)"}):t});let k9t=J(G$).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),_9t=J(G$).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&os(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const vd=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!n);return d.jsx(I9t,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:r,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Ng,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},S9t=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!n);return d.jsx(T9t,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:r,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Ng,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let I9t=J(G$).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&os(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),T9t=J(G$).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&os(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const K$=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>d.jsxs($9t,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(Ng,{})})]});let $9t=J.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const N9t=({backFn:t})=>d.jsx("div",{children:d.jsx(pG,{onClick:t,children:d.jsx(tdt,{height:"16px",width:"16px",strokeWidth:2})})}),P9t=({infoFn:t})=>d.jsx("div",{children:d.jsx(j9t,{"aria-label":"info",onClick:t,children:d.jsx(Hv,{height:"22px",width:"22px",strokeWidth:2})})}),R9t=t=>d.jsx("div",{children:d.jsx(pG,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(Gdt,{height:"16px",width:"16px",strokeWidth:2})})}),wn=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=st(),a=Fn();return d.jsxs(O9t,{className:s,children:[d.jsxs(M9t,{children:[t&&d.jsx(N9t,{backFn:t}),e&&d.jsx(P9t,{infoFn:e})]}),r&&d.jsx(B9t,{id:"privy-dialog-title",children:r}),d.jsx(D9t,{children:!a.render.standalone&&i&&d.jsx(R9t,{onClose:n||(()=>o())})})]})};let pG=J.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),j9t=J(pG).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),O9t=J.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),M9t=J.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),D9t=J.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),B9t=J.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const W3=({size:t})=>d.jsx(L9t,{$size:t,children:d.jsxs(F9t,{children:[d.jsx(U9t,{}),d.jsx(z9t,{})]})});let L9t=J.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),F9t=J.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),U9t=J.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),z9t=J.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const W9t=J.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),H9t=J.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),V9t=J.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),q9t=J(wn).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),G9t=J.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),K9t=J.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let Y9t=J.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),Q9t=J.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),Z9t=J.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),J9t=J.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),Ose=J.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),X9t=J.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),e_t=J.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const or=({children:t,...e})=>d.jsx(W9t,{children:d.jsx(H9t,{...e,children:t})});let t_t=J.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),n_t=J(er).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),r_t=J.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),i_t=({step:t})=>t?d.jsx(t_t,{children:d.jsx(r_t,{pct:Math.min(100,t.current/t.total*100)})}):null;or.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:c,onClose:u,step:h,...f})=>d.jsxs(V9t,{...f,children:[d.jsx(q9t,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:c?u:void 0,closeable:c}),(n||r||t||e)&&d.jsxs(Y9t,{children:[n||r?d.jsx(or.Icon,{icon:n,variant:r,loadingStatus:i}):null,d.jsxs(Q9t,{children:[t&&d.jsx(Z9t,{children:t}),e&&d.jsx(J9t,{children:e})]})]}),h&&d.jsx(i_t,{step:h})]}),or.Body=Ae.forwardRef(({children:t,...e},n)=>d.jsx(G9t,{ref:n,...e,children:t})),or.Body.displayName="Screen.Body",or.Footer=({children:t,...e})=>d.jsx(K9t,{...e,children:t}),or.Actions=({children:t,...e})=>d.jsx(s_t,{...e,children:t}),or.HelpText=({children:t,...e})=>d.jsx(o_t,{...e,children:t}),or.Watermark=()=>d.jsx(n_t,{}),or.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?d.jsx(X9t,typeof t=="string"?{children:d.jsx("img",{src:t,alt:""})}:Ae.isValidElement(t)?{children:t}:{children:Ae.createElement(t)}):e==="loading"?t?d.jsx(e_t,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsx(L6e,{success:n==null?void 0:n.success,fail:n==null?void 0:n.fail}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ae.isValidElement(t)?Ae.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ae.createElement(t,{style:{width:"38px",height:"38px"}})]})}):d.jsx(Ose,{$variant:e,children:d.jsx(W3,{size:"64px"})}):d.jsx(Ose,{$variant:e,children:t&&(typeof t=="string"?d.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ae.isValidElement(t)?t:Ae.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let s_t=J.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),o_t=J.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Rn=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...s})=>{let o=t||e?d.jsxs(d.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,c=l.variant||"primary";return d.jsx(J1,{...l,variant:c,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,c=l.variant||"secondary";return d.jsx(J1,{...l,variant:c,style:{width:"100%",...l.style},children:a})})()]}):null;return d.jsxs(or,{id:s.id,className:s.className,children:[d.jsx(or.Header,{...s}),i?d.jsx(or.Body,{children:i}):null,n||o||r?d.jsxs(or.Footer,{children:[n?d.jsx(or.HelpText,{children:n}):null,o?d.jsx(or.Actions,{children:o}):null,r?d.jsx(or.Watermark,{}):null]}):null]})},yO=({label:t,children:e,valueStyles:n})=>d.jsxs(a_t,{children:[d.jsx("div",{children:t}),d.jsx(l_t,{style:{...n},children:e})]});let a_t=J.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),l_t=J.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),c_t=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),F6e=t=>c_t.format(t);const U6e=(t,e)=>{let n=F6e(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},y1=(t,e)=>{let n=F6e(e*parseFloat(vw(t)));return n==="$0.00"?"<$0.01":n},id=(t,e,n=6,r=!1)=>`${z6e(t,n,r)} ${e}`,z6e=(t,e=6,n=!1)=>{let r=parseFloat(vw(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},mG=t=>t.reduce((e,n)=>e+n,0n),u_t=(t,e)=>{let{chains:n}=st(),r=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var c;let a=Number(s),l=o.find(u=>u.id===a);if(!l)throw new Ar(`Unsupported chainId ${s}`,4901);return(c=l.blockExplorers)==null?void 0:c.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},d_t=1e9,h_t={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function wO(t,e){let n=parseFloat(t.toString())/d_t,r=f_t.format(e*n);return r==="$0.00"?"<$0.01":r}let f_t=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function Q9(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}const p_t=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=mG(t),i=e?y1(r,e):void 0,s=id(r,n);return d.jsx(H6e,{children:i||s})},W6e=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=mG(t),i=e?y1(r,e):void 0,s=id(r,n);return d.jsx(H6e,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(m_t,{children:"USD"}),i==="<$0.01"?d.jsxs(y_t,{children:[d.jsx(g_t,{children:"<"}),"$0.01"]}):i]}):s})};let H6e=J.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),m_t=J.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),g_t=J.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),y_t=J.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const V6e=J.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),gG=J.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),w_t=J.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),b_t=J(gG).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),Y$=J(gG).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),Q$=J.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),yG=J.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),v_t=J.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),af=J.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),_d=J.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),x_t=J.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),E_t=({gas:t,tokenPrice:e,tokenSymbol:n})=>d.jsxs(Q$,{style:{paddingBottom:"12px"},children:[d.jsxs(q6e,{children:[d.jsx(K6e,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(W6e,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&d.jsx(G6e,{children:`${id(BigInt(t),n)}`})]}),A_t=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return d.jsxs(Q$,{children:[d.jsxs(q6e,{children:[d.jsx(K6e,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(W6e,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&d.jsx(G6e,{children:id(i,r)})]})};let q6e=J.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),G6e=J.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),K6e=J.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const JA=x.createContext(void 0),Z$=x.createContext(void 0),C_t=({defaultValue:t,children:e})=>{let[n,r]=x.useState(t||null);return d.jsx(JA.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:d.jsx(T_t,{children:e})})},k_t=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=x.useContext(JA),i=n===t;return d.jsx(Z$.Provider,{value:{onToggle:()=>r(t),value:t},children:d.jsx(R_t,{isActive:i?"true":"false","data-open":String(i),children:e})})},__t=({children:t})=>{let{activePanel:e}=x.useContext(JA),{onToggle:n,value:r}=x.useContext(Z$),i=e===r;return d.jsxs(d.Fragment,{children:[d.jsxs($_t,{onClick:n,"data-open":String(i),children:[d.jsx(P_t,{children:t}),d.jsx(O_t,{isactive:i?"true":"false",children:d.jsx(uq,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(N_t,{})]})},S_t=({children:t})=>{let{activePanel:e}=x.useContext(JA),{value:n}=x.useContext(Z$);return d.jsx(j_t,{"data-open":String(e===n),children:d.jsx(Y6e,{children:t})})},I_t=({children:t})=>{let{activePanel:e}=x.useContext(JA),{value:n}=x.useContext(Z$);return d.jsx(Y6e,{children:typeof t=="function"?t({isActive:e===n}):t})};let T_t=J.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),$_t=J.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),N_t=J.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),P_t=J.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),R_t=J.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),j_t=J.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),Y6e=J.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),O_t=J.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");function M_t(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const Mse=t=>d.jsx(D_t,{href:t.chainType==="ethereum"?u_t(t.chainId,t.walletAddress):M_t(t.walletAddress,t.chainId),target:"_blank",children:Qo(t.walletAddress)});let D_t=J.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const Q6e=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((n==null?void 0:n.value)||0);return d.jsx(C_t,{...Fn().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(k_t,{value:"details",children:[d.jsx(__t,{children:d.jsxs(B_t,{children:[d.jsx("div",{children:(r==null?void 0:r.title)||"Details"}),d.jsx(L_t,{children:d.jsx(p_t,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(S_t,{children:[d.jsx(yO,{label:"From",children:d.jsx(Mse,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),d.jsx(yO,{label:"To",children:d.jsx(Mse,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),r&&r.action&&d.jsx(yO,{label:"Action",children:r.action}),s&&d.jsx(E_t,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(I_t,{children:({isActive:l})=>d.jsx(A_t,{value:n.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let B_t=J.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),L_t=J.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const F_t=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=st(),[r,i]=x.useState(!0),[s,o]=x.useState(void 0),[a,l]=x.useState(void 0);return x.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let c=await n();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:r,solPriceError:s}};function XA(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=st(),[h,f]=x.useState(!0),[p,m]=x.useState(void 0),[g,y]=x.useState(void 0);return x.useEffect(()=>{a||(a=1);let w=EV(u).find(v=>v.id===Number(a));(async()=>{if(l){if(!w)return f(!1),void m(Error(`Unable to fetch token price on chain id ${a}`));try{f(!0);let v=await c(w);v?y(v):m(Error(`Unable to fetch token price on chain id ${w.id}`))}catch(v){m(v)}finally{f(!1)}}else f(!1)})()},[a]),{tokenPrice:g,isTokenPriceLoading:h,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=F_t({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const Z6e=x.createContext(null);function Pg(){let t=x.useContext(Z6e);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function S7(t,e,n,r){let i=Qve(t),s=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:Kdt[s.type]}}let J6e=J.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const U_t=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let Kr=class extends Error{constructor(e,n){super(n),this.type=e}};function H3(t){let e=t.type;return typeof e=="string"&&U_t.includes(e)}function tE(t){return H3(t)&&t.type==="wallet_not_on_device"}function wG(t){return!!H3(t)&&t.type==="mfa_timeout"}function bG(t){return!!H3(t)&&t.type==="missing_or_invalid_mfa"}function z_t(t){return!!H3(t)&&t.type==="mfa_verification_max_attempts_reached"}function X6e(t){return!(!H3(t)||!t.message.includes("code 429"))}function e4e(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}const J$=()=>window.open(void 0,void 0,W_t({w:440,h:680}));let W_t=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`};const H_t=({title:t,description:e,children:n,...r})=>d.jsx(t4e,{...r,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,n]})}),xd=({title:t,description:e,icon:n,children:r,...i})=>d.jsxs(V_t,{...i,children:[n||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,r]});let t4e=J.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),V_t=J(t4e).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const n4e=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),r4e=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function Dse({url:t,popup:e,provider:n}){return e.location=t,new Promise((r,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(r(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function q_t({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new ue("User denied confirmation during OAuth flow");try{return(await t.post(bst,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(s){let o=Nn(s);throw o.privyErrorCode?new ue(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}async function Bse({api:t,provider:e}){let n=W$(),r=iG(),i=await sG(n);try{return e==="icloud"?{url:(await t.post(wst,{client_type:"web"})).url}:{url:(await t.post(yst,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(s){throw Nn(s)}}const vG=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],i4e=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await nL(i,{request:{chain_type:c}});else if(c==="ethereum"){let g=u$(t);g&&await o({address:g.address}),await n.create({accessToken:e,solanaAddress:g==null?void 0:g.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}else{if(c!=="solana")throw Error("Invalid input to create wallet");{let g=ph(t);g&&await o({address:g.address}),await n.createSolana({accessToken:e,ethereumAddress:g==null?void 0:g.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await nL(i,{request:{chain_type:c}});else{let{entropyId:g,entropyIdVerifier:y}=qu(t);await o(),await n.addWallet({accessToken:e,entropyId:g,entropyIdVerifier:y,chainType:c,hdWalletIndex:l})}let p=await r(),m=vG(p,{chainType:c,walletIndex:l})[0];return a(p),{user:p,account:m}},xG=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=st(),o=Fn();return{create:async({walletIndex:a,chainType:l,latestUser:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{let p=c;p||(p=await r());let m=await s.getAccessToken();if(!p||!m||!t)throw Error("User must be authenticated before creating a Privy wallet");return await i4e({appConfig:o,user:p,refreshSessionAndUser:r,privy:i,accessToken:m,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:a,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}},G_t=({title:t,description:e,onClose:n})=>d.jsx(Rn,{title:t,subtitle:e,icon:DA,iconVariant:"success",watermark:!0,onBack:n}),EG={component:()=>{let{user:t}=_n(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=st(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=lt(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let h=ph(t)??u$(t);t&&h?(r(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return x.useEffect(()=>{let h=setTimeout(u,2500);return()=>clearTimeout(h)},[]),o.current=u,d.jsx(G_t,{title:n?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},eU=J.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),K_t=J.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let Lse={"google-drive":{name:"Google Drive",component:r4e},icloud:{name:"iCloud",component:n4e}};const s4e={component:()=>{var F;let{logout:t}=_n(),{navigate:e,setModalData:n,data:r}=lt(),{closePrivyModal:i,createAnalyticsEvent:s}=st(),{execute:o}=(()=>{let{client:W,walletProxy:H,refreshSessionAndUser:L}=st(),{data:k}=lt(),{user:C}=_n(),_=Dw(),{create:T}=xG();return{execute:async({provider:S,action:P,popup:D,shouldCreateEth:O,shouldCreateSol:I})=>{var Y,ee;let B,Q;if(!W)throw new ue("Missing client");function j(Z){if(!Z&&W)throw W.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:S}}),new ue("Recovery OAuth failed")}switch(S){case"google-drive":{let Z,oe,{url:de,codeVerifier:ce,stateCode:he}=await Bse({api:W.api,provider:S});j(de);try{let be=await Dse({url:de,popup:D,provider:S});if(Z=be.stateCode,oe=be.authorizationCode,Z!==he)throw W.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:S,storedStateCode:he??"",returnedStateCode:Z??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED)}catch(be){throw W.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:be.toString(),provider:S}}),new ue("Recovery OAuth failed")}[B,Q]=await Promise.all([W.getAccessToken(),q_t({api:W.api,provider:S,codeVerifier:ce,stateCode:Z,authorizationCode:oe})]);break}case"icloud":{let{url:Z}=await Bse({api:W.api,provider:S});j(Z);let{ckWebAuthToken:oe}=await Dse({url:Z,popup:D,provider:S});Q=oe,B=await W.getAccessToken()}}if(!H)throw new ue("Cannot connect to wallet proxy");if(!B)throw new ue("Unable to authorize user");switch(P){case"recover":{let Z=(Y=k==null?void 0:k.recoverWallet)==null?void 0:Y.entropyId,oe=(ee=k==null?void 0:k.recoverWallet)==null?void 0:ee.entropyIdVerifier;if(!Z||!oe)throw new ue("Recovery OAuth failed");W.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:Z,recoveryMethod:S}}),await H.recover({accessToken:B,entropyId:Z,entropyIdVerifier:oe,recoveryAccessToken:Q}),W.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Z,recoveryMethod:S}});break}case"create-wallet":{let Z;if(W.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),O&&I)Z=await T({recoveryMethod:S,recoveryAccessToken:Q,chainType:"ethereum",walletIndex:0,latestUser:C}),Z=await T({chainType:"solana",walletIndex:0,latestUser:Z.user});else if(I)Z=await T({recoveryMethod:S,recoveryAccessToken:Q,chainType:"solana",walletIndex:0,latestUser:C});else{if(!O)throw Error("Invalid args to create wallet");Z=await T({recoveryMethod:S,recoveryAccessToken:Q,chainType:"ethereum",walletIndex:0,latestUser:C})}if(!Z)throw _("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");W.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:Z.account.address}}),_("createWallet","onSuccess",{wallet:Z.account});break}case"set-recovery":{let Z=bd(C);if(!Z)throw _("setWalletRecovery","onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");W.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:Z.address,existingRecoveryMethod:Z.recoveryMethod,targetRecoveryMethod:S}});let{entropyId:oe,entropyIdVerifier:de}=qu(C);await H.setRecovery({accessToken:B,entropyId:oe,entropyIdVerifier:de,recoveryMethod:S,recoveryAccessToken:Q});let ce=bd(await L());if(!ce)throw _("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");W.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:Z.address,existingRecoveryMethod:Z.recoveryMethod,targetRecoveryMethod:S}}),_("setWalletRecovery","onSuccess",{method:S,wallet:ce});break}default:throw new ue("Unsupported recovery action")}}}})(),[a,l]=x.useState(!1),{provider:c,action:u,isInAccountCreateFlow:h,shouldCreateEth:f,shouldCreateSol:p}=r==null?void 0:r.recoveryOAuthStatus,[m,g]=x.useState(void 0),[y,w]=x.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let v=Lse[c].name,b=Lse[c].component,A=(F=r==null?void 0:r.recoverWallet)==null?void 0:F.onCompleteNavigateTo,E=new ea(async(W="create-wallet")=>(w(!0),new Promise((H,L)=>{setTimeout(async()=>{try{let k=window.open();await o({provider:c,action:W,popup:k,shouldCreateEth:f,shouldCreateSol:p}),l(!0),H()}catch{g({message:`${W==="recover"?"Recovery":"Back up"} with ${v} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${v} account associated with your backup.`:"",retryable:!0}),L()}},0)})));x.useEffect(()=>{u!=="recover"&&E.execute(h?"create-wallet":"set-recovery")},[]),x.useEffect(()=>{if(!a)return;let W=setTimeout(()=>{h?(n({createWallet:{onSuccess:()=>{},onFailure:H=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:H,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(EG)):i({shouldCallAuthOnSuccess:!1})},Ur);return()=>clearTimeout(W)},[a]);let $=x.useCallback(async()=>{await E.execute("recover"),A?e(A):l(!0)},[]),N=c==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${N}.`||m&&m.message||`${u==="recover"?"Recovering":"Backing up"} with ${N}...`,M=m?m.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(wn,{}),y?d.jsx(d.Fragment,{children:d.jsxs(eU,{children:[d.jsx(xd,{title:R,icon:d.jsx(b,{style:{width:"38px",height:"38px"}}),description:M}),m&&(m!=null&&m.retryable)?d.jsx(hr,{onClick:()=>{GF(),g(void 0),u==="create-wallet"?E.execute("create-wallet"):$()},disabled:!a&&!(m!=null&&m.retryable),children:"Try again"}):null]})}):d.jsxs(eU,{children:[d.jsx(xd,{title:"Confirm it's really you",icon:d.jsx(b,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${N} where your account is backed up.`}),d.jsxs(hr,{onClick:$,children:["Confirm with ",N]})]}),d.jsx(er,{})]})}};let bO=J.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),Y_t={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},Q_t=({onClose:t})=>d.jsxs(K_t,{children:[d.jsx(xd,{title:"Why do I need to secure my account?",icon:d.jsx(Hv,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(hr,{onClick:t,children:"Select backup method"})]});const tU={component:()=>{let[t,e]=x.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=lt(),{user:l}=_n(),{embeddedWallets:c}=Fn(),{closePrivyModal:u}=st(),h=bd(l),f=h===null,{isInAccountCreateFlow:p,isResettingPassword:m,shouldCreateEth:g,shouldCreateSol:y}=o.recoverySelection,w=h&&h.recoveryMethod!=="privy",v=w?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:Y_t[(h==null?void 0:h.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function b(E){s({recoveryOAuthStatus:{provider:E,action:f?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:g,shouldCreateSol:y}}),n(s4e)}function A(){var E,$;(E=o==null?void 0:o.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:(($=o==null?void 0:o.setWalletPassword)==null?void 0:$.callAuthOnSuccessOnClose)??!1})}return a.current=A,d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:A,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?d.jsx(Q_t,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(xd,{title:w?"Update backup method":"Secure your account",icon:d.jsx(Yve,{width:48}),description:v}),d.jsx(eU,{children:c.userOwnedRecoveryOptions.filter(E=>!["icloud","google-drive"].includes((h==null?void 0:h.recoveryMethod)||"")||E!==(h==null?void 0:h.recoveryMethod)).sort().map(E=>{switch(E){case"google-drive":return d.jsxs(Vr,{onClick:()=>b("google-drive"),children:[d.jsx(bO,{children:d.jsx(r4e,{style:{width:18}})}),"Back up to Google Drive"]},E);case"icloud":return d.jsxs(Vr,{onClick:()=>b("icloud"),children:[d.jsx(bO,{children:d.jsx(n4e,{style:{width:24}})}),"Back up to Apple iCloud"]},E);case"user-passcode":return d.jsxs(Vr,{onClick:()=>{n(J4e({isCreatingWallet:f,skipSplashScreen:!0}))},children:[d.jsx(bO,{children:d.jsx(Bdt,{style:{width:18}})}),m?"Reset your":"Set a"," password"]},E);default:return null}})})]}),d.jsx(er,{})]})}};let Z_t=os(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const o4e=J.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Z_t,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),X$=J.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),eN=J(hr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&os(["&&{transition:none;}"]));let a4e=os(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const AG=J.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],a4e),J_t=J.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],a4e),tN=J.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),nN=J.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),CG=J.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),nU=J.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),Fse=J(J1).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),rN=J.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),X_t=J(rdt).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),iN=J(Sdt).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),sN=J(Tdt).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),eSt=J.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),tSt=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[s,o]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(""),h=n===c;return x.useEffect(()=>{c&&!a&&l(!0)},[c]),d.jsxs(d.Fragment,{children:[d.jsx(wn,{closeable:!1,backFn:i}),d.jsx(af,{}),d.jsxs(X$,{children:[d.jsxs(nN,{children:[d.jsx(Sw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(tN,{children:[d.jsx(AG,{value:c,onChange:f=>u(f.target.value),onKeyUp:f=>{f.key==="Enter"&&r()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(rN,{style:{right:"0.75rem"},children:s?d.jsx(iN,{onClick:()=>o(!1)}):d.jsx(sN,{onClick:()=>o(!0)})})]}),d.jsx(o4e,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),d.jsx(eN,{onClick:r,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),d.jsx(_d,{}),d.jsx(er,{})]})},l4e=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>d.jsx("label",{children:d.jsxs(nSt,{className:t,children:[d.jsx(u4e,{checked:e,...r}),d.jsx(rSt,{color:n,checked:e,children:d.jsx(c4e,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let nSt=J.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),c4e=J.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),u4e=J.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),rSt=J.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",u4e,t=>t.color,c4e,t=>t.checked?"visible":"hidden");const iSt=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[s,o]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(wn,{closeable:!1,backFn:r}),d.jsx(af,{}),d.jsxs(X$,{children:[d.jsxs(nN,{children:[d.jsx(Sw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(CG,{children:d.jsxs(nU,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(l=>!l)},children:[d.jsx(l4e,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(sSt,{children:[i.initiatedBy==="user"&&d.jsx(vd,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(eN,{onClick:n,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(_d,{}),d.jsx(er,{})]})};let sSt=J.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),oSt=/[a-z]/,aSt=/[A-Z]/,lSt=/[0-9]/,d4e="!@#$%^&*()\\-_+.",h4e=`a-zA-Z0-9${d4e}`,cSt=RegExp(`[${d4e}]`),uSt=RegExp(`[${h4e}]`);const dSt=RegExp(`^[${h4e}]{6,}$`),f4e=()=>Jht(4,eft);function hSt(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function fSt(t=""){return(.3*function(e){if(e.length<8)return 0;let n=0;return oSt.test(e)&&(n+=1),aSt.test(e)&&(n+=1),lSt.test(e)&&(n+=1),cSt.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))}(t)+qht(t)/95)/2}const pSt=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,h]=x.useState(!1),[f,p]=x.useState(!1);x.useEffect(()=>{n&&!f&&p(!0)},[n]);let m=x.useMemo(()=>f?6>((n==null?void 0:n.length)||0)?"Password must be at least 6 characters":dSt.test(n||"")?null:`Invalid characters used ( ${((w="")=>[...new Set(w.split("").filter(v=>!uSt.test(v)).map(v=>v.replace(" ","SPACE")))])(n).join(" ")} )`:null,[n,f]),g=x.useMemo(()=>m?{value:0,label:"Weak"}:function(w=""){let v=fSt(w);return{value:v,label:hSt(v)}}(n),[n,m]),y=x.useMemo(()=>!(n!=null&&n.length)||!!m,[m,n]);return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:o,closeable:r.initiatedBy==="user",backFn:a}),d.jsx(af,{}),d.jsxs(X$,{children:[d.jsxs(nN,{children:[d.jsx(Pdt,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(tN,{children:[d.jsx(AG,{value:n,onChange:w=>l(w.target.value),onKeyUp:w=>{w.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(rN,{style:{width:"3.5rem"},children:[u?d.jsx(iN,{onClick:()=>h(!1)}):d.jsx(sN,{onClick:()=>h(!0)}),d.jsx(X_t,{onClick:c})]})]}),d.jsx(eSt,{value:g.value===0?.01:g.value,label:g.label}),d.jsx(o4e,{error:!!m,children:m||`Password Strength: ${f?g.label:"--"}`}),d.jsxs(gSt,{children:[d.jsx(mSt,{children:d.jsxs(CG,{children:[d.jsxs(nU,{children:[d.jsx(F8,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(nU,{children:[d.jsx(F8,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(eN,{onClick:s,loading:e,disabled:y,$hideAnimations:t,children:"Continue"})]})]}),d.jsx(_d,{}),d.jsx(er,{})]})};let mSt=J(CG).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),gSt=J.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const ySt=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:s})=>{let[o,a]=x.useState(!1),[l,c]=x.useState(!0),u=x.useCallback(()=>{a(!0),r&&navigator.clipboard.writeText(r)},[r]),h=x.useCallback(()=>{let f=document.createElement("a"),p=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),m=new Blob([wSt(n,r)],{type:"text/plain"}),g=URL.createObjectURL(m);f.href=g,f.target="_blank",f.download=`${p}-privy-wallet-recovery.txt`,document.body.appendChild(f),f.click(),setTimeout(()=>{f.remove(),URL.revokeObjectURL(g)},5e3)},[r]);return d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:s,closeable:!1}),d.jsx(af,{}),d.jsxs(X$,{children:[d.jsxs(nN,{children:[d.jsx(Sw,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsxs(tN,{centered:!0,children:[d.jsx(J_t,{children:l?"".repeat(r.length):r}),d.jsx(rN,{style:{right:"0.75rem"},children:l?d.jsx(iN,{onClick:()=>c(!1)}):d.jsx(sN,{onClick:()=>c(!0)})})]}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(Fse,{onClick:u,children:d.jsxs(d.Fragment,o?{children:[d.jsx(Kve,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(Adt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(Fse,{onClick:h,children:[d.jsx(Xut,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(eN,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),d.jsx(_d,{}),d.jsx(er,{})]})};let wSt=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const bSt=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(wn,{closeable:!1}),d.jsx(af,{}),d.jsxs(Y$,t?{children:[d.jsx(nft,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(xd,{title:"Something went wrong",description:t})]}:{children:[d.jsx(F8,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(xd,{title:"Success"})]}),d.jsx(hr,{onClick:e,children:"Close"}),d.jsx(_d,{}),d.jsx(er,{})]});let vSt=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const p4e=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=lt(),{send:i,state:s}=(()=>{let[c,u]=x.useReducer(vSt,"creating");return{send:u,state:c}})(),o=x.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);x.useEffect(()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},Ur)),()=>{c&&clearTimeout(c)}},[s,e.config.initiatedBy,e.onClose]);let a=x.useCallback(()=>{i("back")},[i]),l=x.useCallback(()=>{r(tU)},[n,r]);return s==="creating"?d.jsx(pSt,{...e,onSubmit:o,onBack:n===tU?l:void 0}):s==="saving"?d.jsx(ySt,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(tSt,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(iSt,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(bSt,{...e,onSubmit:o}):null};let xSt={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const oN=t=>{let e=xSt[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let m4e=x.createContext({});const ESt=({children:t})=>{let e=Fn(),[n,r]=x.useState({});return q$("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Nt.put(Use(e.id),i.type),i.type==="wallet"?(Nt.put(vO(e.id),i.walletClientType),Nt.put(xO(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Nt.del(vO(e.id)),Nt.del(xO(e.id)),r({accountType:i.type})))}}),x.useEffect(()=>{if(!e.id)return;let i=Nt.get(Use(e.id)),s=Nt.get(vO(e.id)),o=Nt.get(xO(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),d.jsx(m4e.Provider,{value:n,children:t})};let Use=t=>`privy:${t}:recent-login-method`,vO=t=>`privy:${t}:recent-login-wallet-client`,xO=t=>`privy:${t}:recent-login-chain-type`;const Rg=()=>x.useContext(m4e),g4e=()=>{var i;let{app:t}=lt(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,n=`${t==null?void 0:t.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?Ae.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},ASt=t=>{let{app:e}=lt();return e!=null&&e.appearance.logo?d.jsx(CSt,{...t,children:d.jsx(g4e,{})}):null},CSt=J.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),kSt=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{}),_St=({appId:t})=>{let[e,n]=x.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=_n(),{client:s}=st();return x.useEffect(()=>{(async()=>s&&n(await s.getCrossAppProviderDetails(t)))()},[s]),d.jsx(Vr,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(kSt,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(Ng,{})})};let SSt=J.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const Wx=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:s,...o})=>d.jsx(SSt,{as:r,$size:t,$variant:e,$disabled:n,onClick:a=>{n?a.preventDefault():s==null||s(a)},...o,children:i}),kG=(t,e)=>!ph(t)&&(e==="all-users"||e==="users-without-wallets"&&!ISt(t).length);let ISt=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const _G=(t,e)=>!u$(t)&&(e==="all-users"||e==="users-without-wallets"&&!TSt(t).length);let TSt=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const jg=(t,e)=>kG(t,e.ethereum.createOnLogin)||_G(t,e.solana.createOnLogin),$St=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>d.jsx(Rn,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:eht,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),eC={component:()=>{let{navigate:t,app:e,setModalData:n,data:r}=lt(),{getAuthMeta:i,client:s}=st();return d.jsx($St,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();n({...r,login:{...r==null?void 0:r.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Do)}})}},NSt=J.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),Ma=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,s]=x.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return x.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),d.jsxs(PSt,n?{children:[d.jsx(jSt,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:Qo(t)}),e&&d.jsx(vd,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(U8,{size:16})]}:{children:["Copy",d.jsx(XS,{size:16})]})})]}:{children:[d.jsx(RSt,{title:t,className:r,children:Qo(t)}),e&&d.jsx(vd,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(U8,{size:14})]}:{children:["Copy",d.jsx(XS,{size:14})]})})]})};let PSt=J.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),RSt=J.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),jSt=J.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function OSt(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),d.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const rU=792703809,iU="11111111111111111111111111111111";let zse="0x0000000000000000000000000000000000000000";const Yv=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??zse,destinationCurrency:e??zse,...n});let y4e="https://api.relay.link",w4e="https://api.testnets.relay.link";const nE=async({input:t,isTestnet:e})=>{let n=await fetch((e?w4e:y4e)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},I7=t=>{var n,r;let e=(r=(n=t.steps[0])==null?void 0:n.items)==null?void 0:r[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function MSt({transactionHash:t,isTestnet:e}){var i;let n=await fetch((e?w4e:y4e)+"/requests/v2?hash="+t),r=await n.json();if(!n.ok)throw"message"in r&&typeof r.message=="string"?Error(r.message):Error("Error fetching request from relay");return((i=r.requests.at(0))==null?void 0:i.status)??"pending"}function SG({transactionHash:t,isTestnet:e,bridgingStatus:n,setBridgingStatus:r,onSuccess:i,onFailure:s}){x.useEffect(()=>{if(t&&n){if(["delayed","waiting","pending"].includes(n)){let o=setInterval(async()=>{try{let a=await MSt({transactionHash:t,isTestnet:e});r(a)}catch(a){console.error(a)}},1e3);return()=>clearInterval(o)}n==="success"?i({transactionHash:t}):["refund","failure"].includes(n)&&s({error:new b4e(t,e)})}},[n,t,e])}let b4e=class extends ue{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,pe.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const aN=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((o,a)=>{if(o instanceof b4e)return{title:"Transaction failed",detail:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o.message}),d.jsxs("span",{children:[" ","Check the"," ",d.jsx(DSt,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:hl};if(o instanceof ue)switch(o.privyErrorCode){case pe.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:hl};case pe.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:hl};case pe.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:hl};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:hl}}else{if(o instanceof Kr&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:iht};if(!(o instanceof Oo))return o instanceof $l&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:hl}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:hl};switch(o.privyErrorCode){case pe.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:hl};case pe.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:hl};case pe.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:hq};case pe.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case pe.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case pe.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:hl};case pe.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:hl};case pe.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:hl};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:hl}}}})(t,e);return d.jsx(Rn,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof Oo&&(t.privyErrorCode===pe.INVALID_CAPTCHA&&(r==null||r()),t.privyErrorCode===pe.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n==null||n()},variant:"error"},watermark:!0})},Gr={component:()=>{var a,l;let{navigate:t,data:e,lastScreen:n,currentScreen:r,app:i}=lt(),{reset:s}=ll(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(n===r?void 0:n);return d.jsx(aN,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Do,!1)},onCaptchaReset:s})}};let DSt=J.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const v4e=({onTransfer:t,isTransferring:e,transferSuccess:n})=>d.jsx(hr,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),x4e=J.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),sU=J.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),E4e=J.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),BSt=J(QV).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),LSt=J(Wdt).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),FSt=J.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),Wse=J.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),USt=J.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let zSt=()=>d.jsx(USt,{children:d.jsx(BSt,{$iconSize:60})});const WSt=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:o}=Fn(),a=((l=o.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:e,backFn:n}),d.jsxs(x4e,{children:[d.jsx(zSt,{}),d.jsxs(sU,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(FSt,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx(Wse,{children:"Log out and log back into the other account, or "}),d.jsxs(Wse,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(E4e,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(e$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Ma,{address:t,showCopyIcon:!1}),d.jsx(LSt,{})]}),d.jsx(v4e,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),d.jsx(er,{})]})},Bw={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=st(),{data:n,navigate:r,lastScreen:i,setModalData:s}=lt(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=async()=>{var p,m,g,y,w,v,b,A,E,$;try{if(!((p=n==null?void 0:n.accountTransfer)!=null&&p.nonce)||!((m=n==null?void 0:n.accountTransfer)!=null&&m.account))throw Error("missing account transfer inputs");h(!0),await t({nonce:(g=n==null?void 0:n.accountTransfer)==null?void 0:g.nonce,account:(y=n==null?void 0:n.accountTransfer)==null?void 0:y.account,accountType:(w=n==null?void 0:n.accountTransfer)==null?void 0:w.linkMethod,externalWalletMetadata:(v=n==null?void 0:n.accountTransfer)==null?void 0:v.externalWalletMetadata,telegramWebAppData:(b=n==null?void 0:n.accountTransfer)==null?void 0:b.telegramWebAppData,telegramAuthResult:(A=n==null?void 0:n.accountTransfer)==null?void 0:A.telegramAuthResult,farcasterEmbeddedAddress:(E=n==null?void 0:n.accountTransfer)==null?void 0:E.farcasterEmbeddedAddress,oAuthUserInfo:($=n==null?void 0:n.accountTransfer)==null?void 0:$.oAuthUserInfo}),c(!0),h(!1),setTimeout(e,1e3)}catch(N){s({errorModalData:{error:N,previousScreen:i||Bw}}),r(Gr,!0)}};return o?d.jsx(WSt,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:f,isTransferring:u,transferSuccess:l}):d.jsx(HSt,{onClose:e,onInfo:()=>{var p;return a((p=n==null?void 0:n.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onContinue:()=>{var p;return a((p=n==null?void 0:n.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onTransfer:f,isTransferring:u,transferSuccess:l,data:n})}},HSt=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:o})=>{var l,c,u,h,f,p,m;if(!((l=o==null?void 0:o.accountTransfer)!=null&&l.linkMethod)||!((c=o==null?void 0:o.accountTransfer)!=null&&c.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(h=o==null?void 0:o.accountTransfer)==null?void 0:h.displayName,disclosedAccount:(f=o==null?void 0:o.accountTransfer)!=null&&f.embeddedWalletAddress?{type:"wallet",handle:(p=o==null?void 0:o.accountTransfer)==null?void 0:p.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(wn,{closeable:!0}),d.jsxs(x4e,{children:[d.jsx(J6e,{children:d.jsxs("div",{children:[d.jsx(NSt,{color:"var(--privy-color-error)"}),d.jsx(Sw,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(sU,{children:[d.jsxs("h3",{children:[function(g){switch(g){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${i6e(g.replace("_oauth",""))} profile`;default:return g.startsWith("privy:")?"Cross-app account":g}}(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(VSt,{onClick:n,disclosedAccount:a.disclosedAccount})]}),d.jsxs(sU,{style:{gap:12,marginTop:12},children:[(m=o==null?void 0:o.accountTransfer)!=null&&m.embeddedWalletAddress?d.jsx(hr,{onClick:e,children:"Continue"}):d.jsx(v4e,{onTransfer:r,transferSuccess:i,isTransferring:s}),d.jsx(vd,{onClick:t,children:"No thanks"})]})]}),d.jsx(er,{})]})};function VSt({disclosedAccount:t,onClick:e}){return t?d.jsxs(E4e,{onClick:e,children:[d.jsx(e$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Ma,{address:t.handle,showCopyIcon:!1}),d.jsx(OSt,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const qSt=({errorMessage:t,onClose:e})=>d.jsx(Rn,t?{title:"Something went wrong",subtitle:t,icon:f$,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),e0={component:()=>{let{app:t,setModalData:e,navigate:n,data:r,onUserCloseViaDialogOrKeybindRef:i}=lt(),[s,o]=x.useState(""),{embeddedWallets:a}=Fn(),{authenticated:l,user:c}=_n(),{closePrivyModal:u,walletProxy:h,client:f}=st(),{onSuccess:p,onFailure:m,callAuthOnSuccessOnClose:g,shouldCreateEth:y,shouldCreateSol:w}=r.createWallet,v=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[b,A]=x.useState(null),{create:E}=xG(),$=y??(!!c&&kG(c,t.embeddedWallets.ethereum.createOnLogin)),N=w??(!!c&&_G(c,t.embeddedWallets.solana.createOnLogin)),R=new ea(async()=>{let M=await f.getAccessToken();if(c&&M&&h)try{let F;if($&&N)F=await E({chainType:"ethereum",walletIndex:0,latestUser:c}),F=await E({chainType:"solana",walletIndex:0,latestUser:F.user});else if(N)F=await E({chainType:"solana",walletIndex:0,latestUser:c});else{if(!$)return void u({shouldCallAuthOnSuccess:g});F=await E({chainType:"ethereum",walletIndex:0,latestUser:c})}A(F),n(EG)}catch(F){o(F.message)}});return x.useEffect(()=>l&&c?v?(e({...r,createWallet:{...r.createWallet,shouldCreateEth:$,shouldCreateSol:N},recoverySelection:{...r==null?void 0:r.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:$,shouldCreateSol:N}}),n(X4e({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(n(Do),void m(Error("User must be authenticated before creating a Privy wallet"))),[v,l]),i.current=()=>null,d.jsx(qSt,{errorMessage:s||void 0,onClose:()=>{b?(p(b),u({shouldCallAuthOnSuccess:g})):(m(new Ym("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},Lw={component:()=>{let{user:t,logout:e}=_n(),{app:n,onUserCloseViaDialogOrKeybindRef:r,setModalData:i,navigate:s}=lt(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=st(),c=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return r.current=c,d.jsx(GSt,{termsAndConditionsUrl:n==null?void 0:n.legal.termsAndConditionsUrl,privacyPolicyUrl:n==null?void 0:n.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&jg(t,n.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(e0)):a()},onDecline:c})}},GSt=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>d.jsx(Rn,{title:i,subtitle:s,icon:rht,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&d.jsxs(KSt,{children:[t&&d.jsxs(J1,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",d.jsx(BL,{width:16,height:16,strokeWidth:2.25})]}),e&&d.jsxs(J1,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",d.jsx(BL,{width:16,height:16,strokeWidth:2.25})]})]})});let KSt=J.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const A4e=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let YSt=J.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),QSt=J.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),ZSt=J(fdt).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),JSt=J(A4e).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function XSt({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[s,o]=x.useState(!1);return d.jsxs(YSt,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?d.jsxs(QSt,{children:[d.jsx(ZSt,{})," ",!e&&"Copied"]}):!r&&d.jsx(JSt,{})]})}const e7t=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let EO=(t,e,n,r,i)=>{for(let s=e;s<e+r;s++)for(let o=n;o<n+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},t7t=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map(s=>d.jsx("circle",{r:n*(7-2*s)/2,cx:t+7*n/2,cy:e+7*n/2,fill:s%2!=0?r:i},`finder-${t}-${e}-${s}`))}),n7t=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>d.jsx(t7t,{x:i,y:s,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${s}`))}),r7t=({matrix:t,cellSize:e,color:n})=>d.jsx(d.Fragment,{children:t.map((r,i)=>r.map((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${o}`):d.jsx(Ae.Fragment,{},`circle-${i}-${o}`)))}),i7t=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return d.jsx(d.Fragment,{});let s=e*(r||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(n,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},s7t=t=>{var s;let e=t.outputSize,n=((o,a)=>{let l=BA.create(o,{errorCorrectionLevel:a}).modules,c=((u,h)=>{let f=u.slice(0),p=[];for(;f.length;)p.push(f.splice(0,h));return p})(Array.from(l.data),l.size);return c=EO(c,0,0,7,7),c=EO(c,c.length-7,0,7,7),EO(c,0,c.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=function(o,{min:a,max:l}){return Math.min(Math.max(o,a),l)}(2*r,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(r7t,{matrix:n,cellSize:r,color:t.fgColor}),d.jsx(n7t,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(i7t,{cellSize:r,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:n.length})]})},o7t=J.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const tC=t=>{let{appearance:e}=Fn(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?n:r;return d.jsx(o7t,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:d.jsx(s7t,{url:t.url,logo:{element:t.squareLogoElement??e7t},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},X1=J.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let C4e=J.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const k4e=J(C4e).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),a7t=J(C4e).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),_4e=J.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],X1),S4e=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),mv={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:ZF,md:ZF}}};class Nl{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(n=>n.startsWith("eip155:"))}isSol(e){return e.chains.some(n=>n.startsWith("solana:"))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=Nl.normalize(e);return this.normalizedAllowList.some(i=>r===Nl.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){var l;let r=new Map,i=c=>{let u=r.get(c.id);if(u){u.chainType!==c.chainType&&(u.chainType="multi");let h=new Set(u.chains);c.chains.forEach(f=>h.add(f)),u.chains=Array.from(h),!u.icon&&c.icon&&(u.icon=c.icon),!u.url&&c.url&&(u.url=c.url),!u.listing&&c.listing&&(u.listing=c.listing)}else r.set(c.id,c)};e.filter(c=>this.connectorOk(c)).forEach(c=>{var h,f;let u=Nl.normalize(c.walletClientType);i({id:u,label:((h=c.walletBranding)==null?void 0:h.name)??u,source:"connector",connector:c,chainType:c.chainType,icon:(f=c.walletBranding)==null?void 0:f.icon,url:void 0,chains:[c.chainType==="ethereum"?"eip155":"solana"]})}),n.filter(c=>this.listingOk(c)).forEach(c=>{var g,y;let u=this.isEth(c),h=this.isSol(c),f=Nl.normalize(c.slug),p=mv[c.slug],m=((g=p==null?void 0:p.image_url)==null?void 0:g.sm)||((y=c.image_url)==null?void 0:y.sm);i({id:f,label:c.name||f,source:"listing",listing:c,chainType:u&&h?"multi":u?"ethereum":"solana",icon:m,url:c.homepage,chains:c.chains})});let s=e.find(c=>c.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:O6e,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(r.values());o.forEach(c=>{var h,f;let u=mv[((h=c.listing)==null?void 0:h.slug)||c.id];(f=u==null?void 0:u.image_url)!=null&&f.sm&&(c.icon=u.image_url.sm)});let a=new Map;return(l=this.normalizedAllowList)==null||l.forEach((c,u)=>{a.set(Nl.normalize(c),u)}),{wallets:o.slice().sort((c,u)=>{let h=Nl.normalize(c.id),f=Nl.normalize(u.id);h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom"),f==="binance-defi"?f="binance":f==="universalprofiles"?f="universal_profile":f==="cryptocom-defi"&&(f="cryptocom");let p=a.has(h),m=a.has(f);return p&&m?a.get(h)-a.get(f):p?-1:m?1:c.source==="connector"&&u.source==="listing"?-1:c.source==="listing"&&u.source==="connector"?1:c.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,n){var r,i,s,o;this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=((r=this.normalizedAllowList)==null?void 0:r.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((s=this.normalizedAllowList)==null?void 0:s.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect_qr"))??!1}}var oU=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),d.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),d.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),d.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),d.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),aU=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[d.jsx("stop",{offset:"0",stopColor:"#9945ff"}),d.jsx("stop",{offset:".2",stopColor:"#7962e7"}),d.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),d.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const l7t=J.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),d4=J.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),c7t=J.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),u7t=Iw(()=>({isModalOpen:!1,resolvers:null}));Iw(()=>({}));const d7t=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Nt.put(h7t(n),r),u7t.setState({wallet:r})},h7t=t=>`privy:${t}:active-wallet-connection`;function I4e({walletList:t,walletChainType:e}){var g;let n=Fn(),{connectors:r}=st(),i=ZA(y=>y.listings),s=e??n.appearance.walletChainType,o=t??((g=n.appearance)==null?void 0:g.walletList),a=x.useMemo(()=>new Nl(s,o),[s,o]),{wallets:l,walletCount:c}=x.useMemo(()=>a.getWallets(r,i),[a,r,i]),[u,h]=x.useState(""),f=x.useMemo(()=>u?l.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):l,[u,l]),[p,m]=x.useState();return{selected:p,setSelected:m,search:u,setSearch:h,wallets:f,walletCount:c}}let T4e=t=>!t||typeof t!="string"&&(t instanceof aG||t instanceof uG);const lU=({index:t,style:e,data:n,recent:r})=>{var l,c;let i=n.wallets[t],{walletChainType:s,handleWalletClick:o}=n,a={...e,boxSizing:"border-box"};return i?d.jsxs(Z9,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!T4e(i.connector)?d.jsx(l7t,{children:typeof i.icon=="string"?d.jsx(d4,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?d.jsx(d4,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})),d.jsx(J9,{children:i.label}),r?d.jsxs(d.Fragment,{children:[d.jsx(c7t,{children:"Last used"}),d.jsx(T7,{children:d.jsxs(d.Fragment,{children:[s==="ethereum-only"&&d.jsx(oU,{}),s==="solana-only"&&d.jsx(aU,{})]})})]}):d.jsx(T7,{children:!(s==="ethereum-only"||s==="solana-only")&&d.jsxs(d.Fragment,{children:[((l=i.chains)==null?void 0:l.some(u=>u.startsWith("eip155")))&&d.jsx(oU,{}),((c=i.chains)==null?void 0:c.some(u=>u.startsWith("solana")))&&d.jsx(aU,{})]})})]}):null};var $4e=({className:t,customDescription:e,connectOnly:n,preSelectedWalletId:r,...i})=>{var T;let s=Fn(),{connectors:o}=st(),a=i.walletChainType||s.appearance.walletChainType,l=i.walletList||((T=s.appearance)==null?void 0:T.walletList),{onBack:c,onClose:u,app:h}=i,{selected:f,setSelected:p,qrUrl:m,setQrUrl:g,connecting:y,uiState:w,wallets:v,walletCount:b,handleConnect:A,handleBack:E,showSearchBar:$,isInitialConnectView:N,title:R,search:M,setSearch:F}=function({onConnect:S,onBack:P,onClose:D,onConnectError:O,walletList:I,walletChainType:B,app:Q}){let j=Fn(),{connectors:Y}=st(),{wallets:ee,walletCount:Z,search:oe,setSearch:de,selected:ce,setSelected:he}=I4e({walletList:I,walletChainType:B}),[be,fe]=x.useState(),[ke,we]=x.useState(),[Fe,Me]=x.useState(),Se=!ce&&!ke&&!Fe,ve=Se&&(Z>6||oe.length>0),Oe=Y.find(We=>We.connectorType==="wallet_connect_v2"),Le=x.useCallback(async(We,rt)=>{var G,U;if(We){if((Fe==null?void 0:Fe.connector)===We)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(fe("loading"),typeof We=="string")return Me({connector:We,name:(rt==null?void 0:rt.name)??"Wallet",icon:rt==null?void 0:rt.icon}),void window.open(We,"_blank");Me({connector:We,name:(rt==null?void 0:rt.name)??We.walletBranding.name??"Wallet",icon:(rt==null?void 0:rt.icon)??We.walletBranding.icon});try{let z=await We.connect({showPrompt:!0});if(!z)return fe("error"),void(O==null?void 0:O(new Ar("Unable to connect wallet")));fe("success"),d7t({address:z.address,client:z.walletClientType,appId:j.id}),setTimeout(()=>{S({connector:We,wallet:z})},Ur)}catch(z){if(console.error("ERROR: ",{e:z}),((G=z==null?void 0:z.message)==null?void 0:G.includes("already pending for origin"))||((U=z==null?void 0:z.message)==null?void 0:U.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");fe("error"),O==null||O(new Ar("Unable to connect wallet"))}}},[j.id,S,Fe]),Ce=x.useCallback(()=>ke?(fe(void 0),Me(void 0),void we(void 0)):Fe?(fe(void 0),void Me(void 0)):ce?(fe(void 0),Me(void 0),void he(void 0)):be==="error"||be==="loading"?(fe(void 0),void Me(void 0)):void(P==null?void 0:P()),[ke,Fe,ce,be,P]),De=x.useMemo(()=>(Fe==null?void 0:Fe.connector)===Oe&&ke&&Er?`Go to ${Fe.name} to continue`:(Fe==null?void 0:Fe.connector)===Oe&&ke?`Scan code to connect to ${Fe.name}`:typeof(Fe==null?void 0:Fe.connector)=="string"?`Open or install ${Fe.name}`:ce&&!Fe?"Select network":Fe?null:"Select your wallet",[Fe,ke,ce,Oe]);return{selected:ce,setSelected:he,qrUrl:ke,setQrUrl:we,connecting:Fe,uiState:be,search:oe,setSearch:de,wallets:ee,walletCount:Z,wc:Oe,isInitialConnectView:Se,showSearchBar:ve,title:De,handleConnect:Le,handleBack:Ce,onClose:D,onConnect:S,app:Q}}({...i,walletList:l,walletChainType:a}),W=o.find(S=>S.connectorType==="wallet_connect_v2"),H=x.useRef(null),L=hlt({count:v.length,getScrollElement:()=>H.current,estimateSize:()=>56,overscan:6,gap:5}),k=x.useCallback(async S=>{var B,Q,j,Y,ee,Z,oe;let P,D=a!=="solana-only"&&((B=S.chains)==null?void 0:B.some(de=>de.startsWith("eip155"))),O=a!=="ethereum-only"&&((Q=S.chains)==null?void 0:Q.some(de=>de.startsWith("solana"))),I=cG[S.id];if(O&&I)P=I.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let de=(Y=(j=S.listing)==null?void 0:j.mobile)==null?void 0:Y.native;P=((Z=(ee=S.listing)==null?void 0:ee.mobile)==null?void 0:Z.universal)||de||S.url}if(D&&O){let de=Nl.normalize(S.id),ce=o.filter(fe=>Nl.normalize(fe.walletClientType)===de&&!(fe.chainType==="ethereum"&&fe instanceof aG||fe.chainType==="solana"&&fe instanceof uG)),he=ce.find(fe=>fe.chainType==="ethereum"),be=ce.find(fe=>fe.chainType==="solana");if(!he&&S.listing){let fe=mv[S.listing.slug]?{...S.listing,...mv[S.listing.slug]}:S.listing;W.setWalletEntry(fe,g),await W.resetConnection(S.id),he=W}if(!be&&P&&(be=P),he||be)return void p({eth:he,sol:be,name:S.label,icon:S.icon})}if(!T4e(S.connector))return((oe=S.connector)==null?void 0:oe.connectorType)==="wallet_connect_v2"&&(await W.resetConnection(S.id),W.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},g)),void await A(S.connector,{name:S.label,icon:S.icon});if(D||O||S.url||S.listing){if(D&&S.listing){let de=mv[S.listing.slug]?{...S.listing,...mv[S.listing.slug]}:S.listing;W.setWalletEntry(de,g),await W.resetConnection(S.id)}if(D&&O)return void p({eth:W,sol:P,name:S.label,icon:S.icon});if(O)return void await A(P,{name:S.label,icon:S.icon});if(D)return void(S.listing?await A(W,{name:S.label,icon:S.icon}):S.url?await A(S.url,{name:S.label,icon:S.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",S.label));if(S.url)return void await A(S.url,{name:S.label,icon:S.icon})}},[W,A,p,g,E,u,h,N,R,e,s,o]),C=c||E,_=!!c||!N;return x.useEffect(()=>{if(!r)return;let S=v.find(({id:P})=>P===r);S&&k(S).catch(console.error)},[r]),d.jsxs(or,{className:t,children:[d.jsx(or.Header,{icon:y&&!m||m&&Er&&(y!=null&&y.icon)?y.icon:y?void 0:S4e,iconVariant:y&&!m||m&&Er?"loading":void 0,iconLoadingStatus:y&&!m||m&&Er?{success:w==="success",fail:w==="error"}:void 0,title:y&&!m?`Waiting for ${y.name}`:m&&Er?`Waiting for ${(y==null?void 0:y.name)??"connection"}`:R,subtitle:y&&!m&&typeof y.connector=="string"?`To connect to ${y.name}, install and open the app. Then confirm the connection when prompted.`:y&&!m&&typeof y.connector!="string"?w==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":N?e??(h?`Connect a wallet to your ${h.name} account`:null):null,showBack:_,showClose:!0,onBack:C,onClose:u}),d.jsxs(or.Body,{ref:H,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[$&&d.jsx(f7t,{children:d.jsxs(k4e,{style:{background:"transparent"},children:[d.jsx(zh,{children:d.jsx(Odt,{})}),d.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:S=>F(S.target.value),value:M})]})}),m&&Er&&w==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(J1,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Er&&w==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(g7t,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Er&&d.jsx(tC,{size:280,url:m.universal??m.native,squareLogoElement:y!=null&&y.icon?typeof y.icon=="string"?S=>d.jsx("svg",{...S,children:d.jsx("image",{href:y.icon,height:S.height,width:S.width})}):y.icon:p9t}),d.jsxs(p7t,{children:[y&&!m&&typeof y.connector=="string"&&d.jsxs(Z9,{onClick:()=>window.open(y.connector,"_blank"),children:[y.icon&&(typeof y.icon=="string"?d.jsx(d4,{src:y.icon}):d.jsx(y.icon,{})),d.jsx(J9,{children:y.name})]}),(f==null?void 0:f.eth)&&!y&&d.jsxs(Z9,{onClick:()=>A(f.eth,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?d.jsx(d4,{src:f.icon}):d.jsx(f.icon,{})),d.jsx(J9,{children:f.name}),d.jsx(T7,{children:d.jsx(oU,{})})]}),(f==null?void 0:f.sol)&&!y&&d.jsxs(Z9,{onClick:()=>A(f.sol,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?d.jsx(d4,{src:f.icon}):d.jsx(f.icon,{})),d.jsx(J9,{children:f.name}),d.jsx(T7,{children:d.jsx(aU,{})})]}),N&&d.jsxs(d.Fragment,{children:[!(b>0)&&d.jsx(m7t,{children:"No wallets found. Try another search."}),b>0&&!m&&d.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:d.jsx("div",{style:{height:`${L.getTotalSize()}px`,width:"100%",position:"relative"},children:L.getVirtualItems().map(S=>d.jsx(lU,{index:S.index,style:{position:"absolute",top:0,left:0,height:`${S.size}px`,transform:`translateY(${S.start}px)`},data:{wallets:v,walletChainType:a,handleWalletClick:k}},S.key))})})]})]})]}),d.jsxs(or.Footer,{children:[y&&!m&&typeof y.connector!="string"&&w==="error"&&d.jsx(or.Actions,{children:d.jsx(J1,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>A(y.connector,{name:y.name,icon:y.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&d.jsx(hG,{app:h,alwaysShowImplicitConsent:!0}),d.jsx(or.Watermark,{})]})]})};let f7t=J.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),p7t=J.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),Z9=J.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),T7=J.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),m7t=J.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),J9=J.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),g7t=J(XSt).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const y7t=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),Hse=t=>{var n;let e=(n=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:n.split(" ").filter(r=>No(r,{strict:!0})).map(r=>Mi(r));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(r=>r.type=="wallet"&&e.includes(r.address)).length)};let N4e=x.createContext({plugins:{current:{}}});const w7t=({children:t})=>{let e=x.useRef({});return d.jsx(N4e.Provider,{value:{plugins:e},children:t})},IG=()=>{let{plugins:t}=x.useContext(N4e);return x.useCallback(e=>t.current[e],[t])},P4e=Symbol("solana-ledger-plugin"),b7t=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>d.jsx(Rn,{title:t,subtitle:e,icon:hq,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i==null||i()}},watermark:!0}),lN={component:()=>{let{navigate:t,app:e}=lt(),n=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",r=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return d.jsx(b7t,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Do)}})}},v7t=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=x.useMemo(()=>{switch(t){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),c=x.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return d.jsx(Rn,{icon:t==="loading"||t==="ready"?void 0:t==="success"?DA:f$,iconVariant:c,title:e,subtitle:n,primaryCta:l,watermark:!0})},Ed={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=lt(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=ll(),c=x.useRef([]),u=N=>{c.current=[N,...c.current]},[h,f]=x.useState(!0);x.useEffect(()=>(u(setTimeout(f,1e3,!1)),()=>{c.current.forEach(N=>clearTimeout(N)),c.current=[]}),[]);let[p,m]=x.useState(""),[g,y]=x.useState("Checking that you are a human..."),[w,v]=x.useState(!1),[b,A]=x.useState(3),E=e==null?void 0:e.captchaModalData,$=async N=>{try{await(E==null?void 0:E.callback(N)),E!=null&&E.onSuccessNavigateTo&&n(E==null?void 0:E.onSuccessNavigateTo,!1)}catch(R){if(R instanceof H$)return;r({errorModalData:{error:R,previousScreen:t||Do}}),n((E==null?void 0:E.onErrorNavigateTo)||Gr,!1)}};return x.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let N=await o();!N||E!=null&&E.userIntentRequired||$(N)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&l()},500))},[i]),x.useEffect(()=>{if(!h)switch(i){case"success":m("Success!"),y("CAPTCHA passed successfully."),E!=null&&E.userIntentRequired||setTimeout(()=>{v(!0),$(s)},2e3);break;case"loading":m(""),y("Checking that you are a human...");break;case"error":m("Something went wrong"),y(b<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,h,w]),d.jsx(v7t,{status:i,title:p,description:g,userIntentRequired:E==null?void 0:E.userIntentRequired,retriesRemaining:b,hasSelectedCta:w,onContinue:()=>{v(!0),$(s)},onRetry:async()=>{if(b<=0)return;A(R=>R-1),a(),l();let N=await o();!N||E!=null&&E.userIntentRequired||$(N)}})}},x7t=t=>d.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:d.jsx("g",{children:d.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),E7t=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>d.jsx(Rn,{title:n,subtitle:d.jsx(k7t,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:d.jsxs(C7t,{children:[d.jsx(I6e,{style:{width:"48px",height:"48px"}}),d.jsx(Jdt,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),d.jsx(x7t,{style:{width:"48px",height:"48px"}})]})}),A7t={component:function(){let{data:t,setModalData:e,navigate:n}=lt();return d.jsx(E7t,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),n(xp)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),n(xp)}})}};let C7t=J.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),k7t=J.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const _7t=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),S7t=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>d.jsx(Rn,{title:t,subtitle:e,icon:_7t,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),nC={component:()=>{let{navigate:t}=lt();return d.jsx(S7t,{onGoBack:()=>{t(Do)}})}},R4e=t=>(t==null?void 0:t.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER?$y.ERROR_USER_EXISTS:t instanceof bo&&!t.details.default?t.details:t instanceof C6e?$y.ERROR_TIMED_OUT:(t==null?void 0:t.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE?$y.ERROR_USER_LIMIT_REACHED:$y.ERROR_WALLET_CONNECTION,I7t=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:c,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:f,onBack:p,onSign:m,onRetry:g,onCoinbaseReset:y,onDifferentWallet:w})=>{let v=h?{label:"Use a different wallet",onClick:y,disabled:r}:i===$y.ERROR_USER_EXISTS&&p?{label:"Use a different wallet",onClick:w}:s&&!r&&o?{label:a?"Signing":"Sign with your wallet",onClick:m,disabled:a}:!r&&(i!=null&&i.retryable)&&f<2?{label:"Retry",onClick:g,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return d.jsx(Rn,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:v,onBack:p,watermark:!0,children:!s&&l&&!u&&d.jsxs(T7t,{children:["Still here?"," ",d.jsx(Wx,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),c&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx(Wx,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},xp={component:()=>{var we,Fe,Me,Se,ve,Oe,Le,Ce,De,We,rt,G,U,z,X;let t,[e,n]=x.useState(!1),[r,i]=x.useState(!1),[s,o]=x.useState(void 0),{authenticated:a,logout:l}=_n(),{app:c,navigate:u,navigateBack:h,lastScreen:f,currentScreen:p,setModalData:m,data:g}=lt(),{getAuthFlow:y,walletConnectionStatus:w,closePrivyModal:v,initLoginWithWallet:b,loginWithWallet:A,updateWallets:E,createAnalyticsEvent:$}=st(),{walletConnectors:N}=_n(),[R,M]=x.useState(0),{user:F}=_n(),W=IG(),[H]=x.useState((F==null?void 0:F.linkedAccounts.length)||0),[L,k]=x.useState(""),[C,_]=x.useState(""),[T,S]=x.useState(!1),{hasTabbedAway:P}=function(){let[ne,ie]=x.useState(!1),le=x.useCallback(()=>{document.hidden&&ie(!0)},[]);return x.useEffect(()=>(document.addEventListener("visibilitychange",le),()=>document.removeEventListener("visibilitychange",le)),[le]),{hasTabbedAway:ne,reset:()=>ie(!1)}}(),{enabled:D,token:O}=ll(),I=$g(((we=w==null?void 0:w.connector)==null?void 0:we.walletClientType)||"unknown"),B=Er&&((Fe=w==null?void 0:w.connector)==null?void 0:Fe.connectorType)==="wallet_connect_v2"||Er&&((Me=w==null?void 0:w.connector)==null?void 0:Me.connectorType)==="coinbase_wallet"||Er&&((Se=w==null?void 0:w.connector)==null?void 0:Se.connectorType)==="base_account"||Er&&((ve=w==null?void 0:w.connector)==null?void 0:ve.connectorType)==="injected"&&((Oe=w==null?void 0:w.connector)==null?void 0:Oe.walletClientType)==="phantom"||Er&&((Le=w==null?void 0:w.connector)==null?void 0:Le.connectorType)==="solana_adapter"&&w.connector.walletClientType==="mobile_wallet_adapter",Q=(w==null?void 0:w.status)==="connected",j=(w==null?void 0:w.status)==="switching_to_supported_chain";x.useEffect(()=>{var le,Be,Xe,Ke,et,Pe;let ne=y(),ie=ne instanceof qv||ne instanceof A7?ne:void 0;Q&&((le=w.connector)==null?void 0:le.chainType)==="solana"&&((Be=w.connector)==null?void 0:Be.walletClientType)==="phantom"&&W(P4e)&&((Xe=g==null?void 0:g.login)==null?void 0:Xe.isSigningInWithLedgerSolana)===void 0?u(A7t,!1):(Q&&!ie&&(!D||O||a?b(w.connectedWallet,O,(Ke=g==null?void 0:g.login)==null?void 0:Ke.disableSignup,(et=g==null?void 0:g.login)!=null&&et.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{S(!0)}):(m({captchaModalData:{callback:Tt=>{var dn,Bt;return b(w.connectedWallet,Tt,(dn=g==null?void 0:g.login)==null?void 0:dn.disableSignup,(Bt=g==null?void 0:g.login)!=null&&Bt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{S(!0)})},userIntentRequired:!1,onSuccessNavigateTo:xp,onErrorNavigateTo:Gr}}),u(Ed,!1))),ie instanceof A7&&((Pe=g==null?void 0:g.login)!=null&&Pe.isSigningInWithLedgerSolana)&&(ie.messageType="transaction"),ie&&B&&Q&&!ie.preparedMessage?ie.buildMessage():ie&&!B&&Q&&(r||(async()=>{var Tt,dn;i(!0),o(void 0);try{((Tt=w==null?void 0:w.connector)==null?void 0:Tt.connectorType)==="wallet_connect_v2"&&((dn=w==null?void 0:w.connector)==null?void 0:dn.walletClientType)==="metamask"&&await C7(2500),await ee()}catch(Bt){console.warn("Auto-prompted signature failed",Bt)}finally{i(!1)}})()))},[R,Q,T]),x.useEffect(()=>{if(F&&e){let ne=900;if(c!=null&&c.legal.requireUsersAcceptTerms&&!F.hasAcceptedTerms){let le=setTimeout(()=>{u(Lw)},ne);return()=>clearTimeout(le)}if(jg(F,c.embeddedWallets)){let le=setTimeout(()=>{m({createWallet:{onSuccess:()=>{},onFailure:Be=>{console.error(Be),$({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Be,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(e0)},ne);return()=>clearTimeout(le)}E();let ie=setTimeout(()=>v({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Ur);return()=>clearTimeout(ie)}},[F,e]);let Y=ne=>{var ie,le,Be,Xe,Ke,et,Pe,Tt,dn,Bt,ze,Ln,vn,ot;if((ne==null?void 0:ne.privyErrorCode)!==pe.ALLOWLIST_REJECTED){if((ne==null?void 0:ne.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new NA(ne).toString()),void u(nC);if((ne==null?void 0:ne.privyErrorCode)!==pe.USER_DOES_NOT_EXIST)return(ne==null?void 0:ne.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((le=(ie=ne.data)==null?void 0:ie.data)!=null&&le.nonce)?(m({accountTransfer:{nonce:(Xe=(Be=ne.data)==null?void 0:Be.data)==null?void 0:Xe.nonce,account:(Ke=y())==null?void 0:Ke.meta.address,displayName:(Tt=(Pe=(et=ne.data)==null?void 0:et.data)==null?void 0:Pe.account)==null?void 0:Tt.displayName,externalWalletMetadata:{walletClientType:(dn=y())==null?void 0:dn.meta.walletClientType,chainId:(Bt=y())==null?void 0:Bt.meta.chainId,connectorType:(ze=y())==null?void 0:ze.meta.connectorType},linkMethod:y()instanceof qv?"siwe":"siws",embeddedWalletAddress:(ot=(vn=(Ln=ne.data)==null?void 0:Ln.data)==null?void 0:vn.otherUser)==null?void 0:ot.embeddedWalletAddress}}),void u(Bw)):void o(R4e(ne));u(eC)}else u(lN)};async function ee(){try{await A(),n(!0)}catch(ne){Y(ne)}finally{i(!1)}}x.useEffect(()=>{w!=null&&w.connectError&&Y(w==null?void 0:w.connectError)},[w]),((ne,ie)=>{let le=x.useRef(()=>{});x.useEffect(()=>{le.current=ne}),x.useEffect(()=>{if(ie!==null){let Be=setInterval(()=>le.current(),ie||0);return()=>clearInterval(Be)}},[ie])})(()=>{let ne=Z==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof Kv?w.connector.redirectUri:void 0;ne&&k(ne);let ie=Z==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof Kv?w.connector.fallbackUniversalRedirectUri:void 0;ie&&_(ie)},(w==null?void 0:w.connector)instanceof Kv&&!L?500:null);let Z=((Ce=w==null?void 0:w.connector)==null?void 0:Ce.connectorType)||"injected",oe=((De=w==null?void 0:w.connector)==null?void 0:De.walletClientType)||"unknown",de=((We=I==null?void 0:I.metadata)==null?void 0:We.shortName)||(I==null?void 0:I.name)||((rt=w==null?void 0:w.connector)==null?void 0:rt.walletBranding.name)||"Browser Extension",ce=((G=I==null?void 0:I.image_url)==null?void 0:G.md)||((U=w==null?void 0:w.connector)==null?void 0:U.walletBranding.icon)||(ne=>d.jsx(lG,{...ne})),he=de==="Browser Extension"?de.toLowerCase():de;t=e?`Successfully connected with ${he}`:s?s.message:j?"Switching networks":Q?r&&B?"Signing":"Sign to verify":`Waiting for ${he}`;let be="Dont see your wallet? Check your other browser windows.";e?be=H===((F==null?void 0:F.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?be="Unable to connect wallet":s?be=s.detail:j?be="Switch your wallet to the requested network.":Q&&B?be="Sign the message in your wallet to verify it belongs to you.":oe==="metamask"&&Er?be="Click continue to open and connect MetaMask.":oe==="metamask"?be="For the best experience, connect only one wallet at a time.":Z==="wallet_connect"?be="Open your mobile wallet app to continue":Z==="coinbase_wallet"?y6e()||(be=Hse(F)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(z=g==null?void 0:g.login)!=null&&z.isSigningInWithLedgerSolana&&(be="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let fe=(X=N==null?void 0:N.walletConnectors)==null?void 0:X.find(ne=>ne.walletClientType==="coinbase_wallet"),ke=oe==="coinbase_wallet"&&(Hse(F)||s===$y.ERROR_USER_EXISTS);return d.jsx(I7t,{walletLogo:ce,title:t,subtitle:be,signSuccess:e,errorMessage:s,connectSuccess:Q,separateConnectAndSign:B,signing:r,walletConnectRedirectUri:L,walletConnectFallbackUniversalUri:C,hasTabbedAway:P,showCoinbaseWalletResetCta:ke,numRetries:R,onBack:f&&p!==f?h:void 0,onSign:()=>{i(!0),ee()},onRetry:()=>{M(R+1),o(void 0),Q?(i(!0),ee()):w==null||w.connectRetry()},onCoinbaseReset:()=>{fe&&(fe==null||fe.disconnect())},onDifferentWallet:h})}};let T7t=J.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-3c9a580-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const X9={component:()=>{var p,m,g,y,w,v;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=st(),{app:r,data:i,navigate:s}=lt(),o=Dw(),a=(p=i==null?void 0:i.externalConnectWallet)==null?void 0:p.description,l=x.useRef(((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.walletList)??r.appearance.walletList),c=x.useRef(((g=i==null?void 0:i.externalConnectWallet)==null?void 0:g.walletChainType)??r.appearance.walletChainType),u=l.current,h=c.current,f=n.current==="link"?void 0:()=>s(Do);return d.jsx($4e,{walletList:u,walletChainType:h,onClose:e,onConnect:x.useCallback(({connector:b,wallet:A})=>{var E;o("connectWallet","onSuccess",{wallet:A}),t({status:"connected",connectedWallet:A,connector:b,connectError:null,connectRetry:()=>null}),s(xp,!((E=i==null?void 0:i.externalConnectWallet)!=null&&E.preSelectedWalletId))},[t,s,(y=i==null?void 0:i.login)==null?void 0:y.disableSignup,(w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.preSelectedWalletId]),onConnectError:b=>{b instanceof Oo?(console.warn(b.cause?b.cause:b.message),o("connectWallet","onError",b.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(b),o("connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:f,customDescription:a||"",preSelectedWalletId:(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId,app:r})},isUnauthenticatedScreem:!0},cU={component:()=>{var a,l,c;let{closePrivyModal:t}=st(),{app:e,data:n}=lt(),r=Dw(),i=(a=n==null?void 0:n.externalConnectWallet)==null?void 0:a.description,s=x.useRef(((l=n==null?void 0:n.externalConnectWallet)==null?void 0:l.walletList)??e.appearance.walletList),o=x.useRef(((c=n==null?void 0:n.externalConnectWallet)==null?void 0:c.walletChainType)??e.appearance.walletChainType);return d.jsx($4e,{walletList:s.current,walletChainType:o.current,onClose:()=>{r("connectWallet","onError",pe.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:u})=>{r("connectWallet","onSuccess",{wallet:u}),t()},onConnectError:u=>{u instanceof Oo?(console.warn(u.cause?u.cause:u.message),r("connectWallet","onError",u.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(u),r("connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:i,app:e})},isUnauthenticatedScreem:!0},Vse=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(b9t,{$withPadding:e,children:d.jsxs(v9t,{children:[d.jsx(Hv,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")};let $7t=Abe(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const cN=os(["",""],t=>t.$isLoading?os(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],$7t):""),Qh=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>d.jsx(N7t,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let N7t=J.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=Abe(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return os(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&os(["animation:"," 3s linear infinite;"],r))},cN);const w1=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),d.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[d.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),d.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),d.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),d.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1960",children:d.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),j4e=t=>{let[e,n]=x.useState(!1);return d.jsx(P7t,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout(()=>n(!1),1500)},justOpened:e,children:t.text})};let P7t=J.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const TG=J.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let R7t=J.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),j7t=J.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),O7t=J.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),O4e=J.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),M7t=J(O4e).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),D7t=J(TG).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),B7t=J(vd).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const L7t=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,c]=x.useState(!1),u=s&&t?((h,f,p)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=p)return h;if(f==="middle"){let m=Math.ceil(p/2)-2,g=Math.floor(p/2)-1;return`${h.slice(0,m)}...${h.slice(-g)}`}return`${h.slice(0,p-3)}...`})(t,s,o):t;return x.useEffect(()=>{if(l){let h=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(h)}},[l]),d.jsxs(R7t,{className:r,children:[e&&d.jsx(D7t,{children:e}),d.jsxs(j7t,{$disabled:a,children:[d.jsx(O7t,{children:t?d.jsx(O4e,{$disabled:a,title:t,children:u}):d.jsx(M7t,{$disabled:a,children:n||"No value"})}),i&&t&&d.jsx(B7t,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then(()=>c(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,l?{children:["Copied",d.jsx(U8,{size:14})]}:{children:["Copy",d.jsx(XS,{size:14})]})})]})]})},F7t=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:o})=>d.jsx(Rn,Er||e?CH?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:w1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:w1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:t&&Er&&d.jsx(U7t,{children:d.jsx(j4e,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:d.jsxs(z7t,{children:[d.jsx(W7t,{children:t?d.jsx(tC,{url:t,size:275,squareLogoElement:w1}):d.jsx(q7t,{children:d.jsx(tu,{})})}),d.jsxs(H7t,{children:[d.jsx(V7t,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&d.jsx(L7t,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),uU={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=_n(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=lt(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:f}=st(),[p,m]=x.useState(void 0),[g,y]=x.useState(!1),[w,v]=x.useState(!1),b=x.useRef([]),A=c(),E=A==null?void 0:A.meta.connectUri;return x.useEffect(()=>{let $=Date.now(),N=setInterval(async()=>{var F,W,H,L,k,C,_,T,S,P,D,O,I,B,Q;let R=await A.pollForReady.execute(),M=Date.now()-$;if(R){clearInterval(N),y(!0);try{await u(),v(!0)}catch(j){let Y={retryable:!1,message:"Authentication failed"};if((j==null?void 0:j.privyErrorCode)===pe.ALLOWLIST_REJECTED)return void s(lN);if((j==null?void 0:j.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new NA(j).toString()),void s(nC);if((j==null?void 0:j.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return void s(eC);if((j==null?void 0:j.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER)Y.detail=j.message??"This account has already been linked to another user.";else{if((j==null?void 0:j.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((W=(F=j.data)==null?void 0:F.data)!=null&&W.nonce))return a({accountTransfer:{nonce:(L=(H=j.data)==null?void 0:H.data)==null?void 0:L.nonce,account:(C=(k=j.data)==null?void 0:k.data)==null?void 0:C.subject,displayName:(S=(T=(_=j.data)==null?void 0:_.data)==null?void 0:T.account)==null?void 0:S.displayName,linkMethod:"farcaster",embeddedWalletAddress:(O=(D=(P=j.data)==null?void 0:P.data)==null?void 0:D.otherUser)==null?void 0:O.embeddedWalletAddress,farcasterEmbeddedAddress:(Q=(B=(I=j.data)==null?void 0:I.data)==null?void 0:B.otherUser)==null?void 0:Q.farcasterEmbeddedAddress}}),void s(Bw);(j==null?void 0:j.privyErrorCode)===pe.INVALID_CREDENTIALS?(Y.retryable=!0,Y.detail="Something went wrong. Try again."):(j==null?void 0:j.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(Y.detail="Too many requests. Please wait before trying again.")}m(Y)}}else M>12e4&&(clearInterval(N),m({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(N),b.current.forEach(R=>clearTimeout(R))}},[]),x.useEffect(()=>{if(n&&t&&w&&r){if(l!=null&&l.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let $=setTimeout(()=>{s(Lw)},Ur);return()=>clearTimeout($)}w&&(jg(r,l.embeddedWallets)?b.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:$=>{console.error($),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:$,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(e0)},Ur)):b.current.push(setTimeout(()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Ur)))}},[w,n,t,r]),d.jsx(F7t,{connectUri:E,loading:g,success:w,errorMessage:p,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{E&&(window.location.href=E)}})}};let U7t=J.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),z7t=J.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),W7t=J.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),H7t=J.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),V7t=J.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),q7t=J.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const M4e=()=>{let[t,e]=x.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=lt(),{enabled:o,token:a}=ll(),{initLoginWithFarcaster:l}=st(),{accountType:c}=Rg();return d.jsxs(Vr,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:h=>{var f;return l(h,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:uU,onErrorNavigateTo:Gr}}),r(Ed)):(await l(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),r(uU))}catch(h){i({errorModalData:{error:h,previousScreen:n||Do}}),r(Gr)}finally{e(!1)}},disabled:!1,children:[d.jsx(w1,{width:32,height:32})," Farcaster",t&&d.jsx(Ng,{}),c==="farcaster"&&d.jsx(G7t,{color:"gray",children:"Recent"})]})};let G7t=J(Qh).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const K7t=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>d.jsx(Rn,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:d.jsx(Y7t,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Oo){if(n.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===pe.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:e7,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),gv={component:()=>{let{app:t,data:e,setModalData:n,navigate:r}=lt(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=st(),{user:l,logout:c}=_n(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[h,f]=x.useState("loading"),[p,m]=x.useState(null),g=x.useRef([]),y=v=>{g.current=[v,...g.current]};x.useEffect(()=>()=>{g.current.forEach(v=>clearTimeout(v)),g.current=[]},[]);let w=async()=>{f("loading");try{u?await s():await i(),f("success")}catch(v){m(v),f("error")}};return x.useEffect(()=>{if(h==="success"&&l){if(t!=null&&t.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void y(setTimeout(()=>{r(Lw)},900));if(!jg(l,t==null?void 0:t.embeddedWallets))return void y(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},Ur));y(setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:v=>{console.error(v),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:v,screen:"PasskeyStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(e0)},900))}},[l,h]),x.useEffect(()=>{w()},[]),d.jsx(K7t,{status:h,passkeySignupFlow:u,error:p,onRetry:w})}};let Y7t=J.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const Q7t=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>d.jsx(Rn,{title:t,subtitle:e,icon:e7,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),Z7t={component:()=>{let{enabled:t,token:e}=ll(),{navigate:n,setModalData:r}=lt(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=st();return d.jsx(Q7t,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:gv,onErrorNavigateTo:Gr}}),n(Ed)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(gv))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:gv,onErrorNavigateTo:Gr}}),n(Ed)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(gv))}})}},D4e=()=>{let{enabled:t,token:e}=ll(),{navigate:n,setModalData:r,app:i,data:s}=lt(),{initLoginWithPasskey:o}=st(),a=()=>{i.loginConfig.passkeysForSignupEnabled?n(Z7t):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:gv,onErrorNavigateTo:Gr}}),n(Ed)):(await o({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(gv)))()};return x.useMemo(()=>{var c;let l=(c=s==null?void 0:s.login)==null?void 0:c.loginMethods;return l?l.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,h])=>h).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?d.jsxs(Vr,{onClick:a,children:[d.jsx(dq,{})," Continue with passkey"]}):d.jsx(Wx,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},J7t=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:Prt.map(n=>d.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code))}),uN=x.forwardRef((t,e)=>{let{app:n}=lt(),[r,i]=x.useState(!1),{accountType:s}=Rg(),[o,a]=x.useState(""),[l,c]=x.useState((n==null?void 0:n.intl.defaultCountry)??"US"),u=nk(o,l),h=Nrt(l),f=Rrt(l),p=FV(l),m=!u,[g,y]=x.useState(!1),w=p.length,v=E=>{let $=E.target.value;c($),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:rj(o,$),countryCode:$,isValid:nk(o,l)})},b=(E,$)=>{try{let N=E.replace(/\D/g,"")===o.replace(/\D/g,"")?E:h.input(E);a(N),t.onChange&&t.onChange({rawPhoneNumber:N,qualifiedPhoneNumber:rj(E,$),countryCode:$,isValid:nk(E,$)})}catch(N){console.error("Error processing phone number:",N)}},A=()=>{y(!0);let E=rj(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:E,countryCode:l,isValid:nk(o,l)}).finally(()=>y(!1))};return x.useEffect(()=>{if(t.defaultValue){let E=jrt(t.defaultValue);h.reset(),v({target:{value:E.countryCode}}),b(E.phone,E.countryCode)}},[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(X7t,{children:d.jsxs(eIt,{$callingCodeLength:w,$stacked:t.stacked,children:[d.jsx(J7t,{value:l,onChange:v}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:f,onFocus:()=>i(!0),onChange:E=>{b(E.target.value,l)},onKeyUp:E=>{E.key==="Enter"&&A()},value:o,autoComplete:"tel"}),s!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(K$,{isSubmitting:g,onClick:A,disabled:m,children:"Submit"}):d.jsx(Qh,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(hr,{loading:g,loadingText:null,onClick:A,disabled:m,children:"Submit"}):null]})});let X7t=J.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),eIt=J.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const B4e=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=x.useRef(null),{authenticated:i}=_n(),{navigate:s,setModalData:o,currentScreen:a,data:l}=lt(),{initLoginWithSms:c}=st(),{enabled:u,token:h}=ll(),{whatsAppEnabled:f}=Fn();return d.jsxs(d.Fragment,{children:[d.jsx(zx,{$if:!t,children:d.jsx(uN,{ref:r,onSubmit:async function({qualifiedPhoneNumber:p}){var m;if(!u||h||i)try{await c({phoneNumber:p,captchaToken:h,withPrivyUi:!0,disableSignup:(m=l==null?void 0:l.login)==null?void 0:m.disableSignup}),s(qp)}catch(g){o({errorModalData:{error:g,previousScreen:a||Do}}),s(Gr)}else o({captchaModalData:{callback:g=>{var y;return c({phoneNumber:p,captchaToken:g,withPrivyUi:!0,disableSignup:(y=l==null?void 0:l.login)==null?void 0:y.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:qp,onErrorNavigateTo:Gr}}),s(Ed)},defaultValue:n})}),d.jsx(zx,{$if:t,children:d.jsxs(Vr,{onClick:()=>{e(),setTimeout(()=>{var p;(p=r.current)==null||p.focus()},0)},children:[d.jsx(zh,{children:d.jsx(Xve,{})}),"Continue with ",f?"WhatsApp":"SMS"]})})]})};let tIt={apple:{logo:s6e,displayName:"Apple"},discord:{logo:o6e,displayName:"Discord"},github:{logo:a6e,displayName:"GitHub"},google:{logo:l6e,displayName:"Google"},linkedin:{logo:d6e,displayName:"LinkedIn"},spotify:{logo:h6e,displayName:"Spotify"},instagram:{logo:c6e,displayName:"Instagram"},twitter:{logo:p6e,displayName:"Twitter"},tiktok:{logo:f6e,displayName:"TikTok"},line:{logo:u6e,displayName:"LINE"}};const Bi=({provider:t})=>{let{enabled:e,token:n}=ll(),{navigate:r,setModalData:i,data:s}=lt(),[o,a]=x.useState(!1),{initLoginWithOAuth:l}=st(),{accountType:c}=Rg(),u=x.useMemo(()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?oN(c):null,[c]),{displayName:h,logo:f}=tIt[t];return d.jsxs(Vr,{onClick:()=>{var p;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!n?(i({captchaModalData:{callback:m=>{var g;return l(t,m,(g=s==null?void 0:s.login)==null?void 0:g.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Gr}}),r(Ed)):l(t,void 0,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},disabled:o,children:[d.jsx(zh,{$fullSize:!0,children:d.jsx(f,{style:{width:"32px",height:"32px"}})}),h,(u==null?void 0:u.loginMethod)===t&&d.jsx(nIt,{color:"gray",children:"Recent"})]})};let nIt=J(Qh).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function L4e(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[d.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),d.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),d.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),d.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const rIt=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return d.jsx(Rn,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:L4e,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},e_={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=_n(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=lt(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m,getAuthMeta:g}=st(),[y,w]=x.useState(!1),[v,b]=x.useState(void 0),A=ll();async function E(){var $,N,R,M,F,W,H,L,k,C,_,T,S,P;try{let D=await async function(){let O;if(!t){if(A.enabled&&A.status==="error")throw new H$(A.error,null,pe.CAPTCHA_FAILURE);return A.enabled&&A.status!=="success"&&(A.execute(),O=await A.waitForResult()),O}}();await u({captchaToken:D}),w(!0),f(!0)}catch(D){if((D==null?void 0:D.privyErrorCode)===pe.ALLOWLIST_REJECTED)return b(void 0),a(),void o(lN);if((D==null?void 0:D.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new NA(D).toString()),b(void 0),a(),void o(nC);if((D==null?void 0:D.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(eC);if((D==null?void 0:D.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((N=($=D.data)==null?void 0:$.data)!=null&&N.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(M=(R=D.data)==null?void 0:R.data)==null?void 0:M.nonce,account:(W=(F=D.data)==null?void 0:F.data)==null?void 0:W.subject,telegramAuthResult:(H=g())==null?void 0:H.telegramAuthResult,telegramWebAppData:(L=g())==null?void 0:L.telegramWebAppData,displayName:(_=(C=(k=D.data)==null?void 0:k.data)==null?void 0:C.account)==null?void 0:_.displayName,linkMethod:"telegram",embeddedWalletAddress:(P=(S=(T=D.data)==null?void 0:T.data)==null?void 0:S.otherUser)==null?void 0:P.embeddedWalletAddress}}),void o(Bw);let{retryable:O,detail:I}=Ise(D);b({retryable:O,detail:I,message:"Authentication failed"})}}return x.useEffect(()=>{E()},[]),x.useEffect(()=>{if(!(n&&t&&y&&r))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let N=setTimeout(()=>{o(Lw)},Ur);return()=>clearTimeout(N)}if(jg(r,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(e0)},Ur);return()=>clearTimeout(N)}h();let $=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Ur);return()=>clearTimeout($)},[n,t,y,r]),d.jsx(rIt,{success:y,errorMessage:v,onRetry:v!=null&&v.retryable?async()=>{var $,N;try{b(void 0),($=l==null?void 0:l.telegramAuthModalData)!=null&&$.seamlessAuth||await c(void 0,(N=l==null?void 0:l.login)==null?void 0:N.disableSignup),await E()}catch(R){let{retryable:M,detail:F}=Ise(R);b({retryable:M,detail:F,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},F4e=()=>{let{enabled:t,token:e}=ll(),{navigate:n,setModalData:r,data:i}=lt(),[s,o]=x.useState(!1),{initLoginWithTelegram:a}=st(),{accountType:l}=Rg();async function c(u){var h;try{await a(u,(h=i==null?void 0:i.login)==null?void 0:h.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(e_)}catch(f){console.error(f),o(!1)}}return d.jsxs(Vr,{onClick:async function(){if(o(!0),t&&!e)return r({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Gr}}),void n(Ed);await c(e)},disabled:s,children:[d.jsx(L4e,{width:32,height:32}),"Telegram",l==="telegram"&&d.jsx(iIt,{color:"gray",children:"Recent"})]})};let iIt=J(Qh).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const U4e=({onClick:t,text:e})=>d.jsxs(Vr,{onClick:t,children:[d.jsx(zh,{children:d.jsx(aht,{})}),d.jsx(Ux,{children:e})]}),z4e=({onClick:t,text:e,icon:n})=>d.jsxs(Vr,{onClick:t,children:[d.jsx(zh,{children:n}),d.jsx(Ux,{children:e})]}),W4e=({connectOnly:t})=>{var Le;let{closePrivyModal:e}=st(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=lt(),o=Fn(),a=n==null?void 0:n.login,l=o.appearance.walletList,c=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:f}=Rg(),{wallets:p}=I4e({walletList:l,walletChainType:c}),m=x.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?oN(u):null,[u]),{email:g,sms:y,google:w,twitter:v,discord:b,github:A,spotify:E,instagram:$,tiktok:N,line:R,linkedin:M,apple:F,wallet:W,farcaster:H,telegram:L}=x.useMemo(()=>a!=null&&a.loginMethods?Ort(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:k}=o.loginMethods,C=[g&&"email",y&&"sms",w&&"google",v&&"twitter",b&&"discord",A&&"github",E&&"spotify",$&&"instagram",N&&"tiktok",R&&"line",M&&"linkedin",F&&"apple",H&&"farcaster",L&&"telegram"].filter(Ce=>!!Ce),_=C.length>0,T=x.useMemo(()=>W&&!_?"web3-first":W&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[W,_,o==null?void 0:o.appearance.loginGroupPriority]),S=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[P,D]=x.useState("default"),[O,I]=x.useState($7({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:g,prefilledType:(Le=a==null?void 0:a.prefill)==null?void 0:Le.type}));x.useEffect(()=>{var Ce;I($7({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:g,prefilledType:(Ce=a==null?void 0:a.prefill)==null?void 0:Ce.type}))},[g,y,u]);let B=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{D("default")},150)};i.current=B;let Q=[];h&&W?Q.push(h):m!=null&&m.loginMethod&&C.includes(m.loginMethod)&&Q.push(m.loginMethod);let j=Ce=>{var rt,G;if(Ce==="email")return d.jsx(q4e,{isEditable:O==="email",setIsEditable:()=>{I("email")},defaultValue:((rt=a==null?void 0:a.prefill)==null?void 0:rt.type)==="email"?a.prefill.value:void 0},Ce);if(Ce==="sms")return d.jsx(B4e,{isEditable:O==="sms",setIsEditable:()=>{I("sms")},defaultValue:((G=a==null?void 0:a.prefill)==null?void 0:G.type)==="phone"?a.prefill.value:void 0},Ce);if(Ce==="apple")return d.jsx(Bi,{provider:"apple"},Ce);if(Ce==="discord")return d.jsx(Bi,{provider:"discord"},Ce);if(Ce==="farcaster")return d.jsx(M4e,{},Ce);if(Ce==="github")return d.jsx(Bi,{provider:"github"},Ce);if(Ce==="google")return d.jsx(Bi,{provider:"google"},Ce);if(Ce==="linkedin")return d.jsx(Bi,{provider:"linkedin"},Ce);if(Ce==="tiktok")return d.jsx(Bi,{provider:"tiktok"},Ce);if(Ce==="line")return d.jsx(Bi,{provider:"line"},Ce);if(Ce==="spotify")return d.jsx(Bi,{provider:"spotify"},Ce);if(Ce==="instagram")return d.jsx(Bi,{provider:"instagram"},Ce);if(Ce==="twitter")return d.jsx(Bi,{provider:"twitter"},Ce);if(Ce==="telegram")return d.jsx(F4e,{},Ce);let De=p.findIndex(({id:U})=>U===Nl.normalize(Ce)),We=f==="solana"?"solana-only":"ethereum-only";return d.jsx(lU,{recent:!0,index:De,data:{wallets:p,walletChainType:We,handleWalletClick(U){r(z=>({...z,externalConnectWallet:{walletList:l,walletChainType:We,preSelectedWalletId:U.id}})),s(t?cU:X9)}}})},Y=p.filter(Ce=>Ce.id!==Nl.normalize(h||"")),ee=Y.map((Ce,De)=>d.jsx(lU,{index:De,data:{walletChainType:c,wallets:Y,handleWalletClick(We){r(rt=>({...rt,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:We.id}})),s(t?cU:X9)}}},Ce.id)),Z=C.filter(Ce=>Ce!==(m==null?void 0:m.loginMethod)).flatMap(j),oe=Q.flatMap(j);T==="web3-first"&&P==="default"?ee.unshift(...oe):T==="web2-first"&&Z.unshift(...oe);let de=P==="web2-overflow"?()=>D("default"):void 0,ce=C.filter(Ce=>Ce!=="email"&&Ce!=="sms"),he=aIt({priority:T,email:g,sms:y,social:ce}),be=lIt({priority:T,email:g,sms:y,social:ce}),fe=d.jsx(U4e,{text:cIt({priority:T}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(X9)}}),ke=d.jsx(z4e,{text:he,icon:be,onClick:()=>D("web2-overflow")}),we=S?0:1,Fe=W&&ee.length>0,Me=Z.length===0&&W&&ee.length===0,Se=5-(Fe?1:0),ve=P==="default"&&(o==null?void 0:o.appearance.logo),Oe=P==="default"&&o.appearance.loginMessage;return d.jsxs(Rn,{title:o.appearance.landingHeader,icon:ve?d.jsx(g4e,{}):void 0,iconVariant:ve?"logo":void 0,onClose:B,showClose:!0,onBack:de,showBack:!!de,helpText:o||k&&P==="default"?d.jsxs(d.Fragment,{children:[k&&P==="default"&&d.jsx(D4e,{}),o&&d.jsx(hG,{app:o})]}):void 0,watermark:!0,children:[Oe&&(typeof o.appearance.loginMessage=="string"?d.jsx(sIt,{children:o.appearance.loginMessage}):d.jsx(oIt,{children:o.appearance.loginMessage})),d.jsx(B6e,{$colorScheme:o.appearance.palette.colorScheme,children:P==="default"&&T==="web2-first"?d.jsxs(d.Fragment,{children:[Z.length>Se?Z.slice(0,Se-1):Z,Z.length>Se&&ke,Fe&&fe,Me&&d.jsx(Vse,{chainType:o.appearance.walletChainType})]}):P==="default"&&T==="web3-first"?d.jsxs(d.Fragment,{children:[W&&d.jsxs(d.Fragment,{children:[ee.length>Se?ee.slice(0,Se-1):ee,ee.length>Se&&fe]}),Z.length>we&&ke,Z.length===we&&Z[0],Me&&d.jsx(Vse,{chainType:o.appearance.walletChainType})]}):P==="web2-overflow"?d.jsx(d.Fragment,{children:T==="web3-first"?Z:Z.slice(3)}):null})]})};let sIt=J.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),oIt=J.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),aIt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",lIt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?d.jsx(tht,{}):e&&n?d.jsx(y7t,{}):e?d.jsx(fq,{}):n?d.jsx(Xve,{}):null,cIt=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const $7=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",H4e={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(Q4e,{connectOnly:!0}):d.jsx(W4e,{connectOnly:!0})}},uIt=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:c=0,onInvalidInput:u,onClearError:h})=>{let[f,p]=x.useState(Gse);x.useEffect(()=>{a||p(Gse)},[a]);let m=async g=>{var E;g.preventDefault();let y=g.currentTarget.value.replace(" ","");if(y==="")return;if(isNaN(Number(y)))return void(u==null?void 0:u("Code should be numeric"));h==null||h();let w=Number((E=g.currentTarget.name)==null?void 0:E.charAt(5)),v=[...y||[""]].slice(0,qse-w),b=[...f.slice(0,w),...v,...f.slice(w+v.length)];p(b);let A=Math.min(Math.max(w+v.length,0),qse-1);if(!isNaN(Number(g.currentTarget.value))){let $=document.querySelector(`input[name=code-${A}]`);$==null||$.focus()}if(b.every($=>$&&!isNaN(+$))){let $=document.querySelector(`input[name=code-${A}]`);$==null||$.blur(),await(s==null?void 0:s(b.join("")))}};return d.jsx(Rn,{title:"Enter confirmation code",subtitle:d.jsxs("span",e==="email"?{children:["Please check ",d.jsx(Kse,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(Kse,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?h$:hg,onBack:i,showBack:!0,helpText:d.jsxs(gIt,{children:[d.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),c?d.jsxs(yIt,{children:[d.jsx(Lht,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(Wx,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:d.jsx(fIt,{children:d.jsx(w_t,{children:d.jsxs(pIt,{children:[d.jsx("div",{children:f.map((g,y)=>d.jsx("input",{name:`code-${y}`,type:"text",value:f[y],onChange:m,onKeyUp:w=>{w.key==="Backspace"&&(v=>{if(h==null||h(),p([...f.slice(0,v),"",...f.slice(v+1)]),v>0){let b=document.querySelector(`input[name=code-${v-1}]`);b==null||b.focus()}})(y)},inputMode:"numeric",autoFocus:y===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:Er?"one-time-code":"off"},y))}),d.jsx(mIt,{$fail:!!a,$success:l,children:d.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let qse=6,Gse=Array(6).fill("");var H5,V5,dIt=((H5=dIt||{})[H5.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",H5[H5.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",H5),hIt=((V5=hIt||{})[V5.EMAIL=0]="EMAIL",V5[V5.SMS=1]="SMS",V5);const qp={component:()=>{var W,H,L;let{app:t,navigate:e,lastScreen:n,navigateBack:r,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:h,createAnalyticsEvent:f}=st(),{authenticated:p,logout:m,user:g}=_n(),{whatsAppEnabled:y}=Fn(),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(null),[N,R]=x.useState(0);s.current=()=>null;let M=(W=c())!=null&&W.email?0:1,F=M===0?((H=c())==null?void 0:H.email)||"":((L=c())==null?void 0:L.phoneNumber)||"";return x.useEffect(()=>{if(N){let k=setTimeout(()=>{R(N-1)},1e3);return()=>clearTimeout(k)}},[N]),x.useEffect(()=>{if(p&&w&&g){if(t!=null&&t.legal.requireUsersAcceptTerms&&!g.hasAcceptedTerms){let k=setTimeout(()=>{e(Lw)},900);return()=>clearTimeout(k)}if(jg(g,t.embeddedWallets)){let k=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,screen:"AwaitingPasswordlessCodeScreen"}}),m()},callAuthOnSuccessOnClose:!0}}),e(e0)},900);return()=>clearTimeout(k)}{h();let k=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Ur);return()=>clearTimeout(k)}}},[p,w,g]),x.useEffect(()=>{if(b&&E===0){let k=setTimeout(()=>{A(null),$(null);let C=document.querySelector("input[name=code-0]");C==null||C.focus()},1400);return()=>clearTimeout(k)}},[b,E]),d.jsx(uIt,{contactMethod:F,authFlow:M===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:y,onBack:()=>r(),onCodeSubmit:async k=>{var C,_,T,S,P,D,O,I,B,Q;try{await u(k),v(!0)}catch(j){if(j instanceof $l&&j.privyErrorCode===pe.INVALID_CREDENTIALS)A("Invalid or expired verification code"),$(0);else if(j instanceof $l&&j.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)A(j.message);else{if(j instanceof $l&&j.privyErrorCode===pe.USER_LIMIT_REACHED)return console.error(new NA(j).toString()),void e(nC);if(j instanceof $l&&j.privyErrorCode===pe.USER_DOES_NOT_EXIST)return void e(eC);if(j instanceof $l&&j.privyErrorCode===pe.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:j,previousScreen:n??qp}}),void e(Gr,!1);if(j instanceof $l&&j.privyErrorCode===pe.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:j}}),void e(H4e,!1);if(j instanceof $l&&j.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED&&((_=(C=j.data)==null?void 0:C.data)!=null&&_.nonce))return i({accountTransfer:{nonce:(S=(T=j.data)==null?void 0:T.data)==null?void 0:S.nonce,account:F,displayName:(O=(D=(P=j.data)==null?void 0:P.data)==null?void 0:D.account)==null?void 0:O.displayName,linkMethod:M===0?"email":"sms",embeddedWalletAddress:(Q=(B=(I=j.data)==null?void 0:I.data)==null?void 0:B.otherUser)==null?void 0:Q.embeddedWalletAddress}}),void e(Bw);A("Issue verifying code"),$(0)}}},onResend:async()=>{R(30),M===0?await a():await l()},errorMessage:b||void 0,success:w,resendCountdown:N,onInvalidInput:k=>{A(k),$(1)},onClearError:()=>{E===1&&(A(null),$(null))}})}};let fIt=J.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),pIt=J.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),mIt=J.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),gIt=J.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),yIt=J.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),Kse=J.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const V4e=x.forwardRef((t,e)=>{let[n,r]=x.useState(t.defaultValue||""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l}=_n(),{initLoginWithEmail:c}=st(),{navigate:u,setModalData:h,currentScreen:f,data:p}=lt(),{enabled:m,token:g}=ll(),[y,w]=x.useState(!1),{accountType:v}=Rg(),b=Fn();x.useEffect(()=>{var N,R;!n&&b.disablePlusEmails&&((N=p==null?void 0:p.inlineError)==null?void 0:N.error)instanceof Oo&&((R=p==null?void 0:p.inlineError)==null?void 0:R.error.privyErrorCode)===pe.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[n]);let A=w6e(n),E=o||!A,$=()=>{h({login:p==null?void 0:p.login,inlineError:void 0}),!m||g||l?(N=>{var R;a(!0),c({email:n,captchaToken:N,disableSignup:(R=p==null?void 0:p.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(qp)}).catch(M=>{h({errorModalData:{error:M,previousScreen:f||Do}}),u(Gr)}).finally(()=>{a(!1)})})(g):(h({captchaModalData:{callback:N=>c({email:n,captchaToken:N,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:qp,onErrorNavigateTo:Gr}}),u(Ed))};return d.jsxs(d.Fragment,{children:[d.jsxs(wIt,{children:[i&&d.jsx(X1,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(bIt,{stacked:t.stacked,$error:!!i,children:[d.jsx(vIt,{children:d.jsx(fq,{})}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>w(!0),onChange:N=>r(N.target.value),onKeyUp:N=>{N.key==="Enter"&&$()},value:n,autoComplete:"email"}),v!=="email"||y?t.stacked?d.jsx("span",{}):d.jsx(K$,{isSubmitting:o,onClick:$,disabled:E,children:"Submit"}):d.jsx(Qh,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(hr,{loadingText:null,loading:o,disabled:E,onClick:$,style:{width:"100%"},children:"Submit"}):null]})});let wIt=_4e,bIt=a7t,vIt=J(zh).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const q4e=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(zx,{$if:!t,children:d.jsx(V4e,{ref:r,defaultValue:n})}),d.jsx(zx,{$if:t,children:d.jsxs(Vr,{onClick:()=>{e(),setTimeout(()=>{var i;(i=r.current)==null||i.focus()},0)},children:[d.jsx(zh,{children:d.jsx(fq,{})}),"Continue with Email"]})})]})},G4e=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(e$,{style:{height:24,width:24}}):t?d.jsx(t,{}):null;function dU(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const xIt=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:c})=>d.jsx(Rn,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===$y.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(n!=null&&n.retryable)&&l<c?{label:"Retry",onClick:s,disabled:!(n!=null&&n.retryable)||l>=c}:!e&&n&&l>=c?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),hU={component:()=>{var $,N,R,M,F,W,H;let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:o}=lt(),{walletConnectionStatus:a,closePrivyModal:l}=st(),[c,u]=x.useState(void 0),[h,f]=x.useState(0),p=$g((($=a==null?void 0:a.connector)==null?void 0:$.walletClientType)||"unknown"),m=(a==null?void 0:a.status)==="connected",g=(a==null?void 0:a.status)==="switching_to_supported_chain";x.useEffect(()=>{var L,k;if(m){let C;if((L=s==null?void 0:s.externalConnectWallet)!=null&&L.onCompleteNavigateTo){let _=s.externalConnectWallet.onCompleteNavigateTo,T=(k=a.connectedWallet)==null?void 0:k.address;C=setTimeout(()=>{var S,P;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:T}}),n(_({address:T,walletClientType:(S=a.connector)==null?void 0:S.walletClientType,walletChainType:(P=a.connector)==null?void 0:P.chainType}))},Ur)}else C=setTimeout(l,Ur);return()=>clearTimeout(C)}},[m]),x.useEffect(()=>{a!=null&&a.connectError&&(L=>{u(R4e(L))})(a==null?void 0:a.connectError)},[a]);let y=((N=a==null?void 0:a.connector)==null?void 0:N.connectorType)||"injected",w=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",v=((M=p==null?void 0:p.metadata)==null?void 0:M.shortName)||(p==null?void 0:p.name)||((F=a==null?void 0:a.connector)==null?void 0:F.walletBranding.name)||"Browser Extension",b=((W=p==null?void 0:p.image_url)==null?void 0:W.md)||((H=a==null?void 0:a.connector)==null?void 0:H.walletBranding.icon)||(L=>d.jsx(lG,{...L})),A=v==="Browser Extension"?v.toLowerCase():v;t=m?`Successfully connected with ${A}`:c?c.message:g?"Switching networks":`Waiting for ${A}`;let E="Dont see your wallet? Check your other browser windows.";return m?E="Youre good to go!":h>=2&&c?E="Unable to connect wallet":c?E=c.detail:g?E="Switch your wallet to the requested network.":w==="metamask"&&Er?E="Click to continue to open and connect MetaMask.":w==="metamask"?E="For the best experience, connect only one wallet at a time.":y==="wallet_connect_v2"?E="Open your mobile wallet app to continue":y==="coinbase_wallet"&&(E="Open the Coinbase app on your phone to continue."),d.jsx(xIt,{walletName:v,walletLogo:b,success:m,errorMessage:c,title:t,subtitle:E,onRetry:()=>{f(h+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:h,maxRetries:2})}},K4e=J.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),Qv=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return d.jsxs(AIt,{children:[d.jsx(EIt,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ae.isValidElement(n)?Ae.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return d.jsx(U8,{size:12,stroke:r(),strokeWidth:3});case"error":return d.jsx(lht,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let EIt=J.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),AIt=J.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const CIt=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return d.jsx(Rn,{title:o,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx(Wx,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:d.jsxs(K4e,{children:[d.jsx(Qv,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "})," ",d.jsxs(Wx,{href:e,target:"_blank",children:[t," browser extension"]})]})}),d.jsx(Qv,{children:"Set up your first wallet"}),d.jsx(Qv,{children:"Store your recovery phrase in a safe place!"})]})})},kIt={component:()=>{let{navigateBack:t,data:e}=lt();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return d.jsx(CIt,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},_It=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:o})=>d.jsx(Rn,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),SIt={component:()=>{let{ready:t}=_n(),{data:e}=lt(),[n,r]=x.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!n,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),n&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),d.jsx(_It,{title:c.title,subtitle:c.description,buttonText:n?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:c.footnote||void 0,onButtonClick:()=>{setTimeout(()=>r(!0),1e3)}})}},Ld=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{var g,y,w;let s,{navigate:o,setModalData:a}=lt(),{connectWallet:l}=st(),c=Rg(),u=$g(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,f=window.matchMedia("(display-mode: standalone)").matches,p=T6e({connectorType:i.connectorType,walletClientType:h});s=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(r?hU:xp)):Er?(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:r}}),o(SIt)):(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:r}}),o(kIt))}:i.connectorType!=="coinbase_wallet"||((g=i.coinbaseWalletConfig.preference)==null?void 0:g.options)!=="eoaOnly"||!Er||f||y6e()?()=>{(!dU(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,h),o(r?hU:xp))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let m=e||((y=u==null?void 0:u.metadata)==null?void 0:y.shortName)||(u==null?void 0:u.name)||i.walletClientType;return d.jsxs(IIt,{onClick:s,children:[d.jsx(G4e,{icon:n||((w=u==null?void 0:u.image_url)==null?void 0:w.md),name:m}),d.jsx("span",{children:m}),d.jsxs(TIt,{id:"chip-container",children:[(c==null?void 0:c.walletClientType)===h&&(c==null?void 0:c.chainType)===i.chainType?d.jsx(Yse,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&d.jsx(Yse,{color:"gray",children:"Solana"})]})]})};let IIt=J(Vr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),Yse=J(Qh).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),TIt=J.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const $It=["coinbase_wallet","base_account"];let NIt=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const PIt=["safe"],RIt=["phantom","backpack","solflare","universal_profile"],Y4e=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var f,p;let a=[],l=[],c=[],u=n.filter(m=>e==="ethereum-only"?m.chainType==="ethereum":e!=="solana-only"||m.chainType==="solana"),h=u.find(m=>m.connectorType==="wallet_connect_v2");for(let[m,g]of(o?[o.wallet]:t).entries()){if(g==="detected_ethereum_wallets")for(let[y,w]of u.filter(({chainType:v,connectorType:b,walletClientType:A})=>v!=="solana"&&(A==="uniswap_wallet_extension"||A==="uniswap_extension"?!i.includes("uniswap"):A==="crypto.com_wallet_extension"||A==="crypto.com_onchain"?!i.includes("cryptocom"):b==="injected"&&!i.includes(A))).entries()){let{walletClientType:v,walletBranding:b,chainType:A}=w;(v==="unknown"?l:a).push(d.jsx(Ld,{connectOnly:r,provider:v,logo:b.icon,displayName:b.name,connector:w},`${m}-${g}-${v}-${A}-${y}`))}if(g==="detected_solana_wallets")for(let[y,w]of u.filter(({chainType:v,walletClientType:b})=>{if(v==="solana")return e!=="ethereum-only"&&!i.includes(b)}).entries()){let{walletClientType:v,walletBranding:b,chainType:A}=w;(v==="unknown"?l:a).push(d.jsx(Ld,{connectOnly:r,provider:v,logo:b.icon,displayName:b.name,connector:w},`${m}-${g}-${v}-${A}-${y}`))}if(RIt.includes(g)){let y=u.find(w=>w.connectorType==="injected"&&w.walletClientType===g||w.connectorType===g);if(y&&a.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:y},`${m}-${g}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:v,walletClientType:b})=>v==="solana"&&b===g);w&&a.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:w},`${g}-solana`))}}else if(NIt.includes(g)){let y=u.find(w=>g==="uniswap"?w.walletClientType==="uniswap_wallet_extension"||w.walletClientType==="uniswap_extension":g==="cryptocom"?w.walletClientType==="crypto.com_wallet_extension"||w.walletClientType==="crypto.com_onchain":w.connectorType==="injected"&&w.walletClientType===g);if(s&&!y&&(y=h),y&&a.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:y,logo:y.connectorType==="injected"?y.walletBranding.icon:void 0,displayName:y.connectorType==="injected"?y.walletBranding.name:void 0},`${m}-${g}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:v,walletClientType:b})=>v==="solana"&&b===g);w&&a.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:w},`${g}-solana`))}}else if($It.includes(g)){let y=u.find(({connectorType:w})=>w===g);y&&a.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:y,displayName:y.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:y.walletClientType==="coinbase_wallet"?E6e:A6e},`${m}-${g}`))}else if(PIt.includes(g))h&&c.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:h},`${m}-${g}`));else if(g==="wallet_connect")h&&c.push(d.jsx(Ld,{connectOnly:r,provider:g,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${m}-${g}`));else if(g===(o==null?void 0:o.wallet)){let y=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),w=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(y||w){let v=u.find(({walletClientType:b})=>b===g);v&&a.push(d.jsx(Ld,{connectOnly:r,provider:g,displayName:(f=v.walletBranding)==null?void 0:f.name,logo:(p=v.walletBranding)==null?void 0:p.icon,connector:v},`${m}-${g}`))}}}return[...l,...a,...c]},Q4e=({connectOnly:t})=>{var H,L,k;let{closePrivyModal:e,connectors:n}=st(),{app:r,onUserCloseViaDialogOrKeybindRef:i,data:s}=lt(),{appearance:{palette:{colorScheme:o}}}=Fn(),{accountType:a,walletClientType:l,chainType:c}=Rg(),u=x.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?oN(a):null,[a]),h=((H=r.loginMethodsAndOrder)==null?void 0:H.primary)??[],f=((L=r.loginMethodsAndOrder)==null?void 0:L.overflow)??[],p=x.useMemo(()=>[...h,...f],[h,f]),m=r.loginMethods.passkey,g=s==null?void 0:s.login,y=[];l&&p.includes(l)?y.push(l):a&&p.includes(u==null?void 0:u.loginMethod)&&y.push(u==null?void 0:u.loginMethod);let[w,v]=x.useState("default"),[b,A]=x.useState($7({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(k=g==null?void 0:g.prefill)==null?void 0:k.type}));x.useEffect(()=>{var C;A($7({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(C=g==null?void 0:g.prefill)==null?void 0:C.type}))},[p,a]),x.useEffect(()=>{a==="phone"&&A("sms");let C=p.indexOf("sms"),_=p.indexOf("email");C>-1&&C<_&&A("sms")},[a,h,f]);let E=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{v("default")},150)};i.current=E;let $=C=>{var _,T;return C==="email"?d.jsx(q4e,{isEditable:b==="email",setIsEditable:()=>{A("email")},defaultValue:((_=g==null?void 0:g.prefill)==null?void 0:_.type)==="email"?g.prefill.value:void 0},C):C==="sms"?d.jsx(B4e,{isEditable:b==="sms",setIsEditable:()=>{A("sms")},defaultValue:((T=g==null?void 0:g.prefill)==null?void 0:T.type)==="phone"?g.prefill.value:void 0},C):C==="apple"?d.jsx(Bi,{provider:"apple"},C):C==="discord"?d.jsx(Bi,{provider:"discord"},C):C==="farcaster"?d.jsx(M4e,{},C):C==="github"?d.jsx(Bi,{provider:"github"},C):C==="google"?d.jsx(Bi,{provider:"google"},C):C==="linkedin"?d.jsx(Bi,{provider:"linkedin"},C):C==="spotify"?d.jsx(Bi,{provider:"spotify"},C):C==="instagram"?d.jsx(Bi,{provider:"instagram"},C):C==="tiktok"?d.jsx(Bi,{provider:"tiktok"},C):C==="line"?d.jsx(Bi,{provider:"line"},C):C==="twitter"?d.jsx(Bi,{provider:"twitter"},C):C==="telegram"?d.jsx(F4e,{},C):C.startsWith("privy:")?d.jsx(_St,{appId:C.replace("privy:","")},C):Y4e({walletList:r.appearance.walletList,walletChainType:(g==null?void 0:g.walletChainType)??r.appearance.walletChainType,connectors:n,connectOnly:t,ignore:p,walletConnectEnabled:r.externalWallets.walletConnect.enabled,forceWallet:{wallet:C,chainType:c??"ethereum"}})},N=y.flatMap($),R=h.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap($),M=f.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap($),[F,W]=((C,_)=>{let T=[],S=[];for(let[P,D]of C.entries())P<_?T.push(D):S.push(D);return[T,S]})([...N,...R,...M],jIt({primary:R.length+N.length,overflow:M.length}));return d.jsxs(d.Fragment,{children:[d.jsx(wn,{title:r.appearance.landingHeader,onClose:E,backFn:w==="default"?void 0:()=>{v("default")}}),w==="default"&&d.jsx(OIt,{}),w==="default"&&(typeof r.appearance.loginMessage=="string"?d.jsx(w9t,{children:r.appearance.loginMessage}):r.appearance.loginMessage),d.jsx(g9t,{style:{overflow:"hidden"},children:d.jsxs(B6e,{$colorScheme:o,children:[w==="default"&&d.jsxs(d.Fragment,{children:[F,W.length>0&&d.jsx(z4e,{text:"More options",icon:d.jsx(Vdt,{}),onClick:()=>v("overflow")})]}),w==="overflow"&&d.jsx(d.Fragment,{children:W}),m&&w==="default"&&d.jsx(D4e,{})]})}),r&&d.jsx(hG,{app:r}),d.jsx(er,{})]})};let jIt=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,OIt=J(ASt).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ccb89604-0"})(["margin-bottom:16px;"]);const Do={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(Q4e,{connectOnly:!1}):d.jsx(W4e,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},Z4e={component:()=>{let[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(""),{authenticated:l,user:c}=_n(),{client:u,walletProxy:h,refreshSessionAndUser:f,closePrivyModal:p,createAnalyticsEvent:m}=st(),{app:g,navigate:y,data:w,onUserCloseViaDialogOrKeybindRef:v}=lt(),{onSuccess:b,onFailure:A}=w.setWalletPassword,E=bd(c),$=(t==null?void 0:t.recoveryMethod)==="user-passcode",N=(E==null?void 0:E.recoveryMethod)==="user-passcode";x.useEffect(()=>{l||(y(Do),A(new Lit("User must be authenticated before setting a password on a Privy wallet")))},[l]);let R=()=>i?(A(i),void p({shouldCallAuthOnSuccess:!1})):$?(b(t),void p({shouldCallAuthOnSuccess:!1})):(A(new Ym("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return v.current=R,d.jsx(p4e,{appName:(g==null?void 0:g.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:o,isResettingPassword:N,onPasswordGenerate:()=>a(f4e()),onPasswordChange:a,onSubmit:async()=>{$?(b(t),p({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let M=await u.getAccessToken();if(M&&c&&(E!=null&&E.address)&&o&&h)try{m({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}});let{entropyId:F,entropyIdVerifier:W}=qu(c);if(!(await h.setRecovery({accessToken:M,entropyId:F,entropyIdVerifier:W,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new Ym("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"error setting password"}});let H=await f(),L=bd(H);if(!L)return s(new Ym("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"wallet disconnected"}});e(L),m({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}})}catch(F){console.warn(F),s(F instanceof Error?F:Error("Error setting password on privy wallet")),m({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:E.address,reason:F}})}})(),r(!1))},onClose:R})}},MIt=({onClose:t,onProceed:e})=>d.jsx(Rn,{title:"Secure Your Account",subtitle:d.jsxs(d.Fragment,{children:["Please set a password to secure your account.",d.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:hq,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),DIt={component:()=>{let{closePrivyModal:t}=st(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=lt(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new Ym("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=s,d.jsx(MIt,{onClose:s,onProceed:()=>{n(Z4e)}})}},BIt={component:()=>{let[t,e]=x.useState(!0),{authenticated:n,user:r}=_n(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=st(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=lt(),[h,f]=x.useState(void 0),[p,m]=x.useState(""),[g,y]=x.useState(!1),{entropyId:w,entropyIdVerifier:v,onCompleteNavigateTo:b,onSuccess:A,onFailure:E}=c.recoverWallet,$=(N="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),E(typeof N=="string"?new Ym(N):N)};return u.current=$,x.useEffect(()=>{if(!n)return $("User must be authenticated and have a Privy wallet before it can be recovered")},[n]),d.jsxs(or,{children:[d.jsx(or.Header,{icon:q1,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:$}),d.jsx(or.Body,{children:d.jsx(LIt,{children:d.jsxs("div",{children:[d.jsxs(tN,{children:[d.jsx(AG,{type:t?"password":"text",onChange:N=>(R=>{R&&f(R)})(N.target.value),disabled:g,style:{paddingRight:"2.3rem"}}),d.jsx(rN,{style:{right:"0.75rem"},children:t?d.jsx(iN,{onClick:()=>e(!1)}):d.jsx(sN,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(FIt,{children:p})]})})}),d.jsxs(or.Footer,{children:[d.jsx(or.HelpText,{children:d.jsxs(v_t,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),d.jsx(or.Actions,{children:d.jsx(UIt,{loading:g||!i,disabled:!h,onClick:async()=>{y(!0);let N=await a.getAccessToken(),R=Bf(r,w);if(!N||!R||h===null)return $("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:N,entropyId:w,entropyIdVerifier:v,recoveryPassword:h})),m(""),b?l(b):s({shouldCallAuthOnSuccess:!1}),A==null||A(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(M){(function(F){return H3(F)&&(F.type==="invalid_recovery_pin"||F.type==="invalid_request_arguments")})(M)?m("Invalid recovery password, please try again."):m("An error has occurred, please try again.")}finally{y(!1)}},$hideAnimations:!w&&g,children:"Recover your account"})}),d.jsx(or.Watermark,{})]})]})}};let LIt=J.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),FIt=J.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),UIt=J(hr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&os(["&&{transition:none;}"]));const zIt={component:()=>{let{app:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=lt(),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(),[u,h]=x.useState(null),{create:f}=xG(),{authenticated:p,user:m}=_n(),{closePrivyModal:g,isNewUserThisSession:y,initializeWalletProxy:w}=st(),{onSuccess:v,onFailure:b,callAuthOnSuccessOnClose:A,shouldCreateEth:E,shouldCreateSol:$}=n.createWallet,[N,R]=x.useState(null),M=new ea(async()=>{try{let F;if(E&&$)F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m}),F=await f({chainType:"solana",walletIndex:0,latestUser:F.user});else if($)F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:m});else{if(!E)throw Error("Invalid args to create wallet");F=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m})}R(F),y?e(EG):(v(F),g({shouldCallAuthOnSuccess:A}))}catch(F){s(F.message)}});return x.useEffect(()=>{u||w(3e4).then(F=>h(F))},[u]),x.useEffect(()=>{if(!p||!m)return e(Do),void b(Error("User must be authenticated before creating a Privy wallet"))},[p]),r.current=()=>null,d.jsx(p4e,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!N&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{N&&N.account.recoveryMethod!=="user-passcode"?(b(new Ym("User created a wallet but failed to set a password for it")),g({shouldCallAuthOnSuccess:!1})):N?(v(N),g({shouldCallAuthOnSuccess:A})):(b(new Ym("User wallet creation failed")),g({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(f4e()),onSubmit:async()=>(a(!0),M.execute().then(()=>new Promise(F=>setTimeout(F,250))).finally(()=>a(!1)))})}},WIt=J.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),ew=J.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),pg=J.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),HIt={component:()=>{var y;let{user:t}=_n(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=st(),s=lt(),{entropyId:o,entropyIdVerifier:a}=(y=s.data)==null?void 0:y.recoverWallet,[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null);function m(){var w,v,b,A;if(!l){if(f)return(v=(w=s.data)==null?void 0:w.setWalletPassword)==null||v.onFailure(f),void i();if(!u)return(A=(b=s.data)==null?void 0:b.setWalletPassword)==null||A.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=m;let g=!(!l&&!u);return d.jsxs(d.Fragment,f?{children:[d.jsx(wn,{onClose:m},"header"),d.jsx(WIt,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(Sw,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(pg,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(Ux,{style:{minHeight:"2rem"}}),d.jsx(_7,{onClick:()=>p(null),children:"Try again"}),d.jsx(er,{})]}:{children:[d.jsx(wn,{onClose:m},"header"),d.jsx(Yve,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(pg,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(ew,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(Ux,{style:{minHeight:"2rem"}}),d.jsx(_7,{loading:l,disabled:g,onClick:()=>async function(){c(!0);try{let w=await e.getAccessToken(),v=Bf(t,o);if(!w||!n||!v)return;if(!(await n.setRecovery({accessToken:w,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:v.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let b=await r();if(!b)throw Error("Unable to set recovery on wallet");let A=Bf(b,v.address);if(!A)throw Error("Unabled to set recovery on wallet");h(!!b),setTimeout(()=>{var E,$;($=(E=s.data)==null?void 0:E.setWalletPassword)==null||$.onSuccess(A),i()},Ur)}catch(w){p(w)}finally{c(!1)}}(),children:u?"Success":"Confirm"}),d.jsx(er,{})]})}};function J4e({isCreatingWallet:t,skipSplashScreen:e}){return t?zIt:e?Z4e:DIt}function X4e({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?HIt:n||e.length===1?J4e({isCreatingWallet:t==="create",skipSplashScreen:r}):tU}function e8e(t){switch(t){case"user-passcode":return BIt;case"google-drive":case"icloud":return s4e;default:throw Error("Recovery method not supported")}}const t8e=({children:t,theme:e})=>d.jsxs(VIt,{$theme:e,children:[d.jsx(Hst,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(qIt,{$theme:e,children:t})]});let VIt=J.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),qIt=J.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const n8e=os(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),dN=J.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],n8e);let GIt=J(dN).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),KIt=J.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),YIt=J.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),QIt=J.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),ZIt=J(TG).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),JIt=J(X1).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),XIt=J(vd).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const hN=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[o,a]=x.useState(!1);return x.useEffect(()=>{if(o){let l=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(l)}},[o]),d.jsxs("div",{children:[i&&d.jsx(ZIt,{children:i}),d.jsx(GIt,{className:r,$state:t?"error":void 0,children:d.jsxs(KIt,{children:[d.jsxs(YIt,{children:[d.jsx(Ma,{address:n,showCopyIcon:!1}),e!==void 0&&d.jsx(QIt,{children:e})]}),s&&d.jsx(XIt,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(n).then(()=>a(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,o?{children:["Copied",d.jsx(U8,{size:14})]}:{children:["Copy",d.jsx(XS,{size:14})]})})]})}),t&&d.jsx(JIt,{children:t})]})};function r8e({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=st(),[s,o]=x.useState(0n),[a,l]=x.useState(!1),c=x.useMemo(()=>{let h=r||i[0];if(h)return Bp({chain:r,transport:Lp(Vp(h,t,e))})},[r,t,e]),u=x.useCallback(async()=>{if(!n||!c)return;l(!0);let h=await c.getBalance({address:n}).catch(console.error);return h?(o(h),l(!1),h):void 0},[c,n,o]);return x.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const Zh="sdk_fiat_on_ramp_completed_with_status";async function $G({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function fN(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function AO(t){let[e]=Object.entries(h_t[t]).find(([n,r])=>r.symbol==="USDC")??[];return e}const NG=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await Bp({chain:t,transport:Lp(Vp(t,r,n))}).readContract({address:i,abi:eTt,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let eTt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const i8e=({children:t,theme:e})=>d.jsxs(tTt,{$theme:e,children:[d.jsx(QV,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(nTt,{$theme:e,children:t})]});let tTt=J.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),nTt=J.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const rTt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),iTt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),Qse=t=>{let[e,n]=x.useState();return x.useEffect(()=>{t().then(r=>{n(r)}).catch(()=>{})},[]),e},s8e=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=Bp({chain:e,transport:Lp(Vp(e,n,r))}),[s,o]=await Promise.all([i.readContract({abi:Zse,address:t,functionName:"symbol"}),i.readContract({abi:Zse,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let Zse=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const fU=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let sTt=2n**256n-1n;const N7=({amount:t,decimals:e})=>t===sTt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),o8e=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=Bp({chain:s,transport:Lp(Vp(s,r,e))}),a=await o.getBalance({address:n}).catch(()=>0n),l=null,c=Mrt[s.id];if(i&&c){let{balance:u}=await NG({address:n,chain:s,rpcConfig:r,appId:e,erc20Address:c});l=u}return{balance:a,erc20Balance:l,erc20Address:c,chain:s}})),PG=J.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),xr=J.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),sr=J.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),oTt=J(sr).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),Ai=J.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],cN),aTt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let lTt={[ou.id]:t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[_3.id]:t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[au.id]:t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[NT.id]:t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[l1e.id]:t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[lu.id]:t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[nf.id]:t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[sl.id]:t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[xV.id]:t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const a8e=({chainId:t,...e})=>{if(t==="solana")return d.jsx(aTt,{...e});let n=lTt[t];return d.jsx(n||kbe,{...e})},cTt=({balance:t,className:e,chain:n})=>d.jsx(dN,{className:e,$state:void 0,children:d.jsx(pU,{balance:t,chain:n})}),pU=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs(uTt,{children:[d.jsx(hTt,{chainId:typeof e=="object"?e.id:"solana"}),d.jsx(Ai,{children:typeof e=="object"?e.name:fN(e)})]}),d.jsxs(Qh,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(dTt,{children:d.jsx(e$,{})}),t]})]});let uTt=J.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),dTt=J.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),hTt=J(a8e).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const fTt=({options:t,onSelect:e,selected:n,className:r})=>d.jsxs(Kut,{as:pTt,children:[d.jsxs(Uve,{as:yTt,children:[d.jsx(pU,{balance:n.balance,chain:n.chain}),d.jsx(mU,{height:16})]}),d.jsx(zve,{as:mTt,className:r,children:t.map((i,s)=>d.jsx(Wve,{as:gTt,onClick:()=>e(s),children:d.jsx(pU,{balance:i.balance,chain:i.chain})},s))})]});let pTt=J.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),mTt=J.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),gTt=J.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),mU=J(uq).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),yTt=J.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],n8e,mU,mU);const wTt=J.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),E6=J.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),l8e=J.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),c8e=J.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),u8e=J.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),bTt=J(u8e).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),d8e=J.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),h8e=J.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),vTt=J.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),xTt=J.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),f8e=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:h,fundingWalletAddress:f,onSubmit:p,onSelect:m,onAmountChange:g,erc20ContractInfo:y})=>{let w=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(af,{}),d.jsx(pg,{children:"Transfer from another network"}),d.jsxs(ew,{children:["You need more funds on the"," ",typeof n=="object"?n.name:fN(n)," ","network. Bridge from another blockchain network."]}),d.jsxs(l8e,{style:{marginTop:"2rem"},children:[d.jsxs(c8e,{onClick:()=>{var v;return(v=w.current)==null?void 0:v.focus()},children:[d.jsx(u8e,{ref:w,value:i,onChange:v=>{let b=v.target.value;if(/^[0-9.]*$/.test(b)&&b.split(".").length-1<=1){let A=/\.$/.test(b)?".":"",E=Number(b.replace(/\.$/,"")||"0");if(Number.isNaN(E))return void g("0");g(E.toString()+A)}}}),d.jsx(d8e,{children:s})]}),o&&d.jsx(h8e,{children:o})]}),d.jsxs(xr,{style:{marginTop:"1.5rem"},children:[d.jsx(sr,{children:"From"}),d.jsx(sr,{children:cte(f)})]}),d.jsx(fTt,{selected:{chain:l.chain,balance:l.isErc20Quote?N7({amount:l.erc20Balance??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:id(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:v,balance:b,isErc20Quote:A,erc20Balance:E})=>({chain:v,balance:A?N7({amount:E??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:id(b,v.nativeCurrency.symbol,3,!0)})),onSelect:m}),d.jsxs(xr,{style:{marginTop:"1.5rem"},children:[d.jsx(sr,{children:"To"}),d.jsx(sr,{children:cte(h)})]}),d.jsx(cTt,{chain:n,balance:r}),d.jsx(X1,{style:{marginTop:"1rem"},children:e}),d.jsxs(_7,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(_d,{}),d.jsx(er,{})]})},RG=({walletClientType:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>{var f;let h=$g(t);return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(W3,{}),d.jsx(gG,{style:{marginTop:"16px"},children:d.jsx(G4e,{icon:(f=h==null?void 0:h.image_url)==null?void 0:f.md,name:t})}),d.jsx(xd,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(PG,{children:[d.jsxs(xr,{children:[d.jsx(sr,{children:"Total"}),d.jsx(Ai,{children:l||a})]}),d.jsxs(xr,{children:[d.jsx(sr,{children:"To"}),d.jsx(Ai,{children:d.jsx(Ma,{address:n,showCopyIcon:!1})})]}),d.jsxs(xr,{children:[d.jsx(sr,{children:"Network"}),d.jsx(Ai,{children:d.jsxs(ETt,{children:[d.jsx(a8e,{chainId:r,height:16,width:16})," ",i]})})]}),c&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Estimated fee"}),d.jsx(Ai,{children:u||c})]})]}),d.jsx(x_t,{height:24}),d.jsx(er,{})]})};let ETt=J.div.withConfig({displayName:"NetworkColumn",componentId:"sc-f4ee4fc8-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const p8e={component:()=>{var U,z,X,ne,ie;let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=st(),{navigate:i,setModalData:s,app:o,data:a}=lt(),{wallets:l}=Pg(),[c,u]=x.useState(!1),[h,f]=x.useState(0n),[p,m]=x.useState(!1),[g,y]=x.useState(null),[w,v]=x.useState(null),[b,A]=x.useState([]),[E,$]=x.useState(0),[N,R]=x.useState(!1),[M,F]=x.useState(!1),[W,H]=x.useState(!1),[L,k]=x.useState(!1),[C,_]=x.useState(),[T,S]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:P,chain:D,connectedWalletAddress:O}=a.funding,I=a.funding.address,B=a.funding.erc20Address,[Q,j]=x.useState(a.funding.amount);x.useEffect(()=>{B&&!P&&y(Error("Unable to fetch token details"))},[]);let Y=!!B&&!!P,ee=Y?BigInt(parseFloat(Q)*10**P.decimals):uye(Q),Z=O?l.find(({address:le})=>le===O):l[0],oe=$g((Z==null?void 0:Z.walletClientType)||"unknown"),de=(oe==null?void 0:oe.name)||"wallet",[ce,he]=x.useState(null);x.useEffect(()=>{(async()=>{if(!Z)return;let le=await Z.getEthereumProvider();he(n1e({account:Z.address,transport:i1e(le)}).extend(wV))})().catch(console.error)},[Z]);let[be,fe]=x.useState(0n);x.useEffect(()=>{Bp({chain:D,transport:Lp(Vp(D,t,e))}).getBalance({address:I}).then(fe).catch(console.error)},[]);let[ke,we]=x.useState(0n);x.useEffect(()=>{Y&&NG({chain:D,address:I,appId:e,rpcConfig:t,erc20Address:B}).then(le=>we(le.balance)).catch(console.error)},[]);let{tokenPrice:Fe}=XA(D.id),[Me,Se]=x.useState({to:I,chain:D,value:ee,data:void 0});x.useEffect(()=>{(async()=>{let le,Be;if(!ce||!Z||N||W)return;R(!0);let Xe=Bp({chain:Me.chain,transport:Lp(Vp(Me.chain,t,e))});if(Y&&!Me.data)return await Xe.simulateContract({address:B,chain:Me.chain,abi:fU,functionName:"transfer",args:[I,ee],account:Z.address}).catch(Ke=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Ke)})?(R(!1),void Se({to:B,chain:Me.chain,data:rl({abi:fU,functionName:"transfer",args:[I,ee]}),value:"0x0"})):(R(!1),void m(!0));try{le=await Xe.prepareTransactionRequest({account:Z.address,to:Me.to,chain:Me.chain,data:Me.data,value:BigInt(Me.value??0)})}catch(Ke){if(console.error(Ke),b.length>1)v(Ke.shortMessage??"Something went wrong");else if(M&&b.length===0)return void y(new ue(`Wallet ${Qo(Z.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))}if(!le)return R(!1),void m(!0);R(!1),H(!0),u(!0),f(le.gas);try{await ce.switchChain({id:Me.chain.id})}catch{await ce.addChain({chain:Me.chain}),await ce.switchChain({id:Me.chain.id})}try{Be=await ce.sendTransaction(le)}catch(Ke){if(console.error(Ke),Ke.name==="TransactionExecutionError")if(b.length<1){let et=Ke.shortMessage;(Ke.shortMessage.includes("rejected the request")||Ke.details.includes("rejected the request"))&&(et="User rejected the request."),y(new ue(et,void 0,pe.TRANSACTION_FAILURE))}else v(Ke.shortMessage??"Something went wrong")}if(Be)return await ce.waitForTransactionReceipt({hash:Be}),H(!1),M?(_(Be),void S("pending")):(k(!0),void r({eventName:Zh,payload:{provider:"external",status:"success",txHash:Be,address:Z.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?Fa(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??B??"ETH",destinationAddress:I,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:ee?Fa(ee,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??B??D.nativeCurrency.name}}));H(!1)})().catch(console.error)},[ce,Me]),x.useEffect(()=>{(async()=>{var Bt;if(!p||!ce||!Z)return;let le=EV(o.chains).filter(ze=>ze.id!==D.id&&!!ze.testnet==!!D.testnet);Y&&le.unshift(D);let Be=await o8e({chains:le,address:Z.address,appId:e,rpcConfig:t,includeUsdc:(Bt=a.funding)==null?void 0:Bt.isUSDC}),Xe=Y?Be.filter(ze=>ze.balance>0n):Be.filter(ze=>ze.balance>ee),Ke=Y&&Be.every(ze=>ze.balance===0n);if(Xe.length<1)return void y(new ue(Ke?`Wallet ${Qo(Z.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Qo(Z.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));Xe.sort((ze,Ln)=>Number(Y?(Ln.erc20Balance??0n)-(ze.erc20Balance??0n):Ln.balance-ze.balance));let et=Xe.flatMap(ze=>{let Ln=[{...ze,isErc20Quote:!1,isTestnet:!!D.testnet,input:Yv({amount:ee.toString(),user:Z.address,recipient:I,destinationChainId:D.id,destinationCurrency:B,originChainId:ze.chain.id})}];return Y&&B&&(ze.erc20Balance??0n)>=ee&&Ln.push({...ze,isErc20Quote:!0,isTestnet:!!D.testnet,input:Yv({amount:ee.toString(),user:Z.address,recipient:I,destinationChainId:D.id,destinationCurrency:B,originChainId:ze.chain.id,originCurrency:ze.erc20Address})}),Ln}),Pe=(await Promise.allSettled(et.map(async ze=>({...ze,quote:await nE(ze)})))).filter(ze=>ze.status==="fulfilled").map(ze=>ze.value);if(Pe.length<1)return void y(new ue(`Wallet ${Qo(Z.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let Tt=Pe.map(ze=>({bridgeTx:I7(ze.quote),balance:ze.balance,chain:ze.chain,erc20Balance:ze.erc20Balance,isErc20Quote:ze.isErc20Quote})).filter(ze=>!!ze.bridgeTx);if(Tt.length>1)return void A(Tt);let dn=Tt[0];dn?(F(!0),Se({data:dn.bridgeTx.data,to:dn.bridgeTx.to,value:dn.bridgeTx.value,chain:dn.chain})):y(new ue(`Wallet ${Qo(Z.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),SG({transactionHash:C,isTestnet:!!D.testnet,bridgingStatus:T,setBridgingStatus:S,onSuccess({transactionHash:le}){F(!1),k(!0),r({eventName:Zh,payload:{provider:"external",status:"success",txHash:le,address:Z==null?void 0:Z.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?Fa(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??B??"ETH",destinationAddress:I,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:ee?Fa(ee,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??B??D.nativeCurrency.name}})},onFailure({error:le}){F(!1),y(le)}}),x.useEffect(()=>{g&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:g,previousScreen:rC}}),i(Gr,!1))},[g]);let ve=!Y&&Fe?U6e(Q??"0",Fe):void 0,Oe=Y?h:mG([h,ee]),Le=Oe&&Fe?y1(Oe,Fe):void 0,Ce=Oe?id(Oe,(U=a==null?void 0:a.funding)!=null&&U.erc20Address?((X=(z=a==null?void 0:a.funding)==null?void 0:z.erc20ContractInfo)==null?void 0:X.symbol)||"ETH":((ne=a==null?void 0:a.funding)==null?void 0:ne.chain.nativeCurrency.symbol)||"ETH"):void 0,De=h&&Fe?y1(h,Fe):void 0,We=h?id(h,((ie=D==null?void 0:D.nativeCurrency)==null?void 0:ie.symbol)||"ETH"):void 0;if(x.useEffect(()=>{if(!L)return;let le=setTimeout(n,rG);return()=>clearTimeout(le)},[L]),L)return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(af,{}),d.jsxs(Y$,{children:[d.jsx(GT,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(xd,{title:"Success!",description:`Youve successfully added ${Q} ${Y?P.symbol:D.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_d,{}),d.jsx(er,{})]});let rt=Y?`${N7({amount:ke,decimals:P.decimals})}  ${P.symbol}`:id(be,D.nativeCurrency.symbol,3,!0),G=b[E];return b.length>1&&G?d.jsx(f8e,{displayName:de,configuredFundingChain:D,erc20ContractInfo:P,formattedBalance:rt,fundingAmount:Q,fundingCurrency:Y?P.symbol:D.nativeCurrency.symbol,fundingAmountInUsd:ve,options:b,selectedOption:G,isPreparing:N,isSubmitting:W,addressToFund:I,fundingWalletAddress:(Z==null?void 0:Z.address)||"",errorMessage:w,onSubmit:()=>{var le;((le=a.funding)==null?void 0:le.amount)!==Q?async function(){if(Z&&G)try{let Be=await nE({isTestnet:!!D.testnet,input:Yv({amount:ee.toString(),user:Z.address,recipient:I,destinationChainId:D.id,destinationCurrency:B,originChainId:G.chain.id})}),Xe=I7(Be);if(!Xe)throw Error("Invalid transaction request");F(!0),Se({data:Xe.data,to:Xe.to,value:Xe.value,chain:G.chain})}catch(Be){console.error(Be),y(new ue("Unable to fetch quotes for bridging",Be,pe.INSUFFICIENT_BALANCE))}}().catch(console.error):Se({to:G.bridgeTx.to,data:G.bridgeTx.data,value:G.bridgeTx.value,chain:G.chain})},onSelect:le=>{le!==E&&(v(null),$(le))},onAmountChange:j}):c&&h&&Z&&(a!=null&&a.funding)?d.jsx(RG,{walletClientType:(Z==null?void 0:Z.walletClientType)||"unknown",displayName:de,addressToFund:I,isBridging:M,isErc20Flow:Y,totalPriceInUsd:Le,totalPriceInNativeCurrency:Ce,gasPriceInUsd:De,gasPriceInNativeCurrency:We,chainId:D.id,chainName:D.name}):d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(W3,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},gU=Symbol("solana-funding-plugin"),m8e={component:function(){let t=Fn(),{closePrivyModal:e,createAnalyticsEvent:n,connectors:r}=st(),{navigate:i,setModalData:s,app:o,data:a}=lt(),l=x.useRef(!1),c=IG(),[u,h]=x.useState(!1),[f,p]=x.useState(!1),[m,g]=x.useState(null),[y,w]=x.useState(),[v,b]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:A,connectedWalletAddress:E,chain:$,solanaChain:N,isUSDC:R}=a.funding,M=a.funding.address,F=a.funding.erc20Address,W=a.funding.isUSDC?"USDC":$.nativeCurrency.symbol,H=x.useMemo(()=>function({connectors:_,connectedWalletAddress:T}){let S=_.find(D=>D.chainType==="solana"&&D.wallets.some(O=>O.address===T)),P=S==null?void 0:S.wallet.accounts.find(D=>D.address===T);if(!S||!P)throw new ue("Unable to find source wallet connector");return new Lwe({wallet:S.wallet,account:P})}({connectors:r,connectedWalletAddress:E||""}),[r,E]),L=x.useMemo(()=>{let _=c(gU);if(!_)throw new ue("Unable to load solana plugin");let T=t.solanaRpcs["solana:mainnet"];if(!T)throw new ue("Unable to load mainnet RPC");return _.getSolanaRpcClient({rpc:T.rpc,rpcSubscriptions:T.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:T.blockExplorerUrl??"https://explorer.solana.com"})},[]),k=$g(JF((H==null?void 0:H.standardWallet.name)||"unknown")),C=(k==null?void 0:k.name)||"wallet";return x.useEffect(()=>{(async function(){if(!H||!$||l.current)return;let _=c(gU);if(!_)return void g(new ue("Unable to solana plugin"));l.current=!0,$!=null&&$.testnet&&console.warn("Solana testnets are not supported for bridging");let T=R?1e6*parseFloat(A):uye(A),S=await nE({isTestnet:!!$.testnet,input:Yv({amount:T.toString(),user:H.address,recipient:M,destinationChainId:$.id,originChainId:rU,originCurrency:R?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":iU,destinationCurrency:R?F:void 0})}).catch(console.error);if(!S)return void g(new ue(`Unable to fetch quotes for bridging. Wallet ${pO(H.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let P=await _.createTransactionFromRelayQuote({quote:S,source:H.address,solanaClient:L});if(P)try{h(!0);let D=await _.simulateTransaction({solanaClient:L,tx:P});if(D.hasError)return D.hasFunds?(console.error("Transaction failed:",D.error),void g(new ue("Something went wrong",void 0,pe.TRANSACTION_FAILURE))):void g(new ue(`Wallet ${pO(H==null?void 0:H.address)} does not have enough funds. ${S.details.currencyIn.amountFormatted} ${W} are needed to complete the transaction.`,void 0,pe.INSUFFICIENT_BALANCE));let{signature:O}=await H.signAndSendTransaction({chain:"solana:mainnet",transaction:P}),I=_.getAddressFromBuffer(O);w(I),b("pending")}catch(D){if(console.error(D),/user rejected the request/gi.test(D.message||""))return void g(new ue("Transaction was rejected by the user",void 0,pe.TRANSACTION_FAILURE));g(new ue("Something went wrong",void 0,pe.TRANSACTION_FAILURE))}else g(new ue(`Unable to select bridge option from quotes. Wallet ${pO(H.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),SG({transactionHash:y,isTestnet:!1,bridgingStatus:v,setBridgingStatus:b,onSuccess({transactionHash:_}){h(!1),p(!0),n({eventName:Zh,payload:{provider:"external",status:"success",txHash:_,address:H.address,chainType:"solana",clusterName:N,token:"SOL",destinationAddress:M,destinationChainId:$.id,destinationChainType:"ethereum",destinationValue:A,destinationToken:R?"USDC":"ETH"}})},onFailure({error:_}){h(!1),g(_)}}),x.useEffect(()=>{if(!f)return;let _=setTimeout(e,rG);return()=>clearTimeout(_)},[f]),x.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:rC}}),i(Gr,!1))},[m]),f?d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(af,{}),d.jsxs(Y$,{children:[d.jsx(GT,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(xd,{title:"Success!",description:`Youve successfully added ${A} ${W} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_d,{}),d.jsx(er,{})]}):u&&H?d.jsx(RG,{walletClientType:JF((H==null?void 0:H.standardWallet.name)||"unknown"),displayName:C,addressToFund:M,isBridging:u,isErc20Flow:!1,chainId:$.id,chainName:$.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(W3,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},Jse={component:()=>{var f;let{data:t,setModalData:e}=lt(),n=t==null?void 0:t.funding,r=n.chainType==="solana",i=x.useRef(null),{tokenPrice:s}=XA(r?"solana":n.chain.id),o=r?void 0:n,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),l=r?n.isUSDC?"USDC":"SOL":n.erc20Address?(f=n.erc20ContractInfo)==null?void 0:f.symbol:n.chain.nativeCurrency.symbol||"ETH",c=parseFloat(n.amount),u=!isNaN(c)&&c>0,h=s?U6e(n.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(pg,{children:"Confirm or edit amount"}),d.jsxs(Q$,{style:{marginTop:"32px"},children:[d.jsx(l8e,{children:a?d.jsx(W3,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs(c8e,{onClick:()=>{var p;return(p=i.current)==null?void 0:p.focus()},children:[d.jsx(bTt,{ref:i,value:n.amount,onChange:p=>{let m=p.target.value;/^[0-9.]*$/.test(m)&&m.split(".").length-1<=1&&e({...t,funding:{...n,amount:m},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:m}:void 0})}}),d.jsx(d8e,{children:l})]}),!(o!=null&&o.erc20Address)&&d.jsx(h8e,{children:h&&u?`${h} USD`:""})]})}),d.jsx(_7,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(er,{})]})}},rC={component:()=>{var E,$,N,R;let t,{connectors:e}=st(),{app:n,setModalData:r,data:i,navigate:s}=lt(),{wallets:o}=Pg(),a=e.filter(V$).flatMap(M=>M.wallets),[l,c]=x.useState("default"),u=((E=i==null?void 0:i.funding)==null?void 0:E.chainType)==="solana",h=!!(($=i==null?void 0:i.funding)!=null&&$.crossChainBridgingEnabled);t=((N=i==null?void 0:i.funding)==null?void 0:N.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let f=o.filter(M=>M.walletClientType!=="privy"),p=f.map(M=>M.walletClientType),m=a.filter(M=>M.walletClientType!=="privy"),g=m.map(M=>M.walletClientType),y=[],w={...i.funding};w.usingDefaultFundingMethod&&(w.usingDefaultFundingMethod=!1);let v=({address:M,walletChainType:F,walletClientType:W})=>{r({...i,funding:{...w,connectedWalletAddress:M,onContinueWithExternalWallet:()=>s(A({destChainType:u?"solana":"ethereum",sourceChainType:F}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:M,walletClientType:W}}:void 0}),s(Jse)};t!=="solana-only"&&y.push(...f.map((M,F)=>d.jsx(Xse,{onClick:()=>v({address:M.address,walletChainType:"ethereum",walletClientType:M.walletClientType}),icon:M.meta.icon,name:M.meta.name,chainType:M.type},F))),t!=="ethereum-only"&&y.push(...m.map((M,F)=>d.jsx(Xse,{onClick:()=>v({address:M.address,walletChainType:"solana",walletClientType:M.walletClientType}),icon:M.meta.icon,name:M.meta.name,chainType:M.type},F))),y.push(...Y4e({walletList:n.appearance.walletList.filter(M=>!f.some(F=>F.walletClientType===M)&&!m.some(F=>F.walletClientType===M)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...n.appearance.walletList,...p,...g],walletConnectEnabled:n.externalWallets.walletConnect.enabled}));let b=d.jsx(U4e,{text:"More wallets",onClick:()=>c("overflow")}),A=({sourceChainType:M,destChainType:F})=>M==="ethereum"&&F==="solana"?A8e:M==="ethereum"&&F==="ethereum"?p8e:M==="solana"&&F==="ethereum"?m8e:w.externalSolanaFundingScreen;return x.useEffect(()=>{r({...i,externalConnectWallet:{onCompleteNavigateTo:({address:M,walletClientType:F,walletChainType:W})=>(r({...i,funding:{...w,onContinueWithExternalWallet:()=>{s(A({destChainType:u?"solana":"ethereum",sourceChainType:W??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:M||"",walletClientType:F||""}}:void 0}),Jse)}})},[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(wn,{backFn:()=>c("default")},"header"),d.jsxs(XF,{children:[d.jsx(ew,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),y]}),d.jsx(er,{})]}:{children:[d.jsx(nu,{}),d.jsx(xd,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(XF,{children:[y.length>4?y.slice(0,3):y,y.length>4&&b]}),d.jsx(er,{})]})}};let Xse=({onClick:t,icon:e,name:n,chainType:r})=>d.jsxs(Vr,{onClick:t,children:[d.jsx(E6,{style:{width:20},children:d.jsx("img",{src:e})}),n,d.jsx(Qh,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&d.jsx(Qh,{color:"gray",children:"Solana"})]});const ATt={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=lt(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=st(),[a,l]=x.useState("pending-in-flow"),c=x.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:f}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return x.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval(async()=>{if(h)try{let{status:m}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(m==="success")return void l("success");if(m==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void n(sd);f!=null&&f.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(m){console.error(m),l("error"),s({eventName:Zh,payload:{status:"failure",provider:"coinbase-onramp",error:m.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(sd)}},1500);return()=>clearInterval(p)}},[h,f,a]),d.jsxs(d.Fragment,{children:[d.jsx(wn,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),r()}},"header"),d.jsx(CTt,{status:a,onClickCta:i}),d.jsx(er,{})]})}};let CTt=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=x.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(STt,{children:[d.jsx(kTt,{isSucccess:t==="success"}),d.jsxs(yG,{children:[d.jsx("h3",{children:n}),d.jsx(_Tt,{children:r})]})]}),i&&d.jsx(hr,{onClick:e,children:i})]})},kTt=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(tu,{color:r,style:{position:"absolute"}}),d.jsx(fG,{color:r}),d.jsx(r9t,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?F8:()=>d.jsx(YV,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:n})})},_Tt=J.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),STt=J.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),ITt={[lu.id]:"ethereum",[au.id]:"base",[nf.id]:"optimism",[sl.id]:"polygon",[ou.id]:"arbitrum"};const eoe=(t,e,n,r,i,s)=>new Promise(async(o,a)=>{let l=J$();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?function(m){let g=ITt[m];if(!g)throw new ue(`Unsupported chainId: ${m} for Coinbase Onramp`);return g}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?Wrt(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:f}=Urt({appId:t.getAppId(),input:h,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=f.toString();let p={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),n({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),r(ATt),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout(()=>{n({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})},5e3),o()}),toe="moonpay";function TTt(t){return parseFloat(t)}function $Tt(t,e=!1){let[n,r]=x.useState(null),{createAnalyticsEvent:i}=st(),{data:s,navigate:o,setModalData:a}=lt(),l=s==null?void 0:s.funding,c=x.useRef(0);return x.useEffect(()=>{let u=setInterval(async()=>{var h,f;if(t)try{let[p]=await async function(g,y){return Vwe(`https://api.moonpay.com/v1/transactions/ext/${g}`,{query:{apiKey:y?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(t,e),m=p.status==="waitingAuthorization"&&p.paymentMethod==="credit_debit_card"?"pending":p.status;if(["failed","completed","awaitingAuthorization"].includes(m)&&(i({eventName:Zh,payload:{status:m,provider:toe,paymentMethod:p.paymentMethod,cardPaymentType:p.cardPaymentType,currency:(h=p.currency)==null?void 0:h.code,baseCurrencyAmount:p.baseCurrencyAmount,quoteCurrencyAmount:p.quoteCurrencyAmount,feeAmount:p.feeAmount,extraFeeAmount:p.extraFeeAmount,networkFeeAmount:p.networkFeeAmount,isSandbox:e}}),clearInterval(u)),m==="failed"||m==="serviceFailure")return a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),void o(sd);r(m)}catch(p){((f=p.response)==null?void 0:f.status)!==404&&(c.current+=1),c.current>=3&&(i({eventName:Zh,payload:{status:"serviceFailure",provider:toe}}),clearInterval(u),a({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),o(sd))}},3e3);return()=>clearInterval(u)},[t,c]),n}const NTt=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),g8e={component:()=>{let{app:t,data:e,setModalData:n,navigateBack:r}=lt(),{closePrivyModal:i}=st(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=$Tt(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(wn,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),n({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),r()}}),d.jsx(PTt,{status:o,onClickCta:i}),d.jsx(er,{})]})}};let PTt=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=x.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(OTt,{children:[d.jsx(RTt,{status:t}),d.jsxs(yG,{children:[d.jsx("h3",{children:n}),d.jsx(jTt,{children:r})]})]}),i&&d.jsx(hr,{onClick:e,children:i})]})},RTt=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(tu,{color:r,style:{position:"absolute"}}),d.jsx(fG,{color:r}),d.jsx(NTt,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return F8;case"waitingAuthorization":return()=>d.jsx(YV,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:n})})},jTt=J.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),OTt=J.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const MTt=async(t,e,n,r,i,s,o,a)=>{let l=J$();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?grt(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:a,currencyCode:c,quoteCurrencyAmount:TTt(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),l.location=u;let f={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(g8e),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:h},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let y8e=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const DTt=()=>y8e("https://apple.com/apple-pay"),BTt=()=>y8e("https://google.com/pay"),sd={component:()=>{var A,E,$,N;let{wallets:t}=Pg(),{connectors:e}=st(),n=e.filter(V$).flatMap(R=>R.wallets),{navigate:r,data:i,setModalData:s}=lt(),{client:o}=st(),a=Fn(),l=i==null?void 0:i.funding,c=Qse(DTt),u=Qse(BTt),h=l.chainType==="solana",f=h?void 0:l,p=x.useMemo(()=>((R,M,F,W,H,L)=>{var I;let k,C,_=F.chainType==="solana",T=_?void 0:F,S=F.isUSDC?"USDC":T!=null&&T.erc20Address?void 0:"native-currency",P=!!_||S&&mrt(Number(F.chain.id),S),D=!!_||S&&zrt(Number(F.chain.id),S),O=[];for(let B of(F.preferredCardProvider&&F.supportedOptions.sort(Q=>Q.provider===F.preferredCardProvider?-1:1),F.supportedOptions))B.method==="card"&&B.provider==="coinbase"&&D&&O.push(()=>eoe(M,F,W,H,L,"buy")),B.method==="card"&&B.provider==="moonpay"&&P&&S&&O.push(()=>MTt(M,F,R,S,W,H,L,"credit_debit_card"));for(let B of F.supportedOptions)B.method==="exchange"&&B.provider==="coinbase"&&D&&(k=()=>eoe(M,F,W,H,L,"buy"));for(let B of((I=L==null?void 0:L.funding)==null?void 0:I.supportedOptions)??[])B.method==="wallets"&&(C=()=>H(rC));return{onFundWithCard:O,onFundWithExchange:k,onFundWithWallet:C}})(a,o,l,s,r,i),[a,o,l,i,s,r]),m=h?n.find(({address:R})=>R===l.address):t.find(({address:R})=>Mi(R)===Mi(l.address)),g=$g((m==null?void 0:m.walletClientType)||"unknown"),y=(g==null?void 0:g.name)||"wallet",w=m&&m.walletClientType!=="privy"?y:a.name,v=x.useMemo(()=>{var R,M,F,W;return(M=(R=l.uiConfig)==null?void 0:R.landing)!=null&&M.title?(W=(F=l.uiConfig)==null?void 0:F.landing)==null?void 0:W.title:`Add funds to your ${w!=null&&w.toLowerCase().endsWith("wallet")?w:w+" wallet"}`},[(E=(A=l.uiConfig)==null?void 0:A.landing)==null?void 0:E.title,w]);x.useEffect(()=>{if(l!=null&&l.defaultFundingMethod&&l.usingDefaultFundingMethod)switch(s({funding:{...l,usingDefaultFundingMethod:!1},solanaFundingData:i==null?void 0:i.solanaFundingData}),l==null?void 0:l.defaultFundingMethod){case"card":p.onFundWithCard[0]&&p.onFundWithCard[0]();break;case"exchange":p.onFundWithExchange&&p.onFundWithExchange();break;case"wallet":p.onFundWithWallet&&p.onFundWithWallet();break;case"manual":r(P7)}},[]),x.useEffect(()=>{f!=null&&f.erc20Address&&!f.erc20ContractInfo&&s8e({address:f.erc20Address,chain:f.chain,rpcConfig:a.rpcConfig,privyAppId:a.id}).then(R=>{s({...i,funding:{...f,erc20ContractInfo:R?{symbol:R.symbol,decimals:R.decimals}:void 0}})}).catch(console.error)},[f==null?void 0:f.erc20Address,f==null?void 0:f.chain]);let b=!(!(f!=null&&f.erc20Address)||f!=null&&f.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx("h3",{children:v}),d.jsxs(wTt,{children:[l.errorMessage&&d.jsx(i8e,{theme:a.appearance.palette.colorScheme,children:l.errorMessage}),(($=p.onFundWithCard)==null?void 0:$[0])&&d.jsxs(Vr,{disabled:b,onClick:p.onFundWithCard[0],children:[d.jsx(E6,{children:d.jsx(qot,{style:{width:24}})}),"Pay with card",c?d.jsx(rTt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?d.jsx(iTt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),p.onFundWithExchange&&d.jsxs(Vr,{disabled:b,onClick:p.onFundWithExchange,children:[d.jsx(E6,{children:d.jsx(YV,{style:{width:24}})}),"Transfer from an exchange"]}),p.onFundWithWallet&&d.jsxs(Vr,{disabled:b,onClick:p.onFundWithWallet,children:[d.jsx(E6,{children:d.jsx(S4e,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(Vr,{disabled:b,onClick:()=>r(P7),children:[d.jsx(E6,{children:d.jsx(Kot,{style:{width:24}})}),"Receive funds"]}),(l==null?void 0:l.showAlternateFundingMethod)&&((N=p.onFundWithCard)==null?void 0:N[1])&&d.jsx(t8e,{theme:a.appearance.palette.colorScheme,children:d.jsxs(vTt,{children:["Having trouble or facing location restrictions?"," ",d.jsx(xTt,{onClick:p.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(er,{})]})}},P7={component:()=>{var F,W,H;let{wallets:t}=Pg(),{connectors:e}=st(),n=e.filter(V$).flatMap(L=>L.wallets),{data:r,setModalData:i,navigate:s,lastScreen:o}=lt(),{rpcConfig:a,appId:l,createAnalyticsEvent:c,closePrivyModal:u}=st(),h=Fn(),[f,p]=x.useState(void 0),[m,g]=x.useState(!1),y=r==null?void 0:r.funding,{reloadBalance:w}=r8e({rpcConfig:a,appId:l,address:y.chainType==="ethereum"?y.address:void 0,chain:y.chainType==="ethereum"?y.chain:void 0}),v=y.chainType==="solana",b=v?y.isUSDC?"USDC":"SOL":y.erc20Address?(F=y.erc20ContractInfo)==null?void 0:F.symbol:y.chain.nativeCurrency.symbol,A=v?n.find(({address:L})=>L===y.address):t.find(({address:L})=>Qo(L)===Qo(y.address));if(!y)return i({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:o||sd},funding:r==null?void 0:r.funding,solanaFundingData:r==null?void 0:r.solanaFundingData,sendTransaction:r==null?void 0:r.sendTransaction}),s(Gr),d.jsx(d.Fragment,{});x.useEffect(()=>{let L=v?async function(){if(y.chainType!=="solana")return;let C=h.solanaRpcs[y.chain];C?(y.isUSDC?async function({rpc:_,address:T,mintAddress:S}){var O;let P=await _.getTokenAccountsByOwner(T,{mint:S},{encoding:"jsonParsed",commitment:"confirmed"}).send(),D=(O=P.value[0])==null?void 0:O.account;return D?BigInt(D.data.parsed.info.tokenAmount.amount):0n}({rpc:C.rpc,address:y.address,mintAddress:AO(y.chain)}):$G({rpc:C.rpc,address:y.address})).then(_=>{let T=BigInt(_);f&&T>f&&(g(!0),c({eventName:Zh,payload:{provider:"manual",status:"success",chainType:"solana",address:A==null?void 0:A.address,value:y.isUSDC?Fa(T-f,6):Fa(T-f,9),token:y.isUSDC?"USDC":"SOL"}})),p(T)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){y.chainType==="ethereum"&&(async()=>{if(!y.erc20Address)return await w()??BigInt(0);{let{balance:C}=await NG({chain:y.chain,address:y.address,erc20Address:y.erc20Address,rpcConfig:a,appId:l});return C}})().then(C=>{var _,T;f&&C>f&&(g(!0),c({eventName:Zh,payload:{provider:"manual",status:"success",chainType:"ethereum",address:A==null?void 0:A.address,chainId:y.chain.id,value:Fa(C-f,((_=y.erc20ContractInfo)==null?void 0:_.decimals)??18),token:((T=y.erc20ContractInfo)==null?void 0:T.symbol)??y.erc20Address??"ETH"}})),p(C)}).catch(()=>p(void 0))},k=setInterval(L,2e3);return L(),()=>clearInterval(k)},[f]);let E=x.useMemo(()=>{var L;return f==null?"":y.isUSDC?mL({amount:f,decimals:6}):v?Q9(f,3,!0,!0):((L=y.erc20ContractInfo)==null?void 0:L.decimals)!=null?mL({amount:f,decimals:y.erc20ContractInfo.decimals}):Hrt({wei:f})},[f,v,y]),$=y.chainType==="ethereum"?y.chain.name:fN(y.chain),N=x.useMemo(()=>{var L,k;return((L=y.uiConfig)==null?void 0:L.receiveFundsTitle)===""?null:d.jsx(pg,{children:((k=y.uiConfig)==null?void 0:k.receiveFundsTitle)??`Receive ${y.amount} ${b??""}`.trim()})},[(W=y.uiConfig)==null?void 0:W.receiveFundsTitle,y.amount,b]),R=x.useMemo(()=>{var L,k;return((L=y.uiConfig)==null?void 0:L.receiveFundsSubtitle)===""?null:d.jsx(ew,{children:((k=y.uiConfig)==null?void 0:k.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${$}.`})},[(H=y.uiConfig)==null?void 0:H.receiveFundsSubtitle,$]),M=y.chainType==="solana"&&y.isUSDC&&AO(y.chain)?`?spl-token=${AO(y.chain)}`:"";return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),N,R,d.jsxs(Q$,{style:{gap:"1rem",margin:N||R?"1rem 0":"0"},children:[d.jsx(tC,{url:`${y.chainType}:${y.address}${M}`,size:200,squareLogoElement:LTt}),d.jsxs(t8e,{theme:h.appearance.palette.colorScheme,children:["Make sure to send funds on ",$,"."]}),d.jsx(hN,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${E} ${b}`,address:y.address}),m&&d.jsx(hr,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(er,{})]})}};let LTt=({...t})=>d.jsx(S6e,{color:"black",...t}),FTt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],UTt=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?d.jsx(zTt,{children:Object.entries(n).map(([r,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[r,":"]})," ",e(i)]},r))}):d.jsx("span",{children:String(n)});return d.jsx("div",{children:e(t)})};const w8e=J.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let zTt=J.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const b8e=({data:t,className:e})=>d.jsx(w8e,{className:e,children:d.jsx(UTt,{data:t})});let WTt=J.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var HTt=({onBack:t,details:e})=>d.jsxs(WTt,{children:[d.jsx(wn,{backFn:t}),d.jsx(b8e,{data:e}),d.jsx(er,{})]});const VTt=J(sr).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var noe=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return d.jsx(roe,{$isLoading:a});let l=e&&r&&o?function(c,u,h){let f=parseFloat(c),p=parseFloat(h);if(f===0||p===0||Number.isNaN(f)||Number.isNaN(p))return c;let m=Math.ceil(-Math.log10(.01/(p/f))),g=Math.pow(10,m=Math.max(m=Math.min(m,u),1)),y=+(Math.floor(f*g)/g).toFixed(m).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(y)}(e,o,r):e;return d.jsxs("div",{children:[d.jsxs(roe,{$isLoading:a,children:[t&&d.jsx(GTt,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",n]}),r&&d.jsxs(qTt,{$isLoading:a,children:["$",r]})]})};let roe=J.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],cN);const qTt=J.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],cN);let GTt=J.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const KTt=t=>{var a,l,c,u,h,f,p,m;let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:s,functionName:o}=n;return d.jsx(dN,{children:d.jsxs(PG,{children:[s!=="transaction"&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Action"}),d.jsx(Ai,{children:o})]}),o==="mint"&&"args"in n&&n.args.filter(g=>g).map((g,y)=>{var w,v;return d.jsxs(xr,{children:[d.jsx(sr,{children:`Param ${y}`}),d.jsx(Ai,{children:typeof g=="string"&&Xa(g)?d.jsx(Ma,{address:g,url:(v=(w=e==null?void 0:e.blockExplorers)==null?void 0:w.default)==null?void 0:v.url,showCopyIcon:!1}):g==null?void 0:g.toString()})]},y)}),o==="setApprovalForAll"&&n.operator&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Operator"}),d.jsx(Ai,{children:d.jsx(Ma,{address:n.operator,url:(l=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:l.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&n.approved!==void 0&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Set approval to"}),d.jsx(Ai,{children:n.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Amount"}),d.jsxs(Ai,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Token ID"}),d.jsx(Ai,{children:n.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in n&&n.amounts&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Amounts"}),d.jsx(Ai,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Token IDs"}),d.jsx(Ai,{children:n.tokenIds.join(", ")})]})]}),o==="approve"&&n.spender&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Spender"}),d.jsx(Ai,{children:d.jsx(Ma,{address:n.spender,url:(u=(c=e==null?void 0:e.blockExplorers)==null?void 0:c.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferFrom&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Transferring from"}),d.jsx(Ai,{children:d.jsx(Ma,{address:n.transferFrom,url:(f=(h=e==null?void 0:e.blockExplorers)==null?void 0:h.default)==null?void 0:f.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferTo&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Transferring to"}),d.jsx(Ai,{children:d.jsx(Ma,{address:n.transferTo,url:(m=(p=e==null?void 0:e.blockExplorers)==null?void 0:p.default)==null?void 0:m.url,showCopyIcon:!1})})]})]})})},v8e=({children:t,theme:e})=>d.jsxs(YTt,{$theme:e,children:[d.jsx(Sw,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(QTt,{$theme:e,children:t})]});let YTt=J.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),QTt=J.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const ZTt=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?d.jsx(ioe,{children:d.jsxs(v8e,{theme:n,children:[d.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),d.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?d.jsx(d.Fragment,{children:d.jsxs(ioe,{children:[d.jsx(i8e,{theme:n,children:d.jsxs("div",{children:[d.jsx("strong",{children:"This is a malicious transaction"}),d.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),d.jsxs(JTt,{children:[d.jsx(l4e,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),d.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let ioe=J.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),JTt=J.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const XTt=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,e$t=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:s,subtitle:o,to:a,tokenAddress:l,network:c,missingFunds:u,fee:h,from:f,cta:p,disabled:m,chain:g,isSubmitting:y,isPreparing:w,isTokenPriceLoading:v,isTokenContractInfoLoading:b,isSponsored:A,symbol:E,balance:$,onClick:N,transactionDetails:R,transactionIndex:M,maxIndex:F,onBack:W,chainName:H,validation:L,hasScanDetails:k,setIsScanDetailsOpen:C,preventMaliciousTransaction:_,setPreventMaliciousTransaction:T,tokensSent:S,tokensReceived:P,isScanning:D,isCancellable:O,functionName:I})=>{var oe,de,ce,he,be,fe;let{showTransactionDetails:B,setShowTransactionDetails:Q,hasMoreDetails:j,isErc20Ish:Y}=(ke=>{let[we,Fe]=x.useState(!1),Me=!0,Se=!1;return(!ke||ke.isErc20Ish||ke.action==="transaction")&&(Me=!1),Me&&(Se=Object.entries(ke||{}).some(([ve,Oe])=>Oe&&!["action","isErc20Ish","isNFTIsh"].includes(ve))),{showTransactionDetails:we,setShowTransactionDetails:Fe,hasMoreDetails:Me&&Se,isErc20Ish:ke==null?void 0:ke.isErc20Ish}})(R),ee=Fn(),Z=Y&&b||w||v||D;return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:r,backFn:W}),t&&d.jsx(r$t,{children:t}),d.jsxs(pg,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(XTt,{maxIndex:F,transactionIndex:M})]}),d.jsx(ew,{children:o}),d.jsxs(PG,{style:{marginTop:"2rem"},children:[(!!S[0]||Z)&&d.jsxs(xr,{children:[P.length>0?d.jsx(sr,{children:"Send"}):d.jsx(sr,{children:i==="approve"?"Approval amount":"Amount"}),d.jsx("div",{className:"flex flex-col",children:S.map((ke,we)=>d.jsx(noe,{iconUrl:ke.iconUrl,value:I==="setApprovalForAll"?"All":ke.value,usdValue:ke.usdValue,symbol:ke.symbol,nftName:ke.nftName,nftCount:ke.nftCount,decimals:ke.decimals},we))})]}),P.length>0&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Receive"}),d.jsx("div",{className:"flex flex-col",children:P.map((ke,we)=>d.jsx(noe,{iconUrl:ke.iconUrl,value:ke.value,usdValue:ke.usdValue,symbol:ke.symbol,nftName:ke.nftName,nftCount:ke.nftCount,decimals:ke.decimals},we))})]}),R&&"spender"in R&&(R!=null&&R.spender)?d.jsxs(xr,{children:[d.jsx(sr,{children:"Spender"}),d.jsx(Ai,{children:d.jsx(Ma,{address:R.spender,url:(de=(oe=g==null?void 0:g.blockExplorers)==null?void 0:oe.default)==null?void 0:de.url})})]}):null,a&&d.jsxs(xr,{children:[d.jsx(sr,{children:"To"}),d.jsx(Ai,{children:d.jsx(Ma,{address:a,url:(he=(ce=g==null?void 0:g.blockExplorers)==null?void 0:ce.default)==null?void 0:he.url,showCopyIcon:!0})})]}),l&&d.jsxs(xr,{children:[d.jsx(sr,{children:"Token address"}),d.jsx(Ai,{children:d.jsx(Ma,{address:l,url:(fe=(be=g==null?void 0:g.blockExplorers)==null?void 0:be.default)==null?void 0:fe.url})})]}),d.jsxs(xr,{children:[d.jsx(sr,{children:"Network"}),d.jsx(Ai,{children:c})]}),d.jsxs(xr,{children:[d.jsx(sr,{children:"Estimated fee"}),d.jsx(Ai,{$isLoading:w||v||A===void 0,children:A?d.jsxs(i$t,{children:[d.jsxs(s$t,{children:["Sponsored by ",ee.name]}),d.jsx(cdt,{height:16,width:16})]}):h})]}),j&&!k&&d.jsxs(d.Fragment,{children:[d.jsx(xr,{className:"cursor-pointer",onClick:()=>Q(!B),children:d.jsxs(oTt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(uq,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:B?"rotate(180deg)":void 0}})]})}),B&&R&&d.jsx(KTt,{action:i,chain:g,transactionDetails:R,isTokenContractInfoLoading:b,symbol:E})]}),k&&d.jsx(xr,{children:d.jsxs(VTt,{onClick:()=>C(!0),children:[d.jsx("span",{className:"text-color-primary",children:"Details"}),d.jsx(adt,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),d.jsx(Ux,{}),e?d.jsx(X1,{style:{marginTop:"2rem"},children:e.message}):n&&M===0?d.jsx(X1,{style:{marginTop:"2rem"},children:n.shortMessage??n$t}):null,d.jsx(ZTt,{variant:L,preventMaliciousTransaction:_,setPreventMaliciousTransaction:T}),d.jsx(t$t,{$useSmallMargins:!(!n&&!e&&L!=="warn"&&L!=="error"),address:f,balance:$,errMsg:w||n||e||!u?void 0:`Add funds on ${(g==null?void 0:g.name)??H} to complete transaction.`}),d.jsx(hr,{style:{marginTop:"1rem"},loading:y,disabled:m||w,onClick:N,children:p}),O&&d.jsx(K$,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),d.jsx(er,{})]})};let t$t=J(hN).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),n$t="There was an error preparing your transaction. Your transaction request will likely fail.",r$t=J.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),i$t=J.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),s$t=J.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),o$t=()=>d.jsxs(d$t,{children:[d.jsx(f$t,{}),d.jsx(h$t,{})]});const a$t=({transactionError:t,chainId:e,onClose:n,onRetry:r,chainType:i,transactionHash:s})=>{let{chains:o}=st(),[a,l]=x.useState(!1),{errorCode:c,errorMessage:u}=((f,p)=>{if(p==="ethereum")return{errorCode:f.details??f.message,errorMessage:f.shortMessage};let m=f.txSignature,g=(f==null?void 0:f.transactionMessage)||"Something went wrong.";if(Array.isArray(f.logs)){let y=f.logs.find(w=>/insufficient (lamports|funds)/gi.test(w));y&&(g=y)}return{transactionHash:m,errorMessage:g}})(t,i),h=(({chains:f,chainId:p,chainType:m,transactionHash:g})=>{var y,w;return m==="ethereum"?((w=(y=f.find(v=>v.id===p))==null?void 0:y.blockExplorers)==null?void 0:w.default.url)??"https://etherscan.io":function(v,b){return`https://explorer.solana.com/tx/${v}?chain=${b}`}(g||"",p)})({chains:o,chainId:e,chainType:i,transactionHash:s});return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:n}),d.jsxs(l$t,{children:[d.jsx(o$t,{}),d.jsx(c$t,{children:c}),d.jsx(u$t,{children:"Please try again."}),d.jsxs(ooe,{children:[d.jsx(soe,{children:"Error message"}),d.jsx(aoe,{$clickable:!1,children:u})]}),s&&d.jsxs(ooe,{children:[d.jsx(soe,{children:"Transaction hash"}),d.jsxs(m$t,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:h,children:"block explorer"})}),"."]}),d.jsxs(aoe,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),l(!0)},children:[s,d.jsx(w$t,{clicked:a})]})]}),d.jsx(p$t,{onClick:()=>r({resetNonce:!!s}),children:"Retry transaction"})]}),d.jsx(Ni,{})]})};let l$t=J.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),c$t=J.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),u$t=J.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),d$t=J.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),h$t=J(QV).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),f$t=J.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),p$t=J(hr).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),soe=J.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),ooe=J.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),m$t=J.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),aoe=J.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),g$t=J(wdt).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),y$t=J(Kve).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),w$t=({clicked:t})=>d.jsx(t?y$t:g$t,{}),b$t=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return ki(t*e)}catch{return}};const v$t=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:r}),d.jsx(H_t,{title:o??"Transaction complete!",description:a??"You're all set."}),d.jsx(Q6e,{tokenPrice:i,from:e.from,to:e.to,gas:b$t(e),txn:t,transactionInfo:n,tokenSymbol:s}),d.jsx(Ux,{}),d.jsx(x$t,{loading:!1,onClick:r,children:"All Done"}),d.jsx(_d,{}),d.jsx(er,{})]});let x$t=J(hr).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const E$t=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],A$t=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],C$t=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],k$t=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],_$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],S$t=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],I$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],T$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],$$t=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],x8e=(t,e)=>{let n=Af(C$t,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=Af(fU,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Af(E$t,t);if(i&&typeof i.args[1]=="string"){let h=N$t(i.args[1]);if(h&&h[4].encodedInitData)return x8e(h[4].encodedInitData,e)}let s=Af(S$t,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=Af(I$t,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=Af(_$t,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=Af($$t,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=Af(T$t,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=Af(k$t,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Af=(t,e)=>{try{let n=Lme({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},N$t=t=>{try{if(typeof t=="string")return x3(A$t,`0x${t.slice(10)}`)}catch{return null}},CO=t=>`${parseFloat(t).toFixed(2)}`;function P$t(t,e){var i,s,o,a,l;let n=[],r=new Map;if(t){for(let c of t)if(c.in[0]){let u;u=c.asset.type==="ERC721"||c.in[0].value==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name,nftCount:c.in.length}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:c.in[0].value,symbol:c.asset.symbol,usdValue:c.in[0].usd_price?CO(c.in[0].usd_price):void 0,decimals:c.asset.decimals},n.push(u)}else if((i=c.out[0])!=null&&i.value){let u;u=c.asset.type==="ERC721"||c.out[0].value==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:c.out[0].value,symbol:c.asset.symbol,usdValue:c.out[0].usd_price?CO(c.out[0].usd_price):void 0,decimals:c.asset.decimals},r.has(u.id)||r.set(u.id,u)}}for(let c of e)for(let u of Object.keys(c.spenders)){let h;h=c.asset.type==="ERC721"||((s=c.spenders[u])==null?void 0:s.value)==="approve_for_all"?{id:`nft:${c.asset.name}`,nftName:c.asset.name}:{id:`token:${c.asset.type}:${c.asset.symbol}:${c.asset.name}`,iconUrl:c.asset.logo_url,value:(o=c.spenders[u])==null?void 0:o.value,symbol:c.asset.symbol,usdValue:(a=c.spenders[u])!=null&&a.usd_price?CO((l=c.spenders[u])==null?void 0:l.usd_price):void 0,decimals:c.asset.decimals},r.has(h.id)||r.set(h.id,h)}return{assetsIn:n,assetsOut:Array.from(r.values())}}const R$t=(t,e,n,r)=>{let[i,s]=x.useState(null),{walletProxy:o}=st();return x.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,c=await S7(t,n,e,r).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:a.push(u),t));return{tx:c,totalGasEstimate:c.gas,hasFunds:l,errors:a}})().then(s)},[t]),i};let loe=new bo(new Gv("There was an issue preparing your transaction",Ku.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),coe=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const E8e={component:()=>{var Bt,ze,Ln,vn,ot,Qt,q,K,se,re,ae,ge,$e,je,Mt,bt,_t,rn;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=lt(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:c}=st(),{user:u}=_n(),h=Fn(),[f,p]=x.useState(0),[m,g]=x.useState(0),[y,w]=x.useState(coe(t,f)),[v,b]=x.useState(null),[A,E]=x.useState(),[$,N]=x.useState(!1),[R,M]=x.useState(null),[F,W]=x.useState(null),[H,L]=x.useState(null),[k,C]=x.useState(void 0),[_,T]=x.useState(void 0),[S,P]=x.useState(!1),[D,O]=x.useState(!1),[I,B]=x.useState([]),[Q,j]=x.useState([]),[Y,ee]=x.useState("uninitiated"),[Z,oe]=x.useState(void 0);if(!y||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return d.jsx(aN,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{var Ye;(Ye=t==null?void 0:t.sendTransaction)==null||Ye.onFailure(loe),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:de}=t.sendTransaction,ce=x.useMemo(()=>o.find(Ye=>Number(Ye.id)===Number(y.chainId)),[y.chainId]),he=(ce==null?void 0:ce.nativeCurrency.symbol)??"ETH",be=x.useMemo(()=>x8e(y.data,!!h.embeddedWallets.extendedCalldataDecoding),[y.data]),{action:fe,isErc20Ish:ke,isNFTIsh:we,functionName:Fe}=be,{toAddress:Me,tokenAddress:Se}=x.useMemo(()=>({toAddress:be.isErc20Ish?be.transferTo:y.to??void 0,tokenAddress:be.isErc20Ish?y.to:void 0}),[be]);x.useEffect(()=>{y.to&&ce&&ke&&s8e({address:y.to,chain:ce,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(b).catch(console.error)},[y.to,ce]);let{tokenPrice:ve,isTokenPriceLoading:Oe}=XA(y.chainId),{balance:Le}=r8e({rpcConfig:h.rpcConfig,appId:h.id,address:de,chain:ce}),Ce=function({rpcConfig:Ye,appId:ut,address:at,chain:ct,tokenInfo:ht}){let{chains:an}=st(),[zn,Ht]=x.useState(null),[Lt,xn]=x.useState(!1),ii=x.useMemo(()=>{let qt=ct||an[0];if(qt)return Bp({chain:ct,transport:Lp(ont(qt,Ye,ut))})},[ct,Ye,ut]),ac=x.useCallback(async()=>{if(at&&ii&&ht.address)try{return xn(!0),await ii.readContract({address:ht.address,abi:FTt,functionName:"balanceOf",args:[at]})}catch(qt){console.error(qt)}finally{xn(!1)}},[ii,at,ht==null?void 0:ht.address,ct]);return x.useEffect(()=>{ac().then(qt=>qt!=null&&Ht(qt))},[ac]),{balance:zn,isLoading:Lt&&zn==null,formattedBalance:mL({amount:zn??BigInt(0),decimals:ht.decimals})}}({rpcConfig:h.rpcConfig,appId:h.id,address:de,tokenInfo:{address:Se||"",decimals:(v==null?void 0:v.decimals)??18},chain:ce}),De=x.useMemo(()=>Fx(Number(y.chainId),o,s,{appId:h.id}),[y.chainId,s]),We=R$t(y,de,De,(Bt=t==null?void 0:t.sendTransaction)==null?void 0:Bt.prepareTransactionRequest);x.useEffect(()=>{w(coe(t,f))},[f]),x.useEffect(()=>{var Ye;(Ye=t.sendTransaction)!=null&&Ye.getIsSponsored?t.sendTransaction.getIsSponsored().then(E).catch(console.error):E(!1)},[t.sendTransaction.getIsSponsored]);let rt=()=>{var Ye,ut,at;if(!$)return R?(Ye=t==null?void 0:t.sendTransaction)==null||Ye.onSuccess({hash:R}):H||We!=null&&We.errors[0]?(ut=t==null?void 0:t.sendTransaction)==null||ut.onFailure(H??(We==null?void 0:We.errors[0])??loe):(at=t==null?void 0:t.sendTransaction)==null||at.onFailure(new bo(new Gv("The user rejected the request",Ku.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=rt;let G=!!(t.funding&&t.funding.supportedOptions.length>0),U=id(BigInt((We==null?void 0:We.totalGasEstimate)??0n),he),z=c&&ve?y1(BigInt((We==null?void 0:We.totalGasEstimate)??0n),ve):void 0,X=id(Le??0n,he,void 0,!0),ne=c&&ve?y1(Le??0n,ve):void 0,ie=v&&!Ce.isLoading&&ke&&fe!=="approve"?`${Ce.formattedBalance} ${v.symbol}`:void 0,le=(vn=(Ln=(ze=t.sendTransaction)==null?void 0:ze.uiOptions)==null?void 0:Ln.transactionInfo)==null?void 0:vn.title;le||(le=fe==="approve"?ke?"Confirm address":"Confirm action":`Approve ${fe}`);let Be=x.useMemo(()=>{var Ye,ut,at,ct,ht,an,zn,Ht;if((ut=(Ye=t.sendTransaction)==null?void 0:Ye.uiOptions)!=null&&ut.description)return(ct=(at=t.sendTransaction)==null?void 0:at.uiOptions)==null?void 0:ct.description;if(fe==="approve"&&Fe==="setApprovalForAll"&&be.approved){let Lt=d.jsx(Ma,{address:be.operator||"",url:(an=(ht=ce==null?void 0:ce.blockExplorers)==null?void 0:ht.default)==null?void 0:an.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission for ",Lt," to transfer tokens on your behalf."]})}if(fe==="approve"&&Fe==="setApprovalForAll"&&!be.approved){let Lt=d.jsx(Ma,{address:be.operator||"",url:(Ht=(zn=ce==null?void 0:ce.blockExplorers)==null?void 0:zn.default)==null?void 0:Ht.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Lt," from transferring tokens on your behalf."]})}return ke&&fe==="approve"||ke&&fe==="approve"?`${h.name} would like your permission for ${Qo(be.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`},[h.name,ke,be,(ot=t.sendTransaction)==null?void 0:ot.uiOptions.description,Fe]),Xe=(se=(K=(q=(Qt=t.sendTransaction)==null?void 0:Qt.uiOptions)==null?void 0:q.transactionInfo)==null?void 0:K.contractInfo)!=null&&se.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Ke=!(!We||We.errors[0]||We.hasFunds||A!==!1),et=Ke&&G,Pe=et?"Add funds":((ae=(re=t.sendTransaction)==null?void 0:re.uiOptions)==null?void 0:ae.buttonText)||(f<m?"Continue":"Approve"),Tt=Ye=>{if(!Ye)throw Error("Transaction scan failed");if(Ye.validation.status==="Success"&&(Ye.validation.result_type==="Benign"?T("safe"):Ye.validation.result_type==="Warning"?T("warn"):Ye.validation.result_type==="Malicious"&&(T("error"),O(!0))),Ye.simulation.status!=="Success")throw Error("Simulation failed");{C(Ye.simulation.params);let{assetsIn:ut,assetsOut:at}=P$t(Ye.simulation.assets_diffs,Ye.simulation.exposures);if(at.length===0&&ut.length===0)throw Error("No tokens found");B(at),j(ut)}};if(x.useEffect(()=>{var Ye;(Ye=t.sendTransaction)!=null&&Ye.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&Y==="uninitiated"&&(ee("in progress"),t.sendTransaction.scanTransaction().then(ut=>{Tt(ut),ee("completed")}).catch(()=>ee("failed")))},[!!((ge=t.sendTransaction)!=null&&ge.scanTransaction)]),x.useEffect(()=>{var Ye;(Ye=t.sendTransaction)!=null&&Ye.scanTransaction&&Y!=="failed"||((ut,at,ct)=>{if(g((ht=>ht!=null&&ht.sendTransaction?"transactionRequest"in ht.sendTransaction?0:ht.sendTransaction.transactionRequests.length-1:0)(t)),at.isErc20Ish&&at.amount&&ct){let ht=N7({amount:at.amount,decimals:ct.decimals});oe(ht),B([{value:ht,symbol:ct==null?void 0:ct.symbol,decimals:ct==null?void 0:ct.decimals}])}else if(ut.value){let ht=BigInt(ut.value),an=ve?y1(ht,ve):void 0;B(c&&an?[{value:an}]:[{value:z6e(ht),symbol:he,decimals:18,usdValue:an}])}else B(c?[{value:"$0"}]:[{value:"0",symbol:he,decimals:18}])})((We==null?void 0:We.tx)??y,be,v)},[y,We==null?void 0:We.tx,be,v,Y]),F)return d.jsx(v$t,{txn:(We==null?void 0:We.tx)??y,onClose:rt,receipt:F,transactionInfo:($e=t.sendTransaction)==null?void 0:$e.uiOptions.transactionInfo,tokenPrice:ve,tokenSymbol:he,receiptHeader:(je=t.sendTransaction)==null?void 0:je.uiOptions.successHeader,receiptDescription:(Mt=t.sendTransaction)==null?void 0:Mt.uiOptions.successDescription});if(H)return d.jsx(a$t,{transactionError:H,transactionHash:R??void 0,chainType:"ethereum",chainId:(We==null?void 0:We.tx.chainId)??y.chainId,onClose:rt,onRetry:({resetNonce:Ye})=>{L(null);let ut={...(We==null?void 0:We.tx)??y};Ye&&(ut.nonce=void 0),w(ut)}});let dn=m!==0&&typeof f=="number"&&f!==0?()=>{p(f-1)}:void 0;return S&&k?d.jsx(HTt,{details:k,onBack:()=>P(!1)}):d.jsx(e$t,{transactionIndex:f,onBack:dn,maxIndex:m,disabled:Ke&&!G||D,isSubmitting:$,submitError:H,isPreparing:!We,isTokenPriceLoading:Oe,isTokenContractInfoLoading:!we&&!v,prepareError:We==null?void 0:We.errors[0],symbol:v==null?void 0:v.symbol,chain:ce,img:Xe,title:le,subtitle:Be,txValue:y.value,fee:z??U,isSponsored:A,from:de??"",to:Me,tokenAddress:Se??void 0,network:((bt=h.chains.find(Ye=>Ye.id===y.chainId))==null?void 0:bt.name)??"",transactionDetails:{...be,formattedAmount:Z},cta:Pe,missingFunds:Ke,action:fe,balance:ie??ne??X,onClose:rt,onClick:et?async()=>{var Ye;if(de){if(!G)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:sd,chainType:"ethereum",amount:vw(BigInt((We==null?void 0:We.tx.value)??0)+BigInt(((Ye=We==null?void 0:We.totalGasEstimate)==null?void 0:Ye.toString())??0)),chain:ce},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(sd)}}:async()=>{var Ye,ut;if(f<m)p(f+1);else{N(!0);try{let at=await i.getAccessToken();if($||!at||!l||!u)return;let ct=await t.sendTransaction.onConfirm({transactionRequest:(We==null?void 0:We.tx)??y});if(M(ct),(Ye=t.sendTransaction)==null?void 0:Ye.signOnly)return await new Promise(an=>setTimeout(an,Ur)),(ut=t==null?void 0:t.sendTransaction)==null||ut.onSuccess({hash:ct}),a({shouldCallAuthOnSuccess:!1});let ht=await De.waitForTransactionReceipt({hash:ct});if(ht.status==="reverted")throw Error("Transaction failed");W(ht)}catch(at){console.warn({transaction:(We==null?void 0:We.tx)??y,error:at}),L(at)}finally{N(!1)}}},validation:_,hasScanDetails:!!k,setIsScanDetailsOpen:P,preventMaliciousTransaction:D,setPreventMaliciousTransaction:O,tokensSent:I,tokensReceived:Q,isScanning:Y==="in progress",isCancellable:((rn=(_t=t.sendTransaction)==null?void 0:_t.uiOptions)==null?void 0:rn.isCancellable)??!1,functionName:Fe})}};function nu({title:t}){var o,a;let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:s}=lt();return d.jsx(wn,{title:t,backFn:e===P7?n:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>r(E8e):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),r(l.methodScreen)}:void 0})}const A8e={component:()=>{let t=Fn(),{rpcConfig:e,appId:n,closePrivyModal:r,createAnalyticsEvent:i}=st(),{navigate:s,setModalData:o,app:a,data:l}=lt(),{wallets:c}=Pg(),[u,h]=x.useState(null),[f,p]=x.useState(null),[m,g]=x.useState([]),[y,w]=x.useState(0),[v,b]=x.useState(!1),[A,E]=x.useState(!1),[$,N]=x.useState(!1),[R,M]=x.useState(!1),[F,W]=x.useState(),[H,L]=x.useState();if(!(l!=null&&l.funding)||l.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:k,chain:C,connectedWalletAddress:_}=l.funding,[T,S]=x.useState(l.funding.amount),P=_?c.find(({address:be})=>be===_):c[0],D=$g((P==null?void 0:P.walletClientType)||"unknown"),O=(D==null?void 0:D.name)||"wallet",[I,B]=x.useState(null);x.useEffect(()=>{(async()=>{if(!P)return;let be=await P.getEthereumProvider();B(n1e({account:P.address,transport:i1e(be)}).extend(wV))})().catch(console.error)},[P]);let[Q,j]=x.useState(0n),Y=Q9(Q);x.useEffect(()=>{let be=t.solanaRpcs[C];be?$G({rpc:be.rpc,address:k}).then(fe=>j(BigInt(fe))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")},[]);let[ee,Z]=x.useState(),{tokenPrice:oe}=XA("solana"),{fundingAmountInBaseUnit:de,fundingAmountInUsd:ce}=function({amount:be,fee:fe,tokenPrice:ke,isUsdc:we}){let Fe=BigInt(Math.floor(parseFloat(be)*10**(we?6:9))),Me=we?Fe:Fe+fe;return{fundingAmountInBaseUnit:Fe,fundingAmountInUsd:ke?wO(Fe,ke):void 0,totalPriceInUsd:ke?wO(Me,ke):void 0,totalPriceInNativeCurrency:Q9(Me),feePriceInNativeCurrency:Q9(fe),feePriceInUsd:ke?wO(fe,ke):void 0}}({amount:T,fee:0n,tokenPrice:oe,isUsdc:l.funding.isUSDC});if(x.useEffect(()=>{(async()=>{if(!I||!P)return;let be=["solana:testnet","solana:devnet"].includes(C);be&&console.warn("Solana testnets are not supported for bridging");let fe=EV(a.chains).filter(({testnet:Se})=>!!Se===be),ke=(await o8e({chains:fe,address:P.address,appId:n,rpcConfig:e})).filter(Se=>Se.balance>0n);if(ke.length<1)return void h(new ue(`Wallet ${Qo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));ke.sort((Se,ve)=>Number(ve.balance-Se.balance));let we=(await Promise.allSettled(ke.map(async Se=>({...Se,quote:await nE({isTestnet:!1,input:Yv({amount:de.toString(),user:P.address,recipient:k,destinationChainId:rU,destinationCurrency:iU,originChainId:Se.chain.id})})})))).filter(Se=>Se.status==="fulfilled").map(Se=>Se.value);if(we.length<1)return void h(new ue(`Unable to fetch quotes for bridging. Wallet ${Qo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE));let Fe=we.map(({quote:Se,balance:ve,chain:Oe})=>({bridgeTx:I7(Se),balance:ve,chain:Oe,isErc20Quote:!1})).filter(({bridgeTx:Se})=>!!Se);if(Fe.length>1)return void g(Fe);let Me=Fe.at(0);Me?(E(!0),Z({data:Me.bridgeTx.data,to:Me.bridgeTx.to,value:Me.bridgeTx.value,chain:Me.chain})):h(new ue(`Unable to select bridge option from quotes. Wallet ${Qo(P.address)} does not have enough funds.`,void 0,pe.INSUFFICIENT_BALANCE))})().catch(console.error)},[I]),x.useEffect(()=>{(async()=>{let be,fe;if(!I||!P||v||$||!ee)return;b(!0);let ke=Bp({chain:ee.chain,transport:Lp(Vp(ee.chain,e,n))});try{be=await ke.prepareTransactionRequest({account:P.address,to:ee.to,chain:ee.chain,data:ee.data,value:BigInt(ee.value??0)})}catch(we){console.error(we),m.length>1&&p(we.shortMessage??"Something went wrong")}if(be){b(!1),N(!0);try{await I.switchChain({id:ee.chain.id})}catch{await I.addChain({chain:ee.chain}),await I.switchChain({id:ee.chain.id})}try{fe=await I.sendTransaction(be)}catch(we){console.error(we),we.name==="TransactionExecutionError"&&(m.length<1?h(new ue(we.shortMessage,void 0,pe.TRANSACTION_FAILURE)):p(we.shortMessage??"Something went wrong"))}if(fe)return await I.waitForTransactionReceipt({hash:fe}),A?(L("pending"),void W(fe)):(N(!1),M(!0),void i({eventName:Zh,payload:{provider:"external",status:"success",txHash:fe,address:P.address,chainId:ee.chain.id,chainType:"ethereum",value:ee.value?Fa(BigInt(ee.value),18):void 0,token:"ETH",destination:k,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Fa(de,9),destinationToken:"SOL"}}));N(!1)}else b(!1)})().catch(console.error)},[I,ee]),SG({transactionHash:F,isTestnet:!1,bridgingStatus:H,setBridgingStatus:L,onSuccess({transactionHash:be}){E(!1),M(!0),i({eventName:Zh,payload:{provider:"external",status:"success",txHash:be,address:P==null?void 0:P.address,chainId:ee==null?void 0:ee.chain.id,chainType:"ethereum",value:ee!=null&&ee.value?Fa(BigInt(ee.value),18):void 0,token:"ETH",destination:k,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Fa(de,9),destinationToken:"SOL"}})},onFailure({error:be}){E(!1),h(be)}}),x.useEffect(()=>{u&&(o({funding:l==null?void 0:l.funding,solanaFundingData:l==null?void 0:l.solanaFundingData,sendTransaction:l==null?void 0:l.sendTransaction,errorModalData:{error:u,previousScreen:rC}}),s(Gr,!1))},[u]),x.useEffect(()=>{if(!R)return;let be=setTimeout(r,rG);return()=>clearTimeout(be)},[R]),R)return d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(af,{}),d.jsxs(Y$,{children:[d.jsx(GT,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(xd,{title:"Success!",description:`Youve successfully added ${T} SOL to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_d,{}),d.jsx(er,{})]});let he=m[y];return m.length>1&&he?d.jsx(f8e,{displayName:O,configuredFundingChain:C,formattedBalance:Y,fundingAmount:T,fundingCurrency:"SOL",fundingAmountInUsd:ce,options:m,selectedOption:he,isPreparing:v,isSubmitting:$,addressToFund:k,fundingWalletAddress:(P==null?void 0:P.address)||"",errorMessage:f,onSubmit:()=>{var be;((be=l.funding)==null?void 0:be.amount)!==T?async function(){if(P&&he)try{let fe=await nE({isTestnet:!1,input:Yv({amount:de.toString(),user:P.address,recipient:k,destinationChainId:rU,destinationCurrency:iU,originChainId:he.chain.id})}),ke=I7(fe);if(!ke)throw Error("Invalid transaction request");E(!0),Z({data:ke.data,to:ke.to,value:ke.value,chain:he.chain})}catch(fe){console.error(fe),h(new ue("Unable to fetch quotes for bridging",fe,pe.INSUFFICIENT_BALANCE))}}().catch(console.error):Z({to:he.bridgeTx.to,data:he.bridgeTx.data,value:he.bridgeTx.value,chain:he.chain})},onSelect:be=>{be!==y&&(p(null),w(be))},onAmountChange:S}):$&&P?d.jsx(RG,{walletClientType:(P==null?void 0:P.walletClientType)||"unknown",displayName:O,addressToFund:k,isBridging:A,isErc20Flow:!1,chainId:"solana",chainName:fN(C),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(nu,{}),d.jsx(W3,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(er,{})]})}},j$t=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>d.jsx(Rn,{title:"Export wallet",subtitle:d.jsxs(d.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:d.jsxs(O$t,{children:[d.jsx(v8e,{theme:n,children:"Never share your private key or seed phrase with anyone."}),d.jsx(hN,{title:"Your wallet",address:t,showCopyButton:!0}),d.jsx("div",{style:{width:"100%"},children:i?d.jsx(M$t,{}):e&&s&&d.jsx(L$t,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let O$t=J.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),M$t=()=>d.jsx(D$t,{children:d.jsx(B$t,{children:"Loading..."})}),D$t=J.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),B$t=J.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function L$t(t){let[e,n]=x.useState(t.dimensions.width),[r,i]=x.useState(void 0),s=x.useRef(null);x.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();n(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return d.jsx("div",{ref:s,children:e&&d.jsxs(F$t,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:b6e(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r},{token:t.accessToken})}),d.jsx(uoe,{children:"Loading..."}),o&&d.jsx(uoe,{children:"Loading..."})]})})}const C8e={component:()=>{let[t,e]=x.useState(null),{authenticated:n,user:r}=_n(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=st(),l=Fn(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=lt(),{onFailure:h,onSuccess:f,origin:p,appId:m,appClientId:g,entropyId:y,entropyIdVerifier:w,walletId:v,hdWalletIndex:b,chainType:A,address:E,isUnifiedWallet:$,imported:N}=c.keyExport,R=F=>{i({shouldCallAuthOnSuccess:!1}),h(typeof F=="string"?Error(F):F)},M=()=>{i({shouldCallAuthOnSuccess:!1}),f(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:E}})};return x.useEffect(()=>{if(!n)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[n,r]),u.current=M,d.jsx(j$t,{address:E,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:M,isLoading:!t,exportButtonProps:t?{origin:p,appId:m,appClientId:g,clientAnalyticsId:o,entropyId:y,entropyIdVerifier:w,walletId:v,hdWalletIndex:b,isUnifiedWallet:$,imported:N,chainType:A}:void 0})}};let F$t=J.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),uoe=J.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const U$t=({connectionFailed:t,onClose:e})=>d.jsx(Rn,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:f$,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),q5={component:()=>{let{authenticated:t,user:e}=_n(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=st(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=lt(),u=x.useMemo(()=>Date.now(),[]),[h,f]=x.useState(!1),{onCompleteNavigateTo:p,onFailure:m,shouldForceMFA:g,entropyId:y,entropyIdVerifier:w,recoveryMethod:v,connectingWalletAddress:b,isUnifiedWallet:A=!1}=a==null?void 0:a.connectWallet,E=$=>{h||(f(!0),m(typeof $=="string"?Error($):$))};return x.useEffect(()=>{let $;return t?s?((async()=>{let N=await n.getAccessToken();if(!N)return E("User must be authenticated and have a Privy wallet before it can be connected");try{A||await s.connect({accessToken:N,entropyId:y,entropyIdVerifier:w}),g&&await s.verifyMfa({accessToken:N});let R=(Date.now()-u)/1e3;p===C8e&&R<1?$=setTimeout(()=>{o(p,!1)},1e3*(1-R)):o(p,!1)}catch(R){if(tE(R)&&v==="privy"){let M=await n.getAccessToken();if(!M)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:b}});let F=await(s==null?void 0:s.recover({accessToken:M,entropyId:y,entropyIdVerifier:w}));F!=null&&F.entropyId||E(Error("Unable to recover wallet")),p?o(p):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:b}}),o(p)}catch{E("An error has occurred, please try again.")}}else tE(R)&&v!=="privy"&&v!=="privy-v2"?(l({...a,recoverWallet:{entropyId:y,entropyIdVerifier:w,onCompleteNavigateTo:p,onFailure:m},recoveryOAuthStatus:{provider:v,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(e8e(v))):E(R)}})(),()=>clearTimeout($)):void 0:E("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),c.current=()=>{E("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},d.jsx(U$t,{connectionFailed:h,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},z$t=({style:t,color:e,...n})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),jG=t=>{let[e,n]=x.useState(!1);return d.jsxs(W$t,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>n(!1),1500)},$justCopied:e,children:[e?d.jsx(z$t,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(A4e,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let W$t=J.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const H$t=J.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let V$t=t=>{if(!No(t))return t;try{let e=XLe(t);return e.includes("")?t:e}catch{return t}},q$t=t=>{try{let e=D9.decode(t),n=new TextDecoder().decode(e);return n.includes("")?t:n}catch{return t}},G$t=t=>JSON.stringify(t,null,2),K$t=t=>{let{types:e,primaryType:n,...r}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(J$t,{data:r}),d.jsx(jG,{text:G$t(t.typedData),itemName:"full payload to clipboard"})," "]})};const Y$t=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:c,onCancel:u,onClose:h})=>d.jsx(Rn,{title:n.title,subtitle:n.description,showClose:!0,onClose:h,icon:sht,iconVariant:"subtle",helpText:a?d.jsx(Z$t,{children:a}):void 0,primaryCta:{label:n.buttonText,onClick:c,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:d.jsxs(yG,{children:[r?d.jsx(H$t,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,d.jsxs(Q$t,{children:[t==="personal_sign"&&d.jsx(hoe,{children:V$t(e)}),t==="eth_signTypedData_v4"&&d.jsx(K$t,{typedData:e}),t==="solana_signMessage"&&d.jsx(hoe,{children:q$t(e)})]})]})}),doe={component:()=>{let{authenticated:t}=_n(),{initializeWalletProxy:e,closePrivyModal:n}=st(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),[o,a]=x.useState(!0),[l,c]=x.useState(""),[u,h]=x.useState(),[f,p]=x.useState(null),[m,g]=x.useState(!1);x.useEffect(()=>{t||r(Do)},[t]),x.useEffect(()=>{e(3e4).then(R=>{a(!1),R||(c("An error has occurred, please try again."),h(new bo(new Gv(l,Ku.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:y,data:w,confirmAndSign:v,onSuccess:b,onFailure:A,uiOptions:E}=i.signMessage,$={title:(E==null?void 0:E.title)||"Sign message",description:(E==null?void 0:E.description)||"Signing this message will not cost you any fees.",buttonText:(E==null?void 0:E.buttonText)||"Sign and continue"},N=R=>{R?b(R):A(u||new bo(new Gv("The user rejected the request.",Ku.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),h(void 0)},200)};return s.current=()=>{N(f)},d.jsx(Y$t,{method:y,messageData:w,copy:$,iconUrl:E!=null&&E.iconUrl&&typeof E.iconUrl=="string"?E.iconUrl:void 0,isLoading:m,success:f!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:E==null?void 0:E.isCancellable,onSign:async()=>{g(!0),c("");try{let R=await v();p(R),g(!1),setTimeout(()=>{N(R)},Ur)}catch(R){console.error(R),c("An error has occurred, please try again."),h(new bo(new Gv(l,Ku.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),g(!1)}},onCancel:()=>N(null),onClose:()=>N(f)})}};let Q$t=J.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),Z$t=J.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),J$t=J(b8e).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),hoe=J(w8e).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class Jh{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Jh("CBWSDK").clear(),new Jh("walletlink").clear()}}const vi={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},yU={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},k8e="Unspecified error message.",X$t="Unspecified server error.";function OG(t,e=k8e){if(t&&Number.isInteger(t)){const n=t.toString();if(wU(yU,n))return yU[n].message;if(_8e(t))return X$t}return e}function eNt(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(yU[e]||_8e(t))}function tNt(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&wU(t,"code")&&eNt(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,wU(r,"data")&&(n.data=r.data)):(n.message=OG(n.code),n.data={originalError:foe(t)})}else n.code=vi.rpc.internal,n.message=poe(t,"message")?t.message:k8e,n.data={originalError:foe(t)};return e&&(n.stack=poe(t,"stack")?t.stack:void 0),n}function _8e(t){return t>=-32099&&t<=-32e3}function foe(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function wU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function poe(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Wn={rpc:{parse:t=>gc(vi.rpc.parse,t),invalidRequest:t=>gc(vi.rpc.invalidRequest,t),invalidParams:t=>gc(vi.rpc.invalidParams,t),methodNotFound:t=>gc(vi.rpc.methodNotFound,t),internal:t=>gc(vi.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return gc(e,t)},invalidInput:t=>gc(vi.rpc.invalidInput,t),resourceNotFound:t=>gc(vi.rpc.resourceNotFound,t),resourceUnavailable:t=>gc(vi.rpc.resourceUnavailable,t),transactionRejected:t=>gc(vi.rpc.transactionRejected,t),methodNotSupported:t=>gc(vi.rpc.methodNotSupported,t),limitExceeded:t=>gc(vi.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Cb(vi.provider.userRejectedRequest,t),unauthorized:t=>Cb(vi.provider.unauthorized,t),unsupportedMethod:t=>Cb(vi.provider.unsupportedMethod,t),disconnected:t=>Cb(vi.provider.disconnected,t),chainDisconnected:t=>Cb(vi.provider.chainDisconnected,t),unsupportedChain:t=>Cb(vi.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new T8e(e,n,r)}}};function gc(t,e){const[n,r]=S8e(e);return new I8e(t,n||OG(t),r)}function Cb(t,e){const[n,r]=S8e(e);return new T8e(t,n||OG(t),r)}function S8e(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class I8e extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class T8e extends I8e{constructor(e,n,r){if(!nNt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function nNt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function MG(){return t=>t}const rE=MG(),rNt=MG(),iNt=MG();function Ff(t){return Math.floor(t)}const $8e=/^[0-9]*$/,N8e=/^[a-f0-9]*$/;function sy(t){return DG(crypto.getRandomValues(new Uint8Array(t)))}function DG(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function t_(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function h4(t,e=!1){const n=t.toString("hex");return rE(e?`0x${n}`:n)}function kO(t){return h4(bU(t),!0)}function Fd(t){return iNt(t.toString(10))}function Mm(t){return rE(`0x${BigInt(t).toString(16)}`)}function P8e(t){return t.startsWith("0x")||t.startsWith("0X")}function BG(t){return P8e(t)?t.slice(2):t}function R8e(t){return P8e(t)?`0x${t.slice(2)}`:`0x${t}`}function pN(t){if(typeof t!="string")return!1;const e=BG(t).toLowerCase();return N8e.test(e)}function sNt(t,e=!1){if(typeof t=="string"){const n=BG(t).toLowerCase();if(N8e.test(n))return rE(e?`0x${n}`:n)}throw Wn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function LG(t,e=!1){let n=sNt(t,!1);return n.length%2===1&&(n=rE(`0${n}`)),e?rE(`0x${n}`):n}function _0(t){if(typeof t=="string"){const e=BG(t).toLowerCase();if(pN(e)&&e.length===40)return rNt(R8e(e))}throw Wn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function bU(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(pN(t)){const e=LG(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Wn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function f4(t){if(typeof t=="number"&&Number.isInteger(t))return Ff(t);if(typeof t=="string"){if($8e.test(t))return Ff(Number(t));if(pN(t))return Ff(Number(BigInt(LG(t,!0))))}throw Wn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function G5(t){if(t!==null&&(typeof t=="bigint"||aNt(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(f4(t));if(typeof t=="string"){if($8e.test(t))return BigInt(t);if(pN(t))return BigInt(LG(t,!0))}throw Wn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function oNt(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Wn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function aNt(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function lNt(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function cNt(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function uNt(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function dNt(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function j8e(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function O8e(t,e){const n=j8e(t),r=await crypto.subtle.exportKey(n,e);return DG(new Uint8Array(r))}async function M8e(t,e){const n=j8e(t),r=t_(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function hNt(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return uNt(e,n)}async function fNt(t,e){return JSON.parse(await dNt(e,t))}const _O={storageKey:"ownPrivateKey",keyType:"private"},SO={storageKey:"ownPublicKey",keyType:"public"},IO={storageKey:"peerPublicKey",keyType:"public"};class pNt{constructor(){this.storage=new Jh("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(IO,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(SO.storageKey),this.storage.removeItem(_O.storageKey),this.storage.removeItem(IO.storageKey)}async generateKeyPair(){const e=await lNt();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(_O,e.privateKey),await this.storeKey(SO,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(_O)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(SO)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(IO)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await cNt(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?M8e(e.keyType,n):null}async storeKey(e,n){const r=await O8e(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const iC="4.3.2",D8e="@coinbase/wallet-sdk";async function FG(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":iC,"X-Cbw-Sdk-Platform":D8e}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function mNt(){return globalThis.coinbaseWalletExtension}function gNt(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function yNt({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=mNt();if(l)return(n=l.setAppInfo)===null||n===void 0||n.call(l,i,s,o,e),l}const a=gNt();if(a!=null&&a.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function wNt(t){if(!t||typeof t!="object"||Array.isArray(t))throw Wn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Wn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Wn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Wn.provider.unsupportedMethod()}}const moe="accounts",goe="activeChain",yoe="availableChains",woe="walletCapabilities";class bNt{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new pNt,this.storage=new Jh("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(moe))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(goe)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await M8e("public",a.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const h=u.value;this.accounts=h,this.storage.storeObject(moe,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Wn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Mm(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Mm(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(woe);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Wn.rpc.internal("No RPC URL set for chain");return FG(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Wn.rpc.invalidParams();const i=f4(r[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Wn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await hNt({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await O8e("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Wn.provider.unauthorized("Invalid session");const o=await fNt(i.encrypted,s),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const c=Object.entries(a).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(yoe,c),this.updateChain(this.chain.id,c)}const l=(r=o.data)===null||r===void 0?void 0:r.capabilities;return l&&this.storage.storeObject(woe,l),o}updateChain(e,n){var r;const i=n??this.storage.loadObject(yoe),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(goe,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Mm(s.id))),!0):!1}}const vNt=s3(q0t),{keccak_256:xNt}=vNt;function B8e(t){return Buffer.allocUnsafe(t).fill(0)}function ENt(t){return t.toString(2).length}function L8e(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function ANt(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function F8e(t,e,n){const r=B8e(e);return t=mN(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function CNt(t,e){return F8e(t,e,!0)}function mN(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")U8e(t)?t=Buffer.from(SNt(z8e(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=L8e(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function kNt(t){return t=mN(t),"0x"+t.toString("hex")}function _Nt(t,e){if(t=mN(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(xNt(new Uint8Array(t)))}function SNt(t){return t.length%2?"0"+t:t}function U8e(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function z8e(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var W8e={zeros:B8e,setLength:F8e,setLengthRight:CNt,isHexString:U8e,stripHexPrefix:z8e,toBuffer:mN,bufferToHex:kNt,keccak:_Nt,bitLengthFromBigInt:ENt,bufferBEFromBigInt:L8e,twosFromBigInt:ANt};const Vo=W8e;function H8e(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Zv(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function boe(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function V8e(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function oy(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function Xd(t,e){var n,r,i,s;if(t==="address")return Xd("uint160",oy(e));if(t==="bool")return Xd("uint8",e?1:0);if(t==="string")return Xd("bytes",new Buffer(e,"utf8"));if(TNt(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=V8e(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Xd(t,e[s]));if(n==="dynamic"){var o=Xd("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Xd("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Vo.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Zv(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Vo.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Zv(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=oy(e);const a=Vo.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return Vo.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=Zv(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=oy(e);const a=Vo.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const l=Vo.twosFromBigInt(r,256);return Vo.bufferBEFromBigInt(l,32)}else if(t.startsWith("ufixed")){if(n=boe(t),r=oy(e),r<0)throw new Error("Supplied ufixed is negative");return Xd("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=boe(t),Xd("int256",oy(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function INt(t){return t==="string"||t==="bytes"||V8e(t)==="dynamic"}function TNt(t){return t.lastIndexOf("]")===t.length-1}function $Nt(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=H8e(t[s]),a=e[s],l=Xd(o,a);INt(o)?(n.push(Xd("uint256",i)),r.push(l),i+=l.length):n.push(l)}return Buffer.concat(n.concat(r))}function q8e(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=H8e(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Vo.setLength(a,20));else if(o.startsWith("bytes")){if(n=Zv(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Vo.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Zv(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=oy(a);const l=Vo.bitLengthFromBigInt(r);if(l>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+l);i.push(Vo.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=Zv(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=oy(a);const l=Vo.bitLengthFromBigInt(r);if(l>n)throw new Error("Supplied int exceeds width: "+n+" vs "+l);const c=Vo.twosFromBigInt(r,n);i.push(Vo.bufferBEFromBigInt(c,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function NNt(t,e){return Vo.keccak(q8e(t,e))}var PNt={rawEncode:$Nt,solidityPack:q8e,soliditySHA3:NNt};const _u=W8e,p4=PNt,G8e={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TO={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,l,c)=>{if(n[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":_u.keccak(this.encodeData(l,c,n,r))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",_u.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",_u.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),h=c.map(f=>o(a,u,f));return["bytes32",_u.keccak(p4.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[l,c]};for(const a of n[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=_u.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=_u.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=_u.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return p4.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return _u.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return _u.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in G8e.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),_u.keccak(Buffer.concat(r))}};var RNt={TYPED_MESSAGE_SCHEMA:G8e,TypedDataUtils:TO,hashForSignTypedDataLegacy:function(t){return jNt(t.data)},hashForSignTypedData_v3:function(t){return TO.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return TO.hash(t.data)}};function jNt(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?_u.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return p4.soliditySHA3(["bytes32","bytes32"],[p4.soliditySHA3(new Array(t.length).fill("string"),i),p4.soliditySHA3(r,n)])}const Dk=Gs(RNt),ONt="walletUsername",vU="Addresses",MNt="AppVersion";function Ds(t){return t.errorMessage!==void 0}class DNt{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",t_(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),f=new Uint8Array([...r,...u,...h]);return DG(f)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",t_(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=t_(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,u),p=new TextDecoder;r(p.decode(f))}catch(f){i(f)}})()})}}class BNt{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var cp;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(cp||(cp={}));class LNt{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,cp.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,cp.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,cp.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,cp.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const voe=1e4,FNt=6e4;class UNt{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Ff(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const c=s[l];c!==void 0&&a(c)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(ONt,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(MNt,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,c)},this.session=e,this.cipher=new DNt(e.secret),this.listener=r;const i=new LNt(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case cp.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case cp.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},voe),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case cp.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new BNt(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Ff(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Ff(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>voe*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:FNt}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Ff(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Ff(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Ff(this.nextReqId++),sessionId:this.session.id}),!0)}}class zNt{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=R8e(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const xoe="session:id",Eoe="session:secret",Aoe="session:linked";class Jv{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=S0t(smt(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=sy(16),r=sy(32);return new Jv(e,n,r).save()}static load(e){const n=e.getItem(xoe),r=e.getItem(Aoe),i=e.getItem(Eoe);return n&&i?new Jv(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(xoe,this.id),this.storage.setItem(Eoe,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Aoe,this._linked?"1":"0")}}function WNt(){try{return window.frameElement!==null}catch{return!1}}function HNt(){try{return WNt()&&window.top?window.top.location:window.location}catch{return window.location}}function VNt(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function K8e(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const qNt='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Y8e(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(qNt)),document.documentElement.appendChild(t)}function Q8e(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Q8e(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function m4(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Q8e(t))&&(r&&(r+=" "),r+=e);return r}var gN,Br,Z8e,ay,Coe,J8e,xU,UG,EU,AU,iE={},X8e=[],GNt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,zG=Array.isArray;function Dm(t,e){for(var n in e)t[n]=e[n];return t}function eEe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ur(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?gN.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return n_(t,o,r,i,null)}function n_(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Z8e,__i:-1,__u:0};return i==null&&Br.vnode!=null&&Br.vnode(s),s}function yN(t){return t.children}function r_(t,e){this.props=t,this.context=e}function Hx(t,e){if(e==null)return t.__?Hx(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Hx(t):null}function tEe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return tEe(t)}}function koe(t){(!t.__d&&(t.__d=!0)&&ay.push(t)&&!R7.__r++||Coe!==Br.debounceRendering)&&((Coe=Br.debounceRendering)||J8e)(R7)}function R7(){var t,e,n,r,i,s,o,a;for(ay.sort(xU);t=ay.shift();)t.__d&&(e=ay.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Dm({},i)).__v=i.__v+1,Br.vnode&&Br.vnode(r),WG(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??Hx(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,iEe(o,r,a),r.__e!=s&&tEe(r)),ay.length>e&&ay.sort(xU));R7.__r=0}function nEe(t,e,n,r,i,s,o,a,l,c,u){var h,f,p,m,g,y=r&&r.__k||X8e,w=e.length;for(n.__d=l,KNt(n,e,y),l=n.__d,h=0;h<w;h++)(p=n.__k[h])!=null&&(f=p.__i===-1?iE:y[p.__i]||iE,p.__i=h,WG(t,p,f,i,s,o,a,l,c,u),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&HG(f.ref,null,p),u.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),65536&p.__u||f.__k===p.__k?l=rEe(p,l,t):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:m&&(l=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=g}function KNt(t,e,n){var r,i,s,o,a,l=e.length,c=n.length,u=c,h=0;for(t.__k=[],r=0;r<l;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+h,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?n_(null,i,null,null,null):zG(i)?n_(yN,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?n_(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=YNt(i,n,o,u))!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Hx(s)),sEe(s,s))}function rEe(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=rEe(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Hx(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function YNt(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,l=e[n];if(l===null||l&&i==l.key&&s===l.type&&!(131072&l.__u))return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function _oe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||GNt.test(e)?n:n+"px"}function Bk(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||_oe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||_oe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=UG,t.addEventListener(e,s?AU:EU,s)):t.removeEventListener(e,s?AU:EU,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Soe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=UG++;else if(e.t<n.u)return;return n(Br.event?Br.event(e):e)}}}function WG(t,e,n,r,i,s,o,a,l,c){var u,h,f,p,m,g,y,w,v,b,A,E,$,N,R,M,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=Br.__b)&&u(e);e:if(typeof F=="function")try{if(w=e.props,v="prototype"in F&&F.prototype.render,b=(u=F.contextType)&&r[u.__c],A=u?b?b.props.value:u.__:r,n.__c?y=(h=e.__c=n.__c).__=h.__E:(v?e.__c=h=new F(w,A):(e.__c=h=new r_(w,A),h.constructor=F,h.render=ZNt),b&&b.sub(h),h.props=w,h.state||(h.state={}),h.context=A,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&F.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Dm({},h.__s)),Dm(h.__s,F.getDerivedStateFromProps(w,h.__s))),p=h.props,m=h.state,h.__v=e,f)v&&F.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&F.getDerivedStateFromProps==null&&w!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,A),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,A)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(W){W&&(W.__=e)}),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,A),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,g)})}if(h.context=A,h.props=w,h.__P=t,h.__e=!1,$=Br.__r,N=0,v){for(h.state=h.__s,h.__d=!1,$&&$(e),u=h.render(h.props,h.state,h.context),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[]}else do h.__d=!1,$&&$(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++N<25);h.state=h.__s,h.getChildContext!=null&&(r=Dm(Dm({},r),h.getChildContext())),v&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(p,m)),nEe(t,zG(M=u!=null&&u.type===yN&&u.key==null?u.props.children:u)?M:[M],e,n,r,i,s,o,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),y&&(h.__E=h.__=null)}catch(W){if(e.__v=null,l||s!=null){for(e.__u|=l?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;Br.__e(W,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=QNt(n.__e,e,n,r,i,s,o,l,c);(u=Br.diffed)&&u(e)}function iEe(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)HG(n[r],n[++r],n[++r]);Br.__c&&Br.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Br.__e(s,i.__v)}})}function QNt(t,e,n,r,i,s,o,a,l){var c,u,h,f,p,m,g,y=n.props,w=e.props,v=e.type;if(v==="svg"?i="http://www.w3.org/2000/svg":v==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){t=p,s[c]=null;break}}if(t==null){if(v===null)return document.createTextNode(w);t=document.createElementNS(i,v,w.is&&w),a&&(Br.__m&&Br.__m(e,s),a=!1),s=null}if(v===null)y===w||a&&t.data===w||(t.data=w);else{if(s=s&&gN.call(t.childNodes),y=n.props||iE,!a&&s!=null)for(y={},c=0;c<t.attributes.length;c++)y[(p=t.attributes[c]).name]=p.value;for(c in y)if(p=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in w)){if(c=="value"&&"defaultValue"in w||c=="checked"&&"defaultChecked"in w)continue;Bk(t,c,null,p,i)}}for(c in w)p=w[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?m=p:c=="checked"?g=p:a&&typeof p!="function"||y[c]===p||Bk(t,c,p,y[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),nEe(t,zG(f)?f:[f],e,n,r,v==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&Hx(n,0),a,l),s!=null)for(c=s.length;c--;)eEe(s[c]);a||(c="value",v==="progress"&&m==null?t.removeAttribute("value"):m!==void 0&&(m!==t[c]||v==="progress"&&!m||v==="option"&&m!==y[c])&&Bk(t,c,m,y[c],i),c="checked",g!==void 0&&g!==t[c]&&Bk(t,c,g,y[c],i))}return t}function HG(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Br.__e(i,n)}}function sEe(t,e,n){var r,i;if(Br.unmount&&Br.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||HG(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Br.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&sEe(r[i],e,n||typeof t.type!="function");n||eEe(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function ZNt(t,e,n){return this.constructor(t,n)}function CU(t,e,n){var r,i,s,o;Br.__&&Br.__(t,e),i=(r=typeof n=="function")?null:e.__k,s=[],o=[],WG(e,t=(!r&&n||e).__k=ur(yN,null,[t]),i||iE,iE,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?gN.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),iEe(s,t,o)}gN=X8e.slice,Br={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Z8e=0,r_.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dm({},this.state),typeof t=="function"&&(t=t(Dm({},n),this.props)),t&&Dm(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),koe(this))},r_.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),koe(this))},r_.prototype.render=yN,ay=[],J8e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xU=function(t,e){return t.__v.__b-e.__v.__b},R7.__r=0,UG=0,EU=Soe(!1),AU=Soe(!0);var sE,_i,$O,Ioe,kU=0,oEe=[],Li=Br,Toe=Li.__b,$oe=Li.__r,Noe=Li.diffed,Poe=Li.__c,Roe=Li.unmount,joe=Li.__;function VG(t,e){Li.__h&&Li.__h(_i,t,kU||e),kU=0;var n=_i.__H||(_i.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Ooe(t){return kU=1,JNt(lEe,t)}function JNt(t,e,n){var r=VG(sE++,2);if(r.t=t,!r.__c&&(r.__=[lEe(void 0,e),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=_i,!_i.u)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=!1;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),!(!h&&r.__c.props===a)&&(!s||s.call(this,a,l,c))};_i.u=!0;var s=_i.shouldComponentUpdate,o=_i.componentWillUpdate;_i.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},_i.shouldComponentUpdate=i}return r.__N||r.__}function XNt(t,e){var n=VG(sE++,3);!Li.__s&&aEe(n.__H,e)&&(n.__=t,n.i=e,_i.__H.__h.push(n))}function vZt(t,e){var n=VG(sE++,7);return aEe(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ePt(){for(var t;t=oEe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(i_),t.__H.__h.forEach(_U),t.__H.__h=[]}catch(e){t.__H.__h=[],Li.__e(e,t.__v)}}Li.__b=function(t){_i=null,Toe&&Toe(t)},Li.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),joe&&joe(t,e)},Li.__r=function(t){$oe&&$oe(t),sE=0;var e=(_i=t.__c).__H;e&&($O===_i?(e.__h=[],_i.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(i_),e.__h.forEach(_U),e.__h=[],sE=0)),$O=_i},Li.diffed=function(t){Noe&&Noe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(oEe.push(e)!==1&&Ioe===Li.requestAnimationFrame||((Ioe=Li.requestAnimationFrame)||tPt)(ePt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),$O=_i=null},Li.__c=function(t,e){e.some(function(n){try{n.__h.forEach(i_),n.__h=n.__h.filter(function(r){return!r.__||_U(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Li.__e(r,n.__v)}}),Poe&&Poe(t,e)},Li.unmount=function(t){Roe&&Roe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{i_(r)}catch(i){e=i}}),n.__H=void 0,e&&Li.__e(e,n.__v))};var Moe=typeof requestAnimationFrame=="function";function tPt(t){var e,n=function(){clearTimeout(r),Moe&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Moe&&(e=requestAnimationFrame(n))}function i_(t){var e=_i,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),_i=e}function _U(t){var e=_i;t.__c=t.__(),_i=e}function aEe(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function lEe(t,e){return typeof e=="function"?e(t):e}const nPt=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",rPt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",iPt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class cEe{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=K8e()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&CU(ur("div",null,ur(uEe,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>ur(sPt,Object.assign({},n,{key:e}))))),this.root)}}const uEe=t=>ur("div",{class:m4("-cbwsdk-snackbar-container")},ur("style",null,nPt),ur("div",{class:"-cbwsdk-snackbar"},t.children)),sPt=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=Ooe(!0),[s,o]=Ooe(t??!1);XNt(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return ur("div",{class:m4("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},ur("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},ur("img",{src:rPt,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",ur("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),ur("div",{class:"-gear-container"},!s&&ur("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),ur("img",{src:iPt,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&ur("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((l,c)=>ur("div",{class:m4("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:c},ur("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),ur("span",{class:m4("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},dEe="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class oPt{constructor(){this.attached=!1,this.snackbar=new cEe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,Y8e()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:dEe,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const aPt=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class lPt{constructor(){this.root=null,this.darkMode=K8e()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Y8e()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(CU(null,this.root),e&&CU(ur(cPt,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const cPt=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return ur(uEe,{darkMode:n},ur("div",{class:"-cbwsdk-redirect-dialog"},ur("style",null,aPt),ur("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),ur("div",{class:m4("-cbwsdk-redirect-dialog-box",s)},ur("p",null,t),ur("button",{onClick:r},e))))},uPt="https://keys.coinbase.com/connect",dPt="https://rpc.wallet.coinbase.com",Doe="https://www.walletlink.org",hPt="https://go.cb-w.com/walletlink";class Boe{constructor(){this.attached=!1,this.redirectDialog=new lPt}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(hPt);n.searchParams.append("redirect_url",HNt().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Uf{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=VNt(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(vU);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Uf.accountRequestCallbackIds.size>0&&(Array.from(Uf.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Uf.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new zNt,this.ui=r,this.ui.attach()}subscribe(){const e=Jv.load(this.storage)||Jv.create(this.storage),{linkAPIUrl:n}=this,r=new UNt({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new Boe:new oPt;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=Jv.load(this.storage);(e==null?void 0:e.id)===this._session.id&&Jh.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Fd(e.weiValue),data:h4(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Fd(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Fd(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Fd(e.gasPriceInWei):null,gasLimit:e.gasLimit?Fd(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Fd(e.weiValue),data:h4(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Fd(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Fd(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Fd(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Fd(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:h4(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=sy(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),Ds(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof Boe)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Uf.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Uf.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=sy(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Ds(a))return o(new Error(a.errorMessage));s(a)}),Uf.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let l=null;const c=sy(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),Ds(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let l=null;const c=sy(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),Ds(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=sy(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,c=>{if(i==null||i(),Ds(c)&&c.errorCode)return l(Wn.provider.custom({code:c.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Ds(c))return l(new Error(c.errorMessage));a(c)}),this.publishWeb3RequestEvent(s,r)})}}Uf.accountRequestCallbackIds=new Set;const Loe="DefaultChainId",Foe="DefaultJsonRpcUrl";class hEe{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Jh("walletlink",Doe),this.callback=e.callback||null;const n=this._storage.getItem(vU);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>_0(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Foe))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(Foe,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(Loe,n.toString(10)),f4(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Mm(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Wn.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Wn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Wn.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Wn.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,c=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r==null?void 0:r.toString());return Ds(c)?!1:!!c.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Wn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Wn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Wn.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:c,iconUrls:u=[],nativeCurrency:h}=i,f=await o.addEthereumChain(s.toString(),a,u,l,c,h);if(Ds(f))return!1;if(((r=f.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Wn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Ds(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>_0(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(vU,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Mm(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Wn.rpc.internal("No RPC URL set for chain");return FG(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=_0(e);if(!this._addresses.map(i=>_0(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?_0(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?_0(e.to):null,i=e.value!=null?G5(e.value):BigInt(0),s=e.data?bU(e.data):Buffer.alloc(0),o=e.nonce!=null?f4(e.nonce):null,a=e.gasPrice!=null?G5(e.gasPrice):null,l=e.maxFeePerGas!=null?G5(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?G5(e.maxPriorityFeePerGas):null,u=e.gas!=null?G5(e.gas):null,h=e.chainId?f4(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Wn.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:kO(r[0]),signature:kO(r[1]),addPrefix:n==="personal_ecRecover"}});if(Ds(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(Loe))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Mm(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Ds(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Mm(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Wn.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:_0(n),message:kO(r),addPrefix:!0,typedDataJson:null}});if(Ds(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Ds(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=bU(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Ds(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Ds(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Wn.rpc.invalidParams();const i=c=>{const u={eth_signTypedData_v1:Dk.hashForSignTypedDataLegacy,eth_signTypedData_v3:Dk.hashForSignTypedData_v3,eth_signTypedData_v4:Dk.hashForSignTypedData_v4,eth_signTypedData:Dk.hashForSignTypedData_v4};return h4(u[n]({data:oNt(c)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:_0(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Ds(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new Uf({linkAPIUrl:Doe,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const fEe="SignerType",pEe=new Jh("CBWSDK","SignerConfigurator");function fPt(){return pEe.getItem(fEe)}function pPt(t){pEe.setItem(fEe,t)}async function mPt(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;yPt(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function gPt(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new bNt({metadata:n,callback:i,communicator:r});case"walletlink":return new hEe({metadata:n,callback:i})}}async function yPt(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new hEe({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const wPt=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,bPt=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(wPt)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:vPt,getCrossOriginOpenerPolicy:xPt}=bPt(),Uoe=420,zoe=540,EPt={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:dEe,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},APt="Popup was blocked. Try again.";let Lk=null;function CPt(t){const e=(window.innerWidth-Uoe)/2+window.screenX,n=(window.innerHeight-zoe)/2+window.screenY;_Pt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${Uoe}, height=${zoe}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}let i=r();if(!i){const s=SPt();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:APt,menuItems:[Object.assign(Object.assign({},EPt),{onClick:()=>{i=r(),i?o(i):a(Wn.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function kPt(t){t&&!t.closed&&t.close()}function _Pt(t){const e={sdkName:D8e,sdkVersion:iC,origin:window.location.origin,coop:xPt()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function SPt(){if(!Lk){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Lk=new cEe,Lk.attach(t)}return Lk}class IPt{constructor({url:e=uPt,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const c=l.data;i(c)&&(s(c),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{kPt(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Wn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await CPt(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:iC,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Wn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function TPt(t){const e=tNt($Pt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",iC),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function $Pt(t){var e;if(typeof t=="string")return{message:t,code:vi.rpc.internal};if(Ds(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?vi.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class NPt extends b${}var PPt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class RPt extends NPt{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=PPt(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new IPt({url:i,metadata:n,preference:s});const o=fPt();o&&(this.signer=this.initSigner(o))}async request(e){try{if(wNt(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,pPt(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return FG(e,dPt);case"net_version":return 1;case"eth_chainId":return Mm(1);default:throw Wn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===vi.provider.unauthorized&&this.disconnect(),Promise.reject(TPt(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Jh.clearAll(),this.emit("disconnect",Wn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return mPt({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return gPt({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function jPt(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function OPt(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=yNt(n))!==null&&e!==void 0?e:new RPt(n)}const MPt={options:"all"};function Woe(t){var e;new Jh("CBWSDK").setItem("VERSION",iC),vPt();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(MPt,(e=t.preference)!==null&&e!==void 0?e:{})};jPt(r.preference);let i=null;return{getProvider:()=>(i||(i=OPt(r)),i)}}const DPt=({as:t="div",...e},n)=>d.jsx(t,{...e,ref:n}),BPt=x.forwardRef(DPt),LPt="https://challenges.cloudflare.com/turnstile/v0/api.js",j7="cf-turnstile-script",FPt="cf-turnstile",mEe="onloadTurnstileCallback",O7=t=>!!document.getElementById(t),UPt=({render:t="explicit",onLoadCallbackName:e=mEe,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||j7;if(O7(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${LPt}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!r,u.async=!!i,n&&(u.nonce=n),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},Ud={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function zPt(t){let e;return t!=="invisible"&&(e=t),e}function WPt(t=j7){const[e,n]=x.useState(!1);return x.useEffect(()=>{const r=()=>{O7(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const gEe=x.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:h,onLoadScript:f,id:p,style:m,as:g="div",injectScript:y=!0,...w}=t,v=r.size??"normal",[b,A]=x.useState(r.execution==="execute"?Ud.invisible:r.appearance==="interaction-only"?Ud.interactionOnly:Ud[v]),E=x.useRef(null),$=x.useRef(!1),[N,R]=x.useState(),[M,F]=x.useState(!1),W=p??FPt,H=y?(n==null?void 0:n.id)||`${j7}__${W}`:(n==null?void 0:n.id)||j7,L=WPt(H),k=n!=null&&n.onLoadCallbackName?`${n.onLoadCallbackName}__${W}`:`${mEe}__${W}`,C=x.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":h,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:zPt(v),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,o,l,a,v,c,u,h]),_=x.useMemo(()=>JSON.stringify(C),[C]);return x.useImperativeHandle(e,()=>{if(typeof window>"u"||!L)return;const{turnstile:T}=window;return{getResponse(){if(!(T!=null&&T.getResponse)||!N){console.warn("Turnstile has not been loaded");return}return T.getResponse(N)},reset(){if(!(T!=null&&T.reset)||!N){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&A(Ud.invisible);try{T.reset(N)}catch(S){console.warn(`Failed to reset Turnstile widget ${N}`,S)}},remove(){if(!(T!=null&&T.remove)||!N){console.warn("Turnstile has not been loaded");return}R(""),A(Ud.invisible),T.remove(N)},render(){if(!(T!=null&&T.render)||!E.current||N){console.warn("Turnstile has not been loaded or widget already rendered");return}const S=T.render(E.current,C);return R(S),r.execution!=="execute"&&A(Ud[v]),S},execute(){if(r.execution==="execute"){if(!(T!=null&&T.execute)||!E.current||!N){console.warn("Turnstile has not been loaded or widget has not been rendered");return}T.execute(E.current,C),A(Ud[v])}},isExpired(){if(!(T!=null&&T.isExpired)||!N){console.warn("Turnstile has not been loaded");return}return T.isExpired(N)}}},[L,N,r.execution,v,C,E]),x.useEffect(()=>(window[k]=()=>F(!0),()=>{delete window[k]}),[k]),x.useEffect(()=>{y&&!M&&UPt({onLoadCallbackName:k,scriptOptions:{...n,id:H}})},[y,M,k,n,H]),x.useEffect(()=>{L&&!M&&window.turnstile&&F(!0)},[M,L]),x.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!L||!E.current||!M||$.current)return;const T=window.turnstile.render(E.current,C);R(T),$.current=!0},[L,i,C,$,M]),x.useEffect(()=>{if(window.turnstile&&E.current&&N){O7(N)&&window.turnstile.remove(N);const T=window.turnstile.render(E.current,C);R(T),$.current=!0}},[_,i]),x.useEffect(()=>{if(window.turnstile&&N&&O7(N))return s==null||s(N),()=>{window.turnstile.remove(N)}},[N,s]),x.useEffect(()=>{A(r.execution==="execute"?Ud.invisible:C.appearance==="interaction-only"?Ud.interactionOnly:Ud[v])},[r.execution,v,C.appearance]),x.useEffect(()=>{!L||typeof f!="function"||f()},[L,f]),d.jsx(BPt,{ref:E,as:g,id:W,style:{...b,...m},...w})});gEe.displayName="Turnstile";const HPt=t=>{let[e,n]=x.useState("auto");return x.useEffect(()=>{let r=new ResizeObserver(i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e};function VPt(t){let{logout:e}=x.useContext(j3);return q$("logout",t),{logout:e}}const qPt=J.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function oE(t){return["ethereum","solana"].includes(t.chainType)}function yEe(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const wEe=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),Hoe={[lu.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vV.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[nf.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[PT.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[sl.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[SA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[au.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[$T.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[_3.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bV.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ou.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[TT.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},Voe=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=wEe(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(n!=null&&n.chain?n.chain.id:yEe(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find(y=>y.id===o);if(!c)throw new ue(`Funding chain ${o} is not in PrivyProvider chains list`);let u=(n==null?void 0:n.amount)??e.fundingConfig.defaultRecommendedAmount,h=!1;function f(){if(!o)return;let y=Hoe[o];l.find(w=>w.method==="wallets")&&!y&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=y,h=!0}var p;n&&"asset"in n?n.asset==="USDC"?f():typeof n.asset!="string"&&"erc20"in n.asset&&(p=a=n.asset.erc20,h=p===Hoe[c.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&f();let m=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:r,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:m,usingDefaultFundingMethod:!!m,preferredCardProvider:(g=n==null?void 0:n.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}},GPt=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null),KPt=async({appConfig:t,getAccessToken:e,initializeWalletProxy:n,user:r,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:o,setModalData:a,openModal:l,setUser:c,options:u,timeoutDuration:h,refreshSessionAndUser:f,chainType:p})=>{var v,b;let[m,g]=await Promise.all([n(h),e()]);if(!g||!r)throw s("createWallet","onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!m&&((v=t.customAuth)!=null&&v.enabled))throw s("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(u&&"walletIndex"in u&&typeof u.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw s("createWallet","onError",pe.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return qoe({accessToken:g,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:m,refreshSessionAndUser:f,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:u.walletIndex,chainType:p,setUser:c})}let y=u&&"createAdditional"in u&&u.createAdditional,w=vG(r,{chainType:p});if(w[0]&&!y)throw s("createWallet","onError",pe.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return qoe({accessToken:g,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:m,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:(((b=GPt(w))==null?void 0:b.walletIndex)??-1)+1,chainType:p,refreshSessionAndUser:f,setUser:c})};let qoe=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:c,openModal:u,chainType:h,setUser:f})=>{if(l<0)throw r("createWallet","onError",pe.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=bd(a);if(l>0&&!p)throw r("createWallet","onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",pe.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await Goe({emitPrivyEvent:r,setModalData:c,openModal:u,chainType:h});let m=vG(a,{chainType:h,walletIndex:l})[0];if(m)return{user:a,account:m};if(l===0&&!i)return Goe({emitPrivyEvent:r,setModalData:c,openModal:u,chainType:h});if(!i)throw r("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return i4e({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:f})},Goe=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(e0)});const YPt=()=>{let t=Fn(),e=Dw(),{setModalData:n}=lt(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:c}=st();return{create:async({chainType:u,options:h,latestUser:f})=>{let p=f;if(p||(p=await a()),!p)throw e("createWallet","onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await KPt({appConfig:t,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:h,timeoutDuration:Kkt,chainType:u})}}};function QPt(t){let{create:e}=YPt();return q$("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const ZPt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");let[l,c]=await Promise.all([e(),n(15e3)]);if(!c||!l)throw t("linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await r(),h=a==="solana"?qve(u):DL(u);if(!h)throw t("createWallet","onError",pe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h},JPt=()=>{let{user:t}=_n(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=st(),i=Dw(),s=Fn();return{importWallet:x.useCallback(({privateKey:o})=>ZPt({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,n,r,i])}},Bo=()=>{let{importWallet:t}=JPt(),{createWallet:e}=QPt();return{...x.useContext(j3),importWallet:t,createWallet:e}};function XPt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const eRt=x.forwardRef(XPt);function tRt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const nRt=x.forwardRef(tRt);function rRt({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const iRt=x.forwardRef(rRt);function aE(t){return t?{"privy-ui":"t"}:void 0}class yv{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(ist,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(sst,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Nn(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ue("Email must be set when initialzing authentication.");let i=aE(r);try{return await this.api.post(rst,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Nn(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class sRt extends yv{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ue("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(ast,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Nn(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class Koe{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");try{let e=await this.api.post(Jit,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ue("No response from authentication");return e}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Xit,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Nn(e)}}async _startChannelOnce(){if(!this.api)throw new ue("Auth flow has no API instance");let e=await this.api.post(Zit,{token:this.captchaToken});Er&&!CH&&e.connect_uri&&e6e(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ue("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");let e=await this.api.get(est,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ea(this._startChannelOnce.bind(this)),this.pollForReady=new ea(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function qG(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function bEe(){var e;if(!qG())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function SU(){var e;if(!qG())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function Yoe(t){return new Promise((e,n)=>{SU()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){var u,h;if(!qG())return;let c=window.chrome;return(h=(u=c==null?void 0:c.runtime)==null?void 0:u.lastError)==null?void 0:h.message}();if(i||!r){let c=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(c)}let s=new URL(r),o=bEe();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let c=s.hostname.split(".");if(c.length!==3||c[1]!=="chromiumapp"||c[2]!=="org"||c[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}class Ob{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=Qkt();try{let n=await this.api.post(Ywe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Nt.del(x6),Nt.del(E7),Nt.del(c4),n}catch(n){let r=Nn(n);throw r.privyErrorCode?new ue(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=Nt.get(x6);if(!e)throw new ue("Authentication error.");try{let n=await this.api.post(Qwe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Nt.del(x6),n}catch(n){throw Nn(n)}}async getAuthorizationUrl(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.provider)throw new ue("Provider must be set when initializing OAuth authentication.");let e=W$();Nt.put(x6,e);let n=iG();Nt.put(x7,n);let r=await sG(e);this.meta.withPrivyUi||Nt.put(E7,!0),this.meta.disableSignup?Nt.put(c4,!0):Nt.del(c4);let i=aE(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=bEe();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(Kwe,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(a){throw Nn(a)}}constructor(e){this.meta=e}}const oRt=({style:t})=>d.jsx(kbe,{style:{color:"var(--privy-color-error)",...t}});let Qoe={google:{name:"Google",component:l6e},discord:{name:"Discord",component:o6e},github:{name:"Github",component:a6e},linkedin:{name:"LinkedIn",component:d6e},twitter:{name:"Twitter",component:p6e},spotify:{name:"Spotify",component:h6e},instagram:{name:"Instagram",component:c6e},tiktok:{name:"Tiktok",component:f6e},line:{name:"LINE",component:u6e},apple:{name:"Apple",component:s6e}};const NO=t=>t in Qoe?Qoe[t]:{name:"Unknown",component:oRt};function aRt(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Nt.get(E7),popupFlow:window.opener!==null&&i,disableSignup:!!Nt.get(c4)}}class kb{async initRegisterFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ue("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await Nh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(kst,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await Nh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(Cst,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(o)}}async link(){var n,r;let e=await Nh(()=>import("./index-CFBQExMV.js"),[]);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(Ast,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,pe.PASSKEY_NOT_ALLOWED):Nn(i)}}async _initRegisterOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let n=aE(e);return await this.api.post(Est,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let n=aE(e);return await this.api.post(xst,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ue("Auth flow has no API instance");return await this.api.post(vst,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,o,a,l,c,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(h=>({type:h.type,alg:h.alg})),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map(h=>({id:h.id,type:h.type,transports:h.transports})),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(c=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:c.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ea(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ea(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ea(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}}class wv{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(hst,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(ust,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Nn(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ue("phone nNumber must be set when initialzing authentication.");let i=aE(r);try{return await this.api.post(cst,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Nn(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class lRt extends wv{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ue("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(fst,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Nn(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}class im{static parse(e){try{return new im(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return eL(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=eL(e)}}class GG extends im{static parse(e){try{return new GG(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let _b,K5;class cRt extends Ow{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:A6e,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ar("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Tg(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Mw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(o=>o.id))},_b?(this.proxyProvider.setWalletProvider(_b.getProvider()),this.setBaseAccountSdk(_b),console.log("Base Account SDK Initialized")):this.importPromise=Nh(()=>import("./index-BCsUB0g3.js"),[]).then(({createBaseAccountSDK:o})=>{_b=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(_b.getProvider()),this.setBaseAccountSdk(_b),console.log("Base Account SDK Initialized")}).catch(console.error)}}let uRt=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class dRt extends Ow{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:E6e,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ar("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Tg(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",K5=Woe({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(K5.getProvider())}constructor(e,n,r,i){var s,o;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Mw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!K5){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(l=>!uRt.includes(l)):[];a.length>0&&!a.every(l=>d1e.has(l))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),K5=Woe(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(K5.getProvider())}}class Zoe extends Ow{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[QF((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:S6e,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:o}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const hRt=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class vu extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class Joe extends b${async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new vu(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await mr()||!this.address)throw new vu("Disconnected",4900);let{hash:r}=await fOt(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new vu(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await mr()||!this.address)throw new vu("Disconnected",4900);let{signature:r}=await hOt(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new vu(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new vu(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Fx(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await uOt({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await dOt(K9(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:QF(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...Qve(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return QF(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>hRt.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await mr();if(await pOt({address:this.address}),!n||!this.address)throw new vu("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&yl(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new vu("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new vu("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Vu(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:r,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new vu(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new vu(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=Fx(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=oG(s,"privy"),this.appId=a,this.walletIndex=c,this.privyClient=u,this.walletAccount=h}}function PO(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var fRt=0;class vEe extends Ow{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ar("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Tg(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Mw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var Wg="__private_"+fRt+++"__walletBranding";class RO extends Ow{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return PO(this,Wg)[Wg]??{name:"Browser Extension",icon:lG,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ar("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Tg(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,Wg,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Mw(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?PO(this,Wg)[Wg]={name:"MetaMask",icon:ZF,id:"io.metamask"}:s==="phantom"&&(PO(this,Wg)[Wg]={name:"Phantom",icon:I6e,id:"phantom"})}}class pRt extends vEe{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Er||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Ar("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Tg(e)}}}class mRt extends b${get wallets(){let e=new Set;return this.walletConnectors.flatMap(n=>n.wallets).sort((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0).filter(n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)})}async initialize(e){var r,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=Xkt({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:l,legacyInjectedProvider:c})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:c}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(cG)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new uG({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n){return e==="wallet_connect_v2"?this.walletConnectors.filter(z5).find(r=>r.connectorType===e)??null:this.walletConnectors.filter(z5).find(r=>r.connectorType===e&&r.walletClientType===n)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(V$).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=qu(n);for(let c of r){let u=this.findEmbeddedWalletConnectors().find(h=>h.walletIndex===c.walletIndex);if(u&&z5(u))u.proxyProvider.walletProxy=e;else{let h=new Zoe({provider:new Joe({walletProxy:e,address:c.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:c.walletIndex,privyClient:o,walletAccount:c}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:c.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&z5(s))s.proxyProvider.walletProxy=e;else{let o=new Zoe({provider:new Joe({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=Y9(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let n=this.walletConnectors.indexOf(e);this.walletConnectors.splice(n,1),this.storedConnections=Y9(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&z5(s))return s instanceof Kv&&s.resetConnection(n),s;let o=e!=="injected"?e==="coinbase_wallet"?new dRt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new cRt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new Kv({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new aG({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new pRt(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new RO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new RO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new RO(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new vEe(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{console.debug("Failed to initialize connector",n)})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,o,a,l,c,u,h,f){super(),this.addSolanaWalletConnector=async p=>{let m=this.findSolanaWalletConnector(p.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let g=this.walletConnectors.indexOf(m);this.walletConnectors.splice(g,1)}this.addWalletConnector(p)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.walletChainType=f||"ethereum-only",this.setBaseAccountSdk=h,this.storedConnections=Y9()}}let gRt=[qwe,Gwe,Zwe];class yRt{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Nn(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Nn(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Nn(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=qkt,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=Vwe.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=gRt.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new Bit}})}}let wRt=/paymaster\.biconomy\.io\/api/i,bRt={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const vRt=(t,e)=>t&&wRt.test(t)?bRt:e&&e.policy_id?{policyId:e.policy_id}:void 0,xRt=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class xEe{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Rst,{token:this.meta.token})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(jst,{token:this.meta.token})}catch(e){throw Nn(e)}}constructor(e){this.meta={token:e}}}class ERt{getOrCreateGuestCredential(e){let n=n6e(e);if(WF()){if(Nt.get(n))return Nt.get(n);{let r=z1(qF(32));return Nt.put(n,r),r}}return z1(qF(32))}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Ost,{guest_credential:this.meta.guestCredential})}catch(e){throw Nn(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function jO(){return!(oLe&&window.location.origin.startsWith("http://localhost"))}const Xoe=Iw(()=>({identityToken:null}));var OO,eae=((OO={}).PRIVY="privy_access_token",OO.CUSTOMER="customer_access_token",OO);class ARt{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(v6)}get privyAccessToken(){return this._getToken(G9)}_getToken(e){try{let n=Nt.get(e);return typeof n=="string"?im.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Nt.get(dO);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Nt.get(Rk(e));if(typeof n!="string")return null;{let r=new im(n);return r.isExpired()?(Nt.del(Rk(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Ei.get(hO);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==Ykt;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=im.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Nt.put(Rk(e),n):Nt.del(Rk(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Ns(r),isNewUser:i,oAuthTokens:o}}catch(n){throw console.warn("Error authenticating session"),Rr(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof yv?"email":i instanceof wv?"sms":i instanceof qv?"siwe":i instanceof ERt?"guest":i instanceof xEe?"custom_auth":i instanceof Ob?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Ns(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Rr(n)}}async _refresh(){if(!this.api)throw new ue("Session has no API instance");if(!this.client)throw new ue("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(qwe,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Ns(r.user)}catch(r){if(r instanceof $l&&r.privyErrorCode===pe.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Rr(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(Gwe,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,o,a;if(typeof e=="string"){let l=Nt.get(v6);if(Nt.put(v6,e),!((n=this.client)!=null&&n.useServerCookies)){let c=(r=im.parse(e))==null?void 0:r.expiration;Ei.set(kse,e,{sameSite:"Strict",secure:jO(),expires:c?new Date(1e3*c):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else Nt.del(v6),Ei.remove(kse),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var n;typeof e=="string"?(Nt.put(dO,e),(n=this.client)!=null&&n.useServerCookies||Ei.set(hO,"t",{sameSite:"Strict",secure:jO(),expires:30})):(Nt.del(dO),Ei.remove(Gkt),Ei.remove(hO))}storePrivyAccessToken(e){typeof e=="string"?Nt.put(G9,e):Nt.del(G9)}storeIdentityToken(e){var r,i;if(Xoe.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;Nt.put(_se,e);let n=(i=im.parse(e))==null?void 0:i.expiration;Ei.set(Sse,e,{sameSite:"Strict",secure:jO(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Nt.del(_se),Xoe.setState({identityToken:null}),Ei.remove(Sse)}constructor(){this.authenticateOnce=new ea(async e=>this._authenticate(e)),this.linkOnce=new ea(async e=>this._link(e)),this.refreshOnce=new ea(this._refresh.bind(this)),this.destroyOnce=new ea(this._destroy.bind(this))}}let MO;var CRt=0,DO="__private_"+CRt+++"__getOrGenerateClientAnalyticsId";class kRt{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u,setBaseAccountSdk:h}){this.connectors||(this.connectors=new mRt(this.appId,e,n,r,i,s,o,a,l,c,h,u))}generateApi(){let e=new yRt({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ue("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ue("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post($st,{action:"verify"})}catch(e){throw Nn(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Nst,{});return xRt(e.options)}catch(e){throw Nn(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(Pst,{});return Ns(e)}catch(e){throw Rr(e)}}async unlinkEmail(e){try{let n=await this.api.post(ost,{address:e});return await this.getAuthenticatedUser()??Ns(n)}catch(n){throw Rr(n)}}async unlinkPhone(e){try{let n=await this.api.post(dst,{phoneNumber:e});return await this.getAuthenticatedUser()??Ns(n)}catch(n){throw Rr(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(Hit,{address:e});return await this.getAuthenticatedUser()??Ns(n)}catch(n){throw Rr(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(Yit,{address:e});return await this.getAuthenticatedUser()??Ns(n)}catch(n){throw Rr(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(mst,{provider:e,subject:n});return await this.getAuthenticatedUser()??Ns(r)}catch(r){throw Rr(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(tst,{fid:e});return await this.getAuthenticatedUser()??Ns(n)}catch(n){throw Rr(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Ist,{telegram_user_id:e});return await this.getAuthenticatedUser()??Ns(n)}catch(n){throw Rr(n)}}async revokeDelegatedWallet(){try{await this.api.post(Lst,{})}catch(e){throw Rr(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(Zwe,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(Mst,e)}catch(n){throw Rr(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(Dst,e)}catch(n){throw Rr(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${Bst}?partnerUserId=${e}`)}catch(n){throw Rr(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(eae.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(eae.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=GG.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:vRt(i.paymaster_url,i.paymaster_context)}))}:{enabled:r.enabled}}catch(e){throw Rr(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(Fit,{address:e,token:n})).nonce}catch(r){throw Rr(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(Uit,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(zit,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(Wit,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Ns(s)}catch(s){throw Rr(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Ns(o)}catch(o){throw Rr(o)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(qit,{address:e,token:n})).nonce}catch(r){throw Rr(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(Git,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let l=Ns(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(r){case"email":c=lst,u={nonce:e,email:n};break;case"sms":c=pst,u={nonce:e,phoneNumber:n};break;case"siwe":if(c=Vit,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":c=nst,u={nonce:e,farcaster_id:n,farcaster_embedded_address:a};break;case"telegram":c=Tst,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":c=Qit,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=gst,u={nonce:e,userInfo:l}}let h=await this.api.post(c,u);return await this.getAuthenticatedUser()??Ns(h)}catch(c){throw Rr(c)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(Kit,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Ns(o)}catch(o){throw Rr(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(Fst);return this.session.updateIdentityToken(e.identity_token),Ns(e.user)}catch(e){throw Rr(e)}}async scanTransaction(e){try{return await this.api.post(Ust,e)}catch(n){throw Rr(n)}}constructor({apiUrl:e=HF,appId:n,appClientId:r,timeout:i=Vkt}){Object.defineProperty(this,DO,{value:_Rt}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==HF&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,DO)[DO](),MO||(MO=new ARt),this.session=MO,this.api=this.generateApi(),this.session.client=this}}function _Rt(){if(typeof window>"u")return null;try{let e=Nt.get(VF);if(typeof e=="string"&&e.length>0)return e}catch{}let t=US();try{return Nt.put(VF,t),t}catch{return t}}const SRt=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=ll(),[,c]=x.useMemo(()=>(r==null?void 0:r.split("t:"))||[],[r]);if(x.useEffect(()=>{var u;return(u=l.current)==null?void 0:u.remove},[]),!n)return null;if(!c)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(gEe,{...e,ref:l,siteKey:c,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var h;(h=e.onSuccess)==null||h.call(e,u),o(u),a(!1)},onExpire:()=>{var u,h;(u=e.onExpire)==null||u.call(e);try{(h=l.current)==null||h.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})};function IRt(t){q$("configureMfa",t)}const KG=J.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Da=J.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Fc=J.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),tw=J.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),wN=J.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),b1=J.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),v1=J.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Mb=J.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),EEe=J.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),BO=J.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),LO=J.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),FO=J.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),tae=J.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),UO=J.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),AEe=J.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),IU=J.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),Uc=J.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),CEe=J.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),kEe=({handleClose:t,user:e,onSelect:n})=>d.jsxs(Rn,{title:"Verify your identity",subtitle:"Choose a verification method",icon:q1,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[d.jsxs(EEe,{children:[e.mfaMethods.includes("totp")&&d.jsxs(Vr,{onClick:()=>n("totp"),children:[d.jsx(zh,{children:d.jsx(d$,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&d.jsxs(Vr,{onClick:()=>n("sms"),children:[d.jsx(zh,{children:d.jsx(hg,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&d.jsxs(Vr,{onClick:()=>n("passkey"),children:[d.jsx(zh,{children:d.jsx(dq,{})}),"Passkey"]},"passkey")]}),d.jsx(Ni,{})]}),TU=({pendingTransaction:t})=>{let{wallets:e}=Pg(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:o}=st(),[a,l]=x.useState(null),[c,u]=x.useState(t),{tokenPrice:h}=XA(c.chainId),f=o(t.chainId)||"ETH",p=x.useMemo(()=>e.find(m=>m.walletClientType==="privy"),[e]);return x.useEffect(()=>{(async function(){if(!n||!p)return c;let m=Fx(c.chainId,i,r,{appId:s}),g=await S7(c,m,p.address);return l(ki(BigInt(g.gas??0))),g})().then(u).catch(console.error)},[n]),p?d.jsx(TRt,{children:d.jsx(Q6e,{from:p.address,to:c.to,txn:c,gas:a??void 0,tokenPrice:h,tokenSymbol:f})}):null};let TRt=J.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const YG=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),_Ee=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:o})=>{var l;let{pendingTransaction:a}=st();return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:n},"header"),d.jsx(J6e,{children:d.jsxs("div",{children:[d.jsx(L6e,{success:o,fail:!!e}),d.jsx(e?Sw:YG,{style:{width:"38px",height:"38px"}})]})}),d.jsx(Da,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(wN,{children:[d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(q1,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(ddt,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(tw,{children:d.jsx(TU,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(CEe,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(hr,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),r&&d.jsx(IU,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),d.jsx(Ni,{})]})};let $Rt=Array(6).fill("");var Y5,NRt=((Y5=NRt||{})[Y5.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Y5[Y5.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Y5);function $U(t){return/^[0-9]{1}$/.test(t)}function nae(t){return t.length===6&&t.every($U)}const M7=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,s]=x.useState($Rt),[o,a]=x.useState(null),[l,c]=x.useState(null),u=async f=>{var N;f.preventDefault();let p=f.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let m=i.reduce((R,M)=>R+Number($U(M)),0),g=p.split(""),y=!g.every($U),w=g.length+m>6;if(y)return a("Passcode can only be numbers"),void c(1);if(w)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let v=Number((N=f.currentTarget.name)==null?void 0:N.charAt(4)),b=[...p||[""]].slice(0,6-v),A=[...i.slice(0,v),...b,...i.slice(v+b.length)];s(A);let E=Math.min(Math.max(v+b.length,0),5),$=document.querySelector(`input[name=pin-${E}]`);if($==null||$.focus(),nae(A))try{await t(A.join(""));let R=document.querySelector(`input[name=pin-${E}]`);R==null||R.blur()}catch(R){c(1),a(R.message)}else try{await t(null)}catch(R){c(1),a(R.message)}},h=r?"success":!n&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(PRt,{children:[d.jsx("div",{children:i.map((f,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:m=>{m.key==="Backspace"&&(g=>{l===1&&(a(null),c(null));let y=[...i.slice(0,g),"",...i.slice(g+1)];if(s(y),g>0){let w=document.querySelector(`input[name=pin-${g-1}]`);w==null||w.focus()}nae(y)?t(y.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:h,autoComplete:Er?"one-time-code":"off",disabled:e},p))}),d.jsx("div",{children:d.jsx(RRt,{$fail:!!n||!!o,children:n||o})})]})})};let PRt=J.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),RRt=J.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const SEe=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let{app:o}=lt(),{pendingTransaction:a}=st();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:r},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(hg,{})}),d.jsx(Da,{children:"Enter verification code"}),d.jsxs(tw,{children:[d.jsx(M7,{success:e,disabled:n,onChange:s}),d.jsxs(Fc,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(TU,{pendingTransaction:a})]}),i&&d.jsx(IU,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(vd,{onClick:r,children:"Cancel"}),d.jsx(Ni,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:r},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(d$,{})}),d.jsx(Da,{children:"Enter verification code"}),d.jsxs(tw,{children:[d.jsx(M7,{success:e,disabled:n,onChange:s}),d.jsxs(Fc,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(TU,{pendingTransaction:a})]}),i&&d.jsx(IU,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(vd,{onClick:r,children:"Cancel"}),d.jsx(Ni,{})]});default:return null}},D7=t=>z_t(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:bG(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:wG(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),jRt={component:()=>{let{user:t}=_n(),{data:e}=lt(),[n,r]=x.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=x.useState(!1),[o,a]=x.useState(),[l,c]=x.useState();if(x.useEffect(()=>{r(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:f,verifyTotpCode:p,verifyPasskey:m,verifySmsCode:g,sendSmsCode:y}=e.mfaVerify,w=async E=>{if(E!=="passkey")try{r(E),E==="sms"&&(r(E),await y()),E==="totp"&&r(E)}catch($){console.error($)}else try{r(E);let $=await f();if(!$)throw Error("something went wrong");a($),await m($),s(!0),c(void 0),h()}catch($){c(D7($))}},v=async E=>{c(void 0);try{if(!E||!n)return;if(n==="passkey"){if(!o)throw Error("Missing passkey challenge");await m(o)}else n==="sms"?await g(E):n==="totp"&&await p(E);c(void 0),s(!0),h()}catch($){throw D7($).error}},b=()=>{l||!i?u((l==null?void 0:l.error)??Error("Canceled MFA verification.")):h()},A=x.useRef(!1);return x.useEffect(()=>{!A.current&&n&&(A.current=!0,w(n).finally(()=>{A.current=!1}))},[open]),t?n==="passkey"?d.jsx(_Ee,{account:t.linkedAccounts.filter(E=>E.type==="passkey"&&E.enrolledInMfa).sort((E,$)=>$.firstVerifiedAt.valueOf()-E.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:b,onBack:()=>{r(void 0),c(void 0)},handleSubmit:()=>v(o).catch(c)}):n==="sms"||n==="totp"?d.jsx(SEe,{selectedMethod:n,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:v,onClose:b,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):d.jsx(kEe,{user:t,onSelect:w,handleClose:b}):null}};function IEe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=x.useContext(j3);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const rae=({onClose:t})=>{let{user:e}=_n(),[n,r]=x.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=IEe(),[a,l]=x.useState(!1),[c,u]=x.useState(null),[h,f]=x.useState();x.useEffect(()=>{r((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let p=x.useRef(!1);async function m(w){f(void 0);try{if(!w||!n)return;await o(n,w),l(!0),f(void 0),t()}catch(v){throw D7(v).error}}async function g(w){if(w!=="passkey")try{r(w),await i(w)}catch(v){console.error(v)}else try{r(w);let v=await i(w);if(!v)throw Error("something went wrong");u(v),await o(w,v),l(!0),f(void 0),t()}catch(v){f(D7(v))}}x.useEffect(()=>{!p.current&&n&&(p.current=!0,g(n).finally(()=>{p.current=!1}))},[]);let y=()=>{r(null),f(void 0),s(),t()};return e?n==="passkey"?d.jsx(_Ee,{account:e.linkedAccounts.filter(w=>w.type==="passkey"&&w.enrolledInMfa).sort((w,v)=>v.firstVerifiedAt.valueOf()-w.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,error:h==null?void 0:h.error,onClose:y,onBack:()=>{r(null),f(void 0)},handleSubmit:()=>m(c).catch(f)}):n?d.jsx(SEe,{submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,handleSubmitCode:m,selectedMethod:n,onClose:y,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):d.jsx(kEe,{user:e,onSelect:g,handleClose:y}):null},lE=Iw(()=>({inProgressMfaFlow:void 0})),ORt=Hot([":root{","};"],t=>MRt(t.palette)),MRt=t=>os(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,n])=>`${e}: ${n};`).join(`
`)),iae=J.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),DRt=({children:t,open:e,onClick:n,...r})=>d.jsx(Mve,{show:e,as:Ae.Fragment,children:d.jsxs(Eut,{onClose:n,...r,as:LRt,children:[d.jsx(L8,{as:Ae.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(BRt,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(FRt,{children:d.jsx(L8,{as:Ae.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(Dve,{as:URt,children:t})})})]})});let BRt=J.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),LRt=J.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),FRt=J.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const URt=J.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),zRt=J.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let TEe=()=>{let{ready:t,isModalOpen:e}=_n(),{headless:n}=Fn(),{currentScreen:r}=lt(),{status:i,execute:s,reset:o,enabled:a}=ll(),l=lE(h=>h.inProgressMfaFlow),c=()=>lE.setState({inProgressMfaFlow:void 0}),u=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return x.useEffect(()=>{u&&s()},[u]),x.useEffect(()=>{!e&&a&&o()},[e,a]),r&&!t&&r.isShownBeforeReady?d.jsxs(d.Fragment,{children:[d.jsx(wn,{}),d.jsx(af,{}),d.jsx(zRt,{children:d.jsx(tu,{})}),d.jsx(_d,{}),d.jsx(Ni,{})]}):r||l!=="txn"?r?d.jsxs(d.Fragment,{children:[d.jsx(zx,{$if:!!l,children:d.jsx(r.component,{})}),l==="txn"&&d.jsx(rae,{onClose:c}),l==="auth"&&d.jsx(jRt.component,{})]}):null:d.jsx(rae,{onClose:c})},WRt=()=>{let t=x.useRef(null);return d.jsx(VRt,{style:{height:HPt(t)},id:"privy-modal-content",children:d.jsx("div",{ref:t,children:d.jsx(TEe,{})})})};const HRt=({open:t})=>{let e=Fn(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=st(),{onUserCloseViaDialogOrKeybindRef:s}=lt();return{gracefulClosePrivyModal:x.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=lE(i=>i.inProgressMfaFlow);return IRt({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||lE.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?d.jsx(iae,{children:d.jsx($Ee,{id:"privy-modal-content",children:d.jsx(TEe,{})})}):d.jsx(DRt,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:d.jsx(iae,{children:d.jsx(WRt,{})})})};let $Ee=J.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),VRt=J($Ee).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function qRt(t){let e=x.useRef(null),n=x.useRef();return x.useEffect(()=>{var r,i;(r=n.current)==null||r.remove(),n.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:l}=new URL(o);return a.async=!0,a.src=`${l}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(n.current)},[t]),d.jsx("div",{ref:e,hidden:!0})}const GRt=()=>{let{ready:t}=Pg(),{client:e}=st();return x.useEffect(()=>{var r;let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map(s=>({address:s.address,connectorType:s.connectorType,walletClientType:s.walletClientType,connectedAt:s.connectedAt,id:s.meta.id}));Nt.put(r6e,i)};return(r=e.connectors)==null||r.on("walletsUpdated",n),()=>{var i;(i=e.connectors)==null||i.off("walletsUpdated",n)}},[t,e.connectors]),null};async function yc(t,e,n,r,i,s=!1){var c,u,h;let o=s,a=async f=>{var p;if(o&&e&&e.length>0){f===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(p=r.current)==null||p.reject(new Kr("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((g,y)=>{n.current={resolve:g,reject:y},setTimeout(()=>{var v;let w=new Kr("mfa_timeout","Timed out waiting for MFA code");(v=r.current)==null||v.reject(w),y(w)},3e5)});return await t(m)}return await t()},l=null;for(let f=0;f<4;f++)try{l=await a(f),(c=r.current)==null||c.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(u=r.current)==null||u.resolve(void 0),p;o=!0}if(l===null){let f=new Kr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=r.current)==null||h.reject(f),f}return l}var sae;let KRt=(sae=0,()=>"id-"+sae++);function Yi(t){return t.error!==void 0}let Oi=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},zO=new Map,YRt=(t,e)=>typeof e=="bigint"?e.toString():e;function Qi(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,YRt)}`)(t,e);if(t==="privy:wallet:create"){let a=zO.get(s);if(a)return a}let o=new Promise((a,l)=>{let c=KRt();Oi.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},r)}).finally(()=>{zO.delete(s)});return zO.set(s,o),o}function QRt(t){let e=R6e(),n=x.useRef(null),r=x.useRef(t.mfaMethods),i=Dw(),[s,o]=x.useState(!1);return x.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),x.useEffect(()=>{if(!s)return;let a=n.current;if(!a)return;function l(h){var f;h&&h.origin===t.origin&&typeof(f=h.data).event=="string"&&/^privy:.+/.test(f.event)&&function(p){switch(p.event){case"privy:iframe:ready":let m=Oi.dequeue(p.event,p.id);return Yi(p)?m.reject(new Kr(p.error.type,p.error.message)):m.resolve(p.data);case"privy:user-signer:sign":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:add":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:set-recovery":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:connect":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:recover":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallets:rpc":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:wallet:create":let g=Oi.dequeue(p.event,p.id);return Yi(p)?g.reject(new Kr(p.error.type,p.error.message)):g.resolve(p.data);case"privy:wallets:import":let y=Oi.dequeue(p.event,p.id);return Yi(p)?y.reject(new Kr(p.error.type,p.error.message)):y.resolve(p.data);case"privy:mfa:verify":let w=Oi.dequeue(p.event,p.id);return Yi(p)?w.reject(new Kr(p.error.type,p.error.message)):w.resolve(p.data);case"privy:mfa:init-enrollment":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:submit-enrollment":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:unenroll":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:mfa:clear":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:auth:unlink-passkey":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:solana-wallet:create":let v=Oi.dequeue(p.event,p.id);return Yi(p)?v.reject(new Kr(p.error.type,p.error.message)):v.resolve(p.data);case"privy:farcaster:init-signer":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:farcaster:sign":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}case"privy:delegated-actions:consent":{let b=Oi.dequeue(p.event,p.id);return Yi(p)?b.reject(new Kr(p.error.type,p.error.message)):b.resolve(p.data)}default:console.warn("Unsupported wallet proxy method:",p)}}(h.data)}let c={signWithUserSigner:h=>yc(f=>Qi("privy:user-signer:sign",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>yc(f=>Qi("privy:wallets:add",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>yc(f=>Qi("privy:wallets:set-recovery",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>yc(f=>Qi("privy:wallets:connect",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>yc(f=>Qi("privy:wallets:recover",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>yc(f=>Qi("privy:wallets:rpc",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>Qi("privy:wallet:create",h,a,t.origin),importWallet:h=>Qi("privy:wallets:import",h,a,t.origin),createSolana:h=>yc(f=>Qi("privy:solana-wallet:create",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>Qi("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>yc(f=>Qi("privy:mfa:verify",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>yc(f=>Qi("privy:mfa:init-enrollment",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>yc(f=>Qi("privy:mfa:submit-enrollment",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>yc(f=>Qi("privy:mfa:unenroll",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>Qi("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>yc(f=>Qi("privy:auth:unlink-passkey",{...h,...f},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>Qi("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>Qi("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let u=new AbortController;return YF(()=>Qi("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(c),(...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()}),()=>{window.removeEventListener("message",l),u.abort()}},[s]),e?d.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:b6e(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}const ZRt=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new ue("Address to delegate is not associated with current user.");if(!oE(n))throw new ue(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},JRt=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new ue("Address to delegate is not associated with current user.");let r=n.imported?n:bd(e);if(!r)throw new ue("Unable to determine root address for delegated address.");if(!oE(r))throw new ue(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},oae=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),XRt=()=>{let t=Fn();x.useEffect(()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>l9t({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])},aae="popup-privy-oauth",lae="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class ejt{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Ywe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Nn(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(Qwe,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Nn(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function NEe({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new ue("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const Fk=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let o=t==null?void 0:t.linkedAccounts.find(h=>h.type==="cross_app"&&(h.embeddedWallets.some(f=>f.address===e)||h.smartWallets.some(f=>f.address===e)));if(!t||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ue("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),l=await NEe({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new ue("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ue("Transactions require a valid token");let c=J$();if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ue("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",tjt(r)),c.location=u.href,new Promise((h,f)=>{let p=setTimeout(()=>{y(),f(new ue("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),m=setInterval(()=>{c.closed&&(y(),f(new ue("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),g=w=>{var v,b,A;w.data&&(((v=w.data.token)==null?void 0:v.action)==="set"&&((b=w.data.token)==null?void 0:b.value)!==void 0?n.storeProviderAccessToken(o.providerApp.id,w.data.token.value):((A=w.data.token)==null?void 0:A.action)==="clear"&&n.storeProviderAccessToken(o.providerApp.id,null),w.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&w.data.result&&(y(),h(w.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),w.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&w.data.error&&(y(),f(w.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:w.data.error,address:e}})))};window.addEventListener("message",g);let y=()=>{c.close(),clearInterval(m),clearTimeout(p),window.removeEventListener("message",g)}})};let tjt=t=>JSON.stringify({content:{request:{request:NU(t,ki)}},timestamp:Date.now(),callbackUrl:window.origin});const NU=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>NU(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,NU(r,e)])):t,njt=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:c})=>d.jsx(Rn,r?{title:"Passkeys updated",icon:DA,iconVariant:"success",primaryCta:{label:"Done",onClick:c},onClose:c,watermark:!0}:i?{icon:e7,title:"Your passkeys",onBack:l,onClose:c,watermark:!0,children:d.jsx(cae,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:e7,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:c,watermark:!0,helpText:n||void 0,children:t.length===0?d.jsx(ijt,{}):d.jsx(rjt,{children:d.jsx(cae,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let rjt=J.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),cae=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,s]=x.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return d.jsxs("div",{children:[d.jsx(cjt,{children:"Your passkeys"}),d.jsxs(ljt,{children:[t.slice(0,o).map(l=>{var c;return d.jsxs(hjt,{children:[d.jsxs("div",{children:[d.jsx(ujt,{children:a(l)}),d.jsxs(djt,{children:["Last used:"," ",((c=l.latestVerifiedAt??l.firstVerifiedAt)==null?void 0:c.toLocaleString())??"N/A"]})]}),d.jsx(pjt,{disabled:i.includes(l.credentialId),onClick:()=>(async u=>{s(h=>h.concat([u])),await n(u),s(h=>h.filter(f=>f!==u))})(l.credentialId),children:i.includes(l.credentialId)?d.jsx(Ng,{}):d.jsx(oht,{size:16})})]},l.credentialId)}),t.length>2&&!e&&d.jsx(ajt,{onClick:r,children:"View all"})]})]})},ijt=()=>d.jsxs(K4e,{style:{color:"var(--privy-color-foreground)"},children:[d.jsx(Qv,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),d.jsx(Qv,{children:"Takes seconds to set up and use"}),d.jsx(Qv,{children:"Use your passkey to verify transactions and login to your account"})]});const sjt={component:()=>{let{user:t,unlinkPasskey:e}=_n(),{linkWithPasskey:n,closePrivyModal:r}=st(),i=t==null?void 0:t.linkedAccounts.filter(p=>p.type==="passkey"),[s,o]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState(!1),[h,f]=x.useState(!1);return x.useEffect(()=>{i.length===0&&f(!1)},[i.length]),d.jsx(njt,{passkeys:i,isLoading:s,errorReason:a,success:c,expanded:h,onLinkPasskey:()=>{o(!0),n().then(()=>u(!0)).catch(p=>{if(p instanceof Oo){if(p.privyErrorCode===pe.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(p.privyErrorCode===pe.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async p=>(o(!0),await e(p).then(()=>u(!0)).catch(m=>{m instanceof Oo&&m.privyErrorCode===pe.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>f(!0),onBack:()=>f(!1),onClose:()=>r()})}},PEe=J.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let ojt=os(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const ajt=J.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],ojt);let ljt=J.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),cjt=J.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),ujt=J.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),djt=J.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),hjt=J.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),fjt=os([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),pjt=J.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],fjt);const WO=new Map([[sd,null],[rC,"external"],[p8e,"external"],[A8e,"external"],[m8e,"external"],[P7,"manual"],[g8e,"moonpay"]]),mjt=()=>{let t=Fn(),{user:e}=_n(),{client:n,refreshSessionAndUser:r,walletProxy:i}=st();return{migrate:x.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ue("User must be authenticated before migrating wallets",pe.MUST_BE_AUTHENTICATED);let s=bd(e);if(!s||yl(s)||!oE(s))return{success:!0};if(!i)throw new ue("Cannot connect to wallet proxy");let o=await n.getAccessToken();if(!o)throw new ue("User must be authenticated before migrating wallets",pe.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter(oE),{entropyId:l,entropyIdVerifier:c}=qu(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(u){if(!tE(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await r(),{success:!0}},[t.embeddedWallets.mode,e,i,n,r])}},gjt=({disabled:t})=>{let{migrate:e}=mjt(),{user:n}=_n(),{walletProxy:r}=st();return x.useEffect(()=>{!t&&n&&r&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[n,r,t,e]),null},yjt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),wjt=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:s}=x.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,n,t.name]);return d.jsx(Rn,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},bjt={component:()=>{let t=Fn(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=lt(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=st(),{logout:c}=VPt(),[u,h]=x.useState({}),f=e==null?void 0:e.crossAppAuth,p={id:f.appId,name:f.name,logoUrl:f.logoUrl},m=new ue(`There was an issue connecting your ${p.name} account. Please try again.`),g=new ea(async w=>{var v,b,A,E,$,N,R,M,F,W,H,L,k,C,_;if(f.popup)try{let T=await s({appId:w,popup:f.popup,action:f.action});h({data:T})}catch(T){if(T instanceof ue)h({error:T});else if(T instanceof $l){if(T.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED&&((b=(v=T.data)==null?void 0:v.data)!=null&&b.nonce))return r({accountTransfer:{nonce:(E=(A=T.data)==null?void 0:A.data)==null?void 0:E.nonce,account:(N=($=T.data)==null?void 0:$.data)==null?void 0:N.subject,displayName:(F=(M=(R=T.data)==null?void 0:R.data)==null?void 0:M.account)==null?void 0:F.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:(L=(H=(W=T.data)==null?void 0:W.data)==null?void 0:H.otherUser)==null?void 0:L.embeddedWalletAddress,oAuthUserInfo:(_=(C=(k=T.data)==null?void 0:k.data)==null?void 0:C.otherUser)==null?void 0:_.oAuthUserInfo}}),void n(Bw);f.popup&&f.popup.close(),h({error:m})}else h({error:m})}else h({error:m})}),y=()=>{u.data&&(o(),f.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),f.onError(u.error??new ue("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=y,x.useEffect(()=>{p.id.length&&g.execute(p.id)},[p.id]),x.useEffect(()=>{if(!u.data)return;let w=u.data;if(t.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let b=setTimeout(()=>{n(Lw)},Ur);return()=>clearTimeout(b)}if(jg(w,t.embeddedWallets)){let b=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:A=>{console.error(A),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:A,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),n(e0)},Ur);return()=>clearTimeout(b)}let v=setTimeout(y,Ur);return()=>clearTimeout(v)},[u.data]),d.jsx(wjt,{providerApp:p,success:!!u.data,error:u.error,onClose:y})}},vjt=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:s,onClose:o})=>d.jsx(Rn,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?Jve:DA,iconVariant:r?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:nht,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:d.jsx(hN,{address:e,title:"Wallet"})}),xjt={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:n}=st(),[r,i]=x.useState(!1),[s,o]=x.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,h=async()=>{r?c():u(s??new ue("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!r&&!s)return;let f=setTimeout(h,t6e);return()=>clearTimeout(f)},[r,s]),d.jsx(vjt,{appName:t.name,address:a,success:r,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(f){o(f)}},onDecline:()=>{h()},onClose:h})}},Ejt=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:s})=>d.jsx(Rn,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?Jve:DA,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:Xdt,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),Ajt={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:n}=st(),[r,i]=x.useState(!1),[s,o]=x.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{r?l():c(s??new ue("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!r&&!s)return;let h=setTimeout(u,t6e);return()=>clearTimeout(h)},[r,s]),d.jsx(Ejt,{appName:t.name,success:r,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{u()},onClose:u})}};let uae="#8a63d2";const Cjt=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>d.jsx(Rn,Er||e?CH?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:w1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:w1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:o,watermark:!0,children:i&&Er&&d.jsx(kjt,{children:d.jsx(j4e,{text:"Take me to Farcaster",url:i,color:uae})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:d.jsxs(_jt,{children:[d.jsx(Sjt,{children:i?d.jsx(tC,{url:i,size:275,squareLogoElement:w1}):d.jsx($jt,{children:d.jsx(tu,{})})}),d.jsxs(Ijt,{children:[d.jsx(Tjt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&d.jsx(jG,{text:i,itemName:"link",color:uae})]})]})});let kjt=J.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),_jt=J.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Sjt=J.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),Ijt=J.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Tjt=J.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),$jt=J.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const Njt={component:()=>{let{lastScreen:t,navigateBack:e,data:n,app:r}=lt(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=st(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=x.useRef([]),p=n==null?void 0:n.farcasterSigner;x.useEffect(()=>{let g=Date.now(),y=setInterval(async()=>{if(!(p!=null&&p.public_key))return clearInterval(y),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(y),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Ur)));let w=await i(p==null?void 0:p.public_key),v=Date.now()-g;w.status==="approved"?(clearInterval(y),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Ur))):v>3e5?(clearInterval(y),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):w.status==="revoked"&&(clearInterval(y),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(y),f.current.forEach(w=>clearTimeout(w))}},[]);let m=(p==null?void 0:p.status)==="pending_approval"?p.signer_approval_url:void 0;return d.jsx(Cjt,{appName:r.name,loading:l,success:u,errorMessage:o,connectUri:m,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{m&&(window.location.href=m)}})}},Pjt=({onClose:t})=>d.jsx(Rn,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:BL,primaryCta:{label:"Close",onClick:t},watermark:!0}),dae={component:()=>{let{closePrivyModal:t}=st();return d.jsx(Pjt,{onClose:()=>t()})}},Rjt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>d.jsx(Rn,{title:t,subtitle:e,icon:h$,watermark:!0,children:d.jsx(V6e,{children:d.jsx(V4e,{stacked:!0})})}),jjt={component:()=>{let{app:t}=lt();return d.jsx(Rjt,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},Ojt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=x.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)};return d.jsx(Rn,{title:t,subtitle:e,icon:hg,primaryCta:{label:r?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:d.jsx(uN,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},QG={component:()=>{let{app:t,currentScreen:e,data:n,navigate:r,setModalData:i}=lt(),{initLoginWithSms:s}=st(),[o,a]=x.useState(!1);return d.jsx(Ojt,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async l=>{var c;a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),r(qp)}catch(u){i({errorModalData:{error:u,previousScreen:((c=n==null?void 0:n.errorModalData)==null?void 0:c.previousScreen)||e||QG}}),r(Gr)}finally{a(!1)}},isSubmitting:o})}},Mjt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>d.jsx(Rn,{title:t,subtitle:e,icon:f$,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),Djt={component:()=>{let{closePrivyModal:t}=st(),{navigate:e}=lt();return d.jsx(Mjt,{onTryAgain:()=>{e(Do)},onCancel:async()=>{await t()}})}};function REe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=x.useContext(j3);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const Bjt=t=>d.jsxs(Ljt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let Ljt=J.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const Fjt=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let h=e.reduce((p,m)=>({...p,[m]:!0}),{}),f=n.reduce((p,m)=>({...p,[m]:!0}),{});return d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(q1,{})}),d.jsx(Da,{children:"Choose a verification method"}),e.length>0?d.jsx(Fc,{children:"To add or delete verification methods, verification is required."}):d.jsx(Fc,{children:"How would you like to verify your identity?"}),o&&d.jsx(CEe,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(EEe,{children:[(f.passkey||h.passkey)&&d.jsxs(BO,{children:[d.jsx(Vr,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:h.passkey||s,children:s?d.jsx(tu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(UO,{children:[d.jsxs(FO,{children:[d.jsx(dq,{}),"Passkey"]}),h.passkey?d.jsx(HO,{color:"green",children:"Enabled"}):d.jsx(tae,{$isAccent:!0,children:d.jsx(mdt,{})})]})}),h.passkey&&d.jsx(LO,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(yj,{})})]},"passkey"),(f.totp||h.totp)&&d.jsxs(BO,{children:[d.jsx(Vr,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>c("totp"),children:i?d.jsx(tu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(UO,{children:[d.jsxs(FO,{children:[d.jsx(d$,{}),"Authenticator app"]}),h.totp&&d.jsx(HO,{color:"green",children:"Enabled"})]})}),h.totp&&d.jsx(LO,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(yj,{})})]},"totp"),(f.sms||h.sms)&&d.jsxs(BO,{children:[d.jsx(Vr,{disabled:h.sms||r,onClick:()=>c("sms"),children:d.jsxs(UO,{children:[d.jsxs(FO,{children:[d.jsx(hg,{}),"SMS"]}),h.sms&&d.jsx(HO,{color:"green",children:"Enabled"}),r&&d.jsx(tae,{children:"Disabled"})]})}),h.sms&&d.jsx(LO,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(yj,{})})]},"sms")]}),d.jsx(Ujt,{children:"You can always change your selection later"}),d.jsx(Ni,{})]})};let HO=J(Qh).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),Ujt=J(AEe).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const jEe=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),zjt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=_n(),{initLinkWithPasskey:i,linkWithPasskey:s}=st(),{app:o}=lt(),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),p=x.useMemo(()=>(r==null?void 0:r.linkedAccounts.filter(y=>y.type==="passkey"))??[],[r]),m=async y=>{l(!0);try{await n(y)}catch(w){f(w)}finally{l(!1)}},g=async()=>{u(!0),f(null);try{await i();let y=await s(),w=(y==null?void 0:y.linkedAccounts.filter(v=>v.type==="passkey").map(v=>v.credentialId))??[];await m(w)}catch(y){f(y)}finally{u(!1)}};return p.length===0||c?d.jsx(Wjt,{onReset:e,onClose:t,onClick:g,isCreating:c}):h?d.jsx(aN,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>f(null),onRetry:()=>f(null)}):d.jsx(Hjt,{passkeys:p,isSubmitting:a,isCreating:c,onReset:e,onClose:t,onSubmitEnrollment:()=>m(p.map(y=>y.credentialId)),onAddPasskey:g})};let Wjt=({onReset:t,onClose:e,onClick:n,isCreating:r})=>d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:t,onClose:e},"header"),d.jsx(KG,{children:d.jsxs(PEe,{children:[d.jsx(YG,{}),d.jsx(jEe,{})]})}),d.jsx(Da,{children:"Set up passkey verification"}),d.jsxs(wN,{children:[d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(q1,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(vdt,{})}),"Takes seconds to set up and use"]}),d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(sdt,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(hr,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),d.jsx(Ni,{})]}),Hjt=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=x.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx(KG,{children:d.jsxs(PEe,{children:[d.jsx(YG,{}),d.jsx(jEe,{})]})}),d.jsx(Da,{children:"Enable your passkeys for verification"}),d.jsxs(wN,{children:[i.slice(0,c).map(u=>{var h;return d.jsxs(Vjt,{children:[d.jsx(qjt,{children:Kjt(u)}),d.jsxs(Gjt,{children:["Last used: ",(h=u.latestVerifiedAt)==null?void 0:h.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&d.jsx(hae,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(hr,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx(hae,{style:{marginTop:"0.5rem"},onClick:n,disabled:o,children:o?d.jsx(tu,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(Ni,{})]})},Vjt=J.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),qjt=J.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Gjt=J.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Kjt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const hae=J.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),Yjt=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,h]=x.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:p}=REe(),{app:m,data:g}=lt();function y(){var w;(w=g==null?void 0:g.mfaEnrollmentFlow)==null||w.onSuccess(),e()}return l?d.jsx(aN,{allowlistConfig:m.allowlistConfig,error:l,onBack:()=>c(null),onRetry:()=>c(null)}):d.jsxs(d.Fragment,u==="enroll"?{children:[d.jsx(wn,{backFn:n,onClose:r},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(hg,{})}),d.jsx(Da,{children:"Set up SMS verification"}),d.jsxs(Fc,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),d.jsxs(tw,{children:[d.jsx(uN,{onSubmit:async function({qualifiedPhoneNumber:w}){try{await f({phoneNumber:w}),s(w),h("verify")}catch(v){c(v)}},hideRecent:!0}),d.jsxs(AEe,{children:["By providing your mobile number, you agree to receive text messages from ",m==null?void 0:m.name,". Some carrier charges may apply"]})]}),d.jsx(Ni,{})]}:o?{children:[d.jsx(wn,{onClose:y},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(GT,{})}),d.jsx(Da,{children:"SMS verification added"}),d.jsxs(Fc,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),d.jsx(Mb,{children:d.jsx(hr,{onClick:y,children:"Done"})}),d.jsx(Ni,{})]}:{children:[d.jsx(wn,{backFn:function(){u==="verify"?h("enroll"):n()},onClose:r},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(hg,{})}),d.jsx(Da,{children:"Enter enrollment code"}),d.jsxs(tw,{children:[d.jsx(M7,{onChange:async function(w){try{if(!w)return;await p({phoneNumber:i,mfaCode:w}),a(!0)}catch(v){throw X6e(v)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):bG(v)?Error("The code you entered is not valid"):wG(v)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):e4e(v)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(Fc,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:$rt(i)})]})]}),d.jsx(Ni,{})]})},Qjt=({size:t,authUrl:e})=>d.jsx(tC,{url:e,squareLogoElement:iRt,size:t,fgColor:"#1F1F1F"}),Zjt=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,o]=x.useState("enroll");return d.jsxs(d.Fragment,s==="enroll"?{children:[d.jsx(wn,{backFn:e,onClose:t},"header"),d.jsx(pg,{children:"Scan QR code"}),d.jsx(ew,{children:"Open your authenticator app and scan this code to continue"}),d.jsx(b_t,{children:d.jsx(Qjt,{authUrl:n.authUrl,size:240})}),d.jsx(TG,{style:{textAlign:"left"},children:"Setup key"}),d.jsxs(dN,{style:{marginTop:"0.25rem"},children:[d.jsx(qPt,{children:"".repeat(16)}),d.jsx(jG,{itemName:" ",text:n.secret})]}),d.jsx(hr,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),d.jsx(Ni,{})]}:{children:[d.jsx(wn,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(d$,{})}),d.jsx(pg,{children:"Enter enrollment code"}),d.jsx(ew,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),d.jsx(tw,{children:d.jsx(M7,{onChange:async function(a){try{if(!a)return;await r({mfaCode:a})}catch(l){throw X6e(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):bG(l)?Error("The code you entered is not valid"):wG(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):e4e(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),d.jsx(Ni,{})]})},Jjt={component:()=>{var O;let{user:t,enrollInMfa:e,ready:n}=_n(),[r,i]=x.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=REe(),{app:f,data:p,onUserCloseViaDialogOrKeybindRef:m}=lt(),{closePrivyModal:g}=st(),{promptMfa:y}=IEe(),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(null),N=()=>{g({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),A(null)},500)},[R,M]=x.useState(!1),[F,W]=x.useState();m.current=N;let H=t==null?void 0:t.mfaMethods.includes("sms"),L=!!(t!=null&&t.phone),k=t==null?void 0:t.mfaMethods.includes("totp"),C=t==null?void 0:t.mfaMethods.includes("passkey"),_=H||k||C,T=(t==null?void 0:t.linkedAccounts.filter(I=>I.type==="passkey").map(I=>I.credentialId))??[];function S(){i(null),A(null)}async function P(I=T){var B,Q;M(!0);try{return await c(),await u({credentialIds:I},{removeForLogin:(B=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:B.shouldUnlinkOnUnenrollMfa}),(Q=p==null?void 0:p.mfaEnrollmentFlow)==null||Q.onSuccess(),N()}catch(j){W(j)}finally{M(!1)}}if(x.useEffect(()=>{_&&v(!0)},[_]),!n||!t||!f)return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:N},"header"),d.jsx(KG,{children:d.jsx(Bjt,{})}),d.jsx(tw,{children:d.jsx(tu,{})}),d.jsx(Ni,{})]});if(r==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:S,onClose:N},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(Hv,{})}),d.jsx(Da,{children:"Remove SMS verification?"}),d.jsxs(Fc,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Mb,{children:d.jsx(hr,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),d.jsx(Ni,{})]});if(r==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:S,onClose:N},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(Hv,{})}),d.jsx(Da,{children:"Remove authenticator app verification?"}),d.jsxs(Fc,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Mb,{children:d.jsx(hr,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),d.jsx(Ni,{})]});if(r==="passkey"){let I=((O=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:O.shouldUnlinkOnUnenrollMfa)??!0;return d.jsxs(d.Fragment,{children:[d.jsx(wn,{backFn:S,onClose:N},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(Hv,{})}),d.jsx(Da,{children:"Are you sure you want to remove this passkey?"}),d.jsx(Fc,{children:I?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),d.jsx(Mb,{children:d.jsx(hr,{$warn:!0,onClick:async function(){var B;i(null);try{await a({removeForLogin:(B=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:B.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),d.jsx(Ni,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!_)return d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:N},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(q1,{})}),d.jsx(Da,{children:"Add more security"}),d.jsxs(Fc,{children:[f==null?void 0:f.name," does not have any verification methods enabled."]}),d.jsx(Mb,{children:d.jsx(hr,{onClick:N,children:"Close"})}),d.jsx(Ni,{})]});let D=!_&&!w;return D?d.jsxs(d.Fragment,{children:[d.jsx(wn,{onClose:N},"header"),d.jsx(Uc,{style:{marginBottom:"1.5rem"},children:d.jsx(q1,{})}),d.jsx(Da,{children:"Transaction Protection"}),d.jsx(Fc,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(wN,{children:[d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(eRt,{})}),"Enable 2-Step verification for your ",f==null?void 0:f.name," wallet."]}),d.jsxs(v1,{children:[d.jsx(b1,{children:d.jsx(nRt,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(Mb,{children:[d.jsx(hr,{onClick:()=>v(!0),children:"Continue"}),d.jsx(vd,{onClick:N,children:"Not now"})]}),d.jsx(Ni,{})]}):b==="sms"?d.jsx(Yjt,{appName:(f==null?void 0:f.name)||"Privy",onComplete:N,onReset:S,onClose:N}):b==="totp"&&E?d.jsx(Zjt,{onClose:N,onReset:S,submitEnrollmentWithTotp:({mfaCode:I})=>async function(B){var Q;try{return W(void 0),await l({mfaCode:B}),(Q=p==null?void 0:p.mfaEnrollmentFlow)==null||Q.onSuccess(),N()}catch(j){W(j)}finally{i(null)}}(I),totpInfo:{...E,appName:(f==null?void 0:f.name)||"Privy"}}):b==="passkey"?d.jsx(zjt,{onReset:S,onClose:N,submitEnrollmentWithPasskey:P}):d.jsx(Fjt,{showIntro:D,userMfaMethods:t.mfaMethods,appMfaMethods:f.mfa.methods,userHasAuthSms:L,onBackToIntro:function(){v(!1)},handleSelectMethod:async function(I){try{await y()}catch(B){return void W(B)}return I==="totp"?(A(I),$(null),void h().then(B=>{$(B)}).catch(()=>{$(null),S()})):I==="passkey"&&T.length===1?await P():void A(I)},isTotpLoading:b==="totp"&&!E,isPasskeyLoading:R,error:F,onClose:N,setRemovingMfaMethod:async I=>{try{await y()}catch(B){return void W(B)}i(I)}})}},Xjt=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return d.jsx(Rn,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r!=null&&r.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},fae={component:()=>{var $;let{authenticated:t,logout:e,ready:n,user:r}=_n(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=lt(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m}=st(),[g,y]=x.useState(!1),[w,v]=x.useState(void 0),b=(($=l())==null?void 0:$.provider)||"google",{name:A,component:E}=NO(b);return x.useEffect(()=>{u(b).then(()=>{y(!0),f(!0)}).catch(N=>{var F,W,H,L,k,C,_,T,S,P,D,O,I,B,Q,j;if(f(!1),(N==null?void 0:N.privyErrorCode)===pe.ALLOWLIST_REJECTED)return v(void 0),a(),void o(lN);if((N==null?void 0:N.privyErrorCode)===pe.USER_LIMIT_REACHED)return console.error(new NA(N).toString()),v(void 0),a(),void o(nC);if((N==null?void 0:N.privyErrorCode)===pe.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(eC);if((N==null?void 0:N.privyErrorCode)===pe.ACCOUNT_TRANSFER_REQUIRED&&((W=(F=N.data)==null?void 0:F.data)!=null&&W.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(L=(H=N.data)==null?void 0:H.data)==null?void 0:L.nonce,account:(C=(k=N.data)==null?void 0:k.data)==null?void 0:C.subject,displayName:(S=(T=(_=N.data)==null?void 0:_.data)==null?void 0:T.account)==null?void 0:S.displayName,linkMethod:(P=l())==null?void 0:P.provider,embeddedWalletAddress:(I=(O=(D=N.data)==null?void 0:D.data)==null?void 0:O.otherUser)==null?void 0:I.embeddedWalletAddress,oAuthUserInfo:(j=(Q=(B=N.data)==null?void 0:B.data)==null?void 0:Q.otherUser)==null?void 0:j.oAuthUserInfo}}),void o(Bw);let{retryable:R,detail:M}=function(Y,ee){let Z={detail:"",retryable:!1},oe=i6e(ee);if((Y==null?void 0:Y.privyErrorCode)===pe.LINKED_TO_ANOTHER_USER&&(Z.detail="This account has already been linked to another user."),(Y==null?void 0:Y.privyErrorCode)===pe.INVALID_CREDENTIALS&&(Z.retryable=!0,Z.detail="Something went wrong. Try again."),Y.privyErrorCode===pe.OAUTH_USER_DENIED&&(Z.detail=`Retry and check ${oe} to finish connecting your account.`,Z.retryable=!0),(Y==null?void 0:Y.privyErrorCode)===pe.TOO_MANY_REQUESTS&&(Z.detail="Too many requests. Please wait before trying again."),(Y==null?void 0:Y.privyErrorCode)===pe.TOO_MANY_REQUESTS&&Y.message.includes("provider rate limit")){let de=NO(ee).name;Z.detail=`Request limit reached for ${de}. Please wait a moment and try again.`}if((Y==null?void 0:Y.privyErrorCode)===pe.OAUTH_ACCOUNT_SUSPENDED){let de=NO(ee).name;Z.detail=`Your ${de} account is suspended. Please try another login method.`}return(Y==null?void 0:Y.privyErrorCode)===pe.CANNOT_LINK_MORE_OF_TYPE&&(Z.detail="You cannot authorize more than one account for this user."),(Y==null?void 0:Y.privyErrorCode)===pe.OAUTH_UNEXPECTED&&ee.startsWith("privy:")&&(Z.detail="Something went wrong. Please try again."),Z}(N,b);v({retryable:R,detail:M,message:"Authentication failed"})}).finally(()=>{GF()})},[A,b]),x.useEffect(()=>{if(n&&t&&g&&r){if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let N=setTimeout(()=>{o(Lw)},Ur);return()=>clearTimeout(N)}if(jg(r,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:b,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(e0)},Ur);return()=>clearTimeout(N)}{let N=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Ur);return h(),()=>clearTimeout(N)}}},[n,t,g,r]),d.jsx(Xjt,{providerName:A,ProviderLogo:E,success:g,errorMessage:w,onRetry:w!=null&&w.retryable?()=>{GF(),c(b),v(void 0)}:void 0})}},eOt=x.forwardRef((t,e)=>{let[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l,user:c}=_n(),{initUpdateEmail:u}=st(),{navigate:h,setModalData:f,currentScreen:p}=lt(),{enabled:m,token:g}=ll(),y=Fn(),w=w6e(n)&&(y.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),v=o||!w,b=()=>{!m||g||l?(async A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:c.email.address,newAddress:n,captchaToken:A}),h(qp)}catch(E){f({errorModalData:{error:E,previousScreen:p||Do}})}a(!1)})(g):(f({captchaModalData:{callback:A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:c.email.address,newAddress:n,captchaToken:A})},userIntentRequired:!1,onSuccessNavigateTo:qp,onErrorNavigateTo:Gr}}),h(Ed))};return d.jsxs(d.Fragment,{children:[d.jsxs(tOt,{children:[i&&d.jsx(X1,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(nOt,{$error:!!i,children:[d.jsx(h$,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:A=>r(A.target.value),onKeyUp:A=>{A.key==="Enter"&&b()},value:n,autoComplete:"email"}),t.stacked?null:d.jsx(K$,{isSubmitting:o,onClick:b,disabled:v,children:"Submit"})]})]}),t.stacked?d.jsx(hr,{loadingText:null,loading:o,disabled:v,onClick:b,style:{width:"100%"},children:"Submit"}):null]})});let tOt=_4e,nOt=k4e;const rOt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>d.jsx(Rn,{title:t,subtitle:e,icon:h$,watermark:!0,children:d.jsx(V6e,{children:d.jsx(eOt,{stacked:!0})})}),iOt={component:()=>d.jsx(rOt,{})},sOt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=x.useState(null);return d.jsx(Rn,{title:t,subtitle:e,icon:hg,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)},disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:d.jsx(uN,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},oOt={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=lt(),{user:i}=_n(),{initUpdatePhone:s}=st(),[o,a]=x.useState(!1);return d.jsx(sOt,{onSubmit:async l=>{var c,u,h;a(!0);try{if(!((c=i==null?void 0:i.phone)!=null&&c.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,l.qualifiedPhoneNumber),n(qp)}catch(f){r({errorModalData:{error:f,previousScreen:((h=e==null?void 0:e.errorModalData)==null?void 0:h.previousScreen)||t||QG}}),n(Gr)}finally{a(!1)}},isSubmitting:o})}};function aOt({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=st(),{logout:l,authenticated:c,ready:u}=Bo();if(!o)throw new ue("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,f]=x.useState({status:"initial"}),p=x.useRef(),m=x.useRef(!1),g=x.useRef(e);x.useEffect(()=>{g.current=e},[e]);let y=x.useRef(r);x.useEffect(()=>{y.current=r},[r]);let w=x.useRef(i);x.useEffect(()=>{w.current=i},[i]);let v=x.useRef(s);return x.useEffect(()=>{v.current=s},[s]),x.useEffect(()=>{if(!n||!u)return;let b=async()=>{var A,E,$,N;if(!m.current){m.current=!0;try{f({status:"loading"});let R=await g.current();if(p.current!==void 0&&p.current===R)return void f({status:"done"});if(!R)return c&&(await l(),(A=w.current)==null||A.call(w)),p.current=R,void f({status:"done"});o.startAuthFlow(new xEe(R));let{user:M,isNewUser:F=!1}=await o.authenticate();if(!M)throw new ue("Failed to sync with custom auth provider");(E=y.current)==null||E.call(y,{user:M,isNewUser:F}),a(M,F),p.current=R,f({status:"done"})}catch(R){if(console.warn(R),await l().catch(()=>{}),($=w.current)==null||$.call(w),R instanceof $l&&R.privyErrorCode===pe.LINKED_TO_ANOTHER_USER)return f({status:"initial"}),void setTimeout(()=>{b()},0);(N=v.current)==null||N.call(v,R),f({status:"error",error:R})}finally{m.current=!1}}};return b(),t(b)},[t,o,a,c,l,n,u]),n?{state:h}:{state:{status:"not-enabled"}}}let lOt=Iw(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function cOt({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=Dw(),i=x.useRef(),s=x.useCallback(l=>(i.current=l,()=>{i.current=void 0}),[]),o=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=aOt({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:c})=>{r("login","onComplete",{user:l,isNewUser:c,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:l=>{r("login","onError",l.privyErrorCode||pe.UNKNOWN_AUTH_ERROR)}});return x.useEffect(()=>{(async()=>{var l;n&&!n.isLoading&&((l=i.current)==null||l.call(i))})()},[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return x.useEffect(()=>{lOt.setState({jwtAuthFlowState:e})},[e]),null}const OEe=x.createContext(!1);let bv,MEe,DEe,BEe,LEe,FEe;async function mr(){return bv?bv.getAccessToken():Promise.resolve(Nt.get(G9)||Nt.get(v6)||null)}const uOt=(t,e)=>MEe(t,e),dOt=(t,e)=>DEe(t,e),hOt=(t,e)=>BEe(t,e),fOt=(t,e)=>LEe(t,e),pOt=t=>FEe(t),mOt=({config:t,...e})=>{var n;if((()=>{if(x.useContext(OEe))throw new ue("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ue("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new ue("Cannot initialize the Privy provider with an invalid Privy app ID");bv||(bv=new kRt({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=x.useMemo(()=>new krt({appId:e.appId,clientId:e.clientId,storage:Nt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.0.1"}),[]);return d.jsx(h9t,{client:i,legacyClient:bv,appClientId:e.clientId,clientConfig:r,children:d.jsx(w7t,{children:d.jsx(gOt,{...e,client:bv,privy:i})})})};let gOt=t=>{var Qt;let e=t.client,n=t.privy,r=IG();XRt();let[i,s]=x.useState(!1),o=lE(q=>q.inProgressMfaFlow),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState(void 0),[w,v]=x.useState(!1),[b,A]=x.useState(null),[E,$]=x.useState(!1),[N,R]=x.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Ie}),[M,F]=x.useState({status:"initial"}),[W,H]=x.useState({status:"initial"}),[L,k]=x.useState({status:"initial"}),[C,_]=x.useState({status:"initial"}),[T,S]=x.useState({status:"initial"}),[P,D]=x.useState({status:"initial"}),[O,I]=x.useState(null),B=Fn(),Q=R6e(),[j,Y]=x.useState({}),[ee,Z]=x.useState(null),oe=x.useRef(null),[de,ce]=x.useState(!1),[he,be]=x.useState(!1),fe=x.useRef(null),ke=x.useRef(null),we=x.useRef(m9t),[Fe,Me]=x.useState(!1);e.onStoreCustomerAccessToken=q=>{q&&Ve(we,"accessToken","onAccessTokenGranted",{accessToken:q})},e.onDeleteCustomerAccessToken=()=>{f(null),u(!1),Ve(we,"accessToken","onAccessTokenRemoved")};let Se=x.useRef(null),ve=x.useRef(null),Oe=x.useRef(!1),Le=({showWalletUIs:q})=>Oe.current?Oe.current:q!==void 0?!q:!B.embeddedWallets.showWalletUIs,Ce=q=>{A(q),setTimeout(()=>{s(!0)},15)};x.useEffect(()=>{var re,ae,ge;if(!h)return void((re=e.connectors)==null?void 0:re.removeEmbeddedWalletConnectors());let q=ph(h),K=Hve(h),se=DL(h);q&&K.length||((ae=e.connectors)==null||ae.removeEmbeddedWalletConnectors()),se||((ge=e.connectors)==null||ge.removeImportedWalletConnector()),e.connectors?O?(q&&e.connectors.addEmbeddedWalletConnectors({walletProxy:O,user:h,embeddedWallets:K,defaultChain:B.defaultChain,appId:t.appId,privyClient:n}),se&&e.connectors.addImportedWalletConnector(O,se.address,B.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[O,h]),x.useEffect(()=>{var q;O&&((q=oe.current)==null||q.call(oe,O))},[O]);let De=x.useCallback((q,K)=>{f(q),v(K),u(!0),be(!0)},[]);x.useEffect(()=>{he&&O&&h&&(async()=>{var re;let q=kG(h,B.embeddedWallets.ethereum.createOnLogin),K=_G(h,B.embeddedWallets.solana.createOnLogin),se=await mr();if(se){if(q&&K){let ae=await O.create({accessToken:se});return await O.createSolana({accessToken:se,ethereumAddress:ae==null?void 0:ae.address}),void be(!1)}if(K)return await O.createSolana({accessToken:se,ethereumAddress:(re=ph(h))==null?void 0:re.address}),await ze.refreshSessionAndUser(),void be(!1);if(q)return await O.create({accessToken:se}),void be(!1)}})().catch(console.error)},[he&&O&&h]),x.useEffect(()=>{if(B.externalWallets.solana.connectors)return B.externalWallets.solana.connectors.onMount(),()=>{var q;return(q=B.externalWallets.solana.connectors)==null?void 0:q.onUnmount()}},[B.externalWallets.solana.connectors]),x.useEffect(()=>{!a&&Q&&async function(){var $e,je,Mt;let q,K=We(),se=rt(),re=LDe();e.initializeConnectorManager({walletConnectCloudProjectId:B.walletConnectCloudProjectId,rpcConfig:B.rpcConfig,chains:B.chains,defaultChain:B.defaultChain,store:re,walletList:B.appearance.walletList,shouldEnforceDefaultChainOnConnect:B.shouldEnforceDefaultChainOnConnect,externalWalletConfig:B.externalWallets,appName:B.name??"Privy",walletChainType:B.appearance.walletChainType,setBaseAccountSdk:y}),($e=e.connectors)==null||$e.on("connectorInitialized",()=>{q&&clearTimeout(q);let bt=e.connectors.walletConnectors.length,_t=e.connectors.walletConnectors.reduce((rn,Ye)=>rn+(Ye.initialized?1:0),0);_t===bt?Me(!0):q=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:_t,expected:bt}),Me(!0)},1500)}),(je=e.connectors)==null||je.initialize().then(()=>{ne()});let ae=await e.getAuthenticatedUser(),ge=!!ae;B.legal.requireUsersAcceptTerms&&ae&&!ae.hasAcceptedTerms?(await e.logout(),ze.setReadyToTrue(!0),Ve(we,"logout","onSuccess")):((Mt=B.customAuth)!=null&&Mt.enabled||(u(!!ae),ae&&Ve(we,"login","onComplete",{user:ae,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),f(ae)),K?ve.current=ge?"link":"login":se&&!ge?(ve.current="login",Y({telegramAuthModalData:{seamlessAuth:!0}}),Ce(e_)):ze.setReadyToTrue(!!ae))}()},[e,ee,a,Q]),x.useEffect(()=>{if(a){if(!h||!h.linkedAccounts.find(q=>q.type==="wallet"&&q.walletClientType==="privy"))return void ce(!!O);if([...p].some(q=>q.walletClientType==="privy"))return void ce(!0);ce(!!O)}},[a,h,p,O]),x.useEffect(()=>{var q;(q=e.connectors)==null||q.setWalletList(B.appearance.walletList)},[B.appearance.walletList.join()]);let We=()=>{let q=aRt();return q.inProgress&&q.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):q.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:q.stateCode,authorizationCode:q.authorizationCode}):(q.inProgress&&function(K){return K.startsWith("privy:")}(q.provider)&&!q.popupFlow&&(new BroadcastChannel(aae).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:q.stateCode,authorizationCode:q.authorizationCode}),window.close()),!!q.inProgress&&!!q.withPrivyUi&&(e.startAuthFlow(new Ob({...q,customOAuthRedirectUrl:B.customOAuthRedirectUrl})),Ce(fae),!0))},rt=()=>{var se;let q=n9t();if(!q||!B.loginMethods.telegram||!((se=B.loginConfig.telegramAuthConfiguration)!=null&&se.seamlessAuthEnabled))return;let K=new U5;return e.startAuthFlow(K),q.flowType==="login-url"&&(K.meta.telegramWebAppData=void 0,K.meta.telegramAuthResult=q.authData),q.flowType==="web-app"&&(K.meta.telegramAuthResult=void 0,K.meta.telegramWebAppData=q.authData),!0},G=async(q,K,se,re)=>{var ae,ge;if(q!=="solana_adapter")U(await((ae=e.connectors)==null?void 0:ae.createEthereumWalletConnector({connectorType:q,walletClientType:K}))||null,K,se,re);else{let $e=(ge=e.connectors)==null?void 0:ge.findSolanaWalletConnector(K);if(!$e)return;U($e,K,se,re)}};async function U(q,K,se,re){if(!q)return R({status:"disconnected",connectedWallet:null,connectError:new Ar("Unable to connect to wallet."),connector:null,connectRetry:Ie}),re==null?void 0:re(null,se);R({status:"disconnected",connectedWallet:null,connectError:null,connector:q,connectRetry:Ie}),q instanceof Kv&&K&&await q.resetConnection(K),R({connector:q,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>U(q,K,se,re)});try{let ae=await q.connect({showPrompt:!0});if((!ae||Q0(ae))&&B.shouldEnforceDefaultChainOnConnect&&!B.chains.find(ge=>ge.id===Number(ae==null?void 0:ae.chainId.replace("eip155:","")))&&((ae==null?void 0:ae.connectorType)!=="wallet_connect_v2"||(ae==null?void 0:ae.walletClientType)!=="metamask")){R(ge=>({...ge,connector:q,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Ie}));try{await(ae==null?void 0:ae.switchChain(B.defaultChain.id)),ae&&(ae.chainId=u4(ki(B.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${B.defaultChain.id}`)}}return R(ge=>({...ge,status:"connected",connectedWallet:ae,connectError:null,connectRetry:Ie})),ae&&Ve(we,"connectWallet","onSuccess",{wallet:ae}),re==null?void 0:re(ae,se)}catch(ae){return ae instanceof Oo?(console.warn(ae.cause?ae.cause:ae.message),Ve(we,"connectWallet","onError",ae.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ae),Ve(we,"connectWallet","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR)),R(ge=>({...ge,status:"disconnected",connectedWallet:null,connectError:ae})),re==null?void 0:re(null,se)}}let z=async(q,K,se)=>{if(q===null||!Q0(q))return;let re=new qv(e,q,K,se);e.startAuthFlow(re)},X=async(q,K,se,re="plain")=>{let ae=r(P4e);if(re==="transaction"&&!ae)throw new ue("useSolanaLedger plugin hook must be mounted");if(q===null||!a9t(q))return;let ge=new A7(q,e,K,se,re,ae);e.startAuthFlow(ge)},ne=()=>{let q=new URLSearchParams(window.location.search),K=q.get("privy_connector"),se=q.get("privy_wallet_client"),re=q.get("privy_connect_only")==="true";if(!K||!se)return;let ae=T6e({connectorType:K,walletClientType:se});if(!ae||!ae.isInstalled)return Ce(Djt);if(!e.connectors)throw new ue("Connector not initialized");Ce(re?hU:xp);let ge=new URL(window.location.href);ge.searchParams.delete("privy_connector"),ge.searchParams.delete("privy_wallet_client"),ge.searchParams.delete("privy_connect_only"),window.history.pushState({},"",ge),G(K,se,void 0,re?void 0:K==="solana_adapter"?X:z)};x.useEffect(()=>{a&&c&&h===null&&e.getAuthenticatedUser().then(f)},[a,c,h,e]);let ie=q=>{if(!c)throw Ve(we,"linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:q}),new ue("User must be authenticated before linking an account.")},le=q=>{if(!c||!h)return!1;if(q.walletClientType==="privy")return!0;for(let K of h.linkedAccounts)if(K.type==="wallet"&&K.address===q.address&&K.walletClientType!=="privy")return!0;return!1},Be=()=>{m(q=>{var se;let K=((se=e.connectors)==null?void 0:se.wallets.filter(Q0).map(re=>({...re,linked:le(re),loginOrLink:async()=>{if(!await re.isConnected())throw new ue("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new ue("Cannot link or login with embedded wallet");(async ae=>{let ge;if(!e.connectors)throw new ue("Connector not initialized");ge=ae.type==="ethereum"?e.connectors.findWalletConnector(ae.connectorType,ae.walletClientType)||null:e.connectors.findSolanaWalletConnector(ae.walletClientType)||null,R($e=>({...$e,connector:ge,status:"connected",connectedWallet:ae,connectError:null,connectRetry:Ie})),B.captchaEnabled&&!c?(Y({captchaModalData:{callback:$e=>Q0(ae)?z(ae,$e):X(ae,$e),userIntentRequired:!1,onSuccessNavigateTo:xp,onErrorNavigateTo:Gr}}),Ce(Ed)):(Q0(ae)?await z(ae):await X(ae),Ce(xp))})(re)},fund:async ae=>{await ze.fundWallet(re.address,ae)},unlink:async()=>{if(!c)throw new ue("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new ue("Cannot unlink an embedded wallet");f(await e.unlinkEthereumWallet(re.address))}})))||[];return k6e(q,K)?q:K})};x.useEffect(()=>{Be()},[h==null?void 0:h.linkedAccounts,c,a]),x.useEffect(()=>{if(a){if(!e.connectors)throw new ue("Connector not initialized");Be(),e.connectors.on("walletsUpdated",Be)}},[a]),x.useEffect(()=>{var q,K;[...((q=B.loginMethodsAndOrder)==null?void 0:q.primary)??[],...((K=B.loginMethodsAndOrder)==null?void 0:K.overflow)??[]].filter(se=>se.startsWith("privy:")).forEach(se=>e.getCrossAppProviderDetails(se.replace("privy:","")))},[!!e]);let Xe=({transaction:q,sponsor:K,uiOptions:se,fundWalletConfig:re,address:ae,signOnly:ge})=>new Promise(async($e,je)=>{let{requesterAppId:Mt}=se||{},bt=ge?"signTransaction":"sendTransaction",_t=ae?Bf(h,ae):ph(h);if(!_t&&ae){let qt=gj(p,ae);if(qt){if(K)throw new ue("Cannot sponsor transactions for externally connected wallet.");try{let wr=await qt.getEthereumProvider(),en={...q,from:ae,chainId:q.chainId||Number(qt.chainId.replace("eip155:","")),value:q.value!==void 0?ki(q.value):void 0},Ir=await wr.request({method:bt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[en]});return Ve(we,bt,"onSuccess",{hash:Ir}),void $e({hash:Ir})}catch(wr){return Ve(we,bt,"onError",pe.TRANSACTION_FAILURE),void je(wr??new bo("Unable to "+bt+wr))}}}if(!_t)return Ve(we,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void je(new ue("No embedded or connected wallet found for address."));if(!c||!h)return Ve(we,bt,"onError",pe.MUST_BE_AUTHENTICATED),void je(Error("User must be authenticated before signing with a Privy wallet"));let rn=_t.address,Ye=_t.walletIndex??0,{entropyId:ut,entropyIdVerifier:at}=qu(h,_t),ct=Ln.wallets.find(qt=>qt.walletClientType==="privy"&&Mi(qt.address)===Mi(rn));if(!ct)return Ve(we,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void je(Error("Must have a Privy wallet before signing"));let ht=await ct.getEthereumProvider(),an=await ht.request({method:"eth_chainId"}),zn=q.chainId?Number(q.chainId):yEe(an);(qt=>{if(!B.chains.map(wr=>wr.id).includes(qt))throw new Ar(`Chain ID ${qt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,pe.UNSUPPORTED_CHAIN_ID)})(zn);let Ht={...q,from:q.from??rn,chainId:zn},Lt=await mr();if(!Lt||!O)return Ve(we,bt,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),void je(Error("Must have valid access token and Privy wallet to send transaction"));let xn=Fx(Ht.chainId,B.chains,B.rpcConfig,{appId:t.appId}),ii=yl(_t),ac=async({transactionRequest:qt})=>{try{let wr;if(!await ze.recoverEmbeddedWallet({address:rn}))throw Ve(we,bt,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),je(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(K){let en=await(async({transactionRequest:Ir})=>{if(!ii)throw new ue("Sponsoring is only supported for wallets on the TEE stack");if(ge)throw new ue("Cannot sponsor a sign transaction request");let Xs=ul=>ul==null?void 0:ki(ul),lc=await Vu(n,async({message:ul})=>await O.signWithUserSigner({accessToken:Lt,requesterAppId:Mt,message:ul}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:u4(ki(Ir.chainId)),sponsor:!0,params:{transaction:{from:Ir.from,to:Ir.to,chain_id:Xs(Ir.chainId),data:No(Ir.data)?Ir.data?Ir.data:ki(Uint8Array.from(Ir.data)):void 0,value:Xs(Ir.value)}},wallet_id:_t.id});if(lc.data&&"hash"in lc.data)return lc.data.hash;throw new bo("Unable to sign transaction")})({transactionRequest:qt});return Ve(we,"sendTransaction","onSuccess",{hash:en}),en}if(ii){let en=Xs=>Xs==null?void 0:ki(Xs),Ir=await Vu(n,async({message:Xs})=>await O.signWithUserSigner({accessToken:Lt,requesterAppId:Mt,message:Xs}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:qt.from,to:qt.to,nonce:en(qt.nonce),chain_id:en(qt.chainId),data:No(qt.data)?qt.data?qt.data:ki(Uint8Array.from(qt.data)):void 0,value:en(qt.value),type:qt.type,gas_limit:en(qt.gasLimit??qt.gas),gas_price:en(qt.gasPrice??qt.gas),max_fee_per_gas:en(qt.maxFeePerGas),max_priority_fee_per_gas:en(qt.maxPriorityFeePerGas)}},wallet_id:_t.id});if(!Ir.data||!("signed_transaction"in Ir.data))throw new bo("Unable to sign transaction");wr=Ir.data.signed_transaction}else wr=await async function({accessToken:en,entropyId:Ir,entropyIdVerifier:Xs,transactingWalletIndex:lc,walletProxy:ul,transactionRequest:n5,requesterAppId:r5}){return(await ul.rpc({entropyId:Ir,entropyIdVerifier:Xs,hdWalletIndex:lc??0,chainType:"ethereum",accessToken:en,requesterAppId:r5,request:{method:"eth_signTransaction",params:[n5]}})).response.data}({accessToken:Lt,entropyId:ut,entropyIdVerifier:at,transactingWalletIndex:Ye,walletProxy:O,transactionRequest:qt,requesterAppId:Mt});if(ge)return Ve(we,"signTransaction","onSuccess",{signature:wr}),wr;{let en=await xn.sendRawTransaction({serializedTransaction:wr});return Ve(we,"sendTransaction","onSuccess",{hash:en}),en}}catch(wr){throw Ve(we,bt,"onError",pe.TRANSACTION_FAILURE),wr}};if(Le({showWalletUIs:se==null?void 0:se.showWalletUIs})){let qt=ge||K?Ht:await S7(Ht,xn,Ht.from);try{let wr=await ac({transactionRequest:qt});ge?Ve(we,"signTransaction","onSuccess",{signature:wr}):Ve(we,"sendTransaction","onSuccess",{hash:wr}),$e({hash:wr})}catch(wr){Ve(we,bt,"onError",pe.TRANSACTION_FAILURE),je(wr)}}else{let qt={connectingWalletAddress:rn,recoveryMethod:_t.recoveryMethod,entropyId:ut,entropyIdVerifier:at,onCompleteNavigateTo:E8e,isUnifiedWallet:ii,onFailure:en=>{Ve(we,bt,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),je(en)}},wr=(en=>!!en.fundingConfig&&wEe(en.fundingConfig.options).length>=1)(B)?Voe({address:rn,appConfig:B,fundWalletConfig:re,methodScreen:sd,chainIdOverride:Ht.chainId,comingFromSendTransactionScreen:!0}):void 0;Y({connectWallet:qt,sendTransaction:{transactionRequest:Ht,transactingWalletIndex:Ye,transactingWalletAddress:rn,entropyId:ut,entropyIdVerifier:at,signOnly:ge,scanTransaction:async()=>{var Ir,Xs,lc,ul;let en=await S7(Ht,xn,Ht.from);return await e.scanTransaction({metadata:{domain:B.embeddedWallets.transactionScanning.domain},chain_id:en.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:en.from,to:en.to,value:(Ir=en.value)==null?void 0:Ir.toString(),gas:(Xs=en.gas)==null?void 0:Xs.toString(),gasPrice:(lc=en.gasPrice)==null?void 0:lc.toString(),nonce:(ul=en.nonce)==null?void 0:ul.toString(),data:en.data}]}})},getIsSponsored:async()=>!!K,onConfirm:({transactionRequest:en})=>ac({transactionRequest:en}),onSuccess:en=>{ge?Ve(we,"signTransaction","onSuccess",{signature:en.hash}):Ve(we,"sendTransaction","onSuccess",{hash:en.hash}),$e(en)},onFailure:en=>{Ve(we,bt,"onError",pe.TRANSACTION_FAILURE),je(en)},uiOptions:se||{},fundWalletConfig:re,requesterAppId:Mt},funding:wr}),Ce(q5)}});function Ke(){return new Promise(async(q,K)=>{let se=await mr();if(!se||!O)throw Error("Must have valid access token to enroll in MFA");try{await O.verifyMfa({accessToken:se}),q()}catch(re){K(re)}})}let et=q=>q==null?void 0:q.linkedAccounts.filter(K=>K.latestVerifiedAt!==null&&!(K.type==="wallet"&&K.walletClientType==="privy")).sort((K,se)=>se.latestVerifiedAt.getTime()-K.latestVerifiedAt.getTime())[0],Pe=q=>{let K=(h==null?void 0:h.linkedAccounts.filter(ae=>ae.type===q).length)??0,{displayName:se,loginMethod:re}=oN(q);if(q==="passkey"&&K>=5||q!=="passkey"&&K>=1)throw Ve(we,"linkAccount","onError",pe.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:re}),new ue(`User already has an account of type ${se} linked.`)};async function Tt({showAutomaticRecovery:q=!1,legacySetWalletPasswordFlow:K=!1}){A(null);let se=K?"setWalletPassword":"setWalletRecovery";if(!c||!h)throw Ve(we,se,"onError",pe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let re=bd(h);if(!re||!O)throw Ve(we,se,"onError",pe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ae=yl(re);if(ae)throw Ve(we,se,"onError",pe.UNSUPPORTED_WALLET_TYPE),new ue("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Ke()}catch(ge){throw Ve(we,se,"onError",pe.MISSING_MFA_CREDENTIALS),ge}return new Promise((ge,$e)=>{let je=re.recoveryMethod==="user-passcode",Mt=X4e({walletAction:"update",availableRecoveryMethods:B.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:K,isResettingPassword:je,showAutomaticRecovery:q}),{entropyId:bt,entropyIdVerifier:_t}=qu(h),rn={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,onCompleteNavigateTo:Mt,shouldForceMFA:!1,entropyId:bt,isUnifiedWallet:ae,entropyIdVerifier:_t,onFailure:Ye=>{Ve(we,se,"onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),$e(Ye)}};Y({setWalletPassword:{onSuccess:Ye=>{Ve(we,se,"onSuccess",{method:"user-passcode",wallet:Ye}),ge(Ye)},onFailure:Ye=>{Ve(we,se,"onError",pe.USER_EXITED_SET_PASSWORD_FLOW),$e(Ye)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:bt,entropyIdVerifier:_t,onFailure:$e},connectWallet:rn,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:je,shouldCreateEth:!1,shouldCreateSol:!1}}),Ce(q5)})}async function dn({appId:q,action:K}){let se=await mr();if(K==="link"&&!se)throw Ve(we,"linkAccount","onError",pe.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${q}`}),new ue("User must be authenticated before linking an account.");if(K==="login"&&se)throw Ve(we,"login","onError",pe.UNKNOWN_AUTH_ERROR),new ue("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Se.current=`privy:${q}`,ve.current=K;let re=J$();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:q}}),new Promise(async(ae,ge)=>{let{name:$e,logoUrl:je}=await NEe({api:e.api,providerAppId:q,requesterAppId:B.id});Y({crossAppAuth:{appId:q,name:$e,logoUrl:je,action:K,popup:re,onSuccess:ae,onError:ge}}),Ce(bjt)})}let Bt={ready:a,authenticated:c,user:h,walletConnectors:e.connectors||null,connectWallet:q=>{q&&"target"in q&&q&&(q=void 0),Y({externalConnectWallet:{walletList:q!=null&&q.walletList&&(q==null?void 0:q.walletList.length)>0?q.walletList:void 0,walletChainType:q==null?void 0:q.walletChainType,description:q==null?void 0:q.description}}),Ce(cU)},linkWallet:q=>{q&&"target"in q&&q&&(q=void 0),ie("siwe"),Se.current="siwe",ve.current="link",Y({...j,externalConnectWallet:{...j.externalConnectWallet,walletList:q==null?void 0:q.walletList,walletChainType:q==null?void 0:q.walletChainType,description:(q==null?void 0:q.description)||`Link a wallet to your ${B==null?void 0:B.name} account`}}),Ce(X9)},startCrossAppAuthFlow:dn,linkEmail:()=>{ie("email"),Pe("email"),Se.current="email",ve.current="link",Ce(jjt)},linkPhone:()=>{ie("sms"),Pe("phone"),Se.current="sms",ve.current="link",Ce(QG)},linkGoogle:async()=>{ie("google"),Pe("google_oauth"),ve.current="link",await ze.initLoginWithOAuth("google")},linkTwitter:async()=>{ie("twitter"),Pe("twitter_oauth"),ve.current="link",await ze.initLoginWithOAuth("twitter")},linkDiscord:async()=>{ie("discord"),Pe("discord_oauth"),ve.current="link",await ze.initLoginWithOAuth("discord")},linkGithub:async()=>{ie("github"),Pe("github_oauth"),ve.current="link",await ze.initLoginWithOAuth("github")},linkSpotify:async()=>{ie("spotify"),Pe("spotify_oauth"),ve.current="link",await ze.initLoginWithOAuth("spotify")},linkInstagram:async()=>{ie("instagram"),Pe("instagram_oauth"),ve.current="link",await ze.initLoginWithOAuth("instagram")},linkTiktok:async()=>{ie("tiktok"),Pe("tiktok_oauth"),ve.current="link",await ze.initLoginWithOAuth("tiktok")},linkLine:async()=>{ie("line"),Pe("line_oauth"),ve.current="link",await ze.initLoginWithOAuth("line")},linkLinkedIn:async()=>{ie("linkedin"),Pe("linkedin_oauth"),ve.current="link",await ze.initLoginWithOAuth("linkedin")},linkApple:async()=>{ie("apple"),Pe("apple_oauth"),ve.current="link",await ze.initLoginWithOAuth("apple")},linkPasskey:async()=>{ie("passkey"),Pe("passkey"),await ze.initLinkWithPasskey(),Ce(sjt)},linkTelegram:async q=>{if(ie("telegram"),Pe("telegram"),ve.current="link",Se.current="telegram",q==null?void 0:q.launchParams)if(q.launchParams.initDataRaw){let K=new U5;e.startAuthFlow(K),K.meta.telegramAuthResult=void 0,K.meta.telegramWebAppData=x6e(q.launchParams.initDataRaw),Y({telegramAuthModalData:{seamlessAuth:!0}}),Ce(e_)}else Ve(we,"linkAccount","onError",pe.INVALID_DATA,{linkMethod:"telegram"});else await ze.initLoginWithTelegram();Ce(e_)},linkFarcaster:async()=>{ie("farcaster"),Pe("farcaster"),await ze.initLoginWithFarcaster(),ve.current="link",Se.current="farcaster",Ce(uU)},updateEmail:()=>{if(ie("email"),!(h!=null&&h.email))throw new ue("User does not have an email linked to their account.");ve.current="update",Se.current="email",Ce(iOt)},updatePhone:()=>{if(ie("sms"),!(h!=null&&h.phone))throw new ue("User does not have a phone number linked to their account.");ve.current="update",Se.current="sms",Ce(oOt)},login:async q=>{q&&"target"in q&&q&&(q=void 0);let K="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!a){let se=await new Promise(re=>{Z(ae=>re.bind(ae))});if(Z(null),se)return void console.warn(K)}!h||h.isGuest?(ve.current="login",Y({login:q}),Ce(Do)):console.warn(K)},connectOrCreateWallet:async()=>{a||(await new Promise(q=>{Z(()=>q)}),Z(null)),c?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ve.current="connect-or-create",Ce(H4e))},logout:async()=>{if(ve.current=null,Se.current=null,h&&e.clearProviderAcccessTokens(h),A(null),await e.logout(),h&&O)try{await O.clearMfa({userId:h.id})}catch{}f(null),u(!1),Ve(we,"logout","onSuccess"),s(!1),Nt.del(VF),Nt.del(n6e(B.id))},getAccessToken:x.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async q=>{let K;return f(K=q.startsWith("0x")?await e.unlinkEthereumWallet(q):await e.unlinkSolanaWallet(q)),K},unlinkEmail:async q=>{let K=await e.unlinkEmail(q);return f(K),K},unlinkPhone:async q=>{let K=await e.unlinkPhone(q);return f(K),K},unlinkGoogle:async q=>{let K=await e.unlinkOAuth("google",q);return f(K),K},unlinkTwitter:async q=>{let K=await e.unlinkOAuth("twitter",q);return f(K),K},unlinkDiscord:async q=>{let K=await e.unlinkOAuth("discord",q);return f(K),K},unlinkGithub:async q=>{let K=await e.unlinkOAuth("github",q);return f(K),K},unlinkSpotify:async q=>{let K=await e.unlinkOAuth("spotify",q);return f(K),K},unlinkInstagram:async q=>{let K=await e.unlinkOAuth("instagram",q);return f(K),K},unlinkTiktok:async q=>{let K=await e.unlinkOAuth("tiktok",q);return f(K),K},unlinkLine:async q=>{let K=await e.unlinkOAuth("line",q);return f(K),K},unlinkLinkedIn:async q=>{let K=await e.unlinkOAuth("linkedin",q);return f(K),K},unlinkApple:async q=>{let K=await e.unlinkOAuth("apple",q);return f(K),K},unlinkFarcaster:async q=>{let K=await e.unlinkFarcaster(q);return f(K),K},unlinkTelegram:async q=>{let K=await e.unlinkTelegram(q);return f(K),K},unlinkPasskey:async q=>{let K=await mr();if(!K)throw Error("Must have valid access token to enroll in MFA");if(!O)throw Error("Wallet proxy not initialized.");let se=B.passkeys.shouldUnenrollMfaOnUnlink;await O.unlinkPasskeyAccount({credentialId:q,accessToken:K,removeAsMfa:se});let re=await e.getAuthenticatedUser();return f(re),re},unlinkCrossAppAccount:async({subject:q})=>{var re;let K=(re=h==null?void 0:h.linkedAccounts.find(ae=>ae.type==="cross_app"&&ae.subject===q))==null?void 0:re.providerApp;if(!K)throw new ue("Invalid subject");e.storeProviderAccessToken(K.id,null);let se=await e.unlinkOAuth(`privy:${K.id}`,q);return f(se),se},setWalletRecovery:async q=>Tt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(q==null?void 0:q.showAutomaticRecovery)??!1}),setWalletPassword:async()=>Tt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(q,K)=>new Promise(async(se,re)=>{var ut;let{requesterAppId:ae}=(K==null?void 0:K.uiOptions)||{},ge=q.message,$e=K!=null&&K.address?Bf(h,K.address):ph(h);if(!$e&&(K==null?void 0:K.address)!==void 0){let at=gj(p,K.address);if(at)try{let ct=await at.getEthereumProvider(),ht=await ct.request({method:"personal_sign",params:[ge,at.address]});return Ve(we,"signMessage","onSuccess",{signature:ht}),void se({signature:ht})}catch(ct){return Ve(we,"signMessage","onError",pe.UNABLE_TO_SIGN),void re(ct??new bo("Unable to sign message"))}}if(!$e)throw new ue("No embedded or connected wallet found for address.");if(!c||!h)return Ve(we,"signMessage","onError",pe.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let je=$e.address,Mt=$e.walletIndex??0,{entropyId:bt,entropyIdVerifier:_t}=qu(h,$e),rn=yl($e);if(typeof ge!="string"||ge.length<1)return Ve(we,"signMessage","onError",pe.INVALID_MESSAGE),void re(Error("Message must be a non-empty string"));let Ye=async()=>{let at;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let ct=await mr();if(!O||!ct||!await ze.recoverEmbeddedWallet({address:je}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:je,requesterAppId:ae}}),rn){let ht=No(q.message,{strict:!0}),an=await Vu(n,async({message:zn})=>await O.signWithUserSigner({accessToken:ct,requesterAppId:ae,message:zn}),{chain_type:"ethereum",method:"personal_sign",params:ht?{message:ge.slice(2),encoding:"hex"}:{message:ge,encoding:"utf-8"},wallet_id:$e.id});if(!an.data||!("signature"in an.data))throw new bo("Unable to sign message");at=an.data.signature}else{let{response:ht}=await O.rpc({accessToken:ct,entropyId:bt,entropyIdVerifier:_t,chainType:"ethereum",hdWalletIndex:Mt,requesterAppId:ae,request:{method:"personal_sign",params:[ge,je]}});at=ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:je,requesterAppId:ae}}),at};if(Le({showWalletUIs:(ut=K==null?void 0:K.uiOptions)==null?void 0:ut.showWalletUIs}))try{let at=await Ye();Ve(we,"signMessage","onSuccess",{signature:at}),se({signature:at})}catch(at){Ve(we,"signMessage","onError",pe.UNABLE_TO_SIGN),re(at??new bo("Unable to sign message"))}else Y({signMessage:{method:"personal_sign",data:ge,confirmAndSign:Ye,onSuccess:at=>{Ve(we,"signMessage","onSuccess",{signature:at}),se({signature:at})},onFailure:at=>{Ve(we,"signMessage","onError",pe.UNABLE_TO_SIGN),re(at)},uiOptions:(K==null?void 0:K.uiOptions)||{}},connectWallet:{recoveryMethod:$e.recoveryMethod,connectingWalletAddress:je,entropyId:bt,entropyIdVerifier:_t,onCompleteNavigateTo:doe,isUnifiedWallet:rn,onFailure:at=>{Ve(we,"signMessage","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),re(at)}}}),Ce(q5)}),signTypedData:(q,K)=>new Promise(async(se,re)=>{var ut;let{requesterAppId:ae}=(K==null?void 0:K.uiOptions)||{},ge=K!=null&&K.address?Bf(h,K.address):ph(h);if(!ge&&(K!=null&&K.address)){let at=gj(p,K.address);if(at)try{let ct=await at.getEthereumProvider(),ht=K9(q),an=await ct.request({method:"eth_signTypedData_v4",params:[at.address,ht]});return Ve(we,"signTypedData","onSuccess",{signature:an}),void se({signature:an})}catch(ct){return Ve(we,"signTypedData","onError",pe.UNABLE_TO_SIGN),void re(ct??new bo("Unable to sign typed data "+ct))}}if(!ge)throw new ue("No embedded or connected wallet found for address.");if(!c||!h)return Ve(we,"signTypedData","onError",pe.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let $e=ge.address,je=ge.walletIndex??0,{entropyId:Mt,entropyIdVerifier:bt}=qu(h,ge),_t=yl(ge),rn=K9(q),Ye=async()=>{let at;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let ct=await mr();if(!O||!ct||!await ze.recoverEmbeddedWallet({address:$e}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:$e,requesterAppId:ae}}),_t){let{domain:ht,types:an,primaryType:zn,message:Ht}=rn,Lt=await Vu(n,async({message:xn})=>await O.signWithUserSigner({accessToken:ct,requesterAppId:ae,message:xn}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:ht,types:an,primary_type:zn,message:Ht}},wallet_id:ge.id});if(!Lt.data||!("signature"in Lt.data))throw new bo("Unable to sign message");at=Lt.data.signature}else{let{response:ht}=await O.rpc({accessToken:ct,entropyId:Mt,entropyIdVerifier:bt,chainType:"ethereum",hdWalletIndex:je,requesterAppId:ae,request:{method:"eth_signTypedData_v4",params:[$e,rn]}});at=ht.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:$e,requesterAppId:ae}}),at};if(Le({showWalletUIs:(ut=K==null?void 0:K.uiOptions)==null?void 0:ut.showWalletUIs}))try{let at=await Ye();Ve(we,"signTypedData","onSuccess",{signature:at}),se({signature:at})}catch(at){Ve(we,"signTypedData","onError",pe.UNABLE_TO_SIGN),re(at??new bo("Unable to sign message"))}else Y({signMessage:{method:"eth_signTypedData_v4",data:rn,confirmAndSign:Ye,onSuccess:at=>{Ve(we,"signTypedData","onSuccess",{signature:at}),se({signature:at})},onFailure:at=>{Ve(we,"signTypedData","onError",pe.UNABLE_TO_SIGN),re(at)},uiOptions:(K==null?void 0:K.uiOptions)||{}},connectWallet:{recoveryMethod:ge.recoveryMethod,connectingWalletAddress:ge.address,entropyId:Mt,isUnifiedWallet:_t,entropyIdVerifier:bt,onCompleteNavigateTo:doe,onFailure:at=>{Ve(we,"signMessage","onError",pe.UNKNOWN_CONNECT_WALLET_ERROR),re(at)}}}),Ce(q5)}),sendTransaction:async(q,K)=>await Xe({transaction:q,sponsor:K==null?void 0:K.sponsor,uiOptions:K==null?void 0:K.uiOptions,fundWalletConfig:K==null?void 0:K.fundWalletConfig,address:K==null?void 0:K.address,signOnly:!1}),signTransaction:async(q,K)=>({signature:(await Xe({transaction:q,uiOptions:K==null?void 0:K.uiOptions,address:K==null?void 0:K.address,signOnly:!0})).hash}),exportWallet:q=>new Promise(async(K,se)=>{if(!c||!h)return void se(Error("User must be authenticated before exporting their Privy wallet"));q&&"target"in q&&q&&(q=void 0);let re=q!=null&&q.address?Bf(h,q.address):ph(h);if(!re)return void se(new ue("User must have an embedded wallet."));let ae=re.address,{entropyId:ge,entropyIdVerifier:$e}=qu(h,re),je=yl(re);if(!ae)return void se(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Xa(ae))return void se(Error("Must provide a valid Ethereum address."));let Mt={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,isUnifiedWallet:je,entropyId:ge,entropyIdVerifier:$e,onCompleteNavigateTo:C8e,onFailure:se,shouldForceMFA:!0};Y(j),await mr()&&O?O?oE(re)?(Y({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:re.address,entropyId:ge,entropyIdVerifier:$e,hdWalletIndex:re.walletIndex,chainType:re.chainType,walletId:re.id,isUnifiedWallet:je,imported:re.imported,onSuccess:K,onFailure:se},connectWallet:Mt}),Ce(q5)):se(Error(`Export is not supported for ${re.chainType} wallets`)):se(Error("Must have a Privy wallet before exporting")):se(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Ke,async init(q){switch(q){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${q}`)}},async submit(q,K){var se,re,ae;switch(q){case"totp":case"sms":if(typeof K!="string")throw new ue("Invalid MFA code");(se=fe.current)==null||se.resolve({mfaMethod:q,mfaCode:K,relyingParty:window.origin}),await new Promise((je,Mt)=>{ke.current={resolve:je,reject:Mt}});break;case"passkey":if(typeof K=="string")throw new ue("Invalid authenticator response");let ge=await Nh(()=>import("./index-CFBQExMV.js"),[]),$e=yjt(await ge.startAuthentication(K));(re=fe.current)==null||re.resolve({mfaMethod:q,mfaCode:$e,relyingParty:window.origin}),await new Promise((je,Mt)=>{ke.current={resolve:je,reject:Mt}});break;default:throw(ae=fe.current)==null||ae.reject(new ue("Unsupported MFA method")),new ue(`Unsupported MFA method: ${q}`)}},cancel(){var q;(q=fe.current)==null||q.reject(new ue("MFA canceled"))},async initEnrollmentWithSms(q){let K=await mr();if(!K||!O)throw Error("Must have valid access token to enroll in MFA");await O.initEnrollMfa({method:"sms",accessToken:K,phoneNumber:q.phoneNumber})},enrollInMfa:q=>new Promise((K,se)=>{if(!q)return ze.closePrivyModal(),void K();B.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Y({mfaEnrollmentFlow:{mfaMethods:B.mfa.methods,shouldUnlinkOnUnenrollMfa:B.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:K,onFailure:se}}),Ce(Jjt)}),async initEnrollmentWithTotp(){let q=await mr();if(!q||!O)throw Error("Must have valid access token to enroll in MFA");let K=await O.initEnrollMfa({method:"totp",accessToken:q});return{secret:K.secret,authUrl:K.authUrl}},async submitEnrollmentWithSms(q){let K=await mr();if(!K||!O)throw Error("Must have valid access token to enroll in MFA");await O.submitEnrollMfa({method:"sms",accessToken:K,phoneNumber:q.phoneNumber,code:q.mfaCode}),f(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(q){let K=await mr();if(!K||!O)throw Error("Must have valid access token to enroll in MFA");await O.submitEnrollMfa({method:"totp",accessToken:K,code:q.mfaCode}),f(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:q},K={}){let se=await mr();if(!se||!O)throw Error("Must have valid access token to enroll in MFA");await O.submitEnrollMfa({method:"passkey",accessToken:se,credentialIds:q,removeForLogin:K.removeForLogin}),f(await e.getAuthenticatedUser())},async unenroll(q,K={}){let se=await mr();if(!se||!O)throw Error("Must have valid access token to remove MFA");q==="passkey"?await O.submitEnrollMfa({method:"passkey",accessToken:se,credentialIds:[],removeForLogin:K.removeForLogin}):await O.unenrollMfa({method:q,accessToken:se}),f(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var re;let q=await mr(),K=h==null?void 0:h.linkedAccounts.find(ae=>ae.type==="wallet"&&ae.walletClientType==="privy");if(!q)throw Error("Must have valid access token to connect with Farcaster");if(!O||!K)throw Error("Must have an embedded wallet to use Farcaster signers");if(yl(K))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=h==null?void 0:h.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await ze.recoverEmbeddedWallet({address:K.address}))throw Error("Unable to connect to wallet");let se=await O.initFarcasterSigner({address:K.address,hdWalletIndex:null,accessToken:q,mfaCode:null,mfaMethod:null,relyingParty:window.origin});se.status==="approved"&&f(await e.getAuthenticatedUser()||h||null),Y({farcasterSigner:se}),Ce(Njt)},getFarcasterSignerPublicKey:async()=>{var re,ae;let q,K=await mr(),se=h==null?void 0:h.linkedAccounts.find(ge=>ge.type==="wallet"&&ge.walletClientType==="privy");if(!K)throw Error("Must have valid access token to connect with Farcaster");if(!O||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(yl(se))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=h==null?void 0:h.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await ze.recoverEmbeddedWallet({address:se.address}))throw Error("Unable to connect to wallet");if(!((ae=h.farcaster)!=null&&ae.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return q=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(q.match(/.{1,2}/g).map(ge=>parseInt(ge,16)))},signFarcasterMessage:async q=>{var ge,$e;let K=await mr(),se=h==null?void 0:h.linkedAccounts.find(je=>je.type==="wallet"&&je.walletClientType==="privy");if(!K)throw Error("Must have valid access token to connect with Farcaster");if(!O||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(yl(se))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((ge=h==null?void 0:h.farcaster)!=null&&ge.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await ze.recoverEmbeddedWallet({address:se.address}))throw Error("Unable to connect to wallet");if(!(($e=h.farcaster)!=null&&$e.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let re=await Nh(()=>import("./index-CFBQExMV.js"),[]),ae=await O.signFarcasterMessage({address:se.address,hdWalletIndex:null,accessToken:K,mfaCode:null,mfaMethod:null,payload:{hash:re.bufferToBase64URLString(q)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(re.base64URLStringToBuffer(ae.signature))},signMessageWithCrossAppWallet(q,{address:K,chainId:se}){let re=h==null?void 0:h.linkedAccounts.some(ae=>ae.type==="cross_app"&&ae.smartWallets.some(ge=>ge.address===K));return Fk({user:h,client:e,address:K,requesterAppId:B.id,request:{method:re?"privy_signSmartWalletMessage":"personal_sign",params:[q,K],chainId:se},reconnect:dn})},signTypedDataWithCrossAppWallet(q,{address:K,chainId:se}){let re=h==null?void 0:h.linkedAccounts.some(ge=>ge.type==="cross_app"&&ge.smartWallets.some($e=>$e.address===K)),ae=K9(q);return Fk({user:h,client:e,address:K,requesterAppId:B.id,request:{method:re?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[K,ae],chainId:se},reconnect:dn})},sendTransactionWithCrossAppWallet(q,{address:K}){let se=h==null?void 0:h.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(ae=>ae.address===K));return Fk({user:h,client:e,address:K,requesterAppId:B.id,request:{method:se?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[q],chainId:q.chainId},reconnect:dn})},signTransactionWithCrossAppWallet(q,{address:K}){let se=h==null?void 0:h.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(ae=>ae.address===K));return Fk({user:h,client:e,address:K,requesterAppId:B.id,request:{method:se?"privy_signSmartWalletTx":"eth_signTransaction",params:[q],chainId:q.chainId},reconnect:dn})},isModalOpen:i||!!o,mfaMethods:B.mfa.methods};MEe=Bt.signMessage,DEe=Bt.signTypedData,LEe=async(q,K)=>await Xe({transaction:q,...K,signOnly:!1}),BEe=async(q,K)=>({signature:(await Xe({transaction:q,...K,signOnly:!0})).hash});let ze={privy:n,setAuthenticated:u,setUser:f,setIsNewUser:v,isNewUserThisSession:w,pendingTransaction:null,walletConnectionStatus:N,setWalletConnectionStatus:R,connectors:((Qt=e.connectors)==null?void 0:Qt.walletConnectors)??[],rpcConfig:B.rpcConfig,chains:B.chains,appId:t.appId,showFiatPrices:B.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:De,hideWalletUIs:Oe,isHeadlessSigning:x.useCallback(Le,[B.embeddedWallets.showWalletUIs]),emailOtpState:W,setEmailOtpState:H,smsOtpState:L,setSmsOtpState:k,oAuthState:T,setOAuthState:S,telegramAuthState:P,setTelegramAuthState:D,siweState:C,setSiweState:_,isHeadlessOAuthLoading:E,baseAccountSdk:g,setBaseAccountSdk:y,nativeTokenSymbolForChainId:q=>{var K;return(K=B.chains.find(se=>se.id===Number(q)))==null?void 0:K.nativeCurrency.symbol},initializeWalletProxy:async q=>{if(O)return O;let K=new Promise(ae=>{oe.current=ae}),se=new Promise(ae=>setTimeout(()=>ae(null),q)),re=await Promise.race([K,se]);return oe.current=null,re},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var q;return(q=e.authFlow)==null?void 0:q.meta},client:e,closePrivyModal:async(q={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let K,se=a&&c&&h;se&&Se.current&&(K=et(h)),ve.current==="login"?q.shouldCallAuthOnSuccess&&se&&Se.current?Ve(we,"login","onComplete",{user:h,isNewUser:w,wasAlreadyAuthenticated:!1,loginMethod:Se.current,loginAccount:K??null}):Ve(we,"login","onError",pe.USER_EXITED_AUTH_FLOW):ve.current==="link"&&K?q.isSuccess&&se&&Se.current?Ve(we,"linkAccount","onSuccess",{user:h,linkMethod:Se.current,linkedAccount:K}):Se.current&&Ve(we,"linkAccount","onError",pe.USER_EXITED_LINK_FLOW,{linkMethod:Se.current}):ve.current==="update"&&K?q.isSuccess&&se&&Se.current?Ve(we,"update","onSuccess",{user:h,updateMethod:Se.current,updatedAccount:K}):Se.current&&Ve(we,"update","onError",pe.USER_EXITED_UPDATE_FLOW,{linkMethod:Se.current}):ve.current==="connect-or-create"&&(p[0]?Ve(we,"connectOrCreateWallet","onSuccess",{wallet:p[0]}):Ve(we,"connectOrCreateWallet","onError",pe.USER_EXITED_AUTH_FLOW));let re=b&&WO.has(b),ae=b===Gr&&j.errorModalData&&WO.has(j.errorModalData.previousScreen);if((re||ae)&&j.funding){let ge,$e=WO.get(b)??null;if(j.funding.chainType==="solana"){let je=B.solanaRpcs[j.funding.chain];if(!je)return void console.warn("Unable to load solana rpc, skipping balance");if(r(gU))try{ge=await $G({rpc:je.rpc,address:j.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ve(we,"fundSolanaWallet","onUserExited",{address:j.funding.address,fundingMethod:$e,chain:j.funding.chain,balance:ge})}else{let je=Fx(j.funding.chain.id,B.chains,B.rpcConfig,{appId:t.appId});try{ge=await je.getBalance({address:j.funding.address})}catch{console.error("Unable to pull wallet balance")}Ve(we,"fundWallet","onUserExited",{address:j.funding.address,chain:j.funding.chain,fundingMethod:$e,balance:ge})}}Y(ge=>({...ge,externalConnectWallet:{}})),ve.current=null,Se.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:Ce,connectWallet:U,initLoginWithWallet:async(q,K,se,re)=>{Q0(q)?(Se.current="siwe",z(q,K,se)):(Se.current="siws",X(q,K,se,re))},loginWithWallet:async()=>{let q,K,se;if(!a)throw new Lg;if(e.authFlow instanceof qv?q="siwe":e.authFlow instanceof A7&&(q="siws"),!q)throw new ue("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:K}=await e.link()),Se.current=q}catch(re){throw Ve(we,"linkAccount","onError",re.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),re}else try{({user:K,isNewUser:se}=await e.authenticate()),Se.current=q}catch(re){throw Ve(we,"login","onError",re.privyErrorCode||pe.GENERIC_CONNECT_WALLET_ERROR),re}f(K||h||null),v(se||!1),u(!0)},delegateWallet:async({address:q,chainType:K,showDelegationUIs:se})=>new Promise(async(re,ae)=>{let ge=await mr();if(!c||!h||!ge)throw new ue("User must be authenticated and have an embedded wallet to delegate actions.");if(K!=="solana"&&K!=="ethereum")throw new ue("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let $e=ze.walletProxy??await ze.initializeWalletProxy(15e3);if(!$e)throw new ue("Wallet proxy not initialized.");if((({address:rn,user:Ye})=>!!oae(Ye).find(ut=>ut.address===rn))({address:q,user:h}))return re();let je=Bf(h,q);if(!je)throw new ue("Address to delegate is not associated with current user.");if(yl(je))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Mt=ZRt({address:q,user:h}),bt=JRt({address:q,user:h}),_t=async()=>{await $e.createDelegatedAction({accessToken:ge,rootWallet:bt,delegatedWallets:[Mt]}),await ze.refreshSessionAndUser()};if(await ze.recoverEmbeddedWallet({address:q}),se)Y({delegatedActions:{consent:{address:q,onDelegate:_t,onSuccess:async()=>{re()},onError:async rn=>{ae(rn)}}}}),Ce(xjt);else try{await _t(),re()}catch(rn){ae(rn)}}),revokeDelegatedWallets:async({showDelegationUIs:q})=>new Promise(async(K,se)=>{if(!c||!h)throw new ue("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let re=oae(h);if(re.length===0)throw new ue("User has no delegated wallets to revoke.");if(re.some(yl))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ae=async()=>{await e.revokeDelegatedWallet(),await ze.refreshSessionAndUser()};if(q)Y({delegatedActions:{revoke:{onRevoke:ae,onSuccess:async()=>{K()},onError:async ge=>{se(ge)}}}}),Ce(Ajt);else try{await ae(),K()}catch(ge){se(ge)}}),initLoginWithFarcaster:async(q,K)=>{let se=new Koe(q,K);e.startAuthFlow(se);try{Se.current="farcaster",await se.initializeFarcasterConnect()}catch(re){throw ve.current==="login"?Ve(we,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):ve.current==="link"&&Ve(we,"linkAccount","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),re}},loginWithFarcaster:async()=>{let q,K;if(!a)throw new Lg;if(!(e.authFlow instanceof Koe))throw new ue("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:q}=await e.link()),Se.current="farcaster"}catch(se){throw Ve(we,"linkAccount","onError",se.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),se}else try{({user:q,isNewUser:K}=await e.authenticate()),Se.current="farcaster"}catch(se){throw Ve(we,"login","onError",se.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),se}f(q||null),v(K||!1),u(!0)},async crossAppAuthFlow({appId:q,popup:K,action:se}){let re=`privy:${q}`;Se.current=re;let{url:ae,stateCode:ge,codeVerifier:$e}=await async function({api:je,appId:Mt}){let bt=W$(),_t=iG(),rn=await sG(bt);try{let{url:Ye}=await je.post(Kwe,{provider:`privy:${Mt}`,redirect_to:window.location.href,code_challenge:rn,state_code:_t});return{url:Ye,stateCode:_t,codeVerifier:bt}}catch(Ye){throw Nn(Ye)}}({api:e.api,appId:q});if(!ae)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:q}}),new ue("No authorization URL returned for cross-app auth.");try{let je=await async function({url:Ye,popup:ut}){return ut.location=Ye,new Promise((at,ct)=>{let ht,an=setTimeout(()=>{ct(new ue("Authorization request timed out after 2 minutes.")),zn()},12e4);function zn(){ut==null||ut.close(),window.removeEventListener("message",Lt)}let Ht=setInterval(()=>{ut!=null&&ut.closed&&!ht&&(zn(),clearInterval(Ht),clearTimeout(an),ct(new ue("User rejected request")))},300);function Lt(xn){xn.data&&(xn.data.type==="PRIVY_OAUTH_RESPONSE"&&xn.data.stateCode&&xn.data.authorizationCode&&(clearTimeout(an),at(xn.data),zn()),xn.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(an),ct(new ue(xn.data.error)),zn()),xn.data.type===lae&&((ht=new BroadcastChannel(aae)).onmessage=Lt))}window.addEventListener("message",Lt)})}({url:ae,popup:K,provider:re}),Mt=je.stateCode,bt=je.authorizationCode;if(Mt!==ge)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:re,storedStateCode:ge??"",returnedStateCode:Mt??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);let _t=await async function({appId:Ye,stateCode:ut,codeVerifier:at,authorizationCode:ct,action:ht,client:an}){var zn;if(!ct||!ut)throw new ue("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(ct==="undefined")throw new ue("User denied confirmation during cross-app auth flow");try{let Ht=new ejt({authorizationCode:ct,stateCode:ut,codeVerifier:at,provider:`privy:${Ye}`});an.startAuthFlow(Ht);let Lt=ht==="link"?await an.link():await an.authenticate(),xn=(zn=Lt.oAuthTokens)==null?void 0:zn.accessToken;return console.debug(),xn}catch(Ht){let Lt=Nn(Ht);throw Lt.privyErrorCode===pe.ACCOUNT_TRANSFER_REQUIRED?Lt:Lt.privyErrorCode?new ue(Lt.message||"Invalid code during cross-app auth flow.",void 0,Lt.privyErrorCode):Lt.message==="User denied confirmation during cross-app auth flow"?new ue("Invalid code during cross-app auth flow.",void 0,pe.OAUTH_USER_DENIED):new ue("Invalid code during cross-app auth flow.",void 0,pe.UNKNOWN_AUTH_ERROR)}}({appId:q,codeVerifier:$e,stateCode:Mt,authorizationCode:bt,action:se,client:e});_t&&e.storeProviderAccessToken(q,_t);let rn=await ze.refreshSessionAndUser();if(!rn)throw new ue("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:q}}),rn}catch(je){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:je.toString(),provider:re}}),je}},async initLoginWithOAuth(q,K,se){if(Se.current=q,!WF()||q==="google"&&dU(window.navigator.userAgent))return void Ce(dae);q==="twitter"&&window.opener&&window.opener.postMessage({type:lae},"*"),Nt.del(E7),Nt.del(c4);let re=new Ob({provider:q,disableSignup:!!se,withPrivyUi:!0,customOAuthRedirectUrl:B.customOAuthRedirectUrl});K&&re.addCaptchaToken(K),e.startAuthFlow(re);let ae=await e.authFlow.getAuthorizationUrl();if(ae&&ae.url)if(q==="twitter"&&sLe&&(ae.url=ae.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&SU())try{let{privyOAuthCode:ge,privyOAuthState:$e}=await Yoe(ae.url);Ce(fae),re.meta.stateCode=$e,re.meta.authorizationCode=ge}catch(ge){throw console.error("OAuth in chrome extension flow failed:",ge),ge}else window.location.assign(ae.url)},async initLoginWithTelegram(q,K){if(!a)throw new Lg;Se.current="telegram";let se=new U5(q,K);e.startAuthFlow(se),D({status:"loading"}),se.meta.telegramWebAppData=void 0,se.meta.telegramAuthResult=await new Promise((re,ae)=>B.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:B.loginConfig.telegramAuthConfiguration.botId,request_access:!0},ge=>ge?re(ge):ae(new ue("Telegram auth failed or was canceled by the client"))):ae(new ue("Telegram was not initialized")):ae(new ue("Telegram Auth configuration is not loaded")))},async loginWithTelegram(q){var $e;let K,se;if(!(e.authFlow instanceof U5))throw new ue("Must initialize Telegram flow before calling loginWithTelegram");($e=e.authFlow.meta).captchaToken||($e.captchaToken=q==null?void 0:q.captchaToken);let re=await mr(),ae=(q==null?void 0:q.intent)||ve.current;if(ae==="login")try{let je=await e.authenticate();K=je.user,se=je.isNewUser,Se.current="telegram"}catch(je){throw Ve(we,"login","onError",je.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),je}else{if(ae!=="link")throw new ue("Unknown auth intent");try{K=(await e.link()).user,Se.current="telegram"}catch(je){throw Ve(we,"linkAccount","onError",je.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),je}}f(K),v(se||!1),u(!0),D({status:"done"});let ge=(K==null?void 0:K.linkedAccounts.find(({type:je})=>je==="telegram"))||null;return{user:K,isNewUser:se||!1,wasAlreadyAuthenticated:!!re,loginAccount:ge}},async loginWithOAuth(q){let K,se,re;if(!(e.authFlow instanceof Ob))throw new ue("Must initialize OAuth flow before calling loginWithOAuth");let ae=Nt.get(x7),ge=e.authFlow.meta.stateCode;if(ae!==ge)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:q,storedStateCode:ae??"",returnedStateCode:ge??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let $e=await e.link();K=$e.user,re=$e.oAuthTokens,Se.current=q}catch($e){throw Ve(we,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),$e}else try{let $e=await e.authenticate();K=$e.user,se=$e.isNewUser,re=$e.oAuthTokens,Se.current=q}catch($e){throw ve.current==="login"?Ve(we,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):ve.current==="link"&&Ve(we,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q}),$e}return f(K),v(se||!1),u(!0),re&&K&&Ve(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:K}),re},passkeyAuthState:M,setPasskeyAuthState:F,async initSignupWithPasskey({captchaToken:q,withPrivyUi:K}){let se=new kb({captchaToken:q,setPasskeyAuthState:F});e.startAuthFlow(se),ve.current="login";try{Se.current="passkey",F({status:"generating-challenge"}),await se.initRegisterFlow(K),F({status:"awaiting-passkey"})}catch(re){throw F({status:"error",error:re}),Ve(we,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),re}},async signupWithPasskey(){let q,K;if(!a)throw new Lg;if(!(e.authFlow instanceof kb))throw new ue("Must initialize Passkey flow first.");if(Se.current!=="passkey"){let ae=new ue("Must init login with Passkey flow first.");throw F({status:"error",error:ae}),ae}let se=await mr();try{Se.current="passkey",F({status:"awaiting-passkey"}),{user:q,isNewUser:K}=await e.authenticate()}catch(ae){throw F({status:"error",error:ae}),Ve(we,"login","onError",ae.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),ae}f(q),v(K||!1),u(!0),F({status:"done"});let re=(q==null?void 0:q.linkedAccounts.find(({type:ae})=>ae==="passkey"))||null;return{user:q,isNewUser:K||!1,wasAlreadyAuthenticated:!!se,loginAccount:re}},async initLoginWithPasskey({captchaToken:q,withPrivyUi:K}){let se=new kb({captchaToken:q,setPasskeyAuthState:F});e.startAuthFlow(se),ve.current="login";try{Se.current="passkey",F({status:"generating-challenge"}),await se.initAuthenticationFlow(K),F({status:"awaiting-passkey"})}catch(re){throw F({status:"error",error:re}),Ve(we,"login","onError",re.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),re}},async loginWithPasskey(q){let K,se;if(!a)throw new Lg;if(!(e.authFlow instanceof kb))throw new ue("Must initialize Passkey flow first.");if(q!=null&&q.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=q.credentialIds),Se.current!=="passkey"){let ge=new ue("Must init login with Passkey flow first.");throw F({status:"error",error:ge}),ge}let re=await mr();try{Se.current="passkey",F({status:"awaiting-passkey"}),{user:K,isNewUser:se}=await e.authenticate()}catch(ge){throw F({status:"error",error:ge}),Ve(we,"login","onError",ge.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),ge}f(K),v(se||!1),u(!0),F({status:"done"});let ae=(K==null?void 0:K.linkedAccounts.find(({type:ge})=>ge==="passkey"))||null;return{user:K,isNewUser:se||!1,wasAlreadyAuthenticated:!!re,loginAccount:ae}},async initLinkWithPasskey(q){let K=new kb({captchaToken:q});e.startAuthFlow(K),ve.current="link",Se.current="passkey",F({status:"generating-challenge"});try{await K.initLinkFlow(),F({status:"awaiting-passkey"})}catch(se){throw Ve(we,"linkAccount","onError",se.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),F({status:"error",error:se}),se}},async linkWithPasskey(){let q;if(!a)throw new Lg;if(!(e.authFlow instanceof kb))throw new ue("Must initialize Passkey flow first.");if(Se.current!=="passkey")throw new ue("Must init login with Passkey flow first.");try{Se.current="passkey",{user:q}=await e.link()}catch(K){throw Ve(we,"linkAccount","onError",K.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),K}return f(q||h||null),F({status:"done"}),q},async initLoginWithHeadlessOAuth(q,K,se){if(!WF()||q==="google"&&dU(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let re=new Ob({provider:q,withPrivyUi:!1,disableSignup:se??!1,customOAuthRedirectUrl:B.customOAuthRedirectUrl});K&&re.addCaptchaToken(K),S({status:"loading"});let ae=await e.startAuthFlow(re).getAuthorizationUrl();if(ae!=null&&ae.url)if(window.location.protocol==="chrome-extension:"&&SU())try{let{privyOAuthCode:ge,privyOAuthState:$e}=await Yoe(ae.url);re.meta.stateCode=$e,re.meta.authorizationCode=ge,await this.loginWithHeadlessOAuth(re.meta)}catch(ge){throw S({status:"error",error:ge}),ge}else window.location.assign(ae.url)},async loginWithHeadlessOAuth(q){let K,se,re;$(!0),S({status:"loading"}),e.startAuthFlow(new Ob({...q,customOAuthRedirectUrl:B.customOAuthRedirectUrl}));let ae=Nt.get(x7),ge=q.stateCode;if(ae!==ge)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:q.provider,storedStateCode:ae??"",returnedStateCode:ge??""}}),$(!1),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,pe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:K,oAuthTokens:re}=await e.link()),Se.current=q.provider;let $e=et(K);K&&$e&&Ve(we,"linkAccount","onSuccess",{user:K,linkMethod:Se.current,linkedAccount:$e})}catch($e){throw $(!1),Ve(we,"linkAccount","onError",$e.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:q.provider}),$e}else try{({user:K,isNewUser:se,oAuthTokens:re}=await e.authenticate()),Se.current=q.provider;let $e=et(K);K&&$e&&se!==void 0&&Ve(we,"login","onComplete",{user:K,isNewUser:se,wasAlreadyAuthenticated:!1,loginMethod:Se.current,loginAccount:$e})}catch($e){throw $(!1),S({status:"error",error:$e}),Ve(we,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),$e}return f(K),v(se||!1),u(!0),$(!1),S({status:"done"}),re&&K&&Ve(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:K}),K??void 0},initLoginWithEmail:async({email:q,captchaToken:K,disableSignup:se,withPrivyUi:re})=>{let ae=new yv({email:q,captchaToken:K,disableSignup:se});e.startAuthFlow(ae);try{Se.current="email",H({status:"sending-code"}),await ae.sendCodeEmail({withPrivyUi:re}),H({status:"awaiting-code-input"})}catch(ge){throw H({status:"error",error:ge}),ve.current==="login"?Ve(we,"login","onError",ge.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):ve.current==="link"&&Ve(we,"linkAccount","onError",ge.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),ge}},initUpdateEmail:async({oldAddress:q,newAddress:K,captchaToken:se})=>{let re=new sRt(q,K,se);e.startAuthFlow(re);try{await re.sendCodeEmail({withPrivyUi:!0})}catch(ae){Ve(we,"update","onError",ae.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:Se.current})}},initUpdatePhone:async(q,K,se)=>{let re=new lRt(q,K,se);e.startAuthFlow(re);try{await re.sendSmsCode({withPrivyUi:!0})}catch(ae){Ve(we,"update","onError",ae.privyErrorCode||pe.UNKNOWN_AUTH_ERROR,{linkMethod:Se.current})}},initLoginWithSms:async({phoneNumber:q,captchaToken:K,disableSignup:se,withPrivyUi:re})=>{k({status:"sending-code"});let ae=new wv({phoneNumber:q,captchaToken:K,disableSignup:se});e.startAuthFlow(ae);try{Se.current="sms",await ae.sendSmsCode({withPrivyUi:re}),k({status:"awaiting-code-input"})}catch(ge){throw k({status:"error",error:ge}),ve.current==="login"?Ve(we,"login","onError",ge.privyErrorCode||pe.UNKNOWN_AUTH_ERROR):ve.current==="link"&&Ve(we,"linkAccount","onError",ge.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),ge}},resendEmailCode:async()=>{var q;await((q=e.authFlow)==null?void 0:q.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var q;await((q=e.authFlow)==null?void 0:q.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async q=>{let K,se;function re(je){e.authFlow instanceof yv?H(je):e.authFlow instanceof wv&&k(je)}if(re({status:"submitting-code"}),!a){let je=new Lg;throw re({status:"error",error:je}),je}if(e.authFlow instanceof yv)e.authFlow.meta.emailCode=q.trim();else{if(!(e.authFlow instanceof wv)){let je=new ue("Must initialize a passwordless code flow first");throw re({status:"error",error:je}),je}e.authFlow.meta.smsCode=q.trim()}let ae=await mr();if(ve.current==="link")try{({user:K}=await e.link())}catch(je){throw re({status:"error",error:je}),Ve(we,"linkAccount","onError",je.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Se.current}),je}else if(ve.current==="update")try{({user:K}=await e.link())}catch(je){throw re({status:"error",error:je}),Ve(we,"update","onError",je.privyErrorCode||pe.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Se.current}),je}else try{({user:K,isNewUser:se}=await e.authenticate())}catch(je){throw re({status:"error",error:je}),Ve(we,"login","onError",je.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),je}let ge=K||h;f(ge||null),v(se||!1),u(!0),re({status:"done"});let $e=null;return e.authFlow instanceof yv?$e=(ge==null?void 0:ge.linkedAccounts.find(({type:je})=>je==="email"))||null:e.authFlow instanceof wv&&($e=(ge==null?void 0:ge.linkedAccounts.find(({type:je})=>je==="phone"))||null),{user:ge,isNewUser:se||!1,wasAlreadyAuthenticated:!!ae,linkedAccount:$e}},generateSiweMessage:async({address:q,chainId:K,captchaToken:se})=>{ve.current=c?"link":"login",Se.current="siwe",_({status:"generating-message"});let re=await e.generateSiweNonce({address:q,captchaToken:se});return _({status:"awaiting-signature"}),KF({address:q,chainId:K.replace("eip155:",""),nonce:re})},generateSiweMessageForSmartWallet:async({address:q,chainId:K})=>{let se=await e.generateSiweNonce({address:q});return KF({address:q,chainId:K.replace("eip155:",""),nonce:se})},linkSmartWallet:async({message:q,signature:K,smartWalletType:se,smartWalletVersion:re})=>{let ae;ae=await e.linkSmartWallet({message:q,signature:K,smartWalletType:se,smartWalletVersion:re}),f((ae=await ze.refreshSessionAndUser()??ae)||h||null)},loginWithSiwe:async({message:q,signature:K,captchaToken:se,disableSignup:re})=>{let ae,ge=null;try{if(h)throw Error("User already authenticated");let $e=new qv(e,void 0,se,re,{message:q,signature:K});if(e.startAuthFlow($e),Se.current="siwe",ve.current="login",_({status:"submitting-signature"}),{user:ge,isNewUser:ae}=await e.authenticate(),!ge)throw Error("Authentication failed - no user returned")}catch($e){throw Ve(we,"login","onError",$e.privyErrorCode||pe.UNKNOWN_AUTH_ERROR),_({status:"error",error:$e}),$e}return f(ge),v(ae||!1),u(!0),_({status:"done"}),ve.current=null,Se.current=null,ge},linkWithSiwe:async({message:q,signature:K,chainId:se,walletClientType:re,connectorType:ae})=>{let ge;ie("siwe");let $e=null;try{_({status:"submitting-signature"}),ge=await e.linkWithSiwe({message:q,signature:K,chainId:se,walletClientType:re,connectorType:ae}),ge=await ze.refreshSessionAndUser()??ge,_({status:"done"}),($e=et(ge)||null)&&Ve(we,"linkAccount","onSuccess",{user:ge,linkMethod:"siwe",linkedAccount:$e})}catch(Mt){throw Ve(we,"linkAccount","onError",Mt.privyErrorCode||pe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ve.current=null,Se.current=null,_({status:"error",error:Mt}),Mt}let je=ge||h;return f(je||null),ve.current=null,Se.current=null,{user:je,linkedAccount:$e}},refreshSessionAndUser:async()=>{let q=await e.getAuthenticatedUser();return u(!!q),f(q),q},walletProxy:O,createAnalyticsEvent:({eventName:q,payload:K,timestamp:se})=>e.createAnalyticsEvent({eventName:q,payload:K,timestamp:se}),acceptTerms:async()=>{let q=await e.acceptTerms();return f(q),q},getUsdTokenPrice:q=>e.getUsdTokenPrice(q),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:q=>e.getSplTokenMetadata(q),recoverEmbeddedWallet:async q=>new Promise(async(K,se)=>{if(!h)return void K(!0);let re=q!=null&&q.address?Bf(h,q.address):bd(h)||DL(h)||qve(h);if(!re||yl(re))return void K(!0);let ae=await mr();if(!ae||!O||!re)return void se(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:ge,entropyIdVerifier:$e}=qu(h,re);try{await O.connect({accessToken:ae,entropyId:ge,entropyIdVerifier:$e}),K(!0)}catch(je){if(tE(je)&&re.recoveryMethod==="privy"){let Mt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:re.address}});try{Mt=await O.recover({entropyId:ge,entropyIdVerifier:$e,accessToken:ae})}catch(bt){return void se(bt)}Mt.entropyId||se(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:re.address}}),K(!0)}else tE(je)&&re.recoveryMethod!=="privy"&&re.recoveryMethod!=="privy-v2"?(Y({recoverWallet:{entropyId:ge,entropyIdVerifier:$e,onFailure:se,onSuccess:()=>K(!0)},recoveryOAuthStatus:{provider:re.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Ce(e8e(re.recoveryMethod))):se(je)}}),setReadyToTrue:q=>{l(!0),ee==null||ee(q)},updateWallets:()=>Be(),fundWallet:async(q,K)=>{Y({funding:Voe({address:q,appConfig:B,fundWalletConfig:K,methodScreen:sd})}),Ce(sd)},openModal:Ce,requestFarcasterSignerStatus:async q=>{var ae;let K=await mr(),se=h==null?void 0:h.linkedAccounts.find(ge=>ge.type==="wallet"&&ge.walletClientType==="privy");if(!K)throw Error("Must have valid access token to connect with Farcaster");if(!O||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((ae=h==null?void 0:h.farcaster)!=null&&ae.fid))throw Error("Must have Farcaster account to use Farcaster signers");let re=await e.requestFarcasterSignerStatus(q);return re.status==="approved"&&f(await e.getAuthenticatedUser()||h||null),re},connectCoinbaseSmartWallet:async()=>{var K,se;B.externalWallets.coinbaseWallet.config.preference={...B.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let q=((K=e.connectors)==null?void 0:K.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((se=e.connectors)==null?void 0:se.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(q)return q.updateConnectionPreference("smartWalletOnly"),U(q);await G("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var K;let q=(K=e.connectors)==null?void 0:K.findWalletConnector("base_account","base_account");if(q)return U(q);await G("base_account","base_account")},initiateAccountTransfer:async({nonce:q,account:K,accountType:se,externalWalletMetadata:re,telegramAuthResult:ae,telegramWebAppData:ge,farcasterEmbeddedAddress:$e,oAuthUserInfo:je})=>{let Mt=await e.sendAccountTransferRequest({nonce:q,account:K,accountType:se,externalWalletMetadata:re,telegramAuthResult:ae,telegramWebAppData:ge,farcasterEmbeddedAddress:$e,oAuthUserInfo:je});return f(Mt),Mt},inProgressAuthFlowRef:ve,inProgressLoginOrLinkMethodRef:Se};FEe=ze.recoverEmbeddedWallet,ze.recoverEmbeddedWallet;let Ln=x.useMemo(()=>({wallets:p,ready:de&&Fe}),[p,de,Fe]),vn=e.authFlow instanceof U5,ot=!B.headless&&B.captchaEnabled&&!c&&(a||vn);return d.jsx(OEe.Provider,{value:!0,children:d.jsx(j3.Provider,{value:Bt,children:d.jsx(M6e.Provider,{value:we,children:d.jsx(Z6e.Provider,{value:Ln,children:d.jsx(t9t,{...B,children:d.jsxs(Cbe.Provider,{value:ze,children:[d.jsx(ESt,{children:d.jsxs(f9t,{data:j,setModalData:Y,setInitialScreen:A,initialScreen:b,authenticated:c,open:i,children:[t.children,d.jsx(cOt,{customAuth:B.customAuth}),ot&&d.jsx(SRt,{delayedExecution:!1}),d.jsx(GRt,{}),d.jsx(gjt,{disabled:B.embeddedWallets.disableAutomaticMigration}),d.jsx(ORt,{palette:B.appearance.palette||{}}),!B.render.standalone&&d.jsx(HRt,{open:i})]})}),d.jsx(QRt,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h==null?void 0:h.mfaMethods,mfaPromise:fe,mfaSubmitPromise:ke,onLoad:I,onLoadFailed:()=>null}),B.loginConfig.telegramAuthConfiguration&&d.jsx(zx,{$if:!0,children:d.jsx(qRt,{scriptHost:t.apiUrl||HF,botUsername:B.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};const yOt=()=>{const{ready:t,authenticated:e,login:n}=Bo(),r=cr();return x.useEffect(()=>{t&&e&&r("/wallet-connect/success")},[t,e,r]),t?(e&&r("/wallet-connect/success"),d.jsxs("div",{className:"min-h-screen bg-background flex flex-col px-4 py-6",children:[d.jsx("header",{className:"flex items-center justify-between mb-8",children:d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Connect Wallet"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"secure & simple"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[d.jsx("img",{src:qr,alt:"Lighter Farm",className:"w-auto h-16 mx-auto mb-6"}),d.jsx("h2",{className:"text-4xl font-bold text-golden-light mb-4",children:"Welcome to LighterFarm"}),d.jsx("p",{className:"text-lg text-golden-light/80",children:"Connect securely with Privy - no seed phrases needed"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(G_,{className:"w-6 h-6 text-golden-light"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Secure Authentication"}),d.jsxs("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:["Powered by ",d.jsx("span",{className:"font-semibold text-golden-light",children:"Privy"})]})]})]}),d.jsxs(Vt,{onClick:n,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50 mb-4",children:[d.jsx(FIe,{className:"w-10 h-10"}),"Connect with Privy"]}),d.jsx("p",{className:"text-xs text-golden-light/60 text-center",children:"Privy will guide you through the secure authentication process"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Why Privy?"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:sv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"No seed phrases to remember"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:sv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Institutional-grade security"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:sv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Easy account recovery"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:sv,alt:"",className:"h-4 w-auto opacity-80"}),d.jsx("span",{className:"text-sm text-golden-light/80",children:"Multi-device synchronization"})]})]})]}),d.jsxs(me.div,{className:"flex items-center justify-center gap-6 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(G_,{className:"w-4 h-4 text-golden-light"}),d.jsx("span",{className:"text-xs text-golden-light/60",children:"SOC 2 Certified"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yhe,{className:"w-4 h-4 text-golden-light"}),d.jsx("span",{className:"text-xs text-golden-light/60",children:"Self-Custodial"})]})]}),d.jsx(me.div,{className:"text-center mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},children:d.jsx("p",{className:"text-xs text-golden-light/50",children:"Your wallet is secured with enterprise-grade encryption"})})]})]})):d.jsx("div",{className:"flex min-h-screen items-center justify-center",children:d.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})};function UEe(t,e){return function(){return t.apply(e,arguments)}}const{toString:wOt}=Object.prototype,{getPrototypeOf:ZG}=Object,{iterator:bN,toStringTag:zEe}=Symbol,vN=(t=>e=>{const n=wOt.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sd=t=>(t=t.toLowerCase(),e=>vN(e)===t),xN=t=>e=>typeof e===t,{isArray:V3}=Array,cE=xN("undefined");function bOt(t){return t!==null&&!cE(t)&&t.constructor!==null&&!cE(t.constructor)&&Ya(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WEe=Sd("ArrayBuffer");function vOt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WEe(t.buffer),e}const xOt=xN("string"),Ya=xN("function"),HEe=xN("number"),EN=t=>t!==null&&typeof t=="object",EOt=t=>t===!0||t===!1,s_=t=>{if(vN(t)!=="object")return!1;const e=ZG(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zEe in t)&&!(bN in t)},AOt=Sd("Date"),COt=Sd("File"),kOt=Sd("Blob"),_Ot=Sd("FileList"),SOt=t=>EN(t)&&Ya(t.pipe),IOt=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ya(t.append)&&((e=vN(t))==="formdata"||e==="object"&&Ya(t.toString)&&t.toString()==="[object FormData]"))},TOt=Sd("URLSearchParams"),[$Ot,NOt,POt,ROt]=["ReadableStream","Request","Response","Headers"].map(Sd),jOt=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sC(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),V3(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function VEe(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ny=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,qEe=t=>!cE(t)&&t!==Ny;function PU(){const{caseless:t}=qEe(this)&&this||{},e={},n=(r,i)=>{const s=t&&VEe(e,i)||i;s_(e[s])&&s_(r)?e[s]=PU(e[s],r):s_(r)?e[s]=PU({},r):V3(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sC(arguments[r],n);return e}const OOt=(t,e,n,{allOwnKeys:r}={})=>(sC(e,(i,s)=>{n&&Ya(i)?t[s]=UEe(i,n):t[s]=i},{allOwnKeys:r}),t),MOt=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),DOt=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},BOt=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ZG(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LOt=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},FOt=t=>{if(!t)return null;if(V3(t))return t;let e=t.length;if(!HEe(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UOt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ZG(Uint8Array)),zOt=(t,e)=>{const r=(t&&t[bN]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},WOt=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},HOt=Sd("HTMLFormElement"),VOt=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pae=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qOt=Sd("RegExp"),GEe=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};sC(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},GOt=t=>{GEe(t,(e,n)=>{if(Ya(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ya(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},KOt=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return V3(t)?r(t):r(String(t).split(e)),n},YOt=()=>{},QOt=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ZOt(t){return!!(t&&Ya(t.append)&&t[zEe]==="FormData"&&t[bN])}const JOt=t=>{const e=new Array(10),n=(r,i)=>{if(EN(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=V3(r)?[]:{};return sC(r,(o,a)=>{const l=n(o,i+1);!cE(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},XOt=Sd("AsyncFunction"),eMt=t=>t&&(EN(t)||Ya(t))&&Ya(t.then)&&Ya(t.catch),KEe=((t,e)=>t?setImmediate:e?((n,r)=>(Ny.addEventListener("message",({source:i,data:s})=>{i===Ny&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ny.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ya(Ny.postMessage)),tMt=typeof queueMicrotask<"u"?queueMicrotask.bind(Ny):typeof process<"u"&&process.nextTick||KEe,nMt=t=>t!=null&&Ya(t[bN]),Ne={isArray:V3,isArrayBuffer:WEe,isBuffer:bOt,isFormData:IOt,isArrayBufferView:vOt,isString:xOt,isNumber:HEe,isBoolean:EOt,isObject:EN,isPlainObject:s_,isReadableStream:$Ot,isRequest:NOt,isResponse:POt,isHeaders:ROt,isUndefined:cE,isDate:AOt,isFile:COt,isBlob:kOt,isRegExp:qOt,isFunction:Ya,isStream:SOt,isURLSearchParams:TOt,isTypedArray:UOt,isFileList:_Ot,forEach:sC,merge:PU,extend:OOt,trim:jOt,stripBOM:MOt,inherits:DOt,toFlatObject:BOt,kindOf:vN,kindOfTest:Sd,endsWith:LOt,toArray:FOt,forEachEntry:zOt,matchAll:WOt,isHTMLForm:HOt,hasOwnProperty:pae,hasOwnProp:pae,reduceDescriptors:GEe,freezeMethods:GOt,toObjectSet:KOt,toCamelCase:VOt,noop:YOt,toFiniteNumber:QOt,findKey:VEe,global:Ny,isContextDefined:qEe,isSpecCompliantForm:ZOt,toJSONObject:JOt,isAsyncFn:XOt,isThenable:eMt,setImmediate:KEe,asap:tMt,isIterable:nMt};function on(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ne.inherits(on,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.status}}});const YEe=on.prototype,QEe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QEe[t]={value:t}});Object.defineProperties(on,QEe);Object.defineProperty(YEe,"isAxiosError",{value:!0});on.from=(t,e,n,r,i,s)=>{const o=Object.create(YEe);return Ne.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),on.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const rMt=null;function RU(t){return Ne.isPlainObject(t)||Ne.isArray(t)}function ZEe(t){return Ne.endsWith(t,"[]")?t.slice(0,-2):t}function mae(t,e,n){return t?t.concat(e).map(function(i,s){return i=ZEe(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function iMt(t){return Ne.isArray(t)&&!t.some(RU)}const sMt=Ne.toFlatObject(Ne,{},null,function(e){return/^is[A-Z]/.test(e)});function AN(t,e,n){if(!Ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Ne.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(e);if(!Ne.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Ne.isDate(m))return m.toISOString();if(!l&&Ne.isBlob(m))throw new on("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(m)||Ne.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let w=m;if(m&&!y&&typeof m=="object"){if(Ne.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(Ne.isArray(m)&&iMt(m)||(Ne.isFileList(m)||Ne.endsWith(g,"[]"))&&(w=Ne.toArray(m)))return g=ZEe(g),w.forEach(function(b,A){!(Ne.isUndefined(b)||b===null)&&e.append(o===!0?mae([g],A,s):o===null?g:g+"[]",c(b))}),!1}return RU(m)?!0:(e.append(mae(y,g,s),c(m)),!1)}const h=[],f=Object.assign(sMt,{defaultVisitor:u,convertValue:c,isVisitable:RU});function p(m,g){if(!Ne.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),Ne.forEach(m,function(w,v){(!(Ne.isUndefined(w)||w===null)&&i.call(e,w,Ne.isString(v)?v.trim():v,g,f))===!0&&p(w,g?g.concat(v):[v])}),h.pop()}}if(!Ne.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gae(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function JG(t,e){this._pairs=[],t&&AN(t,this,e)}const JEe=JG.prototype;JEe.append=function(e,n){this._pairs.push([e,n])};JEe.toString=function(e){const n=e?function(r){return e.call(this,r,gae)}:gae;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function oMt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XEe(t,e,n){if(!e)return t;const r=n&&n.encode||oMt;Ne.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ne.isURLSearchParams(e)?e.toString():new JG(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yae{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eAe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aMt=typeof URLSearchParams<"u"?URLSearchParams:JG,lMt=typeof FormData<"u"?FormData:null,cMt=typeof Blob<"u"?Blob:null,uMt={isBrowser:!0,classes:{URLSearchParams:aMt,FormData:lMt,Blob:cMt},protocols:["http","https","file","blob","url","data"]},XG=typeof window<"u"&&typeof document<"u",jU=typeof navigator=="object"&&navigator||void 0,dMt=XG&&(!jU||["ReactNative","NativeScript","NS"].indexOf(jU.product)<0),hMt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fMt=XG&&window.location.href||"http://localhost",pMt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XG,hasStandardBrowserEnv:dMt,hasStandardBrowserWebWorkerEnv:hMt,navigator:jU,origin:fMt},Symbol.toStringTag,{value:"Module"})),_o={...pMt,...uMt};function mMt(t,e){return AN(t,new _o.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return _o.isNode&&Ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function gMt(t){return Ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yMt(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function tAe(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ne.isArray(i)?i.length:o,l?(Ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ne.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ne.isArray(i[o])&&(i[o]=yMt(i[o])),!a)}if(Ne.isFormData(t)&&Ne.isFunction(t.entries)){const n={};return Ne.forEachEntry(t,(r,i)=>{e(gMt(r),i,n,0)}),n}return null}function wMt(t,e,n){if(Ne.isString(t))try{return(e||JSON.parse)(t),Ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const oC={transitional:eAe,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ne.isObject(e);if(s&&Ne.isHTMLForm(e)&&(e=new FormData(e)),Ne.isFormData(e))return i?JSON.stringify(tAe(e)):e;if(Ne.isArrayBuffer(e)||Ne.isBuffer(e)||Ne.isStream(e)||Ne.isFile(e)||Ne.isBlob(e)||Ne.isReadableStream(e))return e;if(Ne.isArrayBufferView(e))return e.buffer;if(Ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mMt(e,this.formSerializer).toString();if((a=Ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return AN(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),wMt(e)):e}],transformResponse:[function(e){const n=this.transitional||oC.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ne.isResponse(e)||Ne.isReadableStream(e))return e;if(e&&Ne.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?on.from(a,on.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_o.classes.FormData,Blob:_o.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],t=>{oC.headers[t]={}});const bMt=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vMt=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&bMt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},wae=Symbol("internals");function Q5(t){return t&&String(t).trim().toLowerCase()}function o_(t){return t===!1||t==null?t:Ne.isArray(t)?t.map(o_):String(t)}function xMt(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const EMt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function VO(t,e,n,r,i){if(Ne.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ne.isString(e)){if(Ne.isString(r))return e.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(e)}}function AMt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function CMt(t,e){const n=Ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Qa{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Q5(l);if(!u)throw new Error("header name must be a non-empty string");const h=Ne.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=o_(a))}const o=(a,l)=>Ne.forEach(a,(c,u)=>s(c,u,l));if(Ne.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ne.isString(e)&&(e=e.trim())&&!EMt(e))o(vMt(e),n);else if(Ne.isObject(e)&&Ne.isIterable(e)){let a={},l,c;for(const u of e){if(!Ne.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Ne.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Q5(e),e){const r=Ne.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return xMt(i);if(Ne.isFunction(n))return n.call(this,i,r);if(Ne.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Q5(e),e){const r=Ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||VO(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Q5(o),o){const a=Ne.findKey(r,o);a&&(!n||VO(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||VO(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ne.forEach(this,(i,s)=>{const o=Ne.findKey(r,s);if(o){n[o]=o_(i),delete n[s];return}const a=e?AMt(s):String(s).trim();a!==s&&delete n[s],n[a]=o_(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[wae]=this[wae]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Q5(o);r[a]||(CMt(i,o),r[a]=!0)}return Ne.isArray(e)?e.forEach(s):s(e),this}}Qa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(Qa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ne.freezeMethods(Qa);function qO(t,e){const n=this||oC,r=e||n,i=Qa.from(r.headers);let s=r.data;return Ne.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function nAe(t){return!!(t&&t.__CANCEL__)}function q3(t,e,n){on.call(this,t??"canceled",on.ERR_CANCELED,e,n),this.name="CanceledError"}Ne.inherits(q3,on,{__CANCEL__:!0});function rAe(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new on("Request failed with status code "+n.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kMt(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _Mt(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function SMt(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const B7=(t,e,n=3)=>{let r=0;const i=_Mt(50,250);return SMt(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},bae=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},vae=t=>(...e)=>Ne.asap(()=>t(...e)),IMt=_o.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_o.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_o.origin),_o.navigator&&/(msie|trident)/i.test(_o.navigator.userAgent)):()=>!0,TMt=_o.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ne.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ne.isString(r)&&o.push("path="+r),Ne.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $Mt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function NMt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iAe(t,e,n){let r=!$Mt(e);return t&&(r||n==!1)?NMt(t,e):e}const xae=t=>t instanceof Qa?{...t}:t;function nw(t,e){e=e||{};const n={};function r(c,u,h,f){return Ne.isPlainObject(c)&&Ne.isPlainObject(u)?Ne.merge.call({caseless:f},c,u):Ne.isPlainObject(u)?Ne.merge({},u):Ne.isArray(u)?u.slice():u}function i(c,u,h,f){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function s(c,u){if(!Ne.isUndefined(u))return r(void 0,u)}function o(c,u){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(xae(c),xae(u),h,!0)};return Ne.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||i,f=h(t[u],e[u],u);Ne.isUndefined(f)&&h!==a||(n[u]=f)}),n}const sAe=t=>{const e=nw({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Qa.from(o),e.url=XEe(iAe(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ne.isFormData(n)){if(_o.hasStandardBrowserEnv||_o.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(_o.hasStandardBrowserEnv&&(r&&Ne.isFunction(r)&&(r=r(e)),r||r!==!1&&IMt(e.url))){const c=i&&s&&TMt.read(s);c&&o.set(i,c)}return e},PMt=typeof XMLHttpRequest<"u",RMt=PMt&&function(t){return new Promise(function(n,r){const i=sAe(t);let s=i.data;const o=Qa.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const b=Qa.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};rAe(function(N){n(N),g()},function(N){r(N),g()},E),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new on("Request aborted",on.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new on("Network Error",on.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||eAe;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new on(A,E.clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&Ne.forEach(o.toJSON(),function(A,E){y.setRequestHeader(E,A)}),Ne.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,m]=B7(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=B7(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new q3(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=kMt(i.url);if(v&&_o.protocols.indexOf(v)===-1){r(new on("Unsupported protocol "+v+":",on.ERR_BAD_REQUEST,t));return}y.send(s||null)})},jMt=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof on?u:new q3(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new on(`timeout ${e} of ms exceeded`,on.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Ne.asap(a),l}},OMt=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MMt=async function*(t,e){for await(const n of DMt(t))yield*OMt(n,e)},DMt=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Eae=(t,e,n,r)=>{const i=MMt(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},CN=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oAe=CN&&typeof ReadableStream=="function",BMt=CN&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),aAe=(t,...e)=>{try{return!!t(...e)}catch{return!1}},LMt=oAe&&aAe(()=>{let t=!1;const e=new Request(_o.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Aae=64*1024,OU=oAe&&aAe(()=>Ne.isReadableStream(new Response("").body)),L7={stream:OU&&(t=>t.body)};CN&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!L7[e]&&(L7[e]=Ne.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new on(`Response type '${e}' is not supported`,on.ERR_NOT_SUPPORT,r)})})})(new Response);const FMt=async t=>{if(t==null)return 0;if(Ne.isBlob(t))return t.size;if(Ne.isSpecCompliantForm(t))return(await new Request(_o.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(t)||Ne.isArrayBuffer(t))return t.byteLength;if(Ne.isURLSearchParams(t)&&(t=t+""),Ne.isString(t))return(await BMt(t)).byteLength},UMt=async(t,e)=>{const n=Ne.toFiniteNumber(t.getContentLength());return n??FMt(e)},zMt=CN&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=sAe(t);c=c?(c+"").toLowerCase():"text";let p=jMt([i,s&&s.toAbortSignal()],o),m;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&LMt&&n!=="get"&&n!=="head"&&(y=await UMt(u,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(Ne.isFormData(r)&&($=E.headers.get("content-type"))&&u.setContentType($),E.body){const[N,R]=bae(y,B7(vae(l)));r=Eae(E.body,Aae,N,R)}}Ne.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let v=await fetch(m);const b=OU&&(c==="stream"||c==="response");if(OU&&(a||b&&g)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=v[M]});const $=Ne.toFiniteNumber(v.headers.get("content-length")),[N,R]=a&&bae($,B7(vae(a),!0))||[];v=new Response(Eae(v.body,Aae,N,()=>{R&&R(),g&&g()}),E)}c=c||"text";let A=await L7[Ne.findKey(L7,c)||"text"](v,t);return!b&&g&&g(),await new Promise((E,$)=>{rAe(E,$,{data:A,headers:Qa.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:m})})}catch(w){throw g&&g(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new on("Network Error",on.ERR_NETWORK,t,m),{cause:w.cause||w}):on.from(w,w&&w.code,t,m)}}),MU={http:rMt,xhr:RMt,fetch:zMt};Ne.forEach(MU,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Cae=t=>`- ${t}`,WMt=t=>Ne.isFunction(t)||t===null||t===!1,lAe={getAdapter:t=>{t=Ne.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!WMt(n)&&(r=MU[(o=String(n)).toLowerCase()],r===void 0))throw new on(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Cae).join(`
`):" "+Cae(s[0]):"as no adapter specified";throw new on("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:MU};function GO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new q3(null,t)}function kae(t){return GO(t),t.headers=Qa.from(t.headers),t.data=qO.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lAe.getAdapter(t.adapter||oC.adapter)(t).then(function(r){return GO(t),r.data=qO.call(t,t.transformResponse,r),r.headers=Qa.from(r.headers),r},function(r){return nAe(r)||(GO(t),r&&r.response&&(r.response.data=qO.call(t,t.transformResponse,r.response),r.response.headers=Qa.from(r.response.headers))),Promise.reject(r)})}const cAe="1.9.0",kN={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{kN[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _ae={};kN.transitional=function(e,n,r){function i(s,o){return"[Axios v"+cAe+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new on(i(o," has been removed"+(n?" in "+n:"")),on.ERR_DEPRECATED);return n&&!_ae[o]&&(_ae[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};kN.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function HMt(t,e,n){if(typeof t!="object")throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new on("option "+s+" must be "+l,on.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new on("Unknown option "+s,on.ERR_BAD_OPTION)}}const a_={assertOptions:HMt,validators:kN},zd=a_.validators;class x1{constructor(e){this.defaults=e||{},this.interceptors={request:new yae,response:new yae}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nw(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&a_.assertOptions(r,{silentJSONParsing:zd.transitional(zd.boolean),forcedJSONParsing:zd.transitional(zd.boolean),clarifyTimeoutError:zd.transitional(zd.boolean)},!1),i!=null&&(Ne.isFunction(i)?n.paramsSerializer={serialize:i}:a_.assertOptions(i,{encode:zd.function,serialize:zd.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),a_.assertOptions(n,{baseUrl:zd.spelling("baseURL"),withXsrfToken:zd.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ne.merge(s.common,s[n.method]);s&&Ne.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Qa.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[kae.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=kae.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=nw(this.defaults,e);const n=iAe(e.baseURL,e.url,e.allowAbsoluteUrls);return XEe(n,e.params,e.paramsSerializer)}}Ne.forEach(["delete","get","head","options"],function(e){x1.prototype[e]=function(n,r){return this.request(nw(r||{},{method:e,url:n,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(nw(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}x1.prototype[e]=n(),x1.prototype[e+"Form"]=n(!0)});class eK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new q3(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eK(function(i){e=i}),cancel:e}}}function VMt(t){return function(n){return t.apply(null,n)}}function qMt(t){return Ne.isObject(t)&&t.isAxiosError===!0}const DU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DU).forEach(([t,e])=>{DU[e]=t});function uAe(t){const e=new x1(t),n=UEe(x1.prototype.request,e);return Ne.extend(n,x1.prototype,e,{allOwnKeys:!0}),Ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return uAe(nw(t,i))},n}const Yt=uAe(oC);Yt.Axios=x1;Yt.CanceledError=q3;Yt.CancelToken=eK;Yt.isCancel=nAe;Yt.VERSION=cAe;Yt.toFormData=AN;Yt.AxiosError=on;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=VMt;Yt.isAxiosError=qMt;Yt.mergeConfig=nw;Yt.AxiosHeaders=Qa;Yt.formToJSON=t=>tAe(Ne.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=lAe.getAdapter;Yt.HttpStatusCode=DU;Yt.default=Yt;function GMt(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _N="Checkbox",[KMt,xZt]=nA(_N),[YMt,tK]=KMt(_N);function QMt(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:h}=t,[f,p]=Wde({prop:n,defaultProp:i??!1,onChange:l,caller:_N}),[m,g]=x.useState(null),[y,w]=x.useState(null),v=x.useRef(!1),b=m?!!o||!!m.closest("form"):!0,A={checked:f,disabled:s,setChecked:p,control:m,setControl:g,name:a,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:Jm(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:w};return d.jsx(YMt,{scope:e,...A,children:ZMt(h)?h(A):r})}var dAe="CheckboxTrigger",hAe=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=tK(dAe,t),g=ql(i,u),y=x.useRef(l);return x.useEffect(()=>{const w=s==null?void 0:s.form;if(w){const v=()=>h(y.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[s,h]),d.jsx(Ks.button,{type:"button",role:"checkbox","aria-checked":Jm(l)?"mixed":l,"aria-required":c,"data-state":yAe(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:Ti(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ti(n,w=>{h(v=>Jm(v)?!0:!v),m&&p&&(f.current=w.isPropagationStopped(),f.current||w.stopPropagation())})})});hAe.displayName=dAe;var nK=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:u,...h}=t;return d.jsx(QMt,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:f})=>d.jsxs(d.Fragment,{children:[d.jsx(hAe,{...h,ref:e,__scopeCheckbox:n}),f&&d.jsx(gAe,{__scopeCheckbox:n})]})})});nK.displayName=_N;var fAe="CheckboxIndicator",pAe=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=tK(fAe,n);return d.jsx(MI,{present:r||Jm(s.checked)||s.checked===!0,children:d.jsx(Ks.span,{"data-state":yAe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});pAe.displayName=fAe;var mAe="CheckboxBubbleInput",gAe=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:u,form:h,bubbleInput:f,setBubbleInput:p}=tK(mAe,t),m=ql(n,p),g=GMt(s),y=qhe(r);x.useEffect(()=>{const v=f;if(!v)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,$=!i.current;if(g!==s&&E){const N=new Event("click",{bubbles:$});v.indeterminate=Jm(s),E.call(v,Jm(s)?!1:s),v.dispatchEvent(N)}},[f,g,s,i]);const w=x.useRef(Jm(s)?!1:s);return d.jsx(Ks.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:c,value:u,form:h,...e,tabIndex:-1,ref:m,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gAe.displayName=mAe;function ZMt(t){return typeof t=="function"}function Jm(t){return t==="indeterminate"}function yAe(t){return Jm(t)?"indeterminate":t?"checked":"unchecked"}const wAe=x.forwardRef(({className:t,...e},n)=>d.jsx(nK,{ref:n,className:aa("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(pAe,{className:aa("flex items-center justify-center text-current"),children:d.jsx(iA,{className:"h-4 w-4"})})}));wAe.displayName=nK.displayName;const bAe=Iw(t=>({balance:"0",usdcBalance:"0",usdValue:"0",isLoading:!1,setBalance:e=>t({balance:e}),setUsdcBalance:e=>t({usdcBalance:e}),setUsdValue:e=>t({usdValue:e}),setIsLoading:e=>t({isLoading:e})}));function SN(){const{ready:t,authenticated:e,user:n,login:r,logout:i}=Bo(),{wallets:s}=Pg(),o=s[0],a=o==null?void 0:o.address;return{ready:t,authenticated:e,user:n,wallet:o,address:a,login:r,logout:i}}const JMt=()=>{const t=cr(),{toast:e}=ma(),[n,r]=x.useState(!1),[i,s]=x.useState(!1),{address:o,user:a}=SN();if(!o)return d.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-6 text-center animate-fade-in",children:[d.jsx("div",{className:"flex justify-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/20 blur-2xl animate-pulse-glow"}),d.jsx("div",{className:"relative flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-primary to-accent",children:d.jsx(qIe,{className:"h-12 w-12 text-white"})})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Creating Your Wallet"}),d.jsx("p",{className:"text-muted-foreground",children:"Please wait while we set up your secure wallet..."})]}),d.jsx("div",{className:"h-8 w-8 mx-auto animate-spin rounded-full border-4 border-primary border-t-transparent"})]})});const l=()=>{t("/wallet-connect")},c=async()=>{var u,h,f,p;if(!n){e({title:"Terms Required",description:"Please agree to the terms and conditions to continue",variant:"destructive"});return}if(!o||!(a!=null&&a.id)){e({title:"Wallet Required",description:"Wallet address or user ID not found.",variant:"destructive"});return}s(!0),console.log(" Checking user existence for:",a.id);try{const m=await Yt.post("/api/check_user_exist",{privy_id:a.id});if(console.log(" Check user response:",m.data),m.data&&m.data.exists==="yes"){const g=m.data.user;console.log(" Storing user data in localStorage:",g);const y={id:g.id,wallet_address:g.wallet_address,referral_code:g.referral_code};localStorage.setItem(a.id,JSON.stringify(y)),console.log(" User data stored successfully:",{key:a.id,dataKeys:Object.keys(y)}),e({title:" Welcome Back!",description:"Redirecting to your dashboard...",duration:2e3}),setTimeout(()=>{t("/dashboard")},1e3)}else console.log(" User not found, redirecting to registration"),e({title:"Registration Required",description:"Please complete registration with an invite code.",duration:3e3}),setTimeout(()=>{t("/invite-only")},1500)}catch(m){if(console.error(" Error checking user existence:",m),Yt.isAxiosError(m)){const g=((h=(u=m.response)==null?void 0:u.data)==null?void 0:h.error)||((p=(f=m.response)==null?void 0:f.data)==null?void 0:p.message)||"Could not verify your account.";e({title:"Verification Error",description:g,variant:"destructive"})}else e({title:"Connection Error",description:"Please check your connection and try again.",variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col py-6 px-4",children:[d.jsx("header",{className:"flex items-center justify-end mb-8",children:d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"ready to farm"})]})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(me.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(RIe,{className:"w-10 h-10 text-green-500"})}),d.jsx("h2",{className:"text-3xl font-bold text-golden-light mb-2",children:"You're all set!"}),d.jsx("p",{className:"text-lg text-golden-light/80",children:"Ready to start farming Lighter points?"})]}),d.jsx(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:d.jsxs("div",{className:"flex items-center gap-3 mb-0",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(G_,{className:"w-5 h-5 text-golden-light"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:"Secured by Privy"})]})]})}),d.jsx(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(wAe,{id:"terms",checked:n,onCheckedChange:u=>r(u),className:"mt-1 border-2 border-golden-light/30 data-[state=checked]:bg-golden-light data-[state=checked]:text-black data-[state=checked]:border-golden-light"}),d.jsxs("label",{htmlFor:"terms",className:"text-sm text-golden-light/80 leading-relaxed cursor-pointer",children:["I agree with the LighterFarm"," ",d.jsx("span",{className:"text-golden-light underline hover:text-golden-light/80 transition-colors",children:"user terms and conditions"})," ","and acknowledge the TFH"," ",d.jsx("span",{className:"text-golden-light underline hover:text-golden-light/80 transition-colors",children:"privacy notice"})]})]})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"flex gap-4 mb-6",children:[d.jsx(Vt,{onClick:l,disabled:i,className:"flex-1 h-14 bg-transparent border-2 border-golden-light/30 text-golden-light hover:bg-golden-light/10 rounded-xl text-lg font-semibold transition-all disabled:opacity-50",children:"Back"}),d.jsx(Vt,{onClick:c,disabled:!n||i,className:"flex-1 h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:i?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Checking..."]}):"Start Farming"})]}),d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 text-golden-light/60",children:[d.jsx(G_,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Protected by Privy"})]}),d.jsx("p",{className:"text-xs text-golden-light/40 mt-2",children:"Your wallet is secured with enterprise-grade encryption"})]})]})]})},aC=x.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:aa("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));aC.displayName="Input";const XMt=()=>{const t=cr(),{toast:e}=ma(),[n,r]=x.useState(""),[i,s]=x.useState(!1),{address:o}=SN(),{ready:a,authenticated:l,login:c,user:u}=Bo(),h=async()=>{var f,p,m;if(!n.trim()){e({title:"Code Required",description:"Please enter an invite code to continue",variant:"destructive"});return}if(!l||!(u!=null&&u.id)){e({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!o){e({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}s(!0);try{const g={privy_id:u.id,referral_code:n.trim()},y={"Content-Type":"application/json",Accept:"application/json"};console.log(" Making registration request:",{url:"/register_new_user",method:"POST",headers:y,data:g,baseURL:Yt.defaults.baseURL||window.location.origin});const w=await Yt.post("/api/register_new_user",g,{headers:y});if(console.log(" Registration response:",{status:w.status,statusText:w.statusText,headers:w.headers,data:w.data}),(w.status===200||w.status===201)&&((f=w.data)!=null&&f.success)){const{user:v,referral_info:b,message:A}=w.data;let E=A||"Welcome to LighterFarm!";if(b!=null&&b.bonus_points_received&&(E=` You received ${b.bonus_points_received} bonus points! ${b.is_referred?"Thanks for using a referral code!":""}`),e({title:" Registration Successful!",description:E,duration:3e3}),console.log(" Registration success details:",{user:v,referral_info:b,points_balance:v==null?void 0:v.points_balance,bonus_points:v==null?void 0:v.bonus_points,referral_code:v==null?void 0:v.referral_code,wallet_address:v==null?void 0:v.wallet_address,is_referred:b==null?void 0:b.is_referred,max_referrals:b==null?void 0:b.max_referrals}),v){const $={id:v.id,privy_id:v.privy_id,wallet_address:v.wallet_address,referral_code:v.referral_code};localStorage.setItem(u.id,JSON.stringify($)),console.log(" User info stored in localStorage:",$)}setTimeout(()=>{t("/welcome-congratulations")},1500)}else e({title:"Registration Failed",description:((p=w.data)==null?void 0:p.message)||((m=w.data)==null?void 0:m.error)||"Unexpected response from server",variant:"destructive"})}catch(g){console.error(" Registration error details:",{error:g,message:g.message,name:g.name,code:g.code,isAxiosError:Yt.isAxiosError(g)});let y="Network or server error",w="Registration Error";if(Yt.isAxiosError(g))if(console.log(" Axios error details:",{hasResponse:!!g.response,hasRequest:!!g.request,config:g.config,response:g.response?{status:g.response.status,statusText:g.response.statusText,headers:g.response.headers,data:g.response.data}:null}),g.response){const v=g.response.status,b=g.response.data;console.log(` Server responded with ${v}:`,b),v===400?(w="Invalid Request",y=(b==null?void 0:b.error)||(b==null?void 0:b.message)||"Please check your input and try again"):v===401?(w="Authentication Failed",y="Please reconnect your wallet and try again"):v===404?(w="API Endpoint Not Found",y="The server endpoint is not available. Please check if your server is running."):v===409?(w="Already Registered",y=(b==null?void 0:b.message)||(b==null?void 0:b.error)||"This wallet or user is already registered"):v===422?(w="Invalid Referral Code",y=(b==null?void 0:b.message)||(b==null?void 0:b.error)||"The referral code is invalid or expired"):v>=500?(w="Server Error",y="Server is temporarily unavailable. Please try again later"):y=(b==null?void 0:b.error)||(b==null?void 0:b.message)||`Server error (${v})`}else g.request?(console.log(" Network error:",g.request),w="Connection Error",y="Unable to connect to server. Please check your internet connection and ensure the server is running."):(console.log(" Request setup error:",g.message),y=g.message||"Failed to make request");else g instanceof Error?y=g.message:typeof g=="string"&&(y=g);e({title:w,description:y,variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col py-6 px-4",children:[!l&&d.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-4 mb-4 max-w-md mx-auto w-full",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-yellow-500 text-sm",children:" Please authenticate with Privy first"})})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center w-full max-w-md mx-auto",children:[d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(AD,{className:"w-10 h-10 text-golden-light"})}),d.jsx("h2",{className:"text-4xl font-bold text-golden-light mb-4",children:"Invite Only!"}),d.jsx("p",{className:"text-lg text-golden-light/80 leading-relaxed",children:"LighterFarm is currently in exclusive beta. Enter your invite code to unlock premium farming opportunities."})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center",children:d.jsx(AD,{className:"w-4 h-4 text-golden-light"})}),d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Enter Invite Code"})]}),d.jsx("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:d.jsx(aC,{type:"text",placeholder:"Enter Invite code here",value:n,onChange:f=>r(f.target.value),className:"bg-transparent border-none text-golden-light text-xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto placeholder:text-golden-light/30 tracking-wider",onKeyDown:f=>f.key==="Enter"&&!i&&h(),disabled:i})}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center",children:"Don't have a code? Join our community for early access"})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mb-6",children:d.jsx(Vt,{onClick:h,disabled:!n.trim()||i||!l||!o,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-xl text-white disabled:opacity-50",children:i?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-2 inline-block",children:d.jsx(Gm,{className:"w-5 h-5"})}),"Validating..."]}):"Continue to Farm"})}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4 text-center",children:"Need an invite code?"}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx("a",{href:"https://x.com/LighterFarm",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-golden-light/10 hover:bg-golden-light/20 rounded-xl p-3 flex items-center justify-center gap-2 transition-colors",children:d.jsx("span",{className:"text-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})}),d.jsx("a",{href:"https://t.me/+sKmppf_5gNo5YzRl",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-golden-light/10 hover:bg-golden-light/20 rounded-xl p-3 flex items-center justify-center gap-2 transition-colors",children:d.jsx("span",{className:"text-lg",children:d.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})})})})]}),d.jsx("p",{className:"text-xs text-golden-light/60 text-center mt-3",children:"Follow us for exclusive invite code drops"})]})]})]})},fu=({children:t,className:e})=>d.jsx("div",{className:aa("px-4 max-w-md mx-auto relative min-h-screen bg-background",e),children:t}),eDt="/assets/Home-BW3sMItB.png",tDt="/assets/Lightning%20Bolt-Dz0r_pJy.png",nDt="/assets/Money%20Circulation-D-lZ1T6t.png",rDt="/assets/People-DsY4PItJ.png",iDt="/assets/Profile-Bgtetq_J.png",sDt=({icon:t,label:e,path:n,active:r})=>{const i=cr(),s=typeof t=="string";return d.jsxs("button",{onClick:()=>i(n),className:aa("flex flex-col items-center justify-center py-2 px-3 min-w-0 flex-1","text-xs font-medium transition-colors duration-200",r?"text-[#A07715]":"text-[#A07715]/70 hover:text-[#A07715]"),children:[s?d.jsx("img",{src:t,alt:e,className:aa("w-5 h-5 mb-1",r&&"animate-bounce-gentle")}):(()=>{const o=t;return d.jsx(o,{className:aa("w-5 h-5 mb-1",r&&"animate-bounce-gentle")})})(),d.jsx("span",{className:"truncate",children:e})]})},Id=()=>{const t=Zp(),e=[{icon:eDt,label:"Home",path:"/dashboard"},{icon:tDt,label:"Farm",path:"/farm"},{icon:nDt,label:"Buy/Sell",path:"/trade"},{icon:rDt,label:"Refer",path:"/referrals"},{icon:iDt,label:"Profile",path:"/profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-transparent z-50",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsx("div",{className:"flex bg-[#090b0c]",children:e.map(n=>d.jsx(sDt,{icon:n.icon,label:n.label,path:n.path,active:t.pathname===n.path},n.path))})})})},rK="/assets/deposit-BfT0jDIz.png",vAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxvSURBVHgB7Z0JcNXFHcf3+r+X5CWEJEgMxHCWiVbpFBxti2KroKMzahMRD47AUKlKPZipRbQo1epEywhYUmTqaIISMEdBK1OrbW21jG01Os3gCdGkCYYcvJfjnf9jt7svCQnvyrvi/P+6H+YB+V/vZb+7+9v9/X67DwCJRCKRSJIDgiSYzMmxsQINGfZMyhTKGAISgCCkPgQ1G9X8bt3R63Q6B0CCJCTIebPzSvbvuGmuqqJHVZUuYBAqEHAxKJAMlyRlvEAgUBWCm3JzlceuXlPz4eedrnZ+iiXwmNgsLCrKaqhec2WXa6AaQpgLh+9iIMkm9jVmbJkw/oNhsL7CEmXdZTfv+FNHB/CNd/945QkvKp2e/0xleZWhseX8DSBlcQktGYZXYCAqMMF4/+rbn914tNvTDWK0lpiCzCnMnlq7c9UbEOP5lEohkkXUYcKtLC/D5ru2vnz5fz45cSratTjaieLi4sxDVbdW8f8uNaSNSAnRQoQoCKPCa5acO+/I0S8O9/R41YjXRntGy2sPljvdA/WGQaO2IiTeSRqRMLjdADBCuYg+BiEE8ovQ9d+6ZOcrke4lkQ7OKppc0u3qexZjGLG4hRAMMqBrmkYh9vF3km1IgABkGnXY7YSIihrazYvChLyp9LTrNXPm5M9vaXG2hz4iYoEf++uD1zp7+19hUWwPrwCekplZy3+4rPozn9cd8Mc5pPu6k8HLE2Up9nf2r7+gvcP9AkLYEfFCXpmzCbri/PJdfws9FdZC8vJAbp+rbxPkg2kWUu/FiEGnzLN2c/2iz77o/i+QhOP0gXMu3XZ83qypi/Y+vuwIIsgR2lIQ/+Nj8Fd5eXlNLper/8xzIShKboEaMBZGfDOu7MwSx0opxviIMirOnnILjDBNEEf8AePCHIUWhJ4LEyQDGRkMIlvocdE6NJVqi5c/cxRI4uKye3d/HAhQHaEzLYP4CQFDUXlZh94TJgimCh8yszDbIg5gBLw+rxYAkrjwudwBTKAnymmEKVHCDoZfxyCNZqO5rFAa8LgJlhUERuhxFnxF9sdKL63JkIKYDCmIyZCCmAwpiMmQgpiMxAThHkU/lMPeeMnJJD5ewgmVF0nkYu5shAWOrFJFUaZlENm6xkOx23TuB4fRo07hxC2ICN1y73L+c5XL/wJkGDc+RPiWhbvhY5FQCxFzT+FYkTGp+Ek0ByExQYKhSCaNyAQi7YDJkIKYDCmIyZCCmAwpiMmQgpgMKYjJkIKYDCmIyZCCmIwEfVnjczoBO0H/isGEW1R6ydIrCC9Pv24Y/KHB1BexwGfcW0TGqgGJYkeIUhpMyPsmkzZBMGJa0bSssitWVh/3uNWEsuFFmuSR2i3z2vvb66hhZCVyb+iSCKsvLEqLIKJQSnKm3lK46OHDIEmKlt53rOXotqt6P2p9m8Xhsg4KwfvFgGYAhoZc0JBBaFdwUCCDMkt2gCkLIroYv0bpxWu3fQhS5Kqrn+ysqSzTFZtCYtZ0HvUxKFRz7WTnil/U1vq8Xqrxri+H2B2NuyuWeQb992AFEkatt6AodUHEX4jC7Oxs/t9BkAqUaVlijVGsAYFYQ8QYfPvura+u1hytJ461Am3kXBfwgO9ct/3fpbPzaqorV+zGGCzSLdZSUh72ioiYnSC4t/KmJ2bNKpoBhkSGCb7I/PmFU1/dvWYVJhhFjbIN9VJv3bGlsfxfn7S2NjWNijEG9snnrqPrN9eXGwwegdBaNiUtNoTyrkGj+rX7Hi//XpYd/SEjE7QAKjr52HpTNLQFhBpgRW6/fuOAJ1AMooyyYHA4BtTV99Vv+Li9a2QVKzx/RkFp3Z47phObZr+6oqqtpd39kXh0c0tXz/otdat2P1T+mWJDxCrGPi2CBCsur9UYw7NUnf1UDfZcogDiH2wR3lONF3/OyybbuRgfDj8ctf1j07ITJ937BvtdRHyKmidXGTOnTbq1+LIn6sU1+qddJ3Izld96dLoRWIT0zdSH4+00hVfUR/PWofLR1FW3v3AQDE8555Zkn/slF0PB3HiDofe2E4z/1zm47/wZRaXiGt5U1OUb97+g6gYIXTRjVizhOgmuOGKQ+TS/d+TY3/ffPhNDRsQS5JGLxFAXQ0Re33lbych1Az7dQBbKW0qrIGJuIGpi8N9YLzT0ite9Euz8xLIuCEf6QOjqU+dG+vjCBPXjgW+D4QEghHxMzicqwCKkbaYuCoL7oz51ZONdCCmdVA8vLUQAVRCjNsM29WT/4P1ck5nxerCGuqXRSwlFOJKNEjNEXT9zSZ6VxlnpMer818/KwrvX/bxxS6x9PMYyd3r+4bqnbt3Dx63XyEyvUVLuskQXxP2JrGzD3t/HK4bg+Alnx4oH6jdpFjK4XwVpsSG8J2FIbLGRIH6/G/NZvmwgY0jLTF3BGB3es25hgrei16vv/oHCnU5yD65R0mJDxBygb9BTc/zNzWTpqmc+0DQ1Zgk7shzw4K6KH7mcg9tl8ziTiIIk06NzM4J7ewaqX3ziJiZ2CopZznxWPujxWszL9NUQWZCkbOzQvIIoJK7bv8nd1FD5RHYrhQliIF0bnkglJYtcrjA+wzs5UIr1sF3lwow6ozgAGVOBZEKBEKmGEb5vTPjmMyo8ZbfjJiCZUHik+V1dd/SGHg8TpLWvry8D6Q8xJnftmyjEjoiTs5XKSDtfR5yHXH9f3TGDoj45g04/IpTAp8Kua1bujbjvWERBxOaM+cW4ggG5GVPa4ZV86jlkXYvT2RHxdLT71t7c+Ibdhl4kYo21FCUtiB7HBmHjpTc8/WcQpVSjCvJOR4dv/aaGe/mErxljIJempwgRm4oaRnPFnc/d2dkJvNGui+nL4t5b52337F1KCKnFBEmvbBIIb7io0Nzdt++ura9c3tzl7ol5/TjPY/wB3WUbd66bfDa+QafMJczKSMTv9AtO9EsYQxZMPAFJILa8DebATPTnDCkXkYLEQxN9k6ej636yoX79cHgi5u8Ql3OxtRX4512y4+Ccafnv/nHPLRcMeuH9PDB6Ie/H7KKghqeeE0ZQCZ0GFKr5QaIw7KO6pqqMZAA2wR0vEl17sOYEbBg12Ql6uHxz7bFIO1hHIxFvL2v50tl+3rVV7fn5+f8kxDOFh2ozMikj3C+VwPYqiSN2DNHt2N3RHWgDCdLe3d+2YkPNfGInDhZht9V0MvoNO9g/qKFToZskx0NS7vfhCQ1/WWLHWL1jIHDMIp9VrqAyG1IQkyEFMRlpX2OYKjMKc2chpk+iBlTbTrlb+KG0hgLmzgV2rzdnpl2nGZ6APtjdH2gFwDzff2ImQVDnm78sb+t01RjQyEQ8epOZa9v14589/0grd0GDNDB7dl5uw441D3v71bsYNDCf6vpmzJiyetqiR0TOsClEMUuXBd87cv+SDmd/HSIwS8EEYgUqmk/f2PCb1S9dVJpTAFLkouk5BQcqVzZofm0jUSCPNPP3ICjry05nXdfrT34fmARTCJKTk5NvdHi2MYPBsdnwBhVfC0Cv/N2ja2tTEaWUi1G1Y+1+iNgSkZx9RtY9Baitr6OqJDc3D5gAUwgy2W7Y+QS3MFIU3wjm0dErn36s4kBpEqIIMaqfrjgAIF16OlN+DCz4HvRsr6JlAhNgCkHsk72nFMJepVF6cSEKomBJ9ago8bhA4IgYmIElkcQQiMCoTSGHenu9vcAEmEKQ48dBoOKhg1sB0zzRNg6gI6L8uuJA8aRJ+UaUb4YTufTc/hjcgOc8v31VTDGCPjKku2+8+8WnQJpHc8liJn86ZGzKd99/+Ya3Aj7FgaIu6RC+TPYWM/TXECaPR7qC26JNCKMlvLyXRsv/otytZbfp/gVlDYsg7P0AmCQMZ7YAx5AoB7koKhclQm6jKN9gzWbAyT3N+RGfwlgPQuismGIoXIzyQ4shPPkeMFFM1IwRp6AoTYdufFsN4CwUJeGUBb9NCCZ8TohhsxnehWVCjM73gckC1GYNAY62lECs7isxRltGw6W8mxK5Z6YLTJvVl8VEv76grHGx3a55KE293pzZTZlTDIHZg+RpaSlmthmhWCFrISVRrCSGwCppJEmJYjUxBFbK60lIFCuKIbBaolVcolhVDIEVM99Oz+h1PnkMzewRk0aCrSmGwIoh3KEh8fWNixnTvRCOTUwT9Uv3Lih/+RIriiGwakw9KMraB1662DBos6ozGtAp5W705nUPHJ5vxhl4vFg9WReK4JbDwc62CU86QSc7OgZcQObrSyQSieQbyP8BRCm4nBHA+XwAAAAASUVORK5CYII=",oDt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhCSURBVHgB7Z17bBzVFcbPuTOzD+/6tXhZtjHUQqnUpEkErQpp1UKBRoK2qgKtSZtAlRIaqKJU0EaEEEitkMSpSEPfVZRGbiCkqVKUKiCIIMEBCxAgnoqCIhIFsMGYtdfPtde7M/dyrs0j4rmCmdm5M/OT1tb6j7F2v/nOvfd8c2cAQkJCQpRBA/+A2Wy2JpFIRAqFgkXvBSgIgj/AEw+vnjMwOLaRA8aMpL55c8efHt27FyxQDF8I0tX168Zon94pBJ9DHwlRiDdqoHjOnCt35EExGKiPHuuPXAFCfEVw0AQXTCBrYDWJL4GCJ5zyghzb/7sGq2St4ZzH3/8jKVMscSXHR6UFmQ0QGTMnr6YaNUOWqvf+joBKDugSpQW5/+AtjWZZ3CgERMEnKCvI7NkQGRwcuh4Yng7+mS2qK0jXlpWnmwDX0SAeAR+hpCAtLRA7McpvQIFN4CN3SJQU5MGO1WfQr19wAQb4DOUEaW5ujo8NjK0RCI3gQ1QTBB+5Z3ELt0Qrzax08CFKCULNw/hgb2EdMlYLPkUlQfBQx6KvCgaXci586Q6JMoKk0+lEYcRaT2vwOvAxqgiCh3Zc9Q2O/ALhj4boJ6LEh2tqakpOjpdvA4EJ8DkqCMIO/2vJRZzB+UIIX7tD4vkPKLZtqx0vW7dxwX3vDonXBdFeSB/5EZWqWXhKe93PeFqQ7gM31k+a/FYurBoICF4WRO+bEIsY4JchIO6QeFaQY50UzZbLq7gQMQgQnhRkKprNl6+hxrqSFyp8ETwpyAMHbjitXLZWCu6faLZSPCeIjGZzI6UVTMM0BMwdEs8Jsv+fazNc4DLus2i2UjwliIxm828PraI51WkQQHdIvCQIHuy4uRk4LPZjNFspnhGEotlYvm/sFopmGyDAeEUQ7Lyr9WwOfKFfo9lK8YQgmUymJj8w2YYMfR0+VYIXBMHO7UvmAscFnPtqA9HnouqCyGh2tFRqo3ZVbXA6Vp9MtQVhB3cuOQ+E+HYQwqdKqOqXkEqlkuOj5fWUdyTBZuLM4KAg1ZzRsM5/X71gcsI6hzq6thcr09TkMbVWCh1zNi0yDwNIkR0VumpVu6trcWOkNyX3Bc6zO++g8lcUDNdFBbxmoT3H1mi6wQ19JN1Q88IPrt80cPQolMABqiWI/vy9K68qcf536ujangaSBKQJFpHRT7vMN3UYOpoQY6DjnZf/Zt9fenp6JsBmqjLN7Dm4qXFoYnSn4CLjUBooj2kAtWAE2PSSxxIiQuU1icjm/+zSWfnnTljP9/b22lrCqjGoG73Dby0GLs5UMZqVFZBbPEkeXLXl1rm2XwnjuiCjj7c1CstaRWed0uETOSV1ZryxCWzGVUFkNHu0t/9XAtXfF0gljJvMGAebcVWQfYfWpsHkK2jsUNodVLY4Ar703SUdI2AzrgkycyZEh/NDK1Fj6odPAiYMXduSy+Vsn2W5JshjO9eeQcHTL1WPZqlUUY8HXzz3irsP01vbb27jiiDNzRDv7h5aTR9E+X2BNMkqRBPa7xHzY+AAbgiCj91101mg4ZU0M1E7mqUZr4b46IJl/3kSHGqhOC5ISwtE+/OF31LdrQe1kav+0bq4sb6vr8/22dV7OC7IyEgqUi6LyxiqHT7J9SCdVA9+b/meI+Dg3eocF6SB2kkaiLhQfd3BxchZTdHbqVVi+8zqVBwXpBCJmEJnRyieVTKfkJA7TJ3B/7659L8nweF7OTouCNXbYjKib6KSNQyKIgAH0zV1m53o7n4YN+q6ePqVp7oXXjL/JLfgfDrbdBLHpN9lu14w/ZJhm+1lkTEsaUJs//FNd/4/n3f+pppu1nX92P7lDRPl5FzLNNNMs2feyGjuYyLXqQO7nWqJrd1XIfdgI77VHI2cN2Ph1m5wgWoMtKzVxv/7Nfreds1MJXfe/vPXDB0bqBMAdoEMJ3XG2xet/sfm48dhElygGpk63wv2IY/V0s/Z9Fhr3/kl3UHpYC4VS2xzSwxJoC/b/DRo7ChGEbb+9Id3DICLhNdCfQxietH0ZiZTu+tZoAmDi4SCfAzkjgkWYe3ZC9oHwWVCQT6CvGAFTkbOzt5Lb0xwmXAM+RCIbEJn2vp589bYngZWQuiQU6DsiczBX/56f/YAQHWerBA65BRoEViIRbR1eN3No1AlQoe8i7xwgbLZZy6+dncXQPUaoaFDppEXnI4Zht7W39/vSDRbKaFDYDp8oi/ikcuW76FlR3UflRQ6RLoDcTRdF93gZDRbKYF3iHQHZeX3zV+6+2XwwIPEAi8ITXSHU6nkBqej2UoJdMmiUlXWEPZcuLRdZh2eeCpPwB0iBpvqGrb09IAn3CEJrENoEVgii3R8f8WGN8FDBNIhsr0uOAzUp+r+6mb4VAmBdAhjUNQR/3b5JRtz4DEC55DpaBZyjc1sx1FwZiftFyFwDtEofNI1uKP1W3/25GNZA+YQ6Q/oic+u3e12NFspgRKE1h1FQxcbZ81q9+xVlAEqWXLvk35Cm5ndD1WIZislMA5BYOOGhm3VimYrJRCCTO0LZPDSuT+5+2EAbz/0PhCCyH2BMd1oc2pfoJ34XxC5pxzh8YuX73oCwPt7VPwuyFQ0m9C1DblcrgAK4GtBpvYFAj60YMXe58Aj7fXPws+C0FCOI/W1zu8LtBPfrkNoEWgxwH0XXXPPcVDEHRL/OoSL4WzK+INK7pD4yCEfmIBN7TnEXd+5duvroJA7JL5wSMEwTF3HY1SmTHkFIi3L356Rqf/jq69CERTDF4LIKW2qNrqMc34f6dEZi7OlMy7c6KloNohgNputyWQycidu4O8hHxISEuIC7wBGTfwH1JFwPQAAAABJRU5ErkJggg==",aDt="/assets/refercardbg-mAPZC_mu.png",xAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA/CAYAAAC4nXvhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYOSURBVHgB7VptbFNVGH7POfe2a7u169Z2IgGUCcYQdRIkKAkSNSYz0UR/SFQE+RSICR9z44cYZ4wu2SImKgwUCGP+kBB/GCOaaaJmGiMGIQZ+aFBIMGy069qtWz/We8/hnNsOthF2u+6sG+l9kia9X+ee577Pec5773sALFiwkCcQ3AaQ2cnhtthHtWA/RZ0VKZVhkkIM8gRRGF5QWhptPBEayLafd1tjIT067XsC9Xe66espqnr4JkN5dpYxQAgx7LTj1D+XU29s2hs+BhIhi7gRjZPNgdZYP2wZHALAaPLB4eSNp+Z3Ywj261s3NPccAEnAIAds1/OOZRjQlvgQ442ySbEevhoh8QCBBvsoBDyk9chu32sgCbKIQyhGaqmGjM7y+E9KSZk22BDKtIIJBhqKUuYvIwcO13m3gARII84Qcsh0DKbDJbvKdjptSKeUYcxlFBKR99paj9RXboVJQhpxzICCRAS8pKzlZM++S1e1F/l/YBQQJ2/I3l+u7D9c55tU5KURlw2FIDynrNzV8Gnvia6IttbvxTz0RuRpTx9lgQql9VBdYNuISyaktxlLXOcG59SYQWZTS/hYd1R7tcqIPMNIGF5Uhyov2ne0PjAs+wkZ6owlPgZoY3O47UpUW+Pn5HUKhGRlX+lB+w/tmrjb50J8rISUlfyX3V+o9NSI5ubmcHuQy77Ki2Gk7KsqyYExsjeFGfHrxBrXel74stH31dEGX+e2twJn31tX8RRITCFzBNpgyJ4asud2ikTSEIxSqKpA+w435G54ZsQFMdb58ayDNdWO47EEepYQtIwosAgrMBumECJxiSs3pX9im8s+1HYlrK3xccOj9MY8H3CT1s92eDdnzx1XjaZSf2edZ1U4yjZHBnRxW8bHl2E8OkVpmELwHKjkFocysv8g3B6KCcPjrEfM89Vz7Z80rCq9D0zUaEr8/nm21dGYDsbLBirYmIZgn+Z95iG8Y7xz1jeF285dTC93u0iKbwrykEiC2tuHHgUTKGbH++MsgAnXHS3se7aWBmYrIW///OGs2l/Opf4PRtKKTbnRBT7RoWQS6b0xPaxTJcp3VV0/xi83a9+MuIDUjCxXiDxdDKsLV7SlC+coSxfdrYrsbRS4D0AqzSCWYCDGOWQVjKj5q6EZcfFgC+3cGWSHFScEgwnDY295KskM2AnlJLdLAiMdFvFig0W82GARLzZYxIsNFvFig0W82GARLzZYxIsNFvFiQ/7EMR316Y8iIDADYHyZU5hpX/IibnwF1KFs1D7EYsZKn+n5NDmiIwCqDSJmp+VFXJDjxZvqG7cCuAvTr+06o/yzMJsW8qLKw+/rsqFIuRs6zU7Pi/hgEmDxPbYnxZIsyNaz3v02fsY2gPY6XLx8LVotIHvxpFUFobl+Aj+eTWxvOhYLg0ntLJeCwk3gQeX1M/LgxqfLeKkm9uvw7hVN3fVt230XZvugTrOrXsTYlBcjxMMvsWHoDqcvd5yKv9lyov+74UPjXWdWFiJtDf5OROCRUVbGjHiiQDk580dH99LGn4ySjRFn8WtsBHz+N3e5Q2NIVaa2IJHm9yhBinbwh0h/djHh9RWW412XH/FMq3w8Izy/Mv35ivrIK2PanG6LM0Xe05lYeweUsX971NXft8z6Zl1tqT97aMaTFjCb7/Bzy13ruVnNuZVXifAOJOnCJfeWbHisxuHx2qH/8ZWu+AMkqZ/uMtqX+aMgaflJ3lIfA8qnEuxUEVS4cZqPgb5Uaij5XxcwVYXJgxuYXUHk/YM9iy8NQjdIgJmrizWaOAf1ihI6pDQGXb26ytXhQ/xp3eGVo3tRMi5RkU7sDpWXTkEGTMvEnLo20d5n1qAyGDItz+fYHghDQdoQTuggCWbmprtKtd+NkcWmybT4fbmQoLwMXwzMgxBIgqmrn4ukm2ZXKmGW9YNCJWTD9+EhRtWVGM7/nd59+jRIW3CEcjjO9rzkXvDEEufxeJzVsIItAEKGyEqcpDv4Z2Lny+2RL0BijpALCaEKw9MfXqDWaIx4EIaCpKLAUNo/3/1XR8fVQZimxKigK54sWLBgwUKeuAbjskLNtQA4lAAAAABJRU5ErkJggg==",EAe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAqPSURBVHgB7VoJbBTXGf7fHHuvd33bgImJcUw4XBoSAz2QA7QlpKThsEpCSpUSQIUgFUgvAgRo1Jb0CCpESkRTCgkqaBtD0xIaRxADEkohIbE42vrCHAJ8rL33zs7szMt7u2tjLOyZvcCW/MnH7Ox78//vm//973//+wGGMYxh3AUI0gf6bEwvcnPBwjDR63ihKIDa28EX+8jQW5AGpJMIWFWZa5k1k3nd41dmIIwlQCiuQSBMfhDWWY3o5IGLsNbhaPdBmsBBGlExjfkFluEFjqWfEuUcgYLRQ0+W4FYHwEZIE9JKhDcoP2DQsSCHybRACTKBASsMIF9AGQ1pRFqJsKDgH/JNlll+I1uAFawgiM9PkMaIOAXEG/GNgM/zR0gj0u4sNzxlzncqTAVxcUyYic/RcQgY8qZkox2f+f07vjbo5YDvJguSQFqdZYqhOthDlebJ/6swTqs74/v3gVqhBeIg6L4RUVUFOmsoR4+7BANYAETQhcQrnYLjErlMALtWGmY8/IDtA4+CzAxSOgKSWPXMFlct3B7jgITckzhi7FjQzxqTMfrhUn56m1euyM9gSycU60aKMtYDRgZMWjJYEVgdEi62yDecnVJDno09U9cknT7R5LnW2AghNWGvrcp5tziPXeIPKAoiU8pq4kJKEJ6q+u3NGtBgGakm4g6BP5xpKyktZqrKH9QtEEVcznBITxtIYQw+AQPTRzomHsRsRMBzUbcqyTho0qPz51vE6vrmgGPPsVBzf7LeXJe9uiCT29XlIYst8UUKxmy2hQ0FRVi0+NXWf4EKGakkokfQhh9kTpxUxP98RA47v80tm/1k0OQt0Sgx8l8LMHkSJUoh/80GBPl21nvDiQ83tInbN+/uvNhXJr2u3pr3VlhGy/0CIQMRXomDNuaz0oOnhdlTq10nQUX5ZNEzB7c8bbd/rRy96tUZXhCEsF4gs52NqppUHEH7UkL0PICJ5wQwCbsPnQ5v3XfY64zJp790RULV23J3yTJa5QtgSgZhBNhcK3Pkuxtb58EAFsFAcuh+I3jfOtPcssmGS7cU3WqvJ6yXRMAs6mmVOOGxvtQ6JAmwKxg2BDp1a+ZNtpz/80rznJh8JTYWvGBz+2qOxzssRoRIiM5yZgYaAvI1UPERyRDRTQJ6b2veNnuW9X1RkAvDYiRUwEkNvn+JdHBYJDYfDIUL84ssRxxbcrbAbYuIBPPzN7avRQZ2vTGbq38sqBy8vqdjk/qjE1WJDJYsgeziCQW7FcDPkxAYULoIuBtwxLeiDBOi2uw9eKFtmcMBMvTaoU4pBNNnNyEQ60FJkvt7HAvxo4eE70/IO0iun/X5I85J8xTAODoQngNEdpZYzzNIljHIMtDnaCMSRfwuDonUdzCTJ+VZx7eB71BLS2SwkWfc9IHUW+xAj0tkakQeuHhi7ltkQAu9cZJAQdvzPCCvHzf996q86MLl0EJvCDdxfJzWRMkgPbwBspEBZdGLlTlv9NYxHsRLRETRf/4q56eKwiyLeeaEnGGmlRU6vfLTG952Vm/+q6v6hiu80E7WfRzvEKKWAYRUcs2tqN6Wta7nmzgQLxF401LrdL2B+Y03qECiJHBEars73L7raFd3gIQ+OOpqaHeF2/hE9sNEB7KqYI9fBpOO3/7ysxkVEKdVxEXE2iowVoyz7LnejlkmGcdIeoVFjEOhnjQAvkyuaTiYsP+OkqHc7FK46RNNe9Y8MVYfT3etRES0m1RsXx8S5bKkSOh+IHNnfxwNPpNdcRi6vAZFPL58vHt9tyhNHUEb8IoFpsKiPNNPvIGktv33BHQpLy5g1r8035IHGqeI5qkxtdSysrVLyo58uFexQiKI6dbapWR9pdTwY63dNBHxejHYSeZgmaRANGga5KA6SiSasBnQsj9lQYaWPpqIYB6zPk620KOi25pBbA3diIXiiGNGoUp7pZYumojgy9hnfCGkeQs9KEDU9QokshiPlmhprkrEj74O1hK74RFBTMsBU1ohhBUYa9dNWVs1yqjWVpWIayFjOQ6jIpTshv0+gG7dZZkpqmu49VXVtmoNxhVypUFJ1sEQRVCQdWWjLaVq7VSJ+M4U6xi3D0czRUMMNE51k5hizjRTsVpbVSJcojyKoa2GwmrRB9S5s2R++LxikVpbNSJIYpyeOgx1IDqGAV+kGhHkuEExQ4oRy6spvWsmulhQ5DTVPhCBZpJIGnCsakRgsjeSIMWgR1mFLKN7kb+dOvsdIWIkh3RSGlwRSSWGSRovqQwVOTZS/JBqkOFLeiaveGHWE923ChbnzpEMbEH/WcXEQSyQFpgMaG2qaRCbkXd2ecKQUldJ3k2noLC2An7v9uWZMxFLDixz0VKnW0FsiuMVmQw/MwM51dqpElFXH2ouK+YgEEqdyVJvTsareNyKuWQUv4oS43KTI0Cm53wiZTCRU7K6eqFZrZ2q0GOf+65kmFIfVlIu6LJM8p7gC0ZIAJRiEiisRPePPw+1qLVTFZybaawjb9CJh1w4FQ2oSJq7ozAH1am1VX8D+e6rPgka2NQbRdrBkFMbMYgb9h8Xrqq2Vfke0dOjC83ih9TEhppV2IwMfHFFPKolmaQaR0QbSX8jLAhDKh9BjwQxBBVWOqiluSaD3/QXbz05xTiOYgJgsANHjw5JIFW7Zbe3XksXzVns0xeEHYXZHFZg8G++iCWggmwOTpwP7dDaR7MLvOpwHycnUbVGHRrcVkF0M+oRdLjCH+/8u7tGazfNBzwOEqTVNft/ZtAzYmRLPgjJiDhzopuOZ0Nnm8SXYrdTe8BD/7x2IPApqwg7eT6ybRx8U4S8HJas81kGYceOg+5zPXc1IJ7oIDLwjz5xvUxi9085llZrDR6rINag0FKDbAt7rrq265XYbc0vK95CEeZMI4TtPFczYQy/RJAwzVXcuyqZ/kBXCaKbzcy2Hj7d9a03j4bpJitSU6X1EfESEZmFZxsE14gRSu24ctNzQZfCk3sKuk9kUEugJIzMY4PH69xz3jgkXOylq2YkVUN19jlL5a0y6yFXMGwPk4xK3xPudINOTVplYzeynluc63vLfynUgoYq27shGcUjApfOMZcvrrTWON1yPq2Bin2TVkJiVRSY44hPyGDbDhz3zN1bE/gMEiSBIpFist5AdY1SK6/D7z5aZppMHHZJSIpUE6XFb3QTQOWSvQ+ym5lj//iPb/bbR/yNkOQqliwRFOiLBsn30De8+1mv2V+Uy00VZcVAM0PUiUV3wpAUugmghSQ6HqHCbMZ3rQNvrP5/6+p974k0DZewJfQMAlKDHkWe/7axaOoE068LMvmFMsZGjz9aaxVlBOJCdx9MLjLMDLAsEto6ZMepS75X3qkRLveVnewAUokepaq+aRn/+KP6NWUj+bkkAzXaRQihOQ1qKZH4o5+pEylGZ6K/tIjdZmHAqmdvNF0X3z9xTti5/5TvUl9ZqVI81bhDwRWzM21hVpr95HTTTE8IzzDxaIxJh/TkoJq7i3BMCJCDEhaDAm6ymNDJI5+ETvkU/JHjQ08npBH3dLnLzwfzvEeMmeNGsA86A1wJuWVTGMiIRD4YvAiDK9OGGs81Cy0nzgedN2+XDw9jGMMYxjAGA74EkacwC+zn03kAAAAASUVORK5CYII=",lDt=({initialTime:t=3600,mode:e="countdown"})=>{const n=cr(),{user:r,authenticated:i}=Bo(),s=localStorage.getItem(r==null?void 0:r.id),o=s?JSON.parse(s):null,a=o==null?void 0:o.id,l=o==null?void 0:o.referral_code,[c,u]=x.useState(t),[h,f]=x.useState(!1),[p,m]=x.useState(!1),[g,y]=x.useState({id:"",usdl_balance:0,points_balance:0,staked_amount:0,total_portfolio_value:0,points_usd_value:0,wallet_address:""}),[w,v]=x.useState({exchange_rate:"0.00",last_updated:new Date().toISOString(),points_to_usdl_rate:"",usdl_to_points_rate:""}),[b,A]=x.useState({action:"HOLD",confidence:"MEDIUM",reason:"Loading market data...",icon:d.jsx(OP,{className:"w-3 h-3"}),color:"text-gray-400"}),E=I=>{switch(I){case"buy_points":return"Bought Points";case"sell_points":return"Sold Points";case"stake":return"Staked";case"unstake":return"Unstaked";case"referral_reward":return"Referral Reward";default:return I.replace("_"," ").replace(/\b\w/g,B=>B.toUpperCase())}},$=I=>{const B=new Date,Q=new Date(I),j=Math.floor((B.getTime()-Q.getTime())/1e3);if(j<60)return`${j}s ago`;const Y=Math.floor(j/60);if(Y<60)return`${Y}m ago`;const ee=Math.floor(Y/60);if(ee<24)return`${ee}h ago`;const Z=Math.floor(ee/24);return Z<30?`${Z}d ago`:`${Math.floor(Z/30)}mo ago`},N=I=>I==="buy_points"||I==="referral_reward"||I==="unstake"?"+":"-";x.useEffect(()=>{const I=setInterval(()=>{u(B=>e==="countdown"?Math.max(B-1,0):B+1)},1e3);return()=>clearInterval(I)},[e]);const R=I=>{const B=String(Math.floor(I/3600)).padStart(2,"0"),Q=String(Math.floor(I%3600/60)).padStart(2,"0"),j=String(I%60).padStart(2,"0");return`${B}:${Q}:${j}`},M=async()=>{var I;if(!a||!(r!=null&&r.id)){console.warn("User ID or Privy ID not found");return}f(!0);try{const B=await Yt.post("/api/get_referal_code",{id:a,privy_id:r.id});if(B.data&&B.data.success!==!1){const Q=B.data;y({id:Q.id||a,usdl_balance:parseFloat(Q.usdl_balance)||0,points_balance:parseFloat(Q.points_balance)||0,staked_amount:parseFloat(Q.staked_amount)||0,total_portfolio_value:parseFloat(Q.total_portfolio_value)||0,points_usd_value:parseFloat(Q.points_usd_value)||0,wallet_address:Q.wallet_address||o.wallet_address});const j={...o,usdl_balance:Q.usdl_balance,points_balance:Q.points_balance,staked_amount:Q.staked_amount,total_portfolio_value:Q.total_portfolio_value,points_usd_value:Q.points_usd_value};localStorage.setItem(r.id,JSON.stringify(j))}else throw new Error(((I=B.data)==null?void 0:I.error)||"Failed to fetch balance data")}catch(B){console.error(" Error fetching balance:",B),V_({title:"Balance Error",description:"Could not fetch balance data. Please try again.",variant:"destructive"})}finally{f(!1)}},F=async()=>{m(!0);try{const I=await Yt.get("/api/points/price");if(I.data&&I.data.data){const B={exchange_rate:I.data.data.exchange_rate||"0",last_updated:I.data.data.last_updated||new Date().toISOString(),points_to_usdl_rate:I.data.data.points_to_usdl_rate||"",usdl_to_points_rate:I.data.data.usdl_to_points_rate||""},Q=parseFloat(I.data.data.exchange_rate),j=(1/Q).toFixed(2),Y={...o,buyPrice:Q,sellPrice:j};localStorage.setItem(r.id,JSON.stringify(Y)),v(B),W(B)}else throw new Error("Invalid price data response")}catch(I){console.error(" Error fetching point price:",I),V_({title:"Price Data Error",description:"Could not fetch current price data.",variant:"destructive"})}finally{m(!1)}},W=I=>{const B=parseFloat(I.exchange_rate);let Q;B>4?Q={action:"SELL",confidence:"MEDIUM",reason:"High exchange rate! Good time to convert points",icon:d.jsx(kD,{className:"w-3 h-3"}),color:"text-green-400"}:B<3.5?Q={action:"BUY",confidence:"MEDIUM",reason:"Low exchange rate! Good opportunity to acquire points",icon:d.jsx(CD,{className:"w-3 h-3"}),color:"text-green-400"}:B>=3.5&&B<=4?Q={action:"FARM",confidence:"HIGH",reason:"Stable rate. Great time for farming rewards",icon:d.jsx(OP,{className:"w-3 h-3"}),color:"text-yellow-400"}:Q={action:"HOLD",confidence:"MEDIUM",reason:"Exchange rate stable. Monitor for changes",icon:d.jsx(OP,{className:"w-3 h-3"}),color:"text-gray-400"},A(Q)},H=()=>{b.action==="BUY"||b.action==="SELL"?n("/trade"):(b.action==="FARM"||b.action==="STAKE")&&n("/farm")},L=async()=>{await Promise.all([M(),F(),P()])},k=I=>{const B=parseFloat(I),Q=B>4?"text-green-400":B<3.5?"text-red-400":"text-yellow-400";return{rate:B.toFixed(3),color:Q}};x.useEffect(()=>{const I=setInterval(()=>{i&&F()},12e4);return()=>clearInterval(I)},[i]);const[C,_]=x.useState([]),[T,S]=x.useState(!1),P=async()=>{var I,B,Q,j;if(!a){console.warn("User ID not found - cannot fetch points history");return}console.log(" Fetching points history for user:",a),S(!0);try{const ee=await Yt.get(`/api/points/history/${a}?limit=10`);console.log(" Points history fetched successfully:"),console.log(" Transaction data:",ee.data),(I=ee.data)!=null&&I.data&&Array.isArray(ee.data.data)&&(console.log(` Total transactions: ${ee.data.data.length}`),_(ee.data.data))}catch(Y){console.error(" Error fetching points history:",Y),Yt.isAxiosError(Y)&&console.error("Error details:",{status:(B=Y.response)==null?void 0:B.status,message:((j=(Q=Y.response)==null?void 0:Q.data)==null?void 0:j.error)||Y.message})}finally{S(!1)}};x.useEffect(()=>{i&&a&&(M(),F(),P())},[i,a]);const{rate:D,color:O}=k(w.exchange_rate);return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4 mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("h1",{className:"text-2xl font-thin text-golden-light",children:["Hello, ",d.jsx("span",{className:"font-medium",children:"User!"})]}),(o==null?void 0:o.wallet_address)&&d.jsxs("p",{className:"text-xs text-muted-foreground font-extralight mt-1",children:[o.wallet_address.slice(0,6),"...",o.wallet_address.slice(-4)]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:L,className:"p-2 rounded-full bg-golden-light/10 hover:bg-golden-light/20 transition-colors",disabled:h||p,children:d.jsx(me.div,{animate:h||p?{rotate:360}:{},transition:{duration:1,repeat:h||p?1/0:0,ease:"linear"},children:d.jsx(Gm,{className:"w-4 h-4 text-golden-light"})})}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mb-2",children:"Your Total Portfolio Value"}),d.jsx("p",{className:"text-5xl font-bold text-golden-light mb-2",children:h?d.jsx(me.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."}):`$${g.total_portfolio_value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),d.jsxs("div",{className:"bg-[#31302F] rounded-xl p-6 mb-6 grid grid-cols-3 divide-x divide-border/[#D4B679]",children:[d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.usdl_balance.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"USDL"})]}),d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.staked_amount.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"Staked"})]}),d.jsxs("div",{className:"text-center px-2",children:[d.jsxs("p",{className:"text-lg font-bold text-golden-light",children:["$",h?"...":g.points_usd_value.toFixed(2)]}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground mt-1",children:"Point Value"})]})]}),d.jsxs("div",{className:"flex justify-between items-center px-2",children:[d.jsx("p",{className:"text-sm font-thin text-muted-foreground",children:"Your Current Lighter Points"}),d.jsx("p",{className:"text-2xl font-bold text-golden-light",children:h?"...":g.points_balance.toFixed(1)})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4 grid grid-cols-3 gap-4 divide-x divide-border/[#D4B679]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsxs("button",{onClick:()=>n("/deposit"),className:"flex flex-col items-center gap-2 group",children:[d.jsx("img",{src:rK,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Deposit"})]}),d.jsxs("button",{className:"flex flex-col items-center gap-2 group opacity-50 cursor-not-allowed",disabled:!0,children:[d.jsx("img",{src:vAe,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Withdraw"})]}),d.jsxs("button",{onClick:()=>n("/farm"),className:"flex flex-col items-center gap-2 group",children:[d.jsx("img",{src:oDt,alt:"",className:"h-8 w-8 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm text-golden-light",children:"Farm"})]})]}),d.jsxs(me.div,{className:"relative rounded-2xl px-6 py-4 mb-4 overflow-hidden cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>n("/referrals"),children:[d.jsx("div",{className:"absolute inset-0 opacity-100",style:{backgroundImage:`url(${aDt})`,backgroundSize:"cover"}}),d.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[d.jsx("div",{className:"flex justify-end",children:d.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-golden-light",children:d.jsx(hp,{className:"w-5 h-5 text-black"})})}),d.jsxs("div",{className:"flex items-end justify-between mt-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-golden-light mb-0",children:"Refer a friend"}),d.jsxs("p",{className:"text-xs font-extralight text-muted-foreground",children:["Earn ",d.jsx("span",{className:"font-bold text-golden-light",children:"10%"})," for each* referral"]})]}),d.jsxs("div",{className:`inline-flex items-end gap-1 border border-dashed \r
                      border-golden-light/60 rounded-lg px-1.5 py-1.5 bg-black/40`,children:[d.jsx("img",{src:xAe,alt:"",className:"h-4 w-4"}),d.jsx("span",{className:"text-golden-light text-xs font-bold",children:l||"..."})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Limited Bonus"}),d.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-golden-light",children:d.jsx(hp,{className:"w-4 h-4 text-black"})})]}),d.jsx("p",{className:"text-sm text-golden-light mb-1",children:"Stake"}),d.jsx("p",{className:"text-3xl font-bold text-golden-light mb-2",children:"$100+"}),d.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Get ",d.jsx("span",{className:"text-golden-light font-bold",children:"2"})," free points"]}),d.jsxs("div",{className:"flex items-center gap-1 text-golden-light",children:[d.jsx("img",{src:EAe,alt:"",className:"h-5 w-5"}),d.jsx("span",{className:"text-xs text-[#A07715] font-bold",children:R(c)})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Exchange rate alert!"}),p&&d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx(Gm,{className:"w-3 h-3 text-golden-light"})})]}),b.action!=="HOLD"&&d.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-golden-light",children:d.jsx("button",{onClick:H,className:"flex items-center",children:d.jsx(hp,{className:"w-4 h-4 text-black"})})})]}),d.jsx("p",{className:"text-3xl font-bold text-golden-light mb-1",children:p?"...":D}),d.jsxs("div",{className:`flex items-center gap-1 mb-3 ${O}`,children:[b.icon,d.jsx("span",{className:"text-xs font-bold",children:"Exchange Rate"})]}),d.jsxs("div",{className:"mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested action:"}),d.jsx("span",{className:`text-xs font-bold ${b.color}`,children:b.action})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:b.reason})]}),d.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground mt-2 pt-2 border-t border-border/50",children:[w.points_to_usdl_rate&&d.jsx("div",{className:"text-[#A07715] font-bold",children:w.points_to_usdl_rate}),w.usdl_to_points_rate&&d.jsx("div",{className:"text-[#A07715] font-bold",children:w.usdl_to_points_rate}),d.jsx("div",{className:"text-right",children:d.jsxs("span",{children:["Updated: ",d.jsx("span",{className:"font-bold text-[#A07715]",children:new Date(w.last_updated).toLocaleTimeString()})]})})]})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-6 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-golden-light",children:"Recent Activity:"}),T&&d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:d.jsx(Gm,{className:"w-4 h-4 text-golden-light"})})]}),d.jsx("div",{className:"space-y-4",children:T?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})}):C.length===0?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})}):C.slice(0,3).map(I=>d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"font-extralight text-xs opacity-60",children:[d.jsx("p",{className:"text-sm text-foreground",children:E(I.type)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:$(I.created_at)}),I.tx_hash&&d.jsxs("p",{className:"text-xs font-bold text-muted-foreground/50 mt-1",children:["Tx: ",I.tx_hash.slice(0,6),"...",I.tx_hash.slice(-4)]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:`font-bold ${N(I.type)==="+"?"text-green-400":"text-red-400"}`,children:[N(I.type)," $",I.amount.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:I.status==="success"?"":""})]})]},I.id))}),C.length>5&&d.jsx("button",{onClick:()=>n("/history"),className:"w-full mt-4 text-center text-sm text-golden-light hover:text-golden-light/80 transition-colors",children:"View all transactions "})]}),d.jsx(Id,{})]})},KO="/assets/money-bag-Dg9XkaHW.png",cDt="/assets/watermark-FCbzTWCD.png",uDt="6.15.0";function dDt(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function zo(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Ut(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&dDt(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function vv(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>vv(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return vv(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${vv(r,e)}: ${vv(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Us(t,e){return t&&t.code===e}function iK(t){return Us(t,"CALL_EXCEPTION")}function Qr(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${vv(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+vv(a))}}s.push(`code=${e}`),s.push(`version=${uDt}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Ut(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Ut(i,{shortMessage:r}),i}function qe(t,e,n,r){if(!t)throw Qr(e,n,r)}function ye(t,e,n,r){qe(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function AAe(t,e,n){n==null&&(n=""),n&&(n=": "+n),qe(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),qe(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function IN(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),qe(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function CAe(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}ye(!1,"invalid BytesLike value",e||"value",t)}function Cn(t,e){return CAe(t,e,!1)}function Zo(t,e){return CAe(t,e,!0)}function kr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function sK(t){return kr(t,!0)||t instanceof Uint8Array}const Sae="0123456789abcdef";function pt(t){const e=Cn(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Sae[(i&240)>>4]+Sae[i&15]}return n}function mi(t){return"0x"+t.map(e=>pt(e).substring(2)).join("")}function Xv(t){return kr(t,!0)?(t.length-2)/2:Cn(t).length}function ui(t,e,n){const r=Cn(t);return n!=null&&n>r.length&&qe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),pt(r.slice(e??0,n??r.length))}function kAe(t,e,n){const r=Cn(t);qe(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),pt(i)}function Gp(t,e){return kAe(t,e,!0)}function hDt(t,e){return kAe(t,e,!1)}const TN=BigInt(0),Qu=BigInt(1),xv=9007199254740991;function fDt(t,e){const n=$N(t,"value"),r=BigInt(kn(e,"width"));if(qe(n>>r===TN,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Qu){const i=(Qu<<r)-Qu;return-((~n&i)+Qu)}return n}function _Ae(t,e){let n=At(t,"value");const r=BigInt(kn(e,"width")),i=Qu<<r-Qu;if(n<TN){n=-n,qe(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(Qu<<r)-Qu;return(~n&s)+Qu}else qe(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function A6(t,e){const n=$N(t,"value"),r=BigInt(kn(e,"bits"));return n&(Qu<<r)-Qu}function At(t,e){switch(typeof t){case"bigint":return t;case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-xv&&t<=xv,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ye(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ye(!1,"invalid BigNumberish value",e||"value",t)}function $N(t,e){const n=At(t,e);return qe(n>=TN,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Iae="0123456789abcdef";function oK(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Iae[n>>4],e+=Iae[n&15];return BigInt(e)}return At(t)}function kn(t,e){switch(typeof t){case"bigint":return ye(t>=-xv&&t<=xv,"overflow",e||"value",t),Number(t);case"number":return ye(Number.isInteger(t),"underflow",e||"value",t),ye(t>=-xv&&t<=xv,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return kn(BigInt(t),e)}catch(n){ye(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ye(!1,"invalid numeric value",e||"value",t)}function pDt(t){return kn(oK(t))}function mg(t,e){let r=$N(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=kn(e,"width");for(qe(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function ns(t){const e=$N(t,"value");if(e===TN)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Gu(t){let e=pt(sK(t)?t:ns(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Tae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const $ae=BigInt(58);function mDt(t){const e=Cn(t);let n=oK(e),r="";for(;n;)r=Tae[Number(n%$ae)]+r,n/=$ae;for(let i=0;i<e.length&&!e[i];i++)r=Tae[0]+r;return r}function gDt(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Cn(e)}function yDt(t){const e=Cn(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var p2;class SAe{constructor(e,n,r){Ee(this,"filter");Ee(this,"emitter");xe(this,p2);te(this,p2,n),Ut(this,{emitter:e,filter:r})}async removeListener(){V(this,p2)!=null&&await this.emitter.off(this.filter,V(this,p2))}}p2=new WeakMap;function wDt(t,e,n,r,i){ye(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function IAe(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function bDt(t,e,n,r,i){return t==="OVERLONG"?(ye(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),IAe(t,e,n))}const vDt=Object.freeze({error:wDt,ignore:IAe,replace:bDt});function xDt(t,e){e==null&&(e=vDt.error);const n=Cn(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-o,n,r,l);continue}r.push(l)}}return r}function Ep(t,e){ye(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);ye(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function EDt(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function F7(t,e){return EDt(xDt(t,e))}function TAe(t){async function e(n,r){qe(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();qe(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),qe(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Qr("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Qr("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(p){throw clearTimeout(a),s||p}clearTimeout(a);const u={};c.headers.forEach((p,m)=>{u[m.toLowerCase()]=p});const h=await c.arrayBuffer(),f=h==null?null:new Uint8Array(h);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const ADt=12,CDt=250;let Nae=TAe();const kDt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),_Dt=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let YO=!1;async function $Ae(t,e){try{const n=t.match(kDt);if(!n)throw new Error("invalid data");return new Xm(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?gDt(n[3]):IDt(n[3]))}catch{return new Xm(599,"BAD REQUEST (invalid data: URI)",{},null,new Kp(t))}}function NAe(t){async function e(n,r){try{const i=n.match(_Dt);if(!i)throw new Error("invalid link");return new Kp(`${t}${i[2]}`)}catch{return new Xm(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Kp(n))}}return e}const Uk={data:$Ae,ipfs:NAe("https://gateway.ipfs.io/ipfs/")},PAe=new WeakMap;var Uy,dm;class SDt{constructor(e){xe(this,Uy);xe(this,dm);te(this,Uy,[]),te(this,dm,!1),PAe.set(e,()=>{if(!V(this,dm)){te(this,dm,!0);for(const n of V(this,Uy))setTimeout(()=>{n()},0);te(this,Uy,[])}})}addListener(e){qe(!V(this,dm),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),V(this,Uy).push(e)}get cancelled(){return V(this,dm)}checkSignal(){qe(!this.cancelled,"cancelled","CANCELLED",{})}}Uy=new WeakMap,dm=new WeakMap;function zk(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var m2,g2,Bu,Vf,y2,w2,ds,xl,qf,zy,Wy,Hy,ih,Lu,hm,Vy,C6;const fI=class fI{constructor(e){xe(this,Vy);xe(this,m2);xe(this,g2);xe(this,Bu);xe(this,Vf);xe(this,y2);xe(this,w2);xe(this,ds);xe(this,xl);xe(this,qf);xe(this,zy);xe(this,Wy);xe(this,Hy);xe(this,ih);xe(this,Lu);xe(this,hm);te(this,w2,String(e)),te(this,m2,!1),te(this,g2,!0),te(this,Bu,{}),te(this,Vf,""),te(this,y2,3e5),te(this,Lu,{slotInterval:CDt,maxAttempts:ADt}),te(this,hm,null)}get url(){return V(this,w2)}set url(e){te(this,w2,String(e))}get body(){return V(this,ds)==null?null:new Uint8Array(V(this,ds))}set body(e){if(e==null)te(this,ds,void 0),te(this,xl,void 0);else if(typeof e=="string")te(this,ds,Ep(e)),te(this,xl,"text/plain");else if(e instanceof Uint8Array)te(this,ds,e),te(this,xl,"application/octet-stream");else if(typeof e=="object")te(this,ds,Ep(JSON.stringify(e))),te(this,xl,"application/json");else throw new Error("invalid body")}hasBody(){return V(this,ds)!=null}get method(){return V(this,Vf)?V(this,Vf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),te(this,Vf,String(e).toUpperCase())}get headers(){const e=Object.assign({},V(this,Bu));return V(this,qf)&&(e.authorization=`Basic ${yDt(Ep(V(this,qf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&V(this,xl)&&(e["content-type"]=V(this,xl)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){V(this,Bu)[String(e).toLowerCase()]=String(n)}clearHeaders(){te(this,Bu,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return V(this,qf)||null}setCredentials(e,n){ye(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),te(this,qf,`${e}:${n}`)}get allowGzip(){return V(this,g2)}set allowGzip(e){te(this,g2,!!e)}get allowInsecureAuthentication(){return!!V(this,m2)}set allowInsecureAuthentication(e){te(this,m2,!!e)}get timeout(){return V(this,y2)}set timeout(e){ye(e>=0,"timeout must be non-zero","timeout",e),te(this,y2,e)}get preflightFunc(){return V(this,zy)||null}set preflightFunc(e){te(this,zy,e)}get processFunc(){return V(this,Wy)||null}set processFunc(e){te(this,Wy,e)}get retryFunc(){return V(this,Hy)||null}set retryFunc(e){te(this,Hy,e)}get getUrlFunc(){return V(this,hm)||Nae}set getUrlFunc(e){te(this,hm,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${V(this,ds)?pt(V(this,ds)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(V(this,Lu).slotInterval=e.slotInterval),e.maxAttempts!=null&&(V(this,Lu).maxAttempts=e.maxAttempts)}send(){return qe(V(this,ih)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),te(this,ih,new SDt(this)),Ze(this,Vy,C6).call(this,0,Pae()+this.timeout,0,this,new Xm(0,"",{},null,this))}cancel(){qe(V(this,ih)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=PAe.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();qe(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new fI(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,te(i,Bu,Object.assign({},V(this,Bu))),V(this,ds)&&te(i,ds,new Uint8Array(V(this,ds))),te(i,xl,V(this,xl)),i}clone(){const e=new fI(this.url);return te(e,Vf,V(this,Vf)),V(this,ds)&&te(e,ds,V(this,ds)),te(e,xl,V(this,xl)),te(e,Bu,Object.assign({},V(this,Bu))),te(e,qf,V(this,qf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),te(e,zy,V(this,zy)),te(e,Wy,V(this,Wy)),te(e,Hy,V(this,Hy)),te(e,Lu,Object.assign({},V(this,Lu))),te(e,hm,V(this,hm)),e}static lockConfig(){YO=!0}static getGateway(e){return Uk[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(YO)throw new Error("gateways locked");Uk[e]=n}static registerGetUrl(e){if(YO)throw new Error("gateways locked");Nae=e}static createGetUrlFunc(e){return TAe(e)}static createDataGateway(){return $Ae}static createIpfsGatewayFunc(e){return NAe(e)}};m2=new WeakMap,g2=new WeakMap,Bu=new WeakMap,Vf=new WeakMap,y2=new WeakMap,w2=new WeakMap,ds=new WeakMap,xl=new WeakMap,qf=new WeakMap,zy=new WeakMap,Wy=new WeakMap,Hy=new WeakMap,ih=new WeakMap,Lu=new WeakMap,hm=new WeakMap,Vy=new WeakSet,C6=async function(e,n,r,i,s){var u,h,f;if(e>=V(this,Lu).maxAttempts)return s.makeServerError("exceeded maximum retry limit");qe(Pae()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await TDt(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Uk){const p=await Uk[a](o.url,zk(V(i,ih)));if(p instanceof Xm){let m=p;if(this.processFunc){zk(V(i,ih));try{m=await this.processFunc(o,m)}catch(g){(g.throttle==null||typeof g.stall!="number")&&m.makeServerError("error in post-processing function",g).assertOk()}}return m}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,zk(V(i,ih)));let c=new Xm(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return Ze(u=o.redirect(p),Vy,C6).call(u,e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const p=c.headers["retry-after"];let m=V(this,Lu).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(m=parseInt(p)),Ze(h=o.clone(),Vy,C6).call(h,e+1,n,m,i,c)}if(this.processFunc){zk(V(i,ih));try{c=await this.processFunc(o,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let m=V(this,Lu).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(m=p.stall),Ze(f=o.clone(),Vy,C6).call(f,e+1,n,m,i,c)}}return c};let Kp=fI;var LE,FE,UE,El,b2,qy;const eY=class eY{constructor(e,n,r,i,s){xe(this,LE);xe(this,FE);xe(this,UE);xe(this,El);xe(this,b2);xe(this,qy);te(this,LE,e),te(this,FE,n),te(this,UE,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),te(this,El,i==null?null:new Uint8Array(i)),te(this,b2,s||null),te(this,qy,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${V(this,El)?pt(V(this,El)):"null"}>`}get statusCode(){return V(this,LE)}get statusMessage(){return V(this,FE)}get headers(){return Object.assign({},V(this,UE))}get body(){return V(this,El)==null?null:new Uint8Array(V(this,El))}get bodyText(){try{return V(this,El)==null?"":F7(V(this,El))}catch{qe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{qe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new eY(599,r,this.headers,this.body,V(this,b2)||void 0);return te(i,qy,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:ye(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Ut(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return V(this,El)!=null}get request(){return V(this,b2)}ok(){return V(this,qy).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=V(this,qy);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{V(this,El)&&(i=F7(V(this,El)))}catch{}qe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};LE=new WeakMap,FE=new WeakMap,UE=new WeakMap,El=new WeakMap,b2=new WeakMap,qy=new WeakMap;let Xm=eY;function Pae(){return new Date().getTime()}function IDt(t){return Ep(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function TDt(t){return new Promise(e=>setTimeout(e,t))}function $Dt(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Rae(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function jae(t,e,n,r){const i=[];for(;n<e+1+r;){const s=RAe(t,n);i.push(s.result),n+=s.consumed,qe(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function RAe(t,e){qe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{qe(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=Rae(t,e+1,r);return n(e+1+r+i),jae(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),jae(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=Rae(t,e+1,r);n(e+1+r+i);const s=pt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=pt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:$Dt(t[e])}}function lC(t){const e=Cn(t,"data"),n=RAe(e,0);return ye(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function Oae(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function jAe(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(jAe(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=Oae(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Cn(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=Oae(e.length);return n.unshift(183+n.length),n.concat(e)}const Mae="0123456789abcdef";function gg(t){let e="0x";for(const n of jAe(t))e+=Mae[n>>4],e+=Mae[n&15];return e}const ta=32,BU=new Uint8Array(ta),NDt=["then"],Wk={},OAe=new WeakMap;function ly(t){return OAe.get(t)}function Dae(t,e){OAe.set(t,e)}function Z5(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function LU(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof Vx?LU(ly(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof Vx&&(o=LU(ly(o),o,n)),r[i]=o),r},{})}var v2;const Cv=class Cv extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==Wk&&(i=n,s=[],o=!1);super(i.length);xe(this,v2);i.forEach((c,u)=>{this[u]=c});const a=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(Dae(this,Object.freeze(i.map((c,u)=>{const h=s[u];return h!=null&&a.get(h)===1?h:null}))),te(this,v2,[]),V(this,v2)==null&&V(this,v2),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,h)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=kn(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const m=c[p];return m instanceof Error&&Z5(`index ${p}`,m),m}if(NDt.indexOf(u)>=0)return Reflect.get(c,u,h);const f=c[u];if(f instanceof Function)return function(...p){return f.apply(this===h?c:this,p)};if(!(u in c))return c.getValue.apply(this===h?c:this,[u])}return Reflect.get(c,u,h)}});return Dae(l,ly(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Z5(`index ${s}`,i),n&&i instanceof Cv&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=ly(this);return r.reduce((i,s,o)=>(qe(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),LU(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=ly(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new Cv(Wk,s,o)}filter(n,r){const i=ly(this),s=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&Z5(`index ${a}`,l),n.call(r,l,a,this)&&(s.push(l),o.push(i[a]))}return new Cv(Wk,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Z5(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=ly(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Z5(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new Cv(Wk,n,r)}};v2=new WeakMap;let Vx=Cv;function Bae(t){let e=ns(t);return qe(e.length<=ta,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ta,offset:e.length}),e.length!==ta&&(e=Zo(mi([BU.slice(e.length%ta),e]))),e}class t0{constructor(e,n,r,i){Ee(this,"name");Ee(this,"type");Ee(this,"localName");Ee(this,"dynamic");Ut(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ye(!1,e,this.localName,n)}}var Gf,Gy,x2,l_;class FU{constructor(){xe(this,x2);xe(this,Gf);xe(this,Gy);te(this,Gf,[]),te(this,Gy,0)}get data(){return mi(V(this,Gf))}get length(){return V(this,Gy)}appendWriter(e){return Ze(this,x2,l_).call(this,Zo(e.data))}writeBytes(e){let n=Zo(e);const r=n.length%ta;return r&&(n=Zo(mi([n,BU.slice(r)]))),Ze(this,x2,l_).call(this,n)}writeValue(e){return Ze(this,x2,l_).call(this,Bae(e))}writeUpdatableValue(){const e=V(this,Gf).length;return V(this,Gf).push(BU),te(this,Gy,V(this,Gy)+ta),n=>{V(this,Gf)[e]=Bae(n)}}}Gf=new WeakMap,Gy=new WeakMap,x2=new WeakSet,l_=function(e){return V(this,Gf).push(e),te(this,Gy,V(this,Gy)+e.length),e.length};var _a,Al,Ky,Yy,fm,uw,zU,MAe;const tY=class tY{constructor(e,n,r){xe(this,uw);Ee(this,"allowLoose");xe(this,_a);xe(this,Al);xe(this,Ky);xe(this,Yy);xe(this,fm);Ut(this,{allowLoose:!!n}),te(this,_a,Zo(e)),te(this,Ky,0),te(this,Yy,null),te(this,fm,r??1024),te(this,Al,0)}get data(){return pt(V(this,_a))}get dataLength(){return V(this,_a).length}get consumed(){return V(this,Al)}get bytes(){return new Uint8Array(V(this,_a))}subReader(e){const n=new tY(V(this,_a).slice(V(this,Al)+e),this.allowLoose,V(this,fm));return te(n,Yy,this),n}readBytes(e,n){let r=Ze(this,uw,MAe).call(this,0,e,!!n);return Ze(this,uw,zU).call(this,e),te(this,Al,V(this,Al)+r.length),r.slice(0,e)}readValue(){return oK(this.readBytes(ta))}readIndex(){return pDt(this.readBytes(ta))}};_a=new WeakMap,Al=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,fm=new WeakMap,uw=new WeakSet,zU=function(e){var n;if(V(this,Yy))return Ze(n=V(this,Yy),uw,zU).call(n,e);te(this,Ky,V(this,Ky)+e),qe(V(this,fm)<1||V(this,Ky)<=V(this,fm)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${V(this,fm)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Zo(V(this,_a)),offset:V(this,Al),length:e,info:{bytesRead:V(this,Ky),dataLength:this.dataLength}})},MAe=function(e,n,r){let i=Math.ceil(n/ta)*ta;return V(this,Al)+i>V(this,_a).length&&(this.allowLoose&&r&&V(this,Al)+n<=V(this,_a).length?i=n:qe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Zo(V(this,_a)),length:V(this,_a).length,offset:V(this,Al)+i})),V(this,_a).slice(V(this,Al),V(this,Al)+i)};let UU=tY;function U7(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function aK(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function PDt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");U7(t.outputLen),U7(t.blockLen)}function qx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function DAe(t,e){aK(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const QO=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BAe=t=>t instanceof Uint8Array,RDt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ZO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Wd=(t,e)=>t<<32-e|t>>>e,jDt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jDt)throw new Error("Non little-endian hardware is not supported");function ODt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function NN(t){if(typeof t=="string"&&(t=ODt(t)),!BAe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function MDt(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!BAe(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let lK=class{clone(){return this._cloneInto()}};function cK(t){const e=r=>t().update(NN(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function DDt(t=32){if(QO&&typeof QO.getRandomValues=="function")return QO.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let LAe=class extends lK{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PDt(e);const r=NN(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return qx(this),this.iHash.update(e),this}digestInto(e){qx(this),aK(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const FAe=(t,e,n)=>new LAe(t,e).update(n).digest();FAe.create=(t,e)=>new LAe(t,e);function BDt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class UAe extends lK{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ZO(this.buffer)}update(e){qx(this);const{view:n,buffer:r,blockLen:i}=this;e=NN(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=ZO(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qx(this),DAe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;BDt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ZO(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const LDt=(t,e,n)=>t&e^~t&n,FDt=(t,e,n)=>t&e^t&n^e&n,UDt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),I0=new Uint32Array(64);let zDt=class extends UAe{constructor(){super(64,32,8,!1),this.A=S0[0]|0,this.B=S0[1]|0,this.C=S0[2]|0,this.D=S0[3]|0,this.E=S0[4]|0,this.F=S0[5]|0,this.G=S0[6]|0,this.H=S0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)I0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=I0[h-15],p=I0[h-2],m=Wd(f,7)^Wd(f,18)^f>>>3,g=Wd(p,17)^Wd(p,19)^p>>>10;I0[h]=g+I0[h-7]+m+I0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Wd(a,6)^Wd(a,11)^Wd(a,25),p=u+f+LDt(a,l,c)+UDt[h]+I0[h]|0,g=(Wd(r,2)^Wd(r,13)^Wd(r,22))+FDt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){I0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const zAe=cK(()=>new zDt),Hk=BigInt(2**32-1),WU=BigInt(32);function WAe(t,e=!1){return e?{h:Number(t&Hk),l:Number(t>>WU&Hk)}:{h:Number(t>>WU&Hk)|0,l:Number(t&Hk)|0}}function HAe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=WAe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const WDt=(t,e)=>BigInt(t>>>0)<<WU|BigInt(e>>>0),HDt=(t,e,n)=>t>>>n,VDt=(t,e,n)=>t<<32-n|e>>>n,qDt=(t,e,n)=>t>>>n|e<<32-n,GDt=(t,e,n)=>t<<32-n|e>>>n,KDt=(t,e,n)=>t<<64-n|e>>>n-32,YDt=(t,e,n)=>t>>>n-32|e<<64-n,QDt=(t,e)=>e,ZDt=(t,e)=>t,VAe=(t,e,n)=>t<<n|e>>>32-n,qAe=(t,e,n)=>e<<n|t>>>32-n,GAe=(t,e,n)=>e<<n-32|t>>>64-n,KAe=(t,e,n)=>t<<n-32|e>>>64-n;function JDt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const XDt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),eBt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,tBt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),nBt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,rBt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),iBt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,pn={fromBig:WAe,split:HAe,toBig:WDt,shrSH:HDt,shrSL:VDt,rotrSH:qDt,rotrSL:GDt,rotrBH:KDt,rotrBL:YDt,rotr32H:QDt,rotr32L:ZDt,rotlSH:VAe,rotlSL:qAe,rotlBH:GAe,rotlBL:KAe,add:JDt,add3L:XDt,add3H:eBt,add4L:tBt,add4H:nBt,add5H:iBt,add5L:rBt},[sBt,oBt]=pn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),T0=new Uint32Array(80),$0=new Uint32Array(80);let aBt=class extends UAe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)T0[b]=e.getUint32(n),$0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=T0[b-15]|0,E=$0[b-15]|0,$=pn.rotrSH(A,E,1)^pn.rotrSH(A,E,8)^pn.shrSH(A,E,7),N=pn.rotrSL(A,E,1)^pn.rotrSL(A,E,8)^pn.shrSL(A,E,7),R=T0[b-2]|0,M=$0[b-2]|0,F=pn.rotrSH(R,M,19)^pn.rotrBH(R,M,61)^pn.shrSH(R,M,6),W=pn.rotrSL(R,M,19)^pn.rotrBL(R,M,61)^pn.shrSL(R,M,6),H=pn.add4L(N,W,$0[b-7],$0[b-16]),L=pn.add4H(H,$,F,T0[b-7],T0[b-16]);T0[b]=L|0,$0[b]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=pn.rotrSH(h,f,14)^pn.rotrSH(h,f,18)^pn.rotrBH(h,f,41),E=pn.rotrSL(h,f,14)^pn.rotrSL(h,f,18)^pn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=pn.add5L(v,E,N,oBt[b],$0[b]),M=pn.add5H(R,w,A,$,sBt[b],T0[b]),F=R|0,W=pn.rotrSH(r,i,28)^pn.rotrBH(r,i,34)^pn.rotrBH(r,i,39),H=pn.rotrSL(r,i,28)^pn.rotrBL(r,i,34)^pn.rotrBL(r,i,39),L=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=pn.add(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=pn.add3L(F,H,k);r=pn.add3H(C,M,W,L),i=C|0}({h:r,l:i}=pn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=pn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=pn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=pn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=pn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=pn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=pn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=pn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){T0.fill(0),$0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const lBt=cK(()=>new aBt);function cBt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const Lae=cBt();Lae.crypto||Lae.msCrypto;function uBt(t){switch(t){case"sha256":return zAe.create();case"sha512":return lBt.create()}ye(!1,"invalid hashing algorithm name","algorithm",t)}const[YAe,QAe,ZAe]=[[],[],[]],dBt=BigInt(0),J5=BigInt(1),hBt=BigInt(2),fBt=BigInt(7),pBt=BigInt(256),mBt=BigInt(113);for(let t=0,e=J5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],YAe.push(2*(5*r+n)),QAe.push((t+1)*(t+2)/2%64);let i=dBt;for(let s=0;s<7;s++)e=(e<<J5^(e>>fBt)*mBt)%pBt,e&hBt&&(i^=J5<<(J5<<BigInt(s))-J5);ZAe.push(i)}const[gBt,yBt]=HAe(ZAe,!0),Fae=(t,e,n)=>n>32?GAe(t,e,n):VAe(t,e,n),Uae=(t,e,n)=>n>32?KAe(t,e,n):qAe(t,e,n);function wBt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],h=Fae(c,u,1)^n[a],f=Uae(c,u,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=QAe[o],l=Fae(i,s,a),c=Uae(i,s,a),u=YAe[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=gBt[r],t[1]^=yBt[r]}n.fill(0)}class uK extends lK{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,U7(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=RDt(this.state)}keccak(){wBt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){qx(this);const{blockLen:n,state:r}=this;e=NN(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){qx(this,!1),aK(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return U7(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(DAe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new uK(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const bBt=(t,e,n)=>cK(()=>new uK(e,t,n)),vBt=bBt(1,136,256/8);let JAe=!1;const XAe=function(t){return vBt(t)};let eCe=XAe;function Vi(t){const e=Cn(t,"data");return pt(eCe(e))}Vi._=XAe;Vi.lock=function(){JAe=!0};Vi.register=function(t){if(JAe)throw new TypeError("keccak256 is locked");eCe=t};Object.freeze(Vi);const tCe=function(t){return uBt("sha256").update(t).digest()};let nCe=tCe,rCe=!1;function G3(t){const e=Cn(t,"data");return pt(nCe(e))}G3._=tCe;G3.lock=function(){rCe=!0};G3.register=function(t){if(rCe)throw new Error("sha256 is locked");nCe=t};Object.freeze(G3);Object.freeze(G3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iCe=BigInt(0),PN=BigInt(1),xBt=BigInt(2),RN=t=>t instanceof Uint8Array,EBt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gx(t){if(!RN(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=EBt[t[n]];return e}function sCe(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function dK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Kx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function E1(t){return dK(Gx(t))}function hK(t){if(!RN(t))throw new Error("Uint8Array expected");return dK(Gx(Uint8Array.from(t).reverse()))}function Yx(t,e){return Kx(t.toString(16).padStart(e*2,"0"))}function fK(t,e){return Yx(t,e).reverse()}function ABt(t){return Kx(sCe(t))}function Ou(t,e,n){let r;if(typeof e=="string")try{r=Kx(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(RN(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function uE(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!RN(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function CBt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function kBt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _Bt(t){let e;for(e=0;t>iCe;t>>=PN,e+=1);return e}function SBt(t,e){return t>>BigInt(e)&PN}const IBt=(t,e,n)=>t|(n?PN:iCe)<<BigInt(e),pK=t=>(xBt<<BigInt(t-1))-PN,JO=t=>new Uint8Array(t),zae=t=>Uint8Array.from(t);function oCe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=JO(t),i=JO(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=JO())=>{i=a(zae([0]),h),r=a(),h.length!==0&&(i=a(zae([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return uE(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const TBt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function cC(t,e,n={}){const r=(i,s,o)=>{const a=TBt[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const $Bt=Object.freeze(Object.defineProperty({__proto__:null,bitGet:SBt,bitLen:_Bt,bitMask:pK,bitSet:IBt,bytesToHex:Gx,bytesToNumberBE:E1,bytesToNumberLE:hK,concatBytes:uE,createHmacDrbg:oCe,ensureBytes:Ou,equalBytes:CBt,hexToBytes:Kx,hexToNumber:dK,numberToBytesBE:Yx,numberToBytesLE:fK,numberToHexUnpadded:sCe,numberToVarBytesBE:ABt,utf8ToBytes:kBt,validateObject:cC},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vs=BigInt(0),Pi=BigInt(1),cy=BigInt(2),NBt=BigInt(3),HU=BigInt(4),Wae=BigInt(5),Hae=BigInt(8);BigInt(9);BigInt(16);function Ra(t,e){const n=t%e;return n>=vs?n:e+n}function PBt(t,e,n){if(n<=vs||e<vs)throw new Error("Expected power/modulo > 0");if(n===Pi)return vs;let r=Pi;for(;e>vs;)e&Pi&&(r=r*t%n),t=t*t%n,e>>=Pi;return r}function wc(t,e,n){let r=t;for(;e-- >vs;)r*=r,r%=n;return r}function VU(t,e){if(t===vs||e<=vs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ra(t,e),r=e,i=vs,s=Pi;for(;n!==vs;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==Pi)throw new Error("invert: does not exist");return Ra(i,e)}function RBt(t){const e=(t-Pi)/cy;let n,r,i;for(n=t-Pi,r=0;n%cy===vs;n/=cy,r++);for(i=cy;i<t&&PBt(i,e,t)!==t-Pi;i++);if(r===1){const o=(t+Pi)/HU;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+Pi)/cy;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(u,Pi<<BigInt(c-p-1));u=a.sqr(m),h=a.mul(h,m),f=a.mul(f,u),c=p}return h}}function jBt(t){if(t%HU===NBt){const e=(t+Pi)/HU;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Hae===Wae){const e=(t-Wae)/Hae;return function(r,i){const s=r.mul(i,cy),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,cy),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return RBt(t)}const OBt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function MBt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=OBt.reduce((r,i)=>(r[i]="function",r),e);return cC(t,n)}function DBt(t,e,n){if(n<vs)throw new Error("Expected power > 0");if(n===vs)return t.ONE;if(n===Pi)return e;let r=t.ONE,i=e;for(;n>vs;)n&Pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Pi;return r}function BBt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function aCe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function LBt(t,e,n=!1,r={}){if(t<=vs)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=aCe(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=jBt(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:pK(i),ZERO:vs,ONE:Pi,create:l=>Ra(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return vs<=l&&l<t},is0:l=>l===vs,isOdd:l=>(l&Pi)===Pi,neg:l=>Ra(-l,t),eql:(l,c)=>l===c,sqr:l=>Ra(l*l,t),add:(l,c)=>Ra(l+c,t),sub:(l,c)=>Ra(l-c,t),mul:(l,c)=>Ra(l*c,t),pow:(l,c)=>DBt(a,l,c),div:(l,c)=>Ra(l*VU(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>VU(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>BBt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?fK(l,s):Yx(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?hK(l):E1(l)}});return Object.freeze(a)}function lCe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function cCe(t){const e=lCe(t);return e+Math.ceil(e/2)}function FBt(t,e,n=!1){const r=t.length,i=lCe(e),s=cCe(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?E1(t):hK(t),a=Ra(o,e-Pi)+Pi;return n?fK(a,i):Yx(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UBt=BigInt(0),XO=BigInt(1);function zBt(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>UBt;)s&XO&&(o=o.add(a)),a=a.double(),s>>=XO;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let h=0;h<o;h++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const h=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let m=0;m<a;m++){const g=m*l;let y=Number(o&h);o>>=p,y>l&&(y-=f,o+=XO);const w=g,v=g+Math.abs(y)-1,b=m%2!==0,A=y<0;y===0?u=u.add(n(b,s[w])):c=c.add(n(A,s[v]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function uCe(t){return MBt(t.Fp),cC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...aCe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WBt(t){const e=uCe(t);cC(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:HBt,hexToBytes:VBt}=$Bt,Py={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Py;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:HBt(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Py,n=typeof t=="string"?VBt(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Py._parseInt(n.subarray(2)),{d:o,l:a}=Py._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},rp=BigInt(0),jc=BigInt(1);BigInt(2);const Vae=BigInt(3);BigInt(4);function qBt(t){const e=WBt(t),{Fp:n}=e,r=e.toBytes||((m,g,y)=>{const w=g.toAffine();return uE(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function s(m){const{a:g,b:y}=e,w=n.sqr(m),v=n.mul(w,m);return n.add(n.add(v,n.mul(m,g)),y)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&rp<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(m){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:w,n:v}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Gx(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let b;try{b=typeof m=="bigint"?m:E1(Ou("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return w&&(b=Ra(b,v)),a(b),b}const c=new Map;function u(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,y,w){if(this.px=g,this.py=y,this.pz=w,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(g){const{x:y,y:w}=g||{};if(!g||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(w)?h.ZERO:new h(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=n.invertBatch(g.map(w=>w.pz));return g.map((w,v)=>w.toAffine(y[v])).map(h.fromAffine)}static fromHex(g){const y=h.fromAffine(i(Ou("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return h.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const w=n.sqr(y),v=s(g);if(!n.eql(w,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:A,pz:E}=g,$=n.eql(n.mul(y,E),n.mul(b,v)),N=n.eql(n.mul(w,E),n.mul(A,v));return $&&N}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,w=n.mul(y,Vae),{px:v,py:b,pz:A}=this;let E=n.ZERO,$=n.ZERO,N=n.ZERO,R=n.mul(v,v),M=n.mul(b,b),F=n.mul(A,A),W=n.mul(v,b);return W=n.add(W,W),N=n.mul(v,A),N=n.add(N,N),E=n.mul(g,N),$=n.mul(w,F),$=n.add(E,$),E=n.sub(M,$),$=n.add(M,$),$=n.mul(E,$),E=n.mul(W,E),N=n.mul(w,N),F=n.mul(g,F),W=n.sub(R,F),W=n.mul(g,W),W=n.add(W,N),N=n.add(R,R),R=n.add(N,R),R=n.add(R,F),R=n.mul(R,W),$=n.add($,R),F=n.mul(b,A),F=n.add(F,F),R=n.mul(F,W),E=n.sub(E,R),N=n.mul(F,M),N=n.add(N,N),N=n.add(N,N),new h(E,$,N)}add(g){u(g);const{px:y,py:w,pz:v}=this,{px:b,py:A,pz:E}=g;let $=n.ZERO,N=n.ZERO,R=n.ZERO;const M=e.a,F=n.mul(e.b,Vae);let W=n.mul(y,b),H=n.mul(w,A),L=n.mul(v,E),k=n.add(y,w),C=n.add(b,A);k=n.mul(k,C),C=n.add(W,H),k=n.sub(k,C),C=n.add(y,v);let _=n.add(b,E);return C=n.mul(C,_),_=n.add(W,L),C=n.sub(C,_),_=n.add(w,v),$=n.add(A,E),_=n.mul(_,$),$=n.add(H,L),_=n.sub(_,$),R=n.mul(M,C),$=n.mul(F,L),R=n.add($,R),$=n.sub(H,R),R=n.add(H,R),N=n.mul($,R),H=n.add(W,W),H=n.add(H,W),L=n.mul(M,L),C=n.mul(F,C),H=n.add(H,L),L=n.sub(W,L),L=n.mul(M,L),C=n.add(C,L),W=n.mul(H,C),N=n.add(N,W),W=n.mul(_,C),$=n.mul(k,$),$=n.sub($,W),W=n.mul(k,H),R=n.mul(_,R),R=n.add(R,W),new h($,N,R)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return p.wNAFCached(this,c,g,y=>{const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(h.fromAffine)})}multiplyUnsafe(g){const y=h.ZERO;if(g===rp)return y;if(a(g),g===jc)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,g);let{k1neg:v,k1:b,k2neg:A,k2:E}=w.splitScalar(g),$=y,N=y,R=this;for(;b>rp||E>rp;)b&jc&&($=$.add(R)),E&jc&&(N=N.add(R)),R=R.double(),b>>=jc,E>>=jc;return v&&($=$.negate()),A&&(N=N.negate()),N=new h(n.mul(N.px,w.beta),N.py,N.pz),$.add(N)}multiply(g){a(g);let y=g,w,v;const{endo:b}=e;if(b){const{k1neg:A,k1:E,k2neg:$,k2:N}=b.splitScalar(y);let{p:R,f:M}=this.wNAF(E),{p:F,f:W}=this.wNAF(N);R=p.constTimeNegate(A,R),F=p.constTimeNegate($,F),F=new h(n.mul(F.px,b.beta),F.py,F.pz),w=R.add(F),v=M.add(W)}else{const{p:A,f:E}=this.wNAF(y);w=A,v=E}return h.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(g,y,w){const v=h.BASE,b=(E,$)=>$===rp||$===jc||!E.equals(v)?E.multiplyUnsafe($):E.multiply($),A=b(this,y).add(b(g,w));return A.is0()?void 0:A}toAffine(g){const{px:y,py:w,pz:v}=this,b=this.is0();g==null&&(g=b?n.ONE:n.inv(v));const A=n.mul(y,g),E=n.mul(w,g),$=n.mul(v,g);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:A,y:E}}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===jc)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===jc?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return Gx(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=zBt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function GBt(t){const e=uCe(t);return cC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function KBt(t){const e=GBt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return rp<C&&C<n.ORDER}function a(C){return Ra(C,r)}function l(C){return VU(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:f}=qBt({...e,toBytes(C,_,T){const S=_.toAffine(),P=n.toBytes(S.x),D=uE;return T?D(Uint8Array.from([_.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,n.toBytes(S.y))},fromBytes(C){const _=C.length,T=C[0],S=C.subarray(1);if(_===i&&(T===2||T===3)){const P=E1(S);if(!o(P))throw new Error("Point is not on curve");const D=h(P);let O=n.sqrt(D);const I=(O&jc)===jc;return(T&1)===1!==I&&(O=n.neg(O)),{x:P,y:O}}else if(_===s&&T===4){const P=n.fromBytes(S.subarray(0,n.BYTES)),D=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:P,y:D}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=C=>Gx(Yx(C,e.nByteLength));function m(C){const _=r>>jc;return C>_}function g(C){return m(C)?a(-C):C}const y=(C,_,T)=>E1(C.slice(_,T));class w{constructor(_,T,S){this.r=_,this.s=T,this.recovery=S,this.assertValidity()}static fromCompact(_){const T=e.nByteLength;return _=Ou("compactSignature",_,T*2),new w(y(_,0,T),y(_,T,2*T))}static fromDER(_){const{r:T,s:S}=Py.toSig(Ou("DER",_));return new w(T,S)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(_){return new w(this.r,this.s,_)}recoverPublicKey(_){const{r:T,s:S,recovery:P}=this,D=N(Ou("msgHash",_));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const O=P===2||P===3?T+e.n:T;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const I=P&1?"03":"02",B=c.fromHex(I+p(O)),Q=l(O),j=a(-D*Q),Y=a(S*Q),ee=c.BASE.multiplyAndAddUnsafe(B,j,Y);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Kx(this.toDERHex())}toDERHex(){return Py.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Kx(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=cCe(e.n);return FBt(e.randomBytes(C),e.n)},precompute(C=8,_=c.BASE){return _._setWindowSize(C),_.multiply(BigInt(3)),_}};function b(C,_=!0){return c.fromPrivateKey(C).toRawBytes(_)}function A(C){const _=C instanceof Uint8Array,T=typeof C=="string",S=(_||T)&&C.length;return _?S===i||S===s:T?S===2*i||S===2*s:C instanceof c}function E(C,_,T=!0){if(A(C))throw new Error("first arg must be private key");if(!A(_))throw new Error("second arg must be public key");return c.fromHex(_).multiply(u(C)).toRawBytes(T)}const $=e.bits2int||function(C){const _=E1(C),T=C.length*8-e.nBitLength;return T>0?_>>BigInt(T):_},N=e.bits2int_modN||function(C){return a($(C))},R=pK(e.nBitLength);function M(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(rp<=C&&C<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Yx(C,e.nByteLength)}function F(C,_,T=W){if(["recovered","canonical"].some(oe=>oe in T))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:P}=e;let{lowS:D,prehash:O,extraEntropy:I}=T;D==null&&(D=!0),C=Ou("msgHash",C),O&&(C=Ou("prehashed msgHash",S(C)));const B=N(C),Q=u(_),j=[M(Q),M(B)];if(I!=null){const oe=I===!0?P(n.BYTES):I;j.push(Ou("extraEntropy",oe))}const Y=uE(...j),ee=B;function Z(oe){const de=$(oe);if(!f(de))return;const ce=l(de),he=c.BASE.multiply(de).toAffine(),be=a(he.x);if(be===rp)return;const fe=a(ce*a(ee+be*Q));if(fe===rp)return;let ke=(he.x===be?0:2)|Number(he.y&jc),we=fe;return D&&m(fe)&&(we=g(fe),ke^=1),new w(be,we,ke)}return{seed:Y,k2sig:Z}}const W={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function L(C,_,T=W){const{seed:S,k2sig:P}=F(C,_,T),D=e;return oCe(D.hash.outputLen,D.nByteLength,D.hmac)(S,P)}c.BASE._setWindowSize(8);function k(C,_,T,S=H){var he;const P=C;if(_=Ou("msgHash",_),T=Ou("publicKey",T),"strict"in S)throw new Error("options.strict was renamed to lowS");const{lowS:D,prehash:O}=S;let I,B;try{if(typeof P=="string"||P instanceof Uint8Array)try{I=w.fromDER(P)}catch(be){if(!(be instanceof Py.Err))throw be;I=w.fromCompact(P)}else if(typeof P=="object"&&typeof P.r=="bigint"&&typeof P.s=="bigint"){const{r:be,s:fe}=P;I=new w(be,fe)}else throw new Error("PARSE");B=c.fromHex(T)}catch(be){if(be.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&I.hasHighS())return!1;O&&(_=e.hash(_));const{r:Q,s:j}=I,Y=N(_),ee=l(j),Z=a(Y*ee),oe=a(Q*ee),de=(he=c.BASE.multiplyAndAddUnsafe(B,Z,oe))==null?void 0:he.toAffine();return de?a(de.x)===Q:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:L,verify:k,ProjectivePoint:c,Signature:w,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YBt(t){return{hash:t,hmac:(e,...n)=>FAe(t,e,MDt(...n)),randomBytes:DDt}}function QBt(t,e){const n=r=>KBt({...t,...YBt(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dCe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qae=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ZBt=BigInt(1),qU=BigInt(2),Gae=(t,e)=>(t+e/qU)/e;function JBt(t){const e=dCe,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=wc(u,n,e)*u%e,f=wc(h,n,e)*u%e,p=wc(f,qU,e)*c%e,m=wc(p,i,e)*p%e,g=wc(m,s,e)*m%e,y=wc(g,a,e)*g%e,w=wc(y,l,e)*y%e,v=wc(w,a,e)*g%e,b=wc(v,n,e)*u%e,A=wc(b,o,e)*m%e,E=wc(A,r,e)*c%e,$=wc(E,qU,e);if(!GU.eql(GU.sqr($),t))throw new Error("Cannot find square root");return $}const GU=LBt(dCe,void 0,void 0,{sqrt:JBt}),F0=QBt({a:BigInt(0),b:BigInt(7),Fp:GU,n:qae,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=qae,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ZBt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Gae(s*t,e),l=Gae(-r*t,e);let c=Ra(t-a*n-l*i,e),u=Ra(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},zAe);BigInt(0);F0.ProjectivePoint;const dE="0x0000000000000000000000000000000000000000",Kae="0x0000000000000000000000000000000000000000000000000000000000000000",Yae=BigInt(0),Qae=BigInt(1),Zae=BigInt(2),Jae=BigInt(27),Xae=BigInt(28),Vk=BigInt(35),Sb={};function ele(t){return Gp(ns(t),32)}var E2,sh,A2,Qy;const $u=class $u{constructor(e,n,r,i){xe(this,E2);xe(this,sh);xe(this,A2);xe(this,Qy);IN(e,Sb,"Signature"),te(this,E2,n),te(this,sh,r),te(this,A2,i),te(this,Qy,null)}get r(){return V(this,E2)}set r(e){ye(Xv(e)===32,"invalid r","value",e),te(this,E2,pt(e))}get s(){return ye(parseInt(V(this,sh).substring(0,3))<8,"non-canonical s; use ._s","s",V(this,sh)),V(this,sh)}set s(e){ye(Xv(e)===32,"invalid s","value",e),te(this,sh,pt(e))}get _s(){return V(this,sh)}isValid(){return parseInt(V(this,sh).substring(0,3))<8}get v(){return V(this,A2)}set v(e){const n=kn(e,"value");ye(n===27||n===28,"invalid v","v",e),te(this,A2,n)}get networkV(){return V(this,Qy)}get legacyChainId(){const e=this.networkV;return e==null?null:$u.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Cn(this.s);return this.yParity&&(e[0]|=128),pt(e)}get compactSerialized(){return mi([this.r,this.yParityAndS])}get serialized(){return mi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new $u(Sb,this.r,this._s,this.v);return this.networkV&&te(e,Qy,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=At(e,"v");return n==Jae||n==Xae?Yae:(ye(n>=Vk,"invalid EIP-155 v","v",e),(n-Vk)/Zae)}static getChainIdV(e,n){return At(e)*Zae+BigInt(35+n-27)}static getNormalizedV(e){const n=At(e);return n===Yae||n===Jae?27:n===Qae||n===Xae?28:(ye(n>=Vk,"invalid v","v",e),n&Qae?27:28)}static from(e){function n(c,u){ye(c,u,"signature",e)}if(e==null)return new $u(Sb,Kae,Kae,27);if(typeof e=="string"){const c=Cn(e,"signature");if(c.length===64){const u=pt(c.slice(0,32)),h=c.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new $u(Sb,u,pt(h),f)}if(c.length===65){const u=pt(c.slice(0,32)),h=pt(c.slice(32,64)),f=$u.getNormalizedV(c[64]);return new $u(Sb,u,h,f)}n(!1,"invalid raw signature length")}if(e instanceof $u)return e.clone();const r=e.r;n(r!=null,"missing r");const i=ele(r),s=function(c,u){if(c!=null)return ele(c);if(u!=null){n(kr(u,32),"invalid yParityAndS");const h=Cn(u);return h[0]&=127,pt(h)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,u,h){if(c!=null){const f=At(c);return{networkV:f>=Vk?f:void 0,v:$u.getNormalizedV(f)}}if(u!=null)return n(kr(u,32),"invalid yParityAndS"),{v:Cn(u)[0]&128?28:27};if(h!=null){switch(kn(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new $u(Sb,i,s,a);return o&&te(l,Qy,o),n(e.yParity==null||kn(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};E2=new WeakMap,sh=new WeakMap,A2=new WeakMap,Qy=new WeakMap;let Za=$u;var Kf;const py=class py{constructor(e){xe(this,Kf);ye(Xv(e)===32,"invalid private key","privateKey","[REDACTED]"),te(this,Kf,pt(e))}get privateKey(){return V(this,Kf)}get publicKey(){return py.computePublicKey(V(this,Kf))}get compressedPublicKey(){return py.computePublicKey(V(this,Kf),!0)}sign(e){ye(Xv(e)===32,"invalid digest length","digest",e);const n=F0.sign(Zo(e),Zo(V(this,Kf)),{lowS:!0});return Za.from({r:mg(n.r,32),s:mg(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=py.computePublicKey(e);return pt(F0.getSharedSecret(Zo(V(this,Kf)),Cn(n),!1))}static computePublicKey(e,n){let r=Cn(e,"key");if(r.length===32){const s=F0.getPublicKey(r,!!n);return pt(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=F0.ProjectivePoint.fromHex(r);return pt(i.toRawBytes(n))}static recoverPublicKey(e,n){ye(Xv(e)===32,"invalid digest length","digest",e);const r=Za.from(n);let i=F0.Signature.fromCompact(Zo(mi([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(Zo(e));return ye(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=F0.ProjectivePoint.fromHex(py.computePublicKey(e).substring(2)),s=F0.ProjectivePoint.fromHex(py.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};Kf=new WeakMap;let hE=py;const XBt=BigInt(0),eLt=BigInt(36);function tle(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Cn(Vi(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const mK={};for(let t=0;t<10;t++)mK[String(t)]=String(t);for(let t=0;t<26;t++)mK[String.fromCharCode(65+t)]=String(10+t);const nle=15;function tLt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>mK[r]).join("");for(;e.length>=nle;){let r=e.substring(0,nle);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const nLt=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function rLt(t){t=t.toLowerCase();let e=XBt;for(let n=0;n<t.length;n++)e=e*eLt+nLt[t[n]];return e}function rr(t){if(ye(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=tle(t);return ye(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ye(t.substring(2,4)===tLt(t),"bad icap checksum","address",t);let e=rLt(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return tle("0x"+e)}ye(!1,"invalid address","address",t)}function iLt(t){const e=rr(t.from);let r=At(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,rr(ui(Vi(gg([e,r])),12))}function hCe(t){return t&&typeof t.getAddress=="function"}async function eM(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(qe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ye(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),rr(n)}function na(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?rr(t):(qe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),eM(t,e.resolveName(t)));if(hCe(t))return eM(t,t.getAddress());if(t&&typeof t.then=="function")return eM(t,t);ye(!1,"unsupported addressable value","target",t)}const Rf={};function vt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Ro(Rf,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Kn(t,e){return new Ro(Rf,`bytes${e||""}`,t,{size:e})}const rle=Symbol.for("_ethers_typed");var Zy;const jf=class jf{constructor(e,n,r,i){Ee(this,"type");Ee(this,"value");xe(this,Zy);Ee(this,"_typedSymbol");i==null&&(i=null),IN(Rf,e,"Typed"),Ut(this,{_typedSymbol:rle,type:n,value:r}),te(this,Zy,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return V(this,Zy)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return V(this,Zy)===!0?-1:V(this,Zy)===!1?this.value.length:null}static from(e,n){return new jf(Rf,e,n)}static uint8(e){return vt(e,8)}static uint16(e){return vt(e,16)}static uint24(e){return vt(e,24)}static uint32(e){return vt(e,32)}static uint40(e){return vt(e,40)}static uint48(e){return vt(e,48)}static uint56(e){return vt(e,56)}static uint64(e){return vt(e,64)}static uint72(e){return vt(e,72)}static uint80(e){return vt(e,80)}static uint88(e){return vt(e,88)}static uint96(e){return vt(e,96)}static uint104(e){return vt(e,104)}static uint112(e){return vt(e,112)}static uint120(e){return vt(e,120)}static uint128(e){return vt(e,128)}static uint136(e){return vt(e,136)}static uint144(e){return vt(e,144)}static uint152(e){return vt(e,152)}static uint160(e){return vt(e,160)}static uint168(e){return vt(e,168)}static uint176(e){return vt(e,176)}static uint184(e){return vt(e,184)}static uint192(e){return vt(e,192)}static uint200(e){return vt(e,200)}static uint208(e){return vt(e,208)}static uint216(e){return vt(e,216)}static uint224(e){return vt(e,224)}static uint232(e){return vt(e,232)}static uint240(e){return vt(e,240)}static uint248(e){return vt(e,248)}static uint256(e){return vt(e,256)}static uint(e){return vt(e,256)}static int8(e){return vt(e,-8)}static int16(e){return vt(e,-16)}static int24(e){return vt(e,-24)}static int32(e){return vt(e,-32)}static int40(e){return vt(e,-40)}static int48(e){return vt(e,-48)}static int56(e){return vt(e,-56)}static int64(e){return vt(e,-64)}static int72(e){return vt(e,-72)}static int80(e){return vt(e,-80)}static int88(e){return vt(e,-88)}static int96(e){return vt(e,-96)}static int104(e){return vt(e,-104)}static int112(e){return vt(e,-112)}static int120(e){return vt(e,-120)}static int128(e){return vt(e,-128)}static int136(e){return vt(e,-136)}static int144(e){return vt(e,-144)}static int152(e){return vt(e,-152)}static int160(e){return vt(e,-160)}static int168(e){return vt(e,-168)}static int176(e){return vt(e,-176)}static int184(e){return vt(e,-184)}static int192(e){return vt(e,-192)}static int200(e){return vt(e,-200)}static int208(e){return vt(e,-208)}static int216(e){return vt(e,-216)}static int224(e){return vt(e,-224)}static int232(e){return vt(e,-232)}static int240(e){return vt(e,-240)}static int248(e){return vt(e,-248)}static int256(e){return vt(e,-256)}static int(e){return vt(e,-256)}static bytes1(e){return Kn(e,1)}static bytes2(e){return Kn(e,2)}static bytes3(e){return Kn(e,3)}static bytes4(e){return Kn(e,4)}static bytes5(e){return Kn(e,5)}static bytes6(e){return Kn(e,6)}static bytes7(e){return Kn(e,7)}static bytes8(e){return Kn(e,8)}static bytes9(e){return Kn(e,9)}static bytes10(e){return Kn(e,10)}static bytes11(e){return Kn(e,11)}static bytes12(e){return Kn(e,12)}static bytes13(e){return Kn(e,13)}static bytes14(e){return Kn(e,14)}static bytes15(e){return Kn(e,15)}static bytes16(e){return Kn(e,16)}static bytes17(e){return Kn(e,17)}static bytes18(e){return Kn(e,18)}static bytes19(e){return Kn(e,19)}static bytes20(e){return Kn(e,20)}static bytes21(e){return Kn(e,21)}static bytes22(e){return Kn(e,22)}static bytes23(e){return Kn(e,23)}static bytes24(e){return Kn(e,24)}static bytes25(e){return Kn(e,25)}static bytes26(e){return Kn(e,26)}static bytes27(e){return Kn(e,27)}static bytes28(e){return Kn(e,28)}static bytes29(e){return Kn(e,29)}static bytes30(e){return Kn(e,30)}static bytes31(e){return Kn(e,31)}static bytes32(e){return Kn(e,32)}static address(e){return new jf(Rf,"address",e)}static bool(e){return new jf(Rf,"bool",!!e)}static bytes(e){return new jf(Rf,"bytes",e)}static string(e){return new jf(Rf,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new jf(Rf,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===rle}static dereference(e,n){if(jf.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Zy=new WeakMap;let Ro=jf;class sLt extends t0{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Ro.dereference(n,"string");try{r=rr(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return rr(mg(e.readValue(),20))}}class oLt extends t0{constructor(n){super(n.name,n.type,"_",n.dynamic);Ee(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function fCe(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return qe(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),qe(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else ye(!1,"invalid tuple value","tuple",n);ye(e.length===r.length,"types/value length mismatch","tuple",n);let i=new FU,s=new FU,o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let h=s.length;l.encode(s,u);let f=i.writeUpdatableValue();o.push(p=>{f(p+h)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function pCe(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),l=i.subReader(a);try{o=s.decode(l)}catch(c){if(Us(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(Us(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),Vx.fromItems(n,r)}class aLt extends t0{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);Ee(this,"coder");Ee(this,"length");Ut(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Ro.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),AAe(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return fCe(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),qe(r*ta<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*ta,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new oLt(this.coder));return pCe(n,i)}}class lLt extends t0{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Ro.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class mCe extends t0{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Zo(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class cLt extends mCe{constructor(e){super("bytes",e)}decode(e){return pt(super.decode(e))}}class uLt extends t0{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);Ee(this,"size");Ut(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=Zo(Ro.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return pt(n.readBytes(this.size))}}const dLt=new Uint8Array([]);class hLt extends t0{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(dLt)}decode(e){return e.readBytes(0),null}}const fLt=BigInt(0),pLt=BigInt(1),mLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class gLt extends t0{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);Ee(this,"size");Ee(this,"signed");Ut(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=At(Ro.dereference(r,this.type)),s=A6(mLt,ta*8);if(this.signed){let o=A6(s,this.size*8-1);(i>o||i<-(o+pLt))&&this._throwError("value out-of-bounds",r),i=_Ae(i,8*ta)}else(i<fLt||i>A6(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=A6(n.readValue(),this.size*8);return this.signed&&(r=fDt(r,this.size*8)),r}}class yLt extends mCe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ep(Ro.dereference(n,"string")))}decode(e){return F7(super.decode(e))}}class qk extends t0{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);Ee(this,"coders");Ut(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Ro.dereference(r,"tuple");return fCe(n,this.coders,i)}decode(n){return pCe(n,this.coders)}}function tM(t,e){return{address:rr(t),storageKeys:e.map((n,r)=>(ye(kr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Fw(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ye(n.length===2,"invalid slot set",`value[${r}]`,n),tM(n[0],n[1])):(ye(n!=null&&typeof n=="object","invalid address-slot set","value",t),tM(n.address,n.storageKeys)));ye(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return tM(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function gCe(t){return{address:rr(t.address),nonce:At(t.nonce!=null?t.nonce:0),chainId:At(t.chainId!=null?t.chainId:0),signature:Za.from(t.signature)}}function wLt(t){let e;return typeof t=="string"?e=hE.computePublicKey(t,!1):e=t.publicKey,rr(Vi("0x"+e.substring(4)).substring(26))}function bLt(t,e){return wLt(hE.recoverPublicKey(t,e))}const ws=BigInt(0),vLt=BigInt(2),xLt=BigInt(27),ELt=BigInt(28),ALt=BigInt(35),CLt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),nM=4096*32;function kLt(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Cn(t.blobToKzgCommitment(pt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Cn(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Cn(t.blobToKZGCommitment(pt(r)));ye(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Cn(t.computeBlobProof(pt(r),pt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Cn(t.computeBlobKZGProof(pt(r),pt(i)));ye(!1,"unsupported KZG library","kzg",t)}}}function ile(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=G3(e).substring(4),"0x"+n}function K3(t){return t==="0x"?null:rr(t)}function jN(t,e){try{return Fw(t)}catch(n){ye(!1,n.message,e,t)}}function _Lt(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:K3(i[1]),nonce:dr(i[2],"nonce"),chainId:dr(i[0],"chainId"),signature:Za.from({yParity:Uw(i[3],"yParity"),r:Gp(i[4],32),s:Gp(i[5],32)})})}return n}catch(n){ye(!1,n.message,e,t)}}function Uw(t,e){return t==="0x"?0:kn(t,e)}function dr(t,e){if(t==="0x")return ws;const n=At(t,e);return ye(n<=CLt,"value exceeds uint size",e,n),n}function Dn(t,e){const n=At(t,"value"),r=ns(n);return ye(r.length<=32,"value too large",`tx.${e}`,n),r}function ON(t){return Fw(t).map(e=>[e.address,e.storageKeys])}function SLt(t){return t.map(e=>[Dn(e.chainId,"chainId"),e.address,Dn(e.nonce,"nonce"),Dn(e.signature.yParity,"yParity"),ns(e.signature.r),ns(e.signature.s)])}function ILt(t,e){ye(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ye(kr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function TLt(t){const e=lC(t);ye(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Uw(e[0],"nonce"),gasPrice:dr(e[1],"gasPrice"),gasLimit:dr(e[2],"gasLimit"),to:K3(e[3]),value:dr(e[4],"value"),data:pt(e[5]),chainId:ws};if(e.length===6)return n;const r=dr(e[6],"v"),i=dr(e[7],"r"),s=dr(e[8],"s");if(i===ws&&s===ws)n.chainId=r;else{let o=(r-ALt)/vLt;o<ws&&(o=ws),n.chainId=o,ye(o!==ws||r===xLt||r===ELt,"non-canonical legacy v","v",e[6]),n.signature=Za.from({r:Gp(e[7],32),s:Gp(e[8],32),v:r})}return n}function $Lt(t,e){const n=[Dn(t.nonce,"nonce"),Dn(t.gasPrice||0,"gasPrice"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data];let r=ws;if(t.chainId!=ws)r=At(t.chainId,"tx.chainId"),ye(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==ws&&(n.push(ns(r)),n.push("0x"),n.push("0x")),gg(n);let i=BigInt(27+e.yParity);return r!==ws?i=Za.getChainIdV(r,e.v):BigInt(e.v)!==i&&ye(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(ns(i)),n.push(ns(e.r)),n.push(ns(e.s)),gg(n)}function MN(t,e){let n;try{if(n=Uw(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ye(!1,"invalid yParity","yParity",e[0])}const r=Gp(e[1],32),i=Gp(e[2],32),s=Za.from({r,s:i,yParity:n});t.signature=s}function NLt(t){const e=lC(Cn(t).slice(1));ye(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",pt(t));const n={type:2,chainId:dr(e[0],"chainId"),nonce:Uw(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:K3(e[5]),value:dr(e[6],"value"),data:pt(e[7]),accessList:jN(e[8],"accessList")};return e.length===9||MN(n,e.slice(9)),n}function PLt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,ON(t.accessList||[])];return e&&(n.push(Dn(e.yParity,"yParity")),n.push(ns(e.r)),n.push(ns(e.s))),mi(["0x02",gg(n)])}function RLt(t){const e=lC(Cn(t).slice(1));ye(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",pt(t));const n={type:1,chainId:dr(e[0],"chainId"),nonce:Uw(e[1],"nonce"),gasPrice:dr(e[2],"gasPrice"),gasLimit:dr(e[3],"gasLimit"),to:K3(e[4]),value:dr(e[5],"value"),data:pt(e[6]),accessList:jN(e[7],"accessList")};return e.length===8||MN(n,e.slice(8)),n}function jLt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.gasPrice||0,"gasPrice"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,ON(t.accessList||[])];return e&&(n.push(Dn(e.yParity,"recoveryParam")),n.push(ns(e.r)),n.push(ns(e.s))),mi(["0x01",gg(n)])}function OLt(t){let e=lC(Cn(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];ye(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ye(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),ye(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ye(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),ye(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:s[l],commitment:o[l],proof:a[l]});e=e[0]}ye(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",pt(t));const i={type:3,chainId:dr(e[0],"chainId"),nonce:Uw(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:K3(e[5]),value:dr(e[6],"value"),data:pt(e[7]),accessList:jN(e[8],"accessList"),maxFeePerBlobGas:dr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ye(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ye(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)ye(kr(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||MN(i,e.slice(11)),i}function MLt(t,e,n){const r=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||dE,Dn(t.value,"value"),t.data,ON(t.accessList||[]),Dn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ILt(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Dn(e.yParity,"yParity")),r.push(ns(e.r)),r.push(ns(e.s)),n)?mi(["0x03",gg([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):mi(["0x03",gg(r)])}function DLt(t){const e=lC(Cn(t).slice(1));ye(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",pt(t));const n={type:4,chainId:dr(e[0],"chainId"),nonce:Uw(e[1],"nonce"),maxPriorityFeePerGas:dr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dr(e[4],"gasLimit"),to:K3(e[5]),value:dr(e[6],"value"),data:pt(e[7]),accessList:jN(e[8],"accessList"),authorizationList:_Lt(e[9],"authorizationList")};return e.length===10||MN(n,e.slice(10)),n}function BLt(t,e){const n=[Dn(t.chainId,"chainId"),Dn(t.nonce,"nonce"),Dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Dn(t.maxFeePerGas||0,"maxFeePerGas"),Dn(t.gasLimit,"gasLimit"),t.to||"0x",Dn(t.value,"value"),t.data,ON(t.accessList||[]),SLt(t.authorizationList||[])];return e&&(n.push(Dn(e.yParity,"yParity")),n.push(ns(e.r)),n.push(ns(e.s))),mi(["0x04",gg(n)])}var Fu,C2,k2,_2,S2,I2,T2,$2,N2,P2,R2,j2,Jy,pm,oh,mm,O2,M2,c_,Sl;let yCe=(Sl=class{constructor(){xe(this,M2);xe(this,Fu);xe(this,C2);xe(this,k2);xe(this,_2);xe(this,S2);xe(this,I2);xe(this,T2);xe(this,$2);xe(this,N2);xe(this,P2);xe(this,R2);xe(this,j2);xe(this,Jy);xe(this,pm);xe(this,oh);xe(this,mm);xe(this,O2);te(this,Fu,null),te(this,C2,null),te(this,_2,0),te(this,S2,ws),te(this,I2,null),te(this,T2,null),te(this,$2,null),te(this,k2,"0x"),te(this,N2,ws),te(this,P2,ws),te(this,R2,null),te(this,j2,null),te(this,Jy,null),te(this,pm,null),te(this,oh,null),te(this,mm,null),te(this,O2,null)}get type(){return V(this,Fu)}set type(e){switch(e){case null:te(this,Fu,null);break;case 0:case"legacy":te(this,Fu,0);break;case 1:case"berlin":case"eip-2930":te(this,Fu,1);break;case 2:case"london":case"eip-1559":te(this,Fu,2);break;case 3:case"cancun":case"eip-4844":te(this,Fu,3);break;case 4:case"pectra":case"eip-7702":te(this,Fu,4);break;default:ye(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=V(this,C2);return e==null&&this.type===3?dE:e}set to(e){te(this,C2,e==null?null:rr(e))}get nonce(){return V(this,_2)}set nonce(e){te(this,_2,kn(e,"value"))}get gasLimit(){return V(this,S2)}set gasLimit(e){te(this,S2,At(e))}get gasPrice(){const e=V(this,I2);return e==null&&(this.type===0||this.type===1)?ws:e}set gasPrice(e){te(this,I2,e==null?null:At(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=V(this,T2);return e??(this.type===2||this.type===3?ws:null)}set maxPriorityFeePerGas(e){te(this,T2,e==null?null:At(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=V(this,$2);return e??(this.type===2||this.type===3?ws:null)}set maxFeePerGas(e){te(this,$2,e==null?null:At(e,"maxFeePerGas"))}get data(){return V(this,k2)}set data(e){te(this,k2,pt(e))}get value(){return V(this,N2)}set value(e){te(this,N2,At(e,"value"))}get chainId(){return V(this,P2)}set chainId(e){te(this,P2,At(e))}get signature(){return V(this,R2)||null}set signature(e){te(this,R2,e==null?null:Za.from(e))}get accessList(){const e=V(this,j2)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){te(this,j2,e==null?null:Fw(e))}get authorizationList(){const e=V(this,O2)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){te(this,O2,e==null?null:e.map(n=>gCe(n)))}get maxFeePerBlobGas(){const e=V(this,Jy);return e==null&&this.type===3?ws:e}set maxFeePerBlobGas(e){te(this,Jy,e==null?null:At(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=V(this,pm);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ye(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ye(kr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}te(this,pm,e)}get blobs(){return V(this,mm)==null?null:V(this,mm).map(e=>Object.assign({},e))}set blobs(e){if(e==null){te(this,mm,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(sK(s)){qe(V(this,oh),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Cn(s);if(ye(o.length<=nM,"blob is too large",`blobs[${i}]`,s),o.length!==nM){const c=new Uint8Array(nM);c.set(o),o=c}const a=V(this,oh).blobToKzgCommitment(o),l=pt(V(this,oh).computeBlobKzgProof(o,a));n.push({data:pt(o),commitment:pt(a),proof:l}),r.push(ile(1,a))}else{const o=pt(s.commitment);n.push({data:pt(s.data),commitment:o,proof:pt(s.proof)}),r.push(ile(1,o))}}te(this,mm,n),te(this,pm,r)}get kzg(){return V(this,oh)}set kzg(e){e==null?te(this,oh,null):te(this,oh,kLt(e))}get hash(){return this.signature==null?null:Vi(Ze(this,M2,c_).call(this,!0,!1))}get unsignedHash(){return Vi(this.unsignedSerialized)}get from(){return this.signature==null?null:bLt(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:hE.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Ze(this,M2,c_).call(this,!0,!0)}get unsignedSerialized(){return Ze(this,M2,c_).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=V(this,Jy)!=null||V(this,pm);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&qe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),qe(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),qe(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Sl.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Sl;if(typeof e=="string"){const r=Cn(e);if(r[0]>=127)return Sl.from(TLt(r));switch(r[0]){case 1:return Sl.from(RLt(r));case 2:return Sl.from(NLt(r));case 3:return Sl.from(OLt(r));case 4:return Sl.from(DLt(r))}qe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Sl;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Za.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ye(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ye(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ye(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}},Fu=new WeakMap,C2=new WeakMap,k2=new WeakMap,_2=new WeakMap,S2=new WeakMap,I2=new WeakMap,T2=new WeakMap,$2=new WeakMap,N2=new WeakMap,P2=new WeakMap,R2=new WeakMap,j2=new WeakMap,Jy=new WeakMap,pm=new WeakMap,oh=new WeakMap,mm=new WeakMap,O2=new WeakMap,M2=new WeakSet,c_=function(e,n){qe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return $Lt(this,r);case 1:return jLt(this,r);case 2:return PLt(this,r);case 3:return MLt(this,r,n?this.blobs:null);case 4:return BLt(this,r)}qe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},Sl);function rw(t){return Vi(Ep(t))}var LLt="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const sle=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ole=4;function FLt(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let E=1;E<r;E++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=2**h,p=f>>>1,m=p>>1,g=f-1;let y=0;for(let E=0;E<h;E++)y=y<<1|u();let w=[],v=0,b=f;for(;;){let E=Math.floor(((y-v+1)*i-1)/b),$=0,N=r;for(;N-$>1;){let F=$+N>>>1;E<s[F]?N=F:$=F}if($==0)break;w.push($);let R=v+Math.floor(b*s[$]/i),M=v+Math.floor(b*s[$+1]/i)-1;for(;!((R^M)&p);)y=y<<1&g|u(),R=R<<1&g,M=M<<1&g|1;for(;R&~M&m;)y=y&p|y<<1&g>>>1|u(),R=R<<1^p,M=(M^p)<<1|p|1;v=R,b=1+M-R}let A=r-4;return w.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function ULt(t){let e=0;return()=>t[e++]}function wCe(t){return ULt(FLt(zLt(t)))}function zLt(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function WLt(t){return t&1?~t>>1:t>>1}function HLt(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=WLt(e());return n}function fE(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function bCe(t){return pE(()=>{let e=fE(t);if(e.length)return e})}function vCe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(VLt(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(qLt(n,t))}return e.flat()}function pE(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function xCe(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)HLt(t,n).forEach((s,o)=>r[o].push(s));return r}function VLt(t,e){let n=1+e(),r=e(),i=pE(e);return xCe(i.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(i[a]).fill().map((u,h)=>{let f=h*r;return[l+h*n,c.map(p=>p+f)]})})}function qLt(t,e){let n=1+e();return xCe(n,1+t,e).map(i=>[i[0],i.slice(1)])}function GLt(t){let e=[],n=fE(t);return i(r([]),[]),e;function r(s){let o=t(),a=pE(()=>{let l=fE(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],l)}}}function KLt(t){return t.toString(16).toUpperCase().padStart(2,"0")}function ECe(t){return`{${KLt(t)}}`}function YLt(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Qx(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function QLt(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var ZLt="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const mE=44032,z7=4352,W7=4449,H7=4519,ACe=19,CCe=21,Zx=28,V7=CCe*Zx,JLt=ACe*V7,XLt=mE+JLt,eFt=z7+ACe,tFt=W7+CCe,nFt=H7+Zx;function k6(t){return t>>24&255}function kCe(t){return t&16777215}let KU,ale,YU,u_;function rFt(){let t=wCe(ZLt);KU=new Map(bCe(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),ale=new Set(fE(t)),YU=new Map,u_=new Map;for(let[e,n]of vCe(t)){if(!ale.has(e)&&n.length==2){let[r,i]=n,s=u_.get(r);s||(s=new Map,u_.set(r,s)),s.set(i,e)}YU.set(e,n.reverse())}}function _Ce(t){return t>=mE&&t<XLt}function iFt(t,e){if(t>=z7&&t<eFt&&e>=W7&&e<tFt)return mE+(t-z7)*V7+(e-W7)*Zx;if(_Ce(t)&&e>H7&&e<nFt&&(t-mE)%Zx==0)return t+(e-H7);{let n=u_.get(t);return n&&(n=n.get(e),n)?n:-1}}function SCe(t){KU||rFt();let e=[],n=[],r=!1;function i(s){let o=KU.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(_Ce(s)){let o=s-mE,a=o/V7|0,l=o%V7/Zx|0,c=o%Zx;i(z7+a),i(W7+l),c>0&&i(H7+c)}else{let o=YU.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=k6(e[0]);for(let o=1;o<e.length;o++){let a=k6(e[o]);if(a==0||s<=a){s=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(s=k6(e[--l]),s<=a))break}s=k6(e[o])}}return e}function sFt(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=k6(s),a=kCe(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let l=iFt(r,a);l>=0?r=l:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function ICe(t){return SCe(t).map(kCe)}function oFt(t){return sFt(SCe(t))}const lle=45,TCe=".",$Ce=65039,NCe=1,q7=t=>Array.from(t);function gE(t,e){return t.P.has(e)||t.Q.has(e)}class aFt extends Array{get is_emoji(){return!0}}let QU,PCe,Ry,ZU,RCe,e2,rM,Db,Xg,cle,JU;function gK(){if(QU)return;let t=wCe(LLt);const e=()=>fE(t),n=()=>new Set(e()),r=(u,h)=>h.forEach(f=>u.add(f));QU=new Map(vCe(t)),PCe=n(),Ry=e(),ZU=new Set(e().map(u=>Ry[u])),Ry=new Set(Ry),RCe=n(),n();let i=bCe(t),s=t();const o=()=>{let u=new Set;return e().forEach(h=>r(u,i[h])),r(u,e()),u};e2=pE(u=>{let h=pE(t).map(f=>f+96);if(h.length){let f=u>=s;h[0]-=32,h=Qx(h),f&&(h=`Restricted[${h}]`);let p=o(),m=o(),g=!t();return{N:h,P:p,Q:m,M:g,R:f}}}),rM=n(),Db=new Map;let a=e().concat(q7(rM)).sort((u,h)=>u-h);a.forEach((u,h)=>{let f=t(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(u),rM.has(u)||Db.set(u,p)});for(let{V:u,M:h}of new Set(Db.values())){let f=[];for(let m of u){let g=e2.filter(w=>gE(w,m)),y=f.find(({G:w})=>g.some(v=>w.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(m),r(y.G,g)}let p=f.flatMap(m=>q7(m.G));for(let{G:m,V:g}of f){let y=new Set(p.filter(w=>!m.has(w)));for(let w of g)h.set(w,y)}}Xg=new Set;let l=new Set;const c=u=>Xg.has(u)?l.add(u):Xg.add(u);for(let u of e2){for(let h of u.P)c(h);for(let h of u.Q)c(h)}for(let u of Xg)!Db.has(u)&&!l.has(u)&&Db.set(u,NCe);r(Xg,ICe(Xg)),cle=GLt(t).map(u=>aFt.from(u)).sort(QLt),JU=new Map;for(let u of cle){let h=[JU];for(let f of u){let p=h.map(m=>{let g=m.get(f);return g||(g=new Map,m.set(f,g)),g});f===$Ce?h.push(...p):h=p}for(let f of h)f.V=u}}function yK(t){return(jCe(t)?"":`${wK(DN([t]))} `)+ECe(t)}function wK(t){return`"${t}"`}function lFt(t){if(t.length>=4&&t[2]==lle&&t[3]==lle)throw new Error(`invalid label extension: "${Qx(t.slice(0,4))}"`)}function cFt(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function uFt(t){let e=t[0],n=sle.get(e);if(n)throw g4(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=sle.get(e);if(o){if(i==s)throw g4(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw g4(`trailing ${n}`)}function DN(t,e=1/0,n=ECe){let r=[];dFt(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];jCe(a)&&(r.push(Qx(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Qx(t.slice(i,s))),r.join("")}function dFt(t){return gK(),Ry.has(t)}function jCe(t){return gK(),RCe.has(t)}function hFt(t){return gFt(fFt(t,oFt,bFt))}function fFt(t,e,n){if(!t)return[];gK();let r=0;return t.split(TCe).map(i=>{let s=YLt(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=wFt(s,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(cFt(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))lFt(u),c="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)c="Emoji";else{if(Ry.has(u[0]))throw g4("leading combining mark");for(let g=1;g<l;g++){let y=a[g];if(!y.is_emoji&&Ry.has(y[0]))throw g4(`emoji + combining mark: "${Qx(a[g-1])} + ${DN([y[0]])}"`)}uFt(u);let p=q7(new Set(f)),[m]=mFt(p);yFt(m,f),pFt(m,p),c=m.N}}o.type=c}catch(a){o.error=a}return o})}function pFt(t,e){let n,r=[];for(let i of e){let s=Db.get(i);if(s===NCe)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):q7(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>gE(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function mFt(t){let e=e2;for(let n of t){let r=e.filter(i=>gE(i,n));if(!r.length)throw e2.some(i=>gE(i,n))?MCe(e[0],n):OCe(n);if(e=r,r.length==1)break}return e}function gFt(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${wK(DN(e,63))}: ${i}`)}return Qx(r)}).join(TCe)}function OCe(t){return new Error(`disallowed character: ${yK(t)}`)}function MCe(t,e){let n=yK(e),r=e2.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function g4(t){return new Error(`illegal placement: ${t}`)}function yFt(t,e){for(let n of e)if(!gE(t,n))throw MCe(t,n);if(t.M){let n=ICe(e);for(let r=1,i=n.length;r<i;r++)if(ZU.has(n[r])){let s=r+1;for(let o;s<i&&ZU.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${yK(o)}`);if(s-r>ole)throw new Error(`excessive non-spacing marks: ${wK(DN(n.slice(r-1,s)))} (${s-r}/${ole})`);r=s}}}function wFt(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=vFt(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Xg.has(o))i.push(o);else{let a=QU.get(o);if(a)i.push(...a);else if(!PCe.has(o))throw OCe(o)}}}return i.length&&r.push(e(i)),r}function bFt(t){return t.filter(e=>e!=$Ce)}function vFt(t,e){let n=JU,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const DCe=new Uint8Array(32);DCe.fill(0);function ule(t){return ye(t.length!==0,"invalid ENS name; empty component","comp",t),t}function BCe(t){const e=Ep(xFt(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(ule(e.slice(r,i))),r=i+1);return ye(r<e.length,"invalid ENS name; empty component","name",t),n.push(ule(e.slice(r))),n}function xFt(t){try{if(t.length===0)throw new Error("empty label");return hFt(t)}catch(e){ye(!1,`invalid ENS name (${e.message})`,"name",t)}}function XU(t){ye(typeof t=="string","invalid ENS name; not a string","name",t),ye(t.length,"invalid ENS name (empty label)","name",t);let e=DCe;const n=BCe(t);for(;n.length;)e=Vi(mi([e,Vi(n.pop())]));return pt(e)}function EFt(t,e){const n=e;return ye(n<=255,"DNS encoded label cannot exceed 255","length",n),pt(mi(BCe(t).map(r=>{ye(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const LCe=new Uint8Array(32);LCe.fill(0);const AFt=BigInt(-1),FCe=BigInt(0),UCe=BigInt(1),CFt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function kFt(t){const e=Cn(t),n=e.length%32;return n?mi([e,LCe.slice(n)]):pt(e)}const _Ft=mg(UCe,32),SFt=mg(FCe,32),dle={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},iM=["name","version","chainId","verifyingContract","salt"];function hle(t){return function(e){return ye(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const IFt={name:hle("name"),version:hle("version"),chainId:function(t){const e=At(t,"domain.chainId");return ye(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Gu(e)},verifyingContract:function(t){try{return rr(t).toLowerCase()}catch{}ye(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Cn(t,"domain.salt");return ye(e.length===32,'invalid domain value "salt"',"domain.salt",t),pt(e)}};function sM(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ye(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=A6(CFt,n?r-1:r),s=n?(i+UCe)*AFt:FCe;return function(o){const a=At(o,"value");return ye(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),mg(n?_Ae(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ye(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Cn(r);return ye(i.length===n,`invalid length for ${t}`,"value",r),kFt(r)}}}switch(t){case"address":return function(e){return Gp(rr(e),32)};case"bool":return function(e){return e?_Ft:SFt};case"bytes":return function(e){return Vi(e)};case"string":return function(e){return rw(e)}}return null}function fle(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Gk(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var zE,Yf,D2,pI,zCe;const Ac=class Ac{constructor(e){xe(this,pI);Ee(this,"primaryType");xe(this,zE);xe(this,Yf);xe(this,D2);te(this,Yf,new Map),te(this,D2,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:h,index:f}=Gk(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:c,type:h+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),te(this,zE,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){ye(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const h=Gk(u.type).base;ye(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!sM(h)&&(ye(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(l),n.get(l).add(h))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);ye(o.length!==0,"missing primary type","types",e),ye(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Ut(this,{primaryType:o[0]});function a(l,c){ye(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const h of c)i.get(h).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),V(this,Yf).set(l,fle(l,s[l])+u.map(h=>fle(h,s[h])).join(""))}}get types(){return JSON.parse(V(this,zE))}getEncoder(e){let n=V(this,D2).get(e);return n||(n=Ze(this,pI,zCe).call(this,e),V(this,D2).set(e,n)),n}encodeType(e){const n=V(this,Yf).get(e);return ye(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Vi(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(sM(e))return r(e,n);const i=Gk(e).array;if(i)return ye(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});ye(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ac(e)}static getPrimaryType(e){return Ac.from(e).primaryType}static hashStruct(e,n,r){return Ac.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=dle[r];ye(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>iM.indexOf(r.name)-iM.indexOf(i.name)),Ac.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return mi(["0x1901",Ac.hashDomain(e),Ac.from(n).hash(r)])}static hash(e,n,r){return Vi(Ac.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!kr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ac.from(n);o.visit(r,(a,l)=>(a==="address"&&!kr(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Ac.hashDomain(e);const i={},s=[];iM.forEach(l=>{const c=e[l];c!=null&&(i[l]=IFt[l](c),s.push({name:l,type:dle[l]}))});const o=Ac.from(n);n=o.types;const a=Object.assign({},n);return ye(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return pt(Cn(c));if(l.match(/^u?int/))return At(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return ye(typeof c=="string","invalid string","value",c),c}ye(!1,"unsupported type","type",l)})}}};zE=new WeakMap,Yf=new WeakMap,D2=new WeakMap,pI=new WeakSet,zCe=function(e){{const i=sM(e);if(i)return i}const n=Gk(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{ye(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return V(this,Yf).has(i)&&(a=a.map(Vi)),Vi(mi(a))}}const r=this.types[e];if(r){const i=rw(V(this,Yf).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return V(this,Yf).has(l)?Vi(c):c});return o.unshift(i),mi(o)}}ye(!1,`unknown type: ${e}`,"type",e)};let G7=Ac;function ra(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const TFt="external public payable override",$Ft=ra(TFt.split(" ")),WCe="constant external internal payable private public pure view override",NFt=ra(WCe.split(" ")),HCe="constructor error event fallback function receive struct",VCe=ra(HCe.split(" ")),qCe="calldata memory storage payable indexed",PFt=ra(qCe.split(" ")),RFt="tuple returns",jFt=[HCe,qCe,RFt,WCe].join(" "),OFt=ra(jFt.split(" ")),MFt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},DFt=new RegExp("^(\\s*)"),BFt=new RegExp("^([0-9]+)"),LFt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),GCe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),KCe=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Rs,Uu,WE,ez;const mI=class mI{constructor(e){xe(this,WE);xe(this,Rs);xe(this,Uu);te(this,Rs,0),te(this,Uu,e.slice())}get offset(){return V(this,Rs)}get length(){return V(this,Uu).length-V(this,Rs)}clone(){return new mI(V(this,Uu))}reset(){te(this,Rs,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=Ze(this,WE,ez).call(this,V(this,Rs)+1,e.match+1);return te(this,Rs,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;V(this,Rs)<e.match-1;){const r=this.peek().linkNext;n.push(Ze(this,WE,ez).call(this,V(this,Rs)+1,r)),te(this,Rs,r)}return te(this,Rs,e.match+1),n}peek(){if(V(this,Rs)>=V(this,Uu).length)throw new Error("out-of-bounds");return V(this,Uu)[V(this,Rs)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return n0(this,Rs)._++,e}toString(){const e=[];for(let n=V(this,Rs);n<V(this,Uu).length;n++){const r=V(this,Uu)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Rs=new WeakMap,Uu=new WeakMap,WE=new WeakSet,ez=function(e=0,n=0){return new mI(V(this,Uu).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Ad=mI;function Og(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(DFt);a&&(s+=a[1].length,o=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let c=MFt[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;u=h+u,e[e.length-1].value=kn(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(LFt),a){if(l.text=a[1],s+=l.text.length,OFt.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(KCe)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(BFt),a){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Ad(e.map(o=>Object.freeze(o)))}function ple(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function BN(t,e){if(e.peekKeyword(VCe)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Yp(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function YCe(t){let e=Yp(t,NFt);return ple(e,ra("constant payable nonpayable".split(" "))),ple(e,ra("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ap(t,e){return t.popParams().map(n=>Hs.from(n,e))}function QCe(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return At(t.pop().text);throw new Error("invalid gas")}return null}function iw(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const FFt=new RegExp(/^(.*)\[([0-9]*)\]$/);function mle(t){const e=t.match(KCe);if(ye(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ye(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ye(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Xr={},tl=Symbol.for("_ethers_internal"),gle="_ParamTypeInternal",yle="_ErrorInternal",wle="_EventInternal",ble="_ConstructorInternal",vle="_FallbackInternal",xle="_FunctionInternal",Ele="_StructInternal";var B2,d_;const Cc=class Cc{constructor(e,n,r,i,s,o,a,l){xe(this,B2);Ee(this,"name");Ee(this,"type");Ee(this,"baseType");Ee(this,"indexed");Ee(this,"components");Ee(this,"arrayLength");Ee(this,"arrayChildren");if(IN(e,Xr,"ParamType"),Object.defineProperty(this,tl,{value:gle}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Ut(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return Ze(this,B2,d_).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(Cc.isParamType(e))return e;if(typeof e=="string")try{return Cc.from(Og(e),n)}catch{ye(!1,"invalid param type","obj",e)}else if(e instanceof Ad){let a="",l="",c=null;Yp(e,ra(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(g=>Cc.from(g)),a=`tuple(${c.map(g=>g.format()).join(",")})`):(a=mle(e.popType("TYPE")),l=a);let u=null,h=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new Cc(Xr,"",a,l,null,c,h,u),h=g.value,a+=g.text,l="array",c=null}let f=null;if(Yp(e,PFt).has("indexed")){if(!n)throw new Error("");f=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Cc(Xr,m,a,l,f,c,h,u)}const r=e.name;ye(!r||typeof r=="string"&&r.match(GCe),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ye(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(FFt);if(o){const a=parseInt(o[2]||"-1"),l=Cc.from({type:o[1],components:e.components});return new Cc(Xr,r||"",s,"array",i,null,a,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>Cc.from(c)):null;return new Cc(Xr,r||"",s,"tuple",i,a,null,null)}return s=mle(e.type),new Cc(Xr,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[tl]===gle}};B2=new WeakSet,d_=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{var u;Ze(u=o,B2,d_).call(u,e,l,r,h=>{a[c]=h})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var u;Ze(u=o[c],B2,d_).call(u,e,l,r,h=>{a[c]=h})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let Hs=Cc;class sw{constructor(e,n,r){Ee(this,"type");Ee(this,"inputs");IN(e,Xr,"Fragment"),r=Object.freeze(r.slice()),Ut(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{sw.from(JSON.parse(e))}catch{}return sw.from(Og(e))}if(e instanceof Ad)switch(e.peekKeyword(VCe)){case"constructor":return up.from(e);case"error":return Oa.from(e);case"event":return wh.from(e);case"fallback":case"receive":return zf.from(e);case"function":return bh.from(e);case"struct":return A1.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return up.from(e);case"error":return Oa.from(e);case"event":return wh.from(e);case"fallback":case"receive":return zf.from(e);case"function":return bh.from(e);case"struct":return A1.from(e)}qe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ye(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return up.isFragment(e)}static isError(e){return Oa.isFragment(e)}static isEvent(e){return wh.isFragment(e)}static isFunction(e){return bh.isFragment(e)}static isStruct(e){return A1.isFragment(e)}}class LN extends sw{constructor(n,r,i,s){super(n,r,s);Ee(this,"name");ye(typeof i=="string"&&i.match(GCe),"invalid identifier","name",i),s=Object.freeze(s.slice()),Ut(this,{name:i})}}function yE(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Oa extends LN{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,tl,{value:yle})}get selector(){return rw(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+yE(e,this.inputs)),n.join(" ")}static from(e){if(Oa.isFragment(e))return e;if(typeof e=="string")return Oa.from(Og(e));if(e instanceof Ad){const n=BN("error",e),r=Ap(e);return iw(e),new Oa(Xr,n,r)}return new Oa(Xr,e.name,e.inputs?e.inputs.map(Hs.from):[])}static isFragment(e){return e&&e[tl]===yle}}class wh extends LN{constructor(n,r,i,s){super(n,"event",r,i);Ee(this,"anonymous");Object.defineProperty(this,tl,{value:wle}),Ut(this,{anonymous:s})}get topicHash(){return rw(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+yE(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Hs.from(s)),new wh(Xr,n,r,!1).topicHash}static from(n){if(wh.isFragment(n))return n;if(typeof n=="string")try{return wh.from(Og(n))}catch{ye(!1,"invalid event fragment","obj",n)}else if(n instanceof Ad){const r=BN("event",n),i=Ap(n,!0),s=!!Yp(n,ra(["anonymous"])).has("anonymous");return iw(n),new wh(Xr,r,i,s)}return new wh(Xr,n.name,n.inputs?n.inputs.map(r=>Hs.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[tl]===wle}}class up extends sw{constructor(n,r,i,s,o){super(n,r,i);Ee(this,"payable");Ee(this,"gas");Object.defineProperty(this,tl,{value:ble}),Ut(this,{payable:s,gas:o})}format(n){if(qe(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${yE(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(up.isFragment(n))return n;if(typeof n=="string")try{return up.from(Og(n))}catch{ye(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Ad){Yp(n,ra(["constructor"]));const r=Ap(n),i=!!Yp(n,$Ft).has("payable"),s=QCe(n);return iw(n),new up(Xr,"constructor",r,i,s)}return new up(Xr,"constructor",n.inputs?n.inputs.map(Hs.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[tl]===ble}}class zf extends sw{constructor(n,r,i){super(n,"fallback",r);Ee(this,"payable");Object.defineProperty(this,tl,{value:vle}),Ut(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(zf.isFragment(n))return n;if(typeof n=="string")try{return zf.from(Og(n))}catch{ye(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Ad){const r=n.toString(),i=n.peekKeyword(ra(["fallback","receive"]));if(ye(i,"type must be fallback or receive","obj",r),n.popKeyword(ra(["fallback","receive"]))==="receive"){const l=Ap(n);return ye(l.length===0,"receive cannot have arguments","obj.inputs",l),Yp(n,ra(["payable"])),iw(n),new zf(Xr,[],!0)}let o=Ap(n);o.length?ye(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[Hs.from("bytes")];const a=YCe(n);if(ye(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Yp(n,ra(["returns"])).has("returns")){const l=Ap(n);ye(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return iw(n),new zf(Xr,o,a==="payable")}if(n.type==="receive")return new zf(Xr,[],!0);if(n.type==="fallback"){const r=[Hs.from("bytes")],i=n.stateMutability==="payable";return new zf(Xr,r,i)}ye(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[tl]===vle}}class bh extends LN{constructor(n,r,i,s,o,a){super(n,"function",r,s);Ee(this,"constant");Ee(this,"outputs");Ee(this,"stateMutability");Ee(this,"payable");Ee(this,"gas");Object.defineProperty(this,tl,{value:xle}),o=Object.freeze(o.slice()),Ut(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return rw(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+yE(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(yE(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Hs.from(s)),new bh(Xr,n,"view",r,[],null).selector}static from(n){if(bh.isFragment(n))return n;if(typeof n=="string")try{return bh.from(Og(n))}catch{ye(!1,"invalid function fragment","obj",n)}else if(n instanceof Ad){const i=BN("function",n),s=Ap(n),o=YCe(n);let a=[];Yp(n,ra(["returns"])).has("returns")&&(a=Ap(n));const l=QCe(n);return iw(n),new bh(Xr,i,o,s,a,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new bh(Xr,n.name,r,n.inputs?n.inputs.map(Hs.from):[],n.outputs?n.outputs.map(Hs.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[tl]===xle}}class A1 extends LN{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,tl,{value:Ele})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return A1.from(Og(e))}catch{ye(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ad){const n=BN("struct",e),r=Ap(e);return iw(e),new A1(Xr,n,r)}return new A1(Xr,e.name,e.inputs?e.inputs.map(Hs.from):[])}static isFragment(e){return e&&e[tl]===Ele}}const Td=new Map;Td.set(0,"GENERIC_PANIC");Td.set(1,"ASSERT_FALSE");Td.set(17,"OVERFLOW");Td.set(18,"DIVIDE_BY_ZERO");Td.set(33,"ENUM_RANGE_ERROR");Td.set(34,"BAD_STORAGE_DATA");Td.set(49,"STACK_UNDERFLOW");Td.set(50,"ARRAY_RANGE_ERROR");Td.set(65,"OUT_OF_MEMORY");Td.set(81,"UNINITIALIZED_FUNCTION_CALL");const UFt=new RegExp(/^bytes([0-9]*)$/),zFt=new RegExp(/^(u?int)([0-9]*)$/);let oM=null,Ale=1024;function WFt(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const c=Cn(n);if(n=pt(n),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(pt(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(pt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${Td.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?rr(e.to):null,data:e.data||"0x"};return e.from&&(l.from=rr(e.from)),Qr(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:o,revert:a})}var gm,Bb;const gI=class gI{constructor(){xe(this,gm)}getDefaultValue(e){const n=e.map(i=>Ze(this,gm,Bb).call(this,Hs.from(i)));return new qk(n,"_").defaultValue()}encode(e,n){AAe(n.length,e.length,"types/values length mismatch");const r=e.map(o=>Ze(this,gm,Bb).call(this,Hs.from(o))),i=new qk(r,"_"),s=new FU;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>Ze(this,gm,Bb).call(this,Hs.from(o)));return new qk(i,"_").decode(new UU(n,r,Ale))}static _setDefaultMaxInflation(e){ye(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Ale=e}static defaultAbiCoder(){return oM==null&&(oM=new gI),oM}static getBuiltinCallException(e,n,r){return WFt(e,n,r,gI.defaultAbiCoder())}};gm=new WeakSet,Bb=function(e){if(e.isArray())return new aLt(Ze(this,gm,Bb).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new qk(e.components.map(r=>Ze(this,gm,Bb).call(this,r)),e.name);switch(e.baseType){case"address":return new sLt(e.name);case"bool":return new lLt(e.name);case"string":return new yLt(e.name);case"bytes":return new cLt(e.name);case"":return new hLt(e.name)}let n=e.type.match(zFt);if(n){let r=parseInt(n[2]||"256");return ye(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new gLt(r/8,n[1]==="int",e.name)}if(n=e.type.match(UFt),n){let r=parseInt(n[1]);return ye(r!==0&&r<=32,"invalid bytes length","param",e),new uLt(r,e.name)}ye(!1,"invalid type","type",e.type)};let wE=gI;class HFt{constructor(e,n,r){Ee(this,"fragment");Ee(this,"name");Ee(this,"signature");Ee(this,"topic");Ee(this,"args");const i=e.name,s=e.format();Ut(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class VFt{constructor(e,n,r,i){Ee(this,"fragment");Ee(this,"name");Ee(this,"args");Ee(this,"signature");Ee(this,"selector");Ee(this,"value");const s=e.name,o=e.format();Ut(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class qFt{constructor(e,n,r){Ee(this,"fragment");Ee(this,"name");Ee(this,"args");Ee(this,"signature");Ee(this,"selector");const i=e.name,s=e.format();Ut(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class Cle{constructor(e){Ee(this,"hash");Ee(this,"_isIndexed");Ut(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const kle={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},_le={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&kle[t.toString()]&&(e=kle[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var ah,lh,ch,mo,Wh,h_,f_;const my=class my{constructor(e){xe(this,Wh);Ee(this,"fragments");Ee(this,"deploy");Ee(this,"fallback");Ee(this,"receive");xe(this,ah);xe(this,lh);xe(this,ch);xe(this,mo);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,te(this,ch,new Map),te(this,ah,new Map),te(this,lh,new Map);const r=[];for(const o of n)try{r.push(sw.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Ut(this,{fragments:Object.freeze(r)});let i=null,s=!1;te(this,mo,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ut(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(ye(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":l=V(this,ch);break;case"event":l=V(this,lh);break;case"error":l=V(this,ah);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||Ut(this,{deploy:up.from("constructor()")}),Ut(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return wE.defaultAbiCoder()}getFunctionName(e){const n=Ze(this,Wh,h_).call(this,e,null,!1);return ye(n,"no matching function","key",e),n.name}hasFunction(e){return!!Ze(this,Wh,h_).call(this,e,null,!1)}getFunction(e,n){return Ze(this,Wh,h_).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(V(this,ch).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(V(this,ch).get(i),r)}}getEventName(e){const n=Ze(this,Wh,f_).call(this,e,null,!1);return ye(n,"no matching event","key",e),n.name}hasEvent(e){return!!Ze(this,Wh,f_).call(this,e,null,!1)}getEvent(e,n){return Ze(this,Wh,f_).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(V(this,lh).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(V(this,lh).get(i),r)}}getError(e,n){if(kr(e)){const i=e.toLowerCase();if(_le[i])return Oa.from(_le[i].signature);for(const s of V(this,ah).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of V(this,ah))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Oa.from("error Error(string)"):e==="Panic"?Oa.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");ye(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Oa.from(e).format(),e==="Error(string)")return Oa.from("error Error(string)");if(e==="Panic(uint256)")return Oa.from("error Panic(uint256)");const r=V(this,ah).get(e);return r||null}forEachError(e){const n=Array.from(V(this,ah).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(V(this,ah).get(i),r)}}_decodeParams(e,n){return V(this,mo).decode(e,n)}_encodeParams(e,n){return V(this,mo).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return ye(ui(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,ui(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ye(r,"unknown error","fragment",e),e=r}return mi([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return ye(ui(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,ui(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return mi([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);ye(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=Zo(n);if(i.length%32===0)try{return V(this,mo).decode(e.outputs,i)}catch{r="could not decode result data"}qe(!1,r,"BAD_DATA",{value:pt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Cn(e,"data"),i=wE.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=pt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=V(this,mo).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ye(r,"unknown function","fragment",e),e=r}return pt(V(this,mo).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);ye(s,"unknown event","eventFragment",e),e=s}qe(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?rw(o):s.type==="bytes"?Vi(pt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=mg(o):s.type.match(/^bytes/)?o=hDt(o,32):s.type==="address"&&V(this,mo).encode(["address"],[o]),Gp(pt(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){ye(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ye(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);ye(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ye(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(rw(l));else if(o.type==="bytes")r.push(Vi(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(V(this,mo).encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:V(this,mo).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const p=this.getEvent(e);ye(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;ye(kr(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Hs.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});const a=r!=null?V(this,mo).decode(i,mi(r)):null,l=V(this,mo).decode(s,n,!0),c=[],u=[];let h=0,f=0;return e.inputs.forEach((p,m)=>{let g=null;if(p.indexed)if(a==null)g=new Cle(null);else if(o[m])g=new Cle(a[f++]);else try{g=a[f++]}catch(y){g=y}else try{g=l[h++]}catch(y){g=y}c.push(g),u.push(p.name||null)}),Vx.fromItems(c,u)}parseTransaction(e){const n=Cn(e.data,"tx.data"),r=At(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(pt(n.slice(0,4)));if(!i)return null;const s=V(this,mo).decode(i.inputs,n.slice(4));return new VFt(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new HFt(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=pt(e),r=this.getError(ui(n,0,4));if(!r)return null;const i=V(this,mo).decode(r.inputs,ui(n,4));return new qFt(r,r.selector,i)}static from(e){return e instanceof my?e:typeof e=="string"?new my(JSON.parse(e)):typeof e.formatJson=="function"?new my(e.formatJson()):typeof e.format=="function"?new my(e.format("json")):new my(e)}};ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,mo=new WeakMap,Wh=new WeakSet,h_=function(e,n,r){if(kr(e)){const s=e.toLowerCase();for(const o of V(this,ch).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of V(this,ch))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;Ro.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==a&&(!l||u!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let h=0;h<n.length;h++)if(Ro.isTyped(n[h])){if(h>=u.length){if(n[h].type==="overrides")continue;s.splice(c,1);break}if(n[h].type!==u[h].baseType){s.splice(c,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=V(this,ch).get(bh.from(e).format());return i||null},f_=function(e,n,r){if(kr(e)){const s=e.toLowerCase();for(const o of V(this,lh).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of V(this,lh))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let l=0;l<n.length;l++)if(Ro.isTyped(n[l])&&n[l].type!==a[l].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");ye(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=V(this,lh).get(wh.from(e).format());return i||null};let tz=my;const ZCe=BigInt(0);function t2(t){return t??null}function Si(t){return t==null?null:t.toString()}class Sle{constructor(e,n,r){Ee(this,"gasPrice");Ee(this,"maxFeePerGas");Ee(this,"maxPriorityFeePerGas");Ut(this,{gasPrice:t2(e),maxFeePerGas:t2(n),maxPriorityFeePerGas:t2(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Si(e),maxFeePerGas:Si(n),maxPriorityFeePerGas:Si(r)}}}function K7(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=pt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=At(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=kn(t[i],`request.${i}`));return t.accessList&&(e.accessList=Fw(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>sK(i)?pt(i):Object.assign({},i))),e}var Qf;class GFt{constructor(e,n){Ee(this,"provider");Ee(this,"number");Ee(this,"hash");Ee(this,"timestamp");Ee(this,"parentHash");Ee(this,"parentBeaconBlockRoot");Ee(this,"nonce");Ee(this,"difficulty");Ee(this,"gasLimit");Ee(this,"gasUsed");Ee(this,"stateRoot");Ee(this,"receiptsRoot");Ee(this,"blobGasUsed");Ee(this,"excessBlobGas");Ee(this,"miner");Ee(this,"prevRandao");Ee(this,"extraData");Ee(this,"baseFeePerGas");xe(this,Qf);te(this,Qf,e.transactions.map(r=>typeof r!="string"?new bE(r,n):r)),Ut(this,{provider:n,hash:t2(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:t2(e.prevRandao),extraData:e.extraData,baseFeePerGas:t2(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return V(this,Qf).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=V(this,Qf).slice();return e.length===0?[]:(qe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:h,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,timestamp:g,transactions:y}=this;return{_type:"Block",baseFeePerGas:Si(e),difficulty:Si(n),extraData:r,gasLimit:Si(i),gasUsed:Si(s),blobGasUsed:Si(this.blobGasUsed),excessBlobGas:Si(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:h,timestamp:g,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:m,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return V(this,Qf).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=V(this,Qf)[e];else{const r=e.toLowerCase();for(const i of V(this,Qf))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ye(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return KFt(this)}}Qf=new WeakMap;class uC{constructor(e,n){Ee(this,"provider");Ee(this,"transactionHash");Ee(this,"blockHash");Ee(this,"blockNumber");Ee(this,"removed");Ee(this,"address");Ee(this,"data");Ee(this,"topics");Ee(this,"index");Ee(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Ut(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return qe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return qe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return qe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return YFt(this)}}var HE;class JCe{constructor(e,n){Ee(this,"provider");Ee(this,"to");Ee(this,"from");Ee(this,"contractAddress");Ee(this,"hash");Ee(this,"index");Ee(this,"blockHash");Ee(this,"blockNumber");Ee(this,"logsBloom");Ee(this,"gasUsed");Ee(this,"blobGasUsed");Ee(this,"cumulativeGasUsed");Ee(this,"gasPrice");Ee(this,"blobGasPrice");Ee(this,"type");Ee(this,"status");Ee(this,"root");xe(this,HE);te(this,HE,Object.freeze(e.logs.map(i=>new uC(i,n))));let r=ZCe;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ut(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return V(this,HE)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Si(this.cumulativeGasUsed),from:n,gasPrice:Si(this.gasPrice),blobGasUsed:Si(this.blobGasUsed),blobGasPrice:Si(this.blobGasPrice),gasUsed:Si(this.gasUsed),hash:i,index:s,logs:c,logsBloom:l,root:h,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return eke(this)}reorderedEvent(e){return qe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),XCe(this,e)}}HE=new WeakMap;var ym;const nY=class nY{constructor(e,n){Ee(this,"provider");Ee(this,"blockNumber");Ee(this,"blockHash");Ee(this,"index");Ee(this,"hash");Ee(this,"type");Ee(this,"to");Ee(this,"from");Ee(this,"nonce");Ee(this,"gasLimit");Ee(this,"gasPrice");Ee(this,"maxPriorityFeePerGas");Ee(this,"maxFeePerGas");Ee(this,"maxFeePerBlobGas");Ee(this,"data");Ee(this,"value");Ee(this,"chainId");Ee(this,"signature");Ee(this,"accessList");Ee(this,"blobVersionedHashes");Ee(this,"authorizationList");xe(this,ym);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,te(this,ym,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:l,data:c,signature:u,accessList:h,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:Si(this.chainId),data:c,from:a,gasLimit:Si(this.gasLimit),gasPrice:Si(this.gasPrice),hash:i,maxFeePerGas:Si(this.maxFeePerGas),maxPriorityFeePerGas:Si(this.maxPriorityFeePerGas),maxFeePerBlobGas:Si(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:r,type:s,value:Si(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await zo({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=V(this,ym),o=-1,a=s===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:p}=await zo({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){s=f;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(o===-1&&(o=s-3,o<V(this,ym)&&(o=V(this,ym)));o<=f;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const y of g)if(y===this.hash)return;for(let y=0;y<g.length;y++){const w=await g.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(w.hash);if(v==null||f-v.blockNumber+1<r)return;let b="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?b="repriced":w.data==="0x"&&w.from===w.to&&w.value===ZCe&&(b="cancelled"),qe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:w.replaceableTransaction(s),hash:w.hash,receipt:v})}}o++}},c=f=>{if(f==null||f.status!==0)return f;qe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,p)=>{const m=[],g=()=>{m.forEach(w=>w())};if(m.push(()=>{a=!0}),i>0){const w=setTimeout(()=>{g(),p(Qr("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(w)})}const y=async w=>{if(await w.confirmations()>=r){g();try{f(c(w))}catch(v){p(v)}}};if(m.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),s>=0){const w=async()=>{try{await l()}catch(v){if(Us(v,"TRANSACTION_REPLACED")){g(),p(v);return}}a||this.provider.once("block",w)};m.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return qe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),eke(this)}reorderedEvent(e){return qe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),qe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),XCe(this,e)}replaceableTransaction(e){ye(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new nY(this,this.provider);return te(n,ym,e),n}};ym=new WeakMap;let bE=nY;function KFt(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function XCe(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function eke(t){return{orphan:"drop-transaction",tx:t}}function YFt(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class bK extends uC{constructor(n,r,i){super(n,n.provider);Ee(this,"interface");Ee(this,"fragment");Ee(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);Ut(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class tke extends uC{constructor(n,r){super(n,n.provider);Ee(this,"error");Ut(this,{error:r})}}var L2;class QFt extends JCe{constructor(n,r,i){super(i,r);xe(this,L2);te(this,L2,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?V(this,L2).getEvent(n.topics[0]):null;if(r)try{return new bK(n,V(this,L2),r)}catch(i){return new tke(n,i)}return n})}}L2=new WeakMap;var VE;class vK extends bE{constructor(n,r,i){super(i,r);xe(this,VE);te(this,VE,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new QFt(V(this,VE),this.provider,i)}}VE=new WeakMap;class nke extends SAe{constructor(n,r,i,s){super(n,r,i);Ee(this,"log");Ut(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ZFt extends nke{constructor(e,n,r,i,s){super(e,n,r,new bK(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Ut(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Ile=BigInt(0);function rke(t){return t&&typeof t.call=="function"}function ike(t){return t&&typeof t.estimateGas=="function"}function FN(t){return t&&typeof t.resolveName=="function"}function ske(t){return t&&typeof t.sendTransaction=="function"}function oke(t){if(t!=null){if(FN(t))return t;if(t.provider)return t.provider}}var qE;class JFt{constructor(e,n,r){xe(this,qE);Ee(this,"fragment");if(Ut(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=ow(e.runner,"resolveName"),s=FN(i)?i:null;te(this,qE,async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,h)=>u==="address"?Array.isArray(h)?Promise.all(h.map(f=>na(f,s))):na(h,s):h)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return V(this,qE)}}qE=new WeakMap;function ow(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function jy(t){return t==null?null:t.provider||null}async function ake(t,e){const n=Ro.dereference(t,"overrides");ye(typeof n=="object","invalid overrides parameter","overrides",t);const r=K7(n);return ye(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ye(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function XFt(t,e,n){const r=ow(t,"resolveName"),i=FN(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,l)=>(l=Ro.dereference(l,a),a==="address"?na(l,i):l))))}function eUt(t){const e=async function(o){const a=await ake(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await na(a.from,oke(t.runner)));const l=t.interface,c=At(a.value||Ile,"overrides.value")===Ile,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&ye(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),ye(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const h=l.receive||l.fallback&&l.fallback.payable;return ye(h||c,"cannot send value to non-payable fallback","overrides.value",a.value),ye(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=ow(t.runner,"call");qe(rke(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw iK(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;qe(ske(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=jy(t.runner);return new vK(t.interface,c,l)},i=async function(o){const a=ow(t.runner,"estimateGas");return qe(ike(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return Ut(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function tUt(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return qe(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let h={};if(u.inputs.length+1===c.length&&(h=await ake(c.pop()),h.from&&(h.from=await na(h.from,oke(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await XFt(t.runner,u.inputs,c);return Object.assign({},h,await zo({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},s=async function(...c){const u=t.runner;qe(ske(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await u.sendTransaction(await r(...c)),f=jy(t.runner);return new vK(t.interface,f,h)},o=async function(...c){const u=ow(t.runner,"estimateGas");return qe(ike(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=ow(t.runner,"call");qe(rke(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await r(...c);let f="0x";try{f=await u.call(h)}catch(m){throw iK(m)&&m.data?t.interface.makeError(m.data,h):m}const p=n(...c);return t.interface.decodeFunctionResult(p,f)},l=async(...c)=>n(...c).constant?await i(...c):await s(...c);return Ut(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return qe(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function nUt(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return qe(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new JFt(t,n(...i),i)};return Ut(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return qe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Y7=Symbol.for("_ethersInternal_contract"),lke=new WeakMap;function rUt(t,e){lke.set(t[Y7],e)}function vl(t){return lke.get(t[Y7])}function iUt(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function xK(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(kr(o,32))return o;const a=t.interface.getEvent(o);return ye(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?kr(e,32)?n=[e]:(r=t.interface.getEvent(e),ye(r,"unknown fragment","event",e),n=[r.topicHash]):iUt(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ye(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function _6(t,e){const{subs:n}=vl(t);return n.get((await xK(t,e)).tag)||null}async function Tle(t,e,n){const r=jy(t.runner);qe(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await xK(t,n),{addr:a,subs:l}=vl(t);let c=l.get(s);if(!c){const h={address:a||t,topics:o},f=y=>{let w=i;if(w==null)try{w=t.interface.getEvent(y.topics[0])}catch{}if(w){const v=w,b=i?t.interface.decodeEventLog(i,y.data,y.topics):[];rz(t,n,b,A=>new ZFt(t,A,n,v,y))}else rz(t,n,[],v=>new nke(t,v,n,y))};let p=[];c={tag:s,listeners:[],start:()=>{p.length||p.push(r.on(h,f))},stop:async()=>{if(p.length==0)return;let y=p;p=[],await Promise.all(y),r.off(h,f)}},l.set(s,c)}return c}let nz=Promise.resolve();async function sUt(t,e,n,r){await nz;const i=await _6(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),vl(t).subs.delete(i.tag)),s>0}async function rz(t,e,n,r){try{await nz}catch{}const i=sUt(t,e,n,r);return nz=i,await i}const Kk=["then"];var xce;xce=Y7;const y4=class y4{constructor(e,n,r,i){Ee(this,"target");Ee(this,"interface");Ee(this,"runner");Ee(this,"filters");Ee(this,xce);Ee(this,"fallback");ye(typeof e=="string"||hCe(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=tz.from(n);Ut(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Y7,{value:{}});let o,a=null,l=null;if(i){const h=jy(r);l=new vK(this.interface,h,i)}let c=new Map;if(typeof e=="string")if(kr(e))a=e,o=Promise.resolve(e);else{const h=ow(r,"resolveName");if(!FN(h))throw Qr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(f=>{if(f==null)throw Qr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return vl(this).addr=f,f})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return vl(this).addr=h,h});rUt(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(h,f,p)=>{if(typeof f=="symbol"||Kk.indexOf(f)>=0)return Reflect.get(h,f,p);try{return this.getEvent(f)}catch(m){if(!Us(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(h,f)=>Kk.indexOf(f)>=0?Reflect.has(h,f):Reflect.has(h,f)||this.interface.hasEvent(String(f))});return Ut(this,{filters:u}),Ut(this,{fallback:s.receive||s.fallback?eUt(this):null}),new Proxy(this,{get:(h,f,p)=>{if(typeof f=="symbol"||f in h||Kk.indexOf(f)>=0)return Reflect.get(h,f,p);try{return h.getFunction(f)}catch(m){if(!Us(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(h,f)=>typeof f=="symbol"||f in h||Kk.indexOf(f)>=0?Reflect.has(h,f):h.interface.hasFunction(f)})}connect(e){return new y4(this.target,this.interface,e)}attach(e){return new y4(e,this.interface,this.runner)}async getAddress(){return await vl(this).addrPromise}async getDeployedCode(){const e=jy(this.runner);qe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=jy(this.runner);return qe(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return vl(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),tUt(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),nUt(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=vl(this),o=i||await s,{fragment:a,topics:l}=await xK(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},u=jy(this.runner);return qe(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(h=>{let f=a;if(f==null)try{f=this.interface.getEvent(h.topics[0])}catch{}if(f)try{return new bK(h,this.interface,f)}catch(p){return new tke(h,p)}return new uC(h,u)})}async on(e,n){const r=await Tle(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await Tle(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await rz(this,e,n,null)}async listenerCount(e){if(e){const i=await _6(this,e);return i?i.listeners.length:0}const{subs:n}=vl(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await _6(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=vl(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await _6(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),vl(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await _6(this,e);if(!n)return this;n.stop(),vl(this).subs.delete(n.tag)}else{const{subs:n}=vl(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends y4{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let iz=y4;function oUt(){return iz}class n2 extends oUt(){}function aM(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ye(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class aUt{constructor(e){Ee(this,"name");Ut(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const cke=new RegExp("^(ipfs)://(.*)$","i"),$le=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),cke,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var wm,Xy,bm,Lb,yI,uke;const kv=class kv{constructor(e,n,r){xe(this,bm);Ee(this,"provider");Ee(this,"address");Ee(this,"name");xe(this,wm);xe(this,Xy);Ut(this,{provider:e,address:n,name:r}),te(this,wm,null),te(this,Xy,new n2(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return V(this,wm)==null&&te(this,wm,(async()=>{try{return await V(this,Xy).supportsInterface("0x9061b923")}catch(e){if(Us(e,"CALL_EXCEPTION"))return!1;throw te(this,wm,null),e}})()),await V(this,wm)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await Ze(this,bm,Lb).call(this,"addr(bytes32)");return s==null||s===dE?null:s}catch(s){if(Us(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await Ze(this,bm,Lb).call(this,"addr(bytes32,uint)",[s]);if(kr(o,20))return rr(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof aUt&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await Ze(this,bm,Lb).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;qe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await Ze(this,bm,Lb).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await Ze(this,bm,Lb).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${mDt("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;qe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<$le.length;r++){const i=n.match($le[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=aM(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new n2(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const g=await u.ownerOf(c);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(s==="erc1155"){const g=await u.balanceOf(a,c);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let h=await u[o](c);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",mg(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=aM(h)),e.push({type:"metadata-url",value:h});let f={};const p=await new Kp(h).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const w=p.body;return w&&e.push({type:"!metadata",value:pt(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let m=f.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(cke)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=aM(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return qe(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await Ze(i=kv,yI,uke).call(i,e,r);if(s!=null){const o=new kv(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};wm=new WeakMap,Xy=new WeakMap,bm=new WeakSet,Lb=async function(e,n){n=(n||[]).slice();const r=V(this,Xy).interface;n.unshift(XU(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),qe(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[EFt(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await V(this,Xy)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Us(s,"CALL_EXCEPTION"))throw s}return null},yI=new WeakSet,uke=async function(e,n){const r=await kv.getEnsAddress(e);try{const s=await new n2(r,["function resolver(bytes32) view returns (address)"],e).resolver(XU(n),{enableCcipRead:!0});return s===dE?null:s}catch(i){throw i}return null},xe(kv,yI);let Q7=kv;const Nle=BigInt(0);function Mn(t,e){return function(n){return n==null?e:t(n)}}function vE(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function dC(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";qe(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function lUt(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ye(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Jx(t){return ye(kr(t,!0),"invalid data","value",t),t}function Ls(t){return ye(kr(t,32),"invalid hash","value",t),t}const cUt=dC({address:rr,blockHash:Ls,blockNumber:kn,data:Jx,index:kn,removed:Mn(lUt,!1),topics:vE(Ls),transactionHash:Ls,transactionIndex:kn},{index:["logIndex"]});function uUt(t){return cUt(t)}const dUt=dC({hash:Mn(Ls),parentHash:Ls,parentBeaconBlockRoot:Mn(Ls,null),number:kn,timestamp:kn,nonce:Mn(Jx),difficulty:At,gasLimit:At,gasUsed:At,stateRoot:Mn(Ls,null),receiptsRoot:Mn(Ls,null),blobGasUsed:Mn(At,null),excessBlobGas:Mn(At,null),miner:Mn(rr),prevRandao:Mn(Ls,null),extraData:Jx,baseFeePerGas:Mn(At)},{prevRandao:["mixHash"]});function hUt(t){const e=dUt(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:dke(n)),e}const fUt=dC({transactionIndex:kn,blockNumber:kn,transactionHash:Ls,address:rr,topics:vE(Ls),data:Jx,index:kn,blockHash:Ls},{index:["logIndex"]});function pUt(t){return fUt(t)}const mUt=dC({to:Mn(rr,null),from:Mn(rr,null),contractAddress:Mn(rr,null),index:kn,root:Mn(pt),gasUsed:At,blobGasUsed:Mn(At,null),logsBloom:Mn(Jx),blockHash:Ls,hash:Ls,logs:vE(pUt),blockNumber:kn,cumulativeGasUsed:At,effectiveGasPrice:Mn(At),blobGasPrice:Mn(At,null),status:Mn(kn),type:Mn(kn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function gUt(t){return mUt(t)}function dke(t){t.to&&At(t.to)===Nle&&(t.to="0x0000000000000000000000000000000000000000");const e=dC({hash:Ls,index:Mn(kn,void 0),type:n=>n==="0x"||n==null?0:kn(n),accessList:Mn(Fw,null),blobVersionedHashes:Mn(vE(Ls,!0),null),authorizationList:Mn(vE(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:rr(n.address),chainId:At(n.chainId),nonce:At(n.nonce),signature:Za.from(r)}},!1),null),blockHash:Mn(Ls,null),blockNumber:Mn(kn,null),transactionIndex:Mn(kn,null),from:rr,gasPrice:Mn(At),maxPriorityFeePerGas:Mn(At),maxFeePerGas:Mn(At),maxFeePerBlobGas:Mn(At,null),gasLimit:At,to:Mn(rr,null),value:At,nonce:kn,data:Jx,creates:Mn(rr,null),chainId:Mn(At,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=iLt(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Za.from(t.signature):e.signature=Za.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&At(e.blockHash)===Nle&&(e.blockHash=null),e}const yUt="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class hC{constructor(e){Ee(this,"name");Ut(this,{name:e})}clone(){return new hC(this.name)}}class UN extends hC{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);Ee(this,"effectiveBlock");Ee(this,"txBase");Ee(this,"txCreate");Ee(this,"txDataZero");Ee(this,"txDataNonzero");Ee(this,"txAccessListStorageKey");Ee(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let l=(r||{})[o];l==null&&(l=a),ye(typeof l=="number",`invalud value for ${o}`,"costs",r),i[o]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Ut(this,i)}clone(){return new UN(this.effectiveBlock,this)}}class zN extends hC{constructor(n,r){super("org.ethers.plugins.network.Ens");Ee(this,"address");Ee(this,"targetNetwork");Ut(this,{address:n||yUt,targetNetwork:r??1})}clone(){return new zN(this.address,this.targetNetwork)}}var GE,KE;class wUt extends hC{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");xe(this,GE);xe(this,KE);te(this,GE,n),te(this,KE,r)}get url(){return V(this,GE)}get processFunc(){return V(this,KE)}clone(){return this}}GE=new WeakMap,KE=new WeakMap;const lM=new Map;var F2,U2,vm;const _v=class _v{constructor(e,n){xe(this,F2);xe(this,U2);xe(this,vm);te(this,F2,e),te(this,U2,At(n)),te(this,vm,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return V(this,F2)}set name(e){te(this,F2,e)}get chainId(){return V(this,U2)}set chainId(e){te(this,U2,At(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===At(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===At(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===At(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(V(this,vm).values())}attachPlugin(e){if(V(this,vm).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return V(this,vm).set(e.name,e.clone()),this}getPlugin(e){return V(this,vm).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new _v(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new UN;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Fw(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(bUt(),e==null)return _v.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=lM.get(e);if(n)return n();if(typeof e=="bigint")return new _v("unknown",e);ye(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ye(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new _v(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new zN(e.ensAddress,e.ensNetwork)),n}ye(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=lM.get(e);r&&ye(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),lM.set(e,n)}};F2=new WeakMap,U2=new WeakMap,vm=new WeakMap;let kh=_v;function Ple(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function Rle(t){return new wUt(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Ple(a.maxFee,9),maxPriorityFeePerGas:Ple(a.maxPriorityFee,9)}}catch(s){qe(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let jle=!1;function bUt(){if(jle)return;jle=!0;function t(e,n,r){const i=function(){const s=new kh(e,n);return r.ensNetwork!=null&&s.attachPlugin(new zN(null,r.ensNetwork)),s.attachPlugin(new UN),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};kh.register(e,i),kh.register(n,i),r.altNames&&r.altNames.forEach(s=>{kh.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Rle("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Rle("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function sz(t){return JSON.parse(JSON.stringify(t))}var Zf,Ic,xm,uh,z2,p_;class vUt{constructor(e){xe(this,z2);xe(this,Zf);xe(this,Ic);xe(this,xm);xe(this,uh);te(this,Zf,e),te(this,Ic,null),te(this,xm,4e3),te(this,uh,-2)}get pollingInterval(){return V(this,xm)}set pollingInterval(e){te(this,xm,e)}start(){V(this,Ic)||(te(this,Ic,V(this,Zf)._setTimeout(Ze(this,z2,p_).bind(this),V(this,xm))),Ze(this,z2,p_).call(this))}stop(){V(this,Ic)&&(V(this,Zf)._clearTimeout(V(this,Ic)),te(this,Ic,null))}pause(e){this.stop(),e&&te(this,uh,-2)}resume(){this.start()}}Zf=new WeakMap,Ic=new WeakMap,xm=new WeakMap,uh=new WeakMap,z2=new WeakSet,p_=async function(){try{const e=await V(this,Zf).getBlockNumber();if(V(this,uh)===-2){te(this,uh,e);return}if(e!==V(this,uh)){for(let n=V(this,uh)+1;n<=e;n++){if(V(this,Ic)==null)return;await V(this,Zf).emit("block",n)}te(this,uh,e)}}catch{}V(this,Ic)!=null&&te(this,Ic,V(this,Zf)._setTimeout(Ze(this,z2,p_).bind(this),V(this,xm)))};var e1,t1,Em;class EK{constructor(e){xe(this,e1);xe(this,t1);xe(this,Em);te(this,e1,e),te(this,Em,!1),te(this,t1,n=>{this._poll(n,V(this,e1))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){V(this,Em)||(te(this,Em,!0),V(this,t1).call(this,-2),V(this,e1).on("block",V(this,t1)))}stop(){V(this,Em)&&(te(this,Em,!1),V(this,e1).off("block",V(this,t1)))}pause(e){this.stop()}resume(){this.start()}}e1=new WeakMap,t1=new WeakMap,Em=new WeakMap;var W2,Jf;class xUt extends EK{constructor(n,r){super(n);xe(this,W2);xe(this,Jf);te(this,W2,r),te(this,Jf,-2)}pause(n){n&&te(this,Jf,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(V(this,W2));i!=null&&(V(this,Jf)===-2?te(this,Jf,i.number):i.number>V(this,Jf)&&(r.emit(V(this,W2),i.number),te(this,Jf,i.number)))}}W2=new WeakMap,Jf=new WeakMap;var wI;class EUt extends EK{constructor(n,r){super(n);xe(this,wI);te(this,wI,sz(r))}async _poll(n,r){throw new Error("@TODO")}}wI=new WeakMap;var H2;class AUt extends EK{constructor(n,r){super(n);xe(this,H2);te(this,H2,r)}async _poll(n,r){const i=await r.getTransactionReceipt(V(this,H2));i&&r.emit(V(this,H2),i)}}H2=new WeakMap;var Xf,V2,q2,Am,Tc,bI,hke;class AK{constructor(e,n){xe(this,bI);xe(this,Xf);xe(this,V2);xe(this,q2);xe(this,Am);xe(this,Tc);te(this,Xf,e),te(this,V2,sz(n)),te(this,q2,Ze(this,bI,hke).bind(this)),te(this,Am,!1),te(this,Tc,-2)}start(){V(this,Am)||(te(this,Am,!0),V(this,Tc)===-2&&V(this,Xf).getBlockNumber().then(e=>{te(this,Tc,e)}),V(this,Xf).on("block",V(this,q2)))}stop(){V(this,Am)&&(te(this,Am,!1),V(this,Xf).off("block",V(this,q2)))}pause(e){this.stop(),e&&te(this,Tc,-2)}resume(){this.start()}}Xf=new WeakMap,V2=new WeakMap,q2=new WeakMap,Am=new WeakMap,Tc=new WeakMap,bI=new WeakSet,hke=async function(e){if(V(this,Tc)===-2)return;const n=sz(V(this,V2));n.fromBlock=V(this,Tc)+1,n.toBlock=e;const r=await V(this,Xf).getLogs(n);if(r.length===0){V(this,Tc)<e-60&&te(this,Tc,e-60);return}for(const i of r)V(this,Xf).emit(V(this,V2),i),te(this,Tc,i.blockNumber)};const CUt=BigInt(2),kUt=10;function Yk(t){return t&&typeof t.then=="function"}function m_(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class fke{constructor(e){Ee(this,"name");Ut(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function _Ut(t){return JSON.parse(JSON.stringify(t))}function oz(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function cM(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(kr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:m_("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:m_("orphan",n),filter:_Ut(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?oz(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{kr(a)?i.push(a):s.push((async()=>{i.push(await na(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=oz(i.map(a=>a.toLowerCase()))}return{filter:r,tag:m_("event",r),type:"event"}}ye(!1,"unknown ProviderEvent","event",t)}function uM(){return new Date().getTime()}const SUt={cacheTimeout:250,pollingInterval:4e3};var go,Cm,yo,G2,Cl,n1,km,ep,YE,$c,K2,Y2,An,gl,az,lz,S6,cz,I6,g_;class IUt{constructor(e,n){xe(this,An);xe(this,go);xe(this,Cm);xe(this,yo);xe(this,G2);xe(this,Cl);xe(this,n1);xe(this,km);xe(this,ep);xe(this,YE);xe(this,$c);xe(this,K2);xe(this,Y2);if(te(this,Y2,Object.assign({},SUt,n||{})),e==="any")te(this,n1,!0),te(this,Cl,null);else if(e){const r=kh.from(e);te(this,n1,!1),te(this,Cl,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else te(this,n1,!1),te(this,Cl,null);te(this,ep,-1),te(this,km,new Map),te(this,go,new Map),te(this,Cm,new Map),te(this,yo,null),te(this,G2,!1),te(this,YE,1),te(this,$c,new Map),te(this,K2,!1)}get pollingInterval(){return V(this,Y2).pollingInterval}get provider(){return this}get plugins(){return Array.from(V(this,Cm).values())}attachPlugin(e){if(V(this,Cm).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return V(this,Cm).set(e.name,e.connect(this)),this}getPlugin(e){return V(this,Cm).get(e)||null}get disableCcipRead(){return V(this,K2)}set disableCcipRead(e){te(this,K2,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=new Kp(c);l.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let h="unknown error",f;try{f=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}qe(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:h}}),o.push(h)}qe(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new GFt(hUt(e),this)}_wrapLog(e,n){return new uC(uUt(e),this)}_wrapTransactionReceipt(e,n){return new JCe(gUt(e),this)}_wrapTransactionResponse(e,n){return new bE(dke(e),this)}_detectNetwork(){qe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){qe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=kn(await Ze(this,An,gl).call(this,{method:"getBlockNumber"}),"%response");return V(this,ep)>=0&&te(this,ep,e),e}_getAddress(e){return na(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(kr(e))return kr(e,32)?e:Gu(e);if(typeof e=="bigint"&&(e=kn(e,"blockTag")),typeof e=="number")return e>=0?Gu(e):V(this,ep)>=0?Gu(V(this,ep)+e):this.getBlockNumber().then(n=>Gu(n+e));ye(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?oz(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let h;switch(l.length){case 0:break;case 1:h=l[0];break;default:l.sort(),h=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return h&&(f.address=h),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(l=>i(l[0],l[1],l[2])):i(s,o,a)}_getTransactionRequest(e){const n=K7(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=na(n[i],this);Yk(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Yk(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(V(this,Cl)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw V(this,Cl)===i&&te(this,Cl,null),s}})();return te(this,Cl,i),(await i).clone()}const e=V(this,Cl),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(V(this,n1)?(this.emit("network",r,n),V(this,Cl)===e&&te(this,Cl,Promise.resolve(r))):qe(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await zo({_block:Ze(this,An,cz).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Ze(this,An,gl).call(this,{method:"getGasPrice"});return At(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Ze(this,An,gl).call(this,{method:"getPriorityFee"});return At(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*CUt+l),new Sle(s,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new Kp(r.url),s=await r.processFunc(n,this,i);return new Sle(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Yk(n)&&(n=await n),At(await Ze(this,An,gl).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await zo({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Ze(this,An,lz).call(this,Ze(this,An,az).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return At(await Ze(this,An,S6).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return kn(await Ze(this,An,S6).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return pt(await Ze(this,An,S6).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=At(n,"position");return pt(await Ze(this,An,S6).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await zo({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=yCe.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await zo({network:this.getNetwork(),params:Ze(this,An,cz).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await zo({network:this.getNetwork(),params:Ze(this,An,gl).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await zo({network:this.getNetwork(),params:Ze(this,An,gl).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await Ze(this,An,gl).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await zo({network:this.getNetwork(),result:Ze(this,An,gl).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:pt(n)}async getLogs(e){let n=this._getFilter(e);Yk(n)&&(n=await n);const{network:r,params:i}=await zo({network:this.getNetwork(),params:Ze(this,An,gl).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){qe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Q7.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=rr(e);const n=XU(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Q7.getEnsAddress(this),s=await new n2(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===dE)return null;const a=await new n2(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Us(r,"BAD_DATA")&&r.value==="0x"||Us(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(Qr("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){qe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=V(this,$c).get(e);n&&(n.timer&&clearTimeout(n.timer),V(this,$c).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=n0(this,YE)._++,i=()=>{V(this,$c).delete(r),e()};if(this.paused)V(this,$c).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);V(this,$c).set(r,{timer:s,func:i,time:uM()})}return r}_forEachSubscriber(e){for(const n of V(this,go).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new fke(e.type);case"block":{const n=new vUt(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new xUt(this,e.type);case"event":return new AK(this,e.filter);case"transaction":return new AUt(this,e.hash);case"orphan":return new EUt(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of V(this,go).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),V(this,yo)!=null&&n.pause(V(this,yo));break}}async on(e,n){const r=await Ze(this,An,g_).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,V(this,yo)!=null&&r.subscriber.pause(V(this,yo))),this}async once(e,n){const r=await Ze(this,An,g_).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,V(this,yo)!=null&&r.subscriber.pause(V(this,yo))),this}async emit(e,...n){const r=await Ze(this,An,I6).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new SAe(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),V(this,go).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await Ze(this,An,I6).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of V(this,go).values())n+=r.length;return n}async listeners(e){if(e){const r=await Ze(this,An,I6).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of V(this,go).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await Ze(this,An,I6).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),V(this,go).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await Ze(this,An,g_).call(this,e);r&&i.stop(),V(this,go).delete(n)}else for(const[n,{started:r,subscriber:i}]of V(this,go))r&&i.stop(),V(this,go).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return V(this,G2)}destroy(){this.removeAllListeners();for(const e of V(this,$c).keys())this._clearTimeout(e);te(this,G2,!0)}get paused(){return V(this,yo)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(te(this,ep,-1),V(this,yo)!=null){if(V(this,yo)==!!e)return;qe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),te(this,yo,!!e);for(const n of V(this,$c).values())n.timer&&clearTimeout(n.timer),n.time=uM()-n.time}resume(){if(V(this,yo)!=null){this._forEachSubscriber(e=>e.resume()),te(this,yo,null);for(const e of V(this,$c).values()){let n=e.time;n<0&&(n=0),e.time=uM(),setTimeout(e.func,n)}}}}go=new WeakMap,Cm=new WeakMap,yo=new WeakMap,G2=new WeakMap,Cl=new WeakMap,n1=new WeakMap,km=new WeakMap,ep=new WeakMap,YE=new WeakMap,$c=new WeakMap,K2=new WeakMap,Y2=new WeakMap,An=new WeakSet,gl=async function(e){const n=V(this,Y2).cacheTimeout;if(n<0)return await this._perform(e);const r=m_(e.method,e);let i=V(this,km).get(r);return i||(i=this._perform(e),V(this,km).set(r,i),setTimeout(()=>{V(this,km).get(r)===i&&V(this,km).delete(r)},n)),await i},az=async function(e,n,r){qe(r<kUt,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=K7(e);try{return pt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&iK(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&ui(s.data,0,4)==="0x556f1830"){const o=s.data,a=await na(i.to,this);let l;try{l=RUt(ui(s.data,4))}catch(h){qe(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}qe(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);qe(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const u={to:a,data:mi([l.selector,PUt([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await Ze(this,An,az).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},lz=async function(e){const{value:n}=await zo({network:this.getNetwork(),value:e});return n},S6=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await Ze(this,An,lz).call(this,Ze(this,An,gl).call(this,Object.assign(e,{address:i,blockTag:s})))},cz=async function(e,n){if(kr(e,32))return await Ze(this,An,gl).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await Ze(this,An,gl).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},I6=async function(e,n){let r=await cM(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await cM({orphan:"drop-log",log:n[0]},this)),V(this,go).get(r.tag)||null},g_=async function(e){const n=await cM(e,this),r=n.tag;let i=V(this,go).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},V(this,go).set(r,i)),i};function TUt(t,e){try{const n=uz(t,e);if(n)return F7(n)}catch{}return null}function uz(t,e){if(t==="0x")return null;try{const n=kn(ui(t,e,e+32)),r=kn(ui(t,n,n+32));return ui(t,n+32,n+32+r)}catch{}return null}function Ole(t){const e=ns(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function $Ut(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const NUt=new Uint8Array([]);function PUt(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(NUt),n+=32;for(let r=0;r<t.length;r++){const i=Cn(t[r]);e[r]=Ole(n),e.push(Ole(i.length)),e.push($Ut(i)),n+=32+Math.ceil(i.length/32)*32}return mi(e)}const Mle="0x0000000000000000000000000000000000000000000000000000000000000000";function RUt(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};qe(Xv(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=ui(t,0,32);qe(ui(n,0,12)===ui(Mle,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ui(n,12);try{const r=[],i=kn(ui(t,32,64)),s=kn(ui(t,i,i+32)),o=ui(t,i+32);for(let a=0;a<s;a++){const l=TUt(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{qe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=uz(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{qe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}qe(ui(t,100,128)===ui(Mle,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ui(t,96,100);try{const r=uz(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{qe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Hg(t,e){if(t.provider)return t.provider;qe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Dle(t,e){let n=K7(e);if(n.to!=null&&(n.to=na(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),na(r,t)]).then(([i,s])=>(ye(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await zo(n)}class jUt{constructor(e){Ee(this,"provider");Ut(this,{provider:e||null})}async getNonce(e){return Hg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Dle(this,e)}async populateTransaction(e){const n=Hg(this,"populateTransaction"),r=await Dle(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=At(r.chainId);ye(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ye(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ye(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();qe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(qe(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):qe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await zo(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Hg(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Hg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Hg(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Hg(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Hg(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=yCe.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){qe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function OUt(t){return JSON.parse(JSON.stringify(t))}var Fo,dh,r1,_m,i1,Q2,yg,dz,hz;class pke{constructor(e){xe(this,yg);xe(this,Fo);xe(this,dh);xe(this,r1);xe(this,_m);xe(this,i1);xe(this,Q2);te(this,Fo,e),te(this,dh,null),te(this,r1,Ze(this,yg,dz).bind(this)),te(this,_m,!1),te(this,i1,null),te(this,Q2,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){V(this,_m)||(te(this,_m,!0),Ze(this,yg,dz).call(this,-2))}stop(){V(this,_m)&&(te(this,_m,!1),te(this,Q2,!0),Ze(this,yg,hz).call(this),V(this,Fo).off("block",V(this,r1)))}pause(e){e&&Ze(this,yg,hz).call(this),V(this,Fo).off("block",V(this,r1))}resume(){this.start()}}Fo=new WeakMap,dh=new WeakMap,r1=new WeakMap,_m=new WeakMap,i1=new WeakMap,Q2=new WeakMap,yg=new WeakSet,dz=async function(e){try{V(this,dh)==null&&te(this,dh,this._subscribe(V(this,Fo)));let n=null;try{n=await V(this,dh)}catch(s){if(!Us(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){te(this,dh,null),V(this,Fo)._recoverSubscriber(this,this._recover(V(this,Fo)));return}const r=await V(this,Fo).getNetwork();if(V(this,i1)||te(this,i1,r),V(this,i1).chainId!==r.chainId)throw new Error("chaid changed");if(V(this,Q2))return;const i=await V(this,Fo).send("eth_getFilterChanges",[n]);await this._emitResults(V(this,Fo),i)}catch(n){console.log("@TODO",n)}V(this,Fo).once("block",V(this,r1))},hz=function(){const e=V(this,dh);e&&(te(this,dh,null),e.then(n=>{V(this,Fo).destroyed||V(this,Fo).send("eth_uninstallFilter",[n])}))};var s1;class MUt extends pke{constructor(n,r){super(n);xe(this,s1);te(this,s1,OUt(r))}_recover(n){return new AK(n,V(this,s1))}async _subscribe(n){return await n.send("eth_newFilter",[V(this,s1)])}async _emitResults(n,r){for(const i of r)n.emit(V(this,s1),n._wrapLog(i,n._network))}}s1=new WeakMap;class DUt extends pke{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const BUt="bigint,boolean,function,number,string,symbol".split(/,/g);function y_(t){if(t==null||BUt.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(y_);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function LUt(t){return new Promise(e=>{setTimeout(e,t)})}function Ib(t){return t&&t.toLowerCase()}function Ble(t){return t&&typeof t.pollingInterval=="number"}const mke={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class dM extends jUt{constructor(n,r){super(n);Ee(this,"address");r=rr(r),Ut(this,{address:r})}connect(n){qe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=y_(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await na(o,this.provider);ye(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await na(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(r));return}}catch(u){if(Us(u,"CANCELLED")||Us(u,"BAD_DATA")||Us(u,"NETWORK_ERROR")||Us(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(Us(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,l>10)){o(u);return}this.provider.emit("error",Qr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=y_(n);if(r.from){const s=await na(r.from,this.provider);ye(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Ep(n):n;return await this.provider.send("personal_sign",[pt(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=y_(i),o=await G7.resolveNames(n,r,s,async a=>{const l=await na(a);return ye(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(G7.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Ep(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),pt(r)])}}var o1,Z2,tp,hh,zu,Nc,Sa,QE,fz;class FUt extends IUt{constructor(n,r){super(n,r);xe(this,QE);xe(this,o1);xe(this,Z2);xe(this,tp);xe(this,hh);xe(this,zu);xe(this,Nc);xe(this,Sa);te(this,Z2,1),te(this,o1,Object.assign({},mke,r||{})),te(this,tp,[]),te(this,hh,null),te(this,Nc,null),te(this,Sa,null);{let s=null;const o=new Promise(a=>{s=a});te(this,zu,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(ye(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&te(this,Nc,kh.from(n))):i&&(ye(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),te(this,Nc,i))}_getOption(n){return V(this,o1)[n]}get _network(){return qe(V(this,Nc),"network is not available yet","NETWORK_ERROR"),V(this,Nc)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&At(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(V(this,Nc))return V(this,Nc)}else return n;return V(this,Sa)?await V(this,Sa):this.ready?(te(this,Sa,(async()=>{try{const r=kh.from(At(await this.send("eth_chainId",[])));return te(this,Sa,null),r}catch(r){throw te(this,Sa,null),r}})()),await V(this,Sa)):(te(this,Sa,(async()=>{const r={id:n0(this,Z2)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],te(this,Sa,null)}catch(s){throw te(this,Sa,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return kh.from(At(i.result));throw this.getRpcError(r,i)})()),await V(this,Sa))}_start(){V(this,zu)==null||V(this,zu).resolve==null||(V(this,zu).resolve(),te(this,zu,null),(async()=>{for(;V(this,Nc)==null&&!this.destroyed;)try{te(this,Nc,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Qr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await LUt(1e3)}Ze(this,QE,fz).call(this)})())}async _waitUntilReady(){if(V(this,zu)!=null)return await V(this,zu).promise}_getSubscriber(n){return n.type==="pending"?new DUt(this):n.type==="event"?this._getOption("polling")?new AK(this,n.filter):new MUt(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new fke("orphan"):super._getSubscriber(n)}get ready(){return V(this,zu)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Gu(At(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=pt(n[i]))}),n.accessList&&(r.accessList=Fw(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=gCe(i);return{address:s.address,nonce:Gu(s.nonce),chainId:Gu(s.chainId),yParity:Gu(s.signature.yParity),r:Gu(s.signature.r),s:Gu(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ib(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ib(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ib(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ib(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Ib):n.filter.address=Ib(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return Qr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return Qr("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=pz(s),c=wE.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return c.info={error:s,payload:n},c}const o=JSON.stringify(WUt(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Qr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Qr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Qr("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Qr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(o.match(/only replay-protected/i))return Qr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Qr("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Qr("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Qr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=n0(this,Z2)._++,s=new Promise((o,a)=>{V(this,tp).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return Ze(this,QE,fz).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new dM(this,s[n])}const{accounts:i}=await zo({network:this.getNetwork(),accounts:r});n=rr(n);for(const s of i)if(rr(s)===n)return new dM(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new dM(this,r))}destroy(){V(this,hh)&&(clearTimeout(V(this,hh)),te(this,hh,null));for(const{payload:n,reject:r}of V(this,tp))r(Qr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));te(this,tp,[]),super.destroy()}}o1=new WeakMap,Z2=new WeakMap,tp=new WeakMap,hh=new WeakMap,zu=new WeakMap,Nc=new WeakMap,Sa=new WeakMap,QE=new WeakSet,fz=function(){if(V(this,hh))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");te(this,hh,setTimeout(()=>{te(this,hh,null);const r=V(this,tp);for(te(this,tp,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==V(this,o1).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>V(this,o1).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of i){if(this.destroyed){l(Qr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(h=>h.id===c.id)[0];if(u==null){const h=Qr("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",h),l(h);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var Sm;class UUt extends FUt{constructor(n,r){super(n,r);xe(this,Sm);let i=this._getOption("pollingInterval");i==null&&(i=mke.pollingInterval),te(this,Sm,i)}_getSubscriber(n){const r=super._getSubscriber(n);return Ble(r)&&(r.pollingInterval=V(this,Sm)),r}get pollingInterval(){return V(this,Sm)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");te(this,Sm,n),this._forEachSubscriber(r=>{Ble(r)&&(r.pollingInterval=V(this,Sm))})}}Sm=new WeakMap;var J2;class zUt extends UUt{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);xe(this,J2);typeof n=="string"?te(this,J2,new Kp(n)):te(this,J2,n.clone())}_getConnection(){return V(this,J2).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}J2=new WeakMap;function pz(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&kr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=pz(t[e]);if(n)return n}return null}if(typeof t=="string")try{return pz(JSON.parse(t))}catch{}return null}function mz(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)mz(t[n],e);if(typeof t=="string")try{return mz(JSON.parse(t),e)}catch{}}}function WUt(t){const e=[];return mz(t,e),e}const HUt=()=>{var S,P;const[t]=x.useState("0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"),[e,n]=x.useState(null),[r,i]=x.useState(3576),[s,o]=x.useState(0),{toast:a}=ma(),l=cr(),{user:c,authenticated:u}=Bo(),{address:h}=SN(),f=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],p="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",m=new zUt("https://mainnet.infura.io/v3/3b60e88027de49bba4bd65af373611df"),g=new n2(p,f,m),[y,w]=x.useState(!1),[v,b]=x.useState(!1),[A,E]=x.useState(0),[$,N]=x.useState(null),R=async()=>{var D,O,I,B,Q;if(!(c!=null&&c.id)){console.warn("User ID not found - cannot fetch balance");return}w(!0);try{const j=await Yt.post("/api/check_user_exist",{privy_id:c.id});if(j.data&&j.data.exists==="yes"){const ee=j.data.user;N(ee);try{const Z=await g.balanceOf(ee.wallet_address),oe=parseFloat(Z)||0;E(oe)}catch(Z){console.error(" Error fetching on-chain balance:",Z)}}else if(j.data&&j.data.exists==="no")console.warn(" User does not exist in backend"),a({title:"User Not Found",description:"Please complete registration first.",variant:"destructive"});else throw new Error(((D=j.data)==null?void 0:D.error)||"Unexpected response format")}catch(j){console.error(" Error fetching balance:",j),Yt.isAxiosError(j)?((O=j.response)==null?void 0:O.status)===404?a({title:"User Not Found",description:"Please complete registration first.",variant:"destructive"}):((I=j.response)==null?void 0:I.status)>=500?a({title:"Server Error",description:"Backend server is temporarily unavailable.",variant:"destructive"}):a({title:"Balance Error",description:((Q=(B=j.response)==null?void 0:B.data)==null?void 0:Q.error)||"Could not fetch balance data.",variant:"destructive"}):a({title:"Network Error",description:"Please check your connection and try again.",variant:"destructive"})}finally{w(!1)}},M=async()=>{var D,O,I,B,Q;if(!e||!($!=null&&$.id)){a({title:"Missing Information",description:"Please select an amount and ensure you're logged in.",variant:"destructive"});return}b(!0);try{const j=await Yt.post("/api/deposit",{id:$.id,amount:e},{headers:{"X-Privy-User-Id":c.id,"X-Wallet-Address":$.wallet_address,"Content-Type":"application/json"}});if(j.data.success){const Y=((D=k.find(ee=>ee.value===e))==null?void 0:D.points)||0;a({title:" Deposit Successful!",description:`You've earned ${Y} Lighter Points!`,duration:3e3}),l("/deposit/success",{state:{amount:e,pointsEarned:j.data.points_earned||Y,pointsValue:j.data.points_value||(Y*4.005).toFixed(2),newBalance:j.data.new_balance||A+e,transactionHash:j.data.transaction_hash||`0x${Math.random().toString(16).substr(2,8)}`,orderId:j.data.order_id||`ORDER_${Date.now()}`,date:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}}),setTimeout(()=>{R()},1e3)}else throw new Error(j.data.error||"Deposit failed")}catch(j){if(console.error(" Deposit error:",j),Yt.isAxiosError(j)){const Y=((I=(O=j.response)==null?void 0:O.data)==null?void 0:I.error)||((Q=(B=j.response)==null?void 0:B.data)==null?void 0:Q.message)||"Deposit failed. Please try again.";a({title:"Deposit Failed",description:Y,variant:"destructive"})}else a({title:"Deposit Error",description:j.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{b(!1)}};x.useEffect(()=>{u&&(c!=null&&c.id)&&R()},[u,c==null?void 0:c.id]);const F=D=>`${D.slice(0,6)}...${D.slice(-4)}`,W=async()=>{try{await R(),a({title:" Refreshed!",description:"Balance updated successfully",variant:"default"})}catch(D){console.error(" Refresh failed:",D),a({title:"Refresh Failed",description:"Could not update balance",variant:"destructive"})}};x.useEffect(()=>{const D=setInterval(()=>{i(O=>O>0?O-1:0)},1e3);return()=>clearInterval(D)},[]),x.useEffect(()=>{const D=setInterval(()=>{o(O=>(O+1)%3)},4e3);return()=>clearInterval(D)},[]);const H=D=>{const O=Math.floor(D/3600),I=Math.floor(D%3600/60),B=D%60;return`${O.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`},L=[{title:`Make your first
deposit and earn`,subtitle:"Up to 1 lighter point",image:KO},{title:`Refer friends
and multiply`,subtitle:"Earn 10% of their points",image:KO},{title:`Farm daily
for bonus points`,subtitle:"Compound your earnings",image:KO}],k=[{value:100,points:24.9},{value:250,points:62.3},{value:500,points:124.7},{value:1e3,points:249.4}],C=D=>{n(D),setTimeout(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},100)},_=async()=>{try{await navigator.clipboard.writeText(t),a({title:" Address Copied!",description:"Deposit address copied to clipboard"})}catch{a({title:"Copy Failed",description:"Unable to copy address",variant:"destructive"})}},T=async()=>{try{await navigator.clipboard.writeText(($==null?void 0:$.wallet_address)||h||""),a({title:" Wallet Copied!",description:"Wallet address copied to clipboard"})}catch{a({title:"Copy Failed",description:"Unable to copy wallet address",variant:"destructive"})}};return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>l(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Quick Start"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"deposit & earn"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-gradient-to-r from-[#7D5A02] to-[#A07715] rounded-2xl p-6 mb-6 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs(me.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.5,ease:"easeInOut"},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:L[s].title.split(`
`).map((D,O)=>d.jsxs("span",{children:[D,O<L[s].title.split(`
`).length-1&&d.jsx("br",{})]},O))}),d.jsx("p",{className:"text-white/90 font-medium mb-4",children:L[s].subtitle})]},s),d.jsx("div",{className:"flex gap-1 mb-4",children:L.map((D,O)=>d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${O===s?"bg-white":"bg-white/30"}`},O))}),d.jsxs("div",{className:"flex items-center gap-2 text-white",children:[d.jsx("img",{src:EAe,alt:"",className:"h-5 w-5",style:{filter:"brightness(0) invert(1)"}}),d.jsx("span",{className:"text-lg font-bold",children:H(r)})]})]}),d.jsx(me.img,{src:L[s].image,alt:"Promo",className:"absolute right-4 top-1/4 -translate-y-1/2 w-32 h-32 object-contain",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2}},`image-${s}`)]}),d.jsxs(me.div,{className:"border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},style:{backgroundImage:`url(${cDt})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:[d.jsx("p",{className:"text-golden-light text-md font-bold mb-2",children:"Wallet Balance:"}),d.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[d.jsx("p",{className:"text-4xl font-bold text-golden-light",children:y?d.jsx(me.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Loading..."}):`$${A.toFixed(2)} USDC`}),d.jsx("button",{onClick:W,disabled:y,className:"text-golden-light hover:opacity-80 mb-1 mr-6 disabled:opacity-50",children:d.jsx(Gm,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-10",children:[d.jsx("span",{className:"text-sm font-extralight",children:($==null?void 0:$.wallet_address)&&F($.wallet_address)}),d.jsx("button",{className:"text-golden-light",onClick:T,children:d.jsx("img",{src:xAe,alt:"",className:"h-4 w-auto"})})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Choose Amount:"}),d.jsx(Vt,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-golden-light/20 text-golden-light hover:bg-golden-light/30",children:d.jsx(LIe,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"grid grid-cols-4 gap-3",children:k.map(D=>d.jsxs("button",{onClick:()=>C(D.value),className:`bg-[#D4B679]/90 hover:bg-[#D4B679] rounded-xl p-4 flex flex-col items-center justify-center transition-all duration-200 ${e===D.value?"ring-2 ring-golden-light scale-105":""}`,children:[d.jsxs("span",{className:"text-xl font-bold text-background",children:["$",D.value]}),d.jsxs("span",{className:"text-xs text-background/70 mt-1",children:["(~",D.points,"pt)"]})]},D.value))})]}),d.jsx(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(phe,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Instant Point Credit"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(AD,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Secured by Privy"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[d.jsx("div",{className:"w-10 h-10 bg-golden-light/20 rounded-xl flex items-center justify-center",children:d.jsx(DIe,{className:"w-5 h-5 text-golden-light"})}),d.jsx("span",{className:"text-xs text-golden-light font-extralight opacity-60",children:"2,847 farmers trust us"})]})]})}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Deposit Address:"}),d.jsx("p",{className:"text-center text-golden-light font-extralight opacity-60 text-sm mb-4",children:"Send only USDC to this address"}),d.jsx("div",{className:"border-2 border-dashed border-golden-light/30 rounded-xl p-4 cursor-pointer hover:border-golden-light/50 transition-colors",onClick:_,children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(fw,{className:"w-5 h-5 text-golden-light"}),d.jsx("span",{className:"text-golden-light font-mono text-xs break-all",children:t})]})}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center mt-3",children:"Tap to copy address"})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6",children:d.jsxs(Vt,{onClick:M,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white disabled:opacity-50",disabled:!e||v,children:[v?d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full mr-2"}):d.jsx("img",{src:rK,alt:"",className:"h-6 mt-0.5 w-auto",style:{filter:"brightness(0) invert(1)"}}),v?"Processing...":`Deposit $${e||0}`]})}),e&&!v&&d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4 text-center",children:"Ready to deposit"}),d.jsxs("p",{className:"text-center text-golden-light font-extralight opacity-60 mb-4",children:["Click the deposit button to earn $",e," worth of USDC and get ",((S=k.find(D=>D.value===e))==null?void 0:S.points)||0," points"]}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-foreground",children:["You'll earn ",d.jsxs("span",{className:"font-semibold text-golden-light",children:[((P=k.find(D=>D.value===e))==null?void 0:P.points)||0," points"]})]})})]}),d.jsx("div",{className:"text-center mb-6",children:d.jsx("button",{className:"text-golden-light hover:text-golden-light/80 font-medium transition-colors",children:"Need help?"})}),d.jsx(Id,{})]})},gke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABkCAYAAAAonQZNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhiSURBVHgB7VxdTFRHFJ4FqqKhWoOCTQnW/mjSplVp7EOTak3a1MRW+sCDrak+VH0ysbpJaW0KSmMwrZpoJfVBoAhWjRrRhgIRlX+jAlJsAkWx/LruAoLIP3tvv1nnrsOwbK+729R7d77kZvbuvTN3z7dnZs6cc+4QIiEhISEhISEhISEhISEhISEhISHxlMNCzAUqj0o/JCcnh0RGRsYsX748rrOz80VFUSLCwsL65syZ05SXl1dttVpbtHv5ekENm832OshKczqdzaqqDuJw4lBYOUC/x/VDd+/efY2rZjYl0gWX0CDF4nA4NqG0qQxjY2MqD+Hc1t3dvZnW49sJFriFhRYlgoRRaJSKrqmRo6geQK+ze5yotyNYySMdHR2fQfhhRpoyGWECeQq9HxhpbW39lAQbduzYEQPhG71pmDf+GIl/bdu2LYYEExobG7/Wup8v0OqhnUQSLNizZ08EZC7nCfCVOJRlWVlZM/Q8N4QYHMuWLYtFMR9jFbFYLD7ZYqhHWP35QKyeOoYnDubHCyimh4aG0lOfZ0RWf4bdbtc1zhmeuMHBwTESOKs/BHbeM7puJMaEW7NiYmL6SOCIG4bmdROTwk1abm7uGxjTT1BzTPUTbEVRf/Xq1WhiVuTn589DF01S2dKKGbG+Tanq41l1eHj4aEJCQigxCdwatmHDhmkPHz78HDLWcQL7TNhj3lxN9EPbPiQmg6WiomI5utN5la1FNaFVP6FpG9rOWrFiRRgxC6AFC0ZHRw9AtgdUQG4BL5KmCGT8G6kKt9Cvqq+vf56YAXBEzqqtrd0Kof7WJJ1sLONcRXdw/KGRN9lKQrhW0dTUtJA91nCeEfcPBmFht27diodAZYJWTJCf0z7qrMw6ePDgopMnT0YPDQ39iHOHSKzgi3NAk/c2NDREEqOjra1tMQTKZkRogiqelcb9dSlcSp9cunSJH58sRUVFS4uLi79HG/m4pwbHnziqUe/3kpKSnZcvX16iPvbBGROHDx+OhD8sGYLYKRPeBn+OsNaWlpbt2dnZz3pre8uWLVPPnDkzNy0tbcG5c+ci8SxdK4OnEe5/GVoyDVq2nmmEN3tM4bpZH9zdaSkpKa94atNwiIuLe2b16tXTV61aNdXDZVEwCzTlXZCQq453dU+YKblrYygLMZB/IHQx45GWmJj43LVr19ZAkGRY8ukDAwMn+vv7MyHszpqamjVbt26dJdY5derUgr6+Pmpe9HLj2ATSlPEzQt3NmzfX79u3L5xryniE0ZkP9tU69dHMNyLOeux8GEf5hQsX1tH7CwoKZnR1dX2p6jAvuPbsmPl2oY0oYmC4/mE6GEOgw1RZNCE9Ecd9P4TjVxx5/FjlwcRQQJL2eXBkZCS7rKxsMTE4XKTBRgqHluR462IiGXq/02ZSkFd+5cqVNVRLxecbFhi/vqPCMSF9ceWI4xh/2gbSrKmpqTOJmYAgxlsQrlMNDBTOVuvDpHLo2LFji7jHmScofP/+/f1USk5gX+CqzLo5/XwevrX3VKObF5MBLp3ZEK7W1/AbD0baDQRZNqJdw5oXuvxPnZ2dL6GIgsBaCM6faFJvc3PzdoThioRLhkqz0hWsgbdhLorwkBDX7f5qhhNLLScxOHQRR/sWCSAC3d7/AV3EhYeHO1AMBkje0JUrVxreRa2LuClTptxGYSMBAGblmbGxsXt7enq+EPI0TJmXZoE5ss9lQ/hnjrjW7pyD8jesYVeKzyJmQnp6+lKVc0f7Cd4A7qUG8NmzZxdyjzMXeQjYfksl9WPJNRl5FO2Yva3UVUVMBJcGZGRkTIOAR6mUXuIB48jR8x3vYcGfU1FeXr5GiHEaWgNdP/7IkSM0ke9nHE5OYGUiF+5rAzioRyVP0LIJdQS30lEaUCFmAufILKVKMokjcwRHSWFh4Vp6P8awiN7eXrcjkxHrjXAKGrzZBQ2cS8wE6hqvrq7+GFqUBNf5EeY6z4DmJFdVVX2UlJQ0IQKVk5OzAAQeBCE9lBnxPQSeQA4u17nVatWVZmoo0GBNQkJC+KZNm3SF37hgzZiXLs+nPFCGabDmfaGpoHkvwS0oDb6I4UHFswuGDw8+gPF8aPfu3a96ajOowALSO9mYNmnKg3CNBqStmOnFSNo4EjG+TsnNzY2iAWk4FyIPHDgwlZgN9+7de1N9NAPzKRBOYfBTBQJL29vb4/kYBX1zEL6+JaWlpSloowD33FBZCgRNiSguLk7BiiWOmADjkm4aGhpo0k2FRpAOk4cS/QtNujl9+vQ82II/qDqSbjCZ7b9+/brxk2540BUES/NqFrureC6kedWqE80ahS+Fa5X4oxYRs4EmFmLSoJH/Hk1oDxg3p+jN2OQIrDFNYqEImsoK+/D8I14Clsqq8KmsQizX8HCPf7ARp/8XydOsHKysrFxFzAyYFdFYodB8uoCm62N9nGM2rfMI+oIISDuh+u/i0iaYhrKyMnOOdQzu7nvx4sW3IXCXGhjYjx8//o6eH2DUd7ncUSPEaKkjIVByTEXceLaeGw3/9mBEREQgZVAQOx7Wc6PhiYuOjm5DQfcSIf6A1e+Piopq03O/4YmDCUEdo3fYi7o+g9W/U1dX10KCBXQTAjqy+5oUpBnUT7KZgeE1jgJO0WwUjfTdevLkyTsqy4lpyMzMzCHBBriW1kJpRrw4QyeA27Bl2GazrSVBBn6LoK9U5opXdYQuGWlj3d3d33hqLxjg3hcJbvWNqv5NqTocDsdm6vgU2gkquIWm25vZ7fZDbBs0GtfVlmS0HGTboP0kbIPm28NMAn4DPUtqampMfHz8EhD0Ms4jcPTBTrsNJ0EVNK0dmqZ4qCchISEhISEhISEhISEhISEhISEhYQ78AwLL51sWiMa6AAAAAElFTkSuQmCC",VUt=()=>{const t=cr(),e=Zp(),{toast:n}=ma(),r=e.state||{amount:25,pointsEarned:.87,pointsValue:30.45,newBalance:9,transactionHash:"SDFSDF5484SD",orderId:"SDFSDF5484SD",date:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})},[i,s]=x.useState(!0);x.useEffect(()=>{const u=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(u)},[]);const o=async()=>{const u=` I just earned ${r.pointsEarned} Lighter Points worth $${r.pointsValue} on LighterFarm! `;if(navigator.share)try{await navigator.share({title:"Lighter Farm Achievement",text:u,url:window.location.origin}),n({title:" Shared!",description:"Achievement shared successfully"})}catch(h){console.log("Share cancelled or failed:",h)}else try{await navigator.clipboard.writeText(u),n({title:" Copied!",description:"Achievement copied to clipboard"})}catch{n({title:"Share Failed",description:"Unable to share achievement",variant:"destructive"})}},a=()=>{const u=`https://basescan.org/tx/${r.transactionHash}`;window.open(u,"_blank"),n({title:" Opening Explorer",description:"Transaction details will open in new tab"})},l=()=>{t("/dashboard")},c=()=>{t("/farm")};return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 flex flex-col px-4",children:[i&&d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:d.jsxs(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h2",{className:"text-2xl font-bold text-golden-light mb-2",children:"Success!"}),d.jsx("p",{className:"text-golden-light",children:"Deposit completed successfully"})]})}),d.jsxs("header",{className:"flex items-center justify-center py-6 relative",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Deposit Complete"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"transaction successful"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto absolute right-0"})]}),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[d.jsx(me.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6,delay:.2},className:"mb-6 relative",children:d.jsxs("div",{className:"w-32 h-32 bg-gradient-to-r from-[#7D5A02] to-[#A07715] rounded-full flex items-center justify-center relative",children:[d.jsx(phe,{className:"w-16 h-16 text-white"}),d.jsx(me.div,{animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full border-4 border-golden-light"}),d.jsx(me.div,{animate:{scale:[1,1.4,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute inset-0 rounded-full border-2 border-golden-light"})]})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-golden-light mb-3",children:"Congratulations!"}),d.jsx("p",{className:"text-lg text-golden-light mb-2",children:"You've successfully earned"}),d.jsxs("p",{className:"text-4xl font-bold text-golden-light mb-2",children:[r.pointsEarned," Lighter Points"]}),d.jsxs("p",{className:"text-sm text-golden-light font-extralight opacity-60",children:["Worth approximately $",r.pointsValue]})]}),d.jsxs(me.div,{className:"grid grid-cols-2 gap-4 w-full mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-golden-light mb-1",children:["$",r.amount]}),d.jsx("div",{className:"text-xs text-golden-light font-extralight opacity-60",children:"Deposited"})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-golden-light mb-1",children:["$",r.newBalance.toFixed(2)]}),d.jsx("div",{className:"text-xs text-golden-light font-extralight opacity-60",children:"New Balance"})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold",children:"Transaction Details"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-green-500 font-semibold text-sm",children:"Confirmed"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Transaction Hash"}),d.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-foreground font-semibold hover:text-golden-light transition-colors",children:[d.jsxs("span",{className:"font-mono text-sm",children:[r.transactionHash.slice(0,8),"..."]}),d.jsx(c3,{className:"w-4 h-4"})]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Date & Time"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:r.date})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Network"}),d.jsx("span",{className:"text-foreground font-semibold text-sm",children:"Base Mainnet"})]})]})]}),d.jsx(me.div,{className:"bg-gradient-to-r from-[#7D5A02]/20 to-[#A07715]/20 border border-golden-light/30 rounded-2xl p-4 mb-8 w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h4",{className:"text-golden-light font-semibold mb-1",children:"Achievement Unlocked!"}),d.jsx("p",{className:"text-xs text-golden-light font-extralight opacity-80",children:"You're now actively farming on Lighter Farm"}),d.jsxs("div",{className:"mt-3 flex items-center justify-center gap-4 text-xs",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-golden-light font-bold",children:["+",r.pointsEarned]}),d.jsx("div",{className:"text-golden-light/60",children:"Points"})]}),d.jsx("div",{className:"w-px h-8 bg-golden-light/30"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-golden-light font-bold",children:"Level 1"}),d.jsx("div",{className:"text-golden-light/60",children:"Farmer"})]})]})]})})]}),d.jsxs("div",{className:"space-y-3 px-4",children:[d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:d.jsxs(Vt,{onClick:o,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white",children:[d.jsx("img",{src:gke,alt:"",className:"h-7 w-auto mr-2"}),"Share Achievement"]})}),d.jsxs(me.div,{className:"grid grid-cols-2 gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:[d.jsx(Vt,{onClick:c,className:"h-12 bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold rounded-md",children:"Start Farming"}),d.jsx(Vt,{onClick:l,className:"h-12 border border-golden-light/30 bg-transparent text-golden-light font-bold rounded-md hover:bg-golden-light/10",children:"View Dashboard"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-card/50 backdrop-blur-sm border border-border rounded-2xl p-4 mx-4 mt-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h5",{className:"text-golden-light font-semibold text-sm mb-2",children:"What's Next?"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-1",children:d.jsx("span",{className:"text-golden-light",children:""})}),d.jsx("p",{className:"text-golden-light/80",children:"Start Farming"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-1",children:d.jsx("span",{className:"text-golden-light",children:""})}),d.jsx("p",{className:"text-golden-light/80",children:"Invite Friends"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 bg-golden-light/20 rounded-full flex items-center justify-center mx-auto mb-1",children:d.jsx("span",{className:"text-golden-light",children:""})}),d.jsx("p",{className:"text-golden-light/80",children:"Track Progress"})]})]})]})})]})},qUt=({isOpen:t,onClose:e,data:n,onStakeAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=ma(),c=cr();x.useEffect(()=>{if(t&&n){const p=setTimeout(()=>a(1),300),m=setTimeout(()=>a(2),800),g=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(p),clearTimeout(m),clearTimeout(g)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=p=>`${p.slice(0,6)}...${p.slice(-6)}`,f=()=>{e(),c("/dashboard")};return n?d.jsx(mw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((p,m)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},m))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:p=>p.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(oA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:qr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(iA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Stake Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your USDL is now earning rewards"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Amount Staked"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.staked_amount).toLocaleString()]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"APY"})}),d.jsx("p",{className:"text-lg font-bold text-[#D4B679]",children:n.estimated_apy})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Daily Yield"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.estimated_daily_yield).toFixed(4)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4 ",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Total Staked"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.total_staked).toLocaleString()]})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:h(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(fw,{size:14,className:"text-gray-400 hover:text-black"})})]})]})})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:f,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(hp,{size:18})]})})]})]})}):null},yke=({isOpen:t,onClose:e,data:n,onUnstakeAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=ma(),c=cr();x.useEffect(()=>{if(t&&n){const m=setTimeout(()=>a(1),300),g=setTimeout(()=>a(2),800),y=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(m),clearTimeout(g),clearTimeout(y)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=m=>`${m.slice(0,6)}...${m.slice(-6)}`,p=()=>{e(),c("/dashboard")};return n?d.jsx(mw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((m,g)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},g))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:m=>m.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(oA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:qr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(iA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Unstake Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Your USDL has been withdrawn with rewards"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Total Received"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.total_received).toLocaleString()]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Unstaked Amount"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.unstaked_amount).toLocaleString()]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Rewards Earned"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.rewards_earned).toLocaleString()]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Remaining Staked"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.remaining_staked).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Penalty Fee"}),d.jsx("span",{className:"text-sm font-bold text-gray-400",children:parseFloat(n.penalty_fee)>0?`$${parseFloat(n.penalty_fee).toLocaleString()}`:"None"})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:f(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(fw,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(kW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:h(n.timestamp)})]})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:p,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(hp,{size:18})]})})]})]})}):null},GUt=()=>{const[t,e]=x.useState("stake"),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(!1),{toast:u}=ma(),h=cr(),{user:f,authenticated:p,getAccessToken:m}=Bo(),[g,y]=x.useState(!1),[w,v]=x.useState(null),[b,A]=x.useState(!1),[E,$]=x.useState(null),[N,R]=x.useState(0),[M,F]=x.useState(0),W=localStorage.getItem(f==null?void 0:f.id),H=W?JSON.parse(W):null,L=H==null?void 0:H.wallet_address,[k,C]=x.useState("");x.useEffect(()=>{(async()=>{if(!L){u({title:"Wallet Required",description:"Wallet address not found.",variant:"destructive"});return}R((H==null?void 0:H.usdl_balance)||0),F((H==null?void 0:H.staked_amount)||0)})()},[W]),x.useEffect(()=>{(async()=>{if(W){const he=JSON.parse(W);C(he.id)}})()},[L,f==null?void 0:f.id]);const _=ce=>{e(ce),r(""),s("")},T=async()=>{var ce,he,be,fe,ke,we,Fe,Me,Se;if(!n||parseFloat(n)<=0){u({title:"Invalid Amount",description:"Please enter a valid stake amount",variant:"destructive"});return}if(!p||!(f!=null&&f.id)){u({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!L){u({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!k){u({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}a(!0);try{const ve={wallet_address:L,amount:n,duration_days:0},Oe={"X-Privy-User-Id":k,"X-Wallet-Address":L,"Content-Type":"application/json",Accept:"application/json"},Le=await Yt.post("/api/stake",ve,{headers:Oe});if(Le.status===200&&((ce=Le.data)!=null&&ce.success)){if(v(Le.data.data),y(!0),r(""),window.Audio)try{const Ce=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ce.volume=.6,Ce.play().catch(()=>{})}catch{}}else u({title:"Stake failed",description:((be=(he=Le.data)==null?void 0:he.error)==null?void 0:be.message)||((fe=Le.data)==null?void 0:fe.error)||"Unexpected response from server",variant:"destructive"})}catch(ve){console.error(" Stake error details:",ve);let Oe="Network or server error",Le="Stake Error";if(Yt.isAxiosError(ve))if(ve.response){const Ce=ve.response.status,De=ve.response.data;Ce===400?(Le="Invalid Request",(we=(ke=De==null?void 0:De.detail)==null?void 0:ke.error)!=null&&we.message?Oe=De.detail.error.message:(Fe=De==null?void 0:De.error)!=null&&Fe.message?Oe=De.error.message:De!=null&&De.error?Oe=De.error:De!=null&&De.message?Oe=De.message:Oe="Please check your input and try again"):Ce===401?(Le="Authentication Failed",Oe=((Me=De==null?void 0:De.error)==null?void 0:Me.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ce===404?(Le="API Endpoint Not Found",Oe="The API endpoint is not available. Please check if your server is running."):Ce>=500?(Le="Server Error",Oe="Server is temporarily unavailable. Please try again later"):Oe=((Se=De==null?void 0:De.error)==null?void 0:Se.message)||(De==null?void 0:De.error)||(De==null?void 0:De.message)||`Server error (${Ce})`}else ve.request?(Le="Connection Error",Oe="Unable to connect to server. Please check your internet connection."):Oe=ve.message||"Failed to make request";else ve.message&&ve.message.includes("access token")?(Le="Authentication Error",Oe="Failed to authenticate. Please try logging out and back in."):ve instanceof Error?Oe=ve.message:typeof ve=="string"&&(Oe=ve);u({title:Le,description:Oe,variant:"destructive"})}finally{a(!1)}},S=async()=>{var ce,he,be,fe,ke,we,Fe,Me,Se;if(!i||parseFloat(i)<=0){u({title:"Invalid Amount",description:"Please enter a valid unstake amount",variant:"destructive"});return}if(!p||!(f!=null&&f.id)){u({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!L){u({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!k){u({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}c(!0);try{const ve={wallet_address:L,amount:i,force_unlock:"false"},Oe={"X-Privy-User-Id":k,"X-Wallet-Address":L,"Content-Type":"application/json",Accept:"application/json"},Le=await Yt.post("/api/unstake",ve,{headers:Oe});if(Le.status===200&&((ce=Le.data)!=null&&ce.success)){if($(Le.data.data),A(!0),s(""),window.Audio)try{const Ce=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Ce.volume=.6,Ce.play().catch(()=>{})}catch{}}else u({title:"Unstake failed",description:((be=(he=Le.data)==null?void 0:he.error)==null?void 0:be.message)||((fe=Le.data)==null?void 0:fe.error)||"Unexpected response from server",variant:"destructive"})}catch(ve){console.error(" Unstake error details:",ve);let Oe="Network or server error",Le="Unstake Error";if(Yt.isAxiosError(ve))if(ve.response){const Ce=ve.response.status,De=ve.response.data;Ce===400?(Le="Invalid Request",(we=(ke=De==null?void 0:De.detail)==null?void 0:ke.error)!=null&&we.message?Oe=De.detail.error.message:(Fe=De==null?void 0:De.error)!=null&&Fe.message?Oe=De.error.message:De!=null&&De.error?Oe=De.error:De!=null&&De.message?Oe=De.message:Oe="Please check your input and try again"):Ce===401?(Le="Authentication Failed",Oe=((Me=De==null?void 0:De.error)==null?void 0:Me.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Ce===404?(Le="API Endpoint Not Found",Oe="The API endpoint is not available. Please check if your server is running."):Ce>=500?(Le="Server Error",Oe="Server is temporarily unavailable. Please try again later"):Oe=((Se=De==null?void 0:De.error)==null?void 0:Se.message)||(De==null?void 0:De.error)||(De==null?void 0:De.message)||`Server error (${Ce})`}else ve.request?(Le="Connection Error",Oe="Unable to connect to server. Please check your internet connection."):Oe=ve.message||"Failed to make request";else ve.message&&ve.message.includes("access token")?(Le="Authentication Error",Oe="Failed to authenticate. Please try logging out and back in."):ve instanceof Error?Oe=ve.message:typeof ve=="string"&&(Oe=ve);u({title:Le,description:Oe,variant:"destructive"})}finally{c(!1)}},P=()=>{y(!1),v(null)},D=()=>{y(!1),v(null),setTimeout(()=>{const ce=document.querySelector('input[type="number"]');ce&&ce.focus()},100)},O=()=>{A(!1),$(null)},I=()=>{A(!1),$(null),setTimeout(()=>{const ce=document.querySelector('input[type="number"]');ce&&ce.focus()},100)},B=()=>{const ce=parseFloat(n)||0,he=ce/100*7.9,be=414,fe=ce/28450*100;return{weekly:he.toFixed(1),apy:be,poolShare:fe.toFixed(1)}},Q=()=>{const ce=parseFloat(i)||0,he=ce/100*7.9,be=414,fe=ce/28450*100;return{weeklyLoss:he.toFixed(1),apy:be,poolShareLoss:fe.toFixed(1)}},j=B(),Y=Q(),ee=ce=>{const he=(N*ce/100).toFixed(2);r(he)},Z=ce=>{const he=(M*ce/100).toFixed(2);s(he)},oe=t==="stake"?n:i,de=t==="stake"?o:l;return d.jsxs(d.Fragment,{children:[d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>h(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Farm USDL"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"for points"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-2 mb-4 relative z-10 grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsx("button",{onClick:()=>_("stake"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="stake"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(vQ,{className:"w-4 h-4"}),"Stake"]})}),d.jsx("button",{onClick:()=>_("unstake"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="unstake"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(ED,{className:"w-4 h-4"}),"Unstake"]})})]}),d.jsx(mw,{mode:"wait",children:d.jsxs(me.div,{initial:{opacity:0,x:t==="stake"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="stake"?20:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Available":"Available to Unstake"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[t==="stake"?N.toFixed(2):M.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Total Farmed":"Current Balance"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[t==="stake"?M.toFixed(2):N.toFixed(2)," USDL"]})]})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsxs("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:[t==="stake"?"Stake":"Unstake"," Amount:"]}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(aC,{type:"number",value:oe,onChange:ce=>t==="stake"?r(ce.target.value):s(ce.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:"USDL"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(Vt,{onClick:()=>t==="stake"?ee(25):Z(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(Vt,{onClick:()=>t==="stake"?ee(50):Z(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(Vt,{onClick:()=>t==="stake"?ee(75):Z(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(Vt,{onClick:()=>t==="stake"?ee(100):Z(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]})]}),d.jsx("div",{className:"mb-6 relative z-10",children:d.jsx(Vt,{onClick:t==="stake"?T:S,disabled:!oe||parseFloat(oe)<=0||t==="unstake"&&parseFloat(oe)>M||de||!p||!L||!k,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2",children:de?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(_W,{className:"w-5 h-5"})}),t==="stake"?"Staking...":"Unstaking..."]}):d.jsxs(d.Fragment,{children:[t==="stake"?d.jsx(vQ,{className:"w-5 h-5"}):d.jsx(ED,{className:"w-5 h-5"}),t==="stake"?"Stake Now":"Unstake Now"]})})}),oe&&parseFloat(oe)>0&&d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:t==="stake"?"Projections:":"Impact of Unstaking:"}),d.jsx("div",{className:"space-y-3",children:t==="stake"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["~",j.weekly," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"APY"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[j.apy,"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Pool Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[j.poolShare,"%"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points Loss"}),d.jsxs("span",{className:"text-red-400 font-semibold",children:["-",Y.weeklyLoss," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll Receive"}),d.jsxs("span",{className:"text-green-400 font-semibold",children:["$",i," USDC"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Remaining Staked"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",(M-parseFloat(i||"0")).toFixed(2)," USDL"]})]})]})})]}),d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Pool Statistics:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Staked"}),d.jsx("span",{className:"text-foreground font-semibold",children:"$28,450"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="stake"?"Your Share":"Your Current Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[(M/28450*100).toFixed(2),"%"]})]})]})]})]},t)}),d.jsx(Id,{})]}),d.jsx(qUt,{isOpen:g,onClose:P,data:w,onStakeAgain:D}),d.jsx(yke,{isOpen:b,onClose:O,data:E,onUnstakeAgain:I})]})},hM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACeCAYAAAASTnVOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAuzSURBVHgB7Z17jFxVHcd/89qZ2Z19TaejVrCrIhoxWgG7+MAUS1ojYMEAAZUEG0tpJWhMMTExPgMm1r+sEIg0PCxFseoqqKU2xEcqKi1SG1JIK7UtEbszu93dzs7szs6D7+/OubvDLEt3Z+ee+/p9kpsz9+7s3b3ne3+/8zu/c+65RIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgCGchRP4ljC1GtTqoqs3T+FXsQDqdXh2NRr8ej8f7E4nEYD6fH6TWCh5sOF+AbMaXYi9duvSTgUDgB8FgcA22FdguDofD/5qcnHyFWgMLXens7Hx3d3f3xra2tpMTExMjZLPgQfIfbdi+gO0DVKv8jmq1+mFY+YeodVRSqdRF8Bov4POdEPsIRH8n2dxU+E3sUDKZ/BzKjzQch97Vbmoh5XL5K1zCg7DAYZS3ks2EyUfArfbAXd+Ij+c0/gxilMkaDNeNm6lENuMny26Hq14DUc8nPVQa9m2P9n0j9pIlS3oRiG2Chb1NHfJ8V6sRv4gd4sgb5UU0ExHb3hXSjS/E7urquhjumwOmGPkYXwRosVjsUhTvJ5/jectGW92P4ioSvC822urLUHycBG+LjQTKBWirP6V2fRd9N+JlscPoZm1E+TG177vouxGvBmghDHa8Dy58NQRnkdmqfS+2Jy0bgw5dEPlWbOeqQ74XmvGkZWOUaTnaak6idJIwjZcs27DeRCKxFELfgo9vUcd9H5iZeElsQ9RIJLIS7vvzNJMtExeu8JQbT6VSyxCUXU8z7lsCszo8FaCVSqXLYdWfoRnXLULX4RmxEYH3woWvQnudIOtEDtDscy+2Dl/vfJb8/54ROxqNXgWhrySLQQCYQh/+QDqdPt7b28sDLDxJodl6NHIAyN+vw3YC59zd19fXRhbhCbFR+WzNV/NHspZqe3v70ygvxHYuPMlfIDinY5sR3BAa//v6UCg0gO2taILW5nK5x8miHoQXxA5XKpWbUX5U7VvZ1eKAdhnVxA3wLEUI/jsEhlfSwgQ35pTj926BN9qO0/D8tyBPTkSA+V6yCNeLjQpLwypuwse0OmRlUFbCjfVNiML1VgqwOtVqBQI9Djd8Dc1PcGNOOb6/Cb93H/8+TsPz91nwAM5/B1mEq8XGqFYXKooruY/0EMxmsz9E+V2qWXmZhWfBcMP9Ci6Zu32Vs5yjgu99Cd+/hy1a3Tj8OyHs347z7yQJ0GYTDoe5jV5P1rfVJob7Hhwc/BYs8DtUe6JmWnCUP4enuUF9t7FuDQEh9G343o+V0CF1Tv792zKZzDb1PWmzG4iggvgxHm7jdPanjUQNLPDb7NKpJnjFFByu+VEEbRw/vFz/Szh+AkJfi+9tqxOaz8UabIbQd5OFQjOuzaChQnm60ZexRUk/puDfg4As3J1UJzhH6dg/Of3lapXTuFvw8e31QvPwK7YNOM/9ZLHQjFstO4DK4wn/7yL7smSG4LDIu1B+DaIZba9qg3lbrr7DT5uwq36H+sxtc1WNs69XQjc+8WkJrhQb2TKelOCESYSGG0YbvhX/zx2m4HU/N29Es56N7po6fjNulAfUz84W1LUEV4qN8epPwEJWkDMwAiwVpXOzMqd4ptAoPguhHyKNQhO5T+wAPwoLoS9T+04ZqzYEh4A/4qiaXkfEOqFvxI3xKGkWmsh9YnO2jB997Vf7ThrVMvrKHFXjf9xEde1wneu+DkL/jGwQmshdYvMkwn70rVeThsi1STgLFoKg90LwDVSzZA7amGtwI+wim4QmcpHYGIDgdOjtNDPdyKlj1abg90PoL3J0Xi6Xr0YQN0CqT0424RaxAxD7fFQcP9nhhofzDMFhyduLxWLf0NDQb6hW11Y98D8vXCF2PB4/Bxmo9bCUXnXIDZMIDWFHRkaOq33bLNrELWKvRHEdLNsc2JfpRk3geLF7enqWq3VQ4uqQTA1uEjdY9qfhvtfV7YtVN4mjxU4kEmnkwC+F+/bVqk5W4WixIfS1KC4noSU41WICGOzgNcuugFX3kgbQVEySx3Gq2OFoNLoBQl9SyzRa/2QH/layq6sriS5eBUmQlteLGhGrhkKh0ujo6On6P02agk5HBjtIi56HyueM0wWkB67sfRBkf20OYdWqBXyrOP8UymO4ofYj2XIQn7V5FMeJ3dnZuQRWvRmVsgVbF+mhfsDCcjiFiu2FqampbwwPD3N2TctSl45bghpt9XvgSu9CZbyJ9N6MAV2ov5eCS++LxWIvFQoFnsJkeYbNadE4J07WqBUTtApNejE9yUrc2BuTyWScNOAUsY3KRrbsElz8Zh/0q6eDMlxvPyw8TRpwSqUa0XZbW9sVdQvJ+gJ+gghFgjTgGDcOq+aU6DryD2bTMVYqlYZJA06xbLbqtSjPIx8Bq57C9uzp06fHSANOsOxgKpVahYvuJ/9gzic/AavmOWl50oATxOYxap6+80HyD+arJA7gRt+Nj0XSgN1uPJROp3mq0Sq174cFb8xr/A/E3nH06FFtGTRbLRsJFI68t+Cizacw/TBWbVxjpVIZyGazT5BG7LTsIIKyCzmxABceIf/Alv3fYrH4FGmedWObZSMHzpH39RC6nfwFW/aueDz+Z9KMbZYNkfmpxrXk0fVT54AtOTM5OflHDHOOk2bsbLN7ITi/Jc8P7bTprjnqvgdC/1Pta71228SG0Hzhtk6a14jZ1XoJG6+ZMqqO+6PNxkXzsN5z5B/BT+GaH8hkMv8nm7BN7LGxsedx8T/FVlCHvDof3LyuY8qqc2QTdk5e4Lzwy9FolMsVcOu6n+EyFpoj62EXPoau1sPIgXO2zLbHgGwPjniSXywW4ywav+Z4mRrys6pC2MoKuLFWkVrjxGLMB/D3YNz6plOnTg2Sjdgp9qxZlR0dHW+ORCJRVIxl7fjw8HAmmUw+GA6HbyAN8KuUkS376tDQ0DayGTv7uLPa6PHxcS3BCwQYJX38An9vgByAq1c4bBYLpwo3/h2eNrwH3uQkOQBfik16mi9uivaUy+VnyCH4VWwd8NDlQ7Dq58khiNgWAPfN2cG9iEH2qUOOSAmL2BaArt1JCL41n8+bAacjEkYidovhrhYKfrUEp4JtX0elHnnIvXUYCRRwGEHZg+hXT5DDELFbh9kuH4DQfyIHDvCIG28N5tRgtupHyKEjeSJ2azCsGkLvglXvJYcibrw18EP2hycmJhwrNCOW3RqqGOzYkcvl/kEORsReJLzqMIrjsOq/ksYlM5pBxG4eMyhjge89c+bMc+RwpM1uHnMS4eGpqanHyMbpRvNFLHtx/A9i3zcyMvIKuQARexFA6EPFYpHfDqDlKczFImI3Txbu+8mxsTGe9eKKmbEi9sIxVzp6OpFI8OuaXDPvXQK0hcOB2WSpVHoik8loWQulVYhlNwG6W4/Ahf+aXIaIvXDG2aqRLcuQyxCxFwYnUAZg1YfIhUibvQAQlPGEhJ2IwI+SCxHLnj9s1b8vFAr7yaWI2PMEVn0MxVY3ttUmIvY8UJMI96KrxXPAXftosYj9xpgjW89gvPph0rQIvFVIgPbGTK9EODQ0xG21qxcMEMueG1PYg+hq7SIPrAwhYs+NadWPYQhT+5plViBizw2/H+ZZbE+qfdcv4SViz80kArPt2Wz232pf3LgXgTXzsOWL4+Pjf0M5RR5BxH4tZlcrD8F/ArGPkIcQsV+LGZQdgtA8hKl9fVErEbFncwJi353P581lrDyztqqI3QCE/nskEuHVjczpRp5ZeVEyaHXweqpIoOxGDpyX2PTc8ppi2TVMYfcFg8FfkkfXUfWlZUNQcx008+UsvOVg1X9AtkzLO7bswK+L3plLYNQHXzuw/ZY8jC/FRj/6KQj+ItUsm2eg8GuXdsKqR8jDOO792TooFApH2tvbBzFG3QORD0L87yMo4zXLXD1efTb88H6OuYh3dHR0Q+hyLpfjdtrRz1YLgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIQmt5FZ5CPjP3BSlzAAAAAElFTkSuQmCC",fM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACeCAYAAAASTnVOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwxSURBVHgB7Z17jB1VHcd/Z+579+5273b3tkUERCQKRHloF1EIUCwERHxBMEiCROXxhxpCTFT+1j+IIfGJMUbA0mipsWqjUBtETalAW1ub0lYKjdRYu3d3u3t7d+/unTtz/J65Z9rb9z7mzvP3SWZndvY+duZ7fr/zO7/zGCKGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYRiGYZizkKLkksaWp9Y9kHqLNUkVW5TL5RW5XO4bhUJhqFgsDk9NTQ2Tt4Ib+vMy2Gz1ncT4z+Dg4C3lJeXt2GxstSVLlry8aNGiq8g7DP09l6NQTWN7tz4fqOAGJY8s/NkXpKQPUOvmd9tSfhhW/iHyBnVPbQj8fiHEP6SUOWy7UaDeRS1LD0zwpImd6u/vvwdO9RrRdstxLKUhF9HCOSo09jsgsg3BlQtP4/hf2sIDEzxRYve8o6cvnUl/Dvf63BP/Jmxh0cJwhFaum44JrUQ1hFOapIqP9uLv76GW4L7f+ySJ3ZVr5lYKEhd3wKxcoa/QrtsV2v0qoQVXwu8ZGBi4mFpBm6/3PzFiL168uGRI4yFJ8jwtgVeRt/o0e+nSpcsh5LZTCH30dVpwYRjGHvw/7yOfBU+K2CkjY6zE/ioEZketjRaO+gyJ4Otq27ZfOYPQR1+vBadUKvU64odLyMdmWSLE7u3t/SDq5K/hluaFd7fVERqu+1qIt7lNaLfunyLtPaRSl2hSn7e14DKdTu8qlUqXkU91eCLEzufz1+JuqgjZq+t1hEbdez2E+6sSrk3oNKz8UdM0f6Bf55hzo9H4Js4/Qa1EluUKnslkdvb19almYMddeuzFRt04hN3tHvpJR2h87grUvX/WQqvzjtDYnhwZGfkuzi1pfxNetgTnH8F+rX6dElyo92ez2e0quKMOCx57sSHIDZDnOo9qRUdotJc/hjp3Y7vQyivDcn88PDz8kDqhIu8T/xX1o1Kp3Im/PUfHC65c+zZ4iiupg4LHWmwEQJfiJt4qW3G3F9G3sugbsd+gBVLnbCU09t+D5T5Mx4KtE7/P/V1A8Lvwnl/ptncTn2Ooz0PB3IqC5Lp0z4mz2Cpr9QBu/Ud1UOZJ9A2LXqMt2mlbK8GwPQEBv6q/42yFysmg4fV3432rdUGxtOCqfl9LHSKuYqdQB16GunCFbmp51qbW1qiQWujHVV1MNKfvcQTH++7B+1fpz3Tea1nWDHWIWIqNHqxe3MAHkUB5p4dWrUC1bN+MfQ2frwKyb0GwrxPNq0C5gt+rPIP2FiO1Wu1W6lC7O00xBBZ9Pm6cSqL0kLcYo6Ojr2JfWrZsWe7gwYOqLb0Qz+EKrjzDY9jq1EHiZNmONRSLxUEI/WX8tszDwMzFDZwsLbQXn+++303CdGzUTJzEdm4QkhTL4b4/j8O8xy488sTKjXcNDJyTSRt3Sfuo+w50sEDYiFWAlm02b0Kc82mVidSnWOg2YiM2IvBSJpe5nqQoEot8SmLjxnO53O3YfTz244EXQCwsGwmUImz5k4i+BwXb9GmJg9iqA+I+7D8ivB2BEjsi78bRU1Q2UgayUFTmptaZibRlo1erFwmUT+HwAlb47ERa7HQ6PQg7vh+Hg2zPZyfKYmekIW+BZV9CkqWeDZEVu1QqDUFk1YecY6lnR1TFFsiBr0QCRc2uYKlnSSTFRrZshRTydm5Tz41Iip3NZ28UUlxOzJyImtgC7eqrBIkbdOYkzAmU0PmdqImtsmUPYj8UgQTKcQkrtBpyFDBRElsNIhxKZ9JeDyLsCBB3ndrrqT+K31PAREbsrq6uMnZfwbYsAlZtjI2NrbEs6z6Ivgn7z4yPj79EAd/vqOTGBcS+WBjiOthzPgKNLWdWx+jo6NPYP63PGdShwf+zJRKWXSgUzjXSxv2SZEmfikLPln2W330nEmJnC4Xl0qY7EYVniXu25k3oxe7r6zs/l1broFBBn+L+6nkSBcv+BNz3HW3ZMrbqeRJqsYvFYjmTzVwLfWM5c8VvQi02Ojs+i//wJmI8IawWI9DZ0ZdKp29DDrzkh+NGx0rHZk+GhbCKnc7lcl9CQuJq25mz3PmZHShU/b29vf1Vw7B7LMvz+6JXYpCpVKo5MTFxuP2ryaegM5TBDtKiFyGBsg46X+pTN6ZKam6C4luEmoJNslOrNcOBCBP7/ciqbUHSZQeOffMooRO7p6dnca6QexhW/ShufC/5Q/sSVj4gDEOIPaZpPoa06m9xokk+ELr1xlFXv9cQxrf1akN+FkbhG+SUroF0KnVBPp9/q16vHyAfMmxhi8ZV4mSlWjHB50GE/no4PfEQ17ncSBkP9Pf3F8gHwiK2c7ORLbvaMAzlwtMxT50IvaolwYsNIWgrkw+ERWwn2s5ms7ch+j6PEpQlU4scYlckHwiNG4dV3wGJ70jQIEKn8kYprzabzTHygdC4cVj1zXBrF1GCgFWb0ra3HT58uEo+EAaxDbXgK4KVIUoOToAG0367KZu/pNbiOR0nDGJnceVfxIVfkSQXroIzFPCtA6WB5/F7g3wg6HRpqlwuX4f99eri/UiLhgC9aiW9aVty1b59+3zLoAVq2UignAd1H0UJH0zQ3GonMLOlvW5kZGQ9+UiQYhsIyq5EQV+OtGiGkoJ0vNf+xnTjRfJ51E1gYiMHfhG+/S4U8y5KELKVP1tbLRT+Qj4TWJ0NkS/ERd+MS497tqwdCRdemZme+RNNTEySzwTpxksQXD0lLwlSu/1pDRTwH6E/+1V93tdrD9KyVXNDLeOchCf9toIyW76Fi16N3yf0+WTU2SjqB1Cut9OxRyPFFm3Vh3Dw82ql8j8KiMDErlaruyD4L7DVyfulosOEe3X71WMicFSjgAjShSIvLP+Ty+VMtEYuh6fL+5xBUx7Fj8KuLqvaaDSeQQ5cZcsCmwYUeHCkBvnl83mVRbsG/805EN59knwnUFZWR7teZewu9KFwydb0YrkB/db3Hjp0aJgCJEixTxpV2d3dvTSTyeQMw+hYPT42Nlbp7+9/Kp1J300+ALWbtmU/Mjo6+n0KmCBz4yfV0ZOTk74EL5aUE35cuGxl+p+D4OsoBCTlKbvHIaT0KVaRJsTeAG9ygEJAIsUmf6ovC3d3g9WwXqOQkFSxO0urglJdl0/DqndRSGCxO4AUUmUHN05WJzfpU6FICbPYHuMMwiBxADmEx6emptyAMxQJIxbbc2QT0m7GgUoFB76OSjs8yd07nIYW2G01rafQrp6mkMFie4douXDaCqFfohB28LAb9wY9lQdWbVnPUkh78lhsb3D6qyH0Wlj1RgopLLYXoPcGEfjr09PToRVawXW2B0inxWWvqtVqr1CIYcteIKisbbjwf09PTf+NfFwyYz6w2PNHtmaxiBmY9pNHjhzZTiGH3fj8aU25teVu0zTXUIDDjWYLW/Y8cfqqJf0X5v2T8fHxgxQBWOwFgCB8Z6PRWEs+zcJcKCz2PIELHzEb5gvValWNAY/EyFgWe+5IPbd6c7FYVE8JiMy4dw7Q5o4KzGbMRnN95VDFl7VQvIIte47o/upnEYH/hiIGiz1HYNWTTdlcj2xZhSIGiz03VAJlnTlt7qQIwnX2bGkFZdP4sRoR+D6KIGzZs0U4Vv2Her2+hSIKiz0LdFNrPw4fj2Jd7cJizwrZJJs2VioVNQY8slOLWewz46xthIb1a7ZtP0M+LQLfKThAOzNCz6RXgwhVXR3pBQPYsk+PXl+Udpgz5lqKwcoQLPbpcdcXXYMuTN/XLOsELPapcFdBMeQ2ackX9NnIL+HFYp+KlqwzwhY/GxkZ+ac+y248jqAPU3Vb7p2cnHwZe5NiAot9PO4gwilpy59C7DcoRrDYx+MOItwJoVUXpu/ri3YSFrsNvRLh2zDvH05NTbnLWMVmbVUWuw1t1X/PZDJqdSN3uFFsVl7kDJqLdJbHOGCa5vPIgdcpRiK7sGW3cJ+4uskwjF9TDIVWJNOyDcNdB819AI0KzGqNGfOPyJb58oytIEjqonfuEhhO8KVXIlyFn7+jGJNMsYV4EfXzXmpZ9gwUf9O05GpY9TjFmCSs4n8S9Xr9ja5817At7T50dOywSHzncKWi1iyLdH/12UjOo1hOptDd3b0IVm7VajVVT4d6bjXDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDeMv/AX6FlrG4kvxPAAAAAElFTkSuQmCC",KUt=({isOpen:t,onClose:e,data:n,onBuyAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=ma(),c=cr();x.useEffect(()=>{if(t&&n){const g=setTimeout(()=>a(1),300),y=setTimeout(()=>a(2),800),w=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(w)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=()=>{n!=null&&n.tx_hash&&window.open(`https://basescan.org/tx/${n.tx_hash}`,"_blank")},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=g=>`${g.slice(0,6)}...${g.slice(-6)}`,m=()=>{e(),c("/dashboard")};return n?d.jsx(mw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,y)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},y))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:g=>g.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(oA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:qr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(iA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Purchase Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"You've successfully bought Lighter Points"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"Points Received"})}),d.jsx("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:parseFloat(n.points_received).toFixed(2)}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"Lighter Points"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"USDL Spent"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.usdl_spent).toFixed(2)]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Exchange Rate"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.exchange_rate).toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New Points Balance"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.new_points_balance).toFixed(2)})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Price Impact"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:n.price_impact})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:p(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(fw,{size:14,className:"text-gray-400 hover:text-black"})}),d.jsx("button",{onClick:h,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(c3,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(kW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:f(n.timestamp)})]})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:m,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(hp,{size:18})]})})]})]})}):null},YUt=({isOpen:t,onClose:e,data:n,onSellAgain:r})=>{const[i,s]=x.useState(!1),[o,a]=x.useState(0),{toast:l}=ma(),c=cr();x.useEffect(()=>{if(t&&n){const g=setTimeout(()=>a(1),300),y=setTimeout(()=>a(2),800),w=setTimeout(()=>{s(!0),navigator.vibrate&&navigator.vibrate([100,50,100])},1200);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(w)}}},[t,n]);const u=()=>{n!=null&&n.tx_hash&&(navigator.clipboard.writeText(n.tx_hash),l({title:"Copied!",description:"Transaction hash copied to clipboard",duration:2e3}))},h=()=>{n!=null&&n.tx_hash&&window.open(`https://basescan.org/tx/${n.tx_hash}`,"_blank")},f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=g=>`${g.slice(0,6)}...${g.slice(-6)}`,m=()=>{e(),c("/dashboard")};return n?d.jsx(mw,{children:t&&d.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:[i&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((g,y)=>d.jsx(me.div,{initial:{opacity:1,scale:0,x:Math.random()*window.innerWidth,y:window.innerHeight+50},animate:{opacity:0,scale:1,y:-100,rotate:360},transition:{duration:3,delay:Math.random()*.5,ease:"easeOut"},className:"absolute w-3 h-3 bg-gradient-to-r from-[#D4B679] to-[#A07715] rounded-full"},y))}),d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-background rounded-3xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl hide-scrollbar",onClick:g=>g.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800/80 hover:bg-gray-700 rounded-full flex items-center justify-center transition-colors",children:d.jsx(oA,{size:16,className:"text-gray-300"})}),d.jsxs("div",{className:"text-center pt-8 pb-6 px-6",children:[d.jsx(me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:15},className:"mx-auto mb-4 w-auto h-auto rounded-full flex items-start justify-end",children:d.jsx("img",{src:qr,alt:"LighterFarm",className:"w-auto h-10"})}),d.jsx(me.div,{initial:{scale:0},animate:{scale:o>=1?1:0},transition:{type:"spring",damping:15,delay:.3},className:"mx-auto mb-4 w-20 h-20 bg-[#A07715]/5 rounded-full flex items-center justify-center border-4 border-[#A07715]",children:d.jsx(me.div,{initial:{scale:0,rotate:-90},animate:{scale:o>=2?1:0,rotate:o>=2?0:-90},transition:{delay:.8,type:"spring",damping:12},children:d.jsx(iA,{size:40,className:"text-[#A07715]",strokeWidth:3})})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:o>=2?1:0,y:o>=2?0:20},transition:{delay:1},children:[d.jsx("h1",{className:"text-2xl font-bold text-[#A07715] mb-2",children:"Sale Successful!"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"You've successfully sold your Lighter Points"})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.2},className:"px-6 mb-6",children:[d.jsx("div",{className:"bg-card rounded-xl p-4 mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:d.jsx("span",{className:"text-sm text-gray-400",children:"USDL Received"})}),d.jsxs("p",{className:"text-4xl font-bold text-[#A07715] mb-1",children:["$",parseFloat(n.usdl_received).toFixed(2)]}),d.jsx("p",{className:"text-sm text-[#D4B679]",children:"USDL"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Points Sold"})}),d.jsx("p",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.points_sold).toFixed(2)})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsx("div",{className:"flex items-center gap-2 mb-0",children:d.jsx("span",{className:"text-xs text-gray-400",children:"Exchange Rate"})}),d.jsxs("p",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.exchange_rate).toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-card rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New Points Balance"}),d.jsx("span",{className:"text-lg font-bold text-[#D4B679]",children:parseFloat(n.new_points_balance).toFixed(2)})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"New USDL Balance"}),d.jsxs("span",{className:"text-lg font-bold text-[#D4B679]",children:["$",parseFloat(n.new_usdl_balance).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"Price Impact"}),d.jsx("span",{className:"text-sm font-bold text-[#D4B679]",children:n.price_impact})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.4},className:"px-6 mb-6",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Transaction Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sA,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"TX Hash"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-mono text-[#D4B679]",children:p(n.tx_hash)}),d.jsx("button",{onClick:u,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(fw,{size:14,className:"text-gray-400 hover:text-black"})}),d.jsx("button",{onClick:h,className:"p-1 hover:bg-[#d4b679] rounded transition-colors",children:d.jsx(c3,{size:14,className:"text-gray-400 hover:text-black"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-card rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(kW,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Completed At"})]}),d.jsx("span",{className:"text-sm text-[#D4B679]",children:f(n.timestamp)})]})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:o>=2?1:0,y:o>=2?0:30},transition:{delay:1.6},className:"px-6 pb-8 space-y-3",children:d.jsxs(Vt,{onClick:m,variant:"outline",className:"w-full h-12 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white font-semibold rounded-xl flex items-center justify-center gap-2",children:["Go to Dashboard",d.jsx(hp,{size:18})]})})]})]})}):null},QUt=()=>{const[t,e]=x.useState("buy"),[n,r]=x.useState(""),[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null),{toast:m}=ma(),g=cr(),{user:y,authenticated:w,getAccessToken:v}=Bo();bAe();const[b,A]=x.useState(0),[E,$]=x.useState(0),[N,R]=x.useState(""),[M,F]=x.useState(""),[W,H]=x.useState(""),L=localStorage.getItem(y==null?void 0:y.id),k=L?JSON.parse(L):null,C=k==null?void 0:k.buyPrice,_=k==null?void 0:k.sellPrice,T=k==null?void 0:k.wallet_address,S=0;x.useEffect(()=>{(async()=>{if(L){const ce=JSON.parse(L);R(ce.id),A(ce.usdl_balance||0),$(ce.points_balance||0)}})()},[T,y==null?void 0:y.id]);const P=de=>{e(de),r("")},D=()=>{const de=parseFloat(n)||0;if(t==="buy"){const ce=de/C,he=de*(S/100);return{receive:ce.toFixed(2),fee:he.toFixed(2),total:(de+he).toFixed(2),receiveLabel:"points",totalLabel:"USDL"}}else{const ce=de*_,he=ce*(S/100);return{receive:(ce-he).toFixed(2),fee:he.toFixed(2),total:de.toFixed(2),receiveLabel:"USDL",totalLabel:"points"}}};x.useEffect(()=>{if(t==="buy"){const ce=(parseFloat(n)||0)/C;F(ce>0?ce.toFixed(2):"")}else if(t==="sell"){const ce=(parseFloat(n)||0)*_,he=ce*(S/100);H(ce>0?(ce-he).toFixed(2):"")}else F("")},[n,t,C,_]);const O=D(),I=de=>{r(((t==="buy"?b:E)*de/100).toFixed(2))},B=async()=>{var de,ce,he,be,fe,ke,we,Fe;if(!w||!(y!=null&&y.id)){m({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!T){m({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!N){m({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}s(!0);try{const Me={wallet_address:T,usdl_amount:n,expected_points:M},Se={"X-Privy-User-Id":N,"X-Wallet-Address":T,"Content-Type":"application/json",Accept:"application/json"},ve=await Yt.post("/api/points/buy",Me,{headers:Se});if(ve.status===200&&((de=ve.data)!=null&&de.success)){if(h(ve.data.data),a(!0),r(""),window.Audio)try{const Oe=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Oe.volume=.6,Oe.play().catch(()=>{})}catch{}}else m({title:"Buy failed",description:((he=(ce=ve.data)==null?void 0:ce.error)==null?void 0:he.message)||((be=ve.data)==null?void 0:be.error)||"Unexpected response from server",variant:"destructive"})}catch(Me){console.error(" Buy error details:",Me);let Se="Network or server error",ve="Buy Error";if(Yt.isAxiosError(Me)&&Me.response){const Oe=Me.response.status,Le=Me.response.data;Oe===400?(ve="Invalid Request",Se=((ke=(fe=Le==null?void 0:Le.detail)==null?void 0:fe.error)==null?void 0:ke.message)||((we=Le==null?void 0:Le.error)==null?void 0:we.message)||(Le==null?void 0:Le.error)||(Le==null?void 0:Le.message)||"Please check your input and try again"):Oe===401?(ve="Authentication Failed",Se=((Fe=Le==null?void 0:Le.error)==null?void 0:Fe.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Oe>=500&&(ve="Server Error",Se="Server is temporarily unavailable. Please try again later")}m({title:ve,description:Se,variant:"destructive"})}finally{s(!1)}},Q=async()=>{var de,ce,he,be,fe,ke,we,Fe;if(!w||!(y!=null&&y.id)){m({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!T){m({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!N){m({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}s(!0);try{const Me={wallet_address:T,points_amount:n,expected_usdl:W},Se={"X-Privy-User-Id":N,"X-Wallet-Address":T,"Content-Type":"application/json",Accept:"application/json"},ve=await Yt.post("/api/points/sell",Me,{headers:Se});if(ve.status===200&&((de=ve.data)!=null&&de.success)){if(p(ve.data.data),c(!0),r(""),window.Audio)try{const Oe=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Oe.volume=.6,Oe.play().catch(()=>{})}catch{}}else m({title:"Sell failed",description:((he=(ce=ve.data)==null?void 0:ce.error)==null?void 0:he.message)||((be=ve.data)==null?void 0:be.error)||"Unexpected response from server",variant:"destructive"})}catch(Me){console.error(" Sell error details:",Me);let Se="Network or server error",ve="Sell Error";if(Yt.isAxiosError(Me)&&Me.response){const Oe=Me.response.status,Le=Me.response.data;Oe===400?(ve="Invalid Request",Se=((ke=(fe=Le==null?void 0:Le.detail)==null?void 0:fe.error)==null?void 0:ke.message)||((we=Le==null?void 0:Le.error)==null?void 0:we.message)||(Le==null?void 0:Le.error)||(Le==null?void 0:Le.message)||"Please check your input and try again"):Oe===401?(ve="Authentication Failed",Se=((Fe=Le==null?void 0:Le.error)==null?void 0:Fe.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Oe>=500&&(ve="Server Error",Se="Server is temporarily unavailable. Please try again later")}m({title:ve,description:Se,variant:"destructive"})}finally{s(!1)}},j=async()=>{if(!n||parseFloat(n)<=0){m({title:"Invalid Amount",description:"Please enter a valid amount",variant:"destructive"});return}t==="buy"?await B():t==="sell"&&await Q()},Y=()=>{a(!1),h(null)},ee=()=>{c(!1),p(null)},Z=()=>{a(!1),h(null),e("buy"),setTimeout(()=>{const de=document.querySelector('input[type="number"]');de&&de.focus()},100)},oe=()=>{c(!1),p(null),e("sell"),setTimeout(()=>{const de=document.querySelector('input[type="number"]');de&&de.focus()},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>g(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Buy/Sell"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"with USDL"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-2 mb-4 relative z-10 grid grid-cols-2 gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("button",{onClick:()=>P("buy"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="buy"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:hM,alt:"",className:`h-5 w-auto ${t==="buy"?"invert":"invert opacity-60"}`}),"Buy Points"]})}),d.jsx("button",{onClick:()=>P("sell"),className:`relative py-3 px-4 rounded-xl font-bold text-sm transition-all ${t==="sell"?"bg-gradient-to-r from-[#7D5A02] to-[#A07715] text-white":"bg-transparent text-golden-light/60 hover:text-golden-light"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("img",{src:fM,alt:"",className:`h-5 w-auto ${t==="sell"?"invert":"invert opacity-60"}`}),"Sell Points"]})})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Available"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[b.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Points"}),d.jsx("span",{className:"text-golden-light font-bold",children:E.toFixed(2)})]})]}),d.jsx(mw,{mode:"wait",children:d.jsxs(me.div,{initial:{opacity:0,x:t==="buy"?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="buy"?20:-20},transition:{duration:.3},children:[d.jsxs("div",{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light rounded-md flex items-center justify-center",children:t==="buy"?d.jsx("img",{src:hM,alt:"",className:"h-12 w-auto"}):d.jsx("img",{src:fM,alt:"",className:"h-12 w-auto"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-semibold text-golden-light text-lg",children:[t==="buy"?"BUY":"SELL"," Points"]}),d.jsxs("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:["$",t==="buy"?C:_,"/point"]})]})]}),d.jsx("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:t==="buy"?"Buy Amount:":"Sell Amount:"}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(aC,{type:"number",value:n,onChange:de=>r(de.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:()=>r((parseFloat(n||"0")+1).toFixed(2)),className:"text-golden-light hover:text-golden-light/70",children:d.jsx(PIe,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(Math.max(0,parseFloat(n||"0")-1).toFixed(2)),className:"text-golden-light hover:text-golden-light/70",children:d.jsx(NIe,{className:"w-4 h-4"})})]}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:t==="buy"?"USDL":"Points"})]})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[d.jsx(Vt,{onClick:()=>I(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(Vt,{onClick:()=>I(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(Vt,{onClick:()=>I(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(Vt,{onClick:()=>I(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]}),d.jsxs("div",{className:"text-sm text-golden-light font-extralight opacity-60 mb-6",children:["Available: ",t==="buy"?`${b.toFixed(2)} USDL`:`${E.toFixed(2)} Points`]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll receive"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["~",O.receive," ",O.receiveLabel]})]}),d.jsxs("div",{className:"flex justify-between items-center pb-3",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Trading fee"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",O.fee," USDL"]})]}),d.jsx("div",{className:"border-t border-golden-light/20 pt-3",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="buy"?"Total cost":"You'll receive"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",t==="buy"?O.total:O.receive," USDL"]})]})})]})]}),d.jsx(Vt,{onClick:j,disabled:!n||parseFloat(n)<=0||i||!w||!T||!N,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl mb-6 disabled:opacity-50 flex items-center justify-center gap-2",children:i?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(_W,{className:"w-5 h-5"})}),"Processing..."]}):d.jsxs(d.Fragment,{children:[t==="buy"?d.jsx("img",{src:hM,alt:"",className:"h-5 invert w-auto"}):d.jsx("img",{src:fM,alt:"",className:"h-5 invert w-auto"}),t==="buy"?"BUY":"SELL"," Now"]})}),n&&parseFloat(n)>0&&d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Transaction Preview:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Price per point"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",t==="buy"?C:_]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:t==="buy"?"Points to receive":"USDL to receive"}),d.jsxs("span",{className:"font-semibold text-green-400",children:["~",O.receive," ",O.receiveLabel]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total amount"}),d.jsx("span",{className:"text-foreground font-semibold",children:t==="buy"?`${n} USDL`:`${n} Points`})]})]})]})]},t)}),d.jsx(Id,{})]}),d.jsx(KUt,{isOpen:o,onClose:Y,data:u,onBuyAgain:Z}),d.jsx(YUt,{isOpen:l,onClose:ee,data:f,onSellAgain:oe})]})},ZUt="/assets/referbox-CeCLsqk0.png",JUt="/assets/and-CJPallgC.png",XUt=()=>{const[t,e]=x.useState(""),{toast:n}=ma(),r=cr(),{user:i}=Bo(),[s,o]=x.useState(0),[a,l]=x.useState(0),[c,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(!(i!=null&&i.id))return;const m=localStorage.getItem(i.id),g=m?JSON.parse(m):null;g!=null&&g.referral_code&&e(g.referral_code),u(!0);try{const y=await Yt.post("/api/check_user_exist",{privy_id:i.id});y.data&&y.data.exists==="yes"&&(u(!1),o(y.data.user.referral_count||0),l(y.data.user.referral_rewards_earned||0))}catch(y){console.error(" Error fetching referral count:",y)}})()},[i==null?void 0:i.id]);const h=async()=>{try{await navigator.clipboard.writeText(t),n({title:" Code Copied!",description:"Referral code copied to clipboard"})}catch{n({title:"Copy Failed",description:"Unable to copy code",variant:"destructive"})}},f=async()=>{const p=`Join Lighter Farm with my referral code: ${t}`;if(navigator.share)try{await navigator.share({title:"Join Lighter Farm",text:p})}catch{h()}else h()};return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Refer Stats"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"earn together"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Points Earned"}),d.jsx("span",{className:"text-golden-light font-bold",children:c?d.jsx(Gm,{className:"h-4 w-4 animate-spin"}):`${a}`})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Referrals used "}),d.jsx("span",{className:"text-golden-light font-bold",children:c?d.jsx(Gm,{className:"h-4 w-4 animate-spin"}):`${s}/3`})]})]}),d.jsxs(me.div,{className:"mb-8 flex flex-col items-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},children:[d.jsx("div",{className:"relative w-full max-w-sm mb-6 items-center flex justify-center",children:d.jsx("img",{src:ZUt,alt:"",className:"h-120 w-auto"})}),d.jsxs("p",{className:"text-lg text-golden-light text-center mb-8 font-extralight",children:["You get ",d.jsx("span",{className:"font-bold text-golden-light",children:"10%"})," of their earned points"]}),d.jsxs("div",{className:"flex items-center gap-4 w-full max-w-sm mb-8",children:[d.jsx("div",{className:"flex-1 h-px bg-golden-light/20"}),d.jsx("div",{className:"flex items-center gap",children:d.jsx("img",{src:JUt,alt:"",className:"h-18 w-auto"})}),d.jsx("div",{className:"flex-1 h-px bg-golden-light/20"})]}),d.jsxs("p",{className:"text-lg font-extralight text-foreground text-center mb-8",children:["Your friend gets ",d.jsx("span",{className:"font-bold text-golden-light",children:"1 bonus point"})," on signup"]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-4",children:d.jsxs(Vt,{onClick:f,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-background text-lg font-bold rounded-md text-white disabled:opacity-50",children:[d.jsx("img",{src:gke,alt:"",className:"h-6 w-auto"}),"Share Invite"]})}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Your Referral Code:"}),d.jsxs("div",{className:"border-2 border-dashed border-golden-light/30 rounded-xl p-4 flex items-center justify-center gap-3 cursor-pointer hover:border-golden-light/50 transition-colors",onClick:h,children:[d.jsx(fw,{className:"w-5 h-5 text-golden-light"}),d.jsx("span",{className:"text-xl font-mono font-bold text-golden-light tracking-wider",children:t})]}),d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 text-center mt-3",children:"Tap to copy code"})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"How it works:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"1"})}),d.jsx("p",{className:"text-foreground text-sm",children:"Share your referral code with friends"})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"2"})}),d.jsxs("p",{className:"text-foreground text-sm",children:["They sign up and get ",d.jsx("span",{className:"font-semibold text-golden-light",children:"1 bonus point"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-golden-light/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx("span",{className:"text-golden-light text-sm font-bold",children:"3"})}),d.jsxs("p",{className:"text-foreground text-sm",children:["You earn ",d.jsx("span",{className:"font-semibold text-golden-light",children:"10% of their points"})," forever"]})]})]})]}),d.jsx(Id,{})]})},w_=x.memo(({icon:t,label:e,description:n,href:r,index:i,onClick:s,disabled:o})=>{const a=cr(),l=x.useCallback(()=>{s?s():r&&a(r)},[s,r,a]);return d.jsxs(me.button,{onClick:l,disabled:o,className:`w-full bg-card backdrop-blur-sm border border-border rounded-2xl p-4 flex items-center gap-4 text-left hover:bg-card/80 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1,duration:.3},whileHover:o?{}:{scale:1.02},whileTap:o?{}:{scale:.98},layoutId:`menu-card-${e.toLowerCase().replace(" ","-")}`,children:[d.jsx("div",{className:"w-12 h-12 bg-golden-light/20 rounded-xl flex items-center justify-center flex-shrink-0",children:typeof t=="string"?d.jsx("img",{src:t,alt:"",className:"w-6 h-6"}):d.jsx(t,{className:"w-6 h-6 text-golden-light"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-golden-light mb-0.5",children:e}),d.jsx("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:n})]}),d.jsx("div",{className:"w-8 h-8 bg-golden-light rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(hp,{className:"w-4 h-4 text-background"})})]})});w_.displayName="MenuCard";const ezt=()=>{var $;const{toast:t}=ma(),e=cr(),{address:n,logout:r,refetchBalance:i}=SN(),{ready:s,authenticated:o,user:a,exportWallet:l}=Bo(),c=localStorage.getItem(a.id),u=JSON.parse(c),h=x.useMemo(()=>s&&o,[s,o]),f=x.useMemo(()=>a!=null&&a.linkedAccounts?!!a.linkedAccounts.find(N=>N.type==="wallet"&&N.walletClientType==="privy"&&N.chainType==="ethereum"):!1,[a==null?void 0:a.linkedAccounts]),p=x.useMemo(()=>u.wallet_address?`${u.wallet_address.slice(0,6)}...${u.wallet_address.slice(-4)}`:"",[n]),m=x.useMemo(()=>[{icon:rK,label:"Deposit",description:"Deposit and earn",href:"/deposit"},{icon:vAe,label:"Withdraw",description:"Withdraw money into any crypto account",href:"",disabled:!0}],[]),g=x.useMemo(()=>[{icon:mhe,label:"Help and Support",description:"Get help and tutorials",href:"/help"},{icon:LI,label:"Community",description:"Join our telegram and X (formerly twitter)",href:"/community"}],[]),y=x.useCallback(()=>{n&&(navigator.clipboard.writeText(n),t({title:" Copied!",description:"Wallet address copied to clipboard"}))},[n,t]),w=x.useCallback(async()=>{try{localStorage.clear(),sessionStorage.clear(),await r(),t({title:" Logged out",description:"You have been logged out successfully",variant:"default"}),e("/wallet-connect")}catch(N){console.error("Logout error:",N),t({title:"Error",description:"Failed to logout. Please try again.",variant:"destructive"})}},[r,t,e]),v=x.useCallback(()=>{e(-1)},[e]),b=x.useCallback(()=>{h&&f&&l()},[h,f,l]),A={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,staggerChildren:.1}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs(me.div,{initial:"hidden",animate:"visible",variants:A,children:[d.jsxs(me.header,{className:"flex items-center justify-between py-6",variants:E,children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:v,className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Profile"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"manage account"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"p-6 mb-6 text-center",variants:E,layoutId:"user-greeting",children:[d.jsx("div",{className:"w-20 h-20 bg-[#a07715] rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(VIe,{className:"w-10 h-10 text-black"})}),d.jsxs("div",{className:"flex items-center justify-center gap-2 ml-2",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#a07715] mb-1",children:p}),d.jsx(Vt,{variant:"ghost",size:"icon",onClick:y,className:"h-8 w-8 text-[#a07715] hover:bg-[#a07715] hover:text-black",children:d.jsx(fw,{className:"w-4 h-4"})})]}),(($=a==null?void 0:a.email)==null?void 0:$.address)&&d.jsx("p",{className:"text-md text-[#a07715] font-extralight",children:a.email.address})]}),d.jsxs(me.div,{className:"mb-6",variants:E,layoutId:"payment-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Payment"}),d.jsx("div",{className:"space-y-3",children:m.map((N,R)=>d.jsx(w_,{...N,index:R},`payment-${R}`))})]}),d.jsxs(me.div,{className:"mb-6",variants:E,layoutId:"account-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Account"}),d.jsx("div",{className:"space-y-3",children:d.jsx(w_,{icon:yhe,label:"Private Key",description:"Export private keys",index:m.length,onClick:b,disabled:!h||!f},"private-key")})]}),d.jsxs(me.div,{className:"mb-6",variants:E,layoutId:"support-section",children:[d.jsx("h3",{className:"text-lg font-semibold text-golden-light mb-4 px-1",children:"Support"}),d.jsx("div",{className:"space-y-3",children:g.map((N,R)=>d.jsx(w_,{...N,index:R+m.length+1},`support-${R}`))})]}),d.jsx(me.div,{variants:E,className:"mb-6",layoutId:"logout-section",children:d.jsxs("button",{onClick:w,className:"w-full bg-card backdrop-blur-sm border border-border rounded-2xl p-4 flex items-center gap-4 text-left hover:bg-card/80 transition-colors group",children:[d.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:d.jsx(UIe,{className:"w-6 h-6 text-red-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-red-500 mb-0.5",children:"Log Out"}),d.jsx("div",{className:"text-sm text-golden-light font-extralight opacity-60",children:"Sign out of your account"})]}),d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 group-hover:bg-red-600 transition-colors",children:d.jsx(hp,{className:"w-4 h-4 text-white"})})]})}),d.jsxs(me.div,{variants:E,className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6",layoutId:"app-info",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsx("img",{src:qr,alt:"",className:"h-6 w-auto opacity-80"}),d.jsx("span",{className:"text-golden-light font-semibold",children:"Lighter Farm"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-golden-light font-extralight opacity-60 mb-1",children:"Version 1.0.0"}),d.jsx("p",{className:"text-xs text-golden-light font-extralight opacity-40",children:" 2025 Lighter Farm. All rights reserved."})]})]})]},"profile-container"),d.jsx(Id,{})]})},tzt=()=>{const t=cr(),{user:e,authenticated:n}=Bo(),r=localStorage.getItem((e==null?void 0:e.id)||""),i=r?JSON.parse(r):null,s=i==null?void 0:i.id,[o,a]=x.useState([]),[l,c]=x.useState([]),[u,h]=x.useState(!1),[f,p]=x.useState("all"),[m,g]=x.useState({totalBought:0,totalSold:0,totalTransactions:0,netChange:0}),y=async()=>{var M;if(!s){console.warn("User ID not found - cannot fetch points history");return}h(!0);try{const W=await Yt.get(`/api/points/history/${s}?limit=100`);if((M=W.data)!=null&&M.data&&Array.isArray(W.data.data)){const H=W.data.data;a(H),c(H),w(H)}}catch(F){console.error(" Error fetching points history:",F),V_({title:"History Error",description:"Could not fetch transaction history. Please try again.",variant:"destructive"})}finally{h(!1)}},w=M=>{const F=M.filter(H=>H.type==="buy_points").reduce((H,L)=>H+L.amount,0),W=M.filter(H=>H.type==="sell_points").reduce((H,L)=>H+L.amount,0);g({totalBought:F,totalSold:W,totalTransactions:M.length,netChange:F-W})},v=M=>{if(p(M),M==="all")c(o);else{const F=o.filter(W=>W.type===M);c(F)}},b=M=>{switch(M){case"buy_points":return"Bought Points";case"sell_points":return"Sold Points";case"stake":return"Staked";case"unstake":return"Unstaked";case"referral_reward":return"Referral Reward";default:return M.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase())}},A=M=>{const F=new Date(M),W=F.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),H=F.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return{date:W,time:H}},E=M=>{const F=new Date,W=new Date(M),H=Math.floor((F.getTime()-W.getTime())/1e3);if(H<60)return`${H}s ago`;const L=Math.floor(H/60);if(L<60)return`${L}m ago`;const k=Math.floor(L/60);if(k<24)return`${k}h ago`;const C=Math.floor(k/24);return C<30?`${C}d ago`:`${Math.floor(C/30)}mo ago`},$=M=>M==="buy_points"||M==="referral_reward"||M==="unstake"?{sign:"+",color:"text-green-400",icon:d.jsx(kD,{className:"w-4 h-4"})}:{sign:"-",color:"text-red-400",icon:d.jsx(CD,{className:"w-4 h-4"})},N=M=>{window.open(`https://etherscan.io/tx/${M}`,"_blank")};x.useEffect(()=>{n&&s&&y()},[n,s]);const R=[{value:"all",label:"All"},{value:"buy_points",label:"Buys"},{value:"sell_points",label:"Sells"},{value:"stake",label:"Stakes"},{value:"referral_reward",label:"Rewards"}];return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsx("div",{className:"text-center flex-1",children:d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Transaction History"})}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"grid grid-cols-2 gap-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(kD,{className:"w-4 h-4 text-green-400"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Total Bought"})]}),d.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["+ $",m.totalBought.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Of Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(CD,{className:"w-4 h-4 text-red-400"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Total Sold"})]}),d.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["- $",m.totalSold.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Of Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(jIe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Net Change"})]}),d.jsxs("p",{className:`text-2xl font-bold ${m.netChange>=0?"text-green-400":"text-red-400"}`,children:[m.netChange>=0?"+":""," $",m.netChange.toFixed(2)]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Of Points"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(ghe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-xs font-extralight text-muted-foreground",children:"Total Txns"})]}),d.jsx("p",{className:"text-2xl font-bold text-golden-light",children:m.totalTransactions}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transactions"})]})]}),d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(OIe,{className:"w-4 h-4 text-golden-light"}),d.jsx("p",{className:"text-sm font-thin text-muted-foreground",children:"Filter by type:"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(M=>d.jsx("button",{onClick:()=>v(M.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${f===M.value?"bg-golden-light text-black":"bg-[#31302F] text-golden-light hover:bg-golden-light/20"}`,children:M.label},M.value))})]}),d.jsx(me.div,{className:"space-y-3 ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:u?d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 text-center",children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:d.jsx(Gm,{className:"w-8 h-8 text-golden-light"})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):l.length===0?d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 text-center",children:[d.jsx("p",{className:"text-lg font-bold text-golden-light mb-2",children:"No transactions found"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:f!=="all"?"Try changing the filter or make your first transaction":"Make your first transaction to see it here"})]}):l.map((M,F)=>{const{date:W,time:H}=A(M.created_at),{sign:L,color:k,icon:C}=$(M.type);return d.jsxs(me.div,{className:"bg-card border border-border rounded-2xl p-4 hover:border-golden-light/30 transition-colors ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg bg-[#31302F] ${k}`,children:C}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-bold text-golden-light mb-1",children:b(M.type)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[W,"  ",H]}),d.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:E(M.created_at)})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:`text-xl font-bold ${k}`,children:[L,M.amount.toFixed(2)]}),d.jsx("div",{className:"flex items-center gap-1 mt-1",children:d.jsx("span",{className:`text-xs ${M.status==="success"?"text-green-400":M.status==="pending"?"text-yellow-400":"text-red-400"}`,children:M.status==="success"?" Success":M.status==="pending"?" Pending":" Failed"})})]})]}),M.tx_hash&&d.jsx("div",{className:"bg-[#31302F] rounded-lg p-3 mt-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Transaction Hash"}),d.jsx("p",{className:"text-xs font-mono text-golden-light truncate",children:M.tx_hash})]}),d.jsx("button",{onClick:()=>N(M.tx_hash),className:"ml-3 p-2 rounded-lg bg-golden-light/10 hover:bg-golden-light/20 transition-colors",children:d.jsx(c3,{className:"w-4 h-4 text-golden-light"})})]})})]},M.id)})}),l.length>=100&&d.jsx(me.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:d.jsx("button",{onClick:y,className:"w-full bg-card border border-border rounded-2xl p-4 text-golden-light hover:border-golden-light/30 transition-colors",children:d.jsx("span",{className:"text-sm font-bold",children:"Load More Transactions"})})}),d.jsx(Id,{})]})},nzt=()=>{const t=cr(),e=x.useCallback(()=>{t("/")},[t]),n=x.useCallback(()=>{t(-1)},[t]);return d.jsxs(fu,{className:"bg-background min-h-screen justify-start flex flex-col",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 px-4",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:n,className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Page Not Found"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"Lost in the farm?"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs("div",{className:"flex flex-col mt-16 items-center justify-center py-16 px-4 text-center relative z-10",children:[d.jsxs(me.div,{initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-8 max-w-sm",children:[d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-4xl font-bold text-[#D4B679] mb-3",children:"404"}),d.jsx(me.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-xl font-semibold text-[#D4B679] mb-4",children:"Page Not Found"}),d.jsxs(me.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.6},className:"flex items-center justify-center gap-2 mb-8 px-4 py-2 bg-[#D4B679]/10 rounded-full border border-[#D4B679]/20",children:[d.jsx(whe,{className:"w-4 h-4 text-[#D4B679]/70"}),d.jsx("span",{className:"text-[#D4B679]/70 text-sm font-medium",children:"Lost in the farm"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-full max-w-sm space-y-3",children:d.jsxs(Vt,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl flex items-center justify-center gap-3 group",children:[d.jsx(BIe,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),d.jsx("span",{children:"Return to Farm"})]})})]}),d.jsx(Id,{})]})},rzt="cmg1ysrm0005xl70cpgxa39o6";let Y3=class extends Error{constructor(n,r={}){super(n,r.cause?{cause:r.cause}:void 0);Ee(this,"name","BaseError");Ee(this,"cause");this.cause=r.cause}};class izt extends Y3{constructor(){super("Invalid domain manifest");Ee(this,"name","AddMiniApp.InvalidDomainManifest")}}let szt=class extends Y3{constructor(){super("Add miniapp rejected by user");Ee(this,"name","AddMiniApp.RejectedByUser")}},wke=class extends Y3{constructor(){super("Sign in rejected by user");Ee(this,"name","SignIn.RejectedByUser")}};class ozt extends Y3{constructor(){super("Sign manifest rejected by user");Ee(this,"name","SignManifest.RejectedByUser")}}class azt extends Y3{constructor(){super("Invalid domain provided");Ee(this,"name","SignManifest.InvalidDomain")}}class lzt extends Y3{constructor(n="Manifest signing failed"){super(n);Ee(this,"name","SignManifest.GenericError")}}const czt=/[@#$%^&*+=/\\|~]/,uzt=/(!{2,}|\?{2,}|-{2,})/,dzt=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,Q3=({max:t,noSpaces:e}={})=>(e?fi().max(t??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):fi().max(t??Number.POSITIVE_INFINITY)).refine(r=>!dzt.test(r),{message:"Emojis and symbols are not allowed"}).refine(r=>!czt.test(r),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(r=>!uzt.test(r),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),Wo=fi().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(t=>!t.includes(" "),{message:"URL must not contain spaces"}).refine(t=>{try{const e=new URL(t).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),CK=fi().max(32),bke=fi().max(32),hzt=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,fzt=fi().regex(hzt,{message:"Invalid CAIP-19 asset ID"}),kK=fi().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),pzt=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,mzt=fi().max(1024).regex(pzt,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(t=>!t.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(t=>!t.includes("/"),{message:"Domain must not include path separators"}).refine(t=>!t.includes("@"),{message:"Domain must not include @ symbol"}).refine(t=>!t.includes(":"),{message:"Domain must not include port numbers"}),gzt=IS([Io("1:1"),Io("3:2")]),yzt=qs({header:fi(),payload:fi(),signature:fi()});qs({fid:gye(),type:Io("app_key"),key:fi().startsWith("0x")});const wzt=qs({type:Io("launch_frame"),name:CK,url:Wo.optional(),splashImageUrl:Wo.optional(),splashBackgroundColor:kK.optional()}),bzt=qs({type:Io("launch_miniapp"),name:CK,url:Wo.optional(),splashImageUrl:Wo.optional(),splashBackgroundColor:kK.optional()}),vzt=qs({type:Io("view_token"),token:fzt}),xzt=yye("type",[bzt,vzt,wzt]),Ezt=qs({title:bke,action:xzt});qs({version:IS([fi(),gye()]).transform(t=>String(t)).pipe(IS([Io("next"),Io("1")])),imageUrl:Wo,aspectRatio:gzt.optional(),button:Ezt});const vke=qs({url:fi(),token:fi()});qs({notificationId:fi().max(128),title:fi().max(32),body:fi().max(128),targetUrl:Wo,tokens:fi().array().max(100)});qs({result:qs({successfulTokens:f1(fi()),invalidTokens:f1(fi()),rateLimitedTokens:f1(fi())})});const Azt=qs({event:Io("miniapp_added"),notificationDetails:vke.optional()}),Czt=qs({event:Io("miniapp_removed")}),kzt=qs({event:Io("notifications_enabled"),notificationDetails:vke.required()}),_zt=qs({event:Io("notifications_disabled")});yye("event",[Azt,Czt,kzt,_zt]);const Szt=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],Izt=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],Tzt=tV(Izt),$zt=IS([Io("0.0.0"),Io("0.0.1"),Io("1"),Io("next")]),Nzt=Q3({max:30}),Pzt=Q3({max:170}),Rzt=f1(Wo).max(3),jzt=f1(Q3({max:20,noSpaces:!0})).max(5),Ozt=Q3({max:30}),Mzt=Q3({max:30}),Dzt=Q3({max:100}),Bzt=fqe(),Lzt=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function xke(t){const e=new Set(t);return Array.from(e)}const Fzt=f1(tV(Lzt)).transform(xke),Uzt=f1(tV(Szt)).transform(xke),Lle=qs({version:$zt,name:CK,iconUrl:Wo,homeUrl:Wo,imageUrl:Wo.optional(),buttonTitle:bke.optional(),splashImageUrl:Wo.optional(),splashBackgroundColor:kK.optional(),webhookUrl:Wo.optional(),subtitle:Nzt.optional(),description:Pzt.optional(),screenshotUrls:Rzt.optional(),primaryCategory:Tzt.optional(),tags:jzt.optional(),heroImageUrl:Wo.optional(),tagline:Ozt.optional(),ogTitle:Mzt.optional(),ogDescription:Dzt.optional(),ogImageUrl:Wo.optional(),noindex:Bzt.optional(),requiredChains:Fzt.optional(),requiredCapabilities:Uzt.optional(),castShareUrl:Wo.optional(),canonicalDomain:mzt.optional()}).refine(t=>{if(t.castShareUrl===void 0)return!0;try{const e=new URL(t.homeUrl).hostname,n=new URL(t.castShareUrl).hostname;return e===n}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});qs({accountAssociation:yzt,miniapp:Lle.optional(),frame:Lle.optional()}).refine(t=>t.frame&&t.miniapp?JSON.stringify(t.frame)===JSON.stringify(t.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(t=>({...t,frame:t.frame??t.miniapp}));var yn={},WN={};WN.byteLength=Hzt;WN.toByteArray=qzt;WN.fromByteArray=Yzt;var vh=[],_c=[],zzt=typeof Uint8Array<"u"?Uint8Array:Array,pM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tb=0,Wzt=pM.length;Tb<Wzt;++Tb)vh[Tb]=pM[Tb],_c[pM.charCodeAt(Tb)]=Tb;_c[45]=62;_c[95]=63;function Eke(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Hzt(t){var e=Eke(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Vzt(t,e,n){return(e+n)*3/4-n}function qzt(t){var e,n=Eke(t),r=n[0],i=n[1],s=new zzt(Vzt(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=_c[t.charCodeAt(l)]<<18|_c[t.charCodeAt(l+1)]<<12|_c[t.charCodeAt(l+2)]<<6|_c[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=_c[t.charCodeAt(l)]<<2|_c[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=_c[t.charCodeAt(l)]<<10|_c[t.charCodeAt(l+1)]<<4|_c[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Gzt(t){return vh[t>>18&63]+vh[t>>12&63]+vh[t>>6&63]+vh[t&63]}function Kzt(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Gzt(r));return i.join("")}function Yzt(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(Kzt(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(vh[e>>2]+vh[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(vh[e>>10]+vh[e>>4&63]+vh[e<<2&63]+"=")),i.join("")}var _K={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_K.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+h],h+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(p?-1:1)*o*Math.pow(2,s-r)};_K.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,h=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,m=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=f/l:e+=f*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=a&255,p+=m,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+p]=o&255,p+=m,o/=256,c-=8);t[n+p-m]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=WN,n=_K,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(G,U),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const U=new Uint8Array(G);return Object.setPrototypeOf(U,a.prototype),U}function a(G,U,z){if(typeof G=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(G)}return l(G,U,z)}a.poolSize=8192;function l(G,U,z){if(typeof G=="string")return f(G,U);if(ArrayBuffer.isView(G))return m(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(Le(G,ArrayBuffer)||G&&Le(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(G,SharedArrayBuffer)||G&&Le(G.buffer,SharedArrayBuffer)))return g(G,U,z);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=G.valueOf&&G.valueOf();if(X!=null&&X!==G)return a.from(X,U,z);const ne=y(G);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),U,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,U,z){return l(G,U,z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function u(G,U,z){return c(G),G<=0?o(G):U!==void 0?typeof z=="string"?o(G).fill(U,z):o(G).fill(U):o(G)}a.alloc=function(G,U,z){return u(G,U,z)};function h(G){return c(G),o(G<0?0:w(G)|0)}a.allocUnsafe=function(G){return h(G)},a.allocUnsafeSlow=function(G){return h(G)};function f(G,U){if((typeof U!="string"||U==="")&&(U="utf8"),!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);const z=b(G,U)|0;let X=o(z);const ne=X.write(G,U);return ne!==z&&(X=X.slice(0,ne)),X}function p(G){const U=G.length<0?0:w(G.length)|0,z=o(U);for(let X=0;X<U;X+=1)z[X]=G[X]&255;return z}function m(G){if(Le(G,Uint8Array)){const U=new Uint8Array(G);return g(U.buffer,U.byteOffset,U.byteLength)}return p(G)}function g(G,U,z){if(U<0||G.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<U+(z||0))throw new RangeError('"length" is outside of buffer bounds');let X;return U===void 0&&z===void 0?X=new Uint8Array(G):z===void 0?X=new Uint8Array(G,U):X=new Uint8Array(G,U,z),Object.setPrototypeOf(X,a.prototype),X}function y(G){if(a.isBuffer(G)){const U=w(G.length)|0,z=o(U);return z.length===0||G.copy(z,0,0,U),z}if(G.length!==void 0)return typeof G.length!="number"||Ce(G.length)?o(0):p(G);if(G.type==="Buffer"&&Array.isArray(G.data))return p(G.data)}function w(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function v(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==a.prototype},a.compare=function(U,z){if(Le(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),Le(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(U)||!a.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===z)return 0;let X=U.length,ne=z.length;for(let ie=0,le=Math.min(X,ne);ie<le;++ie)if(U[ie]!==z[ie]){X=U[ie],ne=z[ie];break}return X<ne?-1:ne<X?1:0},a.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(U,z){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return a.alloc(0);let X;if(z===void 0)for(z=0,X=0;X<U.length;++X)z+=U[X].length;const ne=a.allocUnsafe(z);let ie=0;for(X=0;X<U.length;++X){let le=U[X];if(Le(le,Uint8Array))ie+le.length>ne.length?(a.isBuffer(le)||(le=a.from(le)),le.copy(ne,ie)):Uint8Array.prototype.set.call(ne,le,ie);else if(a.isBuffer(le))le.copy(ne,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=le.length}return ne};function b(G,U){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||Le(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const z=G.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&z===0)return 0;let ne=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return Fe(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z*2;case"hex":return z>>>1;case"base64":return ve(G).length;default:if(ne)return X?-1:Fe(G).length;U=(""+U).toLowerCase(),ne=!0}}a.byteLength=b;function A(G,U,z){let X=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0,U>>>=0,z<=U))return"";for(G||(G="utf8");;)switch(G){case"hex":return P(this,U,z);case"utf8":case"utf-8":return k(this,U,z);case"ascii":return T(this,U,z);case"latin1":case"binary":return S(this,U,z);case"base64":return L(this,U,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,U,z);default:if(X)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),X=!0}}a.prototype._isBuffer=!0;function E(G,U,z){const X=G[U];G[U]=G[z],G[z]=X}a.prototype.swap16=function(){const U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<U;z+=2)E(this,z,z+1);return this},a.prototype.swap32=function(){const U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<U;z+=4)E(this,z,z+3),E(this,z+1,z+2);return this},a.prototype.swap64=function(){const U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<U;z+=8)E(this,z,z+7),E(this,z+1,z+6),E(this,z+2,z+5),E(this,z+3,z+4);return this},a.prototype.toString=function(){const U=this.length;return U===0?"":arguments.length===0?k(this,0,U):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(U){if(!a.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:a.compare(this,U)===0},a.prototype.inspect=function(){let U="";const z=t.INSPECT_MAX_BYTES;return U=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(U+=" ... "),"<Buffer "+U+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(U,z,X,ne,ie){if(Le(U,Uint8Array)&&(U=a.from(U,U.offset,U.byteLength)),!a.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(z===void 0&&(z=0),X===void 0&&(X=U?U.length:0),ne===void 0&&(ne=0),ie===void 0&&(ie=this.length),z<0||X>U.length||ne<0||ie>this.length)throw new RangeError("out of range index");if(ne>=ie&&z>=X)return 0;if(ne>=ie)return-1;if(z>=X)return 1;if(z>>>=0,X>>>=0,ne>>>=0,ie>>>=0,this===U)return 0;let le=ie-ne,Be=X-z;const Xe=Math.min(le,Be),Ke=this.slice(ne,ie),et=U.slice(z,X);for(let Pe=0;Pe<Xe;++Pe)if(Ke[Pe]!==et[Pe]){le=Ke[Pe],Be=et[Pe];break}return le<Be?-1:Be<le?1:0};function $(G,U,z,X,ne){if(G.length===0)return-1;if(typeof z=="string"?(X=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),z=+z,Ce(z)&&(z=ne?0:G.length-1),z<0&&(z=G.length+z),z>=G.length){if(ne)return-1;z=G.length-1}else if(z<0)if(ne)z=0;else return-1;if(typeof U=="string"&&(U=a.from(U,X)),a.isBuffer(U))return U.length===0?-1:N(G,U,z,X,ne);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(G,U,z):Uint8Array.prototype.lastIndexOf.call(G,U,z):N(G,[U],z,X,ne);throw new TypeError("val must be string, number or Buffer")}function N(G,U,z,X,ne){let ie=1,le=G.length,Be=U.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(G.length<2||U.length<2)return-1;ie=2,le/=2,Be/=2,z/=2}function Xe(et,Pe){return ie===1?et[Pe]:et.readUInt16BE(Pe*ie)}let Ke;if(ne){let et=-1;for(Ke=z;Ke<le;Ke++)if(Xe(G,Ke)===Xe(U,et===-1?0:Ke-et)){if(et===-1&&(et=Ke),Ke-et+1===Be)return et*ie}else et!==-1&&(Ke-=Ke-et),et=-1}else for(z+Be>le&&(z=le-Be),Ke=z;Ke>=0;Ke--){let et=!0;for(let Pe=0;Pe<Be;Pe++)if(Xe(G,Ke+Pe)!==Xe(U,Pe)){et=!1;break}if(et)return Ke}return-1}a.prototype.includes=function(U,z,X){return this.indexOf(U,z,X)!==-1},a.prototype.indexOf=function(U,z,X){return $(this,U,z,X,!0)},a.prototype.lastIndexOf=function(U,z,X){return $(this,U,z,X,!1)};function R(G,U,z,X){z=Number(z)||0;const ne=G.length-z;X?(X=Number(X),X>ne&&(X=ne)):X=ne;const ie=U.length;X>ie/2&&(X=ie/2);let le;for(le=0;le<X;++le){const Be=parseInt(U.substr(le*2,2),16);if(Ce(Be))return le;G[z+le]=Be}return le}function M(G,U,z,X){return Oe(Fe(U,G.length-z),G,z,X)}function F(G,U,z,X){return Oe(Me(U),G,z,X)}function W(G,U,z,X){return Oe(ve(U),G,z,X)}function H(G,U,z,X){return Oe(Se(U,G.length-z),G,z,X)}a.prototype.write=function(U,z,X,ne){if(z===void 0)ne="utf8",X=this.length,z=0;else if(X===void 0&&typeof z=="string")ne=z,X=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(X)?(X=X>>>0,ne===void 0&&(ne="utf8")):(ne=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ie=this.length-z;if((X===void 0||X>ie)&&(X=ie),U.length>0&&(X<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let le=!1;for(;;)switch(ne){case"hex":return R(this,U,z,X);case"utf8":case"utf-8":return M(this,U,z,X);case"ascii":case"latin1":case"binary":return F(this,U,z,X);case"base64":return W(this,U,z,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,U,z,X);default:if(le)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),le=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(G,U,z){return U===0&&z===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(U,z))}function k(G,U,z){z=Math.min(G.length,z);const X=[];let ne=U;for(;ne<z;){const ie=G[ne];let le=null,Be=ie>239?4:ie>223?3:ie>191?2:1;if(ne+Be<=z){let Xe,Ke,et,Pe;switch(Be){case 1:ie<128&&(le=ie);break;case 2:Xe=G[ne+1],(Xe&192)===128&&(Pe=(ie&31)<<6|Xe&63,Pe>127&&(le=Pe));break;case 3:Xe=G[ne+1],Ke=G[ne+2],(Xe&192)===128&&(Ke&192)===128&&(Pe=(ie&15)<<12|(Xe&63)<<6|Ke&63,Pe>2047&&(Pe<55296||Pe>57343)&&(le=Pe));break;case 4:Xe=G[ne+1],Ke=G[ne+2],et=G[ne+3],(Xe&192)===128&&(Ke&192)===128&&(et&192)===128&&(Pe=(ie&15)<<18|(Xe&63)<<12|(Ke&63)<<6|et&63,Pe>65535&&Pe<1114112&&(le=Pe))}}le===null?(le=65533,Be=1):le>65535&&(le-=65536,X.push(le>>>10&1023|55296),le=56320|le&1023),X.push(le),ne+=Be}return _(X)}const C=4096;function _(G){const U=G.length;if(U<=C)return String.fromCharCode.apply(String,G);let z="",X=0;for(;X<U;)z+=String.fromCharCode.apply(String,G.slice(X,X+=C));return z}function T(G,U,z){let X="";z=Math.min(G.length,z);for(let ne=U;ne<z;++ne)X+=String.fromCharCode(G[ne]&127);return X}function S(G,U,z){let X="";z=Math.min(G.length,z);for(let ne=U;ne<z;++ne)X+=String.fromCharCode(G[ne]);return X}function P(G,U,z){const X=G.length;(!U||U<0)&&(U=0),(!z||z<0||z>X)&&(z=X);let ne="";for(let ie=U;ie<z;++ie)ne+=De[G[ie]];return ne}function D(G,U,z){const X=G.slice(U,z);let ne="";for(let ie=0;ie<X.length-1;ie+=2)ne+=String.fromCharCode(X[ie]+X[ie+1]*256);return ne}a.prototype.slice=function(U,z){const X=this.length;U=~~U,z=z===void 0?X:~~z,U<0?(U+=X,U<0&&(U=0)):U>X&&(U=X),z<0?(z+=X,z<0&&(z=0)):z>X&&(z=X),z<U&&(z=U);const ne=this.subarray(U,z);return Object.setPrototypeOf(ne,a.prototype),ne};function O(G,U,z){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+U>z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=this[U],ie=1,le=0;for(;++le<z&&(ie*=256);)ne+=this[U+le]*ie;return ne},a.prototype.readUintBE=a.prototype.readUIntBE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=this[U+--z],ie=1;for(;z>0&&(ie*=256);)ne+=this[U+--z]*ie;return ne},a.prototype.readUint8=a.prototype.readUInt8=function(U,z){return U=U>>>0,z||O(U,1,this.length),this[U]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(U,z){return U=U>>>0,z||O(U,2,this.length),this[U]|this[U+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(U,z){return U=U>>>0,z||O(U,2,this.length),this[U]<<8|this[U+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(U,z){return U=U>>>0,z||O(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(U,z){return U=U>>>0,z||O(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},a.prototype.readBigUInt64LE=We(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=z+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24,ie=this[++U]+this[++U]*2**8+this[++U]*2**16+X*2**24;return BigInt(ne)+(BigInt(ie)<<BigInt(32))}),a.prototype.readBigUInt64BE=We(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=z*2**24+this[++U]*2**16+this[++U]*2**8+this[++U],ie=this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+X;return(BigInt(ne)<<BigInt(32))+BigInt(ie)}),a.prototype.readIntLE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=this[U],ie=1,le=0;for(;++le<z&&(ie*=256);)ne+=this[U+le]*ie;return ie*=128,ne>=ie&&(ne-=Math.pow(2,8*z)),ne},a.prototype.readIntBE=function(U,z,X){U=U>>>0,z=z>>>0,X||O(U,z,this.length);let ne=z,ie=1,le=this[U+--ne];for(;ne>0&&(ie*=256);)le+=this[U+--ne]*ie;return ie*=128,le>=ie&&(le-=Math.pow(2,8*z)),le},a.prototype.readInt8=function(U,z){return U=U>>>0,z||O(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},a.prototype.readInt16LE=function(U,z){U=U>>>0,z||O(U,2,this.length);const X=this[U]|this[U+1]<<8;return X&32768?X|4294901760:X},a.prototype.readInt16BE=function(U,z){U=U>>>0,z||O(U,2,this.length);const X=this[U+1]|this[U]<<8;return X&32768?X|4294901760:X},a.prototype.readInt32LE=function(U,z){return U=U>>>0,z||O(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},a.prototype.readInt32BE=function(U,z){return U=U>>>0,z||O(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},a.prototype.readBigInt64LE=We(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=this[U+4]+this[U+5]*2**8+this[U+6]*2**16+(X<<24);return(BigInt(ne)<<BigInt(32))+BigInt(z+this[++U]*2**8+this[++U]*2**16+this[++U]*2**24)}),a.prototype.readBigInt64BE=We(function(U){U=U>>>0,be(U,"offset");const z=this[U],X=this[U+7];(z===void 0||X===void 0)&&fe(U,this.length-8);const ne=(z<<24)+this[++U]*2**16+this[++U]*2**8+this[++U];return(BigInt(ne)<<BigInt(32))+BigInt(this[++U]*2**24+this[++U]*2**16+this[++U]*2**8+X)}),a.prototype.readFloatLE=function(U,z){return U=U>>>0,z||O(U,4,this.length),n.read(this,U,!0,23,4)},a.prototype.readFloatBE=function(U,z){return U=U>>>0,z||O(U,4,this.length),n.read(this,U,!1,23,4)},a.prototype.readDoubleLE=function(U,z){return U=U>>>0,z||O(U,8,this.length),n.read(this,U,!0,52,8)},a.prototype.readDoubleBE=function(U,z){return U=U>>>0,z||O(U,8,this.length),n.read(this,U,!1,52,8)};function I(G,U,z,X,ne,ie){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>ne||U<ie)throw new RangeError('"value" argument is out of bounds');if(z+X>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(U,z,X,ne){if(U=+U,z=z>>>0,X=X>>>0,!ne){const Be=Math.pow(2,8*X)-1;I(this,U,z,X,Be,0)}let ie=1,le=0;for(this[z]=U&255;++le<X&&(ie*=256);)this[z+le]=U/ie&255;return z+X},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(U,z,X,ne){if(U=+U,z=z>>>0,X=X>>>0,!ne){const Be=Math.pow(2,8*X)-1;I(this,U,z,X,Be,0)}let ie=X-1,le=1;for(this[z+ie]=U&255;--ie>=0&&(le*=256);)this[z+ie]=U/le&255;return z+X},a.prototype.writeUint8=a.prototype.writeUInt8=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,1,255,0),this[z]=U&255,z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,65535,0),this[z]=U&255,this[z+1]=U>>>8,z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,65535,0),this[z]=U>>>8,this[z+1]=U&255,z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,4294967295,0),this[z+3]=U>>>24,this[z+2]=U>>>16,this[z+1]=U>>>8,this[z]=U&255,z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,4294967295,0),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=U&255,z+4};function B(G,U,z,X,ne){he(U,X,ne,G,z,7);let ie=Number(U&BigInt(4294967295));G[z++]=ie,ie=ie>>8,G[z++]=ie,ie=ie>>8,G[z++]=ie,ie=ie>>8,G[z++]=ie;let le=Number(U>>BigInt(32)&BigInt(4294967295));return G[z++]=le,le=le>>8,G[z++]=le,le=le>>8,G[z++]=le,le=le>>8,G[z++]=le,z}function Q(G,U,z,X,ne){he(U,X,ne,G,z,7);let ie=Number(U&BigInt(4294967295));G[z+7]=ie,ie=ie>>8,G[z+6]=ie,ie=ie>>8,G[z+5]=ie,ie=ie>>8,G[z+4]=ie;let le=Number(U>>BigInt(32)&BigInt(4294967295));return G[z+3]=le,le=le>>8,G[z+2]=le,le=le>>8,G[z+1]=le,le=le>>8,G[z]=le,z+8}a.prototype.writeBigUInt64LE=We(function(U,z=0){return B(this,U,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=We(function(U,z=0){return Q(this,U,z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(U,z,X,ne){if(U=+U,z=z>>>0,!ne){const Xe=Math.pow(2,8*X-1);I(this,U,z,X,Xe-1,-Xe)}let ie=0,le=1,Be=0;for(this[z]=U&255;++ie<X&&(le*=256);)U<0&&Be===0&&this[z+ie-1]!==0&&(Be=1),this[z+ie]=(U/le>>0)-Be&255;return z+X},a.prototype.writeIntBE=function(U,z,X,ne){if(U=+U,z=z>>>0,!ne){const Xe=Math.pow(2,8*X-1);I(this,U,z,X,Xe-1,-Xe)}let ie=X-1,le=1,Be=0;for(this[z+ie]=U&255;--ie>=0&&(le*=256);)U<0&&Be===0&&this[z+ie+1]!==0&&(Be=1),this[z+ie]=(U/le>>0)-Be&255;return z+X},a.prototype.writeInt8=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,1,127,-128),U<0&&(U=255+U+1),this[z]=U&255,z+1},a.prototype.writeInt16LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,32767,-32768),this[z]=U&255,this[z+1]=U>>>8,z+2},a.prototype.writeInt16BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,2,32767,-32768),this[z]=U>>>8,this[z+1]=U&255,z+2},a.prototype.writeInt32LE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,2147483647,-2147483648),this[z]=U&255,this[z+1]=U>>>8,this[z+2]=U>>>16,this[z+3]=U>>>24,z+4},a.prototype.writeInt32BE=function(U,z,X){return U=+U,z=z>>>0,X||I(this,U,z,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=U&255,z+4},a.prototype.writeBigInt64LE=We(function(U,z=0){return B(this,U,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=We(function(U,z=0){return Q(this,U,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function j(G,U,z,X,ne,ie){if(z+X>G.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function Y(G,U,z,X,ne){return U=+U,z=z>>>0,ne||j(G,U,z,4),n.write(G,U,z,X,23,4),z+4}a.prototype.writeFloatLE=function(U,z,X){return Y(this,U,z,!0,X)},a.prototype.writeFloatBE=function(U,z,X){return Y(this,U,z,!1,X)};function ee(G,U,z,X,ne){return U=+U,z=z>>>0,ne||j(G,U,z,8),n.write(G,U,z,X,52,8),z+8}a.prototype.writeDoubleLE=function(U,z,X){return ee(this,U,z,!0,X)},a.prototype.writeDoubleBE=function(U,z,X){return ee(this,U,z,!1,X)},a.prototype.copy=function(U,z,X,ne){if(!a.isBuffer(U))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ne&&ne!==0&&(ne=this.length),z>=U.length&&(z=U.length),z||(z=0),ne>0&&ne<X&&(ne=X),ne===X||U.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),U.length-z<ne-X&&(ne=U.length-z+X);const ie=ne-X;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,X,ne):Uint8Array.prototype.set.call(U,this.subarray(X,ne),z),ie},a.prototype.fill=function(U,z,X,ne){if(typeof U=="string"){if(typeof z=="string"?(ne=z,z=0,X=this.length):typeof X=="string"&&(ne=X,X=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(U.length===1){const le=U.charCodeAt(0);(ne==="utf8"&&le<128||ne==="latin1")&&(U=le)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(z<0||this.length<z||this.length<X)throw new RangeError("Out of range index");if(X<=z)return this;z=z>>>0,X=X===void 0?this.length:X>>>0,U||(U=0);let ie;if(typeof U=="number")for(ie=z;ie<X;++ie)this[ie]=U;else{const le=a.isBuffer(U)?U:a.from(U,ne),Be=le.length;if(Be===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ie=0;ie<X-z;++ie)this[ie+z]=le[ie%Be]}return this};const Z={};function oe(G,U,z){Z[G]=class extends z{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(G,U){return`The "${G}" argument must be of type number. Received type ${typeof U}`},TypeError),oe("ERR_OUT_OF_RANGE",function(G,U,z){let X=`The value of "${G}" is out of range.`,ne=z;return Number.isInteger(z)&&Math.abs(z)>2**32?ne=de(String(z)):typeof z=="bigint"&&(ne=String(z),(z>BigInt(2)**BigInt(32)||z<-(BigInt(2)**BigInt(32)))&&(ne=de(ne)),ne+="n"),X+=` It must be ${U}. Received ${ne}`,X},RangeError);function de(G){let U="",z=G.length;const X=G[0]==="-"?1:0;for(;z>=X+4;z-=3)U=`_${G.slice(z-3,z)}${U}`;return`${G.slice(0,z)}${U}`}function ce(G,U,z){be(U,"offset"),(G[U]===void 0||G[U+z]===void 0)&&fe(U,G.length-(z+1))}function he(G,U,z,X,ne,ie){if(G>z||G<U){const le=typeof U=="bigint"?"n":"";let Be;throw U===0||U===BigInt(0)?Be=`>= 0${le} and < 2${le} ** ${(ie+1)*8}${le}`:Be=`>= -(2${le} ** ${(ie+1)*8-1}${le}) and < 2 ** ${(ie+1)*8-1}${le}`,new Z.ERR_OUT_OF_RANGE("value",Be,G)}ce(X,ne,ie)}function be(G,U){if(typeof G!="number")throw new Z.ERR_INVALID_ARG_TYPE(U,"number",G)}function fe(G,U,z){throw Math.floor(G)!==G?(be(G,z),new Z.ERR_OUT_OF_RANGE("offset","an integer",G)):U<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${U}`,G)}const ke=/[^+/0-9A-Za-z-_]/g;function we(G){if(G=G.split("=")[0],G=G.trim().replace(ke,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Fe(G,U){U=U||1/0;let z;const X=G.length;let ne=null;const ie=[];for(let le=0;le<X;++le){if(z=G.charCodeAt(le),z>55295&&z<57344){if(!ne){if(z>56319){(U-=3)>-1&&ie.push(239,191,189);continue}else if(le+1===X){(U-=3)>-1&&ie.push(239,191,189);continue}ne=z;continue}if(z<56320){(U-=3)>-1&&ie.push(239,191,189),ne=z;continue}z=(ne-55296<<10|z-56320)+65536}else ne&&(U-=3)>-1&&ie.push(239,191,189);if(ne=null,z<128){if((U-=1)<0)break;ie.push(z)}else if(z<2048){if((U-=2)<0)break;ie.push(z>>6|192,z&63|128)}else if(z<65536){if((U-=3)<0)break;ie.push(z>>12|224,z>>6&63|128,z&63|128)}else if(z<1114112){if((U-=4)<0)break;ie.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw new Error("Invalid code point")}return ie}function Me(G){const U=[];for(let z=0;z<G.length;++z)U.push(G.charCodeAt(z)&255);return U}function Se(G,U){let z,X,ne;const ie=[];for(let le=0;le<G.length&&!((U-=2)<0);++le)z=G.charCodeAt(le),X=z>>8,ne=z%256,ie.push(ne),ie.push(X);return ie}function ve(G){return e.toByteArray(we(G))}function Oe(G,U,z,X){let ne;for(ne=0;ne<X&&!(ne+z>=U.length||ne>=G.length);++ne)U[ne+z]=G[ne];return ne}function Le(G,U){return G instanceof U||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===U.name}function Ce(G){return G!==G}const De=function(){const G="0123456789abcdef",U=new Array(256);for(let z=0;z<16;++z){const X=z*16;for(let ne=0;ne<16;++ne)U[X+ne]=G[z]+G[ne]}return U}();function We(G){return typeof BigInt>"u"?rt:G}function rt(){throw new Error("BigInt not supported")}})(yn);function Fle(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Qzt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function HN(t,...e){if(!Qzt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Zzt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fle(t.outputLen),Fle(t.blockLen)}function Z7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Jzt(t,e){HN(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const $b=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Hd=(t,e)=>t<<32-e|t>>>e;function Xzt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function SK(t){return typeof t=="string"&&(t=Xzt(t)),HN(t),t}function eWt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];HN(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Ake=class{clone(){return this._cloneInto()}};function Cke(t){const e=r=>t().update(SK(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function kke(t=32){if($b&&typeof $b.getRandomValues=="function")return $b.getRandomValues(new Uint8Array(t));if($b&&typeof $b.randomBytes=="function")return $b.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function tWt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const nWt=(t,e,n)=>t&e^~t&n,rWt=(t,e,n)=>t&e^t&n^e&n;let _ke=class extends Ake{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mM(this.buffer)}update(e){Z7(this);const{view:n,buffer:r,blockLen:i}=this;e=SK(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=mM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Z7(this),Jzt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;tWt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=mM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Qk=BigInt(2**32-1),gz=BigInt(32);function Ske(t,e=!1){return e?{h:Number(t&Qk),l:Number(t>>gz&Qk)}:{h:Number(t>>gz&Qk)|0,l:Number(t&Qk)|0}}function iWt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Ske(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const sWt=(t,e)=>BigInt(t>>>0)<<gz|BigInt(e>>>0),oWt=(t,e,n)=>t>>>n,aWt=(t,e,n)=>t<<32-n|e>>>n,lWt=(t,e,n)=>t>>>n|e<<32-n,cWt=(t,e,n)=>t<<32-n|e>>>n,uWt=(t,e,n)=>t<<64-n|e>>>n-32,dWt=(t,e,n)=>t>>>n-32|e<<64-n,hWt=(t,e)=>e,fWt=(t,e)=>t,pWt=(t,e,n)=>t<<n|e>>>32-n,mWt=(t,e,n)=>e<<n|t>>>32-n,gWt=(t,e,n)=>e<<n-32|t>>>64-n,yWt=(t,e,n)=>t<<n-32|e>>>64-n;function wWt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const bWt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),vWt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,xWt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),EWt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,AWt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),CWt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,mn={fromBig:Ske,split:iWt,toBig:sWt,shrSH:oWt,shrSL:aWt,rotrSH:lWt,rotrSL:cWt,rotrBH:uWt,rotrBL:dWt,rotr32H:hWt,rotr32L:fWt,rotlSH:pWt,rotlSL:mWt,rotlBH:gWt,rotlBL:yWt,add:wWt,add3L:bWt,add3H:vWt,add4L:xWt,add4H:EWt,add5H:CWt,add5L:AWt},[kWt,_Wt]=mn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),N0=new Uint32Array(80),P0=new Uint32Array(80);class SWt extends _ke{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;return[e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y]}set(e,n,r,i,s,o,a,l,c,u,h,f,p,m,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)N0[b]=e.getUint32(n),P0[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const A=N0[b-15]|0,E=P0[b-15]|0,$=mn.rotrSH(A,E,1)^mn.rotrSH(A,E,8)^mn.shrSH(A,E,7),N=mn.rotrSL(A,E,1)^mn.rotrSL(A,E,8)^mn.shrSL(A,E,7),R=N0[b-2]|0,M=P0[b-2]|0,F=mn.rotrSH(R,M,19)^mn.rotrBH(R,M,61)^mn.shrSH(R,M,6),W=mn.rotrSL(R,M,19)^mn.rotrBL(R,M,61)^mn.shrSL(R,M,6),H=mn.add4L(N,W,P0[b-7],P0[b-16]),L=mn.add4H(H,$,F,N0[b-7],N0[b-16]);N0[b]=L|0,P0[b]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const A=mn.rotrSH(h,f,14)^mn.rotrSH(h,f,18)^mn.rotrBH(h,f,41),E=mn.rotrSL(h,f,14)^mn.rotrSL(h,f,18)^mn.rotrBL(h,f,41),$=h&p^~h&g,N=f&m^~f&y,R=mn.add5L(v,E,N,_Wt[b],P0[b]),M=mn.add5H(R,w,A,$,kWt[b],N0[b]),F=R|0,W=mn.rotrSH(r,i,28)^mn.rotrBH(r,i,34)^mn.rotrBH(r,i,39),H=mn.rotrSL(r,i,28)^mn.rotrBL(r,i,34)^mn.rotrBL(r,i,39),L=r&s^r&a^s&a,k=i&o^i&l^o&l;w=g|0,v=y|0,g=p|0,y=m|0,p=h|0,m=f|0,{h,l:f}=mn.add(c|0,u|0,M|0,F|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const C=mn.add3L(F,H,k);r=mn.add3H(C,M,W,L),i=C|0}({h:r,l:i}=mn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=mn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=mn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=mn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=mn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=mn.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:g,l:y}=mn.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=mn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,i,s,o,a,l,c,u,h,f,p,m,g,y,w,v)}roundClean(){N0.fill(0),P0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const IWt=Cke(()=>new SWt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VN=BigInt(0),qN=BigInt(1),TWt=BigInt(2);function aw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fC(t){if(!aw(t))throw new Error("Uint8Array expected")}function Cp(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const $Wt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lw(t){fC(t);let e="";for(let n=0;n<t.length;n++)e+=$Wt[t[n]];return e}function Ev(t){const e=t.toString(16);return e.length&1?"0"+e:e}function IK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?VN:BigInt("0x"+t)}const Cf={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ule(t){if(t>=Cf._0&&t<=Cf._9)return t-Cf._0;if(t>=Cf.A&&t<=Cf.F)return t-(Cf.A-10);if(t>=Cf.a&&t<=Cf.f)return t-(Cf.a-10)}function Xx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Ule(t.charCodeAt(s)),a=Ule(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function C1(t){return IK(lw(t))}function r2(t){return fC(t),IK(lw(Uint8Array.from(t).reverse()))}function e3(t,e){return Xx(t.toString(16).padStart(e*2,"0"))}function xE(t,e){return e3(t,e).reverse()}function NWt(t){return Xx(Ev(t))}function Fi(t,e,n){let r;if(typeof e=="string")try{r=Xx(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(aw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function cw(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];fC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function PWt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function RWt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const gM=t=>typeof t=="bigint"&&VN<=t;function GN(t,e,n){return gM(t)&&gM(e)&&gM(n)&&e<=t&&t<n}function zc(t,e,n,r){if(!GN(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ike(t){let e;for(e=0;t>VN;t>>=qN,e+=1);return e}function jWt(t,e){return t>>BigInt(e)&qN}function OWt(t,e,n){return t|(n?qN:VN)<<BigInt(e)}const TK=t=>(TWt<<BigInt(t-1))-qN,yM=t=>new Uint8Array(t),zle=t=>Uint8Array.from(t);function Tke(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=yM(t),i=yM(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),l=(h=yM())=>{i=a(zle([0]),h),r=a(),h.length!==0&&(i=a(zle([1]),h),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const p=r.slice();f.push(p),h+=r.length}return cw(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const MWt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||aw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Z3(t,e,n={}){const r=(i,s,o)=>{const a=MWt[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const DWt=()=>{throw new Error("not implemented")};function EE(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const BWt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:zc,abool:Cp,abytes:fC,bitGet:jWt,bitLen:Ike,bitMask:TK,bitSet:OWt,bytesToHex:lw,bytesToNumberBE:C1,bytesToNumberLE:r2,concatBytes:cw,createHmacDrbg:Tke,ensureBytes:Fi,equalBytes:PWt,hexToBytes:Xx,hexToNumber:IK,inRange:GN,isBytes:aw,memoized:EE,notImplemented:DWt,numberToBytesBE:e3,numberToBytesLE:xE,numberToHexUnpadded:Ev,numberToVarBytesBE:NWt,utf8ToBytes:RWt,validateObject:Z3},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xs=BigInt(0),ei=BigInt(1),uy=BigInt(2),LWt=BigInt(3),yz=BigInt(4),Wle=BigInt(5),Hle=BigInt(8);function Wr(t,e){const n=t%e;return n>=xs?n:e+n}function FWt(t,e,n){if(e<xs)throw new Error("invalid exponent, negatives unsupported");if(n<=xs)throw new Error("invalid modulus");if(n===ei)return xs;let r=ei;for(;e>xs;)e&ei&&(r=r*t%n),t=t*t%n,e>>=ei;return r}function oi(t,e,n){let r=t;for(;e-- >xs;)r*=r,r%=n;return r}function wz(t,e){if(t===xs)throw new Error("invert: expected non-zero number");if(e<=xs)throw new Error("invert: expected positive modulus, got "+e);let n=Wr(t,e),r=e,i=xs,s=ei;for(;n!==xs;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==ei)throw new Error("invert: does not exist");return Wr(i,e)}function UWt(t){const e=(t-ei)/uy;let n,r,i;for(n=t-ei,r=0;n%uy===xs;n/=uy,r++);for(i=uy;i<t&&FWt(i,e,t)!==t-ei;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ei)/yz;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ei)/uy;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),h=a.pow(l,s),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(f);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const m=a.pow(u,ei<<BigInt(c-p-1));u=a.sqr(m),h=a.mul(h,m),f=a.mul(f,u),c=p}return h}}function zWt(t){if(t%yz===LWt){const e=(t+ei)/yz;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Hle===Wle){const e=(t-Wle)/Hle;return function(r,i){const s=r.mul(i,uy),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,uy),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return UWt(t)}const WWt=(t,e)=>(Wr(t,e)&ei)===ei,HWt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VWt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=HWt.reduce((r,i)=>(r[i]="function",r),e);return Z3(t,n)}function qWt(t,e,n){if(n<xs)throw new Error("invalid exponent, negatives unsupported");if(n===xs)return t.ONE;if(n===ei)return e;let r=t.ONE,i=e;for(;n>xs;)n&ei&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ei;return r}function GWt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function $ke(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function KN(t,e,n=!1,r={}){if(t<=xs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=$ke(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:TK(i),ZERO:xs,ONE:ei,create:l=>Wr(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return xs<=l&&l<t},is0:l=>l===xs,isOdd:l=>(l&ei)===ei,neg:l=>Wr(-l,t),eql:(l,c)=>l===c,sqr:l=>Wr(l*l,t),add:(l,c)=>Wr(l+c,t),sub:(l,c)=>Wr(l-c,t),mul:(l,c)=>Wr(l*c,t),pow:(l,c)=>qWt(a,l,c),div:(l,c)=>Wr(l*wz(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>wz(l,t),sqrt:r.sqrt||(l=>(o||(o=zWt(t)),o(a,l))),invertBatch:l=>GWt(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?xE(l,s):e3(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?r2(l):C1(l)}});return Object.freeze(a)}function Nke(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Pke(t){const e=Nke(t);return e+Math.ceil(e/2)}function KWt(t,e,n=!1){const r=t.length,i=Nke(e),s=Pke(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?r2(t):C1(t),a=Wr(o,e-ei)+ei;return n?xE(a,i):e3(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vle=BigInt(0),Zk=BigInt(1);function wM(t,e){const n=e.negate();return t?n:e}function Rke(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function bM(t,e){Rke(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function YWt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function QWt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const vM=new WeakMap,jke=new WeakMap;function xM(t){return jke.get(t)||1}function Oke(t,e){return{constTimeNegate:wM,hasPrecomputes(n){return xM(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Vle;)r&Zk&&(i=i.add(s)),s=s.double(),r>>=Zk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=bM(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=bM(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=Zk);const g=p,y=p+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?l=l.add(wM(w,r[g])):a=a.add(wM(v,r[y]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=bM(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let h=0;h<o;h++){const f=h*a;if(i===Vle)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=Zk),p===0)continue;let m=r[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=vM.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&vM.set(r,i(s))),s},wNAFCached(n,r,i){const s=xM(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=xM(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Rke(r,e),jke.set(n,r),vM.delete(n)}}}function Mke(t,e,n,r){if(YWt(n,t),QWt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Ike(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<r.length;p++){const m=r[p],g=Number(m>>BigInt(h)&BigInt(a));l[g]=l[g].add(n[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function $K(t){return VWt(t.Fp),Z3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$ke(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xu=BigInt(0),Aa=BigInt(1),Jk=BigInt(2),ZWt=BigInt(8),JWt={zip215:!0};function XWt(t){const e=$K(t);return Z3(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function eHt(t){const e=XWt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=Jk<<BigInt(a*8)-Aa,u=n.create,h=KN(e.n,e.nBitLength),f=e.uvRatio||((_,T)=>{try{return{isValid:!0,value:n.sqrt(_*n.inv(T))}}catch{return{isValid:!1,value:xu}}}),p=e.adjustScalarBytes||(_=>_),m=e.domain||((_,T,S)=>{if(Cp("phflag",S),T.length||S)throw new Error("Contexts/pre-hash are not supported");return _});function g(_,T){zc("coordinate "+_,T,xu,c)}function y(_){if(!(_ instanceof b))throw new Error("ExtendedPoint expected")}const w=EE((_,T)=>{const{ex:S,ey:P,ez:D}=_,O=_.is0();T==null&&(T=O?ZWt:n.inv(D));const I=u(S*T),B=u(P*T),Q=u(D*T);if(O)return{x:xu,y:Aa};if(Q!==Aa)throw new Error("invZ was invalid");return{x:I,y:B}}),v=EE(_=>{const{a:T,d:S}=e;if(_.is0())throw new Error("bad point: ZERO");const{ex:P,ey:D,ez:O,et:I}=_,B=u(P*P),Q=u(D*D),j=u(O*O),Y=u(j*j),ee=u(B*T),Z=u(j*u(ee+Q)),oe=u(Y+u(S*u(B*Q)));if(Z!==oe)throw new Error("bad point: equation left != right (1)");const de=u(P*D),ce=u(O*I);if(de!==ce)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(T,S,P,D){this.ex=T,this.ey=S,this.ez=P,this.et=D,g("x",T),g("y",S),g("z",P),g("t",D),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof b)throw new Error("extended point not allowed");const{x:S,y:P}=T||{};return g("x",S),g("y",P),new b(S,P,Aa,u(S*P))}static normalizeZ(T){const S=n.invertBatch(T.map(P=>P.ez));return T.map((P,D)=>P.toAffine(S[D])).map(b.fromAffine)}static msm(T,S){return Mke(b,h,T,S)}_setWindowSize(T){$.setWindowSize(this,T)}assertValidity(){v(this)}equals(T){y(T);const{ex:S,ey:P,ez:D}=this,{ex:O,ey:I,ez:B}=T,Q=u(S*B),j=u(O*D),Y=u(P*B),ee=u(I*D);return Q===j&&Y===ee}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=e,{ex:S,ey:P,ez:D}=this,O=u(S*S),I=u(P*P),B=u(Jk*u(D*D)),Q=u(T*O),j=S+P,Y=u(u(j*j)-O-I),ee=Q+I,Z=ee-B,oe=Q-I,de=u(Y*Z),ce=u(ee*oe),he=u(Y*oe),be=u(Z*ee);return new b(de,ce,be,he)}add(T){y(T);const{a:S,d:P}=e,{ex:D,ey:O,ez:I,et:B}=this,{ex:Q,ey:j,ez:Y,et:ee}=T;if(S===BigInt(-1)){const ve=u((O-D)*(j+Q)),Oe=u((O+D)*(j-Q)),Le=u(Oe-ve);if(Le===xu)return this.double();const Ce=u(I*Jk*ee),De=u(B*Jk*Y),We=De+Ce,rt=Oe+ve,G=De-Ce,U=u(We*Le),z=u(rt*G),X=u(We*G),ne=u(Le*rt);return new b(U,z,ne,X)}const Z=u(D*Q),oe=u(O*j),de=u(B*P*ee),ce=u(I*Y),he=u((D+O)*(Q+j)-Z-oe),be=ce-de,fe=ce+de,ke=u(oe-S*Z),we=u(he*be),Fe=u(fe*ke),Me=u(he*ke),Se=u(be*fe);return new b(we,Fe,Se,Me)}subtract(T){return this.add(T.negate())}wNAF(T){return $.wNAFCached(this,T,b.normalizeZ)}multiply(T){const S=T;zc("scalar",S,Aa,r);const{p:P,f:D}=this.wNAF(S);return b.normalizeZ([P,D])[0]}multiplyUnsafe(T,S=b.ZERO){const P=T;return zc("scalar",P,xu,r),P===xu?E:this.is0()||P===Aa?this:$.wNAFCachedUnsafe(this,P,b.normalizeZ,S)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(T){return w(this,T)}clearCofactor(){const{h:T}=e;return T===Aa?this:this.multiplyUnsafe(T)}static fromHex(T,S=!1){const{d:P,a:D}=e,O=n.BYTES;T=Fi("pointHex",T,O),Cp("zip215",S);const I=T.slice(),B=T[O-1];I[O-1]=B&-129;const Q=r2(I),j=S?c:n.ORDER;zc("pointHex.y",Q,xu,j);const Y=u(Q*Q),ee=u(Y-Aa),Z=u(P*Y-D);let{isValid:oe,value:de}=f(ee,Z);if(!oe)throw new Error("Point.fromHex: invalid y coordinate");const ce=(de&Aa)===Aa,he=(B&128)!==0;if(!S&&de===xu&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==ce&&(de=u(-de)),b.fromAffine({x:de,y:Q})}static fromPrivateKey(T){return M(T).point}toRawBytes(){const{x:T,y:S}=this.toAffine(),P=xE(S,n.BYTES);return P[P.length-1]|=T&Aa?128:0,P}toHex(){return lw(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Aa,u(e.Gx*e.Gy)),b.ZERO=new b(xu,Aa,Aa,xu);const{BASE:A,ZERO:E}=b,$=Oke(b,a*8);function N(_){return Wr(_,r)}function R(_){return N(r2(_))}function M(_){const T=n.BYTES;_=Fi("private key",_,T);const S=Fi("hashed private key",s(_),2*T),P=p(S.slice(0,T)),D=S.slice(T,2*T),O=R(P),I=A.multiply(O),B=I.toRawBytes();return{head:P,prefix:D,scalar:O,point:I,pointBytes:B}}function F(_){return M(_).pointBytes}function W(_=new Uint8Array,...T){const S=cw(...T);return R(s(m(S,Fi("context",_),!!i)))}function H(_,T,S={}){_=Fi("message",_),i&&(_=i(_));const{prefix:P,scalar:D,pointBytes:O}=M(T),I=W(S.context,P,_),B=A.multiply(I).toRawBytes(),Q=W(S.context,B,O,_),j=N(I+Q*D);zc("signature.s",j,xu,r);const Y=cw(B,xE(j,n.BYTES));return Fi("result",Y,n.BYTES*2)}const L=JWt;function k(_,T,S,P=L){const{context:D,zip215:O}=P,I=n.BYTES;_=Fi("signature",_,2*I),T=Fi("message",T),S=Fi("publicKey",S,I),O!==void 0&&Cp("zip215",O),i&&(T=i(T));const B=r2(_.slice(I,2*I));let Q,j,Y;try{Q=b.fromHex(S,O),j=b.fromHex(_.slice(0,I),O),Y=A.multiplyUnsafe(B)}catch{return!1}if(!O&&Q.isSmallOrder())return!1;const ee=W(D,j.toRawBytes(),Q.toRawBytes(),T);return j.add(Q.multiplyUnsafe(ee)).subtract(Y).clearCofactor().equals(b.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:H,verify:k,ExtendedPoint:b,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(n.BYTES),precompute(_=8,T=b.BASE){return T._setWindowSize(_),T.multiply(BigInt(3)),T}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NK=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qle=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const tHt=BigInt(1),Gle=BigInt(2);BigInt(3);const nHt=BigInt(5),rHt=BigInt(8);function iHt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=NK,a=t*t%s*t%s,l=oi(a,Gle,s)*a%s,c=oi(l,tHt,s)*t%s,u=oi(c,nHt,s)*c%s,h=oi(u,e,s)*u%s,f=oi(h,n,s)*h%s,p=oi(f,r,s)*f%s,m=oi(p,i,s)*p%s,g=oi(m,i,s)*p%s,y=oi(g,e,s)*u%s;return{pow_p_5_8:oi(y,Gle,s)*t%s,b2:a}}function sHt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function oHt(t,e){const n=NK,r=Wr(e*e*e,n),i=Wr(r*r*e,n),s=iHt(t*i).pow_p_5_8;let o=Wr(t*r*s,n);const a=Wr(e*o*o,n),l=o,c=Wr(o*qle,n),u=a===t,h=a===Wr(-t,n),f=a===Wr(-t*qle,n);return u&&(o=l),(h||f)&&(o=c),WWt(o,n)&&(o=Wr(-o,n)),{isValid:u||h,value:o}}const aHt=KN(NK,void 0,!0),lHt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:aHt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:rHt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:IWt,randomBytes:kke,adjustScalarBytes:sHt,uvRatio:oHt},PK=eHt(lHt);var bz={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=yn,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(bz,bz.exports);var Dke=bz.exports,Xk=Dke.Buffer;function cHt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=Xk.from(p)),!Xk.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,g=0,y=0,w=p.length;y!==w&&p[y]===0;)y++,m++;for(var v=(w-y)*c+1>>>0,b=new Uint8Array(v);y!==w;){for(var A=p[y],E=0,$=v-1;(A!==0||E<g)&&$!==-1;$--,E++)A+=256*b[$]>>>0,b[$]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");g=E,y++}for(var N=v-g;N!==v&&b[N]===0;)N++;for(var R=a.repeat(m);N<v;++N)R+=t.charAt(b[N]);return R}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return Xk.alloc(0);for(var m=0,g=0,y=0;p[m]===a;)g++,m++;for(var w=(p.length-m)*l+1>>>0,v=new Uint8Array(w);m<p.length;){var b=p.charCodeAt(m);if(b>255)return;var A=e[b];if(A===255)return;for(var E=0,$=w-1;(A!==0||E<y)&&$!==-1;$--,E++)A+=o*v[$]>>>0,v[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}for(var N=w-y;N!==w&&v[N]===0;)N++;var R=Xk.allocUnsafe(g+(w-N));R.fill(0,0,g);for(var M=g;N!==w;)R[M++]=v[N++];return R}function f(p){var m=h(p);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var uHt=cHt,dHt=uHt,hHt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",fHt=dHt(hHt);const Ko=Gs(fHt);function pHt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Bke(t,...e){if(!pHt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Kle(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mHt(t,e){Bke(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EM=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Vd=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function gHt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Lke(t){return typeof t=="string"&&(t=gHt(t)),Bke(t),t}class yHt{clone(){return this._cloneInto()}}function wHt(t){const e=r=>t().update(Lke(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function bHt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}const vHt=(t,e,n)=>t&e^~t&n,xHt=(t,e,n)=>t&e^t&n^e&n;class EHt extends yHt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=EM(this.buffer)}update(e){Kle(this);const{view:n,buffer:r,blockLen:i}=this;e=Lke(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=EM(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kle(this),mHt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;bHt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=EM(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const AHt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),j0=new Uint32Array(64);let CHt=class extends EHt{constructor(){super(64,32,8,!1),this.A=R0[0]|0,this.B=R0[1]|0,this.C=R0[2]|0,this.D=R0[3]|0,this.E=R0[4]|0,this.F=R0[5]|0,this.G=R0[6]|0,this.H=R0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)j0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=j0[h-15],p=j0[h-2],m=Vd(f,7)^Vd(f,18)^f>>>3,g=Vd(p,17)^Vd(p,19)^p>>>10;j0[h]=g+j0[h-7]+m+j0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Vd(a,6)^Vd(a,11)^Vd(a,25),p=u+f+vHt(a,l,c)+AHt[h]+j0[h]|0,g=(Vd(r,2)^Vd(r,13)^Vd(r,22))+xHt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){j0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Yle=wHt(()=>new CHt);var Bs={},e9=Dke.Buffer;function kHt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=e9.from(p)),!e9.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var m=0,g=0,y=0,w=p.length;y!==w&&p[y]===0;)y++,m++;for(var v=(w-y)*c+1>>>0,b=new Uint8Array(v);y!==w;){for(var A=p[y],E=0,$=v-1;(A!==0||E<g)&&$!==-1;$--,E++)A+=256*b[$]>>>0,b[$]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");g=E,y++}for(var N=v-g;N!==v&&b[N]===0;)N++;for(var R=a.repeat(m);N<v;++N)R+=t.charAt(b[N]);return R}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return e9.alloc(0);for(var m=0,g=0,y=0;p[m]===a;)g++,m++;for(var w=(p.length-m)*l+1>>>0,v=new Uint8Array(w);m<p.length;){var b=p.charCodeAt(m);if(b>255)return;var A=e[b];if(A===255)return;for(var E=0,$=w-1;(A!==0||E<y)&&$!==-1;$--,E++)A+=o*v[$]>>>0,v[$]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}for(var N=w-y;N!==w&&v[N]===0;)N++;var R=e9.allocUnsafe(g+(w-N));R.fill(0,0,g);for(var M=g;N!==w;)R[M++]=v[N++];return R}function f(p){var m=h(p);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var _Ht=kHt,SHt=_Ht,IHt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",THt=SHt(IHt);function ip(t,e,n){return e<=t&&t<=n}function YN(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function $Ht(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function NHt(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var J7=-1;function RK(t){this.tokens=[].slice.call(t)}RK.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():J7},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var t3=-1;function AM(t,e){if(t)throw TypeError("Decoder error");return e||65533}var X7="utf-8";function eI(t,e){if(!(this instanceof eI))return new eI(t,e);if(t=t!==void 0?String(t).toLowerCase():X7,t!==X7)throw new Error("Encoding not supported. Only utf-8 is supported");e=YN(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}eI.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=YN(n),this._streaming||(this._decoder=new PHt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new RK(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==t3);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===t3)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),NHt(s)}};function tI(t,e){if(!(this instanceof tI))return new tI(t,e);if(t=t!==void 0?String(t).toLowerCase():X7,t!==X7)throw new Error("Encoding not supported. Only utf-8 is supported");e=YN(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}tI.prototype={encode:function(e,n){e=e?String(e):"",n=YN(n),this._streaming||(this._encoder=new RHt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new RK($Ht(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==t3);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==t3;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function PHt(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===J7&&i!==0)return i=0,AM(e);if(l===J7)return t3;if(i===0){if(ip(l,0,127))return l;if(ip(l,194,223))i=1,n=l-192;else if(ip(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(ip(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return AM(e);return n=n<<6*i,null}if(!ip(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),AM(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function RHt(t){t.fatal,this.handler=function(e,n){if(n===J7)return t3;if(ip(n,0,127))return n;var r,i;ip(n,128,2047)?(r=1,i=192):ip(n,2048,65535)?(r=2,i=224):ip(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const jHt=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:eI,TextEncoder:tI},Symbol.toStringTag,{value:"Module"})),OHt=s3(jHt);var MHt=Wl&&Wl.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),DHt=Wl&&Wl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lf=Wl&&Wl.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},BHt=Wl&&Wl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&MHt(e,t,n);return DHt(e,t),e},Fke=Wl&&Wl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});var Uke=Bs.deserializeUnchecked=Gke=Bs.deserialize=qke=Bs.serialize=Bs.BinaryReader=Bs.BinaryWriter=Bs.BorshError=Bs.baseDecode=Bs.baseEncode=void 0;const Bm=Fke(m1e),zke=Fke(THt),LHt=BHt(OHt),FHt=typeof TextDecoder!="function"?LHt.TextDecoder:TextDecoder,UHt=new FHt("utf-8",{fatal:!0});function zHt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),zke.default.encode(Buffer.from(t))}Bs.baseEncode=zHt;function WHt(t){return Buffer.from(zke.default.decode(t))}Bs.baseDecode=WHt;const CM=1024;class ia extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Bs.BorshError=ia;class Wke{constructor(){this.buf=Buffer.alloc(CM),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(CM)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(CM)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Bs.BinaryWriter=Wke;function cf(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ia("Reached the end of buffer when deserializing")}throw s}}}class oc{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Bm.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Bm.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Bm.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Bm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ia(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return UHt.decode(n)}catch(r){throw new ia(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}lf([cf],oc.prototype,"readU8",null);lf([cf],oc.prototype,"readU16",null);lf([cf],oc.prototype,"readU32",null);lf([cf],oc.prototype,"readU64",null);lf([cf],oc.prototype,"readU128",null);lf([cf],oc.prototype,"readU256",null);lf([cf],oc.prototype,"readU512",null);lf([cf],oc.prototype,"readString",null);lf([cf],oc.prototype,"readFixedArray",null);lf([cf],oc.prototype,"readArray",null);Bs.BinaryReader=oc;function Hke(t){return t.charAt(0).toUpperCase()+t.slice(1)}function dy(t,e,n,r,i){try{if(typeof r=="string")i[`write${Hke(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new ia(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new ia(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)dy(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{dy(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),dy(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{dy(t,e,o,r.key,i),dy(t,e,s,r.value,i)});break}default:throw new ia(`FieldType ${r} unrecognized`)}else Vke(t,n,i)}catch(s){throw s instanceof ia&&s.addToFieldPath(e),s}}function Vke(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new ia(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{dy(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),dy(t,o,e[o],a,n);break}}}else throw new ia(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function HHt(t,e,n=Wke){const r=new n;return Vke(t,e,r),r.toArray()}var qke=Bs.serialize=HHt;function hy(t,e,n,r){try{if(typeof n=="string")return r[`read${Hke(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(hy(t,null,n[0],r));return i}else return r.readArray(()=>hy(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?hy(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=hy(t,e,n.key,r),l=hy(t,e,n.value,r);i.set(a,l)}return i}return jK(t,n,r)}catch(i){throw i instanceof ia&&i.addToFieldPath(e),i}}function jK(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new ia(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=hy(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new ia(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=hy(t,s,o,n);return new e({[s]:a})}throw new ia(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function VHt(t,e,n,r=oc){const i=new r(n),s=jK(t,e,i);if(i.offset<n.length)throw new ia(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var Gke=Bs.deserialize=VHt;function qHt(t,e,n,r=oc){const i=new r(n);return jK(t,e,i)}Uke=Bs.deserializeUnchecked=qHt;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.s16=Te.s8=Te.nu64be=Te.u48be=Te.u40be=Te.u32be=Te.u24be=Te.u16be=Ps=Te.nu64=Te.u48=Te.u40=Ot=Te.u32=Te.u24=Mc=Te.u16=Xn=Te.u8=k1=Te.offset=Te.greedy=Te.Constant=Te.UTF8=Te.CString=Te.Blob=Te.Boolean=Te.BitField=Te.BitStructure=Te.VariantLayout=Te.Union=Te.UnionLayoutDiscriminator=Te.UnionDiscriminator=Te.Structure=Te.Sequence=Te.DoubleBE=Te.Double=Te.FloatBE=Te.Float=Te.NearInt64BE=Te.NearInt64=Te.NearUInt64BE=Te.NearUInt64=Te.IntBE=Te.Int=Te.UIntBE=Te.UInt=Te.OffsetLayout=Te.GreedyCount=Te.ExternalLayout=Te.bindConstructorLayout=Te.nameWithProperty=Te.Layout=Te.uint8ArrayToBuffer=Te.checkUint8Array=void 0;Te.constant=Te.utf8=Te.cstr=Mr=Te.blob=Te.unionLayoutDiscriminator=Te.union=sa=Te.seq=Te.bits=It=Te.struct=Te.f64be=Te.f64=Te.f32be=Te.f32=Te.ns64be=Te.s48be=Te.s40be=Te.s32be=Te.s24be=Te.s16be=Pl=Te.ns64=Te.s48=Te.s40=Te.s32=Te.s24=void 0;const OK=yn;function J3(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Te.checkUint8Array=J3;function Jn(t){return J3(t),OK.Buffer.from(t.buffer,t.byteOffset,t.length)}Te.uint8ArrayToBuffer=Jn;class lr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Te.Layout=lr;function MK(t,e){return e.property?t+"["+e.property+"]":t}Te.nameWithProperty=MK;function GHt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof lr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Te.bindConstructorLayout=GHt;class Ba extends lr{isCount(){throw new Error("ExternalLayout is abstract")}}Te.ExternalLayout=Ba;class Kke extends Ba{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){J3(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Te.GreedyCount=Kke;class DK extends Ba{constructor(e,n=0,r){if(!(e instanceof lr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Gc||this.layout instanceof od}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Te.OffsetLayout=DK;class Gc extends lr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Jn(n).writeUIntLE(e,r,this.span),this.span}}Te.UInt=Gc;class od extends lr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Jn(n).writeUIntBE(e,r,this.span),this.span}}Te.UIntBE=od;class zw extends lr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readIntLE(n,this.span)}encode(e,n,r=0){return Jn(n).writeIntLE(e,r,this.span),this.span}}Te.Int=zw;class X3 extends lr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Jn(e).readIntBE(n,this.span)}encode(e,n,r=0){return Jn(n).writeIntBE(e,r,this.span),this.span}}Te.IntBE=X3;const vz=Math.pow(2,32);function QN(t){const e=Math.floor(t/vz),n=t-e*vz;return{hi32:e,lo32:n}}function ZN(t,e){return t*vz+e}class Yke extends lr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return ZN(s,i)}encode(e,n,r=0){const i=QN(e),s=Jn(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}Te.NearUInt64=Yke;class Qke extends lr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return ZN(i,s)}encode(e,n,r=0){const i=QN(e),s=Jn(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Te.NearUInt64BE=Qke;class Zke extends lr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return ZN(s,i)}encode(e,n,r=0){const i=QN(e),s=Jn(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}Te.NearInt64=Zke;class Jke extends lr{constructor(e){super(8,e)}decode(e,n=0){const r=Jn(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return ZN(i,s)}encode(e,n,r=0){const i=QN(e),s=Jn(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Te.NearInt64BE=Jke;class Xke extends lr{constructor(e){super(4,e)}decode(e,n=0){return Jn(e).readFloatLE(n)}encode(e,n,r=0){return Jn(n).writeFloatLE(e,r),4}}Te.Float=Xke;class e9e extends lr{constructor(e){super(4,e)}decode(e,n=0){return Jn(e).readFloatBE(n)}encode(e,n,r=0){return Jn(n).writeFloatBE(e,r),4}}Te.FloatBE=e9e;class t9e extends lr{constructor(e){super(8,e)}decode(e,n=0){return Jn(e).readDoubleLE(n)}encode(e,n,r=0){return Jn(n).writeDoubleLE(e,r),8}}Te.Double=t9e;class n9e extends lr{constructor(e){super(8,e)}decode(e,n=0){return Jn(e).readDoubleBE(n)}encode(e,n,r=0){return Jn(n).writeDoubleBE(e,r),8}}Te.DoubleBE=n9e;class r9e extends lr{constructor(e,n,r){if(!(e instanceof lr))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Ba&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Ba)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Ba&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Ba&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Ba&&this.count.encode(e.length,n,r),s}}Te.Sequence=r9e;class i9e extends lr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof lr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){J3(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Te.Structure=i9e;class BK{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Te.UnionDiscriminator=BK;class nI extends BK{constructor(e,n){if(!(e instanceof Ba&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Te.UnionLayoutDiscriminator=nI;class LK extends lr{constructor(e,n,r){let i;if(e instanceof Gc||e instanceof od)i=new nI(new DK(e));else if(e instanceof Ba&&e.isCount())i=new nI(e);else if(e instanceof BK)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof lr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Gc||e instanceof od)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Gc||e instanceof od,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new s9e(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Te.Union=LK;class s9e extends lr{constructor(e,n,r,i){if(!(e instanceof LK))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof lr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Te.VariantLayout=s9e;function Fb(t){return 0>t&&(t+=4294967296),t}class FK extends lr{constructor(e,n,r){if(!(e instanceof Gc||e instanceof od))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Fb(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new UK(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new o9e(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Te.BitStructure=FK;class UK{constructor(e,n,r){if(!(e instanceof FK))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Fb(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Fb(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Fb(e&this.valueMask))throw new TypeError(MK("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Fb(e<<this.start);this.container._packedSetValue(Fb(n&~this.wordMask)|r)}}Te.BitField=UK;let o9e=class extends UK{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Te.Boolean=o9e;let a9e=class extends lr{constructor(e,n){if(!(e instanceof Ba&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ba||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Jn(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Ba&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(MK("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Jn(e);return Jn(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Ba&&this.length.encode(i,n,r),i}};Te.Blob=a9e;class l9e extends lr{constructor(e){super(-1,e)}getSpan(e,n=0){J3(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Jn(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=OK.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Jn(n);return i.copy(o,r),o[r+s]=0,s+1}}Te.CString=l9e;class c9e extends lr{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return J3(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Jn(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=OK.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Jn(n),r),s}}Te.UTF8=c9e;class u9e extends lr{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Te.Constant=u9e;Te.greedy=(t,e)=>new Kke(t,e);var k1=Te.offset=(t,e,n)=>new DK(t,e,n),Xn=Te.u8=t=>new Gc(1,t),Mc=Te.u16=t=>new Gc(2,t);Te.u24=t=>new Gc(3,t);var Ot=Te.u32=t=>new Gc(4,t);Te.u40=t=>new Gc(5,t);Te.u48=t=>new Gc(6,t);var Ps=Te.nu64=t=>new Yke(t);Te.u16be=t=>new od(2,t);Te.u24be=t=>new od(3,t);Te.u32be=t=>new od(4,t);Te.u40be=t=>new od(5,t);Te.u48be=t=>new od(6,t);Te.nu64be=t=>new Qke(t);Te.s8=t=>new zw(1,t);Te.s16=t=>new zw(2,t);Te.s24=t=>new zw(3,t);Te.s32=t=>new zw(4,t);Te.s40=t=>new zw(5,t);Te.s48=t=>new zw(6,t);var Pl=Te.ns64=t=>new Zke(t);Te.s16be=t=>new X3(2,t);Te.s24be=t=>new X3(3,t);Te.s32be=t=>new X3(4,t);Te.s40be=t=>new X3(5,t);Te.s48be=t=>new X3(6,t);Te.ns64be=t=>new Jke(t);Te.f32=t=>new Xke(t);Te.f32be=t=>new e9e(t);Te.f64=t=>new t9e(t);Te.f64be=t=>new n9e(t);var It=Te.struct=(t,e,n)=>new i9e(t,e,n);Te.bits=(t,e,n)=>new FK(t,e,n);var sa=Te.seq=(t,e,n)=>new r9e(t,e,n);Te.union=(t,e,n)=>new LK(t,e,n);Te.unionLayoutDiscriminator=(t,e)=>new nI(t,e);var Mr=Te.blob=(t,e)=>new a9e(t,e);Te.cstr=t=>new l9e(t);Te.utf8=(t,e)=>new c9e(t,e);Te.constant=(t,e)=>new u9e(t,e);var KHt=8078e3,YHt=8078001,QHt=8078004,ZHt=8078005,JHt=8078006,XHt=8078011;function d9e(t){return Array.isArray(t)?"%5B"+t.map(d9e).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function eVt([t,e]){return`${t}=${d9e(e)}`}function tVt(t){const e=Object.entries(t).map(eVt).join("&");return btoa(e)}function nVt(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${tVt(e)}'`),`${n}\``}}var i2=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=nVt(e,r);super(s,i);Ee(this,"cause",this.cause);Ee(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function rVt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function iVt(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(rVt(e,t));return t.write(e,n,0),n}})}function sVt(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Nb(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function oVt(t,e){if(Nb(t)!==Nb(e))throw new i2(QHt);if(Nb(t)&&Nb(e)&&t.fixedSize!==e.fixedSize)throw new i2(ZHt,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Nb(t)&&!Nb(e)&&t.maxSize!==e.maxSize)throw new i2(JHt,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function aVt(t,e,n=0){if(e.length-n<=0)throw new i2(KHt,{codecDescription:t})}function lVt(t,e,n,r=0){const i=n.length-r;if(i<e)throw new i2(YHt,{bytesLength:i,codecDescription:t,expected:e})}function cVt(t,e,n,r){if(r<e||r>n)throw new i2(XHt,{codecDescription:t,max:n,min:e,value:r})}function h9e(t){return(t==null?void 0:t.endian)!==1}function uVt(t){return iVt({fixedSize:t.size,write(e,n,r){t.range&&cVt(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,h9e(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function dVt(t){return sVt({fixedSize:t.size,read(e,n=0){aVt(t.name,e,n),lVt(t.name,t.size,e,n);const r=new DataView(hVt(e,n,t.size));return[t.get(r,h9e(t.config)),n+t.size]}})}function hVt(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var fVt=(t={})=>uVt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),pVt=(t={})=>dVt({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),mVt=(t={})=>oVt(fVt(t),pVt(t));class gVt extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function yVt(t){return pC(t)&&typeof t[Symbol.iterator]=="function"}function pC(t){return typeof t=="object"&&t!=null}function rI(t){return pC(t)&&!Array.isArray(t)}function Cd(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function wVt(t){const{done:e,value:n}=t.next();return e?void 0:n}function bVt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Cd(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*Qle(t,e,n,r){yVt(t)||(t=[t]);for(const i of t){const s=bVt(i,e,n,r);s&&(yield s)}}function*zK(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,h]of e.entries(t,a)){const f=zK(u,h,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const p of f)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(u=p[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):pC(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let uf=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return Qle(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return Qle(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return vVt(e,this,n)}create(e,n){return AE(e,this,n)}is(e){return f9e(e,this)}mask(e,n){return xVt(e,this,n)}validate(e,n={}){return mC(e,this,n)}};function vVt(t,e,n){const r=mC(t,e,{message:n});if(r[0])throw r[0]}function AE(t,e,n){const r=mC(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function xVt(t,e,n){const r=mC(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function f9e(t,e){return!mC(t,e)[0]}function mC(t,e,n={}){const r=zK(t,e,n),i=wVt(r);return i[0]?[new gVt(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ww(t,e){return new uf({type:t,schema:null,validator:e})}function EVt(){return Ww("any",()=>!0)}function yt(t){return new uf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Cd(e)}`}})}function Xh(){return Ww("boolean",t=>typeof t=="boolean")}function WK(t){return Ww("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Cd(e)}`)}function Jr(t){const e=Cd(t),n=typeof t;return new uf({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Cd(r)}`}})}function AVt(){return Ww("never",()=>!1)}function wt(t){return new uf({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function _e(){return Ww("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Cd(t)}`)}function Rt(t){return new uf({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function p9e(t,e){return new uf({type:"record",schema:null,*entries(n){if(pC(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return rI(n)||`Expected an object, but received: ${Cd(n)}`},coercer(n){return rI(n)?{...n}:n}})}function nt(){return Ww("string",t=>typeof t=="string"||`Expected a string, but received: ${Cd(t)}`)}function HK(t){const e=AVt();return new uf({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Cd(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Ge(t){const e=Object.keys(t);return new uf({type:"type",schema:t,*entries(n){if(pC(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return rI(n)||`Expected an object, but received: ${Cd(n)}`},coercer(n){return rI(n)?{...n}:n}})}function ha(t){const e=t.map(n=>n.type).join(" | ");return new uf({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=zK(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Cd(n)}`,...i]}})}function e5(){return Ww("unknown",()=>!0)}function gC(t,e,n){return new uf({...t,coercer:(r,i)=>f9e(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const m9e=s3(Unt),CVt=m9e.v4,kVt=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return CVt()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var _Vt=kVt;const SVt=m9e.v4,IVt=_Vt,iI=function(t,e){if(!(this instanceof iI))return new iI(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return SVt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};iI.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=IVt(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){i._parseResponse(c,u,r)}),s};iI.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var TVt={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(TVt);const $Vt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M0=new Uint32Array(64);class NVt extends _ke{constructor(){super(64,32,8,!1),this.A=O0[0]|0,this.B=O0[1]|0,this.C=O0[2]|0,this.D=O0[3]|0,this.E=O0[4]|0,this.F=O0[5]|0,this.G=O0[6]|0,this.H=O0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)M0[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const f=M0[h-15],p=M0[h-2],m=Hd(f,7)^Hd(f,18)^f>>>3,g=Hd(p,17)^Hd(p,19)^p>>>10;M0[h]=g+M0[h-7]+m+M0[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Hd(a,6)^Hd(a,11)^Hd(a,25),p=u+f+nWt(a,l,c)+$Vt[h]+M0[h]|0,g=(Hd(r,2)^Hd(r,13)^Hd(r,22))+rWt(r,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){M0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const PVt=Cke(()=>new NVt);class g9e extends Ake{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Zzt(e);const r=SK(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Z7(this),this.iHash.update(e),this}digestInto(e){Z7(this),HN(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const y9e=(t,e,n)=>new g9e(t,e).update(n).digest();y9e.create=(t,e)=>new g9e(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zle(t){t.lowS!==void 0&&Cp("lowS",t.lowS),t.prehash!==void 0&&Cp("prehash",t.prehash)}function RVt(t){const e=$K(t);Z3(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:jVt,hexToBytes:OVt}=BWt;class MVt extends Error{constructor(e=""){super(e)}}const Wf={Err:MVt,_tlv:{encode:(t,e)=>{const{Err:n}=Wf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ev(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ev(i.length/2|128):"";return Ev(t)+s+i+e},decode(t,e){const{Err:n}=Wf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Wf;if(t<sp)throw new e("integer: negative integers are not allowed");let n=Ev(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Wf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jVt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Wf,i=typeof t=="string"?OVt(t):t;fC(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Wf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},sp=BigInt(0),ps=BigInt(1);BigInt(2);const Jle=BigInt(3);BigInt(4);function DVt(t){const e=RVt(t),{Fp:n}=e,r=KN(e.n,e.nBitLength),i=e.toBytes||((g,y,w)=>{const v=y.toAffine();return cw(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=e.fromBytes||(g=>{const y=g.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),v=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:v}});function o(g){const{a:y,b:w}=e,v=n.sqr(g),b=n.mul(v,g);return n.add(n.add(b,n.mul(g,y)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return GN(g,ps,e.n)}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:v,n:b}=e;if(y&&typeof g!="bigint"){if(aw(g)&&(g=lw(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let A;try{A=typeof g=="bigint"?g:C1(Fi("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return v&&(A=Wr(A,b)),zc("private key",A,ps,b),A}function c(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}const u=EE((g,y)=>{const{px:w,py:v,pz:b}=g;if(n.eql(b,n.ONE))return{x:w,y:v};const A=g.is0();y==null&&(y=A?n.ONE:n.inv(b));const E=n.mul(w,y),$=n.mul(v,y),N=n.mul(b,y);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:E,y:$}}),h=EE(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=g.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const v=n.sqr(w),b=o(y);if(!n.eql(v,b))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(y,w,v){if(this.px=y,this.py=w,this.pz=v,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:w,y:v}=y||{};if(!y||!n.isValid(w)||!n.isValid(v))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const b=A=>n.eql(A,n.ZERO);return b(w)&&b(v)?f.ZERO:new f(w,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(w[b])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(s(Fi("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(l(y))}static msm(y,w){return Mke(f,r,y,w)}_setWindowSize(y){m.setWindowSize(this,y)}assertValidity(){h(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:w,py:v,pz:b}=this,{px:A,py:E,pz:$}=y,N=n.eql(n.mul(w,$),n.mul(A,b)),R=n.eql(n.mul(v,$),n.mul(E,b));return N&&R}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,v=n.mul(w,Jle),{px:b,py:A,pz:E}=this;let $=n.ZERO,N=n.ZERO,R=n.ZERO,M=n.mul(b,b),F=n.mul(A,A),W=n.mul(E,E),H=n.mul(b,A);return H=n.add(H,H),R=n.mul(b,E),R=n.add(R,R),$=n.mul(y,R),N=n.mul(v,W),N=n.add($,N),$=n.sub(F,N),N=n.add(F,N),N=n.mul($,N),$=n.mul(H,$),R=n.mul(v,R),W=n.mul(y,W),H=n.sub(M,W),H=n.mul(y,H),H=n.add(H,R),R=n.add(M,M),M=n.add(R,M),M=n.add(M,W),M=n.mul(M,H),N=n.add(N,M),W=n.mul(A,E),W=n.add(W,W),M=n.mul(W,H),$=n.sub($,M),R=n.mul(W,F),R=n.add(R,R),R=n.add(R,R),new f($,N,R)}add(y){c(y);const{px:w,py:v,pz:b}=this,{px:A,py:E,pz:$}=y;let N=n.ZERO,R=n.ZERO,M=n.ZERO;const F=e.a,W=n.mul(e.b,Jle);let H=n.mul(w,A),L=n.mul(v,E),k=n.mul(b,$),C=n.add(w,v),_=n.add(A,E);C=n.mul(C,_),_=n.add(H,L),C=n.sub(C,_),_=n.add(w,b);let T=n.add(A,$);return _=n.mul(_,T),T=n.add(H,k),_=n.sub(_,T),T=n.add(v,b),N=n.add(E,$),T=n.mul(T,N),N=n.add(L,k),T=n.sub(T,N),M=n.mul(F,_),N=n.mul(W,k),M=n.add(N,M),N=n.sub(L,M),M=n.add(L,M),R=n.mul(N,M),L=n.add(H,H),L=n.add(L,H),k=n.mul(F,k),_=n.mul(W,_),L=n.add(L,k),k=n.sub(H,k),k=n.mul(F,k),_=n.add(_,k),H=n.mul(L,_),R=n.add(R,H),H=n.mul(T,_),N=n.mul(C,N),N=n.sub(N,H),H=n.mul(C,L),M=n.mul(T,M),M=n.add(M,H),new f(N,R,M)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,y,f.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:v}=e;zc("scalar",y,sp,v);const b=f.ZERO;if(y===sp)return b;if(this.is0()||y===ps)return this;if(!w||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,y,f.normalizeZ);let{k1neg:A,k1:E,k2neg:$,k2:N}=w.splitScalar(y),R=b,M=b,F=this;for(;E>sp||N>sp;)E&ps&&(R=R.add(F)),N&ps&&(M=M.add(F)),F=F.double(),E>>=ps,N>>=ps;return A&&(R=R.negate()),$&&(M=M.negate()),M=new f(n.mul(M.px,w.beta),M.py,M.pz),R.add(M)}multiply(y){const{endo:w,n:v}=e;zc("scalar",y,ps,v);let b,A;if(w){const{k1neg:E,k1:$,k2neg:N,k2:R}=w.splitScalar(y);let{p:M,f:F}=this.wNAF($),{p:W,f:H}=this.wNAF(R);M=m.constTimeNegate(E,M),W=m.constTimeNegate(N,W),W=new f(n.mul(W.px,w.beta),W.py,W.pz),b=M.add(W),A=F.add(H)}else{const{p:E,f:$}=this.wNAF(y);b=E,A=$}return f.normalizeZ([b,A])[0]}multiplyAndAddUnsafe(y,w,v){const b=f.BASE,A=($,N)=>N===sp||N===ps||!$.equals(b)?$.multiplyUnsafe(N):$.multiply(N),E=A(this,w).add(A(y,v));return E.is0()?void 0:E}toAffine(y){return u(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===ps)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===ps?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return Cp("isCompressed",y),this.assertValidity(),i(f,this,y)}toHex(y=!0){return Cp("isCompressed",y),lw(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,m=Oke(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function BVt(t){const e=$K(t);return Z3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function LVt(t){const e=BVt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(k){return Wr(k,r)}function a(k){return wz(k,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=DVt({...e,toBytes(k,C,_){const T=C.toAffine(),S=n.toBytes(T.x),P=cw;return Cp("isCompressed",_),_?P(Uint8Array.from([C.hasEvenY()?2:3]),S):P(Uint8Array.from([4]),S,n.toBytes(T.y))},fromBytes(k){const C=k.length,_=k[0],T=k.subarray(1);if(C===i&&(_===2||_===3)){const S=C1(T);if(!GN(S,ps,n.ORDER))throw new Error("Point is not on curve");const P=u(S);let D;try{D=n.sqrt(P)}catch(B){const Q=B instanceof Error?": "+B.message:"";throw new Error("Point is not on curve"+Q)}const O=(D&ps)===ps;return(_&1)===1!==O&&(D=n.neg(D)),{x:S,y:D}}else if(C===s&&_===4){const S=n.fromBytes(T.subarray(0,n.BYTES)),P=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:S,y:P}}else{const S=i,P=s;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+P+", got "+C)}}}),f=k=>lw(e3(k,e.nByteLength));function p(k){const C=r>>ps;return k>C}function m(k){return p(k)?o(-k):k}const g=(k,C,_)=>C1(k.slice(C,_));class y{constructor(C,_,T){this.r=C,this.s=_,this.recovery=T,this.assertValidity()}static fromCompact(C){const _=e.nByteLength;return C=Fi("compactSignature",C,_*2),new y(g(C,0,_),g(C,_,2*_))}static fromDER(C){const{r:_,s:T}=Wf.toSig(Fi("DER",C));return new y(_,T)}assertValidity(){zc("r",this.r,ps,r),zc("s",this.s,ps,r)}addRecoveryBit(C){return new y(this.r,this.s,C)}recoverPublicKey(C){const{r:_,s:T,recovery:S}=this,P=$(Fi("msgHash",C));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const D=S===2||S===3?_+e.n:_;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const O=S&1?"03":"02",I=l.fromHex(O+f(D)),B=a(D),Q=o(-P*B),j=o(T*B),Y=l.BASE.multiplyAndAddUnsafe(I,Q,j);if(!Y)throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Xx(this.toDERHex())}toDERHex(){return Wf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xx(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const w={isValidPrivateKey(k){try{return c(k),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const k=Pke(e.n);return KWt(e.randomBytes(k),e.n)},precompute(k=8,C=l.BASE){return C._setWindowSize(k),C.multiply(BigInt(3)),C}};function v(k,C=!0){return l.fromPrivateKey(k).toRawBytes(C)}function b(k){const C=aw(k),_=typeof k=="string",T=(C||_)&&k.length;return C?T===i||T===s:_?T===2*i||T===2*s:k instanceof l}function A(k,C,_=!0){if(b(k))throw new Error("first arg must be private key");if(!b(C))throw new Error("second arg must be public key");return l.fromHex(C).multiply(c(k)).toRawBytes(_)}const E=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const C=C1(k),_=k.length*8-e.nBitLength;return _>0?C>>BigInt(_):C},$=e.bits2int_modN||function(k){return o(E(k))},N=TK(e.nBitLength);function R(k){return zc("num < 2^"+e.nBitLength,k,sp,N),e3(k,e.nByteLength)}function M(k,C,_=F){if(["recovered","canonical"].some(Z=>Z in _))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:S}=e;let{lowS:P,prehash:D,extraEntropy:O}=_;P==null&&(P=!0),k=Fi("msgHash",k),Zle(_),D&&(k=Fi("prehashed msgHash",T(k)));const I=$(k),B=c(C),Q=[R(B),R(I)];if(O!=null&&O!==!1){const Z=O===!0?S(n.BYTES):O;Q.push(Fi("extraEntropy",Z))}const j=cw(...Q),Y=I;function ee(Z){const oe=E(Z);if(!h(oe))return;const de=a(oe),ce=l.BASE.multiply(oe).toAffine(),he=o(ce.x);if(he===sp)return;const be=o(de*o(Y+he*B));if(be===sp)return;let fe=(ce.x===he?0:2)|Number(ce.y&ps),ke=be;return P&&p(be)&&(ke=m(be),fe^=1),new y(he,ke,fe)}return{seed:j,k2sig:ee}}const F={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function H(k,C,_=F){const{seed:T,k2sig:S}=M(k,C,_),P=e;return Tke(P.hash.outputLen,P.nByteLength,P.hmac)(T,S)}l.BASE._setWindowSize(8);function L(k,C,_,T=W){var fe;const S=k;C=Fi("msgHash",C),_=Fi("publicKey",_);const{lowS:P,prehash:D,format:O}=T;if(Zle(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(O!==void 0&&O!=="compact"&&O!=="der")throw new Error("format must be compact or der");const I=typeof S=="string"||aw(S),B=!I&&!O&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!I&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,j;try{if(B&&(Q=new y(S.r,S.s)),I){try{O!=="compact"&&(Q=y.fromDER(S))}catch(ke){if(!(ke instanceof Wf.Err))throw ke}!Q&&O!=="der"&&(Q=y.fromCompact(S))}j=l.fromHex(_)}catch{return!1}if(!Q||P&&Q.hasHighS())return!1;D&&(C=e.hash(C));const{r:Y,s:ee}=Q,Z=$(C),oe=a(ee),de=o(Z*oe),ce=o(Y*oe),he=(fe=l.BASE.multiplyAndAddUnsafe(j,de,ce))==null?void 0:fe.toAffine();return he?o(he.x)===Y:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:A,sign:H,verify:L,ProjectivePoint:l,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function FVt(t){return{hash:t,hmac:(e,...n)=>y9e(t,e,eWt(...n)),randomBytes:kke}}function UVt(t,e){const n=r=>LVt({...t,...FVt(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w9e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),zVt=BigInt(1),xz=BigInt(2),ece=(t,e)=>(t+e/xz)/e;function WVt(t){const e=w9e,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=oi(u,n,e)*u%e,f=oi(h,n,e)*u%e,p=oi(f,xz,e)*c%e,m=oi(p,i,e)*p%e,g=oi(m,s,e)*m%e,y=oi(g,a,e)*g%e,w=oi(y,l,e)*y%e,v=oi(w,a,e)*g%e,b=oi(v,n,e)*u%e,A=oi(b,o,e)*m%e,E=oi(A,r,e)*c%e,$=oi(E,xz,e);if(!Ez.eql(Ez.sqr($),t))throw new Error("Cannot find square root");return $}const Ez=KN(w9e,void 0,void 0,{sqrt:WVt}),HVt=UVt({a:BigInt(0),b:BigInt(7),Fp:Ez,n:Xle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Xle,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-zVt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=ece(s*t,e),l=ece(-r*t,e);let c=Wr(t-a*n-l*i,e),u=Wr(-a*r-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},PVt);BigInt(0);function tce(t){try{return PK.ExtendedPoint.fromHex(t),!0}catch{return!1}}const b9e=(t,e)=>PK.sign(t,e.slice(0,32)),VVt=PK.verify,VK=t=>yn.Buffer.isBuffer(t)?t:t instanceof Uint8Array?yn.Buffer.from(t.buffer,t.byteOffset,t.byteLength):yn.Buffer.from(t);class qVt{constructor(e){Object.assign(this,e)}encode(){return yn.Buffer.from(qke(b_,this))}static decode(e){return Gke(b_,this,e)}static decodeUnchecked(e){return Uke(b_,this,e)}}const b_=new Map;var v9e;const GVt=32,eg=32;function KVt(t){return t._bn!==void 0}let nce=1;class nn extends qVt{constructor(e){if(super({}),this._bn=void 0,KVt(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Ko.decode(e);if(n.length!=eg)throw new Error("Invalid public key input");this._bn=new zt(n)}else this._bn=new zt(e);if(this._bn.byteLength()>eg)throw new Error("Invalid public key input")}}static unique(){const e=new nn(nce);return nce+=1,new nn(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ko.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(yn.Buffer);if(e.length===eg)return e;const n=yn.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=yn.Buffer.concat([e.toBuffer(),yn.Buffer.from(n),r.toBuffer()]),s=Yle(i);return new nn(s)}static createProgramAddressSync(e,n){let r=yn.Buffer.alloc(0);e.forEach(function(s){if(s.length>GVt)throw new TypeError("Max seed length exceeded");r=yn.Buffer.concat([r,VK(s)])}),r=yn.Buffer.concat([r,n.toBuffer(),yn.Buffer.from("ProgramDerivedAddress")]);const i=Yle(r);if(tce(i))throw new Error("Invalid seeds, address must fall off the curve");return new nn(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(yn.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new nn(e);return tce(n.toBytes())}}v9e=nn;nn.default=new v9e("11111111111111111111111111111111");b_.set(nn,{kind:"struct",fields:[["_bn","u256"]]});new nn("BPFLoader1111111111111111111111111111111111");const s2=1232,qK=127,sI=64;class oI{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Tn=(t="publicKey")=>Mr(32,t),YVt=(t="signature")=>Mr(64,t),Av=(t="string")=>{const e=It([Ot("length"),Ot("lengthPadding"),Mr(k1(Ot(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:yn.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>Ot().span+Ot().span+yn.Buffer.from(s,"utf8").length,i},QVt=(t="authorized")=>It([Tn("staker"),Tn("withdrawer")],t),ZVt=(t="lockup")=>It([Pl("unixTimestamp"),Pl("epoch"),Tn("custodian")],t),JVt=(t="voteInit")=>It([Tn("nodePubkey"),Tn("authorizedVoter"),Tn("authorizedWithdrawer"),Xn("commission")],t),XVt=(t="voteAuthorizeWithSeedArgs")=>It([Ot("voteAuthorizationType"),Tn("currentAuthorityDerivedKeyOwnerPubkey"),Av("currentAuthorityDerivedKeySeed"),Tn("newAuthorized")],t);function Rl(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function jl(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Ji(t,e){if(!t)throw new Error(e||"Assertion failed")}class JN{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new JN(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ji(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Ji(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Ji(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new nn(l)),...r.map(([l])=>new nn(l)),...i.map(([l])=>new nn(l)),...s.map(([l])=>new nn(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new nn(s),l=e.findIndex(c=>c.equals(a));l>=0&&(Ji(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const x9e="Reached end of buffer unexpectedly";function op(t){if(t.length===0)throw new Error(x9e);return t.shift()}function Ol(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(x9e);return t.splice(...e)}class n3{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new nn(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ko.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new oI(this.staticAccountKeys)}static compile(e){const n=JN.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new oI(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ko.encode(a.data)}));return new n3({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];jl(n,e);const r=this.instructions.map(h=>{const{accounts:f,programIdIndex:p}=h,m=Array.from(Ko.decode(h.data));let g=[];jl(g,f.length);let y=[];return jl(y,m.length),{programIdIndex:p,keyIndicesCount:yn.Buffer.from(g),keyIndices:f,dataLength:yn.Buffer.from(y),data:m}});let i=[];jl(i,r.length);let s=yn.Buffer.alloc(s2);yn.Buffer.from(i).copy(s);let o=i.length;r.forEach(h=>{const p=It([Xn("programIdIndex"),Mr(h.keyIndicesCount.length,"keyIndicesCount"),sa(Xn("keyIndex"),h.keyIndices.length,"keyIndices"),Mr(h.dataLength.length,"dataLength"),sa(Xn("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=p}),s=s.slice(0,o);const a=It([Mr(1,"numRequiredSignatures"),Mr(1,"numReadonlySignedAccounts"),Mr(1,"numReadonlyUnsignedAccounts"),Mr(n.length,"keyCount"),sa(Tn("key"),e,"keys"),Tn("recentBlockhash")]),l={numRequiredSignatures:yn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yn.Buffer.from(n),keys:this.accountKeys.map(h=>VK(h.toBytes())),recentBlockhash:Ko.decode(this.recentBlockhash)};let c=yn.Buffer.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=op(n);if(r!==(r&qK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=op(n),s=op(n),o=Rl(n);let a=[];for(let f=0;f<o;f++){const p=Ol(n,0,eg);a.push(new nn(yn.Buffer.from(p)))}const l=Ol(n,0,eg),c=Rl(n);let u=[];for(let f=0;f<c;f++){const p=op(n),m=Rl(n),g=Ol(n,0,m),y=Rl(n),w=Ol(n,0,y),v=Ko.encode(yn.Buffer.from(w));u.push({programIdIndex:p,accounts:g,data:v})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Ko.encode(yn.Buffer.from(l)),accountKeys:a,instructions:u};return new n3(h)}}class aI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new oI(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=JN.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const h=n.extractTableLookup(u);if(h!==void 0){const[f,{writable:p,readonly:m}]=h;r.push(f),i.writable.push(...p),i.readonly.push(...m)}}const[o,a]=n.getMessageComponents(),c=new oI(a,i).compileInstructions(e.instructions);return new aI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();jl(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();jl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();jl(s,this.addressTableLookups.length);const o=It([Xn("prefix"),It([Xn("numRequiredSignatures"),Xn("numReadonlySignedAccounts"),Xn("numReadonlyUnsignedAccounts")],"header"),Mr(e.length,"staticAccountKeysLength"),sa(Tn(),this.staticAccountKeys.length,"staticAccountKeys"),Tn("recentBlockhash"),Mr(r.length,"instructionsLength"),Mr(n.length,"serializedInstructions"),Mr(s.length,"addressTableLookupsLength"),Mr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(s2),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Ko.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(s2);for(const r of this.compiledInstructions){const i=Array();jl(i,r.accountKeyIndexes.length);const s=Array();jl(s,r.data.length);const o=It([Xn("programIdIndex"),Mr(i.length,"encodedAccountKeyIndexesLength"),sa(Xn(),r.accountKeyIndexes.length,"accountKeyIndexes"),Mr(s.length,"encodedDataLength"),Mr(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(s2);for(const r of this.addressTableLookups){const i=Array();jl(i,r.writableIndexes.length);const s=Array();jl(s,r.readonlyIndexes.length);const o=It([Tn("accountKey"),Mr(i.length,"encodedWritableIndexesLength"),sa(Xn(),r.writableIndexes.length,"writableIndexes"),Mr(s.length,"encodedReadonlyIndexesLength"),sa(Xn(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=op(n),i=r&qK;Ji(r!==i,"Expected versioned message but received legacy message");const s=i;Ji(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:op(n),numReadonlySignedAccounts:op(n),numReadonlyUnsignedAccounts:op(n)},a=[],l=Rl(n);for(let m=0;m<l;m++)a.push(new nn(Ol(n,0,eg)));const c=Ko.encode(Ol(n,0,eg)),u=Rl(n),h=[];for(let m=0;m<u;m++){const g=op(n),y=Rl(n),w=Ol(n,0,y),v=Rl(n),b=new Uint8Array(Ol(n,0,v));h.push({programIdIndex:g,accountKeyIndexes:w,data:b})}const f=Rl(n),p=[];for(let m=0;m<f;m++){const g=new nn(Ol(n,0,eg)),y=Rl(n),w=Ol(n,0,y),v=Rl(n),b=Ol(n,0,v);p.push({accountKey:g,writableIndexes:w,readonlyIndexes:b})}return new aI({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:h,addressTableLookups:p})}}const GK={deserializeMessageVersion(t){const e=t[0],n=e&qK;return n===e?"legacy":n},deserialize:t=>{const e=GK.deserializeMessageVersion(t);if(e==="legacy")return n3.from(t);if(e===0)return aI.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},eqt=yn.Buffer.alloc(sI).fill(0);class rce{constructor(e){this.keys=void 0,this.programId=void 0,this.data=yn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class lI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new rce(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const i=[],s=[];n.forEach(g=>{g.keys.forEach(w=>{s.push({...w})});const y=g.programId.toString();i.includes(y)||i.push(y)}),i.forEach(g=>{s.push({pubkey:new nn(g),isSigner:!1,isWritable:!1})});const o=[];s.forEach(g=>{const y=g.pubkey.toString(),w=o.findIndex(v=>v.pubkey.toString()===y);w>-1?(o[w].isWritable=o[w].isWritable||g.isWritable,o[w].isSigner=o[w].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",w)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=o.findIndex(w=>w.pubkey.equals(g.publicKey));if(y>-1)o[y].isSigner||(o[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,u=0;const h=[],f=[];o.forEach(({pubkey:g,isSigner:y,isWritable:w})=>{y?(h.push(g.toString()),l+=1,w||(c+=1)):(f.push(g.toString()),w||(u+=1))});const p=h.concat(f),m=n.map(g=>{const{data:y,programId:w}=g;return{programIdIndex:p.indexOf(w.toString()),accounts:g.keys.map(v=>p.indexOf(v.pubkey.toString())),data:Ko.encode(y)}});return m.forEach(g=>{Ji(g.programIdIndex>=0),g.accounts.forEach(y=>Ji(y>=0))}),new n3({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:p,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=b9e(r,i.secretKey);this._addSignature(i.publicKey,VK(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Ji(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=yn.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):VVt(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];jl(r,n.length);const i=r.length+n.length*64+e.length,s=yn.Buffer.alloc(i);return Ji(n.length<256),yn.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Ji(o.length===64,"signature has invalid length"),yn.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Ji(s.length<=s2,`Transaction too large: ${s.length} > ${s2}`),s}get keys(){return Ji(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ji(this.instructions.length===1),this.instructions[0].programId}get data(){return Ji(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Rl(n);let i=[];for(let s=0;s<r;s++){const o=Ol(n,0,sI);i.push(Ko.encode(yn.Buffer.from(o)))}return lI.populate(n3.from(n),i)}static populate(e,n=[]){const r=new lI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Ko.encode(eqt)?null:Ko.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new rce({keys:s,programId:e.accountKeys[i.programIdIndex],data:Ko.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class KK{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Ji(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(sI));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();jl(n,this.signatures.length);const r=It([Mr(n.length,"encodedSignaturesLength"),sa(YVt(),this.signatures.length,"signatures"),Mr(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Rl(n);for(let o=0;o<i;o++)r.push(new Uint8Array(Ol(n,0,sI)));const s=GK.deserialize(new Uint8Array(n));return new KK(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));Ji(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=b9e(n,i.secretKey)}}addSignature(e,n){Ji(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ji(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}new nn("SysvarC1ock11111111111111111111111111111111");new nn("SysvarEpochSchedu1e111111111111111111111111");new nn("Sysvar1nstructions1111111111111111111111111");new nn("SysvarRecentB1ockHashes11111111111111111111");new nn("SysvarRent111111111111111111111111111111111");new nn("SysvarRewards111111111111111111111111111111");new nn("SysvarS1otHashes111111111111111111111111111");new nn("SysvarS1otHistory11111111111111111111111111");new nn("SysvarStakeHistory1111111111111111111111111");const tqt=Ps("lamportsPerSignature"),nqt=It([Ot("version"),Ot("state"),Tn("authorizedPubkey"),Tn("nonce"),It([tqt],"feeCalculator")]);nqt.span;function r3(t){const e=Mr(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=mVt();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:It([Ot("instruction"),Pl("lamports"),Pl("space"),Tn("programId")])},Assign:{index:1,layout:It([Ot("instruction"),Tn("programId")])},Transfer:{index:2,layout:It([Ot("instruction"),r3("lamports")])},CreateWithSeed:{index:3,layout:It([Ot("instruction"),Tn("base"),Av("seed"),Pl("lamports"),Pl("space"),Tn("programId")])},AdvanceNonceAccount:{index:4,layout:It([Ot("instruction")])},WithdrawNonceAccount:{index:5,layout:It([Ot("instruction"),Pl("lamports")])},InitializeNonceAccount:{index:6,layout:It([Ot("instruction"),Tn("authorized")])},AuthorizeNonceAccount:{index:7,layout:It([Ot("instruction"),Tn("authorized")])},Allocate:{index:8,layout:It([Ot("instruction"),Pl("space")])},AllocateWithSeed:{index:9,layout:It([Ot("instruction"),Tn("base"),Av("seed"),Pl("space"),Tn("programId")])},AssignWithSeed:{index:10,layout:It([Ot("instruction"),Tn("base"),Av("seed"),Tn("programId")])},TransferWithSeed:{index:11,layout:It([Ot("instruction"),r3("lamports"),Av("seed"),Tn("programId")])},UpgradeNonceAccount:{index:12,layout:It([Ot("instruction")])}});new nn("11111111111111111111111111111111");new nn("BPFLoader2111111111111111111111111111111111");It([Ot("typeIndex"),r3("deactivationSlot"),Ps("lastExtendedSlot"),Xn("lastExtendedStartIndex"),Xn(),sa(Tn(),k1(Xn(),-1),"authority")]);const gi=gC(WK(nn),nt(),t=>new nn(t)),E9e=HK([nt(),Jr("base64")]),YK=gC(WK(yn.Buffer),E9e,t=>yn.Buffer.from(t[0],"base64"));function A9e(t){return ha([Ge({jsonrpc:Jr("2.0"),id:nt(),result:t}),Ge({jsonrpc:Jr("2.0"),id:nt(),error:Ge({code:e5(),message:nt(),data:Rt(EVt())})})])}const rqt=A9e(e5());function Sr(t){return gC(A9e(t),rqt,e=>"error"in e?e:{...e,result:AE(e.result,t)})}function $d(t){return Sr(Ge({context:Ge({slot:_e()}),value:t}))}function XN(t){return Ge({context:Ge({slot:_e()}),value:t})}const iqt=Ge({foundation:_e(),foundationTerm:_e(),initial:_e(),taper:_e(),terminal:_e()});Sr(yt(wt(Ge({epoch:_e(),effectiveSlot:_e(),amount:_e(),postBalance:_e(),commission:Rt(wt(_e()))}))));const sqt=yt(Ge({slot:_e(),prioritizationFee:_e()})),oqt=Ge({total:_e(),validator:_e(),foundation:_e(),epoch:_e()}),aqt=Ge({epoch:_e(),slotIndex:_e(),slotsInEpoch:_e(),absoluteSlot:_e(),blockHeight:Rt(_e()),transactionCount:Rt(_e())}),lqt=Ge({slotsPerEpoch:_e(),leaderScheduleSlotOffset:_e(),warmup:Xh(),firstNormalEpoch:_e(),firstNormalSlot:_e()}),cqt=p9e(nt(),yt(_e())),Hw=wt(ha([Ge({}),nt()])),uqt=Ge({err:Hw}),dqt=Jr("receivedSignature");Ge({"solana-core":nt(),"feature-set":Rt(_e())});const hqt=Ge({program:nt(),programId:gi,parsed:e5()}),fqt=Ge({programId:gi,accounts:yt(gi),data:nt()});$d(Ge({err:wt(ha([Ge({}),nt()])),logs:wt(yt(nt())),accounts:Rt(wt(yt(wt(Ge({executable:Xh(),owner:nt(),lamports:_e(),data:yt(nt()),rentEpoch:Rt(_e())}))))),unitsConsumed:Rt(_e()),returnData:Rt(wt(Ge({programId:nt(),data:HK([nt(),Jr("base64")])}))),innerInstructions:Rt(wt(yt(Ge({index:_e(),instructions:yt(ha([hqt,fqt]))}))))}));$d(Ge({byIdentity:p9e(nt(),yt(_e())),range:Ge({firstSlot:_e(),lastSlot:_e()})}));Sr(iqt);Sr(oqt);Sr(sqt);Sr(aqt);Sr(lqt);Sr(cqt);Sr(_e());$d(Ge({total:_e(),circulating:_e(),nonCirculating:_e(),nonCirculatingAccounts:yt(gi)}));const pqt=Ge({amount:nt(),uiAmount:wt(_e()),decimals:_e(),uiAmountString:Rt(nt())});$d(yt(Ge({address:gi,amount:nt(),uiAmount:wt(_e()),decimals:_e(),uiAmountString:Rt(nt())})));$d(yt(Ge({pubkey:gi,account:Ge({executable:Xh(),owner:gi,lamports:_e(),data:YK,rentEpoch:_e()})})));const Az=Ge({program:nt(),parsed:e5(),space:_e()});$d(yt(Ge({pubkey:gi,account:Ge({executable:Xh(),owner:gi,lamports:_e(),data:Az,rentEpoch:_e()})})));$d(yt(Ge({lamports:_e(),address:gi})));const QK=Ge({executable:Xh(),owner:gi,lamports:_e(),data:YK,rentEpoch:_e()});Ge({pubkey:gi,account:QK});const mqt=gC(ha([WK(yn.Buffer),Az]),ha([E9e,Az]),t=>Array.isArray(t)?AE(t,YK):t),gqt=Ge({executable:Xh(),owner:gi,lamports:_e(),data:mqt,rentEpoch:_e()});Ge({pubkey:gi,account:gqt});Ge({state:ha([Jr("active"),Jr("inactive"),Jr("activating"),Jr("deactivating")]),active:_e(),inactive:_e()});Sr(yt(Ge({signature:nt(),slot:_e(),err:Hw,memo:wt(nt()),blockTime:Rt(wt(_e()))})));Sr(yt(Ge({signature:nt(),slot:_e(),err:Hw,memo:wt(nt()),blockTime:Rt(wt(_e()))})));Ge({subscription:_e(),result:XN(QK)});const yqt=Ge({pubkey:gi,account:QK});Ge({subscription:_e(),result:XN(yqt)});const wqt=Ge({parent:_e(),slot:_e(),root:_e()});Ge({subscription:_e(),result:wqt});const bqt=ha([Ge({type:ha([Jr("firstShredReceived"),Jr("completed"),Jr("optimisticConfirmation"),Jr("root")]),slot:_e(),timestamp:_e()}),Ge({type:Jr("createdBank"),parent:_e(),slot:_e(),timestamp:_e()}),Ge({type:Jr("frozen"),slot:_e(),timestamp:_e(),stats:Ge({numTransactionEntries:_e(),numSuccessfulTransactions:_e(),numFailedTransactions:_e(),maxTransactionsPerEntry:_e()})}),Ge({type:Jr("dead"),slot:_e(),timestamp:_e(),err:nt()})]);Ge({subscription:_e(),result:bqt});Ge({subscription:_e(),result:XN(ha([uqt,dqt]))});Ge({subscription:_e(),result:_e()});Ge({pubkey:nt(),gossip:wt(nt()),tpu:wt(nt()),rpc:wt(nt()),version:wt(nt())});const ice=Ge({votePubkey:nt(),nodePubkey:nt(),activatedStake:_e(),epochVoteAccount:Xh(),epochCredits:yt(HK([_e(),_e(),_e()])),commission:_e(),lastVote:_e(),rootSlot:wt(_e())});Sr(Ge({current:yt(ice),delinquent:yt(ice)}));const vqt=ha([Jr("processed"),Jr("confirmed"),Jr("finalized")]),xqt=Ge({slot:_e(),confirmations:wt(_e()),err:Hw,confirmationStatus:Rt(vqt)});$d(yt(wt(xqt)));Sr(_e());const C9e=Ge({accountKey:gi,writableIndexes:yt(_e()),readonlyIndexes:yt(_e())}),ZK=Ge({signatures:yt(nt()),message:Ge({accountKeys:yt(nt()),header:Ge({numRequiredSignatures:_e(),numReadonlySignedAccounts:_e(),numReadonlyUnsignedAccounts:_e()}),instructions:yt(Ge({accounts:yt(_e()),data:nt(),programIdIndex:_e()})),recentBlockhash:nt(),addressTableLookups:Rt(yt(C9e))})}),k9e=Ge({pubkey:gi,signer:Xh(),writable:Xh(),source:Rt(ha([Jr("transaction"),Jr("lookupTable")]))}),_9e=Ge({accountKeys:yt(k9e),signatures:yt(nt())}),S9e=Ge({parsed:e5(),program:nt(),programId:gi}),I9e=Ge({accounts:yt(gi),data:nt(),programId:gi}),Eqt=ha([I9e,S9e]),Aqt=ha([Ge({parsed:e5(),program:nt(),programId:nt()}),Ge({accounts:yt(nt()),data:nt(),programId:nt()})]),T9e=gC(Eqt,Aqt,t=>"accounts"in t?AE(t,I9e):AE(t,S9e)),$9e=Ge({signatures:yt(nt()),message:Ge({accountKeys:yt(k9e),instructions:yt(T9e),recentBlockhash:nt(),addressTableLookups:Rt(wt(yt(C9e)))})}),cI=Ge({accountIndex:_e(),mint:nt(),owner:Rt(nt()),programId:Rt(nt()),uiTokenAmount:pqt}),N9e=Ge({writable:yt(gi),readonly:yt(gi)}),eP=Ge({err:Hw,fee:_e(),innerInstructions:Rt(wt(yt(Ge({index:_e(),instructions:yt(Ge({accounts:yt(_e()),data:nt(),programIdIndex:_e()}))})))),preBalances:yt(_e()),postBalances:yt(_e()),logMessages:Rt(wt(yt(nt()))),preTokenBalances:Rt(wt(yt(cI))),postTokenBalances:Rt(wt(yt(cI))),loadedAddresses:Rt(N9e),computeUnitsConsumed:Rt(_e()),costUnits:Rt(_e())}),JK=Ge({err:Hw,fee:_e(),innerInstructions:Rt(wt(yt(Ge({index:_e(),instructions:yt(T9e)})))),preBalances:yt(_e()),postBalances:yt(_e()),logMessages:Rt(wt(yt(nt()))),preTokenBalances:Rt(wt(yt(cI))),postTokenBalances:Rt(wt(yt(cI))),loadedAddresses:Rt(N9e),computeUnitsConsumed:Rt(_e()),costUnits:Rt(_e())}),t5=ha([Jr(0),Jr("legacy")]),Vw=Ge({pubkey:nt(),lamports:_e(),postBalance:wt(_e()),rewardType:wt(nt()),commission:Rt(wt(_e()))});Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ge({transaction:ZK,meta:wt(eP),version:Rt(t5)})),rewards:Rt(yt(Vw)),blockTime:wt(_e()),blockHeight:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),rewards:Rt(yt(Vw)),blockTime:wt(_e()),blockHeight:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ge({transaction:_9e,meta:wt(eP),version:Rt(t5)})),rewards:Rt(yt(Vw)),blockTime:wt(_e()),blockHeight:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ge({transaction:$9e,meta:wt(JK),version:Rt(t5)})),rewards:Rt(yt(Vw)),blockTime:wt(_e()),blockHeight:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ge({transaction:_9e,meta:wt(JK),version:Rt(t5)})),rewards:Rt(yt(Vw)),blockTime:wt(_e()),blockHeight:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),rewards:Rt(yt(Vw)),blockTime:wt(_e()),blockHeight:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),transactions:yt(Ge({transaction:ZK,meta:wt(eP)})),rewards:Rt(yt(Vw)),blockTime:wt(_e())})));Sr(wt(Ge({blockhash:nt(),previousBlockhash:nt(),parentSlot:_e(),signatures:yt(nt()),blockTime:wt(_e())})));Sr(wt(Ge({slot:_e(),meta:wt(eP),blockTime:Rt(wt(_e())),transaction:ZK,version:Rt(t5)})));Sr(wt(Ge({slot:_e(),transaction:$9e,meta:wt(JK),blockTime:Rt(wt(_e())),version:Rt(t5)})));$d(Ge({blockhash:nt(),lastValidBlockHeight:_e()}));$d(Xh());const Cqt=Ge({slot:_e(),numTransactions:_e(),numSlots:_e(),samplePeriodSecs:_e()});Sr(yt(Cqt));$d(wt(Ge({feeCalculator:Ge({lamportsPerSignature:_e()})})));Sr(nt());Sr(nt());const kqt=Ge({err:Hw,logs:yt(nt()),signature:nt()});Ge({result:XN(kqt),subscription:_e()});Object.freeze({CreateLookupTable:{index:0,layout:It([Ot("instruction"),r3("recentSlot"),Xn("bumpSeed")])},FreezeLookupTable:{index:1,layout:It([Ot("instruction")])},ExtendLookupTable:{index:2,layout:It([Ot("instruction"),r3(),sa(Tn(),k1(Ot(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:It([Ot("instruction")])},CloseLookupTable:{index:4,layout:It([Ot("instruction")])}});new nn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:It([Xn("instruction"),Ot("units"),Ot("additionalFee")])},RequestHeapFrame:{index:1,layout:It([Xn("instruction"),Ot("bytes")])},SetComputeUnitLimit:{index:2,layout:It([Xn("instruction"),Ot("units")])},SetComputeUnitPrice:{index:3,layout:It([Xn("instruction"),r3("microLamports")])}});new nn("ComputeBudget111111111111111111111111111111");It([Xn("numSignatures"),Xn("padding"),Mc("signatureOffset"),Mc("signatureInstructionIndex"),Mc("publicKeyOffset"),Mc("publicKeyInstructionIndex"),Mc("messageDataOffset"),Mc("messageDataSize"),Mc("messageInstructionIndex")]);new nn("Ed25519SigVerify111111111111111111111111111");HVt.utils.isValidPrivateKey;It([Xn("numSignatures"),Mc("signatureOffset"),Xn("signatureInstructionIndex"),Mc("ethAddressOffset"),Xn("ethAddressInstructionIndex"),Mc("messageDataOffset"),Mc("messageDataSize"),Xn("messageInstructionIndex"),Mr(20,"ethAddress"),Mr(64,"signature"),Xn("recoveryId")]);new nn("KeccakSecp256k11111111111111111111111111111");var P9e;new nn("StakeConfig11111111111111111111111111111111");class R9e{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}P9e=R9e;R9e.default=new P9e(0,0,nn.default);Object.freeze({Initialize:{index:0,layout:It([Ot("instruction"),QVt(),ZVt()])},Authorize:{index:1,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("stakeAuthorizationType")])},Delegate:{index:2,layout:It([Ot("instruction")])},Split:{index:3,layout:It([Ot("instruction"),Pl("lamports")])},Withdraw:{index:4,layout:It([Ot("instruction"),Pl("lamports")])},Deactivate:{index:5,layout:It([Ot("instruction")])},Merge:{index:7,layout:It([Ot("instruction")])},AuthorizeWithSeed:{index:8,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("stakeAuthorizationType"),Av("authoritySeed"),Tn("authorityOwner")])}});new nn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:It([Ot("instruction"),JVt()])},Authorize:{index:1,layout:It([Ot("instruction"),Tn("newAuthorized"),Ot("voteAuthorizationType")])},Withdraw:{index:3,layout:It([Ot("instruction"),Pl("lamports")])},UpdateValidatorIdentity:{index:4,layout:It([Ot("instruction")])},AuthorizeWithSeed:{index:10,layout:It([Ot("instruction"),XVt()])}});new nn("Vote111111111111111111111111111111111111111");new nn("Va1idator1nfo111111111111111111111111111111");Ge({name:nt(),website:Rt(nt()),details:Rt(nt()),iconUrl:Rt(nt()),keybaseUsername:Rt(nt())});new nn("Vote111111111111111111111111111111111111111");It([Tn("nodePubkey"),Tn("authorizedWithdrawer"),Xn("commission"),Ps(),sa(It([Ps("slot"),Ot("confirmationCount")]),k1(Ot(),-8),"votes"),Xn("rootSlotValid"),Ps("rootSlot"),Ps(),sa(It([Ps("epoch"),Tn("authorizedVoter")]),k1(Ot(),-8),"authorizedVoters"),It([sa(It([Tn("authorizedPubkey"),Ps("epochOfLastAuthorizedSwitch"),Ps("targetEpoch")]),32,"buf"),Ps("idx"),Xn("isEmpty")],"priorVoters"),Ps(),sa(It([Ps("epoch"),Ps("credits"),Ps("prevCredits")]),k1(Ot(),-8),"epochCredits"),It([Ps("slot"),Ps("timestamp")],"lastTimestamp")]);const _qt=t=>({request:t,signMessage:e=>t({method:"signMessage",params:{message:e}}),signTransaction:e=>t({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>t({method:"signAndSendTransaction",params:e})});function sce(t){return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64")}function Sqt(t){const e=Buffer.from(t,"base64");return GK.deserializeMessageVersion(e)==="legacy"?KK.deserialize(e):lI.from(e)}function Iqt(t){return async n=>{if(n.method==="connect")return await t(n);if(n.method==="signMessage")return await t(n);if(n.method==="signAndSendTransaction"){const{transaction:r}=n.params,i={transaction:sce(r)};return await t({method:"signAndSendTransaction",params:i})}if(n.method==="signTransaction"){const{transaction:r}=n.params,i={transaction:sce(r)},{signedTransaction:s}=await t({method:"signTransaction",params:i});return{signedTransaction:Sqt(s)}}}}const Tqt=({miniAppHost:t,emitter:e})=>{let n,r=null;return{visible:!1,get onback(){return r},set onback(i){r&&e.removeListener("backNavigationTriggered",r),r=i,i&&e.addListener("backNavigationTriggered",i)},async show(){await t.updateBackState({visible:!0}),this.visible=!0},async hide(){await t.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){n=$qt({back:this,emitter:e})},async disableWebNavigation(){n==null||n(),n=void 0}}};function $qt({emitter:t,back:e}){const n=Nqt();if(n)return Pqt({emitter:t,back:e,navigation:n});if(typeof window<"u")return Rqt({emitter:t,back:e,window})}function Nqt(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function Pqt({emitter:t,back:e,navigation:n}){function r(){n.canGoBack?e.show():e.hide()}function i(){e.visible&&n.canGoBack&&n.back()}return n.addEventListener("navigatesuccess",r),t.addListener("backNavigationTriggered",i),()=>{n.removeEventListener("navigatesuccess",r),t.removeListener("backNavigationTriggered",i)}}function Rqt({emitter:t,back:e,window:n}){e.show();function r(){e.visible&&n.history.back()}return t.addListener("backNavigationTriggered",r),()=>{t.removeListener("backNavigationTriggered",r)}}var j9e={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(b=1,v=new Array(w-1);b<w;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var A=y.length,E;for(b=0;b<A;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,h);break;case 4:y[b].fn.call(y[b].context,u,h,f);break;default:if(!v)for(E=1,v=new Array(w-1);E<w;E++)v[E-1]=arguments[E];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var g=0,y=[],w=m.length;g<w;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(j9e);var jqt=j9e.exports;const O9e=Gs(jqt),Oqt="0.1.1";function Mqt(){return Oqt}let Dqt=class Cz extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof Cz){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Cz&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Mqt()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return M9e(this,e)}};function M9e(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?M9e(t.cause,e):e?null:t}function D9e(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error){const{code:i}=r.error,s=i===i3.code?i3:i===CE.code?CE:i===RE.code?RE:i===NE.code?NE:i===TE.code?TE:i===PE.code?PE:i===IE.code?IE:i===jE.code?jE:i===kE.code?kE:i===_E.code?_E:i===SE.code?SE:i===$E.code?$E:cl;throw new s(r.error)}return r.result}let cl=class extends Error{constructor(e){const{code:n,message:r,data:i}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.data=i}};class CE extends cl{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:CE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(CE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class kE extends cl{constructor(e={}){super({message:"Requested resource not found.",...e,code:kE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(kE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class _E extends cl{constructor(e={}){super({message:"Requested resource not available.",...e,code:_E.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(_E,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class SE extends cl{constructor(e={}){super({message:"Transaction creation failed.",...e,code:SE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(SE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class IE extends cl{constructor(e={}){super({message:"Method is not implemented.",...e,code:IE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(IE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class TE extends cl{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:TE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(TE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class $E extends cl{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:$E.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty($E,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class NE extends cl{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:NE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(NE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class PE extends cl{constructor(e={}){super({message:"Method does not exist.",...e,code:PE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(PE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class RE extends cl{constructor(e={}){super({message:"Invalid method parameters.",...e,code:RE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(RE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class i3 extends cl{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:i3.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(i3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class jE extends cl{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:jE.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(jE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class qw extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class B9e extends qw{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(B9e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class L9e extends qw{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(L9e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class F9e extends qw{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(F9e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class U9e extends qw{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(U9e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class z9e extends qw{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(z9e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function Bqt(){const t=new O9e;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function Lqt(t,e={}){var r,i;const{includeEvents:n=!0}=e;if(!t)throw new Fqt;return{...n?{on:(r=t.on)==null?void 0:r.bind(t),removeListener:(i=t.removeListener)==null?void 0:i.bind(t)}:{},async request(s){const o=await t.request(s);return o&&typeof o=="object"&&"jsonrpc"in o?D9e(o):o}}}class Fqt extends Dqt{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function Uqt(t={}){let e=t.id??0;return{prepare(n){return zqt({id:e++,...n})},get id(){return e}}}function zqt(t){return{...t,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W9e=Symbol("Comlink.proxy"),Wqt=Symbol("Comlink.endpoint"),Hqt=Symbol("Comlink.releaseProxy"),kM=Symbol("Comlink.finalizer"),v_=Symbol("Comlink.thrown"),H9e=t=>typeof t=="object"&&t!==null||typeof t=="function",Vqt={canHandle:t=>H9e(t)&&t[W9e],serialize(t){const{port1:e,port2:n}=new MessageChannel;return q9e(t,e),[n,[n]]},deserialize(t){return t.start(),K9e(t)}},qqt={canHandle:t=>H9e(t)&&v_ in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},V9e=new Map([["proxy",Vqt],["throw",qqt]]);function Gqt(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function q9e(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!Gqt(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:s,type:o,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(fy);let c;try{const u=a.slice(0,-1).reduce((f,p)=>f[p],t),h=a.reduce((f,p)=>f[p],t);switch(o){case"GET":c=h;break;case"SET":u[a.slice(-1)[0]]=fy(i.data.value),c=!0;break;case"APPLY":c=h.apply(u,l);break;case"CONSTRUCT":{const f=new h(...l);c=Xqt(f)}break;case"ENDPOINT":{const{port1:f,port2:p}=new MessageChannel;q9e(t,p),c=Jqt(f,[f])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[v_]:0}}Promise.resolve(c).catch(u=>({value:u,[v_]:0})).then(u=>{const[h,f]=hI(u);e.postMessage(Object.assign(Object.assign({},h),{id:s}),f),o==="RELEASE"&&(e.removeEventListener("message",r),G9e(e),kM in t&&typeof t[kM]=="function"&&t[kM]())}).catch(u=>{const[h,f]=hI({value:new TypeError("Unserializable return value"),[v_]:0});e.postMessage(Object.assign(Object.assign({},h),{id:s}),f)})}),e.start&&e.start()}function Kqt(t){return t.constructor.name==="MessagePort"}function G9e(t){Kqt(t)&&t.close()}function K9e(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:s}=i;if(!s||!s.id)return;const o=n.get(s.id);if(o)try{o(s)}finally{n.delete(s.id)}}),kz(t,n,[],e)}function t9(t){if(t)throw new Error("Proxy has been released and is not useable")}function Y9e(t){return Ub(t,new Map,{type:"RELEASE"}).then(()=>{G9e(t)})}const uI=new WeakMap,dI="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(uI.get(t)||0)-1;uI.set(t,e),e===0&&Y9e(t)});function Yqt(t,e){const n=(uI.get(e)||0)+1;uI.set(e,n),dI&&dI.register(t,e,t)}function Qqt(t){dI&&dI.unregister(t)}function kz(t,e,n=[],r=function(){}){let i=!1;const s=new Proxy(r,{get(o,a){if(t9(i),a===Hqt)return()=>{Qqt(s),Y9e(t),e.clear(),i=!0};if(a==="then"){if(n.length===0)return{then:()=>s};const l=Ub(t,e,{type:"GET",path:n.map(c=>c.toString())}).then(fy);return l.then.bind(l)}return kz(t,e,[...n,a])},set(o,a,l){t9(i);const[c,u]=hI(l);return Ub(t,e,{type:"SET",path:[...n,a].map(h=>h.toString()),value:c},u).then(fy)},apply(o,a,l){t9(i);const c=n[n.length-1];if(c===Wqt)return Ub(t,e,{type:"ENDPOINT"}).then(fy);if(c==="bind")return kz(t,e,n.slice(0,-1));const[u,h]=oce(l);return Ub(t,e,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:u},h).then(fy)},construct(o,a){t9(i);const[l,c]=oce(a);return Ub(t,e,{type:"CONSTRUCT",path:n.map(u=>u.toString()),argumentList:l},c).then(fy)}});return Yqt(s,t),s}function Zqt(t){return Array.prototype.concat.apply([],t)}function oce(t){const e=t.map(hI);return[e.map(n=>n[0]),Zqt(e.map(n=>n[1]))]}const Q9e=new WeakMap;function Jqt(t,e){return Q9e.set(t,e),t}function Xqt(t){return Object.assign(t,{[W9e]:!0})}function eGt(t,e=globalThis,n="*"){return{postMessage:(r,i)=>t.postMessage(r,n,i),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function hI(t){for(const[e,n]of V9e)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},Q9e.get(t)||[]]}function fy(t){switch(t.type){case"HANDLER":return V9e.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Ub(t,e,n,r){return new Promise(i=>{const s=tGt();e.set(s,i),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}function tGt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const nGt={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},rGt={postMessage:t=>{window.ReactNativeWebView.postMessage(JSON.stringify(t))},addEventListener:(t,e,...n)=>{document.addEventListener("FarcasterFrameCallback",e,...n)},removeEventListener:(t,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},iGt=typeof window>"u"?nGt:window!=null&&window.ReactNativeWebView?rGt:eGt((window==null?void 0:window.parent)??window),tn=K9e(iGt),XK=Bqt(),sGt=Uqt();function oGt({code:t,details:e}){switch(t){case 4001:return new B9e;case 4100:return new L9e;case 4200:return new F9e;case 4900:return new U9e;case 4901:return new z9e;default:return new qw(t,e??"Unknown provider RPC error")}}const OE=Lqt({...XK,async request(t){const e=sGt.prepare(t);try{const n=await tn.ethProviderRequestV2(e).then(r=>D9e(r,{request:e,raw:!0}));if(n.error)throw oGt(n.error);return n.result}catch(n){if(n instanceof Error&&n.message.match(/cannot read property 'apply'/i))return await tn.ethProviderRequest(e);throw n instanceof qw||n instanceof cl?n:new i3({message:n instanceof Error?n.message:void 0})}}});async function aGt(){try{const t=await tn.getCapabilities();return!t.includes("wallet.getEthereumProvider")&&!t.includes("wallet.getEvmProvider")?void 0:OE}catch{return OE}}function Z9e(t){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(t)});window.dispatchEvent(e);const n=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{tn.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",t=>{if(t instanceof MessageEvent){const e=t.data;XK.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="eip6963:announceProvider"&&Z9e({info:e.info,provider:OE})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{tn.eip6963RequestProvider()}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEthProviderEvent"){const e=t.data;XK.emit(e.event,...e.params)}}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="eip6963:announceProvider"&&Z9e({info:e.info,provider:OE})}}));new TextEncoder;const J9e=new TextDecoder,lGt=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},cGt=t=>{let e=t;e instanceof Uint8Array&&(e=J9e.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return lGt(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},uGt=cGt;function dGt(t){return typeof t=="object"&&t!==null}function hGt(t){if(!dGt(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}class wa extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}wa.code="ERR_JOSE_GENERIC";class fGt extends wa{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}fGt.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class pGt extends wa{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}pGt.code="ERR_JWT_EXPIRED";class mGt extends wa{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}mGt.code="ERR_JOSE_ALG_NOT_ALLOWED";class gGt extends wa{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}gGt.code="ERR_JOSE_NOT_SUPPORTED";class yGt extends wa{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}yGt.code="ERR_JWE_DECRYPTION_FAILED";class wGt extends wa{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}wGt.code="ERR_JWE_INVALID";class bGt extends wa{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}bGt.code="ERR_JWS_INVALID";class U0 extends wa{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}U0.code="ERR_JWT_INVALID";class vGt extends wa{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}vGt.code="ERR_JWK_INVALID";class xGt extends wa{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}xGt.code="ERR_JWKS_INVALID";class EGt extends wa{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}EGt.code="ERR_JWKS_NO_MATCHING_KEY";class AGt extends wa{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}AGt.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class CGt extends wa{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}CGt.code="ERR_JWKS_TIMEOUT";class kGt extends wa{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}kGt.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function _Gt(t){if(typeof t!="string")throw new U0("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new U0("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new U0("Invalid JWT");if(!e)throw new U0("JWTs must contain a payload");let r;try{r=uGt(e)}catch{throw new U0("Failed to base64url decode the payload")}let i;try{i=JSON.parse(J9e.decode(r))}catch{throw new U0("Failed to parse the decoded payload as JSON")}if(!hGt(i))throw new U0("Invalid JWT Claims Set");return i}function SGt(t){return _Gt(t)}class tP extends Error{constructor(e,n={}){const r=(()=>{var s;if(n.cause instanceof tP){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details})(),i=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(s=>typeof s=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.cause=n.cause,this.details=r,this.shortMessage=e}}class X9e extends tP{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class IGt extends tP{constructor(e){super(e),this.name="InvalidToken"}}async function TGt({origin:t}){const e=await fetch(`${t}/nonce`,{method:"POST"});if(!e.ok)throw new X9e({status:e.status});return await e.json()}async function $Gt({origin:t},e){const n=await fetch(`${t}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!n.ok)throw new X9e({status:n.status});const r=await n.json();if(r.valid===!1)throw new IGt(r.message??"unknown");return{token:r.token}}function NGt(t={}){return{origin:t.origin??"https://auth.farcaster.xyz"}}function PGt(t={}){const e=NGt(t);return{generateNonce:()=>TGt(e),verifySiwf:n=>$Gt(e,n)}}const RGt=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,jGt=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function OGt(t){var h,f,p;const{scheme:e,statement:n,...r}=((h=t.match(RGt))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(jGt))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const ace=(()=>{let t,e;async function n(r){const i=PGt({origin:r.quickAuthServerOrigin}),{nonce:s}=await i.generateNonce(),o=await tn.signIn({nonce:s,acceptAuthAddress:!0});if(o.result){const a=OGt(o.result.message);if(!a.domain)throw new Error("Missing domain on SIWE message");const l=await i.verifySiwf({domain:a.domain,message:o.result.message,signature:o.result.signature});return t={token:l.token,payload:SGt(l.token)},l}throw o.error.type==="rejected_by_user"?new wke:new Error("Unreachable")}return{get token(){if(t&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3))return t.token},async getToken(r={}){const i=r.force??!1;return t&&!i&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:t.token}:(e||(e=n(r)),e.finally(()=>{e=void 0}),e)},async fetch(r,i){const{token:s}=await this.getToken(),o=new Headers(i==null?void 0:i.headers);return o.set("Authorization",`Bearer ${s}`),fetch(r,{...i,headers:o})}}})();function MGt(){const t=new O9e;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}const Eo=MGt(),{solanaProviderRequest:lce}=tn;let e_e;lce&&(e_e=_qt(Iqt(lce)));async function cce(){let t;try{t=await tn.getCapabilities()}catch{}if(t!=null&&t.includes("wallet.getSolanaProvider"))return e_e}let uce=null;async function DGt(t=1e3){if(uce===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([tn.context.then(n=>!!n),new Promise(n=>{setTimeout(()=>n(!1),t)})]).catch(()=>!1);return e&&(uce=!0),e}const dce=async()=>{const t=await tn.addFrame();if(t.result)return t.result;throw t.error.type==="invalid_domain_manifest"?new izt:t.error.type==="rejected_by_user"?new szt:new Error("Unreachable")},t_e={...Eo,getCapabilities:tn.getCapabilities,getChains:tn.getChains,isInMiniApp:DGt,context:tn.context,back:Tqt({miniAppHost:tn,emitter:Eo}),quickAuth:ace,actions:{setPrimaryButton:tn.setPrimaryButton.bind(tn),ready:async(t={})=>await tn.ready(t),close:tn.close.bind(tn),viewCast:tn.viewCast.bind(tn),viewProfile:tn.viewProfile.bind(tn),openMiniApp:tn.openMiniApp.bind(tn),signIn:async t=>{const e=await tn.signIn({...t,acceptAuthAddress:t.acceptAuthAddress??!0});if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new wke:new Error("Unreachable")},openUrl:t=>{const e=typeof t=="string"?t:t.url;return tn.openUrl(e.trim())},addFrame:dce,addMiniApp:dce,composeCast(t={}){return tn.composeCast(t)},viewToken:tn.viewToken.bind(tn),sendToken:tn.sendToken.bind(tn),swapToken:tn.swapToken.bind(tn),requestCameraAndMicrophoneAccess:tn.requestCameraAndMicrophoneAccess.bind(tn)},experimental:{getSolanaProvider:cce,signManifest:async t=>{const e=await tn.signManifest(t);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new ozt:e.error.type==="invalid_domain"?new azt:e.error.type==="generic_error"?new lzt(e.error.message):new Error("Unreachable")},quickAuth(t){return ace.getToken(t)}},wallet:{ethProvider:OE,getEthereumProvider:aGt,getSolanaProvider:cce},haptics:{impactOccurred:tn.impactOccurred.bind(tn),notificationOccurred:tn.notificationOccurred.bind(tn),selectionChanged:tn.selectionChanged.bind(tn)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="primary_button_clicked"?Eo.emit("primaryButtonClicked"):e.event==="miniapp_added"?Eo.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Eo.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Eo.emit("miniAppRemoved"):e.event==="notifications_enabled"?Eo.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Eo.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Eo.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="primary_button_clicked"?Eo.emit("primaryButtonClicked"):e.event==="miniapp_added"?Eo.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Eo.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Eo.emit("miniAppRemoved"):e.event==="notifications_enabled"?Eo.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Eo.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Eo.emit("backNavigationTriggered")}});function BGt(){return x.useEffect(()=>{t_e.actions.ready()},[]),null}const LGt=()=>{const t=cr();ma();const[e,n]=x.useState(!1),[r,i]=x.useState(0);x.useEffect(()=>{const a=setTimeout(()=>{n(!0)},500),l=setInterval(()=>{i(c=>(c+1)%3)},2e3);return()=>{clearTimeout(a),clearInterval(l)}},[]);const s=x.useCallback(()=>{t("/deposit")},[t]),o=[{icon:EQ,text:"Welcome Bonus Ready"},{icon:xQ,text:"1 Lighter Point Waiting"},{icon:HIe,text:"Join Elite Farmers"}];return d.jsxs("div",{className:"min-h-screen bg-background overflow-hidden relative",children:[d.jsx(mw,{children:e&&d.jsx(d.Fragment,{children:[...Array(20)].map((a,l)=>d.jsx(me.div,{className:"absolute w-2 h-2 bg-[#D4B679] rounded-full z-10",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},initial:{scale:0,rotate:0,opacity:0},animate:{scale:[0,1,0],rotate:[0,360,720],opacity:[0,1,0],y:[-50,50,-50],x:[-25,25,-25]},transition:{duration:3,repeat:1/0,delay:l*.1,ease:"easeInOut"}},l))})}),d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-6 relative z-20",children:[d.jsxs(me.div,{initial:{opacity:0,y:-50,scale:.5},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-8",children:[d.jsx("div",{className:"relative mb-6",children:d.jsx("img",{src:qr,alt:"LighterFarm",className:"w-auto h-20 mx-auto"})}),d.jsx(me.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-[#D4B679] mb-2",children:"Congratulations!"}),d.jsx(me.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-lg text-[#D4B679]/80",children:"Welcome to the LighterFarm Elite!"})]}),d.jsxs(me.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7,duration:.8,ease:"easeOut"},className:"bg-gradient-to-br from-[#D4B679]/20 to-[#7D5A02]/10 border-2 border-[#D4B679]/30 rounded-3xl p-8 mb-8 max-w-sm w-full relative overflow-hidden",children:[d.jsx(me.div,{animate:{opacity:[.3,.6,.3],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-br from-[#D4B679]/10 to-transparent rounded-3xl"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx(me.div,{animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"w-20 h-20 bg-[#D4B679]/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(EQ,{className:"w-10 h-10 text-[#D4B679]"})}),d.jsx("h2",{className:"text-2xl font-bold text-[#D4B679] mb-2",children:"Welcome Bonus"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(me.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:d.jsx(xQ,{className:"w-8 h-8 text-[#D4B679]"})}),d.jsx("span",{className:"text-3xl font-bold text-[#D4B679]",children:"1"}),d.jsx("span",{className:"text-xl text-[#D4B679]/80",children:"Lighter Point"})]}),d.jsx("p",{className:"text-sm text-[#D4B679]/70 leading-relaxed",children:"Your exclusive welcome bonus is ready to claim! Make your first deposit to unlock this reward."})]})]}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"flex items-center justify-center gap-4 mb-8 max-w-sm w-full",children:o.map((a,l)=>d.jsxs(me.div,{className:`flex flex-col items-center gap-2 ${r===l?"opacity-100":"opacity-50"}`,animate:{scale:r===l?1.1:1,opacity:r===l?1:.5},transition:{duration:.3},children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${r===l?"bg-[#D4B679]/30 border-2 border-[#D4B679]":"bg-[#D4B679]/10 border border-[#D4B679]/30"}`,children:d.jsx(a.icon,{className:"w-6 h-6 text-[#D4B679]"})}),d.jsx("span",{className:"text-xs text-[#D4B679]/70 text-center max-w-[80px]",children:a.text})]},l))}),d.jsx(me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.6},className:"w-full max-w-sm space-y-3",children:d.jsxs(Vt,{onClick:s,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl flex items-center justify-center gap-3 group relative overflow-hidden",children:[d.jsx(me.div,{animate:{x:[-100,100]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),d.jsx("span",{className:"relative z-10",children:"Claim My Bonus Now!"}),d.jsx(me.div,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:d.jsx(fhe,{className:"w-5 h-5 relative z-10"})})]})}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2,duration:.6},className:"text-center mt-6 max-w-sm",children:d.jsxs("p",{className:"text-[#D4B679]/60 text-sm leading-relaxed",children:[" Limited time offer for new members only!",d.jsx("br",{}),d.jsx("span",{className:"text-[#D4B679] font-semibold",children:"Start farming now to maximize your rewards."})]})}),[...Array(8)].map((a,l)=>d.jsx(me.div,{className:"absolute w-1 h-1 bg-[#D4B679]/40 rounded-full",style:{left:`${20+l*10}%`,top:`${30+l%3*20}%`},animate:{y:[-20,-40,-20],opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:3+l*.2,repeat:1/0,delay:l*.3,ease:"easeInOut"}},l))]})]})},FGt=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(!1),[i,s]=x.useState(!1),[o,a]=x.useState(null),{toast:l}=ma(),c=cr(),{user:u,authenticated:h,getAccessToken:f}=Bo(),p=localStorage.getItem(u.id),m=JSON.parse(p),g=m.wallet_address;bAe();const[y,w]=x.useState(""),[v,b]=x.useState(0),[A,E]=x.useState(0);x.useEffect(()=>{(async()=>{if(p){const L=JSON.parse(p);L.referral_code,w(L.id)}b(m.usdl_balance||0),E(m.staked_amount||0)})()},[g,u==null?void 0:u.id]);const N=(()=>{const H=parseFloat(t)||0,L=H/100*7.9,k=414,C=H/28450*100;return{weeklyLoss:L.toFixed(1),apy:k,poolShareLoss:C.toFixed(1)}})(),R=H=>{const L=(A*H/100).toFixed(2);e(L)},M=async()=>{var H,L,k,C,_,T,S,P,D;if(!t||parseFloat(t)<=0){l({title:"Invalid Amount",description:"Please enter a valid unstake amount",variant:"destructive"});return}if(!h||!(u!=null&&u.id)){l({title:"Authentication Required",description:"Please authenticate with Privy first",variant:"destructive"});return}if(!g){l({title:"Wallet Required",description:"Please connect your wallet first",variant:"destructive"});return}if(!y){l({title:"User Data Missing",description:"Please complete registration first",variant:"destructive"});return}r(!0);try{const O={wallet_address:g,amount:t,force_unlock:"false"},I={"X-Privy-User-Id":y,"X-Wallet-Address":g,"Content-Type":"application/json",Accept:"application/json"},B=await Yt.post("/api/unstake",O,{headers:I});if(B.status===200&&((H=B.data)!=null&&H.success)){if(a(B.data.data),s(!0),e(""),window.Audio)try{const Q=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApFn+DyvmMcBS2FzvLZiDYIG2m+7+WiTAwO");Q.volume=.6,Q.play().catch(()=>{})}catch{}}else l({title:"Unstake failed",description:((k=(L=B.data)==null?void 0:L.error)==null?void 0:k.message)||((C=B.data)==null?void 0:C.error)||"Unexpected response from server",variant:"destructive"})}catch(O){console.error(" Unstake error details:",{error:O,message:O.message,name:O.name,code:O.code,isAxiosError:Yt.isAxiosError(O)});let I="Network or server error",B="Unstake Error";if(Yt.isAxiosError(O))if(O.response){const Q=O.response.status,j=O.response.data;Q===400?(B="Invalid Request",(T=(_=j==null?void 0:j.detail)==null?void 0:_.error)!=null&&T.message?I=j.detail.error.message:(S=j==null?void 0:j.error)!=null&&S.message?I=j.error.message:j!=null&&j.error?I=j.error:j!=null&&j.message?I=j.message:I="Please check your input and try again"):Q===401?(B="Authentication Failed",I=((P=j==null?void 0:j.error)==null?void 0:P.message)||"Wallet authentication failed. Please reconnect your wallet and try again."):Q===404?(B="API Endpoint Not Found",I="The API endpoint is not available. Please check if your server is running."):Q>=500?(B="Server Error",I="Server is temporarily unavailable. Please try again later"):I=((D=j==null?void 0:j.error)==null?void 0:D.message)||(j==null?void 0:j.error)||(j==null?void 0:j.message)||`Server error (${Q})`}else O.request?(B="Connection Error",I="Unable to connect to server. Please check your internet connection."):I=O.message||"Failed to make request";else O.message&&O.message.includes("access token")?(B="Authentication Error",I="Failed to authenticate. Please try logging out and back in."):O instanceof Error?I=O.message:typeof O=="string"&&(I=O);l({title:B,description:I,variant:"destructive"})}finally{r(!1)}},F=()=>{s(!1),a(null)},W=()=>{s(!1),a(null),setTimeout(()=>{const H=document.querySelector('input[type="number"]');H&&H.focus()},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6 relative z-10",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>c("/farm"),className:"h-10 w-10 bg-golden-light rounded-full hover:bg-golden-light/90",children:d.jsx(ef,{className:"w-8 h-8 text-background"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-golden-light",children:"Unstake USDL"}),d.jsx("p",{className:"text-sm text-golden-light/80",children:"withdraw from farm"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Available to Unstake"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[A.toFixed(2)," USDL"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Current Balance"}),d.jsxs("span",{className:"text-golden-light font-bold",children:[v.toFixed(2)," USDL"]})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("label",{className:"text-golden-light text-lg font-semibold mb-4 block",children:"Unstake Amount:"}),d.jsxs("div",{className:"border-2 text-golden-light rounded-sm px-4 py-2 mb-4 flex items-center justify-between",children:[d.jsx(aC,{type:"number",value:t,onChange:H=>e(H.target.value),placeholder:"0.00",className:"bg-transparent border-none text-golden-light text-2xl font-bold focus-visible:ring-0 focus-visible:ring-offset-0 p-0 h-auto [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),d.jsx("span",{className:"text-golden-light text-md font-semibold ml-2",children:"USDL"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(Vt,{onClick:()=>R(25),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"25%"}),d.jsx(Vt,{onClick:()=>R(50),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"50%"}),d.jsx(Vt,{onClick:()=>R(75),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"75%"}),d.jsx(Vt,{onClick:()=>R(100),className:"bg-[#D4B679]/90 hover:bg-[#D4B679] text-background font-bold h-10",children:"MAX"})]})]}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6 relative z-10",children:d.jsx(Vt,{onClick:M,disabled:!t||parseFloat(t)<=0||parseFloat(t)>A||n||!h||!g||!y,className:"w-full h-14 bg-gradient-to-r from-[#7D5A02] to-[#A07715] hover:opacity-90 text-white text-lg font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2",children:n?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:d.jsx(_W,{className:"w-5 h-5"})}),"Unstaking..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ED,{className:"w-5 h-5"}),"Unstake Now"]})})}),t&&parseFloat(t)>0&&d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 mb-6 relative z-10",children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Impact of Unstaking:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Weekly Points Loss"}),d.jsxs("span",{className:"text-red-400 font-semibold",children:["-",N.weeklyLoss," points"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"You'll Receive"}),d.jsxs("span",{className:"text-green-400 font-semibold",children:["$",t," USDC"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Remaining Staked"}),d.jsxs("span",{className:"text-foreground font-semibold",children:["$",(A-parseFloat(t)).toFixed(2)," USDL"]})]})]})]}),d.jsxs(me.div,{className:"bg-card backdrop-blur-sm border border-border rounded-2xl p-4 relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[d.jsx("h3",{className:"text-golden-light text-lg font-semibold mb-4",children:"Pool Statistics:"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Total Staked"}),d.jsx("span",{className:"text-foreground font-semibold",children:"$28,450"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-golden-light font-extralight opacity-60",children:"Your Current Share"}),d.jsxs("span",{className:"text-foreground font-semibold",children:[(A/28450*100).toFixed(2),"%"]})]})]})]}),d.jsx(Id,{})]}),d.jsx(yke,{isOpen:i,onClose:F,data:o,onUnstakeAgain:W})]})},UGt=()=>{const t=cr(),e=[{title:"Getting Started",description:"Learn the basics of LighterFarm",icon:d.jsx($Ie,{className:"w-6 h-6"}),items:["How to create an account","Connecting your wallet","Making your first deposit","Understanding USDL tokens"]},{title:"Farming & Staking",description:"Maximize your rewards",icon:d.jsx(WIe,{className:"w-6 h-6"}),items:["How to stake USDL","Understanding APY rates","Unstaking process","Reward calculations"]},{title:"Trading Points",description:"Buy and sell Lighter Points",icon:d.jsx(LI,{className:"w-6 h-6"}),items:["How to buy points","Selling your points","Understanding price impact","Market analysis tools"]}],n=[{title:"Contact Support",description:"Get direct help from our team",icon:d.jsx(zIe,{className:"w-5 h-5"}),action:()=>window.open("mailto:bd@melloai.health","_blank")},{title:"Documentation",description:"Read detailed guides",icon:d.jsx(ghe,{className:"w-5 h-5"}),action:()=>window.open("https://docs.lighterfarm.com","_blank")}];return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-[#D4B679] rounded-full hover:bg-[#A07715]",children:d.jsx(ef,{className:"w-8 h-8 text-black"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-[#D4B679]",children:"Help and Support"}),d.jsx("p",{className:"text-sm text-[#D4B679]/80",children:"Get help and tutorials"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#a07715]/20 rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#a07715] rounded-full flex items-center justify-center",children:d.jsx(mhe,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-[#a07715]",children:"Need Help?"}),d.jsx("p",{className:"text-sm text-gray-400",children:"We're here to help you succeed"})]})]}),d.jsx("p",{className:"text-[#a07715] text-sm",children:"Find answers to common questions, watch tutorials, or contact our support team directly."})]}),d.jsxs(me.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Quick Actions"}),d.jsx("div",{className:"grid gap-3",children:n.map((r,i)=>d.jsxs(me.button,{onClick:r.action,className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4 hover:bg-[#3a3939] transition-colors group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center group-hover:bg-[#D4B679]/30 transition-colors",children:r.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:r.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:r.description})]}),d.jsx("div",{className:"w-6 h-6 bg-[#D4B679] rounded-full flex items-center justify-center",children:d.jsx(c3,{className:"w-3 h-3 text-black"})})]},i))})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Help Topics"}),d.jsx("div",{className:"space-y-4",children:e.map((r,i)=>d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+i*.1},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:r.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:r.description})]})]}),d.jsx("div",{className:"space-y-2",children:r.items.map((s,o)=>d.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-[#3a3939] transition-colors cursor-pointer",children:[d.jsx("div",{className:"w-2 h-2 bg-[#D4B679] rounded-full"}),d.jsx("span",{className:"text-gray-300 text-sm",children:s})]},o))})]},i))})]}),d.jsxs(me.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Frequently Asked Questions"}),d.jsx("div",{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"border-b border-[#D4B679]/10 pb-4",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"What is USDL?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"USDL is our platform token used for farming and earning rewards on LighterFarm."})]}),d.jsxs("div",{className:"border-b border-[#D4B679]/10 pb-4",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"How do I earn rewards?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"Stake your USDL tokens to earn points and participate in our farming ecosystem."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold mb-2",children:"Is my wallet secure?"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"Yes, we use industry-standard security measures and your private keys remain in your control."})]})]})})]}),d.jsx(Id,{})]})},zGt=()=>{const t=cr(),e=[{name:"Telegram",description:"Join our main community chat",icon:d.jsx("svg",{className:"w-8 h-8 ",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"})}),members:"12.5K",url:"https://t.me/+sKmppf_5gNo5YzRl",color:"bg-blue-500"},{name:"Twitter (X)",description:"Follow us for latest updates",icon:d.jsx("svg",{className:"w-6 h-6 ",viewBox:"0 0 23 24",fill:"currentColor",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),members:"8.2K",url:"https://x.com/LighterFarm",color:"bg-black"},{name:"Website",description:"Visit our official website",icon:d.jsx(MIe,{className:"w-6 h-6"}),members:"Official",url:"https://lighter.farm",color:"bg-[#D4B679]"}],n=[{title:"Community Rewards",description:"Earn points for active participation",icon:d.jsx(AQ,{className:"w-5 h-5"}),reward:"+50 points"},{title:"Daily Discussions",description:"Join daily market discussions",icon:d.jsx(LI,{className:"w-5 h-5"}),reward:"+10 points"},{title:"Event Notifications",description:"Get notified about special events",icon:d.jsx(TIe,{className:"w-5 h-5"}),reward:"Exclusive"}],r=[{type:"announcement",title:"New Staking Rewards Program",time:"2 hours ago",preview:"Introducing enhanced APY rates for long-term stakers..."},{type:"update",title:"Platform Maintenance Complete",time:"6 hours ago",preview:"All systems are now running smoothly after the scheduled update..."},{type:"event",title:"Community AMA Session",time:"1 day ago",preview:"Join us for a live Q&A session with the development team..."}],i=s=>{window.open(s,"_blank")};return d.jsxs(fu,{className:"bg-background min-h-screen pb-24 px-4",children:[d.jsxs("header",{className:"flex items-center justify-between py-6",children:[d.jsx(Vt,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"h-10 w-10 bg-[#D4B679] rounded-full hover:bg-[#A07715]",children:d.jsx(ef,{className:"w-8 h-8 text-black"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-xl font-bold text-[#D4B679]",children:"Community"}),d.jsx("p",{className:"text-sm text-[#D4B679]/80",children:"Join our telegram and X (formerly twitter)"})]}),d.jsx("img",{src:qr,alt:"",className:"h-8 w-auto"})]}),d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#a07715]/20 rounded-2xl p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-[#a07715] rounded-full flex items-center justify-center",children:d.jsx(AQ,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-[#a07715]",children:"Join Our Community"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Connect with fellow farmers"})]})]}),d.jsx("p",{className:"text-[#a07715] text-sm",children:"Be part of our growing community! Get the latest updates, participate in discussions, and earn rewards."})]}),d.jsxs(me.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Connect With Us"}),d.jsx("div",{className:"grid gap-3",children:e.map((s,o)=>d.jsxs(me.button,{onClick:()=>i(s.url),className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4 hover:bg-[#3a3939] transition-colors group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx("div",{className:"w-12 h-12 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:s.icon}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:s.name}),d.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),d.jsx("div",{className:"w-6 h-6 bg-[#D4B679] rounded-full flex items-center justify-center",children:d.jsx(c3,{className:"w-3 h-3 text-black"})})]},o))})]}),d.jsxs(me.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Community Benefits"}),d.jsx("div",{className:"grid gap-3",children:n.map((s,o)=>d.jsxs(me.div,{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-4 flex items-center gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+o*.1},children:[d.jsx("div",{className:"w-10 h-10 bg-[#D4B679]/20 rounded-full flex items-center justify-center",children:s.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold",children:s.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:s.description})]}),d.jsx("div",{className:"bg-[#D4B679]/10 text-gray-400 px-3 py-1 rounded-full text-xs font-extalight",children:s.reward})]},o))})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[d.jsx("h3",{className:"text-lg font-bold text-[#D4B679] mb-4",children:"Recent Updates"}),d.jsx("div",{className:"bg-[#2a2929] border border-[#D4B679]/20 rounded-xl p-6",children:d.jsx("div",{className:"space-y-4",children:r.map((s,o)=>d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-[#3a3939] transition-colors cursor-pointer",children:[d.jsx("div",{className:"w-8 h-8 bg-[#D4B679]/20 rounded-full flex items-center justify-center mt-1",children:d.jsx(sA,{className:"w-4 h-4 text-[#D4B679]"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h4",{className:"text-[#D4B679] font-semibold text-sm",children:s.title}),d.jsx("span",{className:"text-gray-500 text-xs",children:s.time})]}),d.jsx("p",{className:"text-gray-300 text-sm",children:s.preview})]})]},o))})})]}),d.jsx(Id,{})]})},WGt=new dPe,bc=({children:t})=>{const{authenticated:e,ready:n}=Bo(),r=Zp();return n?e?d.jsx(d.Fragment,{children:t}):d.jsx(DD,{to:"/",state:{from:r},replace:!0}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-golden-light mx-auto mb-4"}),d.jsx("p",{className:"text-golden-light font-extralight",children:"Loading..."})]})})},Vg=({children:t})=>{const{authenticated:e,ready:n}=Bo(),r=Zp();if(!n)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-golden-light mx-auto mb-4"}),d.jsx("p",{className:"text-golden-light font-extralight",children:"Loading..."})]})});if(e){const i=["/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"];if(r.pathname==="/")return d.jsx(DD,{to:"/dashboard",replace:!0});if(!i.includes(r.pathname))return d.jsx(DD,{to:"/dashboard",replace:!0})}return d.jsx(d.Fragment,{children:t})},HGt=({children:t})=>{const{authenticated:e,ready:n,user:r}=Bo(),i=cr(),s=Zp(),[o,a]=x.useState(!1),l=x.useRef(s.pathname),c=["/","/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"],u=["/welcome-congratulations","/dashboard","/deposit","/farm","unstake","/trade","/referrals","/profile","/help","/community","/history"],h=p=>c.includes(p),f=p=>u.some(m=>p.startsWith(m));return x.useEffect(()=>{var p,m;if(n&&!o){if(console.log("Auth state changed:",{authenticated:e,ready:n,user:!!r,currentPath:s.pathname,previousPath:l.current}),e&&r){const g=(m=(p=s.state)==null?void 0:p.from)==null?void 0:m.pathname;g&&f(g)?(console.log("Redirecting to intended protected destination:",g),i(g,{replace:!0})):s.pathname==="/"&&(console.log("Authenticated user on splash, redirecting to dashboard"),i("/dashboard",{replace:!0})),a(!0)}else if(!e&&n){const g=s.pathname,y=l.current;f(g)&&(console.log("Unauthenticated user accessing protected route:",g),h(y)?(console.log("Redirecting back to previous public page:",y),i(y,{replace:!0,state:{from:s}})):(console.log("Redirecting to splash page"),i("/",{replace:!0,state:{from:s}}))),a(!0)}}l.current=s.pathname},[e,n,r,i,s,o]),x.useEffect(()=>{const p=h(s.pathname),m=f(s.pathname),g=h(l.current),y=f(l.current);(p&&y||m&&g)&&a(!1)},[s.pathname]),d.jsx(d.Fragment,{children:t})},VGt=({children:t})=>{const{authenticated:e,ready:n}=Bo(),r=Zp(),i=cr(),[s,o]=x.useState("/"),a=["/","/onboarding/1","/onboarding/2","/onboarding/3","/wallet-connect","/wallet-connect/success","/invite-only"],l=["/welcome-congratulations","/dashboard","/deposit","/farm","unstake","/trade","/referrals","/profile","/help","/community","/history"],c=h=>a.includes(h),u=h=>l.some(f=>h.startsWith(f));return x.useEffect(()=>{c(r.pathname)&&(o(r.pathname),console.log("Updated last public route:",r.pathname))},[r.pathname]),x.useEffect(()=>{n&&!e&&u(r.pathname)&&(console.log("Intercepting navigation to protected route:",r.pathname),console.log("Redirecting back to last public route:",s),i(s,{replace:!0,state:{from:r,message:"Please complete authentication to access this page"}}))},[n,e,r.pathname,s,i]),d.jsx(d.Fragment,{children:t})},qGt=()=>d.jsx(VGt,{children:d.jsx(HGt,{children:d.jsxs(tRe,{children:[d.jsx(bi,{path:"/",element:d.jsx(Vg,{children:d.jsx($De,{})})}),d.jsx(bi,{path:"/onboarding/1",element:d.jsx(Vg,{children:d.jsx(RDe,{})})}),d.jsx(bi,{path:"/onboarding/2",element:d.jsx(Vg,{children:d.jsx(jDe,{})})}),d.jsx(bi,{path:"/onboarding/3",element:d.jsx(Vg,{children:d.jsx(ODe,{})})}),d.jsx(bi,{path:"/wallet-connect",element:d.jsx(Vg,{children:d.jsx(yOt,{})})}),d.jsx(bi,{path:"/wallet-connect/success",element:d.jsx(Vg,{children:d.jsx(JMt,{})})}),d.jsx(bi,{path:"/invite-only",element:d.jsx(Vg,{children:d.jsx(XMt,{})})}),d.jsx(bi,{path:"/welcome-congratulations",element:d.jsx(bc,{children:d.jsx(LGt,{})})}),d.jsx(bi,{path:"/dashboard",element:d.jsx(bc,{children:d.jsx(lDt,{})})}),d.jsx(bi,{path:"/deposit",element:d.jsx(bc,{children:d.jsx(HUt,{})})}),d.jsx(bi,{path:"/deposit/success",element:d.jsx(bc,{children:d.jsx(VUt,{})})}),d.jsx(bi,{path:"/farm",element:d.jsx(bc,{children:d.jsx(GUt,{})})}),d.jsx(bi,{path:"/unstake",element:d.jsx(bc,{children:d.jsx(FGt,{})})}),d.jsx(bi,{path:"/trade",element:d.jsx(bc,{children:d.jsx(QUt,{})})}),d.jsx(bi,{path:"/referrals",element:d.jsx(bc,{children:d.jsx(XUt,{})})}),d.jsx(bi,{path:"/history",element:d.jsx(bc,{children:d.jsx(tzt,{})})}),d.jsx(bi,{path:"/profile",element:d.jsx(bc,{children:d.jsx(ezt,{})})}),d.jsx(bi,{path:"/help",element:d.jsx(bc,{children:d.jsx(UGt,{})})}),d.jsx(bi,{path:"/community",element:d.jsx(bc,{children:d.jsx(zGt,{})})}),d.jsx(bi,{path:"*",element:d.jsx(nzt,{})})]})})}),GGt=()=>d.jsxs(d.Fragment,{children:[d.jsx(BGt,{}),d.jsx(mOt,{appId:rzt,config:{appearance:{theme:"dark",accentColor:"#D4B679",logo:qr},loginMethods:["email","wallet"],embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"}}},children:d.jsx(fPe,{client:WGt,children:d.jsxs(BNe,{children:[d.jsx(ITe,{}),d.jsx(o$e,{}),d.jsx(iRe,{children:d.jsx(qGt,{})})]})})})]});t_e.actions.ready();Ode(document.getElementById("root")).render(d.jsx(GGt,{}));export{Lp as $,MFe as A,UFe as B,Ga as C,bUe as D,Vze as E,IB as F,Age as G,Kl as H,lg as I,Ew as J,rl as K,rT as L,zYe as M,t1e as N,Ri as O,C3 as P,WH as Q,Rp as R,oWe as S,vZt as T,fKt as U,rs as V,Dp as W,k3 as X,zye as Y,Bp as Z,ur as _,Mme as a,Zd as a$,No as a0,n5e as a1,aie as a2,C3t as a3,A3t as a4,Rge as a5,tQe as a6,gx as a7,ki as a8,d1 as a9,B2e as aA,sF as aB,ya as aC,al as aD,sc as aE,D$ as aF,h5t as aG,c3t as aH,B3t as aI,KA as aJ,du as aK,v6t as aL,Jq as aM,L$ as aN,eE as aO,Nw as aP,xq as aQ,mh as aR,sre as aS,Lxe as aT,M1t as aU,Wp as aV,Y1 as aW,Om as aX,B$ as aY,Jd as aZ,Rc as a_,mp as aa,Lme as ab,hi as ac,XLe as ad,x3 as ae,_Kt as af,cd as ag,vA as ah,NH as ai,Fa as aj,LHe as ak,r1e as al,n8 as am,x9 as an,ov as ao,CB as ap,ore as aq,$w as ar,Nh as as,L2e as at,tt as au,G1 as av,Eq as aw,FA as ax,Rwt as ay,upt as az,wme as b,kd as b0,OH as b1,mT as b2,eWe as b3,pT as b4,H6 as b5,K2e as b6,BYt as b7,A$ as b8,q8 as b9,a7 as ba,K1 as bb,o7 as bc,LYt as bd,UYt as be,imt as bf,BA as bg,v3 as c,ZFe as d,yKt as e,yw as f,oye as g,ud as h,Xa as i,CU as j,Ooe as k,Br as l,Gs as m,$t as n,Qc as o,w3 as p,yWe as q,zs as r,hx as s,pd as t,hme as u,Pt as v,QB as w,Ue as x,XNt as y,xA as z};
